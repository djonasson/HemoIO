var Nj=t=>{throw TypeError(t)};var _S=(t,e,n)=>e.has(t)||Nj("Cannot "+n);var ir=(t,e,n)=>(_S(t,e,"read from private field"),n?n.call(t):e.get(t)),cs=(t,e,n)=>e.has(t)?Nj("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),wa=(t,e,n,r)=>(_S(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),us=(t,e,n)=>(_S(t,e,"access private method"),n);var Ij=(t,e,n,r)=>({set _(i){wa(t,e,i,n)},get _(){return ir(t,e,r)}});function Dq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var jq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ua(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ES={exports:{}},Yp={};var zj;function Rq(){if(zj)return Yp;zj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Yp.Fragment=e,Yp.jsx=n,Yp.jsxs=n,Yp}var Bj;function Lq(){return Bj||(Bj=1,ES.exports=Rq()),ES.exports}var g=Lq(),TS={exports:{}},$t={};var $j;function Nq(){if($j)return $t;$j=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),m=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=m&&z[m]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function C(z,Y,ne){this.props=z,this.context=Y,this.refs=S,this.updater=ne||b}C.prototype.isReactComponent={},C.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function T(){}T.prototype=C.prototype;function E(z,Y,ne){this.props=z,this.context=Y,this.refs=S,this.updater=ne||b}var k=E.prototype=new T;k.constructor=E,x(k,C.prototype),k.isPureReactComponent=!0;var M=Array.isArray;function D(){}var j={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function B(z,Y,ne){var ie=ne.ref;return{$$typeof:t,type:z,key:Y,ref:ie!==void 0?ie:null,props:ne}}function G(z,Y){return B(z.type,Y,z.props)}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function K(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ne){return Y[ne]})}var te=/\/+/g;function X(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?K(""+z.key):Y.toString(36)}function J(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(D,D):(z.status="pending",z.then(function(Y){z.status==="pending"&&(z.status="fulfilled",z.value=Y)},function(Y){z.status==="pending"&&(z.status="rejected",z.reason=Y)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function L(z,Y,ne,ie,ue){var we=typeof z;(we==="undefined"||we==="boolean")&&(z=null);var be=!1;if(z===null)be=!0;else switch(we){case"bigint":case"string":case"number":be=!0;break;case"object":switch(z.$$typeof){case t:case e:be=!0;break;case f:return be=z._init,L(be(z._payload),Y,ne,ie,ue)}}if(be)return ue=ue(z),be=ie===""?"."+X(z,0):ie,M(ue)?(ne="",be!=null&&(ne=be.replace(te,"$&/")+"/"),L(ue,Y,ne,"",function(se){return se})):ue!=null&&(V(ue)&&(ue=G(ue,ne+(ue.key==null||z&&z.key===ue.key?"":(""+ue.key).replace(te,"$&/")+"/")+be)),Y.push(ue)),1;be=0;var qe=ie===""?".":ie+":";if(M(z))for(var ae=0;ae<z.length;ae++)ie=z[ae],we=qe+X(ie,ae),be+=L(ie,Y,ne,we,ue);else if(ae=v(z),typeof ae=="function")for(z=ae.call(z),ae=0;!(ie=z.next()).done;)ie=ie.value,we=qe+X(ie,ae++),be+=L(ie,Y,ne,we,ue);else if(we==="object"){if(typeof z.then=="function")return L(J(z),Y,ne,ie,ue);throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return be}function U(z,Y,ne){if(z==null)return z;var ie=[],ue=0;return L(z,ie,"","",function(we){return Y.call(ne,we,ue++)}),ie}function F(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(ne){(z._status===0||z._status===-1)&&(z._status=1,z._result=ne)},function(ne){(z._status===0||z._status===-1)&&(z._status=2,z._result=ne)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var q=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},W={map:U,forEach:function(z,Y,ne){U(z,function(){Y.apply(this,arguments)},ne)},count:function(z){var Y=0;return U(z,function(){Y++}),Y},toArray:function(z){return U(z,function(Y){return Y})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return $t.Activity=h,$t.Children=W,$t.Component=C,$t.Fragment=n,$t.Profiler=i,$t.PureComponent=E,$t.StrictMode=r,$t.Suspense=c,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,$t.__COMPILER_RUNTIME={__proto__:null,c:function(z){return j.H.useMemoCache(z)}},$t.cache=function(z){return function(){return z.apply(null,arguments)}},$t.cacheSignal=function(){return null},$t.cloneElement=function(z,Y,ne){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ie=x({},z.props),ue=z.key;if(Y!=null)for(we in Y.key!==void 0&&(ue=""+Y.key),Y)!I.call(Y,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Y.ref===void 0||(ie[we]=Y[we]);var we=arguments.length-2;if(we===1)ie.children=ne;else if(1<we){for(var be=Array(we),qe=0;qe<we;qe++)be[qe]=arguments[qe+2];ie.children=be}return B(z.type,ue,ie)},$t.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:a,_context:z},z},$t.createElement=function(z,Y,ne){var ie,ue={},we=null;if(Y!=null)for(ie in Y.key!==void 0&&(we=""+Y.key),Y)I.call(Y,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ue[ie]=Y[ie]);var be=arguments.length-2;if(be===1)ue.children=ne;else if(1<be){for(var qe=Array(be),ae=0;ae<be;ae++)qe[ae]=arguments[ae+2];ue.children=qe}if(z&&z.defaultProps)for(ie in be=z.defaultProps,be)ue[ie]===void 0&&(ue[ie]=be[ie]);return B(z,we,ue)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(z){return{$$typeof:s,render:z}},$t.isValidElement=V,$t.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:F}},$t.memo=function(z,Y){return{$$typeof:d,type:z,compare:Y===void 0?null:Y}},$t.startTransition=function(z){var Y=j.T,ne={};j.T=ne;try{var ie=z(),ue=j.S;ue!==null&&ue(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(D,q)}catch(we){q(we)}finally{Y!==null&&ne.types!==null&&(Y.types=ne.types),j.T=Y}},$t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},$t.use=function(z){return j.H.use(z)},$t.useActionState=function(z,Y,ne){return j.H.useActionState(z,Y,ne)},$t.useCallback=function(z,Y){return j.H.useCallback(z,Y)},$t.useContext=function(z){return j.H.useContext(z)},$t.useDebugValue=function(){},$t.useDeferredValue=function(z,Y){return j.H.useDeferredValue(z,Y)},$t.useEffect=function(z,Y){return j.H.useEffect(z,Y)},$t.useEffectEvent=function(z){return j.H.useEffectEvent(z)},$t.useId=function(){return j.H.useId()},$t.useImperativeHandle=function(z,Y,ne){return j.H.useImperativeHandle(z,Y,ne)},$t.useInsertionEffect=function(z,Y){return j.H.useInsertionEffect(z,Y)},$t.useLayoutEffect=function(z,Y){return j.H.useLayoutEffect(z,Y)},$t.useMemo=function(z,Y){return j.H.useMemo(z,Y)},$t.useOptimistic=function(z,Y){return j.H.useOptimistic(z,Y)},$t.useReducer=function(z,Y,ne){return j.H.useReducer(z,Y,ne)},$t.useRef=function(z){return j.H.useRef(z)},$t.useState=function(z){return j.H.useState(z)},$t.useSyncExternalStore=function(z,Y,ne){return j.H.useSyncExternalStore(z,Y,ne)},$t.useTransition=function(){return j.H.useTransition()},$t.version="19.2.4",$t}var Fj;function Th(){return Fj||(Fj=1,TS.exports=Nq()),TS.exports}var w=Th();const sr=ua(w),bT=Dq({__proto__:null,default:sr},[w]);var kS={exports:{}},Kp={},PS={exports:{}},OS={};var Uj;function Iq(){return Uj||(Uj=1,(function(t){function e(L,U){var F=L.length;L.push(U);e:for(;0<F;){var q=F-1>>>1,W=L[q];if(0<i(W,U))L[q]=U,L[F]=W,F=q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var U=L[0],F=L.pop();if(F!==U){L[0]=F;e:for(var q=0,W=L.length,z=W>>>1;q<z;){var Y=2*(q+1)-1,ne=L[Y],ie=Y+1,ue=L[ie];if(0>i(ne,F))ie<W&&0>i(ue,ne)?(L[q]=ue,L[ie]=F,q=ie):(L[q]=ne,L[Y]=F,q=Y);else if(ie<W&&0>i(ue,F))L[q]=ue,L[ie]=F,q=ie;else break e}}return U}function i(L,U){var F=L.sortIndex-U.sortIndex;return F!==0?F:L.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var c=[],d=[],f=1,h=null,m=3,v=!1,b=!1,x=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function k(L){for(var U=n(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=L)r(d),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(d)}}function M(L){if(x=!1,k(L),!b)if(n(c)!==null)b=!0,D||(D=!0,K());else{var U=n(d);U!==null&&J(M,U.startTime-L)}}var D=!1,j=-1,I=5,B=-1;function G(){return S?!0:!(t.unstable_now()-B<I)}function V(){if(S=!1,D){var L=t.unstable_now();B=L;var U=!0;try{e:{b=!1,x&&(x=!1,T(j),j=-1),v=!0;var F=m;try{t:{for(k(L),h=n(c);h!==null&&!(h.expirationTime>L&&G());){var q=h.callback;if(typeof q=="function"){h.callback=null,m=h.priorityLevel;var W=q(h.expirationTime<=L);if(L=t.unstable_now(),typeof W=="function"){h.callback=W,k(L),U=!0;break t}h===n(c)&&r(c),k(L)}else r(c);h=n(c)}if(h!==null)U=!0;else{var z=n(d);z!==null&&J(M,z.startTime-L),U=!1}}break e}finally{h=null,m=F,v=!1}U=void 0}}finally{U?K():D=!1}}}var K;if(typeof E=="function")K=function(){E(V)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,X=te.port2;te.port1.onmessage=V,K=function(){X.postMessage(null)}}else K=function(){C(V,0)};function J(L,U){j=C(function(){L(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var F=m;m=U;try{return L()}finally{m=F}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(L,U){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=m;m=L;try{return U()}finally{m=F}},t.unstable_scheduleCallback=function(L,U,F){var q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?q+F:q):F=q,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,L={id:f++,callback:U,priorityLevel:L,startTime:F,expirationTime:W,sortIndex:-1},F>q?(L.sortIndex=F,e(d,L),n(c)===null&&L===n(d)&&(x?(T(j),j=-1):x=!0,J(M,F-q))):(L.sortIndex=W,e(c,L),b||v||(b=!0,D||(D=!0,K()))),L},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(L){var U=m;return function(){var F=m;m=U;try{return L.apply(this,arguments)}finally{m=F}}}})(OS)),OS}var Hj;function zq(){return Hj||(Hj=1,PS.exports=Iq()),PS.exports}var MS={exports:{}},$i={};var Vj;function Bq(){if(Vj)return $i;Vj=1;var t=Th();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:c,containerInfo:d,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return $i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$i.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(c,d,null,f)},$i.flushSync=function(c){var d=o.T,f=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=d,r.p=f,r.d.f()}},$i.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},$i.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},$i.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,h=s(f,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:v}):f==="script"&&r.d.X(c,{crossOrigin:h,integrity:m,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},$i.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=s(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},$i.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,h=s(f,d.crossOrigin);r.d.L(c,f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},$i.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=s(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},$i.requestFormReset=function(c){r.d.r(c)},$i.unstable_batchedUpdates=function(c,d){return c(d)},$i.useFormState=function(c,d,f){return o.H.useFormState(c,d,f)},$i.useFormStatus=function(){return o.H.useHostTransitionStatus()},$i.version="19.2.4",$i}var qj;function N5(){if(qj)return MS.exports;qj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),MS.exports=Bq(),MS.exports}var Gj;function $q(){if(Gj)return Kp;Gj=1;var t=zq(),e=Th(),n=N5();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function s(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(r(188))}function d(l){var u=l.alternate;if(!u){if(u=a(l),u===null)throw Error(r(188));return u!==l?null:l}for(var p=l,y=u;;){var _=p.return;if(_===null)break;var P=_.alternate;if(P===null){if(y=_.return,y!==null){p=y;continue}break}if(_.child===P.child){for(P=_.child;P;){if(P===p)return c(_),l;if(P===y)return c(_),u;P=P.sibling}throw Error(r(188))}if(p.return!==y.return)p=_,y=P;else{for(var $=!1,Q=_.child;Q;){if(Q===p){$=!0,p=_,y=P;break}if(Q===y){$=!0,y=_,p=P;break}Q=Q.sibling}if(!$){for(Q=P.child;Q;){if(Q===p){$=!0,p=P,y=_;break}if(Q===y){$=!0,y=P,p=_;break}Q=Q.sibling}if(!$)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:u}function f(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=f(l),u!==null)return u;l=l.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),E=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function K(l){return l===null||typeof l!="object"?null:(l=V&&l[V]||l["@@iterator"],typeof l=="function"?l:null)}var te=Symbol.for("react.client.reference");function X(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===te?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case x:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case B:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case b:return"Portal";case E:return l.displayName||"Context";case T:return(l._context.displayName||"Context")+".Consumer";case k:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case j:return u=l.displayName||null,u!==null?u:X(l.type)||"Memo";case I:u=l._payload,l=l._init;try{return X(l(u))}catch{}}return null}var J=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},q=[],W=-1;function z(l){return{current:l}}function Y(l){0>W||(l.current=q[W],q[W]=null,W--)}function ne(l,u){W++,q[W]=l.current,l.current=u}var ie=z(null),ue=z(null),we=z(null),be=z(null);function qe(l,u){switch(ne(we,u),ne(ue,l),ne(ie,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?aj(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=aj(u),l=oj(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}Y(ie),ne(ie,l)}function ae(){Y(ie),Y(ue),Y(we)}function se(l){l.memoizedState!==null&&ne(be,l);var u=ie.current,p=oj(u,l.type);u!==p&&(ne(ue,l),ne(ie,p))}function Le(l){ue.current===l&&(Y(ie),Y(ue)),be.current===l&&(Y(be),Hp._currentValue=F)}var de,He;function Re(l){if(de===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);de=u&&u[1]||"",He=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+l+He}var ct=!1;function Qe(l,u){if(!l||ct)return"";ct=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(Me){var ke=Me}Reflect.construct(l,[],Ye)}else{try{Ye.call()}catch(Me){ke=Me}l.call(Ye.prototype)}}else{try{throw Error()}catch(Me){ke=Me}(Ye=l())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(Me){if(Me&&ke&&typeof Me.stack=="string")return[Me.stack,ke.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=y.DetermineComponentFrameRoot(),$=P[0],Q=P[1];if($&&Q){var le=$.split(`
`),Ee=Q.split(`
`);for(_=y=0;y<le.length&&!le[y].includes("DetermineComponentFrameRoot");)y++;for(;_<Ee.length&&!Ee[_].includes("DetermineComponentFrameRoot");)_++;if(y===le.length||_===Ee.length)for(y=le.length-1,_=Ee.length-1;1<=y&&0<=_&&le[y]!==Ee[_];)_--;for(;1<=y&&0<=_;y--,_--)if(le[y]!==Ee[_]){if(y!==1||_!==1)do if(y--,_--,0>_||le[y]!==Ee[_]){var Ie=`
`+le[y].replace(" at new "," at ");return l.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",l.displayName)),Ie}while(1<=y&&0<=_);break}}}finally{ct=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?Re(p):""}function Ue(l,u){switch(l.tag){case 26:case 27:case 5:return Re(l.type);case 16:return Re("Lazy");case 13:return l.child!==u&&u!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return Qe(l.type,!1);case 11:return Qe(l.type.render,!1);case 1:return Qe(l.type,!0);case 31:return Re("Activity");default:return""}}function We(l){try{var u="",p=null;do u+=Ue(l,p),p=l,l=l.return;while(l);return u}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var rt=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,St=t.unstable_cancelCallback,ft=t.unstable_shouldYield,vt=t.unstable_requestPaint,Be=t.unstable_now,at=t.unstable_getCurrentPriorityLevel,Ge=t.unstable_ImmediatePriority,Ve=t.unstable_UserBlockingPriority,Jt=t.unstable_NormalPriority,bn=t.unstable_LowPriority,Vt=t.unstable_IdlePriority,Tn=t.log,Yt=t.unstable_setDisableYieldValue,Xn=null,xn=null;function Nt(l){if(typeof Tn=="function"&&Yt(l),xn&&typeof xn.setStrictMode=="function")try{xn.setStrictMode(Xn,l)}catch{}}var et=Math.clz32?Math.clz32:Jr,gr=Math.log,wn=Math.LN2;function Jr(l){return l>>>=0,l===0?32:31-(gr(l)/wn|0)|0}var nt=256,un=262144,ur=4194304;function kn(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function ha(l,u,p){var y=l.pendingLanes;if(y===0)return 0;var _=0,P=l.suspendedLanes,$=l.pingedLanes;l=l.warmLanes;var Q=y&134217727;return Q!==0?(y=Q&~P,y!==0?_=kn(y):($&=Q,$!==0?_=kn($):p||(p=Q&~l,p!==0&&(_=kn(p))))):(Q=y&~P,Q!==0?_=kn(Q):$!==0?_=kn($):p||(p=y&~l,p!==0&&(_=kn(p)))),_===0?0:u!==0&&u!==_&&(u&P)===0&&(P=_&-_,p=u&-u,P>=p||P===32&&(p&4194048)!==0)?u:_}function ei(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Oa(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mn(){var l=ur;return ur<<=1,(ur&62914560)===0&&(ur=4194304),l}function Hr(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function hn(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Xa(l,u,p,y,_,P){var $=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var Q=l.entanglements,le=l.expirationTimes,Ee=l.hiddenUpdates;for(p=$&~p;0<p;){var Ie=31-et(p),Ye=1<<Ie;Q[Ie]=0,le[Ie]=-1;var ke=Ee[Ie];if(ke!==null)for(Ee[Ie]=null,Ie=0;Ie<ke.length;Ie++){var Me=ke[Ie];Me!==null&&(Me.lane&=-536870913)}p&=~Ye}y!==0&&Za(l,y,0),P!==0&&_===0&&l.tag!==0&&(l.suspendedLanes|=P&~($&~u))}function Za(l,u,p){l.pendingLanes|=u,l.suspendedLanes&=~u;var y=31-et(u);l.entangledLanes|=u,l.entanglements[y]=l.entanglements[y]|1073741824|p&261930}function lt(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var y=31-et(p),_=1<<y;_&u|l[y]&u&&(l[y]|=u),p&=~_}}function Rt(l,u){var p=u&-u;return p=(p&42)!==0?1:nn(p),(p&(l.suspendedLanes|u))!==0?0:p}function nn(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Vr(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function qr(){var l=U.p;return l!==0?l:(l=window.event,l===void 0?32:Pj(l.type))}function Ma(l,u){var p=U.p;try{return U.p=l,u()}finally{U.p=p}}var ti=Math.random().toString(36).slice(2),fn="__reactFiber$"+ti,Un="__reactProps$"+ti,Pr="__reactContainer$"+ti,Qa="__reactEvents$"+ti,su="__reactListeners$"+ti,pa="__reactHandles$"+ti,zt="__reactResources$"+ti,Nn="__reactMarker$"+ti;function yi(l){delete l[fn],delete l[Un],delete l[Qa],delete l[su],delete l[pa]}function qt(l){var u=l[fn];if(u)return u;for(var p=l.parentNode;p;){if(u=p[Pr]||p[fn]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=hj(l);l!==null;){if(p=l[fn])return p;l=hj(l)}return u}l=p,p=l.parentNode}return null}function pn(l){if(l=l[fn]||l[Pr]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function Zi(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function ni(l){var u=l[zt];return u||(u=l[zt]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Cr(l){l[Nn]=!0}var Us=new Set,lu={};function Mo(l,u){Jo(l,u),Jo(l+"Capture",u)}function Jo(l,u){for(lu[l]=u,l=0;l<u.length;l++)Us.add(u[l])}var Hs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xh={},cu={};function Vg(l){return rt.call(cu,l)?!0:rt.call(Xh,l)?!1:Hs.test(l)?cu[l]=!0:(Xh[l]=!0,!1)}function Xt(l,u,p){if(Vg(u))if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+p)}}function uu(l,u,p){if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+p)}}function Ja(l,u,p,y){if(y===null)l.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(u,p,""+y)}}function bi(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ql(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function qg(l,u,p){var y=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var _=y.get,P=y.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return _.call(this)},set:function($){p=""+$,P.call(this,$)}}),Object.defineProperty(l,u,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function($){p=""+$},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Id(l){if(!l._valueTracker){var u=Ql(l)?"checked":"value";l._valueTracker=qg(l,u,""+l[u])}}function Zh(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),y="";return l&&(y=Ql(l)?l.checked?"true":"false":l.value),l=y,l!==p?(u.setValue(l),!0):!1}function Sn(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var du=/[\n"\\]/g;function ri(l){return l.replace(du,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function es(l,u,p,y,_,P,$,Q){l.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?l.type=$:l.removeAttribute("type"),u!=null?$==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+bi(u)):l.value!==""+bi(u)&&(l.value=""+bi(u)):$!=="submit"&&$!=="reset"||l.removeAttribute("value"),u!=null?fu(l,$,bi(u)):p!=null?fu(l,$,bi(p)):y!=null&&l.removeAttribute("value"),_==null&&P!=null&&(l.defaultChecked=!!P),_!=null&&(l.checked=_&&typeof _!="function"&&typeof _!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?l.name=""+bi(Q):l.removeAttribute("name")}function zd(l,u,p,y,_,P,$,Q){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(l.type=P),u!=null||p!=null){if(!(P!=="submit"&&P!=="reset"||u!=null)){Id(l);return}p=p!=null?""+bi(p):"",u=u!=null?""+bi(u):p,Q||u===l.value||(l.value=u),l.defaultValue=u}y=y??_,y=typeof y!="function"&&typeof y!="symbol"&&!!y,l.checked=Q?l.checked:!!y,l.defaultChecked=!!y,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(l.name=$),Id(l)}function fu(l,u,p){u==="number"&&Sn(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function Do(l,u,p,y){if(l=l.options,u){u={};for(var _=0;_<p.length;_++)u["$"+p[_]]=!0;for(p=0;p<l.length;p++)_=u.hasOwnProperty("$"+l[p].value),l[p].selected!==_&&(l[p].selected=_),_&&y&&(l[p].defaultSelected=!0)}else{for(p=""+bi(p),u=null,_=0;_<l.length;_++){if(l[_].value===p){l[_].selected=!0,y&&(l[_].defaultSelected=!0);return}u!==null||l[_].disabled||(u=l[_])}u!==null&&(u.selected=!0)}}function Qh(l,u,p){if(u!=null&&(u=""+bi(u),u!==l.value&&(l.value=u),p==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=p!=null?""+bi(p):""}function hu(l,u,p,y){if(u==null){if(y!=null){if(p!=null)throw Error(r(92));if(J(y)){if(1<y.length)throw Error(r(93));y=y[0]}p=y}p==null&&(p=""),u=p}p=bi(u),l.defaultValue=p,y=l.textContent,y===p&&y!==""&&y!==null&&(l.value=y),Id(l)}function Vs(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var Rw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function on(l,u,p){var y=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":y?l.setProperty(u,p):typeof p!="number"||p===0||Rw.has(u)?u==="float"?l.cssFloat=p:l[u]=(""+p).trim():l[u]=p+"px"}function Jh(l,u,p){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?l.setProperty(y,""):y==="float"?l.cssFloat="":l[y]="");for(var _ in u)y=u[_],u.hasOwnProperty(_)&&p[_]!==y&&on(l,_,y)}else for(var P in u)u.hasOwnProperty(P)&&on(l,P,u[P])}function ep(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jo(l){return Qi.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function ma(){}var eo=null;function Bd(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var qs=null,Zn=null;function Da(l){var u=pn(l);if(u&&(l=u.stateNode)){var p=l[Un]||null;e:switch(l=u.stateNode,u.type){case"input":if(es(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ri(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var y=p[u];if(y!==l&&y.form===l.form){var _=y[Un]||null;if(!_)throw Error(r(90));es(y,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(u=0;u<p.length;u++)y=p[u],y.form===l.form&&Zh(y)}break e;case"textarea":Qh(l,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Do(l,!!p.multiple,u,!1)}}}var Gs=!1;function Jl(l,u,p){if(Gs)return l(u,p);Gs=!0;try{var y=l(u);return y}finally{if(Gs=!1,(qs!==null||Zn!==null)&&(Rv(),qs&&(u=qs,l=Zn,Zn=qs=null,Da(u),l)))for(u=0;u<l.length;u++)Da(l[u])}}function Ys(l,u){var p=l.stateNode;if(p===null)return null;var y=p[Un]||null;if(y===null)return null;p=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tp=!1;if(ii)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){tp=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{tp=!1}var to=null,$d=null,ec=null;function tc(){if(ec)return ec;var l,u=$d,p=u.length,y,_="value"in to?to.value:to.textContent,P=_.length;for(l=0;l<p&&u[l]===_[l];l++);var $=p-l;for(y=1;y<=$&&u[p-y]===_[P-y];y++);return ec=_.slice(l,1<y?1-y:void 0)}function nc(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function pu(){return!0}function Gg(){return!1}function Or(l){function u(p,y,_,P,$){this._reactName=p,this._targetInst=_,this.type=y,this.nativeEvent=P,this.target=$,this.currentTarget=null;for(var Q in l)l.hasOwnProperty(Q)&&(p=l[Q],this[Q]=p?p(P):P[Q]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?pu:Gg,this.isPropagationStopped=Gg,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),u}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fd=Or(Ks),ts=h({},Ks,{view:0,detail:0}),Ud=Or(ts),mu,np,gu,Hd=h({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==gu&&(gu&&l.type==="mousemove"?(mu=l.screenX-gu.screenX,np=l.screenY-gu.screenY):np=mu=0,gu=l),mu)},movementY:function(l){return"movementY"in l?l.movementY:np}}),Vd=Or(Hd),rp=h({},Hd,{dataTransfer:0}),Yg=Or(rp),qd=h({},ts,{relatedTarget:0}),rc=Or(qd),Gd=h({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Kg=Or(Gd),Nw=h({},Ks,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),ic=Or(Nw),ip=h({},Ks,{data:0}),Yd=Or(ip),ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ai={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=ai[l])?!!u[l]:!1}function Ws(){return vu}var Wg=h({},ts,{key:function(l){if(l.key){var u=ap[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=nc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?op[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(l){return l.type==="keypress"?nc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?nc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Kd=Or(Wg),Xg=h({},Hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sp=Or(Xg),Wd=h({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),lp=Or(Wd),Xs=h({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),cp=Or(Xs),up=h({},Hd,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Xd=Or(up),dp=h({},Ks,{newState:0,oldState:0}),Zg=Or(dp),Iw=[9,13,27,32],yu=ii&&"CompositionEvent"in window,ns=null;ii&&"documentMode"in document&&(ns=document.documentMode);var zw=ii&&"TextEvent"in window&&!ns,Zd=ii&&(!yu||ns&&8<ns&&11>=ns),Qd=" ",Qg=!1;function fp(l,u){switch(l){case"keyup":return Iw.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jg(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Zs=!1;function ev(l,u){switch(l){case"compositionend":return Jg(u);case"keypress":return u.which!==32?null:(Qg=!0,Qd);case"textInput":return l=u.data,l===Qd&&Qg?null:l;default:return null}}function Bw(l,u){if(Zs)return l==="compositionend"||!yu&&fp(l,u)?(l=tc(),ec=$d=to=null,Zs=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Zd&&u.locale!=="ko"?null:u.data;default:return null}}var tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jd(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!tv[l.type]:u==="textarea"}function hp(l,u,p,y){qs?Zn?Zn.push(y):Zn=[y]:qs=y,u=Fv(u,"onChange"),0<u.length&&(p=new Fd("onChange","change",null,p,y),l.push({event:p,listeners:u}))}var ac=null,bu=null;function $w(l){JD(l,0)}function ef(l){var u=Zi(l);if(Zh(u))return l}function xu(l,u){if(l==="change")return u}var no=!1;if(ii){var Qn;if(ii){var oc="oninput"in document;if(!oc){var Qs=document.createElement("div");Qs.setAttribute("oninput","return;"),oc=typeof Qs.oninput=="function"}Qn=oc}else Qn=!1;no=Qn&&(!document.documentMode||9<document.documentMode)}function nv(){ac&&(ac.detachEvent("onpropertychange",tf),bu=ac=null)}function tf(l){if(l.propertyName==="value"&&ef(bu)){var u=[];hp(u,bu,l,Bd(l)),Jl($w,u)}}function rv(l,u,p){l==="focusin"?(nv(),ac=u,bu=p,ac.attachEvent("onpropertychange",tf)):l==="focusout"&&nv()}function Js(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ef(bu)}function pp(l,u){if(l==="click")return ef(u)}function sc(l,u){if(l==="input"||l==="change")return ef(u)}function rs(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var zi=typeof Object.is=="function"?Object.is:rs;function A(l,u){if(zi(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),y=Object.keys(u);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var _=p[y];if(!rt.call(u,_)||!zi(l[_],u[_]))return!1}return!0}function O(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function R(l,u){var p=O(l);l=0;for(var y;p;){if(p.nodeType===3){if(y=l+p.textContent.length,l<=u&&y>=u)return{node:p,offset:u-l};l=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=O(p)}}function N(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?N(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function H(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Sn(l.document);u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=Sn(l.document)}return u}function Z(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var ee=ii&&"documentMode"in document&&11>=document.documentMode,re=null,fe=null,Se=null,he=!1;function ce(l,u,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;he||re==null||re!==Sn(y)||(y=re,"selectionStart"in y&&Z(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Se&&A(Se,y)||(Se=y,y=Fv(fe,"onSelect"),0<y.length&&(u=new Fd("onSelect","select",null,u,p),l.push({event:u,listeners:y}),u.target=re)))}function ge(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var ye={animationend:ge("Animation","AnimationEnd"),animationiteration:ge("Animation","AnimationIteration"),animationstart:ge("Animation","AnimationStart"),transitionrun:ge("Transition","TransitionRun"),transitionstart:ge("Transition","TransitionStart"),transitioncancel:ge("Transition","TransitionCancel"),transitionend:ge("Transition","TransitionEnd")},pe={},me={};ii&&(me=document.createElement("div").style,"AnimationEvent"in window||(delete ye.animationend.animation,delete ye.animationiteration.animation,delete ye.animationstart.animation),"TransitionEvent"in window||delete ye.transitionend.transition);function Ae(l){if(pe[l])return pe[l];if(!ye[l])return l;var u=ye[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in me)return pe[l]=u[p];return l}var Te=Ae("animationend"),Ce=Ae("animationiteration"),Ne=Ae("animationstart"),Ke=Ae("transitionrun"),ot=Ae("transitionstart"),st=Ae("transitioncancel"),Xe=Ae("transitionend"),pt=new Map,dt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dt.push("scrollEnd");function Ze(l,u){pt.set(l,u),Mo(u,[l])}var mt=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Lt=[],Zt=0,Tt=0;function Bt(){for(var l=Zt,u=Tt=Zt=0;u<l;){var p=Lt[u];Lt[u++]=null;var y=Lt[u];Lt[u++]=null;var _=Lt[u];Lt[u++]=null;var P=Lt[u];if(Lt[u++]=null,y!==null&&_!==null){var $=y.pending;$===null?_.next=_:(_.next=$.next,$.next=_),y.pending=_}P!==0&&is(p,_,P)}}function In(l,u,p,y){Lt[Zt++]=l,Lt[Zt++]=u,Lt[Zt++]=p,Lt[Zt++]=y,Tt|=y,l.lanes|=y,l=l.alternate,l!==null&&(l.lanes|=y)}function Bi(l,u,p,y){return In(l,u,p,y),lc(l)}function Pn(l,u){return In(l,null,null,u),lc(l)}function is(l,u,p){l.lanes|=p;var y=l.alternate;y!==null&&(y.lanes|=p);for(var _=!1,P=l.return;P!==null;)P.childLanes|=p,y=P.alternate,y!==null&&(y.childLanes|=p),P.tag===22&&(l=P.stateNode,l===null||l._visibility&1||(_=!0)),l=P,P=P.return;return l.tag===3?(P=l.stateNode,_&&u!==null&&(_=31-et(p),l=P.hiddenUpdates,y=l[_],y===null?l[_]=[u]:y.push(u),u.lane=p|536870912),P):null}function lc(l){if(50<Np)throw Np=0,W1=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var nf={};function mV(l,u,p,y){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ja(l,u,p,y){return new mV(l,u,p,y)}function Fw(l){return l=l.prototype,!(!l||!l.isReactComponent)}function el(l,u){var p=l.alternate;return p===null?(p=ja(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function L2(l,u){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,u=p.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function iv(l,u,p,y,_,P){var $=0;if(y=l,typeof l=="function")Fw(l)&&($=1);else if(typeof l=="string")$=xq(l,p,ie.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case B:return l=ja(31,p,u,_),l.elementType=B,l.lanes=P,l;case x:return wu(p.children,_,P,u);case S:$=8,_|=24;break;case C:return l=ja(12,p,u,_|2),l.elementType=C,l.lanes=P,l;case M:return l=ja(13,p,u,_),l.elementType=M,l.lanes=P,l;case D:return l=ja(19,p,u,_),l.elementType=D,l.lanes=P,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case E:$=10;break e;case T:$=9;break e;case k:$=11;break e;case j:$=14;break e;case I:$=16,y=null;break e}$=29,p=Error(r(130,l===null?"null":typeof l,"")),y=null}return u=ja($,p,u,_),u.elementType=l,u.type=y,u.lanes=P,u}function wu(l,u,p,y){return l=ja(7,l,y,u),l.lanes=p,l}function Uw(l,u,p){return l=ja(6,l,null,u),l.lanes=p,l}function N2(l){var u=ja(18,null,null,0);return u.stateNode=l,u}function Hw(l,u,p){return u=ja(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var I2=new WeakMap;function ro(l,u){if(typeof l=="object"&&l!==null){var p=I2.get(l);return p!==void 0?p:(u={value:l,source:u,stack:We(u)},I2.set(l,u),u)}return{value:l,source:u,stack:We(u)}}var rf=[],af=0,av=null,mp=0,io=[],ao=0,cc=null,as=1,os="";function tl(l,u){rf[af++]=mp,rf[af++]=av,av=l,mp=u}function z2(l,u,p){io[ao++]=as,io[ao++]=os,io[ao++]=cc,cc=l;var y=as;l=os;var _=32-et(y)-1;y&=~(1<<_),p+=1;var P=32-et(u)+_;if(30<P){var $=_-_%5;P=(y&(1<<$)-1).toString(32),y>>=$,_-=$,as=1<<32-et(u)+_|p<<_|y,os=P+l}else as=1<<P|p<<_|y,os=l}function Vw(l){l.return!==null&&(tl(l,1),z2(l,1,0))}function qw(l){for(;l===av;)av=rf[--af],rf[af]=null,mp=rf[--af],rf[af]=null;for(;l===cc;)cc=io[--ao],io[ao]=null,os=io[--ao],io[ao]=null,as=io[--ao],io[ao]=null}function B2(l,u){io[ao++]=as,io[ao++]=os,io[ao++]=cc,as=u.id,os=u.overflow,cc=l}var xi=null,Jn=null,sn=!1,uc=null,oo=!1,Gw=Error(r(519));function dc(l){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gp(ro(u,l)),Gw}function $2(l){var u=l.stateNode,p=l.type,y=l.memoizedProps;switch(u[fn]=l,u[Un]=y,p){case"dialog":tn("cancel",u),tn("close",u);break;case"iframe":case"object":case"embed":tn("load",u);break;case"video":case"audio":for(p=0;p<zp.length;p++)tn(zp[p],u);break;case"source":tn("error",u);break;case"img":case"image":case"link":tn("error",u),tn("load",u);break;case"details":tn("toggle",u);break;case"input":tn("invalid",u),zd(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":tn("invalid",u);break;case"textarea":tn("invalid",u),hu(u,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||y.suppressHydrationWarning===!0||rj(u.textContent,p)?(y.popover!=null&&(tn("beforetoggle",u),tn("toggle",u)),y.onScroll!=null&&tn("scroll",u),y.onScrollEnd!=null&&tn("scrollend",u),y.onClick!=null&&(u.onclick=ma),u=!0):u=!1,u||dc(l,!0)}function F2(l){for(xi=l.return;xi;)switch(xi.tag){case 5:case 31:case 13:oo=!1;return;case 27:case 3:oo=!0;return;default:xi=xi.return}}function of(l){if(l!==xi)return!1;if(!sn)return F2(l),sn=!0,!1;var u=l.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||uS(l.type,l.memoizedProps)),p=!p),p&&Jn&&dc(l),F2(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Jn=fj(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Jn=fj(l)}else u===27?(u=Jn,_c(l.type)?(l=mS,mS=null,Jn=l):Jn=u):Jn=xi?lo(l.stateNode.nextSibling):null;return!0}function Su(){Jn=xi=null,sn=!1}function Yw(){var l=uc;return l!==null&&(ba===null?ba=l:ba.push.apply(ba,l),uc=null),l}function gp(l){uc===null?uc=[l]:uc.push(l)}var Kw=z(null),Cu=null,nl=null;function fc(l,u,p){ne(Kw,u._currentValue),u._currentValue=p}function rl(l){l._currentValue=Kw.current,Y(Kw)}function Ww(l,u,p){for(;l!==null;){var y=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),l===p)break;l=l.return}}function Xw(l,u,p,y){var _=l.child;for(_!==null&&(_.return=l);_!==null;){var P=_.dependencies;if(P!==null){var $=_.child;P=P.firstContext;e:for(;P!==null;){var Q=P;P=_;for(var le=0;le<u.length;le++)if(Q.context===u[le]){P.lanes|=p,Q=P.alternate,Q!==null&&(Q.lanes|=p),Ww(P.return,p,l),y||($=null);break e}P=Q.next}}else if(_.tag===18){if($=_.return,$===null)throw Error(r(341));$.lanes|=p,P=$.alternate,P!==null&&(P.lanes|=p),Ww($,p,l),$=null}else $=_.child;if($!==null)$.return=_;else for($=_;$!==null;){if($===l){$=null;break}if(_=$.sibling,_!==null){_.return=$.return,$=_;break}$=$.return}_=$}}function sf(l,u,p,y){l=null;for(var _=u,P=!1;_!==null;){if(!P){if((_.flags&524288)!==0)P=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var $=_.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var Q=_.type;zi(_.pendingProps.value,$.value)||(l!==null?l.push(Q):l=[Q])}}else if(_===be.current){if($=_.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(l!==null?l.push(Hp):l=[Hp])}_=_.return}l!==null&&Xw(u,l,p,y),u.flags|=262144}function ov(l){for(l=l.firstContext;l!==null;){if(!zi(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Au(l){Cu=l,nl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function wi(l){return U2(Cu,l)}function sv(l,u){return Cu===null&&Au(l),U2(l,u)}function U2(l,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},nl===null){if(l===null)throw Error(r(308));nl=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else nl=nl.next=u;return p}var gV=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(p,y){l.push(y)}};this.abort=function(){u.aborted=!0,l.forEach(function(p){return p()})}},vV=t.unstable_scheduleCallback,yV=t.unstable_NormalPriority,Mr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zw(){return{controller:new gV,data:new Map,refCount:0}}function vp(l){l.refCount--,l.refCount===0&&vV(yV,function(){l.controller.abort()})}var yp=null,Qw=0,lf=0,cf=null;function bV(l,u){if(yp===null){var p=yp=[];Qw=0,lf=tS(),cf={status:"pending",value:void 0,then:function(y){p.push(y)}}}return Qw++,u.then(H2,H2),u}function H2(){if(--Qw===0&&yp!==null){cf!==null&&(cf.status="fulfilled");var l=yp;yp=null,lf=0,cf=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function xV(l,u){var p=[],y={status:"pending",value:null,reason:null,then:function(_){p.push(_)}};return l.then(function(){y.status="fulfilled",y.value=u;for(var _=0;_<p.length;_++)(0,p[_])(u)},function(_){for(y.status="rejected",y.reason=_,_=0;_<p.length;_++)(0,p[_])(void 0)}),y}var V2=L.S;L.S=function(l,u){TD=Be(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&bV(l,u),V2!==null&&V2(l,u)};var _u=z(null);function Jw(){var l=_u.current;return l!==null?l:Hn.pooledCache}function lv(l,u){u===null?ne(_u,_u.current):ne(_u,u.pool)}function q2(){var l=Jw();return l===null?null:{parent:Mr._currentValue,pool:l}}var uf=Error(r(460)),e1=Error(r(474)),cv=Error(r(542)),uv={then:function(){}};function G2(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Y2(l,u,p){switch(p=l[p],p===void 0?l.push(u):p!==u&&(u.then(ma,ma),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,W2(l),l;default:if(typeof u.status=="string")u.then(ma,ma);else{if(l=Hn,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(y){if(u.status==="pending"){var _=u;_.status="fulfilled",_.value=y}},function(y){if(u.status==="pending"){var _=u;_.status="rejected",_.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,W2(l),l}throw Tu=u,uf}}function Eu(l){try{var u=l._init;return u(l._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Tu=p,uf):p}}var Tu=null;function K2(){if(Tu===null)throw Error(r(459));var l=Tu;return Tu=null,l}function W2(l){if(l===uf||l===cv)throw Error(r(483))}var df=null,bp=0;function dv(l){var u=bp;return bp+=1,df===null&&(df=[]),Y2(df,l,u)}function xp(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function fv(l,u){throw u.$$typeof===m?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function X2(l){function u(xe,ve){if(l){var _e=xe.deletions;_e===null?(xe.deletions=[ve],xe.flags|=16):_e.push(ve)}}function p(xe,ve){if(!l)return null;for(;ve!==null;)u(xe,ve),ve=ve.sibling;return null}function y(xe){for(var ve=new Map;xe!==null;)xe.key!==null?ve.set(xe.key,xe):ve.set(xe.index,xe),xe=xe.sibling;return ve}function _(xe,ve){return xe=el(xe,ve),xe.index=0,xe.sibling=null,xe}function P(xe,ve,_e){return xe.index=_e,l?(_e=xe.alternate,_e!==null?(_e=_e.index,_e<ve?(xe.flags|=67108866,ve):_e):(xe.flags|=67108866,ve)):(xe.flags|=1048576,ve)}function $(xe){return l&&xe.alternate===null&&(xe.flags|=67108866),xe}function Q(xe,ve,_e,$e){return ve===null||ve.tag!==6?(ve=Uw(_e,xe.mode,$e),ve.return=xe,ve):(ve=_(ve,_e),ve.return=xe,ve)}function le(xe,ve,_e,$e){var kt=_e.type;return kt===x?Ie(xe,ve,_e.props.children,$e,_e.key):ve!==null&&(ve.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===I&&Eu(kt)===ve.type)?(ve=_(ve,_e.props),xp(ve,_e),ve.return=xe,ve):(ve=iv(_e.type,_e.key,_e.props,null,xe.mode,$e),xp(ve,_e),ve.return=xe,ve)}function Ee(xe,ve,_e,$e){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==_e.containerInfo||ve.stateNode.implementation!==_e.implementation?(ve=Hw(_e,xe.mode,$e),ve.return=xe,ve):(ve=_(ve,_e.children||[]),ve.return=xe,ve)}function Ie(xe,ve,_e,$e,kt){return ve===null||ve.tag!==7?(ve=wu(_e,xe.mode,$e,kt),ve.return=xe,ve):(ve=_(ve,_e),ve.return=xe,ve)}function Ye(xe,ve,_e){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=Uw(""+ve,xe.mode,_e),ve.return=xe,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case v:return _e=iv(ve.type,ve.key,ve.props,null,xe.mode,_e),xp(_e,ve),_e.return=xe,_e;case b:return ve=Hw(ve,xe.mode,_e),ve.return=xe,ve;case I:return ve=Eu(ve),Ye(xe,ve,_e)}if(J(ve)||K(ve))return ve=wu(ve,xe.mode,_e,null),ve.return=xe,ve;if(typeof ve.then=="function")return Ye(xe,dv(ve),_e);if(ve.$$typeof===E)return Ye(xe,sv(xe,ve),_e);fv(xe,ve)}return null}function ke(xe,ve,_e,$e){var kt=ve!==null?ve.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return kt!==null?null:Q(xe,ve,""+_e,$e);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case v:return _e.key===kt?le(xe,ve,_e,$e):null;case b:return _e.key===kt?Ee(xe,ve,_e,$e):null;case I:return _e=Eu(_e),ke(xe,ve,_e,$e)}if(J(_e)||K(_e))return kt!==null?null:Ie(xe,ve,_e,$e,null);if(typeof _e.then=="function")return ke(xe,ve,dv(_e),$e);if(_e.$$typeof===E)return ke(xe,ve,sv(xe,_e),$e);fv(xe,_e)}return null}function Me(xe,ve,_e,$e,kt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return xe=xe.get(_e)||null,Q(ve,xe,""+$e,kt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case v:return xe=xe.get($e.key===null?_e:$e.key)||null,le(ve,xe,$e,kt);case b:return xe=xe.get($e.key===null?_e:$e.key)||null,Ee(ve,xe,$e,kt);case I:return $e=Eu($e),Me(xe,ve,_e,$e,kt)}if(J($e)||K($e))return xe=xe.get(_e)||null,Ie(ve,xe,$e,kt,null);if(typeof $e.then=="function")return Me(xe,ve,_e,dv($e),kt);if($e.$$typeof===E)return Me(xe,ve,_e,sv(ve,$e),kt);fv(ve,$e)}return null}function xt(xe,ve,_e,$e){for(var kt=null,mn=null,Ct=ve,Kt=ve=0,an=null;Ct!==null&&Kt<_e.length;Kt++){Ct.index>Kt?(an=Ct,Ct=null):an=Ct.sibling;var gn=ke(xe,Ct,_e[Kt],$e);if(gn===null){Ct===null&&(Ct=an);break}l&&Ct&&gn.alternate===null&&u(xe,Ct),ve=P(gn,ve,Kt),mn===null?kt=gn:mn.sibling=gn,mn=gn,Ct=an}if(Kt===_e.length)return p(xe,Ct),sn&&tl(xe,Kt),kt;if(Ct===null){for(;Kt<_e.length;Kt++)Ct=Ye(xe,_e[Kt],$e),Ct!==null&&(ve=P(Ct,ve,Kt),mn===null?kt=Ct:mn.sibling=Ct,mn=Ct);return sn&&tl(xe,Kt),kt}for(Ct=y(Ct);Kt<_e.length;Kt++)an=Me(Ct,xe,Kt,_e[Kt],$e),an!==null&&(l&&an.alternate!==null&&Ct.delete(an.key===null?Kt:an.key),ve=P(an,ve,Kt),mn===null?kt=an:mn.sibling=an,mn=an);return l&&Ct.forEach(function(Oc){return u(xe,Oc)}),sn&&tl(xe,Kt),kt}function Mt(xe,ve,_e,$e){if(_e==null)throw Error(r(151));for(var kt=null,mn=null,Ct=ve,Kt=ve=0,an=null,gn=_e.next();Ct!==null&&!gn.done;Kt++,gn=_e.next()){Ct.index>Kt?(an=Ct,Ct=null):an=Ct.sibling;var Oc=ke(xe,Ct,gn.value,$e);if(Oc===null){Ct===null&&(Ct=an);break}l&&Ct&&Oc.alternate===null&&u(xe,Ct),ve=P(Oc,ve,Kt),mn===null?kt=Oc:mn.sibling=Oc,mn=Oc,Ct=an}if(gn.done)return p(xe,Ct),sn&&tl(xe,Kt),kt;if(Ct===null){for(;!gn.done;Kt++,gn=_e.next())gn=Ye(xe,gn.value,$e),gn!==null&&(ve=P(gn,ve,Kt),mn===null?kt=gn:mn.sibling=gn,mn=gn);return sn&&tl(xe,Kt),kt}for(Ct=y(Ct);!gn.done;Kt++,gn=_e.next())gn=Me(Ct,xe,Kt,gn.value,$e),gn!==null&&(l&&gn.alternate!==null&&Ct.delete(gn.key===null?Kt:gn.key),ve=P(gn,ve,Kt),mn===null?kt=gn:mn.sibling=gn,mn=gn);return l&&Ct.forEach(function(Mq){return u(xe,Mq)}),sn&&tl(xe,Kt),kt}function $n(xe,ve,_e,$e){if(typeof _e=="object"&&_e!==null&&_e.type===x&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case v:e:{for(var kt=_e.key;ve!==null;){if(ve.key===kt){if(kt=_e.type,kt===x){if(ve.tag===7){p(xe,ve.sibling),$e=_(ve,_e.props.children),$e.return=xe,xe=$e;break e}}else if(ve.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===I&&Eu(kt)===ve.type){p(xe,ve.sibling),$e=_(ve,_e.props),xp($e,_e),$e.return=xe,xe=$e;break e}p(xe,ve);break}else u(xe,ve);ve=ve.sibling}_e.type===x?($e=wu(_e.props.children,xe.mode,$e,_e.key),$e.return=xe,xe=$e):($e=iv(_e.type,_e.key,_e.props,null,xe.mode,$e),xp($e,_e),$e.return=xe,xe=$e)}return $(xe);case b:e:{for(kt=_e.key;ve!==null;){if(ve.key===kt)if(ve.tag===4&&ve.stateNode.containerInfo===_e.containerInfo&&ve.stateNode.implementation===_e.implementation){p(xe,ve.sibling),$e=_(ve,_e.children||[]),$e.return=xe,xe=$e;break e}else{p(xe,ve);break}else u(xe,ve);ve=ve.sibling}$e=Hw(_e,xe.mode,$e),$e.return=xe,xe=$e}return $(xe);case I:return _e=Eu(_e),$n(xe,ve,_e,$e)}if(J(_e))return xt(xe,ve,_e,$e);if(K(_e)){if(kt=K(_e),typeof kt!="function")throw Error(r(150));return _e=kt.call(_e),Mt(xe,ve,_e,$e)}if(typeof _e.then=="function")return $n(xe,ve,dv(_e),$e);if(_e.$$typeof===E)return $n(xe,ve,sv(xe,_e),$e);fv(xe,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,ve!==null&&ve.tag===6?(p(xe,ve.sibling),$e=_(ve,_e),$e.return=xe,xe=$e):(p(xe,ve),$e=Uw(_e,xe.mode,$e),$e.return=xe,xe=$e),$(xe)):p(xe,ve)}return function(xe,ve,_e,$e){try{bp=0;var kt=$n(xe,ve,_e,$e);return df=null,kt}catch(Ct){if(Ct===uf||Ct===cv)throw Ct;var mn=ja(29,Ct,null,xe.mode);return mn.lanes=$e,mn.return=xe,mn}}}var ku=X2(!0),Z2=X2(!1),hc=!1;function t1(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function n1(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function pc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function mc(l,u,p){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(Cn&2)!==0){var _=y.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),y.pending=u,u=lc(l),is(l,null,p),u}return In(l,y,u,p),lc(l)}function wp(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var y=u.lanes;y&=l.pendingLanes,p|=y,u.lanes=p,lt(l,p)}}function r1(l,u){var p=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var _=null,P=null;if(p=p.firstBaseUpdate,p!==null){do{var $={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};P===null?_=P=$:P=P.next=$,p=p.next}while(p!==null);P===null?_=P=u:P=P.next=u}else _=P=u;p={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:P,shared:y.shared,callbacks:y.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}var i1=!1;function Sp(){if(i1){var l=cf;if(l!==null)throw l}}function Cp(l,u,p,y){i1=!1;var _=l.updateQueue;hc=!1;var P=_.firstBaseUpdate,$=_.lastBaseUpdate,Q=_.shared.pending;if(Q!==null){_.shared.pending=null;var le=Q,Ee=le.next;le.next=null,$===null?P=Ee:$.next=Ee,$=le;var Ie=l.alternate;Ie!==null&&(Ie=Ie.updateQueue,Q=Ie.lastBaseUpdate,Q!==$&&(Q===null?Ie.firstBaseUpdate=Ee:Q.next=Ee,Ie.lastBaseUpdate=le))}if(P!==null){var Ye=_.baseState;$=0,Ie=Ee=le=null,Q=P;do{var ke=Q.lane&-536870913,Me=ke!==Q.lane;if(Me?(rn&ke)===ke:(y&ke)===ke){ke!==0&&ke===lf&&(i1=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var xt=l,Mt=Q;ke=u;var $n=p;switch(Mt.tag){case 1:if(xt=Mt.payload,typeof xt=="function"){Ye=xt.call($n,Ye,ke);break e}Ye=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Mt.payload,ke=typeof xt=="function"?xt.call($n,Ye,ke):xt,ke==null)break e;Ye=h({},Ye,ke);break e;case 2:hc=!0}}ke=Q.callback,ke!==null&&(l.flags|=64,Me&&(l.flags|=8192),Me=_.callbacks,Me===null?_.callbacks=[ke]:Me.push(ke))}else Me={lane:ke,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ie===null?(Ee=Ie=Me,le=Ye):Ie=Ie.next=Me,$|=ke;if(Q=Q.next,Q===null){if(Q=_.shared.pending,Q===null)break;Me=Q,Q=Me.next,Me.next=null,_.lastBaseUpdate=Me,_.shared.pending=null}}while(!0);Ie===null&&(le=Ye),_.baseState=le,_.firstBaseUpdate=Ee,_.lastBaseUpdate=Ie,P===null&&(_.shared.lanes=0),xc|=$,l.lanes=$,l.memoizedState=Ye}}function Q2(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function J2(l,u){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)Q2(p[l],u)}var ff=z(null),hv=z(0);function eM(l,u){l=fl,ne(hv,l),ne(ff,u),fl=l|u.baseLanes}function a1(){ne(hv,fl),ne(ff,ff.current)}function o1(){fl=hv.current,Y(ff),Y(hv)}var Ra=z(null),so=null;function gc(l){var u=l.alternate;ne(Ar,Ar.current&1),ne(Ra,l),so===null&&(u===null||ff.current!==null||u.memoizedState!==null)&&(so=l)}function s1(l){ne(Ar,Ar.current),ne(Ra,l),so===null&&(so=l)}function tM(l){l.tag===22?(ne(Ar,Ar.current),ne(Ra,l),so===null&&(so=l)):vc()}function vc(){ne(Ar,Ar.current),ne(Ra,Ra.current)}function La(l){Y(Ra),so===l&&(so=null),Y(Ar)}var Ar=z(0);function pv(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||hS(p)||pS(p)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var il=0,Gt=null,zn=null,Dr=null,mv=!1,hf=!1,Pu=!1,gv=0,Ap=0,pf=null,wV=0;function vr(){throw Error(r(321))}function l1(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!zi(l[p],u[p]))return!1;return!0}function c1(l,u,p,y,_,P){return il=P,Gt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,L.H=l===null||l.memoizedState===null?zM:A1,Pu=!1,P=p(y,_),Pu=!1,hf&&(P=rM(u,p,y,_)),nM(l),P}function nM(l){L.H=Tp;var u=zn!==null&&zn.next!==null;if(il=0,Dr=zn=Gt=null,mv=!1,Ap=0,pf=null,u)throw Error(r(300));l===null||jr||(l=l.dependencies,l!==null&&ov(l)&&(jr=!0))}function rM(l,u,p,y){Gt=l;var _=0;do{if(hf&&(pf=null),Ap=0,hf=!1,25<=_)throw Error(r(301));if(_+=1,Dr=zn=null,l.updateQueue!=null){var P=l.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}L.H=BM,P=u(p,y)}while(hf);return P}function SV(){var l=L.H,u=l.useState()[0];return u=typeof u.then=="function"?_p(u):u,l=l.useState()[0],(zn!==null?zn.memoizedState:null)!==l&&(Gt.flags|=1024),u}function u1(){var l=gv!==0;return gv=0,l}function d1(l,u,p){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~p}function f1(l){if(mv){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}mv=!1}il=0,Dr=zn=Gt=null,hf=!1,Ap=gv=0,pf=null}function Ji(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?Gt.memoizedState=Dr=l:Dr=Dr.next=l,Dr}function _r(){if(zn===null){var l=Gt.alternate;l=l!==null?l.memoizedState:null}else l=zn.next;var u=Dr===null?Gt.memoizedState:Dr.next;if(u!==null)Dr=u,zn=l;else{if(l===null)throw Gt.alternate===null?Error(r(467)):Error(r(310));zn=l,l={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Dr===null?Gt.memoizedState=Dr=l:Dr=Dr.next=l}return Dr}function vv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _p(l){var u=Ap;return Ap+=1,pf===null&&(pf=[]),l=Y2(pf,l,u),u=Gt,(Dr===null?u.memoizedState:Dr.next)===null&&(u=u.alternate,L.H=u===null||u.memoizedState===null?zM:A1),l}function yv(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return _p(l);if(l.$$typeof===E)return wi(l)}throw Error(r(438,String(l)))}function h1(l){var u=null,p=Gt.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var y=Gt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(_){return _.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=vv(),Gt.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(l),y=0;y<l;y++)p[y]=G;return u.index++,p}function al(l,u){return typeof u=="function"?u(l):u}function bv(l){var u=_r();return p1(u,zn,l)}function p1(l,u,p){var y=l.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=p;var _=l.baseQueue,P=y.pending;if(P!==null){if(_!==null){var $=_.next;_.next=P.next,P.next=$}u.baseQueue=_=P,y.pending=null}if(P=l.baseState,_===null)l.memoizedState=P;else{u=_.next;var Q=$=null,le=null,Ee=u,Ie=!1;do{var Ye=Ee.lane&-536870913;if(Ye!==Ee.lane?(rn&Ye)===Ye:(il&Ye)===Ye){var ke=Ee.revertLane;if(ke===0)le!==null&&(le=le.next={lane:0,revertLane:0,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),Ye===lf&&(Ie=!0);else if((il&ke)===ke){Ee=Ee.next,ke===lf&&(Ie=!0);continue}else Ye={lane:0,revertLane:Ee.revertLane,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},le===null?(Q=le=Ye,$=P):le=le.next=Ye,Gt.lanes|=ke,xc|=ke;Ye=Ee.action,Pu&&p(P,Ye),P=Ee.hasEagerState?Ee.eagerState:p(P,Ye)}else ke={lane:Ye,revertLane:Ee.revertLane,gesture:Ee.gesture,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},le===null?(Q=le=ke,$=P):le=le.next=ke,Gt.lanes|=Ye,xc|=Ye;Ee=Ee.next}while(Ee!==null&&Ee!==u);if(le===null?$=P:le.next=Q,!zi(P,l.memoizedState)&&(jr=!0,Ie&&(p=cf,p!==null)))throw p;l.memoizedState=P,l.baseState=$,l.baseQueue=le,y.lastRenderedState=P}return _===null&&(y.lanes=0),[l.memoizedState,y.dispatch]}function m1(l){var u=_r(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var y=p.dispatch,_=p.pending,P=u.memoizedState;if(_!==null){p.pending=null;var $=_=_.next;do P=l(P,$.action),$=$.next;while($!==_);zi(P,u.memoizedState)||(jr=!0),u.memoizedState=P,u.baseQueue===null&&(u.baseState=P),p.lastRenderedState=P}return[P,y]}function iM(l,u,p){var y=Gt,_=_r(),P=sn;if(P){if(p===void 0)throw Error(r(407));p=p()}else p=u();var $=!zi((zn||_).memoizedState,p);if($&&(_.memoizedState=p,jr=!0),_=_.queue,y1(sM.bind(null,y,_,l),[l]),_.getSnapshot!==u||$||Dr!==null&&Dr.memoizedState.tag&1){if(y.flags|=2048,mf(9,{destroy:void 0},oM.bind(null,y,_,p,u),null),Hn===null)throw Error(r(349));P||(il&127)!==0||aM(y,u,p)}return p}function aM(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=Gt.updateQueue,u===null?(u=vv(),Gt.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function oM(l,u,p,y){u.value=p,u.getSnapshot=y,lM(u)&&cM(l)}function sM(l,u,p){return p(function(){lM(u)&&cM(l)})}function lM(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!zi(l,p)}catch{return!0}}function cM(l){var u=Pn(l,2);u!==null&&xa(u,l,2)}function g1(l){var u=Ji();if(typeof l=="function"){var p=l;if(l=p(),Pu){Nt(!0);try{p()}finally{Nt(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:l},u}function uM(l,u,p,y){return l.baseState=p,p1(l,zn,typeof y=="function"?y:al)}function CV(l,u,p,y,_){if(Sv(l))throw Error(r(485));if(l=u.action,l!==null){var P={payload:_,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){P.listeners.push($)}};L.T!==null?p(!0):P.isTransition=!1,y(P),p=u.pending,p===null?(P.next=u.pending=P,dM(u,P)):(P.next=p.next,u.pending=p.next=P)}}function dM(l,u){var p=u.action,y=u.payload,_=l.state;if(u.isTransition){var P=L.T,$={};L.T=$;try{var Q=p(_,y),le=L.S;le!==null&&le($,Q),fM(l,u,Q)}catch(Ee){v1(l,u,Ee)}finally{P!==null&&$.types!==null&&(P.types=$.types),L.T=P}}else try{P=p(_,y),fM(l,u,P)}catch(Ee){v1(l,u,Ee)}}function fM(l,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){hM(l,u,y)},function(y){return v1(l,u,y)}):hM(l,u,p)}function hM(l,u,p){u.status="fulfilled",u.value=p,pM(u),l.state=p,u=l.pending,u!==null&&(p=u.next,p===u?l.pending=null:(p=p.next,u.next=p,dM(l,p)))}function v1(l,u,p){var y=l.pending;if(l.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=p,pM(u),u=u.next;while(u!==y)}l.action=null}function pM(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function mM(l,u){return u}function gM(l,u){if(sn){var p=Hn.formState;if(p!==null){e:{var y=Gt;if(sn){if(Jn){t:{for(var _=Jn,P=oo;_.nodeType!==8;){if(!P){_=null;break t}if(_=lo(_.nextSibling),_===null){_=null;break t}}P=_.data,_=P==="F!"||P==="F"?_:null}if(_){Jn=lo(_.nextSibling),y=_.data==="F!";break e}}dc(y)}y=!1}y&&(u=p[0])}}return p=Ji(),p.memoizedState=p.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mM,lastRenderedState:u},p.queue=y,p=LM.bind(null,Gt,y),y.dispatch=p,y=g1(!1),P=C1.bind(null,Gt,!1,y.queue),y=Ji(),_={state:u,dispatch:null,action:l,pending:null},y.queue=_,p=CV.bind(null,Gt,_,P,p),_.dispatch=p,y.memoizedState=l,[u,p,!1]}function vM(l){var u=_r();return yM(u,zn,l)}function yM(l,u,p){if(u=p1(l,u,mM)[0],l=bv(al)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var y=_p(u)}catch($){throw $===uf?cv:$}else y=u;u=_r();var _=u.queue,P=_.dispatch;return p!==u.memoizedState&&(Gt.flags|=2048,mf(9,{destroy:void 0},AV.bind(null,_,p),null)),[y,P,l]}function AV(l,u){l.action=u}function bM(l){var u=_r(),p=zn;if(p!==null)return yM(u,p,l);_r(),u=u.memoizedState,p=_r();var y=p.queue.dispatch;return p.memoizedState=l,[u,y,!1]}function mf(l,u,p,y){return l={tag:l,create:p,deps:y,inst:u,next:null},u=Gt.updateQueue,u===null&&(u=vv(),Gt.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=l.next=l:(y=p.next,p.next=l,l.next=y,u.lastEffect=l),l}function xM(){return _r().memoizedState}function xv(l,u,p,y){var _=Ji();Gt.flags|=l,_.memoizedState=mf(1|u,{destroy:void 0},p,y===void 0?null:y)}function wv(l,u,p,y){var _=_r();y=y===void 0?null:y;var P=_.memoizedState.inst;zn!==null&&y!==null&&l1(y,zn.memoizedState.deps)?_.memoizedState=mf(u,P,p,y):(Gt.flags|=l,_.memoizedState=mf(1|u,P,p,y))}function wM(l,u){xv(8390656,8,l,u)}function y1(l,u){wv(2048,8,l,u)}function _V(l){Gt.flags|=4;var u=Gt.updateQueue;if(u===null)u=vv(),Gt.updateQueue=u,u.events=[l];else{var p=u.events;p===null?u.events=[l]:p.push(l)}}function SM(l){var u=_r().memoizedState;return _V({ref:u,nextImpl:l}),function(){if((Cn&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function CM(l,u){return wv(4,2,l,u)}function AM(l,u){return wv(4,4,l,u)}function _M(l,u){if(typeof u=="function"){l=l();var p=u(l);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function EM(l,u,p){p=p!=null?p.concat([l]):null,wv(4,4,_M.bind(null,u,l),p)}function b1(){}function TM(l,u){var p=_r();u=u===void 0?null:u;var y=p.memoizedState;return u!==null&&l1(u,y[1])?y[0]:(p.memoizedState=[l,u],l)}function kM(l,u){var p=_r();u=u===void 0?null:u;var y=p.memoizedState;if(u!==null&&l1(u,y[1]))return y[0];if(y=l(),Pu){Nt(!0);try{l()}finally{Nt(!1)}}return p.memoizedState=[y,u],y}function x1(l,u,p){return p===void 0||(il&1073741824)!==0&&(rn&261930)===0?l.memoizedState=u:(l.memoizedState=p,l=PD(),Gt.lanes|=l,xc|=l,p)}function PM(l,u,p,y){return zi(p,u)?p:ff.current!==null?(l=x1(l,p,y),zi(l,u)||(jr=!0),l):(il&42)===0||(il&1073741824)!==0&&(rn&261930)===0?(jr=!0,l.memoizedState=p):(l=PD(),Gt.lanes|=l,xc|=l,u)}function OM(l,u,p,y,_){var P=U.p;U.p=P!==0&&8>P?P:8;var $=L.T,Q={};L.T=Q,C1(l,!1,u,p);try{var le=_(),Ee=L.S;if(Ee!==null&&Ee(Q,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var Ie=xV(le,y);Ep(l,u,Ie,za(l))}else Ep(l,u,y,za(l))}catch(Ye){Ep(l,u,{then:function(){},status:"rejected",reason:Ye},za())}finally{U.p=P,$!==null&&Q.types!==null&&($.types=Q.types),L.T=$}}function EV(){}function w1(l,u,p,y){if(l.tag!==5)throw Error(r(476));var _=MM(l).queue;OM(l,_,u,F,p===null?EV:function(){return DM(l),p(y)})}function MM(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:F},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:p},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function DM(l){var u=MM(l);u.next===null&&(u=l.alternate.memoizedState),Ep(l,u.next.queue,{},za())}function S1(){return wi(Hp)}function jM(){return _r().memoizedState}function RM(){return _r().memoizedState}function TV(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var p=za();l=pc(p);var y=mc(u,l,p);y!==null&&(xa(y,u,p),wp(y,u,p)),u={cache:Zw()},l.payload=u;return}u=u.return}}function kV(l,u,p){var y=za();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Sv(l)?NM(u,p):(p=Bi(l,u,p,y),p!==null&&(xa(p,l,y),IM(p,u,y)))}function LM(l,u,p){var y=za();Ep(l,u,p,y)}function Ep(l,u,p,y){var _={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Sv(l))NM(u,_);else{var P=l.alternate;if(l.lanes===0&&(P===null||P.lanes===0)&&(P=u.lastRenderedReducer,P!==null))try{var $=u.lastRenderedState,Q=P($,p);if(_.hasEagerState=!0,_.eagerState=Q,zi(Q,$))return In(l,u,_,0),Hn===null&&Bt(),!1}catch{}if(p=Bi(l,u,_,y),p!==null)return xa(p,l,y),IM(p,u,y),!0}return!1}function C1(l,u,p,y){if(y={lane:2,revertLane:tS(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Sv(l)){if(u)throw Error(r(479))}else u=Bi(l,p,y,2),u!==null&&xa(u,l,2)}function Sv(l){var u=l.alternate;return l===Gt||u!==null&&u===Gt}function NM(l,u){hf=mv=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function IM(l,u,p){if((p&4194048)!==0){var y=u.lanes;y&=l.pendingLanes,p|=y,u.lanes=p,lt(l,p)}}var Tp={readContext:wi,use:yv,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useLayoutEffect:vr,useInsertionEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useSyncExternalStore:vr,useId:vr,useHostTransitionStatus:vr,useFormState:vr,useActionState:vr,useOptimistic:vr,useMemoCache:vr,useCacheRefresh:vr};Tp.useEffectEvent=vr;var zM={readContext:wi,use:yv,useCallback:function(l,u){return Ji().memoizedState=[l,u===void 0?null:u],l},useContext:wi,useEffect:wM,useImperativeHandle:function(l,u,p){p=p!=null?p.concat([l]):null,xv(4194308,4,_M.bind(null,u,l),p)},useLayoutEffect:function(l,u){return xv(4194308,4,l,u)},useInsertionEffect:function(l,u){xv(4,2,l,u)},useMemo:function(l,u){var p=Ji();u=u===void 0?null:u;var y=l();if(Pu){Nt(!0);try{l()}finally{Nt(!1)}}return p.memoizedState=[y,u],y},useReducer:function(l,u,p){var y=Ji();if(p!==void 0){var _=p(u);if(Pu){Nt(!0);try{p(u)}finally{Nt(!1)}}}else _=u;return y.memoizedState=y.baseState=_,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:_},y.queue=l,l=l.dispatch=kV.bind(null,Gt,l),[y.memoizedState,l]},useRef:function(l){var u=Ji();return l={current:l},u.memoizedState=l},useState:function(l){l=g1(l);var u=l.queue,p=LM.bind(null,Gt,u);return u.dispatch=p,[l.memoizedState,p]},useDebugValue:b1,useDeferredValue:function(l,u){var p=Ji();return x1(p,l,u)},useTransition:function(){var l=g1(!1);return l=OM.bind(null,Gt,l.queue,!0,!1),Ji().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,p){var y=Gt,_=Ji();if(sn){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),Hn===null)throw Error(r(349));(rn&127)!==0||aM(y,u,p)}_.memoizedState=p;var P={value:p,getSnapshot:u};return _.queue=P,wM(sM.bind(null,y,P,l),[l]),y.flags|=2048,mf(9,{destroy:void 0},oM.bind(null,y,P,p,u),null),p},useId:function(){var l=Ji(),u=Hn.identifierPrefix;if(sn){var p=os,y=as;p=(y&~(1<<32-et(y)-1)).toString(32)+p,u="_"+u+"R_"+p,p=gv++,0<p&&(u+="H"+p.toString(32)),u+="_"}else p=wV++,u="_"+u+"r_"+p.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:S1,useFormState:gM,useActionState:gM,useOptimistic:function(l){var u=Ji();u.memoizedState=u.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=C1.bind(null,Gt,!0,p),p.dispatch=u,[l,u]},useMemoCache:h1,useCacheRefresh:function(){return Ji().memoizedState=TV.bind(null,Gt)},useEffectEvent:function(l){var u=Ji(),p={impl:l};return u.memoizedState=p,function(){if((Cn&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},A1={readContext:wi,use:yv,useCallback:TM,useContext:wi,useEffect:y1,useImperativeHandle:EM,useInsertionEffect:CM,useLayoutEffect:AM,useMemo:kM,useReducer:bv,useRef:xM,useState:function(){return bv(al)},useDebugValue:b1,useDeferredValue:function(l,u){var p=_r();return PM(p,zn.memoizedState,l,u)},useTransition:function(){var l=bv(al)[0],u=_r().memoizedState;return[typeof l=="boolean"?l:_p(l),u]},useSyncExternalStore:iM,useId:jM,useHostTransitionStatus:S1,useFormState:vM,useActionState:vM,useOptimistic:function(l,u){var p=_r();return uM(p,zn,l,u)},useMemoCache:h1,useCacheRefresh:RM};A1.useEffectEvent=SM;var BM={readContext:wi,use:yv,useCallback:TM,useContext:wi,useEffect:y1,useImperativeHandle:EM,useInsertionEffect:CM,useLayoutEffect:AM,useMemo:kM,useReducer:m1,useRef:xM,useState:function(){return m1(al)},useDebugValue:b1,useDeferredValue:function(l,u){var p=_r();return zn===null?x1(p,l,u):PM(p,zn.memoizedState,l,u)},useTransition:function(){var l=m1(al)[0],u=_r().memoizedState;return[typeof l=="boolean"?l:_p(l),u]},useSyncExternalStore:iM,useId:jM,useHostTransitionStatus:S1,useFormState:bM,useActionState:bM,useOptimistic:function(l,u){var p=_r();return zn!==null?uM(p,zn,l,u):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:h1,useCacheRefresh:RM};BM.useEffectEvent=SM;function _1(l,u,p,y){u=l.memoizedState,p=p(y,u),p=p==null?u:h({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var E1={enqueueSetState:function(l,u,p){l=l._reactInternals;var y=za(),_=pc(y);_.payload=u,p!=null&&(_.callback=p),u=mc(l,_,y),u!==null&&(xa(u,l,y),wp(u,l,y))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var y=za(),_=pc(y);_.tag=1,_.payload=u,p!=null&&(_.callback=p),u=mc(l,_,y),u!==null&&(xa(u,l,y),wp(u,l,y))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=za(),y=pc(p);y.tag=2,u!=null&&(y.callback=u),u=mc(l,y,p),u!==null&&(xa(u,l,p),wp(u,l,p))}};function $M(l,u,p,y,_,P,$){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,P,$):u.prototype&&u.prototype.isPureReactComponent?!A(p,y)||!A(_,P):!0}function FM(l,u,p,y){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,y),u.state!==l&&E1.enqueueReplaceState(u,u.state,null)}function Ou(l,u){var p=u;if("ref"in u){p={};for(var y in u)y!=="ref"&&(p[y]=u[y])}if(l=l.defaultProps){p===u&&(p=h({},p));for(var _ in l)p[_]===void 0&&(p[_]=l[_])}return p}function UM(l){mt(l)}function HM(l){console.error(l)}function VM(l){mt(l)}function Cv(l,u){try{var p=l.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function qM(l,u,p){try{var y=l.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function T1(l,u,p){return p=pc(p),p.tag=3,p.payload={element:null},p.callback=function(){Cv(l,u)},p}function GM(l){return l=pc(l),l.tag=3,l}function YM(l,u,p,y){var _=p.type.getDerivedStateFromError;if(typeof _=="function"){var P=y.value;l.payload=function(){return _(P)},l.callback=function(){qM(u,p,y)}}var $=p.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(l.callback=function(){qM(u,p,y),typeof _!="function"&&(wc===null?wc=new Set([this]):wc.add(this));var Q=y.stack;this.componentDidCatch(y.value,{componentStack:Q!==null?Q:""})})}function PV(l,u,p,y,_){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=p.alternate,u!==null&&sf(u,p,_,!0),p=Ra.current,p!==null){switch(p.tag){case 31:case 13:return so===null?Lv():p.alternate===null&&yr===0&&(yr=3),p.flags&=-257,p.flags|=65536,p.lanes=_,y===uv?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([y]):u.add(y),Q1(l,y,_)),!1;case 22:return p.flags|=65536,y===uv?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([y]):p.add(y)),Q1(l,y,_)),!1}throw Error(r(435,p.tag))}return Q1(l,y,_),Lv(),!1}if(sn)return u=Ra.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=_,y!==Gw&&(l=Error(r(422),{cause:y}),gp(ro(l,p)))):(y!==Gw&&(u=Error(r(423),{cause:y}),gp(ro(u,p))),l=l.current.alternate,l.flags|=65536,_&=-_,l.lanes|=_,y=ro(y,p),_=T1(l.stateNode,y,_),r1(l,_),yr!==4&&(yr=2)),!1;var P=Error(r(520),{cause:y});if(P=ro(P,p),Lp===null?Lp=[P]:Lp.push(P),yr!==4&&(yr=2),u===null)return!0;y=ro(y,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,l=_&-_,p.lanes|=l,l=T1(p.stateNode,y,l),r1(p,l),!1;case 1:if(u=p.type,P=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(wc===null||!wc.has(P))))return p.flags|=65536,_&=-_,p.lanes|=_,_=GM(_),YM(_,l,p,y),r1(p,_),!1}p=p.return}while(p!==null);return!1}var k1=Error(r(461)),jr=!1;function Si(l,u,p,y){u.child=l===null?Z2(u,null,p,y):ku(u,l.child,p,y)}function KM(l,u,p,y,_){p=p.render;var P=u.ref;if("ref"in y){var $={};for(var Q in y)Q!=="ref"&&($[Q]=y[Q])}else $=y;return Au(u),y=c1(l,u,p,$,P,_),Q=u1(),l!==null&&!jr?(d1(l,u,_),ol(l,u,_)):(sn&&Q&&Vw(u),u.flags|=1,Si(l,u,y,_),u.child)}function WM(l,u,p,y,_){if(l===null){var P=p.type;return typeof P=="function"&&!Fw(P)&&P.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=P,XM(l,u,P,y,_)):(l=iv(p.type,null,y,u,u.mode,_),l.ref=u.ref,l.return=u,u.child=l)}if(P=l.child,!N1(l,_)){var $=P.memoizedProps;if(p=p.compare,p=p!==null?p:A,p($,y)&&l.ref===u.ref)return ol(l,u,_)}return u.flags|=1,l=el(P,y),l.ref=u.ref,l.return=u,u.child=l}function XM(l,u,p,y,_){if(l!==null){var P=l.memoizedProps;if(A(P,y)&&l.ref===u.ref)if(jr=!1,u.pendingProps=y=P,N1(l,_))(l.flags&131072)!==0&&(jr=!0);else return u.lanes=l.lanes,ol(l,u,_)}return P1(l,u,p,y,_)}function ZM(l,u,p,y){var _=y.children,P=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((u.flags&128)!==0){if(P=P!==null?P.baseLanes|p:p,l!==null){for(y=u.child=l.child,_=0;y!==null;)_=_|y.lanes|y.childLanes,y=y.sibling;y=_&~P}else y=0,u.child=null;return QM(l,u,P,p,y)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&lv(u,P!==null?P.cachePool:null),P!==null?eM(u,P):a1(),tM(u);else return y=u.lanes=536870912,QM(l,u,P!==null?P.baseLanes|p:p,p,y)}else P!==null?(lv(u,P.cachePool),eM(u,P),vc(),u.memoizedState=null):(l!==null&&lv(u,null),a1(),vc());return Si(l,u,_,p),u.child}function kp(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function QM(l,u,p,y,_){var P=Jw();return P=P===null?null:{parent:Mr._currentValue,pool:P},u.memoizedState={baseLanes:p,cachePool:P},l!==null&&lv(u,null),a1(),tM(u),l!==null&&sf(l,u,y,!0),u.childLanes=_,null}function Av(l,u){return u=Ev({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function JM(l,u,p){return ku(u,l.child,null,p),l=Av(u,u.pendingProps),l.flags|=2,La(u),u.memoizedState=null,l}function OV(l,u,p){var y=u.pendingProps,_=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(sn){if(y.mode==="hidden")return l=Av(u,y),u.lanes=536870912,kp(null,l);if(s1(u),(l=Jn)?(l=dj(l,oo),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:cc!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},p=N2(l),p.return=u,u.child=p,xi=u,Jn=null)):l=null,l===null)throw dc(u);return u.lanes=536870912,null}return Av(u,y)}var P=l.memoizedState;if(P!==null){var $=P.dehydrated;if(s1(u),_)if(u.flags&256)u.flags&=-257,u=JM(l,u,p);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(r(558));else if(jr||sf(l,u,p,!1),_=(p&l.childLanes)!==0,jr||_){if(y=Hn,y!==null&&($=Rt(y,p),$!==0&&$!==P.retryLane))throw P.retryLane=$,Pn(l,$),xa(y,l,$),k1;Lv(),u=JM(l,u,p)}else l=P.treeContext,Jn=lo($.nextSibling),xi=u,sn=!0,uc=null,oo=!1,l!==null&&B2(u,l),u=Av(u,y),u.flags|=4096;return u}return l=el(l.child,{mode:y.mode,children:y.children}),l.ref=u.ref,u.child=l,l.return=u,l}function _v(l,u){var p=u.ref;if(p===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(l===null||l.ref!==p)&&(u.flags|=4194816)}}function P1(l,u,p,y,_){return Au(u),p=c1(l,u,p,y,void 0,_),y=u1(),l!==null&&!jr?(d1(l,u,_),ol(l,u,_)):(sn&&y&&Vw(u),u.flags|=1,Si(l,u,p,_),u.child)}function eD(l,u,p,y,_,P){return Au(u),u.updateQueue=null,p=rM(u,y,p,_),nM(l),y=u1(),l!==null&&!jr?(d1(l,u,P),ol(l,u,P)):(sn&&y&&Vw(u),u.flags|=1,Si(l,u,p,P),u.child)}function tD(l,u,p,y,_){if(Au(u),u.stateNode===null){var P=nf,$=p.contextType;typeof $=="object"&&$!==null&&(P=wi($)),P=new p(y,P),u.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=E1,u.stateNode=P,P._reactInternals=u,P=u.stateNode,P.props=y,P.state=u.memoizedState,P.refs={},t1(u),$=p.contextType,P.context=typeof $=="object"&&$!==null?wi($):nf,P.state=u.memoizedState,$=p.getDerivedStateFromProps,typeof $=="function"&&(_1(u,p,$,y),P.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||($=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),$!==P.state&&E1.enqueueReplaceState(P,P.state,null),Cp(u,y,P,_),Sp(),P.state=u.memoizedState),typeof P.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(l===null){P=u.stateNode;var Q=u.memoizedProps,le=Ou(p,Q);P.props=le;var Ee=P.context,Ie=p.contextType;$=nf,typeof Ie=="object"&&Ie!==null&&($=wi(Ie));var Ye=p.getDerivedStateFromProps;Ie=typeof Ye=="function"||typeof P.getSnapshotBeforeUpdate=="function",Q=u.pendingProps!==Q,Ie||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(Q||Ee!==$)&&FM(u,P,y,$),hc=!1;var ke=u.memoizedState;P.state=ke,Cp(u,y,P,_),Sp(),Ee=u.memoizedState,Q||ke!==Ee||hc?(typeof Ye=="function"&&(_1(u,p,Ye,y),Ee=u.memoizedState),(le=hc||$M(u,p,le,y,ke,Ee,$))?(Ie||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(u.flags|=4194308)):(typeof P.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=Ee),P.props=y,P.state=Ee,P.context=$,y=le):(typeof P.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{P=u.stateNode,n1(l,u),$=u.memoizedProps,Ie=Ou(p,$),P.props=Ie,Ye=u.pendingProps,ke=P.context,Ee=p.contextType,le=nf,typeof Ee=="object"&&Ee!==null&&(le=wi(Ee)),Q=p.getDerivedStateFromProps,(Ee=typeof Q=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||($!==Ye||ke!==le)&&FM(u,P,y,le),hc=!1,ke=u.memoizedState,P.state=ke,Cp(u,y,P,_),Sp();var Me=u.memoizedState;$!==Ye||ke!==Me||hc||l!==null&&l.dependencies!==null&&ov(l.dependencies)?(typeof Q=="function"&&(_1(u,p,Q,y),Me=u.memoizedState),(Ie=hc||$M(u,p,Ie,y,ke,Me,le)||l!==null&&l.dependencies!==null&&ov(l.dependencies))?(Ee||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(y,Me,le),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(y,Me,le)),typeof P.componentDidUpdate=="function"&&(u.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof P.componentDidUpdate!="function"||$===l.memoizedProps&&ke===l.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&ke===l.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Me),P.props=y,P.state=Me,P.context=le,y=Ie):(typeof P.componentDidUpdate!="function"||$===l.memoizedProps&&ke===l.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&ke===l.memoizedState||(u.flags|=1024),y=!1)}return P=y,_v(l,u),y=(u.flags&128)!==0,P||y?(P=u.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:P.render(),u.flags|=1,l!==null&&y?(u.child=ku(u,l.child,null,_),u.child=ku(u,null,p,_)):Si(l,u,p,_),u.memoizedState=P.state,l=u.child):l=ol(l,u,_),l}function nD(l,u,p,y){return Su(),u.flags|=256,Si(l,u,p,y),u.child}var O1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function M1(l){return{baseLanes:l,cachePool:q2()}}function D1(l,u,p){return l=l!==null?l.childLanes&~p:0,u&&(l|=Ia),l}function rD(l,u,p){var y=u.pendingProps,_=!1,P=(u.flags&128)!==0,$;if(($=P)||($=l!==null&&l.memoizedState===null?!1:(Ar.current&2)!==0),$&&(_=!0,u.flags&=-129),$=(u.flags&32)!==0,u.flags&=-33,l===null){if(sn){if(_?gc(u):vc(),(l=Jn)?(l=dj(l,oo),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:cc!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},p=N2(l),p.return=u,u.child=p,xi=u,Jn=null)):l=null,l===null)throw dc(u);return pS(l)?u.lanes=32:u.lanes=536870912,null}var Q=y.children;return y=y.fallback,_?(vc(),_=u.mode,Q=Ev({mode:"hidden",children:Q},_),y=wu(y,_,p,null),Q.return=u,y.return=u,Q.sibling=y,u.child=Q,y=u.child,y.memoizedState=M1(p),y.childLanes=D1(l,$,p),u.memoizedState=O1,kp(null,y)):(gc(u),j1(u,Q))}var le=l.memoizedState;if(le!==null&&(Q=le.dehydrated,Q!==null)){if(P)u.flags&256?(gc(u),u.flags&=-257,u=R1(l,u,p)):u.memoizedState!==null?(vc(),u.child=l.child,u.flags|=128,u=null):(vc(),Q=y.fallback,_=u.mode,y=Ev({mode:"visible",children:y.children},_),Q=wu(Q,_,p,null),Q.flags|=2,y.return=u,Q.return=u,y.sibling=Q,u.child=y,ku(u,l.child,null,p),y=u.child,y.memoizedState=M1(p),y.childLanes=D1(l,$,p),u.memoizedState=O1,u=kp(null,y));else if(gc(u),pS(Q)){if($=Q.nextSibling&&Q.nextSibling.dataset,$)var Ee=$.dgst;$=Ee,y=Error(r(419)),y.stack="",y.digest=$,gp({value:y,source:null,stack:null}),u=R1(l,u,p)}else if(jr||sf(l,u,p,!1),$=(p&l.childLanes)!==0,jr||$){if($=Hn,$!==null&&(y=Rt($,p),y!==0&&y!==le.retryLane))throw le.retryLane=y,Pn(l,y),xa($,l,y),k1;hS(Q)||Lv(),u=R1(l,u,p)}else hS(Q)?(u.flags|=192,u.child=l.child,u=null):(l=le.treeContext,Jn=lo(Q.nextSibling),xi=u,sn=!0,uc=null,oo=!1,l!==null&&B2(u,l),u=j1(u,y.children),u.flags|=4096);return u}return _?(vc(),Q=y.fallback,_=u.mode,le=l.child,Ee=le.sibling,y=el(le,{mode:"hidden",children:y.children}),y.subtreeFlags=le.subtreeFlags&65011712,Ee!==null?Q=el(Ee,Q):(Q=wu(Q,_,p,null),Q.flags|=2),Q.return=u,y.return=u,y.sibling=Q,u.child=y,kp(null,y),y=u.child,Q=l.child.memoizedState,Q===null?Q=M1(p):(_=Q.cachePool,_!==null?(le=Mr._currentValue,_=_.parent!==le?{parent:le,pool:le}:_):_=q2(),Q={baseLanes:Q.baseLanes|p,cachePool:_}),y.memoizedState=Q,y.childLanes=D1(l,$,p),u.memoizedState=O1,kp(l.child,y)):(gc(u),p=l.child,l=p.sibling,p=el(p,{mode:"visible",children:y.children}),p.return=u,p.sibling=null,l!==null&&($=u.deletions,$===null?(u.deletions=[l],u.flags|=16):$.push(l)),u.child=p,u.memoizedState=null,p)}function j1(l,u){return u=Ev({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function Ev(l,u){return l=ja(22,l,null,u),l.lanes=0,l}function R1(l,u,p){return ku(u,l.child,null,p),l=j1(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function iD(l,u,p){l.lanes|=u;var y=l.alternate;y!==null&&(y.lanes|=u),Ww(l.return,u,p)}function L1(l,u,p,y,_,P){var $=l.memoizedState;$===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:_,treeForkCount:P}:($.isBackwards=u,$.rendering=null,$.renderingStartTime=0,$.last=y,$.tail=p,$.tailMode=_,$.treeForkCount=P)}function aD(l,u,p){var y=u.pendingProps,_=y.revealOrder,P=y.tail;y=y.children;var $=Ar.current,Q=($&2)!==0;if(Q?($=$&1|2,u.flags|=128):$&=1,ne(Ar,$),Si(l,u,y,p),y=sn?mp:0,!Q&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&iD(l,p,u);else if(l.tag===19)iD(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(_){case"forwards":for(p=u.child,_=null;p!==null;)l=p.alternate,l!==null&&pv(l)===null&&(_=p),p=p.sibling;p=_,p===null?(_=u.child,u.child=null):(_=p.sibling,p.sibling=null),L1(u,!1,_,p,P,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,_=u.child,u.child=null;_!==null;){if(l=_.alternate,l!==null&&pv(l)===null){u.child=_;break}l=_.sibling,_.sibling=p,p=_,_=l}L1(u,!0,p,null,P,y);break;case"together":L1(u,!1,null,null,void 0,y);break;default:u.memoizedState=null}return u.child}function ol(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),xc|=u.lanes,(p&u.childLanes)===0)if(l!==null){if(sf(l,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,p=el(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=el(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function N1(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&ov(l)))}function MV(l,u,p){switch(u.tag){case 3:qe(u,u.stateNode.containerInfo),fc(u,Mr,l.memoizedState.cache),Su();break;case 27:case 5:se(u);break;case 4:qe(u,u.stateNode.containerInfo);break;case 10:fc(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,s1(u),null;break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(gc(u),u.flags|=128,null):(p&u.child.childLanes)!==0?rD(l,u,p):(gc(u),l=ol(l,u,p),l!==null?l.sibling:null);gc(u);break;case 19:var _=(l.flags&128)!==0;if(y=(p&u.childLanes)!==0,y||(sf(l,u,p,!1),y=(p&u.childLanes)!==0),_){if(y)return aD(l,u,p);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ne(Ar,Ar.current),y)break;return null;case 22:return u.lanes=0,ZM(l,u,p,u.pendingProps);case 24:fc(u,Mr,l.memoizedState.cache)}return ol(l,u,p)}function oD(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps)jr=!0;else{if(!N1(l,p)&&(u.flags&128)===0)return jr=!1,MV(l,u,p);jr=(l.flags&131072)!==0}else jr=!1,sn&&(u.flags&1048576)!==0&&z2(u,mp,u.index);switch(u.lanes=0,u.tag){case 16:e:{var y=u.pendingProps;if(l=Eu(u.elementType),u.type=l,typeof l=="function")Fw(l)?(y=Ou(l,y),u.tag=1,u=tD(null,u,l,y,p)):(u.tag=0,u=P1(null,u,l,y,p));else{if(l!=null){var _=l.$$typeof;if(_===k){u.tag=11,u=KM(null,u,l,y,p);break e}else if(_===j){u.tag=14,u=WM(null,u,l,y,p);break e}}throw u=X(l)||l,Error(r(306,u,""))}}return u;case 0:return P1(l,u,u.type,u.pendingProps,p);case 1:return y=u.type,_=Ou(y,u.pendingProps),tD(l,u,y,_,p);case 3:e:{if(qe(u,u.stateNode.containerInfo),l===null)throw Error(r(387));y=u.pendingProps;var P=u.memoizedState;_=P.element,n1(l,u),Cp(u,y,null,p);var $=u.memoizedState;if(y=$.cache,fc(u,Mr,y),y!==P.cache&&Xw(u,[Mr],p,!0),Sp(),y=$.element,P.isDehydrated)if(P={element:y,isDehydrated:!1,cache:$.cache},u.updateQueue.baseState=P,u.memoizedState=P,u.flags&256){u=nD(l,u,y,p);break e}else if(y!==_){_=ro(Error(r(424)),u),gp(_),u=nD(l,u,y,p);break e}else for(l=u.stateNode.containerInfo,l.nodeType===9?l=l.body:l=l.nodeName==="HTML"?l.ownerDocument.body:l,Jn=lo(l.firstChild),xi=u,sn=!0,uc=null,oo=!0,p=Z2(u,null,y,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Su(),y===_){u=ol(l,u,p);break e}Si(l,u,y,p)}u=u.child}return u;case 26:return _v(l,u),l===null?(p=vj(u.type,null,u.pendingProps,null))?u.memoizedState=p:sn||(p=u.type,l=u.pendingProps,y=Uv(we.current).createElement(p),y[fn]=u,y[Un]=l,Ci(y,p,l),Cr(y),u.stateNode=y):u.memoizedState=vj(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return se(u),l===null&&sn&&(y=u.stateNode=pj(u.type,u.pendingProps,we.current),xi=u,oo=!0,_=Jn,_c(u.type)?(mS=_,Jn=lo(y.firstChild)):Jn=_),Si(l,u,u.pendingProps.children,p),_v(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&sn&&((_=y=Jn)&&(y=sq(y,u.type,u.pendingProps,oo),y!==null?(u.stateNode=y,xi=u,Jn=lo(y.firstChild),oo=!1,_=!0):_=!1),_||dc(u)),se(u),_=u.type,P=u.pendingProps,$=l!==null?l.memoizedProps:null,y=P.children,uS(_,P)?y=null:$!==null&&uS(_,$)&&(u.flags|=32),u.memoizedState!==null&&(_=c1(l,u,SV,null,null,p),Hp._currentValue=_),_v(l,u),Si(l,u,y,p),u.child;case 6:return l===null&&sn&&((l=p=Jn)&&(p=lq(p,u.pendingProps,oo),p!==null?(u.stateNode=p,xi=u,Jn=null,l=!0):l=!1),l||dc(u)),null;case 13:return rD(l,u,p);case 4:return qe(u,u.stateNode.containerInfo),y=u.pendingProps,l===null?u.child=ku(u,null,y,p):Si(l,u,y,p),u.child;case 11:return KM(l,u,u.type,u.pendingProps,p);case 7:return Si(l,u,u.pendingProps,p),u.child;case 8:return Si(l,u,u.pendingProps.children,p),u.child;case 12:return Si(l,u,u.pendingProps.children,p),u.child;case 10:return y=u.pendingProps,fc(u,u.type,y.value),Si(l,u,y.children,p),u.child;case 9:return _=u.type._context,y=u.pendingProps.children,Au(u),_=wi(_),y=y(_),u.flags|=1,Si(l,u,y,p),u.child;case 14:return WM(l,u,u.type,u.pendingProps,p);case 15:return XM(l,u,u.type,u.pendingProps,p);case 19:return aD(l,u,p);case 31:return OV(l,u,p);case 22:return ZM(l,u,p,u.pendingProps);case 24:return Au(u),y=wi(Mr),l===null?(_=Jw(),_===null&&(_=Hn,P=Zw(),_.pooledCache=P,P.refCount++,P!==null&&(_.pooledCacheLanes|=p),_=P),u.memoizedState={parent:y,cache:_},t1(u),fc(u,Mr,_)):((l.lanes&p)!==0&&(n1(l,u),Cp(u,null,null,p),Sp()),_=l.memoizedState,P=u.memoizedState,_.parent!==y?(_={parent:y,cache:y},u.memoizedState=_,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=_),fc(u,Mr,y)):(y=P.cache,fc(u,Mr,y),y!==_.cache&&Xw(u,[Mr],p,!0))),Si(l,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function sl(l){l.flags|=4}function I1(l,u,p,y,_){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(_&335544128)===_)if(l.stateNode.complete)l.flags|=8192;else if(jD())l.flags|=8192;else throw Tu=uv,e1}else l.flags&=-16777217}function sD(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!Sj(u))if(jD())l.flags|=8192;else throw Tu=uv,e1}function Tv(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Mn():536870912,l.lanes|=u,bf|=u)}function Pp(l,u){if(!sn)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function er(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,y=0;if(u)for(var _=l.child;_!==null;)p|=_.lanes|_.childLanes,y|=_.subtreeFlags&65011712,y|=_.flags&65011712,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)p|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=y,l.childLanes=p,u}function DV(l,u,p){var y=u.pendingProps;switch(qw(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(u),null;case 1:return er(u),null;case 3:return p=u.stateNode,y=null,l!==null&&(y=l.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),rl(Mr),ae(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(of(u)?sl(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Yw())),er(u),null;case 26:var _=u.type,P=u.memoizedState;return l===null?(sl(u),P!==null?(er(u),sD(u,P)):(er(u),I1(u,_,null,y,p))):P?P!==l.memoizedState?(sl(u),er(u),sD(u,P)):(er(u),u.flags&=-16777217):(l=l.memoizedProps,l!==y&&sl(u),er(u),I1(u,_,l,y,p)),null;case 27:if(Le(u),p=we.current,_=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==y&&sl(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return er(u),null}l=ie.current,of(u)?$2(u):(l=pj(_,y,p),u.stateNode=l,sl(u))}return er(u),null;case 5:if(Le(u),_=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==y&&sl(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return er(u),null}if(P=ie.current,of(u))$2(u);else{var $=Uv(we.current);switch(P){case 1:P=$.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:P=$.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":P=$.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":P=$.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":P=$.createElement("div"),P.innerHTML="<script><\/script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof y.is=="string"?$.createElement("select",{is:y.is}):$.createElement("select"),y.multiple?P.multiple=!0:y.size&&(P.size=y.size);break;default:P=typeof y.is=="string"?$.createElement(_,{is:y.is}):$.createElement(_)}}P[fn]=u,P[Un]=y;e:for($=u.child;$!==null;){if($.tag===5||$.tag===6)P.appendChild($.stateNode);else if($.tag!==4&&$.tag!==27&&$.child!==null){$.child.return=$,$=$.child;continue}if($===u)break e;for(;$.sibling===null;){if($.return===null||$.return===u)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}u.stateNode=P;e:switch(Ci(P,_,y),_){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&sl(u)}}return er(u),I1(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,p),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==y&&sl(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(l=we.current,of(u)){if(l=u.stateNode,p=u.memoizedProps,y=null,_=xi,_!==null)switch(_.tag){case 27:case 5:y=_.memoizedProps}l[fn]=u,l=!!(l.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||rj(l.nodeValue,p)),l||dc(u,!0)}else l=Uv(l).createTextNode(y),l[fn]=u,u.stateNode=l}return er(u),null;case 31:if(p=u.memoizedState,l===null||l.memoizedState!==null){if(y=of(u),p!==null){if(l===null){if(!y)throw Error(r(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[fn]=u}else Su(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;er(u),l=!1}else p=Yw(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=p),l=!0;if(!l)return u.flags&256?(La(u),u):(La(u),null);if((u.flags&128)!==0)throw Error(r(558))}return er(u),null;case 13:if(y=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(_=of(u),y!==null&&y.dehydrated!==null){if(l===null){if(!_)throw Error(r(318));if(_=u.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[fn]=u}else Su(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;er(u),_=!1}else _=Yw(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=_),_=!0;if(!_)return u.flags&256?(La(u),u):(La(u),null)}return La(u),(u.flags&128)!==0?(u.lanes=p,u):(p=y!==null,l=l!==null&&l.memoizedState!==null,p&&(y=u.child,_=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(_=y.alternate.memoizedState.cachePool.pool),P=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(P=y.memoizedState.cachePool.pool),P!==_&&(y.flags|=2048)),p!==l&&p&&(u.child.flags|=8192),Tv(u,u.updateQueue),er(u),null);case 4:return ae(),l===null&&aS(u.stateNode.containerInfo),er(u),null;case 10:return rl(u.type),er(u),null;case 19:if(Y(Ar),y=u.memoizedState,y===null)return er(u),null;if(_=(u.flags&128)!==0,P=y.rendering,P===null)if(_)Pp(y,!1);else{if(yr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(P=pv(l),P!==null){for(u.flags|=128,Pp(y,!1),l=P.updateQueue,u.updateQueue=l,Tv(u,l),u.subtreeFlags=0,l=p,p=u.child;p!==null;)L2(p,l),p=p.sibling;return ne(Ar,Ar.current&1|2),sn&&tl(u,y.treeForkCount),u.child}l=l.sibling}y.tail!==null&&Be()>Dv&&(u.flags|=128,_=!0,Pp(y,!1),u.lanes=4194304)}else{if(!_)if(l=pv(P),l!==null){if(u.flags|=128,_=!0,l=l.updateQueue,u.updateQueue=l,Tv(u,l),Pp(y,!0),y.tail===null&&y.tailMode==="hidden"&&!P.alternate&&!sn)return er(u),null}else 2*Be()-y.renderingStartTime>Dv&&p!==536870912&&(u.flags|=128,_=!0,Pp(y,!1),u.lanes=4194304);y.isBackwards?(P.sibling=u.child,u.child=P):(l=y.last,l!==null?l.sibling=P:u.child=P,y.last=P)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Be(),l.sibling=null,p=Ar.current,ne(Ar,_?p&1|2:p&1),sn&&tl(u,y.treeForkCount),l):(er(u),null);case 22:case 23:return La(u),o1(),y=u.memoizedState!==null,l!==null?l.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(p&536870912)!==0&&(u.flags&128)===0&&(er(u),u.subtreeFlags&6&&(u.flags|=8192)):er(u),p=u.updateQueue,p!==null&&Tv(u,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048),l!==null&&Y(_u),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),rl(Mr),er(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function jV(l,u){switch(qw(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return rl(Mr),ae(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return Le(u),null;case 31:if(u.memoizedState!==null){if(La(u),u.alternate===null)throw Error(r(340));Su()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(La(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Su()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Y(Ar),null;case 4:return ae(),null;case 10:return rl(u.type),null;case 22:case 23:return La(u),o1(),l!==null&&Y(_u),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return rl(Mr),null;case 25:return null;default:return null}}function lD(l,u){switch(qw(u),u.tag){case 3:rl(Mr),ae();break;case 26:case 27:case 5:Le(u);break;case 4:ae();break;case 31:u.memoizedState!==null&&La(u);break;case 13:La(u);break;case 19:Y(Ar);break;case 10:rl(u.type);break;case 22:case 23:La(u),o1(),l!==null&&Y(_u);break;case 24:rl(Mr)}}function Op(l,u){try{var p=u.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var _=y.next;p=_;do{if((p.tag&l)===l){y=void 0;var P=p.create,$=p.inst;y=P(),$.destroy=y}p=p.next}while(p!==_)}}catch(Q){jn(u,u.return,Q)}}function yc(l,u,p){try{var y=u.updateQueue,_=y!==null?y.lastEffect:null;if(_!==null){var P=_.next;y=P;do{if((y.tag&l)===l){var $=y.inst,Q=$.destroy;if(Q!==void 0){$.destroy=void 0,_=u;var le=p,Ee=Q;try{Ee()}catch(Ie){jn(_,le,Ie)}}}y=y.next}while(y!==P)}}catch(Ie){jn(u,u.return,Ie)}}function cD(l){var u=l.updateQueue;if(u!==null){var p=l.stateNode;try{J2(u,p)}catch(y){jn(l,l.return,y)}}}function uD(l,u,p){p.props=Ou(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(y){jn(l,u,y)}}function Mp(l,u){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var y=l.stateNode;break;case 30:y=l.stateNode;break;default:y=l.stateNode}typeof p=="function"?l.refCleanup=p(y):p.current=y}}catch(_){jn(l,u,_)}}function ss(l,u){var p=l.ref,y=l.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(_){jn(l,u,_)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(_){jn(l,u,_)}else p.current=null}function dD(l){var u=l.type,p=l.memoizedProps,y=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(_){jn(l,l.return,_)}}function z1(l,u,p){try{var y=l.stateNode;tq(y,l.type,p,u),y[Un]=u}catch(_){jn(l,l.return,_)}}function fD(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&_c(l.type)||l.tag===4}function B1(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||fD(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&_c(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function $1(l,u,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(l),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=ma));else if(y!==4&&(y===27&&_c(l.type)&&(p=l.stateNode,u=null),l=l.child,l!==null))for($1(l,u,p),l=l.sibling;l!==null;)$1(l,u,p),l=l.sibling}function kv(l,u,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(y!==4&&(y===27&&_c(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(kv(l,u,p),l=l.sibling;l!==null;)kv(l,u,p),l=l.sibling}function hD(l){var u=l.stateNode,p=l.memoizedProps;try{for(var y=l.type,_=u.attributes;_.length;)u.removeAttributeNode(_[0]);Ci(u,y,p),u[fn]=l,u[Un]=p}catch(P){jn(l,l.return,P)}}var ll=!1,Rr=!1,F1=!1,pD=typeof WeakSet=="function"?WeakSet:Set,oi=null;function RV(l,u){if(l=l.containerInfo,lS=Wv,l=H(l),Z(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var _=y.anchorOffset,P=y.focusNode;y=y.focusOffset;try{p.nodeType,P.nodeType}catch{p=null;break e}var $=0,Q=-1,le=-1,Ee=0,Ie=0,Ye=l,ke=null;t:for(;;){for(var Me;Ye!==p||_!==0&&Ye.nodeType!==3||(Q=$+_),Ye!==P||y!==0&&Ye.nodeType!==3||(le=$+y),Ye.nodeType===3&&($+=Ye.nodeValue.length),(Me=Ye.firstChild)!==null;)ke=Ye,Ye=Me;for(;;){if(Ye===l)break t;if(ke===p&&++Ee===_&&(Q=$),ke===P&&++Ie===y&&(le=$),(Me=Ye.nextSibling)!==null)break;Ye=ke,ke=Ye.parentNode}Ye=Me}p=Q===-1||le===-1?null:{start:Q,end:le}}else p=null}p=p||{start:0,end:0}}else p=null;for(cS={focusedElem:l,selectionRange:p},Wv=!1,oi=u;oi!==null;)if(u=oi,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,oi=l;else for(;oi!==null;){switch(u=oi,P=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(p=0;p<l.length;p++)_=l[p],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&P!==null){l=void 0,p=u,_=P.memoizedProps,P=P.memoizedState,y=p.stateNode;try{var xt=Ou(p.type,_);l=y.getSnapshotBeforeUpdate(xt,P),y.__reactInternalSnapshotBeforeUpdate=l}catch(Mt){jn(p,p.return,Mt)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,p=l.nodeType,p===9)fS(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":fS(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,oi=l;break}oi=u.return}}function mD(l,u,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:ul(l,p),y&4&&Op(5,p);break;case 1:if(ul(l,p),y&4)if(l=p.stateNode,u===null)try{l.componentDidMount()}catch($){jn(p,p.return,$)}else{var _=Ou(p.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(_,u,l.__reactInternalSnapshotBeforeUpdate)}catch($){jn(p,p.return,$)}}y&64&&cD(p),y&512&&Mp(p,p.return);break;case 3:if(ul(l,p),y&64&&(l=p.updateQueue,l!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{J2(l,u)}catch($){jn(p,p.return,$)}}break;case 27:u===null&&y&4&&hD(p);case 26:case 5:ul(l,p),u===null&&y&4&&dD(p),y&512&&Mp(p,p.return);break;case 12:ul(l,p);break;case 31:ul(l,p),y&4&&yD(l,p);break;case 13:ul(l,p),y&4&&bD(l,p),y&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=HV.bind(null,p),cq(l,p))));break;case 22:if(y=p.memoizedState!==null||ll,!y){u=u!==null&&u.memoizedState!==null||Rr,_=ll;var P=Rr;ll=y,(Rr=u)&&!P?dl(l,p,(p.subtreeFlags&8772)!==0):ul(l,p),ll=_,Rr=P}break;case 30:break;default:ul(l,p)}}function gD(l){var u=l.alternate;u!==null&&(l.alternate=null,gD(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&yi(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var rr=null,ga=!1;function cl(l,u,p){for(p=p.child;p!==null;)vD(l,u,p),p=p.sibling}function vD(l,u,p){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Xn,p)}catch{}switch(p.tag){case 26:Rr||ss(p,u),cl(l,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Rr||ss(p,u);var y=rr,_=ga;_c(p.type)&&(rr=p.stateNode,ga=!1),cl(l,u,p),$p(p.stateNode),rr=y,ga=_;break;case 5:Rr||ss(p,u);case 6:if(y=rr,_=ga,rr=null,cl(l,u,p),rr=y,ga=_,rr!==null)if(ga)try{(rr.nodeType===9?rr.body:rr.nodeName==="HTML"?rr.ownerDocument.body:rr).removeChild(p.stateNode)}catch(P){jn(p,u,P)}else try{rr.removeChild(p.stateNode)}catch(P){jn(p,u,P)}break;case 18:rr!==null&&(ga?(l=rr,cj(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),Tf(l)):cj(rr,p.stateNode));break;case 4:y=rr,_=ga,rr=p.stateNode.containerInfo,ga=!0,cl(l,u,p),rr=y,ga=_;break;case 0:case 11:case 14:case 15:yc(2,p,u),Rr||yc(4,p,u),cl(l,u,p);break;case 1:Rr||(ss(p,u),y=p.stateNode,typeof y.componentWillUnmount=="function"&&uD(p,u,y)),cl(l,u,p);break;case 21:cl(l,u,p);break;case 22:Rr=(y=Rr)||p.memoizedState!==null,cl(l,u,p),Rr=y;break;default:cl(l,u,p)}}function yD(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Tf(l)}catch(p){jn(u,u.return,p)}}}function bD(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Tf(l)}catch(p){jn(u,u.return,p)}}function LV(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new pD),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new pD),u;default:throw Error(r(435,l.tag))}}function Pv(l,u){var p=LV(l);u.forEach(function(y){if(!p.has(y)){p.add(y);var _=VV.bind(null,l,y);y.then(_,_)}})}function va(l,u){var p=u.deletions;if(p!==null)for(var y=0;y<p.length;y++){var _=p[y],P=l,$=u,Q=$;e:for(;Q!==null;){switch(Q.tag){case 27:if(_c(Q.type)){rr=Q.stateNode,ga=!1;break e}break;case 5:rr=Q.stateNode,ga=!1;break e;case 3:case 4:rr=Q.stateNode.containerInfo,ga=!0;break e}Q=Q.return}if(rr===null)throw Error(r(160));vD(P,$,_),rr=null,ga=!1,P=_.alternate,P!==null&&(P.return=null),_.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)xD(u,l),u=u.sibling}var Ro=null;function xD(l,u){var p=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:va(u,l),ya(l),y&4&&(yc(3,l,l.return),Op(3,l),yc(5,l,l.return));break;case 1:va(u,l),ya(l),y&512&&(Rr||p===null||ss(p,p.return)),y&64&&ll&&(l=l.updateQueue,l!==null&&(y=l.callbacks,y!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var _=Ro;if(va(u,l),ya(l),y&512&&(Rr||p===null||ss(p,p.return)),y&4){var P=p!==null?p.memoizedState:null;if(y=l.memoizedState,p===null)if(y===null)if(l.stateNode===null){e:{y=l.type,p=l.memoizedProps,_=_.ownerDocument||_;t:switch(y){case"title":P=_.getElementsByTagName("title")[0],(!P||P[Nn]||P[fn]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=_.createElement(y),_.head.insertBefore(P,_.querySelector("head > title"))),Ci(P,y,p),P[fn]=l,Cr(P),y=P;break e;case"link":var $=xj("link","href",_).get(y+(p.href||""));if($){for(var Q=0;Q<$.length;Q++)if(P=$[Q],P.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&P.getAttribute("rel")===(p.rel==null?null:p.rel)&&P.getAttribute("title")===(p.title==null?null:p.title)&&P.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){$.splice(Q,1);break t}}P=_.createElement(y),Ci(P,y,p),_.head.appendChild(P);break;case"meta":if($=xj("meta","content",_).get(y+(p.content||""))){for(Q=0;Q<$.length;Q++)if(P=$[Q],P.getAttribute("content")===(p.content==null?null:""+p.content)&&P.getAttribute("name")===(p.name==null?null:p.name)&&P.getAttribute("property")===(p.property==null?null:p.property)&&P.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&P.getAttribute("charset")===(p.charSet==null?null:p.charSet)){$.splice(Q,1);break t}}P=_.createElement(y),Ci(P,y,p),_.head.appendChild(P);break;default:throw Error(r(468,y))}P[fn]=l,Cr(P),y=P}l.stateNode=y}else wj(_,l.type,l.stateNode);else l.stateNode=bj(_,y,l.memoizedProps);else P!==y?(P===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):P.count--,y===null?wj(_,l.type,l.stateNode):bj(_,y,l.memoizedProps)):y===null&&l.stateNode!==null&&z1(l,l.memoizedProps,p.memoizedProps)}break;case 27:va(u,l),ya(l),y&512&&(Rr||p===null||ss(p,p.return)),p!==null&&y&4&&z1(l,l.memoizedProps,p.memoizedProps);break;case 5:if(va(u,l),ya(l),y&512&&(Rr||p===null||ss(p,p.return)),l.flags&32){_=l.stateNode;try{Vs(_,"")}catch(xt){jn(l,l.return,xt)}}y&4&&l.stateNode!=null&&(_=l.memoizedProps,z1(l,_,p!==null?p.memoizedProps:_)),y&1024&&(F1=!0);break;case 6:if(va(u,l),ya(l),y&4){if(l.stateNode===null)throw Error(r(162));y=l.memoizedProps,p=l.stateNode;try{p.nodeValue=y}catch(xt){jn(l,l.return,xt)}}break;case 3:if(qv=null,_=Ro,Ro=Hv(u.containerInfo),va(u,l),Ro=_,ya(l),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Tf(u.containerInfo)}catch(xt){jn(l,l.return,xt)}F1&&(F1=!1,wD(l));break;case 4:y=Ro,Ro=Hv(l.stateNode.containerInfo),va(u,l),ya(l),Ro=y;break;case 12:va(u,l),ya(l);break;case 31:va(u,l),ya(l),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,Pv(l,y)));break;case 13:va(u,l),ya(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Mv=Be()),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,Pv(l,y)));break;case 22:_=l.memoizedState!==null;var le=p!==null&&p.memoizedState!==null,Ee=ll,Ie=Rr;if(ll=Ee||_,Rr=Ie||le,va(u,l),Rr=Ie,ll=Ee,ya(l),y&8192)e:for(u=l.stateNode,u._visibility=_?u._visibility&-2:u._visibility|1,_&&(p===null||le||ll||Rr||Mu(l)),p=null,u=l;;){if(u.tag===5||u.tag===26){if(p===null){le=p=u;try{if(P=le.stateNode,_)$=P.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{Q=le.stateNode;var Ye=le.memoizedProps.style,ke=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;Q.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(xt){jn(le,le.return,xt)}}}else if(u.tag===6){if(p===null){le=u;try{le.stateNode.nodeValue=_?"":le.memoizedProps}catch(xt){jn(le,le.return,xt)}}}else if(u.tag===18){if(p===null){le=u;try{var Me=le.stateNode;_?uj(Me,!0):uj(le.stateNode,!1)}catch(xt){jn(le,le.return,xt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=l.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,Pv(l,p))));break;case 19:va(u,l),ya(l),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,Pv(l,y)));break;case 30:break;case 21:break;default:va(u,l),ya(l)}}function ya(l){var u=l.flags;if(u&2){try{for(var p,y=l.return;y!==null;){if(fD(y)){p=y;break}y=y.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var _=p.stateNode,P=B1(l);kv(l,P,_);break;case 5:var $=p.stateNode;p.flags&32&&(Vs($,""),p.flags&=-33);var Q=B1(l);kv(l,Q,$);break;case 3:case 4:var le=p.stateNode.containerInfo,Ee=B1(l);$1(l,Ee,le);break;default:throw Error(r(161))}}catch(Ie){jn(l,l.return,Ie)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function wD(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;wD(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function ul(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)mD(l,u.alternate,u),u=u.sibling}function Mu(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:yc(4,u,u.return),Mu(u);break;case 1:ss(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&uD(u,u.return,p),Mu(u);break;case 27:$p(u.stateNode);case 26:case 5:ss(u,u.return),Mu(u);break;case 22:u.memoizedState===null&&Mu(u);break;case 30:Mu(u);break;default:Mu(u)}l=l.sibling}}function dl(l,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,_=l,P=u,$=P.flags;switch(P.tag){case 0:case 11:case 15:dl(_,P,p),Op(4,P);break;case 1:if(dl(_,P,p),y=P,_=y.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Ee){jn(y,y.return,Ee)}if(y=P,_=y.updateQueue,_!==null){var Q=y.stateNode;try{var le=_.shared.hiddenCallbacks;if(le!==null)for(_.shared.hiddenCallbacks=null,_=0;_<le.length;_++)Q2(le[_],Q)}catch(Ee){jn(y,y.return,Ee)}}p&&$&64&&cD(P),Mp(P,P.return);break;case 27:hD(P);case 26:case 5:dl(_,P,p),p&&y===null&&$&4&&dD(P),Mp(P,P.return);break;case 12:dl(_,P,p);break;case 31:dl(_,P,p),p&&$&4&&yD(_,P);break;case 13:dl(_,P,p),p&&$&4&&bD(_,P);break;case 22:P.memoizedState===null&&dl(_,P,p),Mp(P,P.return);break;case 30:break;default:dl(_,P,p)}u=u.sibling}}function U1(l,u){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&vp(p))}function H1(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&vp(l))}function Lo(l,u,p,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)SD(l,u,p,y),u=u.sibling}function SD(l,u,p,y){var _=u.flags;switch(u.tag){case 0:case 11:case 15:Lo(l,u,p,y),_&2048&&Op(9,u);break;case 1:Lo(l,u,p,y);break;case 3:Lo(l,u,p,y),_&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&vp(l)));break;case 12:if(_&2048){Lo(l,u,p,y),l=u.stateNode;try{var P=u.memoizedProps,$=P.id,Q=P.onPostCommit;typeof Q=="function"&&Q($,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(le){jn(u,u.return,le)}}else Lo(l,u,p,y);break;case 31:Lo(l,u,p,y);break;case 13:Lo(l,u,p,y);break;case 23:break;case 22:P=u.stateNode,$=u.alternate,u.memoizedState!==null?P._visibility&2?Lo(l,u,p,y):Dp(l,u):P._visibility&2?Lo(l,u,p,y):(P._visibility|=2,gf(l,u,p,y,(u.subtreeFlags&10256)!==0||!1)),_&2048&&U1($,u);break;case 24:Lo(l,u,p,y),_&2048&&H1(u.alternate,u);break;default:Lo(l,u,p,y)}}function gf(l,u,p,y,_){for(_=_&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var P=l,$=u,Q=p,le=y,Ee=$.flags;switch($.tag){case 0:case 11:case 15:gf(P,$,Q,le,_),Op(8,$);break;case 23:break;case 22:var Ie=$.stateNode;$.memoizedState!==null?Ie._visibility&2?gf(P,$,Q,le,_):Dp(P,$):(Ie._visibility|=2,gf(P,$,Q,le,_)),_&&Ee&2048&&U1($.alternate,$);break;case 24:gf(P,$,Q,le,_),_&&Ee&2048&&H1($.alternate,$);break;default:gf(P,$,Q,le,_)}u=u.sibling}}function Dp(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=l,y=u,_=y.flags;switch(y.tag){case 22:Dp(p,y),_&2048&&U1(y.alternate,y);break;case 24:Dp(p,y),_&2048&&H1(y.alternate,y);break;default:Dp(p,y)}u=u.sibling}}var jp=8192;function vf(l,u,p){if(l.subtreeFlags&jp)for(l=l.child;l!==null;)CD(l,u,p),l=l.sibling}function CD(l,u,p){switch(l.tag){case 26:vf(l,u,p),l.flags&jp&&l.memoizedState!==null&&wq(p,Ro,l.memoizedState,l.memoizedProps);break;case 5:vf(l,u,p);break;case 3:case 4:var y=Ro;Ro=Hv(l.stateNode.containerInfo),vf(l,u,p),Ro=y;break;case 22:l.memoizedState===null&&(y=l.alternate,y!==null&&y.memoizedState!==null?(y=jp,jp=16777216,vf(l,u,p),jp=y):vf(l,u,p));break;default:vf(l,u,p)}}function AD(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function Rp(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];oi=y,ED(y,l)}AD(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)_D(l),l=l.sibling}function _D(l){switch(l.tag){case 0:case 11:case 15:Rp(l),l.flags&2048&&yc(9,l,l.return);break;case 3:Rp(l);break;case 12:Rp(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,Ov(l)):Rp(l);break;default:Rp(l)}}function Ov(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];oi=y,ED(y,l)}AD(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:yc(8,u,u.return),Ov(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,Ov(u));break;default:Ov(u)}l=l.sibling}}function ED(l,u){for(;oi!==null;){var p=oi;switch(p.tag){case 0:case 11:case 15:yc(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:vp(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,oi=y;else e:for(p=l;oi!==null;){y=oi;var _=y.sibling,P=y.return;if(gD(y),y===p){oi=null;break e}if(_!==null){_.return=P,oi=_;break e}oi=P}}}var NV={getCacheForType:function(l){var u=wi(Mr),p=u.data.get(l);return p===void 0&&(p=l(),u.data.set(l,p)),p},cacheSignal:function(){return wi(Mr).controller.signal}},IV=typeof WeakMap=="function"?WeakMap:Map,Cn=0,Hn=null,en=null,rn=0,Dn=0,Na=null,bc=!1,yf=!1,V1=!1,fl=0,yr=0,xc=0,Du=0,q1=0,Ia=0,bf=0,Lp=null,ba=null,G1=!1,Mv=0,TD=0,Dv=1/0,jv=null,wc=null,Gr=0,Sc=null,xf=null,hl=0,Y1=0,K1=null,kD=null,Np=0,W1=null;function za(){return(Cn&2)!==0&&rn!==0?rn&-rn:L.T!==null?tS():qr()}function PD(){if(Ia===0)if((rn&536870912)===0||sn){var l=un;un<<=1,(un&3932160)===0&&(un=262144),Ia=l}else Ia=536870912;return l=Ra.current,l!==null&&(l.flags|=32),Ia}function xa(l,u,p){(l===Hn&&(Dn===2||Dn===9)||l.cancelPendingCommit!==null)&&(wf(l,0),Cc(l,rn,Ia,!1)),hn(l,p),((Cn&2)===0||l!==Hn)&&(l===Hn&&((Cn&2)===0&&(Du|=p),yr===4&&Cc(l,rn,Ia,!1)),ls(l))}function OD(l,u,p){if((Cn&6)!==0)throw Error(r(327));var y=!p&&(u&127)===0&&(u&l.expiredLanes)===0||ei(l,u),_=y?$V(l,u):Z1(l,u,!0),P=y;do{if(_===0){yf&&!y&&Cc(l,u,0,!1);break}else{if(p=l.current.alternate,P&&!zV(p)){_=Z1(l,u,!1),P=!1;continue}if(_===2){if(P=u,l.errorRecoveryDisabledLanes&P)var $=0;else $=l.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){u=$;e:{var Q=l;_=Lp;var le=Q.current.memoizedState.isDehydrated;if(le&&(wf(Q,$).flags|=256),$=Z1(Q,$,!1),$!==2){if(V1&&!le){Q.errorRecoveryDisabledLanes|=P,Du|=P,_=4;break e}P=ba,ba=_,P!==null&&(ba===null?ba=P:ba.push.apply(ba,P))}_=$}if(P=!1,_!==2)continue}}if(_===1){wf(l,0),Cc(l,u,0,!0);break}e:{switch(y=l,P=_,P){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Cc(y,u,Ia,!bc);break e;case 2:ba=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(_=Mv+300-Be(),10<_)){if(Cc(y,u,Ia,!bc),ha(y,0,!0)!==0)break e;hl=u,y.timeoutHandle=sj(MD.bind(null,y,p,ba,jv,G1,u,Ia,Du,bf,bc,P,"Throttled",-0,0),_);break e}MD(y,p,ba,jv,G1,u,Ia,Du,bf,bc,P,null,-0,0)}}break}while(!0);ls(l)}function MD(l,u,p,y,_,P,$,Q,le,Ee,Ie,Ye,ke,Me){if(l.timeoutHandle=-1,Ye=u.subtreeFlags,Ye&8192||(Ye&16785408)===16785408){Ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ma},CD(u,P,Ye);var xt=(P&62914560)===P?Mv-Be():(P&4194048)===P?TD-Be():0;if(xt=Sq(Ye,xt),xt!==null){hl=P,l.cancelPendingCommit=xt(BD.bind(null,l,u,P,p,y,_,$,Q,le,Ie,Ye,null,ke,Me)),Cc(l,P,$,!Ee);return}}BD(l,u,P,p,y,_,$,Q,le)}function zV(l){for(var u=l;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var _=p[y],P=_.getSnapshot;_=_.value;try{if(!zi(P(),_))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Cc(l,u,p,y){u&=~q1,u&=~Du,l.suspendedLanes|=u,l.pingedLanes&=~u,y&&(l.warmLanes|=u),y=l.expirationTimes;for(var _=u;0<_;){var P=31-et(_),$=1<<P;y[P]=-1,_&=~$}p!==0&&Za(l,p,u)}function Rv(){return(Cn&6)===0?(Ip(0),!1):!0}function X1(){if(en!==null){if(Dn===0)var l=en.return;else l=en,nl=Cu=null,f1(l),df=null,bp=0,l=en;for(;l!==null;)lD(l.alternate,l),l=l.return;en=null}}function wf(l,u){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,iq(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),hl=0,X1(),Hn=l,en=p=el(l.current,null),rn=u,Dn=0,Na=null,bc=!1,yf=ei(l,u),V1=!1,bf=Ia=q1=Du=xc=yr=0,ba=Lp=null,G1=!1,(u&8)!==0&&(u|=u&32);var y=l.entangledLanes;if(y!==0)for(l=l.entanglements,y&=u;0<y;){var _=31-et(y),P=1<<_;u|=l[_],y&=~P}return fl=u,Bt(),p}function DD(l,u){Gt=null,L.H=Tp,u===uf||u===cv?(u=K2(),Dn=3):u===e1?(u=K2(),Dn=4):Dn=u===k1?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Na=u,en===null&&(yr=1,Cv(l,ro(u,l.current)))}function jD(){var l=Ra.current;return l===null?!0:(rn&4194048)===rn?so===null:(rn&62914560)===rn||(rn&536870912)!==0?l===so:!1}function RD(){var l=L.H;return L.H=Tp,l===null?Tp:l}function LD(){var l=L.A;return L.A=NV,l}function Lv(){yr=4,bc||(rn&4194048)!==rn&&Ra.current!==null||(yf=!0),(xc&134217727)===0&&(Du&134217727)===0||Hn===null||Cc(Hn,rn,Ia,!1)}function Z1(l,u,p){var y=Cn;Cn|=2;var _=RD(),P=LD();(Hn!==l||rn!==u)&&(jv=null,wf(l,u)),u=!1;var $=yr;e:do try{if(Dn!==0&&en!==null){var Q=en,le=Na;switch(Dn){case 8:X1(),$=6;break e;case 3:case 2:case 9:case 6:Ra.current===null&&(u=!0);var Ee=Dn;if(Dn=0,Na=null,Sf(l,Q,le,Ee),p&&yf){$=0;break e}break;default:Ee=Dn,Dn=0,Na=null,Sf(l,Q,le,Ee)}}BV(),$=yr;break}catch(Ie){DD(l,Ie)}while(!0);return u&&l.shellSuspendCounter++,nl=Cu=null,Cn=y,L.H=_,L.A=P,en===null&&(Hn=null,rn=0,Bt()),$}function BV(){for(;en!==null;)ND(en)}function $V(l,u){var p=Cn;Cn|=2;var y=RD(),_=LD();Hn!==l||rn!==u?(jv=null,Dv=Be()+500,wf(l,u)):yf=ei(l,u);e:do try{if(Dn!==0&&en!==null){u=en;var P=Na;t:switch(Dn){case 1:Dn=0,Na=null,Sf(l,u,P,1);break;case 2:case 9:if(G2(P)){Dn=0,Na=null,ID(u);break}u=function(){Dn!==2&&Dn!==9||Hn!==l||(Dn=7),ls(l)},P.then(u,u);break e;case 3:Dn=7;break e;case 4:Dn=5;break e;case 7:G2(P)?(Dn=0,Na=null,ID(u)):(Dn=0,Na=null,Sf(l,u,P,7));break;case 5:var $=null;switch(en.tag){case 26:$=en.memoizedState;case 5:case 27:var Q=en;if($?Sj($):Q.stateNode.complete){Dn=0,Na=null;var le=Q.sibling;if(le!==null)en=le;else{var Ee=Q.return;Ee!==null?(en=Ee,Nv(Ee)):en=null}break t}}Dn=0,Na=null,Sf(l,u,P,5);break;case 6:Dn=0,Na=null,Sf(l,u,P,6);break;case 8:X1(),yr=6;break e;default:throw Error(r(462))}}FV();break}catch(Ie){DD(l,Ie)}while(!0);return nl=Cu=null,L.H=y,L.A=_,Cn=p,en!==null?0:(Hn=null,rn=0,Bt(),yr)}function FV(){for(;en!==null&&!ft();)ND(en)}function ND(l){var u=oD(l.alternate,l,fl);l.memoizedProps=l.pendingProps,u===null?Nv(l):en=u}function ID(l){var u=l,p=u.alternate;switch(u.tag){case 15:case 0:u=eD(p,u,u.pendingProps,u.type,void 0,rn);break;case 11:u=eD(p,u,u.pendingProps,u.type.render,u.ref,rn);break;case 5:f1(u);default:lD(p,u),u=en=L2(u,fl),u=oD(p,u,fl)}l.memoizedProps=l.pendingProps,u===null?Nv(l):en=u}function Sf(l,u,p,y){nl=Cu=null,f1(u),df=null,bp=0;var _=u.return;try{if(PV(l,_,u,p,rn)){yr=1,Cv(l,ro(p,l.current)),en=null;return}}catch(P){if(_!==null)throw en=_,P;yr=1,Cv(l,ro(p,l.current)),en=null;return}u.flags&32768?(sn||y===1?l=!0:yf||(rn&536870912)!==0?l=!1:(bc=l=!0,(y===2||y===9||y===3||y===6)&&(y=Ra.current,y!==null&&y.tag===13&&(y.flags|=16384))),zD(u,l)):Nv(u)}function Nv(l){var u=l;do{if((u.flags&32768)!==0){zD(u,bc);return}l=u.return;var p=DV(u.alternate,u,fl);if(p!==null){en=p;return}if(u=u.sibling,u!==null){en=u;return}en=u=l}while(u!==null);yr===0&&(yr=5)}function zD(l,u){do{var p=jV(l.alternate,l);if(p!==null){p.flags&=32767,en=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(l=l.sibling,l!==null)){en=l;return}en=l=p}while(l!==null);yr=6,en=null}function BD(l,u,p,y,_,P,$,Q,le){l.cancelPendingCommit=null;do Iv();while(Gr!==0);if((Cn&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(P=u.lanes|u.childLanes,P|=Tt,Xa(l,p,P,$,Q,le),l===Hn&&(en=Hn=null,rn=0),xf=u,Sc=l,hl=p,Y1=P,K1=_,kD=y,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,qV(Jt,function(){return VD(),null})):(l.callbackNode=null,l.callbackPriority=0),y=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||y){y=L.T,L.T=null,_=U.p,U.p=2,$=Cn,Cn|=4;try{RV(l,u,p)}finally{Cn=$,U.p=_,L.T=y}}Gr=1,$D(),FD(),UD()}}function $D(){if(Gr===1){Gr=0;var l=Sc,u=xf,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=L.T,L.T=null;var y=U.p;U.p=2;var _=Cn;Cn|=4;try{xD(u,l);var P=cS,$=H(l.containerInfo),Q=P.focusedElem,le=P.selectionRange;if($!==Q&&Q&&Q.ownerDocument&&N(Q.ownerDocument.documentElement,Q)){if(le!==null&&Z(Q)){var Ee=le.start,Ie=le.end;if(Ie===void 0&&(Ie=Ee),"selectionStart"in Q)Q.selectionStart=Ee,Q.selectionEnd=Math.min(Ie,Q.value.length);else{var Ye=Q.ownerDocument||document,ke=Ye&&Ye.defaultView||window;if(ke.getSelection){var Me=ke.getSelection(),xt=Q.textContent.length,Mt=Math.min(le.start,xt),$n=le.end===void 0?Mt:Math.min(le.end,xt);!Me.extend&&Mt>$n&&($=$n,$n=Mt,Mt=$);var xe=R(Q,Mt),ve=R(Q,$n);if(xe&&ve&&(Me.rangeCount!==1||Me.anchorNode!==xe.node||Me.anchorOffset!==xe.offset||Me.focusNode!==ve.node||Me.focusOffset!==ve.offset)){var _e=Ye.createRange();_e.setStart(xe.node,xe.offset),Me.removeAllRanges(),Mt>$n?(Me.addRange(_e),Me.extend(ve.node,ve.offset)):(_e.setEnd(ve.node,ve.offset),Me.addRange(_e))}}}}for(Ye=[],Me=Q;Me=Me.parentNode;)Me.nodeType===1&&Ye.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Ye.length;Q++){var $e=Ye[Q];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}Wv=!!lS,cS=lS=null}finally{Cn=_,U.p=y,L.T=p}}l.current=u,Gr=2}}function FD(){if(Gr===2){Gr=0;var l=Sc,u=xf,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=L.T,L.T=null;var y=U.p;U.p=2;var _=Cn;Cn|=4;try{mD(l,u.alternate,u)}finally{Cn=_,U.p=y,L.T=p}}Gr=3}}function UD(){if(Gr===4||Gr===3){Gr=0,vt();var l=Sc,u=xf,p=hl,y=kD;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Gr=5:(Gr=0,xf=Sc=null,HD(l,l.pendingLanes));var _=l.pendingLanes;if(_===0&&(wc=null),Vr(p),u=u.stateNode,xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Xn,u,void 0,(u.current.flags&128)===128)}catch{}if(y!==null){u=L.T,_=U.p,U.p=2,L.T=null;try{for(var P=l.onRecoverableError,$=0;$<y.length;$++){var Q=y[$];P(Q.value,{componentStack:Q.stack})}}finally{L.T=u,U.p=_}}(hl&3)!==0&&Iv(),ls(l),_=l.pendingLanes,(p&261930)!==0&&(_&42)!==0?l===W1?Np++:(Np=0,W1=l):Np=0,Ip(0)}}function HD(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,vp(u)))}function Iv(){return $D(),FD(),UD(),VD()}function VD(){if(Gr!==5)return!1;var l=Sc,u=Y1;Y1=0;var p=Vr(hl),y=L.T,_=U.p;try{U.p=32>p?32:p,L.T=null,p=K1,K1=null;var P=Sc,$=hl;if(Gr=0,xf=Sc=null,hl=0,(Cn&6)!==0)throw Error(r(331));var Q=Cn;if(Cn|=4,_D(P.current),SD(P,P.current,$,p),Cn=Q,Ip(0,!1),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Xn,P)}catch{}return!0}finally{U.p=_,L.T=y,HD(l,u)}}function qD(l,u,p){u=ro(p,u),u=T1(l.stateNode,u,2),l=mc(l,u,2),l!==null&&(hn(l,2),ls(l))}function jn(l,u,p){if(l.tag===3)qD(l,l,p);else for(;u!==null;){if(u.tag===3){qD(u,l,p);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(wc===null||!wc.has(y))){l=ro(p,l),p=GM(2),y=mc(u,p,2),y!==null&&(YM(p,y,u,l),hn(y,2),ls(y));break}}u=u.return}}function Q1(l,u,p){var y=l.pingCache;if(y===null){y=l.pingCache=new IV;var _=new Set;y.set(u,_)}else _=y.get(u),_===void 0&&(_=new Set,y.set(u,_));_.has(p)||(V1=!0,_.add(p),l=UV.bind(null,l,u,p),u.then(l,l))}function UV(l,u,p){var y=l.pingCache;y!==null&&y.delete(u),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,Hn===l&&(rn&p)===p&&(yr===4||yr===3&&(rn&62914560)===rn&&300>Be()-Mv?(Cn&2)===0&&wf(l,0):q1|=p,bf===rn&&(bf=0)),ls(l)}function GD(l,u){u===0&&(u=Mn()),l=Pn(l,u),l!==null&&(hn(l,u),ls(l))}function HV(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),GD(l,p)}function VV(l,u){var p=0;switch(l.tag){case 31:case 13:var y=l.stateNode,_=l.memoizedState;_!==null&&(p=_.retryLane);break;case 19:y=l.stateNode;break;case 22:y=l.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(u),GD(l,p)}function qV(l,u){return Je(l,u)}var zv=null,Cf=null,J1=!1,Bv=!1,eS=!1,Ac=0;function ls(l){l!==Cf&&l.next===null&&(Cf===null?zv=Cf=l:Cf=Cf.next=l),Bv=!0,J1||(J1=!0,YV())}function Ip(l,u){if(!eS&&Bv){eS=!0;do for(var p=!1,y=zv;y!==null;){if(l!==0){var _=y.pendingLanes;if(_===0)var P=0;else{var $=y.suspendedLanes,Q=y.pingedLanes;P=(1<<31-et(42|l)+1)-1,P&=_&~($&~Q),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(p=!0,XD(y,P))}else P=rn,P=ha(y,y===Hn?P:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(P&3)===0||ei(y,P)||(p=!0,XD(y,P));y=y.next}while(p);eS=!1}}function GV(){YD()}function YD(){Bv=J1=!1;var l=0;Ac!==0&&rq()&&(l=Ac);for(var u=Be(),p=null,y=zv;y!==null;){var _=y.next,P=KD(y,u);P===0?(y.next=null,p===null?zv=_:p.next=_,_===null&&(Cf=p)):(p=y,(l!==0||(P&3)!==0)&&(Bv=!0)),y=_}Gr!==0&&Gr!==5||Ip(l),Ac!==0&&(Ac=0)}function KD(l,u){for(var p=l.suspendedLanes,y=l.pingedLanes,_=l.expirationTimes,P=l.pendingLanes&-62914561;0<P;){var $=31-et(P),Q=1<<$,le=_[$];le===-1?((Q&p)===0||(Q&y)!==0)&&(_[$]=Oa(Q,u)):le<=u&&(l.expiredLanes|=Q),P&=~Q}if(u=Hn,p=rn,p=ha(l,l===u?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y=l.callbackNode,p===0||l===u&&(Dn===2||Dn===9)||l.cancelPendingCommit!==null)return y!==null&&y!==null&&St(y),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||ei(l,p)){if(u=p&-p,u===l.callbackPriority)return u;switch(y!==null&&St(y),Vr(p)){case 2:case 8:p=Ve;break;case 32:p=Jt;break;case 268435456:p=Vt;break;default:p=Jt}return y=WD.bind(null,l),p=Je(p,y),l.callbackPriority=u,l.callbackNode=p,u}return y!==null&&y!==null&&St(y),l.callbackPriority=2,l.callbackNode=null,2}function WD(l,u){if(Gr!==0&&Gr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(Iv()&&l.callbackNode!==p)return null;var y=rn;return y=ha(l,l===Hn?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y===0?null:(OD(l,y,u),KD(l,Be()),l.callbackNode!=null&&l.callbackNode===p?WD.bind(null,l):null)}function XD(l,u){if(Iv())return null;OD(l,u,!0)}function YV(){aq(function(){(Cn&6)!==0?Je(Ge,GV):YD()})}function tS(){if(Ac===0){var l=lf;l===0&&(l=nt,nt<<=1,(nt&261888)===0&&(nt=256)),Ac=l}return Ac}function ZD(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:jo(""+l)}function QD(l,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,l.id&&p.setAttribute("form",l.id),u.parentNode.insertBefore(p,u),l=new FormData(l),p.parentNode.removeChild(p),l}function KV(l,u,p,y,_){if(u==="submit"&&p&&p.stateNode===_){var P=ZD((_[Un]||null).action),$=y.submitter;$&&(u=(u=$[Un]||null)?ZD(u.formAction):$.getAttribute("formAction"),u!==null&&(P=u,$=null));var Q=new Fd("action","action",null,y,_);l.push({event:Q,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Ac!==0){var le=$?QD(_,$):new FormData(_);w1(p,{pending:!0,data:le,method:_.method,action:P},null,le)}}else typeof P=="function"&&(Q.preventDefault(),le=$?QD(_,$):new FormData(_),w1(p,{pending:!0,data:le,method:_.method,action:P},P,le))},currentTarget:_}]})}}for(var nS=0;nS<dt.length;nS++){var rS=dt[nS],WV=rS.toLowerCase(),XV=rS[0].toUpperCase()+rS.slice(1);Ze(WV,"on"+XV)}Ze(Te,"onAnimationEnd"),Ze(Ce,"onAnimationIteration"),Ze(Ne,"onAnimationStart"),Ze("dblclick","onDoubleClick"),Ze("focusin","onFocus"),Ze("focusout","onBlur"),Ze(Ke,"onTransitionRun"),Ze(ot,"onTransitionStart"),Ze(st,"onTransitionCancel"),Ze(Xe,"onTransitionEnd"),Jo("onMouseEnter",["mouseout","mouseover"]),Jo("onMouseLeave",["mouseout","mouseover"]),Jo("onPointerEnter",["pointerout","pointerover"]),Jo("onPointerLeave",["pointerout","pointerover"]),Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zp));function JD(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var y=l[p],_=y.event;y=y.listeners;e:{var P=void 0;if(u)for(var $=y.length-1;0<=$;$--){var Q=y[$],le=Q.instance,Ee=Q.currentTarget;if(Q=Q.listener,le!==P&&_.isPropagationStopped())break e;P=Q,_.currentTarget=Ee;try{P(_)}catch(Ie){mt(Ie)}_.currentTarget=null,P=le}else for($=0;$<y.length;$++){if(Q=y[$],le=Q.instance,Ee=Q.currentTarget,Q=Q.listener,le!==P&&_.isPropagationStopped())break e;P=Q,_.currentTarget=Ee;try{P(_)}catch(Ie){mt(Ie)}_.currentTarget=null,P=le}}}}function tn(l,u){var p=u[Qa];p===void 0&&(p=u[Qa]=new Set);var y=l+"__bubble";p.has(y)||(ej(u,l,2,!1),p.add(y))}function iS(l,u,p){var y=0;u&&(y|=4),ej(p,l,y,u)}var $v="_reactListening"+Math.random().toString(36).slice(2);function aS(l){if(!l[$v]){l[$v]=!0,Us.forEach(function(p){p!=="selectionchange"&&(ZV.has(p)||iS(p,!1,l),iS(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[$v]||(u[$v]=!0,iS("selectionchange",!1,u))}}function ej(l,u,p,y){switch(Pj(u)){case 2:var _=_q;break;case 8:_=Eq;break;default:_=xS}p=_.bind(null,u,p,l),_=void 0,!tp||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),y?_!==void 0?l.addEventListener(u,p,{capture:!0,passive:_}):l.addEventListener(u,p,!0):_!==void 0?l.addEventListener(u,p,{passive:_}):l.addEventListener(u,p,!1)}function oS(l,u,p,y,_){var P=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var $=y.tag;if($===3||$===4){var Q=y.stateNode.containerInfo;if(Q===_)break;if($===4)for($=y.return;$!==null;){var le=$.tag;if((le===3||le===4)&&$.stateNode.containerInfo===_)return;$=$.return}for(;Q!==null;){if($=qt(Q),$===null)return;if(le=$.tag,le===5||le===6||le===26||le===27){y=P=$;continue e}Q=Q.parentNode}}y=y.return}Jl(function(){var Ee=P,Ie=Bd(p),Ye=[];e:{var ke=pt.get(l);if(ke!==void 0){var Me=Fd,xt=l;switch(l){case"keypress":if(nc(p)===0)break e;case"keydown":case"keyup":Me=Kd;break;case"focusin":xt="focus",Me=rc;break;case"focusout":xt="blur",Me=rc;break;case"beforeblur":case"afterblur":Me=rc;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=Vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=Yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=lp;break;case Te:case Ce:case Ne:Me=Kg;break;case Xe:Me=cp;break;case"scroll":case"scrollend":Me=Ud;break;case"wheel":Me=Xd;break;case"copy":case"cut":case"paste":Me=ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=sp;break;case"toggle":case"beforetoggle":Me=Zg}var Mt=(u&4)!==0,$n=!Mt&&(l==="scroll"||l==="scrollend"),xe=Mt?ke!==null?ke+"Capture":null:ke;Mt=[];for(var ve=Ee,_e;ve!==null;){var $e=ve;if(_e=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||_e===null||xe===null||($e=Ys(ve,xe),$e!=null&&Mt.push(Bp(ve,$e,_e))),$n)break;ve=ve.return}0<Mt.length&&(ke=new Me(ke,xt,null,p,Ie),Ye.push({event:ke,listeners:Mt}))}}if((u&7)===0){e:{if(ke=l==="mouseover"||l==="pointerover",Me=l==="mouseout"||l==="pointerout",ke&&p!==eo&&(xt=p.relatedTarget||p.fromElement)&&(qt(xt)||xt[Pr]))break e;if((Me||ke)&&(ke=Ie.window===Ie?Ie:(ke=Ie.ownerDocument)?ke.defaultView||ke.parentWindow:window,Me?(xt=p.relatedTarget||p.toElement,Me=Ee,xt=xt?qt(xt):null,xt!==null&&($n=a(xt),Mt=xt.tag,xt!==$n||Mt!==5&&Mt!==27&&Mt!==6)&&(xt=null)):(Me=null,xt=Ee),Me!==xt)){if(Mt=Vd,$e="onMouseLeave",xe="onMouseEnter",ve="mouse",(l==="pointerout"||l==="pointerover")&&(Mt=sp,$e="onPointerLeave",xe="onPointerEnter",ve="pointer"),$n=Me==null?ke:Zi(Me),_e=xt==null?ke:Zi(xt),ke=new Mt($e,ve+"leave",Me,p,Ie),ke.target=$n,ke.relatedTarget=_e,$e=null,qt(Ie)===Ee&&(Mt=new Mt(xe,ve+"enter",xt,p,Ie),Mt.target=_e,Mt.relatedTarget=$n,$e=Mt),$n=$e,Me&&xt)t:{for(Mt=QV,xe=Me,ve=xt,_e=0,$e=xe;$e;$e=Mt($e))_e++;$e=0;for(var kt=ve;kt;kt=Mt(kt))$e++;for(;0<_e-$e;)xe=Mt(xe),_e--;for(;0<$e-_e;)ve=Mt(ve),$e--;for(;_e--;){if(xe===ve||ve!==null&&xe===ve.alternate){Mt=xe;break t}xe=Mt(xe),ve=Mt(ve)}Mt=null}else Mt=null;Me!==null&&tj(Ye,ke,Me,Mt,!1),xt!==null&&$n!==null&&tj(Ye,$n,xt,Mt,!0)}}e:{if(ke=Ee?Zi(Ee):window,Me=ke.nodeName&&ke.nodeName.toLowerCase(),Me==="select"||Me==="input"&&ke.type==="file")var mn=xu;else if(Jd(ke))if(no)mn=sc;else{mn=Js;var Ct=rv}else Me=ke.nodeName,!Me||Me.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Ee&&ep(Ee.elementType)&&(mn=xu):mn=pp;if(mn&&(mn=mn(l,Ee))){hp(Ye,mn,p,Ie);break e}Ct&&Ct(l,ke,Ee),l==="focusout"&&Ee&&ke.type==="number"&&Ee.memoizedProps.value!=null&&fu(ke,"number",ke.value)}switch(Ct=Ee?Zi(Ee):window,l){case"focusin":(Jd(Ct)||Ct.contentEditable==="true")&&(re=Ct,fe=Ee,Se=null);break;case"focusout":Se=fe=re=null;break;case"mousedown":he=!0;break;case"contextmenu":case"mouseup":case"dragend":he=!1,ce(Ye,p,Ie);break;case"selectionchange":if(ee)break;case"keydown":case"keyup":ce(Ye,p,Ie)}var Kt;if(yu)e:{switch(l){case"compositionstart":var an="onCompositionStart";break e;case"compositionend":an="onCompositionEnd";break e;case"compositionupdate":an="onCompositionUpdate";break e}an=void 0}else Zs?fp(l,p)&&(an="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(an="onCompositionStart");an&&(Zd&&p.locale!=="ko"&&(Zs||an!=="onCompositionStart"?an==="onCompositionEnd"&&Zs&&(Kt=tc()):(to=Ie,$d="value"in to?to.value:to.textContent,Zs=!0)),Ct=Fv(Ee,an),0<Ct.length&&(an=new Yd(an,l,null,p,Ie),Ye.push({event:an,listeners:Ct}),Kt?an.data=Kt:(Kt=Jg(p),Kt!==null&&(an.data=Kt)))),(Kt=zw?ev(l,p):Bw(l,p))&&(an=Fv(Ee,"onBeforeInput"),0<an.length&&(Ct=new Yd("onBeforeInput","beforeinput",null,p,Ie),Ye.push({event:Ct,listeners:an}),Ct.data=Kt)),KV(Ye,l,Ee,p,Ie)}JD(Ye,u)})}function Bp(l,u,p){return{instance:l,listener:u,currentTarget:p}}function Fv(l,u){for(var p=u+"Capture",y=[];l!==null;){var _=l,P=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||P===null||(_=Ys(l,p),_!=null&&y.unshift(Bp(l,_,P)),_=Ys(l,u),_!=null&&y.push(Bp(l,_,P))),l.tag===3)return y;l=l.return}return[]}function QV(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function tj(l,u,p,y,_){for(var P=u._reactName,$=[];p!==null&&p!==y;){var Q=p,le=Q.alternate,Ee=Q.stateNode;if(Q=Q.tag,le!==null&&le===y)break;Q!==5&&Q!==26&&Q!==27||Ee===null||(le=Ee,_?(Ee=Ys(p,P),Ee!=null&&$.unshift(Bp(p,Ee,le))):_||(Ee=Ys(p,P),Ee!=null&&$.push(Bp(p,Ee,le)))),p=p.return}$.length!==0&&l.push({event:u,listeners:$})}var JV=/\r\n?/g,eq=/\u0000|\uFFFD/g;function nj(l){return(typeof l=="string"?l:""+l).replace(JV,`
`).replace(eq,"")}function rj(l,u){return u=nj(u),nj(l)===u}function Bn(l,u,p,y,_,P){switch(p){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||Vs(l,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&Vs(l,""+y);break;case"className":uu(l,"class",y);break;case"tabIndex":uu(l,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":uu(l,p,y);break;case"style":Jh(l,y,P);break;case"data":if(u!=="object"){uu(l,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||p!=="href")){l.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(p);break}y=jo(""+y),l.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(p==="formAction"?(u!=="input"&&Bn(l,u,"name",_.name,_,null),Bn(l,u,"formEncType",_.formEncType,_,null),Bn(l,u,"formMethod",_.formMethod,_,null),Bn(l,u,"formTarget",_.formTarget,_,null)):(Bn(l,u,"encType",_.encType,_,null),Bn(l,u,"method",_.method,_,null),Bn(l,u,"target",_.target,_,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(p);break}y=jo(""+y),l.setAttribute(p,y);break;case"onClick":y!=null&&(l.onclick=ma);break;case"onScroll":y!=null&&tn("scroll",l);break;case"onScrollEnd":y!=null&&tn("scrollend",l);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(_.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"multiple":l.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":l.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){l.removeAttribute("xlink:href");break}p=jo(""+y),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,""+y):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":y===!0?l.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,y):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?l.setAttribute(p,y):l.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?l.removeAttribute(p):l.setAttribute(p,y);break;case"popover":tn("beforetoggle",l),tn("toggle",l),Xt(l,"popover",y);break;case"xlinkActuate":Ja(l,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Ja(l,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Ja(l,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Ja(l,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Ja(l,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Ja(l,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Ja(l,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Ja(l,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Ja(l,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Xt(l,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Lw.get(p)||p,Xt(l,p,y))}}function sS(l,u,p,y,_,P){switch(p){case"style":Jh(l,y,P);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(_.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"children":typeof y=="string"?Vs(l,y):(typeof y=="number"||typeof y=="bigint")&&Vs(l,""+y);break;case"onScroll":y!=null&&tn("scroll",l);break;case"onScrollEnd":y!=null&&tn("scrollend",l);break;case"onClick":y!=null&&(l.onclick=ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lu.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(_=p.endsWith("Capture"),u=p.slice(2,_?p.length-7:void 0),P=l[Un]||null,P=P!=null?P[p]:null,typeof P=="function"&&l.removeEventListener(u,P,_),typeof y=="function")){typeof P!="function"&&P!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(u,y,_);break e}p in l?l[p]=y:y===!0?l.setAttribute(p,""):Xt(l,p,y)}}}function Ci(l,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tn("error",l),tn("load",l);var y=!1,_=!1,P;for(P in p)if(p.hasOwnProperty(P)){var $=p[P];if($!=null)switch(P){case"src":y=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Bn(l,u,P,$,p,null)}}_&&Bn(l,u,"srcSet",p.srcSet,p,null),y&&Bn(l,u,"src",p.src,p,null);return;case"input":tn("invalid",l);var Q=P=$=_=null,le=null,Ee=null;for(y in p)if(p.hasOwnProperty(y)){var Ie=p[y];if(Ie!=null)switch(y){case"name":_=Ie;break;case"type":$=Ie;break;case"checked":le=Ie;break;case"defaultChecked":Ee=Ie;break;case"value":P=Ie;break;case"defaultValue":Q=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,u));break;default:Bn(l,u,y,Ie,p,null)}}zd(l,P,Q,le,Ee,$,_,!1);return;case"select":tn("invalid",l),y=$=P=null;for(_ in p)if(p.hasOwnProperty(_)&&(Q=p[_],Q!=null))switch(_){case"value":P=Q;break;case"defaultValue":$=Q;break;case"multiple":y=Q;default:Bn(l,u,_,Q,p,null)}u=P,p=$,l.multiple=!!y,u!=null?Do(l,!!y,u,!1):p!=null&&Do(l,!!y,p,!0);return;case"textarea":tn("invalid",l),P=_=y=null;for($ in p)if(p.hasOwnProperty($)&&(Q=p[$],Q!=null))switch($){case"value":y=Q;break;case"defaultValue":_=Q;break;case"children":P=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:Bn(l,u,$,Q,p,null)}hu(l,y,_,P);return;case"option":for(le in p)p.hasOwnProperty(le)&&(y=p[le],y!=null)&&(le==="selected"?l.selected=y&&typeof y!="function"&&typeof y!="symbol":Bn(l,u,le,y,p,null));return;case"dialog":tn("beforetoggle",l),tn("toggle",l),tn("cancel",l),tn("close",l);break;case"iframe":case"object":tn("load",l);break;case"video":case"audio":for(y=0;y<zp.length;y++)tn(zp[y],l);break;case"image":tn("error",l),tn("load",l);break;case"details":tn("toggle",l);break;case"embed":case"source":case"link":tn("error",l),tn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in p)if(p.hasOwnProperty(Ee)&&(y=p[Ee],y!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Bn(l,u,Ee,y,p,null)}return;default:if(ep(u)){for(Ie in p)p.hasOwnProperty(Ie)&&(y=p[Ie],y!==void 0&&sS(l,u,Ie,y,p,void 0));return}}for(Q in p)p.hasOwnProperty(Q)&&(y=p[Q],y!=null&&Bn(l,u,Q,y,p,null))}function tq(l,u,p,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,P=null,$=null,Q=null,le=null,Ee=null,Ie=null;for(Me in p){var Ye=p[Me];if(p.hasOwnProperty(Me)&&Ye!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":le=Ye;default:y.hasOwnProperty(Me)||Bn(l,u,Me,null,y,Ye)}}for(var ke in y){var Me=y[ke];if(Ye=p[ke],y.hasOwnProperty(ke)&&(Me!=null||Ye!=null))switch(ke){case"type":P=Me;break;case"name":_=Me;break;case"checked":Ee=Me;break;case"defaultChecked":Ie=Me;break;case"value":$=Me;break;case"defaultValue":Q=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,u));break;default:Me!==Ye&&Bn(l,u,ke,Me,y,Ye)}}es(l,$,Q,le,Ee,Ie,P,_);return;case"select":Me=$=Q=ke=null;for(P in p)if(le=p[P],p.hasOwnProperty(P)&&le!=null)switch(P){case"value":break;case"multiple":Me=le;default:y.hasOwnProperty(P)||Bn(l,u,P,null,y,le)}for(_ in y)if(P=y[_],le=p[_],y.hasOwnProperty(_)&&(P!=null||le!=null))switch(_){case"value":ke=P;break;case"defaultValue":Q=P;break;case"multiple":$=P;default:P!==le&&Bn(l,u,_,P,y,le)}u=Q,p=$,y=Me,ke!=null?Do(l,!!p,ke,!1):!!y!=!!p&&(u!=null?Do(l,!!p,u,!0):Do(l,!!p,p?[]:"",!1));return;case"textarea":Me=ke=null;for(Q in p)if(_=p[Q],p.hasOwnProperty(Q)&&_!=null&&!y.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Bn(l,u,Q,null,y,_)}for($ in y)if(_=y[$],P=p[$],y.hasOwnProperty($)&&(_!=null||P!=null))switch($){case"value":ke=_;break;case"defaultValue":Me=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==P&&Bn(l,u,$,_,y,P)}Qh(l,ke,Me);return;case"option":for(var xt in p)ke=p[xt],p.hasOwnProperty(xt)&&ke!=null&&!y.hasOwnProperty(xt)&&(xt==="selected"?l.selected=!1:Bn(l,u,xt,null,y,ke));for(le in y)ke=y[le],Me=p[le],y.hasOwnProperty(le)&&ke!==Me&&(ke!=null||Me!=null)&&(le==="selected"?l.selected=ke&&typeof ke!="function"&&typeof ke!="symbol":Bn(l,u,le,ke,y,Me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in p)ke=p[Mt],p.hasOwnProperty(Mt)&&ke!=null&&!y.hasOwnProperty(Mt)&&Bn(l,u,Mt,null,y,ke);for(Ee in y)if(ke=y[Ee],Me=p[Ee],y.hasOwnProperty(Ee)&&ke!==Me&&(ke!=null||Me!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,u));break;default:Bn(l,u,Ee,ke,y,Me)}return;default:if(ep(u)){for(var $n in p)ke=p[$n],p.hasOwnProperty($n)&&ke!==void 0&&!y.hasOwnProperty($n)&&sS(l,u,$n,void 0,y,ke);for(Ie in y)ke=y[Ie],Me=p[Ie],!y.hasOwnProperty(Ie)||ke===Me||ke===void 0&&Me===void 0||sS(l,u,Ie,ke,y,Me);return}}for(var xe in p)ke=p[xe],p.hasOwnProperty(xe)&&ke!=null&&!y.hasOwnProperty(xe)&&Bn(l,u,xe,null,y,ke);for(Ye in y)ke=y[Ye],Me=p[Ye],!y.hasOwnProperty(Ye)||ke===Me||ke==null&&Me==null||Bn(l,u,Ye,ke,y,Me)}function ij(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nq(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var _=p[y],P=_.transferSize,$=_.initiatorType,Q=_.duration;if(P&&Q&&ij($)){for($=0,Q=_.responseEnd,y+=1;y<p.length;y++){var le=p[y],Ee=le.startTime;if(Ee>Q)break;var Ie=le.transferSize,Ye=le.initiatorType;Ie&&ij(Ye)&&(le=le.responseEnd,$+=Ie*(le<Q?1:(Q-Ee)/(le-Ee)))}if(--y,u+=8*(P+$)/(_.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var lS=null,cS=null;function Uv(l){return l.nodeType===9?l:l.ownerDocument}function aj(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oj(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function uS(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var dS=null;function rq(){var l=window.event;return l&&l.type==="popstate"?l===dS?!1:(dS=l,!0):(dS=null,!1)}var sj=typeof setTimeout=="function"?setTimeout:void 0,iq=typeof clearTimeout=="function"?clearTimeout:void 0,lj=typeof Promise=="function"?Promise:void 0,aq=typeof queueMicrotask=="function"?queueMicrotask:typeof lj<"u"?function(l){return lj.resolve(null).then(l).catch(oq)}:sj;function oq(l){setTimeout(function(){throw l})}function _c(l){return l==="head"}function cj(l,u){var p=u,y=0;do{var _=p.nextSibling;if(l.removeChild(p),_&&_.nodeType===8)if(p=_.data,p==="/$"||p==="/&"){if(y===0){l.removeChild(_),Tf(u);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")$p(l.ownerDocument.documentElement);else if(p==="head"){p=l.ownerDocument.head,$p(p);for(var P=p.firstChild;P;){var $=P.nextSibling,Q=P.nodeName;P[Nn]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&P.rel.toLowerCase()==="stylesheet"||p.removeChild(P),P=$}}else p==="body"&&$p(l.ownerDocument.body);p=_}while(p);Tf(u)}function uj(l,u){var p=l;l=0;do{var y=p.nextSibling;if(p.nodeType===1?u?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(u?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(l===0)break;l--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||l++;p=y}while(p)}function fS(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":fS(p),yi(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function sq(l,u,p,y){for(;l.nodeType===1;){var _=p;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(y){if(!l[Nn])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(P=l.getAttribute("rel"),P==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(P!==_.rel||l.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||l.getAttribute("title")!==(_.title==null?null:_.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(P=l.getAttribute("src"),(P!==(_.src==null?null:_.src)||l.getAttribute("type")!==(_.type==null?null:_.type)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&P&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var P=_.name==null?null:""+_.name;if(_.type==="hidden"&&l.getAttribute("name")===P)return l}else return l;if(l=lo(l.nextSibling),l===null)break}return null}function lq(l,u,p){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=lo(l.nextSibling),l===null))return null;return l}function dj(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=lo(l.nextSibling),l===null))return null;return l}function hS(l){return l.data==="$?"||l.data==="$~"}function pS(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function cq(l,u){var p=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||p.readyState!=="loading")u();else{var y=function(){u(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),l._reactRetry=y}}function lo(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var mS=null;function fj(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"||p==="/&"){if(u===0)return lo(l.nextSibling);u--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||u++}l=l.nextSibling}return null}function hj(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(u===0)return l;u--}else p!=="/$"&&p!=="/&"||u++}l=l.previousSibling}return null}function pj(l,u,p){switch(u=Uv(p),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function $p(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);yi(l)}var co=new Map,mj=new Set;function Hv(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var pl=U.d;U.d={f:uq,r:dq,D:fq,C:hq,L:pq,m:mq,X:vq,S:gq,M:yq};function uq(){var l=pl.f(),u=Rv();return l||u}function dq(l){var u=pn(l);u!==null&&u.tag===5&&u.type==="form"?DM(u):pl.r(l)}var Af=typeof document>"u"?null:document;function gj(l,u,p){var y=Af;if(y&&typeof u=="string"&&u){var _=ri(u);_='link[rel="'+l+'"][href="'+_+'"]',typeof p=="string"&&(_+='[crossorigin="'+p+'"]'),mj.has(_)||(mj.add(_),l={rel:l,crossOrigin:p,href:u},y.querySelector(_)===null&&(u=y.createElement("link"),Ci(u,"link",l),Cr(u),y.head.appendChild(u)))}}function fq(l){pl.D(l),gj("dns-prefetch",l,null)}function hq(l,u){pl.C(l,u),gj("preconnect",l,u)}function pq(l,u,p){pl.L(l,u,p);var y=Af;if(y&&l&&u){var _='link[rel="preload"][as="'+ri(u)+'"]';u==="image"&&p&&p.imageSrcSet?(_+='[imagesrcset="'+ri(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(_+='[imagesizes="'+ri(p.imageSizes)+'"]')):_+='[href="'+ri(l)+'"]';var P=_;switch(u){case"style":P=_f(l);break;case"script":P=Ef(l)}co.has(P)||(l=h({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:l,as:u},p),co.set(P,l),y.querySelector(_)!==null||u==="style"&&y.querySelector(Fp(P))||u==="script"&&y.querySelector(Up(P))||(u=y.createElement("link"),Ci(u,"link",l),Cr(u),y.head.appendChild(u)))}}function mq(l,u){pl.m(l,u);var p=Af;if(p&&l){var y=u&&typeof u.as=="string"?u.as:"script",_='link[rel="modulepreload"][as="'+ri(y)+'"][href="'+ri(l)+'"]',P=_;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=Ef(l)}if(!co.has(P)&&(l=h({rel:"modulepreload",href:l},u),co.set(P,l),p.querySelector(_)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Up(P)))return}y=p.createElement("link"),Ci(y,"link",l),Cr(y),p.head.appendChild(y)}}}function gq(l,u,p){pl.S(l,u,p);var y=Af;if(y&&l){var _=ni(y).hoistableStyles,P=_f(l);u=u||"default";var $=_.get(P);if(!$){var Q={loading:0,preload:null};if($=y.querySelector(Fp(P)))Q.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":u},p),(p=co.get(P))&&gS(l,p);var le=$=y.createElement("link");Cr(le),Ci(le,"link",l),le._p=new Promise(function(Ee,Ie){le.onload=Ee,le.onerror=Ie}),le.addEventListener("load",function(){Q.loading|=1}),le.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Vv($,u,y)}$={type:"stylesheet",instance:$,count:1,state:Q},_.set(P,$)}}}function vq(l,u){pl.X(l,u);var p=Af;if(p&&l){var y=ni(p).hoistableScripts,_=Ef(l),P=y.get(_);P||(P=p.querySelector(Up(_)),P||(l=h({src:l,async:!0},u),(u=co.get(_))&&vS(l,u),P=p.createElement("script"),Cr(P),Ci(P,"link",l),p.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},y.set(_,P))}}function yq(l,u){pl.M(l,u);var p=Af;if(p&&l){var y=ni(p).hoistableScripts,_=Ef(l),P=y.get(_);P||(P=p.querySelector(Up(_)),P||(l=h({src:l,async:!0,type:"module"},u),(u=co.get(_))&&vS(l,u),P=p.createElement("script"),Cr(P),Ci(P,"link",l),p.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},y.set(_,P))}}function vj(l,u,p,y){var _=(_=we.current)?Hv(_):null;if(!_)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=_f(p.href),p=ni(_).hoistableStyles,y=p.get(u),y||(y={type:"style",instance:null,count:0,state:null},p.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=_f(p.href);var P=ni(_).hoistableStyles,$=P.get(l);if($||(_=_.ownerDocument||_,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(l,$),(P=_.querySelector(Fp(l)))&&!P._p&&($.instance=P,$.state.loading=5),co.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},co.set(l,p),P||bq(_,l,p,$.state))),u&&y===null)throw Error(r(528,""));return $}if(u&&y!==null)throw Error(r(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Ef(p),p=ni(_).hoistableScripts,y=p.get(u),y||(y={type:"script",instance:null,count:0,state:null},p.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function _f(l){return'href="'+ri(l)+'"'}function Fp(l){return'link[rel="stylesheet"]['+l+"]"}function yj(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function bq(l,u,p,y){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=l.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),Ci(u,"link",p),Cr(u),l.head.appendChild(u))}function Ef(l){return'[src="'+ri(l)+'"]'}function Up(l){return"script[async]"+l}function bj(l,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var y=l.querySelector('style[data-href~="'+ri(p.href)+'"]');if(y)return u.instance=y,Cr(y),y;var _=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(l.ownerDocument||l).createElement("style"),Cr(y),Ci(y,"style",_),Vv(y,p.precedence,l),u.instance=y;case"stylesheet":_=_f(p.href);var P=l.querySelector(Fp(_));if(P)return u.state.loading|=4,u.instance=P,Cr(P),P;y=yj(p),(_=co.get(_))&&gS(y,_),P=(l.ownerDocument||l).createElement("link"),Cr(P);var $=P;return $._p=new Promise(function(Q,le){$.onload=Q,$.onerror=le}),Ci(P,"link",y),u.state.loading|=4,Vv(P,p.precedence,l),u.instance=P;case"script":return P=Ef(p.src),(_=l.querySelector(Up(P)))?(u.instance=_,Cr(_),_):(y=p,(_=co.get(P))&&(y=h({},p),vS(y,_)),l=l.ownerDocument||l,_=l.createElement("script"),Cr(_),Ci(_,"link",y),l.head.appendChild(_),u.instance=_);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,Vv(y,p.precedence,l));return u.instance}function Vv(l,u,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=y.length?y[y.length-1]:null,P=_,$=0;$<y.length;$++){var Q=y[$];if(Q.dataset.precedence===u)P=Q;else if(P!==_)break}P?P.parentNode.insertBefore(l,P.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(l,u.firstChild))}function gS(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function vS(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var qv=null;function xj(l,u,p){if(qv===null){var y=new Map,_=qv=new Map;_.set(p,y)}else _=qv,y=_.get(p),y||(y=new Map,_.set(p,y));if(y.has(l))return y;for(y.set(l,null),p=p.getElementsByTagName(l),_=0;_<p.length;_++){var P=p[_];if(!(P[Nn]||P[fn]||l==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var $=P.getAttribute(u)||"";$=l+$;var Q=y.get($);Q?Q.push(P):y.set($,[P])}}return y}function wj(l,u,p){l=l.ownerDocument||l,l.head.insertBefore(p,u==="title"?l.querySelector("head > title"):null)}function xq(l,u,p){if(p===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;return u.rel==="stylesheet"?(l=u.disabled,typeof u.precedence=="string"&&l==null):!0;case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Sj(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function wq(l,u,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var _=_f(y.href),P=u.querySelector(Fp(_));if(P){u=P._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=Gv.bind(l),u.then(l,l)),p.state.loading|=4,p.instance=P,Cr(P);return}P=u.ownerDocument||u,y=yj(y),(_=co.get(_))&&gS(y,_),P=P.createElement("link"),Cr(P);var $=P;$._p=new Promise(function(Q,le){$.onload=Q,$.onerror=le}),Ci(P,"link",y),p.instance=P}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(l.count++,p=Gv.bind(l),u.addEventListener("load",p),u.addEventListener("error",p))}}var yS=0;function Sq(l,u){return l.stylesheets&&l.count===0&&Kv(l,l.stylesheets),0<l.count||0<l.imgCount?function(p){var y=setTimeout(function(){if(l.stylesheets&&Kv(l,l.stylesheets),l.unsuspend){var P=l.unsuspend;l.unsuspend=null,P()}},6e4+u);0<l.imgBytes&&yS===0&&(yS=62500*nq());var _=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Kv(l,l.stylesheets),l.unsuspend)){var P=l.unsuspend;l.unsuspend=null,P()}},(l.imgBytes>yS?50:800)+u);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(y),clearTimeout(_)}}:null}function Gv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kv(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Yv=null;function Kv(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Yv=new Map,u.forEach(Cq,l),Yv=null,Gv.call(l))}function Cq(l,u){if(!(u.state.loading&4)){var p=Yv.get(l);if(p)var y=p.get(null);else{p=new Map,Yv.set(l,p);for(var _=l.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<_.length;P++){var $=_[P];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(p.set($.dataset.precedence,$),y=$)}y&&p.set(null,y)}_=u.instance,$=_.getAttribute("data-precedence"),P=p.get($)||y,P===y&&p.set(null,_),p.set($,_),this.count++,y=Gv.bind(this),_.addEventListener("load",y),_.addEventListener("error",y),P?P.parentNode.insertBefore(_,P.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(_,l.firstChild)),u.state.loading|=4}}var Hp={$$typeof:E,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function Aq(l,u,p,y,_,P,$,Q,le){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.hiddenUpdates=Hr(null),this.identifierPrefix=y,this.onUncaughtError=_,this.onCaughtError=P,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function Cj(l,u,p,y,_,P,$,Q,le,Ee,Ie,Ye){return l=new Aq(l,u,p,$,le,Ee,Ie,Ye,Q),u=1,P===!0&&(u|=24),P=ja(3,null,null,u),l.current=P,P.stateNode=l,u=Zw(),u.refCount++,l.pooledCache=u,u.refCount++,P.memoizedState={element:y,isDehydrated:p,cache:u},t1(P),l}function Aj(l){return l?(l=nf,l):nf}function _j(l,u,p,y,_,P){_=Aj(_),y.context===null?y.context=_:y.pendingContext=_,y=pc(u),y.payload={element:p},P=P===void 0?null:P,P!==null&&(y.callback=P),p=mc(l,y,u),p!==null&&(xa(p,l,u),wp(p,l,u))}function Ej(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function bS(l,u){Ej(l,u),(l=l.alternate)&&Ej(l,u)}function Tj(l){if(l.tag===13||l.tag===31){var u=Pn(l,67108864);u!==null&&xa(u,l,67108864),bS(l,67108864)}}function kj(l){if(l.tag===13||l.tag===31){var u=za();u=nn(u);var p=Pn(l,u);p!==null&&xa(p,l,u),bS(l,u)}}var Wv=!0;function _q(l,u,p,y){var _=L.T;L.T=null;var P=U.p;try{U.p=2,xS(l,u,p,y)}finally{U.p=P,L.T=_}}function Eq(l,u,p,y){var _=L.T;L.T=null;var P=U.p;try{U.p=8,xS(l,u,p,y)}finally{U.p=P,L.T=_}}function xS(l,u,p,y){if(Wv){var _=wS(y);if(_===null)oS(l,u,y,Xv,p),Oj(l,y);else if(kq(_,l,u,p,y))y.stopPropagation();else if(Oj(l,y),u&4&&-1<Tq.indexOf(l)){for(;_!==null;){var P=pn(_);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var $=kn(P.pendingLanes);if($!==0){var Q=P;for(Q.pendingLanes|=2,Q.entangledLanes|=2;$;){var le=1<<31-et($);Q.entanglements[1]|=le,$&=~le}ls(P),(Cn&6)===0&&(Dv=Be()+500,Ip(0))}}break;case 31:case 13:Q=Pn(P,2),Q!==null&&xa(Q,P,2),Rv(),bS(P,2)}if(P=wS(y),P===null&&oS(l,u,y,Xv,p),P===_)break;_=P}_!==null&&y.stopPropagation()}else oS(l,u,y,null,p)}}function wS(l){return l=Bd(l),SS(l)}var Xv=null;function SS(l){if(Xv=null,l=qt(l),l!==null){var u=a(l);if(u===null)l=null;else{var p=u.tag;if(p===13){if(l=o(u),l!==null)return l;l=null}else if(p===31){if(l=s(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return Xv=l,null}function Pj(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case Ge:return 2;case Ve:return 8;case Jt:case bn:return 32;case Vt:return 268435456;default:return 32}default:return 32}}var CS=!1,Ec=null,Tc=null,kc=null,Vp=new Map,qp=new Map,Pc=[],Tq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oj(l,u){switch(l){case"focusin":case"focusout":Ec=null;break;case"dragenter":case"dragleave":Tc=null;break;case"mouseover":case"mouseout":kc=null;break;case"pointerover":case"pointerout":Vp.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":qp.delete(u.pointerId)}}function Gp(l,u,p,y,_,P){return l===null||l.nativeEvent!==P?(l={blockedOn:u,domEventName:p,eventSystemFlags:y,nativeEvent:P,targetContainers:[_]},u!==null&&(u=pn(u),u!==null&&Tj(u)),l):(l.eventSystemFlags|=y,u=l.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),l)}function kq(l,u,p,y,_){switch(u){case"focusin":return Ec=Gp(Ec,l,u,p,y,_),!0;case"dragenter":return Tc=Gp(Tc,l,u,p,y,_),!0;case"mouseover":return kc=Gp(kc,l,u,p,y,_),!0;case"pointerover":var P=_.pointerId;return Vp.set(P,Gp(Vp.get(P)||null,l,u,p,y,_)),!0;case"gotpointercapture":return P=_.pointerId,qp.set(P,Gp(qp.get(P)||null,l,u,p,y,_)),!0}return!1}function Mj(l){var u=qt(l.target);if(u!==null){var p=a(u);if(p!==null){if(u=p.tag,u===13){if(u=o(p),u!==null){l.blockedOn=u,Ma(l.priority,function(){kj(p)});return}}else if(u===31){if(u=s(p),u!==null){l.blockedOn=u,Ma(l.priority,function(){kj(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Zv(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=wS(l.nativeEvent);if(p===null){p=l.nativeEvent;var y=new p.constructor(p.type,p);eo=y,p.target.dispatchEvent(y),eo=null}else return u=pn(p),u!==null&&Tj(u),l.blockedOn=p,!1;u.shift()}return!0}function Dj(l,u,p){Zv(l)&&p.delete(u)}function Pq(){CS=!1,Ec!==null&&Zv(Ec)&&(Ec=null),Tc!==null&&Zv(Tc)&&(Tc=null),kc!==null&&Zv(kc)&&(kc=null),Vp.forEach(Dj),qp.forEach(Dj)}function Qv(l,u){l.blockedOn===u&&(l.blockedOn=null,CS||(CS=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Pq)))}var Jv=null;function jj(l){Jv!==l&&(Jv=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Jv===l&&(Jv=null);for(var u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],_=l[u+2];if(typeof y!="function"){if(SS(y||p)===null)continue;break}var P=pn(p);P!==null&&(l.splice(u,3),u-=3,w1(P,{pending:!0,data:_,method:p.method,action:y},y,_))}}))}function Tf(l){function u(le){return Qv(le,l)}Ec!==null&&Qv(Ec,l),Tc!==null&&Qv(Tc,l),kc!==null&&Qv(kc,l),Vp.forEach(u),qp.forEach(u);for(var p=0;p<Pc.length;p++){var y=Pc[p];y.blockedOn===l&&(y.blockedOn=null)}for(;0<Pc.length&&(p=Pc[0],p.blockedOn===null);)Mj(p),p.blockedOn===null&&Pc.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var _=p[y],P=p[y+1],$=_[Un]||null;if(typeof P=="function")$||jj(p);else if($){var Q=null;if(P&&P.hasAttribute("formAction")){if(_=P,$=P[Un]||null)Q=$.formAction;else if(SS(_)!==null)continue}else Q=$.action;typeof Q=="function"?p[y+1]=Q:(p.splice(y,3),y-=3),jj(p)}}}function Rj(){function l(P){P.canIntercept&&P.info==="react-transition"&&P.intercept({handler:function(){return new Promise(function($){return _=$})},focusReset:"manual",scroll:"manual"})}function u(){_!==null&&(_(),_=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var P=navigation.currentEntry;P&&P.url!=null&&navigation.navigate(P.url,{state:P.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,_=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),_!==null&&(_(),_=null)}}}function AS(l){this._internalRoot=l}ey.prototype.render=AS.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var p=u.current,y=za();_j(p,y,l,u,null,null)},ey.prototype.unmount=AS.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;_j(l.current,2,null,l,null,null),Rv(),u[Pr]=null}};function ey(l){this._internalRoot=l}ey.prototype.unstable_scheduleHydration=function(l){if(l){var u=qr();l={blockedOn:null,target:l,priority:u};for(var p=0;p<Pc.length&&u!==0&&u<Pc[p].priority;p++);Pc.splice(p,0,l),p===0&&Mj(l)}};var Lj=e.version;if(Lj!=="19.2.4")throw Error(r(527,Lj,"19.2.4"));U.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=d(u),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var Oq={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ty=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ty.isDisabled&&ty.supportsFiber)try{Xn=ty.inject(Oq),xn=ty}catch{}}return Kp.createRoot=function(l,u){if(!i(l))throw Error(r(299));var p=!1,y="",_=UM,P=HM,$=VM;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(P=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError)),u=Cj(l,1,!1,null,null,p,y,null,_,P,$,Rj),l[Pr]=u.current,aS(l),new AS(u)},Kp.hydrateRoot=function(l,u,p){if(!i(l))throw Error(r(299));var y=!1,_="",P=UM,$=HM,Q=VM,le=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(_=p.identifierPrefix),p.onUncaughtError!==void 0&&(P=p.onUncaughtError),p.onCaughtError!==void 0&&($=p.onCaughtError),p.onRecoverableError!==void 0&&(Q=p.onRecoverableError),p.formState!==void 0&&(le=p.formState)),u=Cj(l,1,!0,u,p??null,y,_,le,P,$,Q,Rj),u.context=Aj(null),p=u.current,y=za(),y=nn(y),_=pc(y),_.callback=null,mc(p,_,y),p=y,u.current.lanes=p,hn(u,p),ls(u),l[Pr]=u.current,aS(l),new ey(u)},Kp.version="19.2.4",Kp}var Yj;function Fq(){if(Yj)return kS.exports;Yj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kS.exports=$q(),kS.exports}var Uq=Fq(),ws=function(){return ws=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ws.apply(this,arguments)};function I5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ad(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(s,c)}d((r=r.apply(t,e||[])).next())})}function Hq(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Gy="right-scroll-bar-position",Yy="width-before-scroll-bar",Vq="with-scroll-bars-hidden",qq="--removed-body-scroll-bar-size";function DS(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Gq(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Yq=typeof window<"u"?w.useLayoutEffect:w.useEffect,Kj=new WeakMap;function Kq(t,e){var n=Gq(null,function(r){return t.forEach(function(i){return DS(i,r)})});return Yq(function(){var r=Kj.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(s){a.has(s)||DS(s,null)}),a.forEach(function(s){i.has(s)||DS(s,o)})}Kj.set(n,t)},[t]),n}function Wq(t){return t}function Xq(t,e){e===void 0&&(e=Wq);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var s=n;n=[],s.forEach(a),o=n}var c=function(){var f=o;o=[],f.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return i}function Zq(t){t===void 0&&(t={});var e=Xq(null);return e.options=ws({async:!0,ssr:!1},t),e}var z5=function(t){var e=t.sideCar,n=I5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,ws({},n))};z5.isSideCarExport=!0;function Qq(t,e){return t.useMedium(e),z5}var B5=Zq(),jS=function(){},z0=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:jS,onWheelCapture:jS,onTouchMoveCapture:jS}),i=r[0],a=r[1],o=t.forwardProps,s=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,h=t.shards,m=t.sideCar,v=t.noRelative,b=t.noIsolation,x=t.inert,S=t.allowPinchZoom,C=t.as,T=C===void 0?"div":C,E=t.gapMode,k=I5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=m,D=Kq([n,e]),j=ws(ws({},k),i);return w.createElement(w.Fragment,null,f&&w.createElement(M,{sideCar:B5,removeScrollBar:d,shards:h,noRelative:v,noIsolation:b,inert:x,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:E}),o?w.cloneElement(w.Children.only(s),ws(ws({},j),{ref:D})):w.createElement(T,ws({},j,{className:c,ref:D}),s))});z0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};z0.classNames={fullWidth:Yy,zeroRight:Gy};var Jq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Jq();return e&&t.setAttribute("nonce",e),t}function tG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function nG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var rG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=eG())&&(tG(e,n),nG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},iG=function(){var t=rG();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},$5=function(){var t=iG(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},aG={left:0,top:0,right:0,gap:0},RS=function(t){return parseInt(t||"",10)||0},oG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[RS(n),RS(r),RS(i)]},sG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return aG;var e=oG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},lG=$5(),Zf="data-scroll-locked",cG=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,s=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Vq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Zf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gy,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Yy,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Gy," .").concat(Gy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yy," .").concat(Yy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zf,`] {
    `).concat(qq,": ").concat(s,`px;
  }
`)},Wj=function(){var t=parseInt(document.body.getAttribute(Zf)||"0",10);return isFinite(t)?t:0},uG=function(){w.useEffect(function(){return document.body.setAttribute(Zf,(Wj()+1).toString()),function(){var t=Wj()-1;t<=0?document.body.removeAttribute(Zf):document.body.setAttribute(Zf,t.toString())}},[])},dG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;uG();var a=w.useMemo(function(){return sG(i)},[i]);return w.createElement(lG,{styles:cG(a,!e,i,n?"":"!important")})},__=!1;if(typeof window<"u")try{var ny=Object.defineProperty({},"passive",{get:function(){return __=!0,!0}});window.addEventListener("test",ny,ny),window.removeEventListener("test",ny,ny)}catch{__=!1}var kf=__?{passive:!1}:!1,fG=function(t){return t.tagName==="TEXTAREA"},F5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!fG(t)&&n[e]==="visible")},hG=function(t){return F5(t,"overflowY")},pG=function(t){return F5(t,"overflowX")},Xj=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=U5(t,r);if(i){var a=H5(t,r),o=a[1],s=a[2];if(o>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},gG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},U5=function(t,e){return t==="v"?hG(e):pG(e)},H5=function(t,e){return t==="v"?mG(e):gG(e)},vG=function(t,e){return t==="h"&&e==="rtl"?-1:1},yG=function(t,e,n,r,i){var a=vG(t,window.getComputedStyle(e).direction),o=a*r,s=n.target,c=e.contains(s),d=!1,f=o>0,h=0,m=0;do{if(!s)break;var v=H5(t,s),b=v[0],x=v[1],S=v[2],C=x-S-a*b;(b||C)&&U5(t,s)&&(h+=C,m+=b);var T=s.parentNode;s=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!c&&s!==document.body||c&&(e.contains(s)||e===s));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(d=!0),d},ry=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Zj=function(t){return[t.deltaX,t.deltaY]},Qj=function(t){return t&&"current"in t?t.current:t},bG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},xG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wG=0,Pf=[];function SG(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(wG++)[0],a=w.useState($5)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=Hq([t.lockRef.current],(t.shards||[]).map(Qj),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=w.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var C=ry(x),T=n.current,E="deltaX"in x?x.deltaX:T[0]-C[0],k="deltaY"in x?x.deltaY:T[1]-C[1],M,D=x.target,j=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in x&&j==="h"&&D.type==="range")return!1;var I=window.getSelection(),B=I&&I.anchorNode,G=B?B===D||B.contains(D):!1;if(G)return!1;var V=Xj(j,D);if(!V)return!0;if(V?M=j:(M=j==="v"?"h":"v",V=Xj(j,D)),!V)return!1;if(!r.current&&"changedTouches"in x&&(E||k)&&(r.current=M),!M)return!0;var K=r.current||M;return yG(K,S,x,K==="h"?E:k)},[]),c=w.useCallback(function(x){var S=x;if(!(!Pf.length||Pf[Pf.length-1]!==a)){var C="deltaY"in S?Zj(S):ry(S),T=e.current.filter(function(M){return M.name===S.type&&(M.target===S.target||S.target===M.shadowParent)&&bG(M.delta,C)})[0];if(T&&T.should){S.cancelable&&S.preventDefault();return}if(!T){var E=(o.current.shards||[]).map(Qj).filter(Boolean).filter(function(M){return M.contains(S.target)}),k=E.length>0?s(S,E[0]):!o.current.noIsolation;k&&S.cancelable&&S.preventDefault()}}},[]),d=w.useCallback(function(x,S,C,T){var E={name:x,delta:S,target:C,should:T,shadowParent:CG(C)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(k){return k!==E})},1)},[]),f=w.useCallback(function(x){n.current=ry(x),r.current=void 0},[]),h=w.useCallback(function(x){d(x.type,Zj(x),x.target,s(x,t.lockRef.current))},[]),m=w.useCallback(function(x){d(x.type,ry(x),x.target,s(x,t.lockRef.current))},[]);w.useEffect(function(){return Pf.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,kf),document.addEventListener("touchmove",c,kf),document.addEventListener("touchstart",f,kf),function(){Pf=Pf.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,kf),document.removeEventListener("touchmove",c,kf),document.removeEventListener("touchstart",f,kf)}},[]);var v=t.removeScrollBar,b=t.inert;return w.createElement(w.Fragment,null,b?w.createElement(a,{styles:xG(i)}):null,v?w.createElement(dG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function CG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const AG=Qq(B5,SG);var cd=w.forwardRef(function(t,e){return w.createElement(z0,ws({},t,{ref:e,sideCar:AG}))});cd.classNames=z0.classNames;function Tr(t){return Object.keys(t)}function LS(t){return t&&typeof t=="object"&&!Array.isArray(t)}function xT(t,e){const n={...t},r=e;return LS(t)&&LS(e)&&Object.keys(e).forEach(i=>{LS(r[i])&&i in t?n[i]=xT(n[i],r[i]):n[i]=r[i]}),n}function _G(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function EG(t){return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:t.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function Rm(t){const e=EG(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function Jj(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function V5(t,{shouldScale:e=!1}={}){function n(r){if(r===0||r==="0")return`0${t}`;if(typeof r=="number"){const i=`${r/16}${t}`;return e?Jj(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(a=>n(a)).join(",");if(r.includes(" "))return r.split(" ").map(a=>n(a)).join(" ");const i=r.replace("px","");if(!Number.isNaN(Number(i))){const a=`${Number(i)/16}${t}`;return e?Jj(a):a}}return r}return n}const Oe=V5("rem",{shouldScale:!0}),pb=V5("em");function cg(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function q5(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(r=>e.test(r))}return!1}function wT(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==w.Fragment:!1}function da(t){const e=w.createContext(null);return[({children:i,value:a})=>g.jsx(e.Provider,{value:a,children:i}),()=>{const i=w.useContext(e);if(i===null)throw new Error(t);return i}]}function Zc(t=null){const e=w.createContext(t);return[({children:i,value:a})=>g.jsx(e.Provider,{value:a,children:i}),()=>w.useContext(e)]}function mb(t,e){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(e);return`${t}-${n}`}}function E_(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function TG(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].disabled)return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].disabled)return r}return t}function kG(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].disabled)return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].disabled)return r}return t}function PG(t,e,n){return E_(t,n)===E_(e,n)}function G5({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:a="rtl",orientation:o}){return s=>{n?.(s);const c=Array.from(E_(s.currentTarget,t)?.querySelectorAll(e)||[]).filter(b=>PG(s.currentTarget,b,t)),d=c.findIndex(b=>s.currentTarget===b),f=kG(d,c,r),h=TG(d,c,r),m=a==="rtl"?h:f,v=a==="rtl"?f:h;switch(s.key){case"ArrowRight":{o==="horizontal"&&(s.stopPropagation(),s.preventDefault(),c[m].focus(),i&&c[m].click());break}case"ArrowLeft":{o==="horizontal"&&(s.stopPropagation(),s.preventDefault(),c[v].focus(),i&&c[v].click());break}case"ArrowUp":{o==="vertical"&&(s.stopPropagation(),s.preventDefault(),c[h].focus(),i&&c[h].click());break}case"ArrowDown":{o==="vertical"&&(s.stopPropagation(),s.preventDefault(),c[f].focus(),i&&c[f].click());break}case"Home":{s.stopPropagation(),s.preventDefault(),!c[0].disabled&&c[0].focus();break}case"End":{s.stopPropagation(),s.preventDefault();const b=c.length-1;!c[b].disabled&&c[b].focus();break}}}}const OG={app:100,modal:200,popover:300,overlay:400,max:9999};function Wa(t){return OG[t]}const gb=()=>{};function MG(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||gb:n=>{n.key==="Escape"&&(t(n),e.onTrigger?.())}}function jt(t,e="size",n=!0){if(t!==void 0)return q5(t)?n?Oe(t):t:`var(--${e}-${t})`}function zr(t){return jt(t,"mantine-spacing")}function En(t){return t===void 0?"var(--mantine-radius-default)":jt(t,"mantine-radius")}function cr(t){return jt(t,"mantine-font-size")}function Y5(t){return jt(t,"mantine-line-height",!1)}function ST(t){if(t)return jt(t,"mantine-shadow",!1)}function CT(t,e){return t in e?Rm(e[t]):Rm(t)}function T_(t,e){const n=t.map(r=>({value:r,px:CT(r,e)}));return n.sort((r,i)=>r.px-i.px),n}function Qf(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function _m(t,e,n){return e===void 0&&n===void 0?t:e!==void 0&&n===void 0?Math.max(t,e):Math.min(e===void 0&&n!==void 0?t:Math.max(t,e),n)}function vb(t="mantine-"){return`${t}${Math.random().toString(36).slice(2,11)}`}function DG(t,e){if(t===e||Number.isNaN(t)&&Number.isNaN(e))return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;const n=Object.keys(t),{length:r}=n;if(r!==Object.keys(e).length)return!1;for(let i=0;i<r;i+=1){const a=n[i];if(!(a in e)||t[a]!==e[a]&&!(Number.isNaN(t[a])&&Number.isNaN(e[a])))return!1}return!0}function eR(t){return typeof t!="string"?"":t.charAt(0).toUpperCase()+t.slice(1)}function Fu(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>((...n)=>e.current?.(...n)),[])}function B0(t,e){const{delay:n,flushOnUnmount:r,leading:i}=typeof e=="number"?{delay:e,flushOnUnmount:!1,leading:!1}:e,a=Fu(t),o=w.useRef(0),s=w.useMemo(()=>{const c=Object.assign((...d)=>{window.clearTimeout(o.current);const f=c._isFirstCall;c._isFirstCall=!1;function h(){window.clearTimeout(o.current),o.current=0,c._isFirstCall=!0}if(i&&f){a(...d);const b=()=>{h()},x=()=>{o.current!==0&&(h(),a(...d))},S=()=>{h()};c.flush=x,c.cancel=S,o.current=window.setTimeout(b,n);return}if(i&&!f){const b=()=>{o.current!==0&&(h(),a(...d))},x=()=>{h()};c.flush=b,c.cancel=x;const S=()=>{h()};o.current=window.setTimeout(S,n);return}const m=()=>{o.current!==0&&(h(),a(...d))},v=()=>{h()};c.flush=m,c.cancel=v,o.current=window.setTimeout(m,n)},{flush:()=>{},cancel:()=>{},_isFirstCall:!0});return c},[a,n,i]);return w.useEffect(()=>()=>{r?s.flush():s.cancel()},[s,r]),s}const jG=["mousedown","touchstart"];function RG(t,e,n){const r=w.useRef(null),i=e||jG;return w.useEffect(()=>{const a=o=>{const{target:s}=o??{};if(Array.isArray(n)){const c=!document.body.contains(s)&&s?.tagName!=="HTML";n.every(f=>!!f&&!o.composedPath().includes(f))&&!c&&t(o)}else r.current&&!r.current.contains(s)&&t(o)};return i.forEach(o=>document.addEventListener(o,a)),()=>{i.forEach(o=>document.removeEventListener(o,a))}},[r,t,n]),r}function LG(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function NG(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function Uu(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=w.useState(n?e:NG(t));return w.useEffect(()=>{try{const a=window.matchMedia(t);return i(a.matches),LG(a,o=>i(o.matches))}catch{return}},[t]),r||!1}function IG(t,e){return Uu("(prefers-color-scheme: dark)",t==="dark",e)?"dark":"light"}const _d=typeof document<"u"?w.useLayoutEffect:w.useEffect;function ud(t,e){const n=w.useRef(!1);w.useEffect(()=>()=>{n.current=!1},[]),w.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function K5({opened:t,shouldReturnFocus:e=!0}){const n=w.useRef(null),r=()=>{n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&n.current?.focus({preventScroll:!0})};return ud(()=>{let i=-1;const a=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",a),t?n.current=document.activeElement:e&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",a)}},[t,e]),r}const zG=/input|select|textarea|button|object/,W5="a, input, select, textarea, button, object, [tabindex]";function BG(t){return t.style.display==="none"}function $G(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(BG(n))return!1;n=n.parentNode}return!0}function X5(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function k_(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(X5(t));return(zG.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&$G(t)}function Z5(t){const e=X5(t);return(Number.isNaN(e)||e>=0)&&k_(t)}function FG(t){return Array.from(t.querySelectorAll(W5)).filter(Z5)}function UG(t,e){const n=FG(t);if(!n.length){e.preventDefault();return}const r=n[e.shiftKey?0:n.length-1],i=t.getRootNode();let a=r===i.activeElement||t===i.activeElement;const o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(a=n.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===o.getAttribute("name")).includes(r)),!a)return;e.preventDefault();const c=n[e.shiftKey?n.length-1:0];c&&c.focus()}function HG(t=!0){const e=w.useRef(null),n=i=>{let a=i.querySelector("[data-autofocus]");if(!a){const o=Array.from(i.querySelectorAll(W5));a=o.find(Z5)||o.find(k_)||null,!a&&k_(i)&&(a=i)}a&&a.focus({preventScroll:!0})},r=w.useCallback(i=>{t&&i!==null&&e.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),e.current=i):e.current=null)},[t]);return w.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>n(e.current));const i=a=>{a.key==="Tab"&&e.current&&UG(e.current,a)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[t]),r}const VG=t=>(t+1)%1e6;function qG(){const[,t]=w.useReducer(VG,0);return t}const GG=sr.useId||(()=>{});function YG(){const t=GG();return t?`mantine-${t.replace(/:/g,"")}`:""}function hi(t){const e=YG(),[n,r]=w.useState(e);return _d(()=>{r(vb())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function Q5(t,e,n){w.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}function lh(t,e){if(typeof t=="function")return t(e);typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function J5(...t){const e=new Map;return n=>{if(t.forEach(r=>{const i=lh(r,n);i&&e.set(r,i)}),e.size>0)return()=>{t.forEach(r=>{const i=e.get(r);i&&typeof i=="function"?i():lh(r,null)}),e.clear()}}}function kr(...t){return w.useCallback(J5(...t),t)}function Ur({value:t,defaultValue:e,finalValue:n,onChange:r=()=>{}}){const[i,a]=w.useState(e!==void 0?e:n),o=(s,...c)=>{a(s),r?.(s,...c)};return t!==void 0?[t,r,!0]:[i,o,!1]}function $0(t,e){return Uu("(prefers-reduced-motion: reduce)",t,e)}function KG(t,e){if(!t||!e)return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(!DG(t[n],e[n]))return!1;return!0}function WG(t){const e=w.useRef([]),n=w.useRef(0);return KG(e.current,t)||(e.current=t,n.current+=1),[n.current]}function XG(t,e){w.useEffect(t,WG(e))}function F0(t=!1,e={}){const[n,r]=w.useState(t),i=w.useCallback(()=>{r(s=>s||(e.onOpen?.(),!0))},[e.onOpen]),a=w.useCallback(()=>{r(s=>s&&(e.onClose?.(),!1))},[e.onClose]),o=w.useCallback(()=>{n?a():i()},[a,i,n]);return[n,{open:i,close:a,toggle:o}]}function ZG(t,e,n={autoInvoke:!1}){const r=w.useRef(null),i=w.useCallback((...o)=>{r.current||(r.current=window.setTimeout(()=>{t(o),r.current=null},e))},[e]),a=w.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return w.useEffect(()=>(n.autoInvoke&&i(),a),[a,i]),{start:i,clear:a}}function QG(t){const e=w.useRef(void 0);return w.useEffect(()=>{e.current=t},[t]),e.current}function JG(t,e,n){const r=w.useRef(null),i=w.useRef(null);return w.useEffect(()=>{const a=typeof n=="function"?n():n;return(a||i.current)&&(r.current=new MutationObserver(t),r.current.observe(a||i.current,e)),()=>{r.current?.disconnect()}},[t,e]),i}function eY(){const[t,e]=w.useState(!1);return w.useEffect(()=>e(!0),[]),t}var tY={};function e4(){return typeof process<"u"&&tY?"production":"development"}function U0(t){const e=sr.version;return typeof sr.version!="string"||e.startsWith("18.")?t?.ref:t?.props?.ref}function Ky(t,e=document){const n=e.querySelector(t);if(n)return n;const r=e.querySelectorAll("*");for(let i=0;i<r.length;i+=1){const a=r[i];if(a.shadowRoot){const o=Ky(t,a.shadowRoot);if(o)return o}}return null}function jc(t,e=document){const n=[],r=e.querySelectorAll(t);n.push(...Array.from(r));const i=e.querySelectorAll("*");for(let a=0;a<i.length;a+=1){const o=i[a];if(o.shadowRoot){const s=jc(t,o.shadowRoot);n.push(...s)}}return n}function Mc(t){if(!t)return document;const e=t.getRootNode();return e instanceof ShadowRoot||e instanceof Document?e:document}function kh(t){const e=w.Children.toArray(t);return e.length!==1||!wT(e[0])?null:e[0]}function t4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=t4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ot(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=t4(t))&&(r&&(r+=" "),r+=e);return r}const nY={};function rY(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([r,i])=>{e[r]?e[r]=Ot(e[r],i):e[r]=i})}),e}function H0({theme:t,classNames:e,props:n,stylesCtx:r}){const a=(Array.isArray(e)?e:[e]).map(o=>typeof o=="function"?o(t,n,r):o||nY);return rY(a)}function yb({theme:t,styles:e,props:n,stylesCtx:r}){return(Array.isArray(e)?e:[e]).reduce((a,o)=>typeof o=="function"?{...a,...o(t,n,r)}:{...a,...o},{})}const AT=w.createContext(null);function Bl(){const t=w.useContext(AT);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function iY(){return Bl().cssVariablesResolver}function aY(){return Bl().classNamesPrefix}function V0(){return Bl().getStyleNonce}function oY(){return Bl().withStaticClasses}function sY(){return Bl().headless}function lY(){return Bl().stylesTransform?.sx}function cY(){return Bl().stylesTransform?.styles}function q0(){return Bl().env||"default"}function uY(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function dY(t){let e=t.replace("#","");if(e.length===3){const o=e.split("");e=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(e.length===8){const o=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:o}}const n=parseInt(e,16),r=n>>16&255,i=n>>8&255,a=n&255;return{r,g:i,b:a,a:1}}function fY(t){const[e,n,r,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:r,a:i===void 0?1:i}}function hY(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,a=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,s=(1-Math.abs(2*a-1))*i,c=r/60,d=s*(1-Math.abs(c%2-1)),f=a-s/2;let h,m,v;return c>=0&&c<1?(h=s,m=d,v=0):c>=1&&c<2?(h=d,m=s,v=0):c>=2&&c<3?(h=0,m=s,v=d):c>=3&&c<4?(h=0,m=d,v=s):c>=4&&c<5?(h=d,m=0,v=s):(h=s,m=0,v=d),{r:Math.round((h+f)*255),g:Math.round((m+f)*255),b:Math.round((v+f)*255),a:o||1}}function _T(t){return uY(t)?dY(t):t.startsWith("rgb")?fY(t):t.startsWith("hsl")?hY(t):{r:0,g:0,b:0,a:1}}function iy(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:r,b:i,a}=_T(t),o=1-e,s=c=>Math.round(c*o);return`rgba(${s(n)}, ${s(r)}, ${s(i)}, ${a})`}function Lm(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function NS(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function pY(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function mY(t){if(t.startsWith("oklch("))return(pY(t)||0)/100;const{r:e,g:n,b:r}=_T(t),i=e/255,a=n/255,o=r/255,s=NS(i),c=NS(a),d=NS(o);return .2126*s+.7152*c+.0722*d}function Wp(t,e=.179){return t.startsWith("var(")?!1:mY(t)>e}function $l({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Wp(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Wp(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Wp(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[r,i]=t.split("."),a=i?Number(i):void 0,o=r in e.colors;if(o){const s=a!==void 0?e.colors[r][a]:e.colors[r][Lm(e,n||"light")];return{color:r,value:s,shade:a,isThemeColor:o,isLight:Wp(s,e.luminanceThreshold),variable:i?`--mantine-color-${r}-${a}`:`--mantine-color-${r}-filled`}}return{color:t,value:t,isThemeColor:o,isLight:Wp(t,e.luminanceThreshold),shade:a,variable:void 0}}function Kn(t,e){const n=$l({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function P_(t,e){const n={from:t?.from||e.defaultGradient.from,to:t?.to||e.defaultGradient.to,deg:t?.deg??e.defaultGradient.deg??0},r=Kn(n.from,e),i=Kn(n.to,e);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function vs(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const a=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${a}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:r,b:i}=_T(t);return`rgba(${n}, ${r}, ${i}, ${e})`}const Of=vs,gY=({color:t,theme:e,variant:n,gradient:r,autoContrast:i})=>{const a=$l({color:t,theme:e}),o=typeof i=="boolean"?i:e.autoContrast;if(n==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(n==="filled"){const s=o&&a.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return a.isThemeColor?a.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:s,border:`${Oe(1)} solid transparent`}:{background:`var(--mantine-color-${a.color}-${a.shade})`,hover:`var(--mantine-color-${a.color}-${a.shade===9?8:a.shade+1})`,color:s,border:`${Oe(1)} solid transparent`}:{background:t,hover:iy(t,.1),color:s,border:`${Oe(1)} solid transparent`}}if(n==="light"){if(a.isThemeColor){if(a.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${Oe(1)} solid transparent`};const s=e.colors[a.color][a.shade];return{background:vs(s,.1),hover:vs(s,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${Oe(1)} solid transparent`}}return{background:vs(t,.1),hover:vs(t,.12),color:t,border:`${Oe(1)} solid transparent`}}if(n==="outline")return a.isThemeColor?a.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${Oe(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:vs(e.colors[a.color][a.shade],.05),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${Oe(1)} solid var(--mantine-color-${a.color}-${a.shade})`}:{background:"transparent",hover:vs(t,.05),color:t,border:`${Oe(1)} solid ${t}`};if(n==="subtle"){if(a.isThemeColor){if(a.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${Oe(1)} solid transparent`};const s=e.colors[a.color][a.shade];return{background:"transparent",hover:vs(s,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${Oe(1)} solid transparent`}}return{background:"transparent",hover:vs(t,.12),color:t,border:`${Oe(1)} solid transparent`}}return n==="transparent"?a.isThemeColor?a.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${Oe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${Oe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${Oe(1)} solid transparent`}:n==="white"?a.isThemeColor?a.shade===void 0?{background:"var(--mantine-color-white)",hover:iy(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${Oe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:iy(e.white,.01),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${Oe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:iy(e.white,.01),color:t,border:`${Oe(1)} solid transparent`}:n==="gradient"?{background:P_(r,e),hover:P_(r,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Oe(1)} solid var(--mantine-color-default-border)`}:{}},vY={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},tR="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",ET={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:vY,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:gY,autoContrast:!1,luminanceThreshold:.3,fontFamily:tR,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:tR,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Oe(34),lineHeight:"1.3"},h2:{fontSize:Oe(26),lineHeight:"1.35"},h3:{fontSize:Oe(22),lineHeight:"1.4"},h4:{fontSize:Oe(18),lineHeight:"1.45"},h5:{fontSize:Oe(16),lineHeight:"1.5"},h6:{fontSize:Oe(14),lineHeight:"1.5"}}},fontSizes:{xs:Oe(12),sm:Oe(14),md:Oe(16),lg:Oe(18),xl:Oe(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Oe(2),sm:Oe(4),md:Oe(8),lg:Oe(16),xl:Oe(32)},spacing:{xs:Oe(10),sm:Oe(12),md:Oe(16),lg:Oe(20),xl:Oe(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Oe(1)} ${Oe(3)} rgba(0, 0, 0, 0.05), 0 ${Oe(1)} ${Oe(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Oe(1)} ${Oe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Oe(10)} ${Oe(15)} ${Oe(-5)}, rgba(0, 0, 0, 0.04) 0 ${Oe(7)} ${Oe(7)} ${Oe(-5)}`,md:`0 ${Oe(1)} ${Oe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Oe(20)} ${Oe(25)} ${Oe(-5)}, rgba(0, 0, 0, 0.04) 0 ${Oe(10)} ${Oe(10)} ${Oe(-5)}`,lg:`0 ${Oe(1)} ${Oe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Oe(28)} ${Oe(23)} ${Oe(-7)}, rgba(0, 0, 0, 0.04) 0 ${Oe(12)} ${Oe(12)} ${Oe(-7)}`,xl:`0 ${Oe(1)} ${Oe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Oe(36)} ${Oe(28)} ${Oe(-7)}, rgba(0, 0, 0, 0.04) 0 ${Oe(17)} ${Oe(17)} ${Oe(-7)}`},other:{},components:{}};function nR(t){return t==="auto"||t==="dark"||t==="light"}function yY({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(t);return nR(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{e=r=>{r.storageArea===window.localStorage&&r.key===t&&nR(r.newValue)&&n(r.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const bY="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",rR="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function IS(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function iR(t){if(!(t.primaryColor in t.colors))throw new Error(bY);if(typeof t.primaryShade=="object"&&(!IS(t.primaryShade.dark)||!IS(t.primaryShade.light)))throw new Error(rR);if(typeof t.primaryShade=="number"&&!IS(t.primaryShade))throw new Error(rR)}function xY(t,e){if(!e)return iR(t),t;const n=xT(t,e);return e.fontFamily&&!e.headings?.fontFamily&&(n.headings.fontFamily=e.fontFamily),iR(n),n}const TT=w.createContext(null),wY=()=>w.useContext(TT)||ET;function Xr(){const t=w.useContext(TT);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function n4({theme:t,children:e,inherit:n=!0}){const r=wY(),i=w.useMemo(()=>xY(n?r:ET,t),[t,r,n]);return g.jsx(TT.Provider,{value:i,children:e})}n4.displayName="@mantine/core/MantineThemeProvider";function SY(){const t=Xr(),e=V0(),n=Tr(t.breakpoints).reduce((r,i)=>{const a=t.breakpoints[i].includes("px"),o=Rm(t.breakpoints[i]),s=a?`${o-.1}px`:pb(o-.1),c=a?`${o}px`:pb(o);return`${r}@media (max-width: ${s}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${c}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return g.jsx("style",{"data-mantine-styles":"classes",nonce:e?.(),dangerouslySetInnerHTML:{__html:n}})}function zS(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function r4(t,e){const n=e?[e]:[":root",":host"],r=zS(t.variables),i=r?`${n.join(", ")}{${r}}`:"",a=zS(t.dark),o=zS(t.light),s=f=>n.map(h=>h===":host"?`${h}([data-mantine-color-scheme="${f}"])`:`${h}[data-mantine-color-scheme="${f}"]`).join(", "),c=a?`${s("dark")}{${a}}`:"",d=o?`${s("light")}{${o}}`:"";return`${i}

${c}

${d}`}function Fl({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&$l({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function aR(t,e){return Fl({color:t.colors[t.primaryColor][Lm(t,e)],theme:t,autoContrast:null})}function ay({theme:t,color:e,colorScheme:n,name:r=e,withColorValues:i=!0}){if(!t.colors[e])return{};if(n==="light"){const s=Lm(t,"light"),c={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:Of(t.colors[e][s],.1),[`--mantine-color-${r}-light-hover`]:Of(t.colors[e][s],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-outline-hover`]:Of(t.colors[e][s],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...c}:c}const a=Lm(t,"dark"),o={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:Of(t.colors[e][Math.max(0,a-2)],.15),[`--mantine-color-${r}-light-hover`]:Of(t.colors[e][Math.max(0,a-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(a-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(a-4,0)})`,[`--mantine-color-${r}-outline-hover`]:Of(t.colors[e][Math.max(a-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...o}:o}function CY(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function Mf(t,e,n){Tr(e).forEach(r=>Object.assign(t,{[`--mantine-${n}-${r}`]:e[r]}))}const i4=t=>{const e=Lm(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:Oe(t.defaultRadius),r={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":aR(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":aR(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};Mf(r.variables,t.breakpoints,"breakpoint"),Mf(r.variables,t.spacing,"spacing"),Mf(r.variables,t.fontSizes,"font-size"),Mf(r.variables,t.lineHeights,"line-height"),Mf(r.variables,t.shadows,"shadow"),Mf(r.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((a,o)=>{r.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${t.primaryColor}-${o})`}),Tr(t.colors).forEach(a=>{const o=t.colors[a];if(CY(o)){Object.assign(r.light,ay({theme:t,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,ay({theme:t,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((s,c)=>{r.variables[`--mantine-color-${a}-${c}`]=s}),Object.assign(r.light,ay({theme:t,color:a,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,ay({theme:t,color:a,colorScheme:"dark",withColorValues:!1}))});const i=t.headings.sizes;return Tr(i).forEach(a=>{r.variables[`--mantine-${a}-font-size`]=i[a].fontSize,r.variables[`--mantine-${a}-line-height`]=i[a].lineHeight,r.variables[`--mantine-${a}-font-weight`]=i[a].fontWeight||t.headings.fontWeight}),r};function AY({theme:t,generator:e}){const n=i4(t),r=e?.(t);return r?xT(n,r):n}const BS=i4(ET);function _Y(t){const e={variables:{},light:{},dark:{}};return Tr(t.variables).forEach(n=>{BS.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),Tr(t.light).forEach(n=>{BS.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),Tr(t.dark).forEach(n=>{BS.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function EY(t){return r4({variables:{},dark:{"--mantine-color-scheme":"dark"},light:{"--mantine-color-scheme":"light"}},t)}function a4({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=Xr(),r=V0(),i=iY(),a=AY({theme:n,generator:i}),o=(t===void 0||t===":root"||t===":host")&&e,s=o?_Y(a):a,c=r4(s,t);return c?g.jsx("style",{"data-mantine-styles":!0,nonce:r?.(),dangerouslySetInnerHTML:{__html:`${c}${o?"":EY(t)}`}}):null}a4.displayName="@mantine/CssVariables";function Df(t,e){const n=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,r=t!=="auto"?t:n?"dark":"light";e()?.setAttribute("data-mantine-color-scheme",r)}function TY({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:r}){const i=w.useRef(null),[a,o]=w.useState(()=>t.get(e)),s=r||a,c=w.useCallback(f=>{r||(Df(f,n),o(f),t.set(f))},[t.set,s,r]),d=w.useCallback(()=>{o(e),Df(e,n),t.clear()},[t.clear,e]);return w.useEffect(()=>(t.subscribe(c),t.unsubscribe),[t.subscribe,t.unsubscribe]),_d(()=>{Df(t.get(e),n)},[]),w.useEffect(()=>{if(r)return Df(r,n),()=>{};r===void 0&&Df(a,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const f=h=>{a==="auto"&&Df(h.matches?"dark":"light",n)};return i.current?.addEventListener("change",f),()=>i.current?.removeEventListener("change",f)},[a,r]),{colorScheme:s,setColorScheme:c,clearColorScheme:d}}function kY({respectReducedMotion:t,getRootElement:e}){_d(()=>{t&&e()?.setAttribute("data-respect-reduced-motion","true")},[t])}function o4({theme:t,children:e,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:a=!0,withCssVariables:o=!0,cssVariablesSelector:s,classNamesPrefix:c="mantine",colorSchemeManager:d=yY(),defaultColorScheme:f="light",getRootElement:h=()=>document.documentElement,cssVariablesResolver:m,forceColorScheme:v,stylesTransform:b,env:x}){const{colorScheme:S,setColorScheme:C,clearColorScheme:T}=TY({defaultColorScheme:f,forceColorScheme:v,manager:d,getRootElement:h});return kY({respectReducedMotion:t?.respectReducedMotion||!1,getRootElement:h}),g.jsx(AT.Provider,{value:{colorScheme:S,setColorScheme:C,clearColorScheme:T,getRootElement:h,classNamesPrefix:c,getStyleNonce:n,cssVariablesResolver:m,cssVariablesSelector:s??":root",withStaticClasses:r,stylesTransform:b,env:x},children:g.jsxs(n4,{theme:t,children:[o&&g.jsx(a4,{cssVariablesSelector:s,deduplicateCssVariables:a}),i&&g.jsx(SY,{}),e]})})}o4.displayName="@mantine/core/MantineProvider";function ka({classNames:t,styles:e,props:n,stylesCtx:r}){const i=Xr();return{resolvedClassNames:H0({theme:i,classNames:t,props:n,stylesCtx:r||void 0}),resolvedStyles:yb({theme:i,styles:e,props:n,stylesCtx:r||void 0})}}const PY={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function OY({theme:t,options:e,unstyled:n}){return Ot(e?.focusable&&!n&&(t.focusClassName||PY[t.focusRing]),e?.active&&!n&&t.activeClassName)}function MY({selector:t,stylesCtx:e,options:n,props:r,theme:i}){return H0({theme:i,classNames:n?.classNames,props:n?.props||r,stylesCtx:e})[t]}function oR({selector:t,stylesCtx:e,theme:n,classNames:r,props:i}){return H0({theme:n,classNames:r,props:i,stylesCtx:e})[t]}function DY({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function jY({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function RY({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:r}){return r===!1?[]:t.map(i=>`${e}-${i}-${n}`)}function LY({themeName:t,theme:e,selector:n,props:r,stylesCtx:i}){return t.map(a=>H0({theme:e,classNames:e.components[a]?.classNames,props:r,stylesCtx:i})?.[n])}function NY({options:t,classes:e,selector:n,unstyled:r}){return t?.variant&&!r?e[`${n}--${t.variant}`]:void 0}function IY({theme:t,options:e,themeName:n,selector:r,classNamesPrefix:i,classNames:a,classes:o,unstyled:s,className:c,rootSelector:d,props:f,stylesCtx:h,withStaticClasses:m,headless:v,transformedStyles:b}){return Ot(OY({theme:t,options:e,unstyled:s||v}),LY({theme:t,themeName:n,selector:r,props:f,stylesCtx:h}),NY({options:e,classes:o,selector:r,unstyled:s}),oR({selector:r,stylesCtx:h,theme:t,classNames:a,props:f}),oR({selector:r,stylesCtx:h,theme:t,classNames:b,props:f}),MY({selector:r,stylesCtx:h,options:e,props:f,theme:t}),DY({rootSelector:d,selector:r,className:c}),jY({selector:r,classes:o,unstyled:s||v}),m&&!v&&RY({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:e?.withStaticClass}),e?.className)}function zY({theme:t,themeName:e,props:n,stylesCtx:r,selector:i}){return e.map(a=>yb({theme:t,styles:t.components[a]?.styles,props:n,stylesCtx:r})[i]).reduce((a,o)=>({...a,...o}),{})}function O_({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...O_({style:r,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function BY(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(r=>{e[r]={...e[r],...cg(n[r])}}),e),{})}function $Y({vars:t,varsResolver:e,theme:n,props:r,stylesCtx:i,selector:a,themeName:o,headless:s}){return BY([s?{}:e?.(n,r,i),...o.map(c=>n.components?.[c]?.vars?.(n,r,i)),t?.(n,r,i)])?.[a]}function FY({theme:t,themeName:e,selector:n,options:r,props:i,stylesCtx:a,rootSelector:o,styles:s,style:c,vars:d,varsResolver:f,headless:h,withStylesTransform:m}){return{...!m&&zY({theme:t,themeName:e,props:i,stylesCtx:a,selector:n}),...!m&&yb({theme:t,styles:s,props:i,stylesCtx:a})[n],...!m&&yb({theme:t,styles:r?.styles,props:r?.props||i,stylesCtx:a})[n],...$Y({theme:t,props:i,stylesCtx:a,vars:d,varsResolver:f,selector:n,themeName:e,headless:h}),...o===n?O_({style:c,theme:t}):null,...O_({style:r?.style,theme:t})}}function UY({props:t,stylesCtx:e,themeName:n}){const r=Xr(),i=cY()?.();return{getTransformedStyles:o=>i?[...o.map(c=>i(c,{props:t,theme:r,ctx:e})),...n.map(c=>i(r.components[c]?.styles,{props:t,theme:r,ctx:e}))].filter(Boolean):[],withStylesTransform:!!i}}function ut({name:t,classes:e,props:n,stylesCtx:r,className:i,style:a,rootSelector:o="root",unstyled:s,classNames:c,styles:d,vars:f,varsResolver:h,attributes:m}){const v=Xr(),b=aY(),x=oY(),S=sY(),C=(Array.isArray(t)?t:[t]).filter(k=>k),{withStylesTransform:T,getTransformedStyles:E}=UY({props:n,stylesCtx:r,themeName:C});return(k,M)=>({className:IY({theme:v,options:M,themeName:C,selector:k,classNamesPrefix:b,classNames:c,classes:e,unstyled:s,className:i,rootSelector:o,props:n,stylesCtx:r,withStaticClasses:x,headless:S,transformedStyles:E([M?.styles,d])}),style:FY({theme:v,themeName:C,selector:k,options:M,props:n,stylesCtx:r,rootSelector:o,styles:d,style:a,vars:f,varsResolver:h,headless:S,withStylesTransform:T}),...m?.[k]})}function Ed(t,e){return typeof t=="boolean"?t:e.autoContrast}function sR(t){const e=document.createElement("style");return e.setAttribute("data-mantine-styles","inline"),e.innerHTML="*, *::before, *::after {transition: none !important;}",e.setAttribute("data-mantine-disable-transition","true"),t&&e.setAttribute("nonce",t),document.head.appendChild(e),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function s4({keepTransitions:t}={}){const e=w.useRef(gb),n=w.useRef(-1),r=w.useContext(AT),i=V0(),a=w.useRef(i?.());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const o=h=>{r.setColorScheme(h),e.current=t?()=>{}:sR(a.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{e.current?.()},10)},s=()=>{r.clearColorScheme(),e.current=t?()=>{}:sR(a.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{e.current?.()},10)},c=IG("light",{getInitialValueInEffect:!1}),d=r.colorScheme==="auto"?c:r.colorScheme,f=w.useCallback(()=>o(d==="light"?"dark":"light"),[o,d]);return w.useEffect(()=>()=>{e.current?.(),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:o,clearColorScheme:s,toggleColorScheme:f}}function Pe(t,e,n){const r=Xr(),i=r.components[t]?.defaultProps,a=typeof i=="function"?i(r):i;return{...e,...a,...cg(n)}}const Wy=["xs","sm","md","lg","xl"];function HY(t,e){if(!e)return t.base;let n=Wy.indexOf(e);for(;n>=0;){if(Wy[n]in t)return t[Wy[n]];n-=1}return t.base}function VY(t){return t.findLastIndex(e=>e)}function qY(t,e){const n=Xr(),r=Uu(`(min-width: ${n.breakpoints.xs})`,!1,e),i=Uu(`(min-width: ${n.breakpoints.sm})`,!1,e),a=Uu(`(min-width: ${n.breakpoints.md})`,!1,e),o=Uu(`(min-width: ${n.breakpoints.lg})`,!1,e),s=Uu(`(min-width: ${n.breakpoints.xl})`,!1,e),d=VY([r,i,a,o,s]);return HY(t,Wy[d])}function $S(t){return Tr(t).reduce((e,n)=>t[n]!==void 0?`${e}${_G(n)}:${t[n]};`:e,"").trim()}function GY({selector:t,styles:e,media:n,container:r}){const i=e?$S(e):"",a=Array.isArray(n)?n.map(s=>`@media${s.query}{${t}{${$S(s.styles)}}}`):[],o=Array.isArray(r)?r.map(s=>`@container ${s.query}{${t}{${$S(s.styles)}}}`):[];return`${i?`${t}{${i}}`:""}${a.join("")}${o.join("")}`.trim()}function G0(t){const e=V0();return g.jsx("style",{"data-mantine-styles":"inline",nonce:e?.(),dangerouslySetInnerHTML:{__html:GY(t)}})}function Qc(t){const{m:e,mx:n,my:r,mt:i,mb:a,ml:o,mr:s,me:c,ms:d,p:f,px:h,py:m,pt:v,pb:b,pl:x,pr:S,pe:C,ps:T,bd:E,bdrs:k,bg:M,c:D,opacity:j,ff:I,fz:B,fw:G,lts:V,ta:K,lh:te,fs:X,tt:J,td:L,w:U,miw:F,maw:q,h:W,mih:z,mah:Y,bgsz:ne,bgp:ie,bgr:ue,bga:we,pos:be,top:qe,left:ae,bottom:se,right:Le,inset:de,display:He,flex:Re,hiddenFrom:ct,visibleFrom:Qe,lightHidden:Ue,darkHidden:We,sx:rt,...Je}=t;return{styleProps:cg({m:e,mx:n,my:r,mt:i,mb:a,ml:o,mr:s,me:c,ms:d,p:f,px:h,py:m,pt:v,pb:b,pl:x,pr:S,pe:C,ps:T,bd:E,bg:M,c:D,opacity:j,ff:I,fz:B,fw:G,lts:V,ta:K,lh:te,fs:X,tt:J,td:L,w:U,miw:F,maw:q,h:W,mih:z,mah:Y,bgsz:ne,bgp:ie,bgr:ue,bga:we,pos:be,top:qe,left:ae,bottom:se,right:Le,inset:de,display:He,flex:Re,bdrs:k,hiddenFrom:ct,visibleFrom:Qe,lightHidden:Ue,darkHidden:We,sx:rt}),rest:Je}}const YY={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function kT(t,e){const n=$l({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function KY(t,e){const n=$l({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:kT(t,e)}function WY(t,e){if(typeof t=="number")return Oe(t);if(typeof t=="string"){const[n,r,...i]=t.split(" ").filter(o=>o.trim()!=="");let a=`${Oe(n)}`;return r&&(a+=` ${r}`),i.length>0&&(a+=` ${kT(i.join(" "),e)}`),a.trim()}return t}const lR={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function XY(t){return typeof t=="string"&&t in lR?lR[t]:t}const ZY=["h1","h2","h3","h4","h5","h6"];function QY(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&ZY.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?Oe(t):t}function JY(t){return t}const eK=["h1","h2","h3","h4","h5","h6"];function tK(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&eK.includes(t)?`var(--mantine-${t}-line-height)`:t}function nK(t,e){return typeof t=="string"&&t in e.radius?`var(--mantine-radius-${t})`:typeof t=="number"||typeof t=="string"?Oe(t):t}function rK(t){return typeof t=="number"?Oe(t):t}function iK(t,e){if(typeof t=="number")return Oe(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return Oe(t);const r=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return t}const FS={color:kT,textColor:KY,fontSize:QY,spacing:iK,radius:nK,identity:JY,size:rK,lineHeight:tK,fontFamily:XY,border:WY};function cR(t){return t.replace("(min-width: ","").replace("em)","")}function aK({media:t,...e}){const r=Object.keys(t).sort((i,a)=>Number(cR(i))-Number(cR(a))).map(i=>({query:i,styles:t[i]}));return{...e,media:r}}function oK(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function sK(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function lK(t){return typeof t=="object"&&t!==null?Tr(t).filter(e=>e!=="base"):[]}function cK(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function uK({styleProps:t,data:e,theme:n}){return aK(Tr(t).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const a=e[i],o=Array.isArray(a.property)?a.property:[a.property],s=sK(t[i]);if(!oK(t[i]))return o.forEach(d=>{r.inlineStyles[d]=FS[a.type](s,n)}),r;r.hasResponsiveStyles=!0;const c=lK(t[i]);return o.forEach(d=>{s!=null&&(r.styles[d]=FS[a.type](s,n)),c.forEach(f=>{const h=`(min-width: ${n.breakpoints[f]})`;r.media[h]={...r.media[h],[d]:FS[a.type](cK(t[i],f),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function l4(){return`__m__-${w.useId().replace(/[:]/g,"")}`}function PT(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...PT(r,e)}),{}):typeof t=="function"?t(e):t??{}}function c4(t){return t.startsWith("data-")?t:`data-${t}`}function dK(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r===void 0||r===""||r===!1||r===null||(e[c4(n)]=t[n]),e},{})}function u4(t){return t?typeof t=="string"?{[c4(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...u4(n)}),{}):dK(t):null}function M_(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...M_(r,e)}),{}):typeof t=="function"?t(e):t??{}}function fK({theme:t,style:e,vars:n,styleProps:r}){const i=M_(e,t),a=M_(n,t);return{...i,...a,...r}}const d4=w.forwardRef(({component:t,style:e,__vars:n,className:r,variant:i,mod:a,size:o,hiddenFrom:s,visibleFrom:c,lightHidden:d,darkHidden:f,renderRoot:h,__size:m,...v},b)=>{const x=Xr(),S=t||"div",{styleProps:C,rest:T}=Qc(v),k=lY()?.()?.(C.sx),M=l4(),D=uK({styleProps:C,theme:x,data:YY}),j={ref:b,style:fK({theme:x,style:e,vars:n,styleProps:D.inlineStyles}),className:Ot(r,k,{[M]:D.hasResponsiveStyles,"mantine-light-hidden":d,"mantine-dark-hidden":f,[`mantine-hidden-from-${s}`]:s,[`mantine-visible-from-${c}`]:c}),"data-variant":i,"data-size":q5(o)?void 0:o||void 0,size:m,...u4(a),...T};return g.jsxs(g.Fragment,{children:[D.hasResponsiveStyles&&g.jsx(G0,{selector:`.${M}`,styles:D.styles,media:D.media}),typeof h=="function"?h(j):g.jsx(S,{...j})]})});d4.displayName="@mantine/core/Box";const De=d4;function f4(t){return t}function hK(t){const e=t;return n=>{const r=w.forwardRef((i,a)=>g.jsx(e,{...n,...i,ref:a}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r}}function Fe(t){const e=w.forwardRef(t);return e.extend=f4,e.withProps=n=>{const r=w.forwardRef((i,a)=>g.jsx(e,{...n,...i,ref:a}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e}function Ki(t){const e=w.forwardRef(t);return e.withProps=n=>{const r=w.forwardRef((i,a)=>g.jsx(e,{...n,...i,ref:a}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e.extend=f4,e}const pK=w.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Ph(){return w.useContext(pK)}var Td=N5();const vm=ua(Td);function mK(t){if(!t||typeof t=="string")return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function US(t){return t?.current?t.current.scrollHeight:"auto"}const Xp=typeof window<"u"&&window.requestAnimationFrame,uR=0,gK=t=>({height:0,overflow:"hidden",...t?{}:{display:"none"}});function vK({transitionDuration:t,transitionTimingFunction:e="ease",onTransitionEnd:n=()=>{},opened:r,keepMounted:i=!1}){const a=w.useRef(null),o=gK(i),[s,c]=w.useState(r?{}:o),d=b=>{Td.flushSync(()=>c(b))},f=b=>{d(x=>({...x,...b}))};function h(b){const x=t||mK(b);return{transition:`height ${x}ms ${e}, opacity ${x}ms ${e}`}}ud(()=>{typeof Xp=="function"&&Xp(r?()=>{f({willChange:"height",display:"block",overflow:"hidden"}),Xp(()=>{const b=US(a);f({...h(b),height:b})})}:()=>{const b=US(a);f({...h(b),willChange:"height",height:b}),Xp(()=>f({height:uR,overflow:"hidden"}))})},[r]);const m=b=>{if(!(b.target!==a.current||b.propertyName!=="height"))if(r){const x=US(a);x===s.height?d({}):f({height:x}),n()}else s.height===uR&&(d(o),n())};function v({style:b={},refKey:x="ref",...S}={}){const C=S[x],T={"aria-hidden":!r,...S,[x]:J5(a,C),onTransitionEnd:m,style:{boxSizing:"border-box",...b,...s}};return sr.version.startsWith("18")?r||(T.inert=""):T.inert=!r,T}return v}const yK={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},ug=Fe((t,e)=>{const{children:n,in:r,transitionDuration:i,transitionTimingFunction:a,style:o,onTransitionEnd:s,animateOpacity:c,keepMounted:d,...f}=Pe("Collapse",yK,t),h=Xr(),m=$0(),b=(h.respectReducedMotion?m:!1)?0:i,x=vK({opened:r,transitionDuration:b,transitionTimingFunction:a,onTransitionEnd:s,keepMounted:d});return b===0?r?g.jsx(De,{...f,children:n}):null:g.jsx(De,{...x({style:{opacity:r||!c?1:0,transition:c?`opacity ${b}ms ${a}`:"none",...PT(o,h)},ref:e,...f}),children:n})});ug.displayName="@mantine/core/Collapse";function Y0(){return typeof window<"u"}function Oh(t){return h4(t)?(t.nodeName||"").toLowerCase():"#document"}function Ta(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Is(t){var e;return(e=(h4(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function h4(t){return Y0()?t instanceof Node||t instanceof Ta(t).Node:!1}function nr(t){return Y0()?t instanceof Element||t instanceof Ta(t).Element:!1}function Ya(t){return Y0()?t instanceof HTMLElement||t instanceof Ta(t).HTMLElement:!1}function D_(t){return!Y0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ta(t).ShadowRoot}const bK=new Set(["inline","contents"]);function dg(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Co(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!bK.has(i)}const xK=new Set(["table","td","th"]);function wK(t){return xK.has(Oh(t))}const SK=[":popover-open",":modal"];function K0(t){return SK.some(e=>{try{return t.matches(e)}catch{return!1}})}const CK=["transform","translate","scale","rotate","perspective"],AK=["transform","translate","scale","rotate","perspective","filter"],_K=["paint","layout","strict","content"];function OT(t){const e=W0(),n=nr(t)?Co(t):t;return CK.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||AK.some(r=>(n.willChange||"").includes(r))||_K.some(r=>(n.contain||"").includes(r))}function EK(t){let e=kl(t);for(;Ya(e)&&!Al(e);){if(OT(e))return e;if(K0(e))return null;e=kl(e)}return null}function W0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const TK=new Set(["html","body","#document"]);function Al(t){return TK.has(Oh(t))}function Co(t){return Ta(t).getComputedStyle(t)}function X0(t){return nr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function kl(t){if(Oh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||D_(t)&&t.host||Is(t);return D_(e)?e.host:e}function p4(t){const e=kl(t);return Al(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ya(e)&&dg(e)?e:p4(e)}function _l(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=p4(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ta(i);if(a){const s=j_(o);return e.concat(o,o.visualViewport||[],dg(i)?i:[],s&&n?_l(s):[])}return e.concat(i,_l(i,[],n))}function j_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const kK=["top","right","bottom","left"],Yo=Math.min,Ui=Math.max,bb=Math.round,oy=Math.floor,Es=t=>({x:t,y:t}),PK={left:"right",right:"left",bottom:"top",top:"bottom"},OK={start:"end",end:"start"};function R_(t,e,n){return Ui(t,Yo(e,n))}function Ps(t,e){return typeof t=="function"?t(e):t}function Ko(t){return t.split("-")[0]}function Mh(t){return t.split("-")[1]}function MT(t){return t==="x"?"y":"x"}function DT(t){return t==="y"?"height":"width"}const MK=new Set(["top","bottom"]);function Uo(t){return MK.has(Ko(t))?"y":"x"}function jT(t){return MT(Uo(t))}function DK(t,e,n){n===void 0&&(n=!1);const r=Mh(t),i=jT(t),a=DT(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=xb(o)),[o,xb(o)]}function jK(t){const e=xb(t);return[L_(t),e,L_(e)]}function L_(t){return t.replace(/start|end/g,e=>OK[e])}const dR=["left","right"],fR=["right","left"],RK=["top","bottom"],LK=["bottom","top"];function NK(t,e,n){switch(t){case"top":case"bottom":return n?e?fR:dR:e?dR:fR;case"left":case"right":return e?RK:LK;default:return[]}}function IK(t,e,n,r){const i=Mh(t);let a=NK(Ko(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(L_)))),a}function xb(t){return t.replace(/left|right|bottom|top/g,e=>PK[e])}function zK(t){return{top:0,right:0,bottom:0,left:0,...t}}function RT(t){return typeof t!="number"?zK(t):{top:t,right:t,bottom:t,left:t}}function ch(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function BK(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function $K(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function FK(){return/apple/i.test(navigator.vendor)}function UK(){return BK().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function HK(){return $K().includes("jsdom/")}const hR="data-floating-ui-focusable",VK="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function pR(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function Nm(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&D_(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function $f(t){return"composedPath"in t?t.composedPath()[0]:t.target}function HS(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function qK(t){return t.matches("html,body")}function qu(t){return t?.ownerDocument||document}function GK(t){return Ya(t)&&t.matches(VK)}function YK(t){if(!t||HK())return!0;try{return t.matches(":focus-visible")}catch{return!0}}function KK(t){return t?t.hasAttribute(hR)?t:t.querySelector("["+hR+"]")||t:null}function Xy(t,e,n){return n===void 0&&(n=!0),t.filter(i=>{var a;return i.parentId===e&&(!n||((a=i.context)==null?void 0:a.open))}).flatMap(i=>[i,...Xy(t,i.id,n)])}function WK(t){return"nativeEvent"in t}function N_(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}var XK=typeof document<"u",ZK=function(){},Ts=XK?w.useLayoutEffect:ZK;const QK={...bT};function sy(t){const e=w.useRef(t);return Ts(()=>{e.current=t}),e}const JK=QK.useInsertionEffect,eW=JK||(t=>t());function Ss(t){const e=w.useRef(()=>{});return eW(()=>{e.current=t}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function mR(t,e,n){let{reference:r,floating:i}=t;const a=Uo(e),o=jT(e),s=DT(o),c=Ko(e),d=a==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[s]/2-i[s]/2;let v;switch(c){case"top":v={x:f,y:r.y-i.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-i.width,y:h};break;default:v={x:r.x,y:r.y}}switch(Mh(e)){case"start":v[o]-=m*(n&&d?-1:1);break;case"end":v[o]+=m*(n&&d?-1:1);break}return v}async function tW(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:v=0}=Ps(e,t),b=RT(v),S=s[m?h==="floating"?"reference":"floating":h],C=ch(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:d,rootBoundary:f,strategy:c})),T=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),k=await(a.isElement==null?void 0:a.isElement(E))?await(a.getScale==null?void 0:a.getScale(E))||{x:1,y:1}:{x:1,y:1},M=ch(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:T,offsetParent:E,strategy:c}):T);return{top:(C.top-M.top+b.top)/k.y,bottom:(M.bottom-C.bottom+b.bottom)/k.y,left:(C.left-M.left+b.left)/k.x,right:(M.right-C.right+b.right)/k.x}}const nW=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=mR(d,r,c),m=r,v={},b=0;for(let S=0;S<s.length;S++){var x;const{name:C,fn:T}=s[S],{x:E,y:k,data:M,reset:D}=await T({x:f,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:v,rects:d,platform:{...o,detectOverflow:(x=o.detectOverflow)!=null?x:tW},elements:{reference:t,floating:e}});f=E??f,h=k??h,v={...v,[C]:{...v[C],...M}},D&&b<=50&&(b++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:f,y:h}=mR(d,m,c)),S=-1)}return{x:f,y:h,placement:m,strategy:i,middlewareData:v}},rW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=e,{element:d,padding:f=0}=Ps(t,e)||{};if(d==null)return{};const h=RT(f),m={x:n,y:r},v=jT(i),b=DT(v),x=await o.getDimensions(d),S=v==="y",C=S?"top":"left",T=S?"bottom":"right",E=S?"clientHeight":"clientWidth",k=a.reference[b]+a.reference[v]-m[v]-a.floating[b],M=m[v]-a.reference[v],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let j=D?D[E]:0;(!j||!await(o.isElement==null?void 0:o.isElement(D)))&&(j=s.floating[E]||a.floating[b]);const I=k/2-M/2,B=j/2-x[b]/2-1,G=Yo(h[C],B),V=Yo(h[T],B),K=G,te=j-x[b]-V,X=j/2-x[b]/2+I,J=R_(K,X,te),L=!c.arrow&&Mh(i)!=null&&X!==J&&a.reference[b]/2-(X<K?G:V)-x[b]/2<0,U=L?X<K?X-K:X-te:0;return{[v]:m[v]+U,data:{[v]:J,centerOffset:X-J-U,...L&&{alignmentOffset:U}},reset:L}}}),iW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...S}=Ps(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const C=Ko(i),T=Uo(s),E=Ko(s)===s,k=await(c.isRTL==null?void 0:c.isRTL(d.floating)),M=m||(E||!x?[xb(s)]:jK(s)),D=b!=="none";!m&&D&&M.push(...IK(s,x,b,k));const j=[s,...M],I=await c.detectOverflow(e,S),B=[];let G=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&B.push(I[C]),h){const X=DK(i,o,k);B.push(I[X[0]],I[X[1]])}if(G=[...G,{placement:i,overflows:B}],!B.every(X=>X<=0)){var V,K;const X=(((V=a.flip)==null?void 0:V.index)||0)+1,J=j[X];if(J&&(!(h==="alignment"?T!==Uo(J):!1)||G.every(F=>Uo(F.placement)===T?F.overflows[0]>0:!0)))return{data:{index:X,overflows:G},reset:{placement:J}};let L=(K=G.filter(U=>U.overflows[0]<=0).sort((U,F)=>U.overflows[1]-F.overflows[1])[0])==null?void 0:K.placement;if(!L)switch(v){case"bestFit":{var te;const U=(te=G.filter(F=>{if(D){const q=Uo(F.placement);return q===T||q==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(q=>q>0).reduce((q,W)=>q+W,0)]).sort((F,q)=>F[1]-q[1])[0])==null?void 0:te[0];U&&(L=U);break}case"initialPlacement":L=s;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function gR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function vR(t){return kK.some(e=>t[e]>=0)}const aW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n,platform:r}=e,{strategy:i="referenceHidden",...a}=Ps(t,e);switch(i){case"referenceHidden":{const o=await r.detectOverflow(e,{...a,elementContext:"reference"}),s=gR(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:vR(s)}}}case"escaped":{const o=await r.detectOverflow(e,{...a,altBoundary:!0}),s=gR(o,n.floating);return{data:{escapedOffsets:s,escaped:vR(s)}}}default:return{}}}}};function m4(t){const e=Yo(...t.map(a=>a.left)),n=Yo(...t.map(a=>a.top)),r=Ui(...t.map(a=>a.right)),i=Ui(...t.map(a=>a.bottom));return{x:e,y:n,width:r-e,height:i-n}}function oW(t){const e=t.slice().sort((i,a)=>i.y-a.y),n=[];let r=null;for(let i=0;i<e.length;i++){const a=e[i];!r||a.y-r.y>r.height/2?n.push([a]):n[n.length-1].push(a),r=a}return n.map(i=>ch(m4(i)))}const sW=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:r,rects:i,platform:a,strategy:o}=e,{padding:s=2,x:c,y:d}=Ps(t,e),f=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(r.reference))||[]),h=oW(f),m=ch(m4(f)),v=RT(s);function b(){if(h.length===2&&h[0].left>h[1].right&&c!=null&&d!=null)return h.find(S=>c>S.left-v.left&&c<S.right+v.right&&d>S.top-v.top&&d<S.bottom+v.bottom)||m;if(h.length>=2){if(Uo(n)==="y"){const G=h[0],V=h[h.length-1],K=Ko(n)==="top",te=G.top,X=V.bottom,J=K?G.left:V.left,L=K?G.right:V.right,U=L-J,F=X-te;return{top:te,bottom:X,left:J,right:L,width:U,height:F,x:J,y:te}}const S=Ko(n)==="left",C=Ui(...h.map(G=>G.right)),T=Yo(...h.map(G=>G.left)),E=h.filter(G=>S?G.left===T:G.right===C),k=E[0].top,M=E[E.length-1].bottom,D=T,j=C,I=j-D,B=M-k;return{top:k,bottom:M,left:D,right:j,width:I,height:B,x:D,y:k}}return m}const x=await a.getElementRects({reference:{getBoundingClientRect:b},floating:r.floating,strategy:o});return i.reference.x!==x.reference.x||i.reference.y!==x.reference.y||i.reference.width!==x.reference.width||i.reference.height!==x.reference.height?{reset:{rects:x}}:{}}}},g4=new Set(["left","top"]);async function lW(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ko(n),s=Mh(n),c=Uo(n)==="y",d=g4.has(o)?-1:1,f=a&&c?-1:1,h=Ps(e,t);let{mainAxis:m,crossAxis:v,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&typeof b=="number"&&(v=s==="end"?b*-1:b),c?{x:v*f,y:m*d}:{x:m*d,y:v*f}}const cW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=e,c=await lW(e,t);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},uW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i,platform:a}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:c={fn:C=>{let{x:T,y:E}=C;return{x:T,y:E}}},...d}=Ps(t,e),f={x:n,y:r},h=await a.detectOverflow(e,d),m=Uo(Ko(i)),v=MT(m);let b=f[v],x=f[m];if(o){const C=v==="y"?"top":"left",T=v==="y"?"bottom":"right",E=b+h[C],k=b-h[T];b=R_(E,b,k)}if(s){const C=m==="y"?"top":"left",T=m==="y"?"bottom":"right",E=x+h[C],k=x-h[T];x=R_(E,x,k)}const S=c.fn({...e,[v]:b,[m]:x});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[v]:o,[m]:s}}}}}},dW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:s=0,mainAxis:c=!0,crossAxis:d=!0}=Ps(t,e),f={x:n,y:r},h=Uo(i),m=MT(h);let v=f[m],b=f[h];const x=Ps(s,e),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const E=m==="y"?"height":"width",k=a.reference[m]-a.floating[E]+S.mainAxis,M=a.reference[m]+a.reference[E]-S.mainAxis;v<k?v=k:v>M&&(v=M)}if(d){var C,T;const E=m==="y"?"width":"height",k=g4.has(Ko(i)),M=a.reference[h]-a.floating[E]+(k&&((C=o.offset)==null?void 0:C[h])||0)+(k?0:S.crossAxis),D=a.reference[h]+a.reference[E]+(k?0:((T=o.offset)==null?void 0:T[h])||0)-(k?S.crossAxis:0);b<M?b=M:b>D&&(b=D)}return{[m]:v,[h]:b}}}},fW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:s}=e,{apply:c=()=>{},...d}=Ps(t,e),f=await o.detectOverflow(e,d),h=Ko(i),m=Mh(i),v=Uo(i)==="y",{width:b,height:x}=a.floating;let S,C;h==="top"||h==="bottom"?(S=h,C=m===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(C=h,S=m==="end"?"top":"bottom");const T=x-f.top-f.bottom,E=b-f.left-f.right,k=Yo(x-f[S],T),M=Yo(b-f[C],E),D=!e.middlewareData.shift;let j=k,I=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(j=T),D&&!m){const G=Ui(f.left,0),V=Ui(f.right,0),K=Ui(f.top,0),te=Ui(f.bottom,0);v?I=b-2*(G!==0||V!==0?G+V:Ui(f.left,f.right)):j=x-2*(K!==0||te!==0?K+te:Ui(f.top,f.bottom))}await c({...e,availableWidth:I,availableHeight:j});const B=await o.getDimensions(s.floating);return b!==B.width||x!==B.height?{reset:{rects:!0}}:{}}}};function v4(t){const e=Co(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ya(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,s=bb(n)!==a||bb(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function LT(t){return nr(t)?t:t.contextElement}function Jf(t){const e=LT(t);if(!Ya(e))return Es(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=v4(e);let o=(a?bb(n.width):n.width)/r,s=(a?bb(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const hW=Es(0);function y4(t){const e=Ta(t);return!W0()||!e.visualViewport?hW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ta(t)?!1:e}function dd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=LT(t);let o=Es(1);e&&(r?nr(r)&&(o=Jf(r)):o=Jf(t));const s=pW(a,n,r)?y4(a):Es(0);let c=(i.left+s.x)/o.x,d=(i.top+s.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(a){const m=Ta(a),v=r&&nr(r)?Ta(r):r;let b=m,x=j_(b);for(;x&&r&&v!==b;){const S=Jf(x),C=x.getBoundingClientRect(),T=Co(x),E=C.left+(x.clientLeft+parseFloat(T.paddingLeft))*S.x,k=C.top+(x.clientTop+parseFloat(T.paddingTop))*S.y;c*=S.x,d*=S.y,f*=S.x,h*=S.y,c+=E,d+=k,b=Ta(x),x=j_(b)}}return ch({width:f,height:h,x:c,y:d})}function Z0(t,e){const n=X0(t).scrollLeft;return e?e.left+n:dd(Is(t)).left+n}function b4(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Z0(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function mW(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Is(r),s=e?K0(e.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},d=Es(1);const f=Es(0),h=Ya(r);if((h||!h&&!a)&&((Oh(r)!=="body"||dg(o))&&(c=X0(r)),Ya(r))){const v=dd(r);d=Jf(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const m=o&&!h&&!a?b4(o,c):Es(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+m.x,y:n.y*d.y-c.scrollTop*d.y+f.y+m.y}}function gW(t){return Array.from(t.getClientRects())}function vW(t){const e=Is(t),n=X0(t),r=t.ownerDocument.body,i=Ui(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Ui(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Z0(t);const s=-n.scrollTop;return Co(r).direction==="rtl"&&(o+=Ui(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}const yR=25;function yW(t,e){const n=Ta(t),r=Is(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;const f=W0();(!f||f&&e==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}const d=Z0(r);if(d<=0){const f=r.ownerDocument,h=f.body,m=getComputedStyle(h),v=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(r.clientWidth-h.clientWidth-v);b<=yR&&(a-=b)}else d<=yR&&(a+=d);return{width:a,height:o,x:s,y:c}}const bW=new Set(["absolute","fixed"]);function xW(t,e){const n=dd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Ya(t)?Jf(t):Es(1),o=t.clientWidth*a.x,s=t.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:s,x:c,y:d}}function bR(t,e,n){let r;if(e==="viewport")r=yW(t,n);else if(e==="document")r=vW(Is(t));else if(nr(e))r=xW(e,n);else{const i=y4(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ch(r)}function x4(t,e){const n=kl(t);return n===e||!nr(n)||Al(n)?!1:Co(n).position==="fixed"||x4(n,e)}function wW(t,e){const n=e.get(t);if(n)return n;let r=_l(t,[],!1).filter(s=>nr(s)&&Oh(s)!=="body"),i=null;const a=Co(t).position==="fixed";let o=a?kl(t):t;for(;nr(o)&&!Al(o);){const s=Co(o),c=OT(o);!c&&s.position==="fixed"&&(i=null),(a?!c&&!i:!c&&s.position==="static"&&!!i&&bW.has(i.position)||dg(o)&&!c&&x4(t,o))?r=r.filter(f=>f!==o):i=s,o=kl(o)}return e.set(t,r),r}function SW(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?K0(e)?[]:wW(e,this._c):[].concat(n),r],s=o[0],c=o.reduce((d,f)=>{const h=bR(e,f,i);return d.top=Ui(h.top,d.top),d.right=Yo(h.right,d.right),d.bottom=Yo(h.bottom,d.bottom),d.left=Ui(h.left,d.left),d},bR(e,s,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function CW(t){const{width:e,height:n}=v4(t);return{width:e,height:n}}function AW(t,e,n){const r=Ya(e),i=Is(e),a=n==="fixed",o=dd(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const c=Es(0);function d(){c.x=Z0(i)}if(r||!r&&!a)if((Oh(e)!=="body"||dg(i))&&(s=X0(e)),r){const v=dd(e,!0,a,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else i&&d();a&&!r&&i&&d();const f=i&&!r&&!a?b4(i,s):Es(0),h=o.left+s.scrollLeft-c.x-f.x,m=o.top+s.scrollTop-c.y-f.y;return{x:h,y:m,width:o.width,height:o.height}}function VS(t){return Co(t).position==="static"}function xR(t,e){if(!Ya(t)||Co(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Is(t)===n&&(n=n.ownerDocument.body),n}function w4(t,e){const n=Ta(t);if(K0(t))return n;if(!Ya(t)){let i=kl(t);for(;i&&!Al(i);){if(nr(i)&&!VS(i))return i;i=kl(i)}return n}let r=xR(t,e);for(;r&&wK(r)&&VS(r);)r=xR(r,e);return r&&Al(r)&&VS(r)&&!OT(r)?n:r||EK(t)||n}const _W=async function(t){const e=this.getOffsetParent||w4,n=this.getDimensions,r=await n(t.floating);return{reference:AW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function EW(t){return Co(t).direction==="rtl"}const TW={convertOffsetParentRelativeRectToViewportRelativeRect:mW,getDocumentElement:Is,getClippingRect:SW,getOffsetParent:w4,getElementRects:_W,getClientRects:gW,getDimensions:CW,getScale:Jf,isElement:nr,isRTL:EW};function S4(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function kW(t,e){let n=null,r;const i=Is(t);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:f,top:h,width:m,height:v}=d;if(s||e(),!m||!v)return;const b=oy(h),x=oy(i.clientWidth-(f+m)),S=oy(i.clientHeight-(h+v)),C=oy(f),E={rootMargin:-b+"px "+-x+"px "+-S+"px "+-C+"px",threshold:Ui(0,Yo(1,c))||1};let k=!0;function M(D){const j=D[0].intersectionRatio;if(j!==c){if(!k)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!S4(d,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(M,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,E)}n.observe(t)}return o(!0),a}function I_(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=LT(t),f=i||a?[...d?_l(d):[],..._l(e)]:[];f.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),a&&C.addEventListener("resize",n)});const h=d&&s?kW(d,n):null;let m=-1,v=null;o&&(v=new ResizeObserver(C=>{let[T]=C;T&&T.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=v)==null||E.observe(e)})),n()}),d&&!c&&v.observe(d),v.observe(e));let b,x=c?dd(t):null;c&&S();function S(){const C=dd(t);x&&!S4(x,C)&&n(),x=C,b=requestAnimationFrame(S)}return n(),()=>{var C;f.forEach(T=>{i&&T.removeEventListener("scroll",n),a&&T.removeEventListener("resize",n)}),h?.(),(C=v)==null||C.disconnect(),v=null,c&&cancelAnimationFrame(b)}}const PW=cW,OW=uW,MW=iW,DW=fW,jW=aW,wR=rW,RW=sW,LW=dW,NW=(t,e,n)=>{const r=new Map,i={platform:TW,...n},a={...i.platform,_c:r};return nW(t,e,{...i,platform:a})};var IW=typeof document<"u",zW=function(){},Zy=IW?w.useLayoutEffect:zW;function wb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!wb(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!wb(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function C4(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function SR(t,e){const n=C4(t);return Math.round(e*n)/n}function qS(t){const e=w.useRef(t);return Zy(()=>{e.current=t}),e}function BW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:d}=t,[f,h]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=w.useState(r);wb(m,r)||v(r);const[b,x]=w.useState(null),[S,C]=w.useState(null),T=w.useCallback(F=>{F!==D.current&&(D.current=F,x(F))},[]),E=w.useCallback(F=>{F!==j.current&&(j.current=F,C(F))},[]),k=a||b,M=o||S,D=w.useRef(null),j=w.useRef(null),I=w.useRef(f),B=c!=null,G=qS(c),V=qS(i),K=qS(d),te=w.useCallback(()=>{if(!D.current||!j.current)return;const F={placement:e,strategy:n,middleware:m};V.current&&(F.platform=V.current),NW(D.current,j.current,F).then(q=>{const W={...q,isPositioned:K.current!==!1};X.current&&!wb(I.current,W)&&(I.current=W,Td.flushSync(()=>{h(W)}))})},[m,e,n,V,K]);Zy(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[d]);const X=w.useRef(!1);Zy(()=>(X.current=!0,()=>{X.current=!1}),[]),Zy(()=>{if(k&&(D.current=k),M&&(j.current=M),k&&M){if(G.current)return G.current(k,M,te);te()}},[k,M,te,G,B]);const J=w.useMemo(()=>({reference:D,floating:j,setReference:T,setFloating:E}),[T,E]),L=w.useMemo(()=>({reference:k,floating:M}),[k,M]),U=w.useMemo(()=>{const F={position:n,left:0,top:0};if(!L.floating)return F;const q=SR(L.floating,f.x),W=SR(L.floating,f.y);return s?{...F,transform:"translate("+q+"px, "+W+"px)",...C4(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:W}},[n,s,L.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:te,refs:J,elements:L,floatingStyles:U}),[f,te,J,L,U])}const $W=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?wR({element:r.current,padding:i}).fn(n):{}:r?wR({element:r,padding:i}).fn(n):{}}}},A4=(t,e)=>({...PW(t),options:[t,e]}),NT=(t,e)=>({...OW(t),options:[t,e]}),CR=(t,e)=>({...LW(t),options:[t,e]}),Sb=(t,e)=>({...MW(t),options:[t,e]}),FW=(t,e)=>({...DW(t),options:[t,e]}),UW=(t,e)=>({...jW(t),options:[t,e]}),Em=(t,e)=>({...RW(t),options:[t,e]}),_4=(t,e)=>({...$W(t),options:[t,e]});function E4(t){const e=w.useRef(void 0),n=w.useCallback(r=>{const i=t.map(a=>{if(a!=null){if(typeof a=="function"){const o=a,s=o(r);return typeof s=="function"?s:()=>{o(null)}}return a.current=r,()=>{a.current=null}}});return()=>{i.forEach(a=>a?.())}},t);return w.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}const HW="data-floating-ui-focusable",AR="active",_R="selected",VW={...bT};let ER=!1,qW=0;const TR=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+qW++;function GW(){const[t,e]=w.useState(()=>ER?TR():void 0);return Ts(()=>{t==null&&e(TR())},[]),w.useEffect(()=>{ER=!0},[]),t}const YW=VW.useId,T4=YW||GW;function KW(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var r;(r=t.get(e))==null||r.delete(n)}}}const WW=w.createContext(null),XW=w.createContext(null),IT=()=>{var t;return((t=w.useContext(WW))==null?void 0:t.id)||null},zT=()=>w.useContext(XW);function BT(t){return"data-floating-ui-"+t}function mo(t){t.current!==-1&&(clearTimeout(t.current),t.current=-1)}const kR=BT("safe-polygon");function Qy(t,e,n){if(n&&!N_(n))return 0;if(typeof t=="number")return t;if(typeof t=="function"){const r=t();return typeof r=="number"?r:r?.[e]}return t?.[e]}function GS(t){return typeof t=="function"?t():t}function ZW(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:a,elements:o}=t,{enabled:s=!0,delay:c=0,handleClose:d=null,mouseOnly:f=!1,restMs:h=0,move:m=!0}=e,v=zT(),b=IT(),x=sy(d),S=sy(c),C=sy(n),T=sy(h),E=w.useRef(),k=w.useRef(-1),M=w.useRef(),D=w.useRef(-1),j=w.useRef(!0),I=w.useRef(!1),B=w.useRef(()=>{}),G=w.useRef(!1),V=Ss(()=>{var U;const F=(U=i.current.openEvent)==null?void 0:U.type;return F?.includes("mouse")&&F!=="mousedown"});w.useEffect(()=>{if(!s)return;function U(F){let{open:q}=F;q||(mo(k),mo(D),j.current=!0,G.current=!1)}return a.on("openchange",U),()=>{a.off("openchange",U)}},[s,a]),w.useEffect(()=>{if(!s||!x.current||!n)return;function U(q){V()&&r(!1,q,"hover")}const F=qu(o.floating).documentElement;return F.addEventListener("mouseleave",U),()=>{F.removeEventListener("mouseleave",U)}},[o.floating,n,r,s,x,V]);const K=w.useCallback(function(U,F,q){F===void 0&&(F=!0),q===void 0&&(q="hover");const W=Qy(S.current,"close",E.current);W&&!M.current?(mo(k),k.current=window.setTimeout(()=>r(!1,U,q),W)):F&&(mo(k),r(!1,U,q))},[S,r]),te=Ss(()=>{B.current(),M.current=void 0}),X=Ss(()=>{if(I.current){const U=qu(o.floating).body;U.style.pointerEvents="",U.removeAttribute(kR),I.current=!1}}),J=Ss(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);w.useEffect(()=>{if(!s)return;function U(Y){if(mo(k),j.current=!1,f&&!N_(E.current)||GS(T.current)>0&&!Qy(S.current,"open"))return;const ne=Qy(S.current,"open",E.current);ne?k.current=window.setTimeout(()=>{C.current||r(!0,Y,"hover")},ne):n||r(!0,Y,"hover")}function F(Y){if(J()){X();return}B.current();const ne=qu(o.floating);if(mo(D),G.current=!1,x.current&&i.current.floatingContext){n||mo(k),M.current=x.current({...i.current.floatingContext,tree:v,x:Y.clientX,y:Y.clientY,onClose(){X(),te(),J()||K(Y,!0,"safe-polygon")}});const ue=M.current;ne.addEventListener("mousemove",ue),B.current=()=>{ne.removeEventListener("mousemove",ue)};return}(E.current!=="touch"||!Nm(o.floating,Y.relatedTarget))&&K(Y)}function q(Y){J()||i.current.floatingContext&&(x.current==null||x.current({...i.current.floatingContext,tree:v,x:Y.clientX,y:Y.clientY,onClose(){X(),te(),J()||K(Y)}})(Y))}function W(){mo(k)}function z(Y){J()||K(Y,!1)}if(nr(o.domReference)){const Y=o.domReference,ne=o.floating;return n&&Y.addEventListener("mouseleave",q),m&&Y.addEventListener("mousemove",U,{once:!0}),Y.addEventListener("mouseenter",U),Y.addEventListener("mouseleave",F),ne&&(ne.addEventListener("mouseleave",q),ne.addEventListener("mouseenter",W),ne.addEventListener("mouseleave",z)),()=>{n&&Y.removeEventListener("mouseleave",q),m&&Y.removeEventListener("mousemove",U),Y.removeEventListener("mouseenter",U),Y.removeEventListener("mouseleave",F),ne&&(ne.removeEventListener("mouseleave",q),ne.removeEventListener("mouseenter",W),ne.removeEventListener("mouseleave",z))}}},[o,s,t,f,m,K,te,X,r,n,C,v,S,x,i,J,T]),Ts(()=>{var U;if(s&&n&&(U=x.current)!=null&&(U=U.__options)!=null&&U.blockPointerEvents&&V()){I.current=!0;const q=o.floating;if(nr(o.domReference)&&q){var F;const W=qu(o.floating).body;W.setAttribute(kR,"");const z=o.domReference,Y=v==null||(F=v.nodesRef.current.find(ne=>ne.id===b))==null||(F=F.context)==null?void 0:F.elements.floating;return Y&&(Y.style.pointerEvents=""),W.style.pointerEvents="none",z.style.pointerEvents="auto",q.style.pointerEvents="auto",()=>{W.style.pointerEvents="",z.style.pointerEvents="",q.style.pointerEvents=""}}}},[s,n,b,o,v,x,V]),Ts(()=>{n||(E.current=void 0,G.current=!1,te(),X())},[n,te,X]),w.useEffect(()=>()=>{te(),mo(k),mo(D),X()},[s,o.domReference,te,X]);const L=w.useMemo(()=>{function U(F){E.current=F.pointerType}return{onPointerDown:U,onPointerEnter:U,onMouseMove(F){const{nativeEvent:q}=F;function W(){!j.current&&!C.current&&r(!0,q,"hover")}f&&!N_(E.current)||n||GS(T.current)===0||G.current&&F.movementX**2+F.movementY**2<2||(mo(D),E.current==="touch"?W():(G.current=!0,D.current=window.setTimeout(W,GS(T.current))))}}},[f,r,n,C,T]);return w.useMemo(()=>s?{reference:L}:{},[s,L])}const z_=()=>{},k4=w.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:z_,setState:z_,isInstantPhase:!1}),QW=()=>w.useContext(k4);function JW(t){const{children:e,delay:n,timeoutMs:r=0}=t,[i,a]=w.useReducer((c,d)=>({...c,...d}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=w.useRef(null),s=w.useCallback(c=>{a({currentId:c})},[]);return Ts(()=>{i.currentId?o.current===null?o.current=i.currentId:i.isInstantPhase||a({isInstantPhase:!0}):(i.isInstantPhase&&a({isInstantPhase:!1}),o.current=null)},[i.currentId,i.isInstantPhase]),g.jsx(k4.Provider,{value:w.useMemo(()=>({...i,setState:a,setCurrentId:s}),[i,s]),children:e})}function eX(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,floatingId:i}=t,{id:a,enabled:o=!0}=e,s=a??i,c=QW(),{currentId:d,setCurrentId:f,initialDelay:h,setState:m,timeoutMs:v}=c;return Ts(()=>{o&&d&&(m({delay:{open:1,close:Qy(h,"close")}}),d!==s&&r(!1))},[o,s,r,m,d,h]),Ts(()=>{function b(){r(!1),m({delay:h,currentId:null})}if(o&&d&&!n&&d===s){if(v){const x=window.setTimeout(b,v);return()=>{clearTimeout(x)}}b()}},[o,n,m,d,s,r,h,v]),Ts(()=>{o&&(f===z_||!n||f(s))},[o,n,f,s]),c}const tX={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},nX={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},PR=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function rX(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:a}=t,{enabled:o=!0,escapeKey:s=!0,outsidePress:c=!0,outsidePressEvent:d="pointerdown",referencePress:f=!1,referencePressEvent:h="pointerdown",ancestorScroll:m=!1,bubbles:v,capture:b}=e,x=zT(),S=Ss(typeof c=="function"?c:()=>!1),C=typeof c=="function"?S:c,T=w.useRef(!1),{escapeKey:E,outsidePress:k}=PR(v),{escapeKey:M,outsidePress:D}=PR(b),j=w.useRef(!1),I=Ss(X=>{var J;if(!n||!o||!s||X.key!=="Escape"||j.current)return;const L=(J=a.current.floatingContext)==null?void 0:J.nodeId,U=x?Xy(x.nodesRef.current,L):[];if(!E&&(X.stopPropagation(),U.length>0)){let F=!0;if(U.forEach(q=>{var W;if((W=q.context)!=null&&W.open&&!q.context.dataRef.current.__escapeKeyBubbles){F=!1;return}}),!F)return}r(!1,WK(X)?X.nativeEvent:X,"escape-key")}),B=Ss(X=>{var J;const L=()=>{var U;I(X),(U=$f(X))==null||U.removeEventListener("keydown",L)};(J=$f(X))==null||J.addEventListener("keydown",L)}),G=Ss(X=>{var J;const L=a.current.insideReactTree;a.current.insideReactTree=!1;const U=T.current;if(T.current=!1,d==="click"&&U||L||typeof C=="function"&&!C(X))return;const F=$f(X),q="["+BT("inert")+"]",W=qu(i.floating).querySelectorAll(q);let z=nr(F)?F:null;for(;z&&!Al(z);){const ue=kl(z);if(Al(ue)||!nr(ue))break;z=ue}if(W.length&&nr(F)&&!qK(F)&&!Nm(F,i.floating)&&Array.from(W).every(ue=>!Nm(z,ue)))return;if(Ya(F)&&te){const ue=Al(F),we=Co(F),be=/auto|scroll/,qe=ue||be.test(we.overflowX),ae=ue||be.test(we.overflowY),se=qe&&F.clientWidth>0&&F.scrollWidth>F.clientWidth,Le=ae&&F.clientHeight>0&&F.scrollHeight>F.clientHeight,de=we.direction==="rtl",He=Le&&(de?X.offsetX<=F.offsetWidth-F.clientWidth:X.offsetX>F.clientWidth),Re=se&&X.offsetY>F.clientHeight;if(He||Re)return}const Y=(J=a.current.floatingContext)==null?void 0:J.nodeId,ne=x&&Xy(x.nodesRef.current,Y).some(ue=>{var we;return HS(X,(we=ue.context)==null?void 0:we.elements.floating)});if(HS(X,i.floating)||HS(X,i.domReference)||ne)return;const ie=x?Xy(x.nodesRef.current,Y):[];if(ie.length>0){let ue=!0;if(ie.forEach(we=>{var be;if((be=we.context)!=null&&be.open&&!we.context.dataRef.current.__outsidePressBubbles){ue=!1;return}}),!ue)return}r(!1,X,"outside-press")}),V=Ss(X=>{var J;const L=()=>{var U;G(X),(U=$f(X))==null||U.removeEventListener(d,L)};(J=$f(X))==null||J.addEventListener(d,L)});w.useEffect(()=>{if(!n||!o)return;a.current.__escapeKeyBubbles=E,a.current.__outsidePressBubbles=k;let X=-1;function J(W){r(!1,W,"ancestor-scroll")}function L(){window.clearTimeout(X),j.current=!0}function U(){X=window.setTimeout(()=>{j.current=!1},W0()?5:0)}const F=qu(i.floating);s&&(F.addEventListener("keydown",M?B:I,M),F.addEventListener("compositionstart",L),F.addEventListener("compositionend",U)),C&&F.addEventListener(d,D?V:G,D);let q=[];return m&&(nr(i.domReference)&&(q=_l(i.domReference)),nr(i.floating)&&(q=q.concat(_l(i.floating))),!nr(i.reference)&&i.reference&&i.reference.contextElement&&(q=q.concat(_l(i.reference.contextElement)))),q=q.filter(W=>{var z;return W!==((z=F.defaultView)==null?void 0:z.visualViewport)}),q.forEach(W=>{W.addEventListener("scroll",J,{passive:!0})}),()=>{s&&(F.removeEventListener("keydown",M?B:I,M),F.removeEventListener("compositionstart",L),F.removeEventListener("compositionend",U)),C&&F.removeEventListener(d,D?V:G,D),q.forEach(W=>{W.removeEventListener("scroll",J)}),window.clearTimeout(X)}},[a,i,s,C,d,n,r,m,o,E,k,I,M,B,G,D,V]),w.useEffect(()=>{a.current.insideReactTree=!1},[a,C,d]);const K=w.useMemo(()=>({onKeyDown:I,...f&&{[tX[h]]:X=>{r(!1,X.nativeEvent,"reference-press")},...h!=="click"&&{onClick(X){r(!1,X.nativeEvent,"reference-press")}}}}),[I,r,f,h]),te=w.useMemo(()=>({onKeyDown:I,onMouseDown(){T.current=!0},onMouseUp(){T.current=!0},[nX[d]]:()=>{a.current.insideReactTree=!0}}),[I,d,a]);return w.useMemo(()=>o?{reference:K,floating:te}:{},[o,K,te])}function iX(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=T4(),a=w.useRef({}),[o]=w.useState(()=>KW()),s=IT()!=null,[c,d]=w.useState(r.reference),f=Ss((v,b,x)=>{a.current.openEvent=v?b:void 0,o.emit("openchange",{open:v,event:b,reason:x,nested:s}),n?.(v,b,x)}),h=w.useMemo(()=>({setPositionReference:d}),[]),m=w.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return w.useMemo(()=>({dataRef:a,open:e,onOpenChange:f,elements:m,events:o,floatingId:i,refs:h}),[e,f,m,o,i,h])}function $T(t){t===void 0&&(t={});const{nodeId:e}=t,n=iX({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[a,o]=w.useState(null),[s,c]=w.useState(null),f=i?.domReference||a,h=w.useRef(null),m=zT();Ts(()=>{f&&(h.current=f)},[f]);const v=BW({...t,elements:{...i,...s&&{reference:s}}}),b=w.useCallback(E=>{const k=nr(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),getClientRects:()=>E.getClientRects(),contextElement:E}:E;c(k),v.refs.setReference(k)},[v.refs]),x=w.useCallback(E=>{(nr(E)||E===null)&&(h.current=E,o(E)),(nr(v.refs.reference.current)||v.refs.reference.current===null||E!==null&&!nr(E))&&v.refs.setReference(E)},[v.refs]),S=w.useMemo(()=>({...v.refs,setReference:x,setPositionReference:b,domReference:h}),[v.refs,x,b]),C=w.useMemo(()=>({...v.elements,domReference:f}),[v.elements,f]),T=w.useMemo(()=>({...v,...r,refs:S,elements:C,nodeId:e}),[v,S,C,e,r]);return Ts(()=>{r.dataRef.current.floatingContext=T;const E=m?.nodesRef.current.find(k=>k.id===e);E&&(E.context=T)}),w.useMemo(()=>({...v,context:T,refs:S,elements:C}),[v,S,C,T])}function YS(){return UK()&&FK()}function aX(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:a,elements:o}=t,{enabled:s=!0,visibleOnly:c=!0}=e,d=w.useRef(!1),f=w.useRef(-1),h=w.useRef(!0);w.useEffect(()=>{if(!s)return;const v=Ta(o.domReference);function b(){!n&&Ya(o.domReference)&&o.domReference===pR(qu(o.domReference))&&(d.current=!0)}function x(){h.current=!0}function S(){h.current=!1}return v.addEventListener("blur",b),YS()&&(v.addEventListener("keydown",x,!0),v.addEventListener("pointerdown",S,!0)),()=>{v.removeEventListener("blur",b),YS()&&(v.removeEventListener("keydown",x,!0),v.removeEventListener("pointerdown",S,!0))}},[o.domReference,n,s]),w.useEffect(()=>{if(!s)return;function v(b){let{reason:x}=b;(x==="reference-press"||x==="escape-key")&&(d.current=!0)}return i.on("openchange",v),()=>{i.off("openchange",v)}},[i,s]),w.useEffect(()=>()=>{mo(f)},[]);const m=w.useMemo(()=>({onMouseLeave(){d.current=!1},onFocus(v){if(d.current)return;const b=$f(v.nativeEvent);if(c&&nr(b)){if(YS()&&!v.relatedTarget){if(!h.current&&!GK(b))return}else if(!YK(b))return}r(!0,v.nativeEvent,"focus")},onBlur(v){d.current=!1;const b=v.relatedTarget,x=v.nativeEvent,S=nr(b)&&b.hasAttribute(BT("focus-guard"))&&b.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var C;const T=pR(o.domReference?o.domReference.ownerDocument:document);!b&&T===o.domReference||Nm((C=a.current.floatingContext)==null?void 0:C.refs.floating.current,T)||Nm(o.domReference,T)||S||r(!1,x,"focus")})}}),[a,o.domReference,r,c]);return w.useMemo(()=>s?{reference:m}:{},[s,m])}function KS(t,e,n){const r=new Map,i=n==="item";let a=t;if(i&&t){const{[AR]:o,[_R]:s,...c}=t;a=c}return{...n==="floating"&&{tabIndex:-1,[HW]:""},...a,...e.map(o=>{const s=o?o[n]:null;return typeof s=="function"?t?s(t):null:s}).concat(t).reduce((o,s)=>(s&&Object.entries(s).forEach(c=>{let[d,f]=c;if(!(i&&[AR,_R].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof f=="function"){var h;(h=r.get(d))==null||h.push(f),o[d]=function(){for(var m,v=arguments.length,b=new Array(v),x=0;x<v;x++)b[x]=arguments[x];return(m=r.get(d))==null?void 0:m.map(S=>S(...b)).find(S=>S!==void 0)}}}else o[d]=f}),o),{})}}function oX(t){t===void 0&&(t=[]);const e=t.map(s=>s?.reference),n=t.map(s=>s?.floating),r=t.map(s=>s?.item),i=w.useCallback(s=>KS(s,t,"reference"),e),a=w.useCallback(s=>KS(s,t,"floating"),n),o=w.useCallback(s=>KS(s,t,"item"),r);return w.useMemo(()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:o}),[i,a,o])}const sX=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function lX(t,e){var n,r;e===void 0&&(e={});const{open:i,elements:a,floatingId:o}=t,{enabled:s=!0,role:c="dialog"}=e,d=T4(),f=((n=a.domReference)==null?void 0:n.id)||d,h=w.useMemo(()=>{var T;return((T=KK(a.floating))==null?void 0:T.id)||o},[a.floating,o]),m=(r=sX.get(c))!=null?r:c,b=IT()!=null,x=w.useMemo(()=>m==="tooltip"||c==="label"?{["aria-"+(c==="label"?"labelledby":"describedby")]:i?h:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":m==="alertdialog"?"dialog":m,"aria-controls":i?h:void 0,...m==="listbox"&&{role:"combobox"},...m==="menu"&&{id:f},...m==="menu"&&b&&{role:"menuitem"},...c==="select"&&{"aria-autocomplete":"none"},...c==="combobox"&&{"aria-autocomplete":"list"}},[m,h,b,i,f,c]),S=w.useMemo(()=>{const T={id:h,...m&&{role:m}};return m==="tooltip"||c==="label"?T:{...T,...m==="menu"&&{"aria-labelledby":f}}},[m,h,f,c]),C=w.useCallback(T=>{let{active:E,selected:k}=T;const M={role:"option",...E&&{id:h+"-fui-option"}};switch(c){case"select":case"combobox":return{...M,"aria-selected":k}}return{}},[h,c]);return w.useMemo(()=>s?{reference:x,floating:S,item:C}:{},[s,x,S,C])}var FT={root:"m_d57069b5",content:"m_b1336c6",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const[cX,To]=da("ScrollArea.Root component was not found in tree");function uh(t,e){const n=Fu(e);_d(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}const uX=w.forwardRef((t,e)=>{const{style:n,...r}=t,i=To(),[a,o]=w.useState(0),[s,c]=w.useState(0),d=!!(a&&s);return uh(i.scrollbarX,()=>{const f=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(f),c(f)}),uh(i.scrollbarY,()=>{const f=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(f),o(f)}),d?g.jsx("div",{...r,ref:e,style:{...n,width:a,height:s}}):null}),dX=w.forwardRef((t,e)=>{const n=To(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(uX,{...t,ref:e}):null}),fX={scrollHideDelay:1e3,type:"hover"},P4=w.forwardRef((t,e)=>{const{type:n,scrollHideDelay:r,scrollbars:i,getStyles:a,...o}=Pe("ScrollAreaRoot",fX,t),[s,c]=w.useState(null),[d,f]=w.useState(null),[h,m]=w.useState(null),[v,b]=w.useState(null),[x,S]=w.useState(null),[C,T]=w.useState(0),[E,k]=w.useState(0),[M,D]=w.useState(!1),[j,I]=w.useState(!1),B=kr(e,G=>c(G));return g.jsx(cX,{value:{type:n,scrollHideDelay:r,scrollArea:s,viewport:d,onViewportChange:f,content:h,onContentChange:m,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:M,onScrollbarXEnabledChange:D,scrollbarY:x,onScrollbarYChange:S,scrollbarYEnabled:j,onScrollbarYEnabledChange:I,onCornerWidthChange:T,onCornerHeightChange:k,getStyles:a},children:g.jsx(De,{...o,ref:B,__vars:{"--sa-corner-width":i!=="xy"?"0px":`${C}px`,"--sa-corner-height":i!=="xy"?"0px":`${E}px`}})})});P4.displayName="@mantine/core/ScrollAreaRoot";function O4(t,e){const n=t/e;return Number.isNaN(n)?0:n}function Q0(t){const e=O4(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function M4(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function hX(t,[e,n]){return Math.min(n,Math.max(e,t))}function OR(t,e,n="ltr"){const r=Q0(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,s=a-r,c=n==="ltr"?[0,o]:[o*-1,0],d=hX(t,c);return M4([0,o],[0,s])(d)}function pX(t,e,n,r="ltr"){const i=Q0(n),a=i/2,o=e||a,s=i-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-s,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return M4([c,d],h)(t)}function D4(t,e){return t>0&&t<e}function Uc(t){return t?parseInt(t,10):0}function nd(t,e,{checkForDefaultPrevented:n=!0}={}){return r=>{t?.(r),(n===!1||!r.defaultPrevented)&&e?.(r)}}const[mX,j4]=da("ScrollAreaScrollbar was not found in tree"),R4=w.forwardRef((t,e)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:s,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=t,m=To(),[v,b]=w.useState(null),x=kr(e,I=>b(I)),S=w.useRef(null),C=w.useRef(""),{viewport:T}=m,E=n.content-n.viewport,k=Fu(d),M=Fu(s),D=B0(f,10),j=I=>{if(S.current){const B=I.clientX-S.current.left,G=I.clientY-S.current.top;c({x:B,y:G})}};return w.useEffect(()=>{const I=B=>{const G=B.target;v?.contains(G)&&k(B,E)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[T,v,E,k]),w.useEffect(M,[n,M]),uh(v,D),uh(m.content,D),g.jsx(mX,{value:{scrollbar:v,hasThumb:r,onThumbChange:Fu(i),onThumbPointerUp:Fu(a),onThumbPositionChange:M,onThumbPointerDown:Fu(o)},children:g.jsx("div",{...h,ref:x,"data-mantine-scrollbar":!0,style:{position:"absolute",...h.style},onPointerDown:nd(t.onPointerDown,I=>{I.preventDefault(),I.button===0&&(I.target.setPointerCapture(I.pointerId),S.current=v.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",j(I))}),onPointerMove:nd(t.onPointerMove,j),onPointerUp:nd(t.onPointerUp,I=>{const B=I.target;B.hasPointerCapture(I.pointerId)&&(I.preventDefault(),B.releasePointerCapture(I.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=C.current,S.current=null}})})}),L4=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...a}=t,o=To(),[s,c]=w.useState(),d=w.useRef(null),f=kr(e,d,o.onScrollbarXChange);return w.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),g.jsx(R4,{"data-orientation":"horizontal",...a,ref:f,sizes:n,style:{...i,"--sa-thumb-width":`${Q0(n)}px`},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(o.viewport){const v=o.viewport.scrollLeft+h.deltaX;t.onWheelScroll(v),D4(v,m)&&h.preventDefault()}},onResize:()=>{d.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Uc(s.paddingLeft),paddingEnd:Uc(s.paddingRight)}})}})});L4.displayName="@mantine/core/ScrollAreaScrollbarX";const N4=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...a}=t,o=To(),[s,c]=w.useState(),d=w.useRef(null),f=kr(e,d,o.onScrollbarYChange);return w.useEffect(()=>{d.current&&c(window.getComputedStyle(d.current))},[]),g.jsx(R4,{...a,"data-orientation":"vertical",ref:f,sizes:n,style:{"--sa-thumb-height":`${Q0(n)}px`,...i},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(o.viewport){const v=o.viewport.scrollTop+h.deltaY;t.onWheelScroll(v),D4(v,m)&&h.preventDefault()}},onResize:()=>{d.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Uc(s.paddingTop),paddingEnd:Uc(s.paddingBottom)}})}})});N4.displayName="@mantine/core/ScrollAreaScrollbarY";const J0=w.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,{dir:i}=Ph(),a=To(),o=w.useRef(null),s=w.useRef(0),[c,d]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=O4(c.viewport,c.content),h={...r,sizes:c,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:v=>{o.current=v},onThumbPointerUp:()=>{s.current=0},onThumbPointerDown:v=>{s.current=v}},m=(v,b)=>pX(v,s.current,c,b);return n==="horizontal"?g.jsx(L4,{...h,ref:e,onThumbPositionChange:()=>{if(a.viewport&&o.current){const v=a.viewport.scrollLeft,b=OR(v,c,i);o.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollLeft=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollLeft=m(v,i))}}):n==="vertical"?g.jsx(N4,{...h,ref:e,onThumbPositionChange:()=>{if(a.viewport&&o.current){const v=a.viewport.scrollTop,b=OR(v,c);c.scrollbar.size===0?o.current.style.setProperty("--thumb-opacity","0"):o.current.style.setProperty("--thumb-opacity","1"),o.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollTop=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollTop=m(v))}}):null});J0.displayName="@mantine/core/ScrollAreaScrollbarVisible";const UT=w.forwardRef((t,e)=>{const n=To(),{forceMount:r,...i}=t,[a,o]=w.useState(!1),s=t.orientation==="horizontal",c=B0(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(s?d:f)}},10);return uh(n.viewport,c),uh(n.content,c),r||a?g.jsx(J0,{"data-state":a?"visible":"hidden",...i,ref:e}):null});UT.displayName="@mantine/core/ScrollAreaScrollbarAuto";const I4=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=To(),[a,o]=w.useState(!1);return w.useEffect(()=>{const{scrollArea:s}=i;let c=0;if(s){const d=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",d),s.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),s.removeEventListener("pointerenter",d),s.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),n||a?g.jsx(UT,{"data-state":a?"visible":"hidden",...r,ref:e}):null});I4.displayName="@mantine/core/ScrollAreaScrollbarHover";const gX=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=To(),a=t.orientation==="horizontal",[o,s]=w.useState("hidden"),c=B0(()=>s("idle"),100);return w.useEffect(()=>{if(o==="idle"){const d=window.setTimeout(()=>s("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[o,i.scrollHideDelay]),w.useEffect(()=>{const{viewport:d}=i,f=a?"scrollLeft":"scrollTop";if(d){let h=d[f];const m=()=>{const v=d[f];h!==v&&(s("scrolling"),c()),h=v};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,a,c]),n||o!=="hidden"?g.jsx(J0,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:nd(t.onPointerEnter,()=>s("interacting")),onPointerLeave:nd(t.onPointerLeave,()=>s("idle"))}):null}),B_=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=To(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=t.orientation==="horizontal";return w.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?g.jsx(I4,{...r,ref:e,forceMount:n}):i.type==="scroll"?g.jsx(gX,{...r,ref:e,forceMount:n}):i.type==="auto"?g.jsx(UT,{...r,ref:e,forceMount:n}):i.type==="always"?g.jsx(J0,{...r,ref:e}):null});B_.displayName="@mantine/core/ScrollAreaScrollbar";function vX(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=n.left!==a.left,s=n.top!==a.top;(o||s)&&e(),n=a,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)}const z4=w.forwardRef((t,e)=>{const{style:n,...r}=t,i=To(),a=j4(),{onThumbPositionChange:o}=a,s=kr(e,f=>a.onThumbChange(f)),c=w.useRef(void 0),d=B0(()=>{c.current&&(c.current(),c.current=void 0)},100);return w.useEffect(()=>{const{viewport:f}=i;if(f){const h=()=>{if(d(),!c.current){const m=vX(f,o);c.current=m,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,o]),g.jsx("div",{"data-state":a.hasThumb?"visible":"hidden",...r,ref:s,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:nd(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,b=f.clientY-m.top;a.onThumbPointerDown({x:v,y:b})}),onPointerUp:nd(t.onPointerUp,a.onThumbPointerUp)})});z4.displayName="@mantine/core/ScrollAreaThumb";const $_=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=j4();return n||i.hasThumb?g.jsx(z4,{ref:e,...r}):null});$_.displayName="@mantine/core/ScrollAreaThumb";const B4=w.forwardRef(({children:t,style:e,onWheel:n,...r},i)=>{const a=To(),o=kr(i,a.onViewportChange),s=c=>{if(n?.(c),a.scrollbarXEnabled&&a.viewport&&c.shiftKey){const{scrollTop:d,scrollHeight:f,clientHeight:h,scrollWidth:m,clientWidth:v}=a.viewport,b=d<1,x=d>=f-h-1;m>v&&(b||x)&&c.stopPropagation()}};return g.jsx(De,{...r,ref:o,onWheel:s,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e},children:g.jsx("div",{...a.getStyles("content"),ref:a.onContentChange,children:t})})});B4.displayName="@mantine/core/ScrollAreaViewport";const $4={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},yX=(t,{scrollbarSize:e,overscrollBehavior:n,scrollbars:r})=>{let i=n;return n&&r&&(r==="x"?i=`${n} auto`:r==="y"&&(i=`auto ${n}`)),{root:{"--scrollarea-scrollbar-size":Oe(e),"--scrollarea-over-scroll-behavior":i}}},Ul=Fe((t,e)=>{const n=Pe("ScrollArea",$4,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,scrollbarSize:c,vars:d,type:f,scrollHideDelay:h,viewportProps:m,viewportRef:v,onScrollPositionChange:b,children:x,offsetScrollbars:S,scrollbars:C,onBottomReached:T,onTopReached:E,overscrollBehavior:k,attributes:M,...D}=n,[j,I]=w.useState(!1),[B,G]=w.useState(!1),[V,K]=w.useState(!1),te=ut({name:"ScrollArea",props:n,classes:FT,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:M,vars:d,varsResolver:yX}),X=w.useRef(null),J=E4([v,X]);return w.useEffect(()=>{if(!X.current||S!=="present")return;const L=X.current,U=new ResizeObserver(()=>{const{scrollHeight:F,clientHeight:q,scrollWidth:W,clientWidth:z}=L;G(F>q),K(W>z)});return U.observe(L),()=>U.disconnect()},[X,S]),g.jsxs(P4,{getStyles:te,type:f==="never"?"always":f,scrollHideDelay:h,ref:e,scrollbars:C,...te("root"),...D,children:[g.jsx(B4,{...m,...te("viewport",{style:m?.style}),ref:J,"data-offset-scrollbars":S===!0?"xy":S||void 0,"data-scrollbars":C||void 0,"data-horizontal-hidden":S==="present"&&!V?"true":void 0,"data-vertical-hidden":S==="present"&&!B?"true":void 0,onScroll:L=>{m?.onScroll?.(L),b?.({x:L.currentTarget.scrollLeft,y:L.currentTarget.scrollTop});const{scrollTop:U,scrollHeight:F,clientHeight:q}=L.currentTarget;U-(F-q)>=-.8&&T?.(),U===0&&E?.()},children:x}),(C==="xy"||C==="x")&&g.jsx(B_,{...te("scrollbar"),orientation:"horizontal","data-hidden":f==="never"||S==="present"&&!V?!0:void 0,forceMount:!0,onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),children:g.jsx($_,{...te("thumb")})}),(C==="xy"||C==="y")&&g.jsx(B_,{...te("scrollbar"),orientation:"vertical","data-hidden":f==="never"||S==="present"&&!B?!0:void 0,forceMount:!0,onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),children:g.jsx($_,{...te("thumb")})}),g.jsx(dX,{...te("corner"),"data-hovered":j||void 0,"data-hidden":f==="never"||void 0})]})});Ul.displayName="@mantine/core/ScrollArea";const HT=Fe((t,e)=>{const{children:n,classNames:r,styles:i,scrollbarSize:a,scrollHideDelay:o,type:s,dir:c,offsetScrollbars:d,overscrollBehavior:f,viewportRef:h,onScrollPositionChange:m,unstyled:v,variant:b,viewportProps:x,scrollbars:S,style:C,vars:T,onBottomReached:E,onTopReached:k,onOverflowChange:M,...D}=Pe("ScrollAreaAutosize",$4,t),j=w.useRef(null),I=E4([h,j]),[B,G]=w.useState(!1),V=w.useRef(!1);return w.useEffect(()=>{if(!M)return;const K=j.current;if(!K)return;const te=()=>{const J=K.scrollHeight>K.clientHeight;J!==B&&(V.current?M?.(J):(V.current=!0,J&&M?.(!0)),G(J))};te();const X=new ResizeObserver(te);return X.observe(K),()=>X.disconnect()},[M,B]),g.jsx(De,{...D,ref:e,style:[{display:"flex",overflow:"hidden"},C],children:g.jsx(De,{style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",...S==="y"&&{minWidth:0},...S==="x"&&{minHeight:0},...S==="xy"&&{minWidth:0,minHeight:0},...S===!1&&{minWidth:0,minHeight:0}},children:g.jsx(Ul,{classNames:r,styles:i,scrollHideDelay:o,scrollbarSize:a,type:s,dir:c,offsetScrollbars:d,overscrollBehavior:f,viewportRef:I,onScrollPositionChange:m,unstyled:v,variant:b,viewportProps:x,vars:T,scrollbars:S,onBottomReached:E,onTopReached:k,"data-autosize":"true",children:n})})})});Ul.classes=FT;HT.displayName="@mantine/core/ScrollAreaAutosize";HT.classes=FT;Ul.Autosize=HT;var F4={root:"m_87cf2631"};const bX={__staticSelector:"UnstyledButton"},Br=Ki((t,e)=>{const n=Pe("UnstyledButton",bX,t),{className:r,component:i="button",__staticSelector:a,unstyled:o,classNames:s,styles:c,style:d,attributes:f,...h}=n,m=ut({name:a,props:n,classes:F4,className:r,style:d,classNames:s,styles:c,unstyled:o,attributes:f});return g.jsx(De,{...m("root",{focusable:!0}),component:i,ref:e,type:i==="button"?"button":void 0,...h})});Br.classes=F4;Br.displayName="@mantine/core/UnstyledButton";var U4={root:"m_515a97f8"};const VT=Fe((t,e)=>{const n=Pe("VisuallyHidden",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,attributes:d,...f}=n,h=ut({name:"VisuallyHidden",classes:U4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:d});return g.jsx(De,{component:"span",ref:e,...h("root"),...f})});VT.classes=U4;VT.displayName="@mantine/core/VisuallyHidden";var H4={root:"m_1b7284a3"};const xX=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:En(e),"--paper-shadow":ST(n)}}),Dt=Ki((t,e)=>{const n=Pe("Paper",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,withBorder:c,vars:d,radius:f,shadow:h,variant:m,mod:v,attributes:b,...x}=n,S=ut({name:"Paper",props:n,classes:H4,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:b,vars:d,varsResolver:xX});return g.jsx(De,{ref:e,mod:[{"data-with-border":c},v],...S("root"),variant:m,...x})});Dt.classes=H4;Dt.displayName="@mantine/core/Paper";function MR(t,e,n,r){return t==="center"||r==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function DR(t,e,n,r,i){return t==="center"||r==="center"?{left:e}:t==="end"?{[i==="ltr"?"right":"left"]:n}:t==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const wX={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function SX({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:a,arrowY:o,dir:s}){const[c,d="center"]=t.split("-"),f={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[wX[c]]:r},h=-e/2;return c==="left"?{...f,...MR(d,o,n,i),right:h,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:c==="right"?{...f,...MR(d,o,n,i),left:h,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:c==="top"?{...f,...DR(d,a,n,i,s),bottom:h,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:c==="bottom"?{...f,...DR(d,a,n,i,s),top:h,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const Cb=w.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:a,arrowX:o,arrowY:s,style:c,...d},f)=>{const{dir:h}=Ph();return a?g.jsx("div",{...d,ref:f,style:{...c,...SX({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:h,arrowX:o,arrowY:s})}}):null});Cb.displayName="@mantine/core/FloatingArrow";function V4(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,r]=e.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return e}var q4={root:"m_9814e45f"};const CX={zIndex:Wa("modal")},AX=(t,{gradient:e,color:n,backgroundOpacity:r,blur:i,radius:a,zIndex:o})=>({root:{"--overlay-bg":e||(n!==void 0||r!==void 0)&&vs(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${Oe(i)})`:void 0,"--overlay-radius":a===void 0?void 0:En(a),"--overlay-z-index":o?.toString()}}),dh=Ki((t,e)=>{const n=Pe("Overlay",CX,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,fixed:d,center:f,children:h,radius:m,zIndex:v,gradient:b,blur:x,color:S,backgroundOpacity:C,mod:T,attributes:E,...k}=n,M=ut({name:"Overlay",props:n,classes:q4,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:E,vars:c,varsResolver:AX});return g.jsx(De,{ref:e,...M("root"),mod:[{center:f,fixed:d},T],...k,children:h})});dh.classes=q4;dh.displayName="@mantine/core/Overlay";function WS(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}function _X({target:t,reuseTargetNode:e,...n}){if(t)return typeof t=="string"?document.querySelector(t)||WS(n):t;if(e){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const i=WS(n);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return WS(n)}const EX={reuseTargetNode:!0},G4=Fe((t,e)=>{const{children:n,target:r,reuseTargetNode:i,...a}=Pe("Portal",EX,t),[o,s]=w.useState(!1),c=w.useRef(null);return _d(()=>(s(!0),c.current=_X({target:r,reuseTargetNode:i,...a}),lh(e,c.current),!r&&!i&&c.current&&document.body.appendChild(c.current),()=>{!r&&!i&&c.current&&document.body.removeChild(c.current)}),[r]),!o||!c.current?null:Td.createPortal(g.jsx(g.Fragment,{children:n}),c.current)});G4.displayName="@mantine/core/Portal";const Pl=Fe(({withinPortal:t=!0,children:e,...n},r)=>q0()==="test"||!t?g.jsx(g.Fragment,{children:e}):g.jsx(G4,{ref:r,...n,children:e}));Pl.displayName="@mantine/core/OptionalPortal";const Zp=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),ly={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Zp("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Zp("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Zp("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Zp("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Zp("top"),common:{transformOrigin:"top right"}}},jR={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function TX({transition:t,state:e,duration:n,timingFunction:r}){const i={WebkitBackfaceVisibility:"hidden",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof t=="string"?t in ly?{transitionProperty:ly[t].transitionProperty,...i,...ly[t].common,...ly[t][jR[e]]}:{}:{transitionProperty:t.transitionProperty,...i,...t.common,...t[jR[e]]}}function kX({duration:t,exitDuration:e,timingFunction:n,mounted:r,onEnter:i,onExit:a,onEntered:o,onExited:s,enterDelay:c,exitDelay:d}){const f=Xr(),h=$0(),m=f.respectReducedMotion?h:!1,[v,b]=w.useState(m?0:t),[x,S]=w.useState(r?"entered":"exited"),C=w.useRef(-1),T=w.useRef(-1),E=w.useRef(-1);function k(){window.clearTimeout(C.current),window.clearTimeout(T.current),cancelAnimationFrame(E.current)}const M=j=>{k();const I=j?i:a,B=j?o:s,G=m?0:j?t:e;b(G),G===0?(typeof I=="function"&&I(),typeof B=="function"&&B(),S(j?"entered":"exited")):E.current=requestAnimationFrame(()=>{vm.flushSync(()=>{S(j?"pre-entering":"pre-exiting")}),E.current=requestAnimationFrame(()=>{typeof I=="function"&&I(),S(j?"entering":"exiting"),C.current=window.setTimeout(()=>{typeof B=="function"&&B(),S(j?"entered":"exited")},G)})})},D=j=>{if(k(),typeof(j?c:d)!="number"){M(j);return}T.current=window.setTimeout(()=>{M(j)},j?c:d)};return ud(()=>{D(r)},[r]),w.useEffect(()=>()=>{k()},[]),{transitionDuration:v,transitionStatus:x,transitionTimingFunction:n||"ease"}}function Wo({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:r=n,mounted:i,children:a,timingFunction:o="ease",onExit:s,onEntered:c,onEnter:d,onExited:f,enterDelay:h,exitDelay:m}){const v=q0(),{transitionDuration:b,transitionStatus:x,transitionTimingFunction:S}=kX({mounted:i,exitDuration:r,duration:n,timingFunction:o,onExit:s,onEntered:c,onEnter:d,onExited:f,enterDelay:h,exitDelay:m});return b===0||v==="test"?i?g.jsx(g.Fragment,{children:a({})}):t?a({display:"none"}):null:x==="exited"?t?a({display:"none"}):null:g.jsx(g.Fragment,{children:a(TX({transition:e,duration:b,state:x,timingFunction:S}))})}Wo.displayName="@mantine/core/Transition";const[PX,Y4]=da("Popover component was not found in the tree");var K4={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};function ex({children:t,active:e=!0,refProp:n="ref",innerRef:r}){const i=HG(e),a=kr(i,r),o=kh(t);return o?w.cloneElement(o,{[n]:a}):t}function W4(t){return g.jsx(VT,{tabIndex:-1,"data-autofocus":!0,...t})}ex.displayName="@mantine/core/FocusTrap";W4.displayName="@mantine/core/FocusTrapInitialFocus";ex.InitialFocus=W4;const qT=Fe((t,e)=>{const n=Pe("PopoverDropdown",null,t),{className:r,style:i,vars:a,children:o,onKeyDownCapture:s,variant:c,classNames:d,styles:f,...h}=n,m=Y4(),v=K5({opened:m.opened,shouldReturnFocus:m.returnFocus}),b=m.withRoles?{"aria-labelledby":m.getTargetId(),id:m.getDropdownId(),role:"dialog",tabIndex:-1}:{},x=kr(e,m.floating);return m.disabled?null:g.jsx(Pl,{...m.portalProps,withinPortal:m.withinPortal,children:g.jsx(Wo,{mounted:m.opened,...m.transitionProps,transition:m.transitionProps?.transition||"fade",duration:m.transitionProps?.duration??150,keepMounted:m.keepMounted,exitDuration:typeof m.transitionProps?.exitDuration=="number"?m.transitionProps.exitDuration:m.transitionProps?.duration,children:S=>g.jsx(ex,{active:m.trapFocus&&m.opened,innerRef:x,children:g.jsxs(De,{...b,...h,variant:c,onKeyDownCapture:MG(()=>{m.onClose?.(),m.onDismiss?.()},{active:m.closeOnEscape,onTrigger:v,onKeyDown:s}),"data-position":m.placement,"data-fixed":m.floatingStrategy==="fixed"||void 0,...m.getStyles("dropdown",{className:r,props:n,classNames:d,styles:f,style:[{...S,zIndex:m.zIndex,top:m.y??0,left:m.x??0,width:m.width==="target"?void 0:Oe(m.width),...m.referenceHidden?{display:"none"}:null},m.resolvedStyles.dropdown,f?.dropdown,i]}),children:[o,g.jsx(Cb,{ref:m.arrowRef,arrowX:m.arrowX,arrowY:m.arrowY,visible:m.withArrow,position:m.placement,arrowSize:m.arrowSize,arrowRadius:m.arrowRadius,arrowOffset:m.arrowOffset,arrowPosition:m.arrowPosition,...m.getStyles("arrow",{props:n,classNames:d,styles:f})})]})})})})});qT.classes=K4;qT.displayName="@mantine/core/PopoverDropdown";const OX={refProp:"ref",popupType:"dialog"},X4=Fe((t,e)=>{const{children:n,refProp:r,popupType:i,...a}=Pe("PopoverTarget",OX,t),o=kh(n);if(!o)throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=a,c=Y4(),d=kr(c.reference,U0(o),e),f=c.withRoles?{"aria-haspopup":i,"aria-expanded":c.opened,"aria-controls":c.opened?c.getDropdownId():void 0,id:c.getTargetId()}:{},h=o.props;return w.cloneElement(o,{...s,...f,...c.targetProps,className:Ot(c.targetProps.className,s.className,h.className),[r]:d,...c.controlled?null:{onClick:()=>{c.onToggle(),h.onClick?.()}}})});X4.displayName="@mantine/core/PopoverTarget";function MX(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function DX(t,e,n){const r=MX(t.middlewares),i=[A4(t.offset),UW()];return t.dropdownVisible&&n!=="test"&&t.preventPositionChangeWhenVisible&&(r.flip=!1),r.flip&&i.push(typeof r.flip=="boolean"?Sb():Sb(r.flip)),r.shift&&i.push(NT(typeof r.shift=="boolean"?{limiter:CR(),padding:5}:{limiter:CR(),padding:5,...r.shift})),r.inline&&i.push(typeof r.inline=="boolean"?Em():Em(r.inline)),i.push(_4({element:t.arrowRef,padding:t.arrowOffset})),(r.size||t.width==="target")&&i.push(FW({...typeof r.size=="boolean"?{}:r.size,apply({rects:a,availableWidth:o,availableHeight:s,...c}){const f=e().refs.floating.current?.style??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:a,availableWidth:o,availableHeight:s,...c}):Object.assign(f,{maxWidth:`${o}px`,maxHeight:`${s}px`})),t.width==="target"&&Object.assign(f,{width:`${a.reference.width}px`})}})),i}function jX(t){const e=q0(),[n,r]=Ur({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),i=w.useRef(n),a=()=>{n&&!t.disabled&&r(!1)},o=()=>{t.disabled||r(!n)},s=$T({strategy:t.strategy,placement:t.preventPositionChangeWhenVisible?t.positionRef.current:t.position,middleware:DX(t,()=>s,e),whileElementsMounted:t.keepMounted?void 0:I_});return w.useEffect(()=>{if(!(!s.refs.reference.current||!s.refs.floating.current)&&n)return I_(s.refs.reference.current,s.refs.floating.current,s.update)},[n,s.update]),ud(()=>{t.onPositionChange?.(s.placement),t.positionRef.current=s.placement},[s.placement,t.preventPositionChangeWhenVisible]),ud(()=>{n!==i.current&&(n?t.onOpen?.():t.onClose?.()),i.current=n},[n,t.onClose,t.onOpen]),_d(()=>{let c=-1;return n&&(c=window.setTimeout(()=>t.setDropdownVisible(!0),4)),()=>{window.clearTimeout(c)}},[n,t.position]),{floating:s,controlled:typeof t.opened=="boolean",opened:n,onClose:a,onToggle:o}}const RX={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:Wa("popover"),__staticSelector:"Popover",width:"max-content"},LX=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:En(e),"--popover-shadow":ST(n)}});function Vo(t){const e=Pe("Popover",RX,t),{children:n,position:r,offset:i,onPositionChange:a,positionDependencies:o,opened:s,transitionProps:c,onExitTransitionEnd:d,onEnterTransitionEnd:f,width:h,middlewares:m,withArrow:v,arrowSize:b,arrowOffset:x,arrowRadius:S,arrowPosition:C,unstyled:T,classNames:E,styles:k,closeOnClickOutside:M,withinPortal:D,portalProps:j,closeOnEscape:I,clickOutsideEvents:B,trapFocus:G,onClose:V,onDismiss:K,onOpen:te,onChange:X,zIndex:J,radius:L,shadow:U,id:F,defaultOpened:q,__staticSelector:W,withRoles:z,disabled:Y,returnFocus:ne,variant:ie,keepMounted:ue,vars:we,floatingStrategy:be,withOverlay:qe,overlayProps:ae,hideDetached:se,attributes:Le,preventPositionChangeWhenVisible:de,...He}=e,Re=ut({name:W,props:e,classes:K4,classNames:E,styles:k,unstyled:T,attributes:Le,rootSelector:"dropdown",vars:we,varsResolver:LX}),{resolvedStyles:ct}=ka({classNames:E,styles:k,props:e}),[Qe,Ue]=w.useState(s??q??!1),We=w.useRef(r),rt=w.useRef(null),[Je,St]=w.useState(null),[ft,vt]=w.useState(null),{dir:Be}=Ph(),at=q0(),Ge=hi(F),Ve=jX({middlewares:m,width:h,position:V4(Be,r),offset:typeof i=="number"?i+(v?b/2:0):i,arrowRef:rt,arrowOffset:x,onPositionChange:a,positionDependencies:o,opened:s,defaultOpened:q,onChange:X,onOpen:te,onClose:V,onDismiss:K,strategy:be,dropdownVisible:Qe,setDropdownVisible:Ue,positionRef:We,disabled:Y,preventPositionChangeWhenVisible:de,keepMounted:ue});RG(()=>{M&&(Ve.onClose(),K?.())},B,[Je,ft]);const Jt=w.useCallback(Yt=>{St(Yt),Ve.floating.refs.setReference(Yt)},[Ve.floating.refs.setReference]),bn=w.useCallback(Yt=>{vt(Yt),Ve.floating.refs.setFloating(Yt)},[Ve.floating.refs.setFloating]),Vt=w.useCallback(()=>{c?.onExited?.(),d?.(),Ue(!1),de||(We.current=r)},[c?.onExited,d,de,r]),Tn=w.useCallback(()=>{c?.onEntered?.(),f?.()},[c?.onEntered,f]);return g.jsxs(PX,{value:{returnFocus:ne,disabled:Y,controlled:Ve.controlled,reference:Jt,floating:bn,x:Ve.floating.x,y:Ve.floating.y,arrowX:Ve.floating?.middlewareData?.arrow?.x,arrowY:Ve.floating?.middlewareData?.arrow?.y,opened:Ve.opened,arrowRef:rt,transitionProps:{...c,onExited:Vt,onEntered:Tn},width:h,withArrow:v,arrowSize:b,arrowOffset:x,arrowRadius:S,arrowPosition:C,placement:Ve.floating.placement,trapFocus:G,withinPortal:D,portalProps:j,zIndex:J,radius:L,shadow:U,closeOnEscape:I,onDismiss:K,onClose:Ve.onClose,onToggle:Ve.onToggle,getTargetId:()=>`${Ge}-target`,getDropdownId:()=>`${Ge}-dropdown`,withRoles:z,targetProps:He,__staticSelector:W,classNames:E,styles:k,unstyled:T,variant:ie,keepMounted:ue,getStyles:Re,resolvedStyles:ct,floatingStrategy:be,referenceHidden:se&&at!=="test"?Ve.floating.middlewareData.hide?.referenceHidden:!1},children:[n,qe&&g.jsx(Wo,{transition:"fade",mounted:Ve.opened,duration:c?.duration||250,exitDuration:c?.exitDuration||250,children:Yt=>g.jsx(Pl,{withinPortal:D,children:g.jsx(dh,{...ae,...Re("overlay",{className:ae?.className,style:[Yt,ae?.style]})})})})]})}Vo.Target=X4;Vo.Dropdown=qT;Vo.displayName="@mantine/core/Popover";Vo.extend=t=>t;var Ho={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const Z4=w.forwardRef(({className:t,...e},n)=>g.jsxs(De,{component:"span",className:Ot(Ho.barsLoader,t),...e,ref:n,children:[g.jsx("span",{className:Ho.bar}),g.jsx("span",{className:Ho.bar}),g.jsx("span",{className:Ho.bar})]}));Z4.displayName="@mantine/core/Bars";const Q4=w.forwardRef(({className:t,...e},n)=>g.jsxs(De,{component:"span",className:Ot(Ho.dotsLoader,t),...e,ref:n,children:[g.jsx("span",{className:Ho.dot}),g.jsx("span",{className:Ho.dot}),g.jsx("span",{className:Ho.dot})]}));Q4.displayName="@mantine/core/Dots";const J4=w.forwardRef(({className:t,...e},n)=>g.jsx(De,{component:"span",className:Ot(Ho.ovalLoader,t),...e,ref:n}));J4.displayName="@mantine/core/Oval";const e$={bars:Z4,oval:J4,dots:Q4},NX={loaders:e$,type:"oval"},IX=(t,{size:e,color:n})=>({root:{"--loader-size":jt(e,"loader-size"),"--loader-color":n?Kn(n,t):void 0}}),ji=Fe((t,e)=>{const n=Pe("Loader",NX,t),{size:r,color:i,type:a,vars:o,className:s,style:c,classNames:d,styles:f,unstyled:h,loaders:m,variant:v,children:b,attributes:x,...S}=n,C=ut({name:"Loader",props:n,classes:Ho,className:s,style:c,classNames:d,styles:f,unstyled:h,attributes:x,vars:o,varsResolver:IX});return b?g.jsx(De,{...C("root"),ref:e,...S,children:b}):g.jsx(De,{...C("root"),ref:e,component:m[a],variant:v,size:r,...S})});ji.defaultLoaders=e$;ji.classes=Ho;ji.displayName="@mantine/core/Loader";var Dh={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const RR={orientation:"horizontal"},zX=(t,{borderWidth:e})=>({group:{"--ai-border-width":Oe(e)}}),GT=Fe((t,e)=>{const n=Pe("ActionIconGroup",RR,t),{className:r,style:i,classNames:a,styles:o,unstyled:s,orientation:c,vars:d,borderWidth:f,variant:h,mod:m,attributes:v,...b}=Pe("ActionIconGroup",RR,t),x=ut({name:"ActionIconGroup",props:n,classes:Dh,className:r,style:i,classNames:a,styles:o,unstyled:s,attributes:v,vars:d,varsResolver:zX,rootSelector:"group"});return g.jsx(De,{...x("group"),ref:e,variant:h,mod:[{"data-orientation":c},m],role:"group",...b})});GT.classes=Dh;GT.displayName="@mantine/core/ActionIconGroup";const BX=(t,{radius:e,color:n,gradient:r,variant:i,autoContrast:a,size:o})=>{const s=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:a});return{groupSection:{"--section-height":jt(o,"section-height"),"--section-padding-x":jt(o,"section-padding-x"),"--section-fz":cr(o),"--section-radius":e===void 0?void 0:En(e),"--section-bg":n||i?s.background:void 0,"--section-color":s.color,"--section-bd":n||i?s.border:void 0}}},YT=Fe((t,e)=>{const n=Pe("ActionIconGroupSection",null,t),{className:r,style:i,classNames:a,styles:o,unstyled:s,vars:c,variant:d,gradient:f,radius:h,autoContrast:m,attributes:v,...b}=n,x=ut({name:"ActionIconGroupSection",props:n,classes:Dh,className:r,style:i,classNames:a,styles:o,unstyled:s,attributes:v,vars:c,varsResolver:BX,rootSelector:"groupSection"});return g.jsx(De,{...x("groupSection"),ref:e,variant:d,...b})});YT.classes=Dh;YT.displayName="@mantine/core/ActionIconGroupSection";const $X=(t,{size:e,radius:n,variant:r,gradient:i,color:a,autoContrast:o})=>{const s=t.variantColorResolver({color:a||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:o});return{root:{"--ai-size":jt(e,"ai-size"),"--ai-radius":n===void 0?void 0:En(n),"--ai-bg":a||r?s.background:void 0,"--ai-hover":a||r?s.hover:void 0,"--ai-hover-color":a||r?s.hoverColor:void 0,"--ai-color":s.color,"--ai-bd":a||r?s.border:void 0}}},Mi=Ki((t,e)=>{const n=Pe("ActionIcon",null,t),{className:r,unstyled:i,variant:a,classNames:o,styles:s,style:c,loading:d,loaderProps:f,size:h,color:m,radius:v,__staticSelector:b,gradient:x,vars:S,children:C,disabled:T,"data-disabled":E,autoContrast:k,mod:M,attributes:D,...j}=n,I=ut({name:["ActionIcon",b],props:n,className:r,style:c,classes:Dh,classNames:o,styles:s,unstyled:i,attributes:D,vars:S,varsResolver:$X});return g.jsxs(Br,{...I("root",{active:!T&&!d&&!E}),...j,unstyled:i,variant:a,size:h,disabled:T||d,ref:e,mod:[{loading:d,disabled:T||E},M],children:[typeof d=="boolean"&&g.jsx(Wo,{mounted:d,transition:"slide-down",duration:150,children:B=>g.jsx(De,{component:"span",...I("loader",{style:B}),"aria-hidden":!0,children:g.jsx(ji,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...f})})}),g.jsx(De,{component:"span",mod:{loading:d},...I("icon"),children:C})]})});Mi.classes=Dh;Mi.displayName="@mantine/core/ActionIcon";Mi.Group=GT;Mi.GroupSection=YT;const t$=w.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},r)=>g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:r,...n,children:g.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));t$.displayName="@mantine/core/CloseIcon";var n$={root:"m_86a44da5","root--subtle":"m_220c80f2"};const FX={variant:"subtle"},UX=(t,{size:e,radius:n,iconSize:r})=>({root:{"--cb-size":jt(e,"cb-size"),"--cb-radius":n===void 0?void 0:En(n),"--cb-icon-size":Oe(r)}}),zs=Ki((t,e)=>{const n=Pe("CloseButton",FX,t),{iconSize:r,children:i,vars:a,radius:o,className:s,classNames:c,style:d,styles:f,unstyled:h,"data-disabled":m,disabled:v,variant:b,icon:x,mod:S,attributes:C,__staticSelector:T,...E}=n,k=ut({name:T||"CloseButton",props:n,className:s,style:d,classes:n$,classNames:c,styles:f,unstyled:h,attributes:C,vars:a,varsResolver:UX});return g.jsxs(Br,{ref:e,...E,unstyled:h,variant:b,disabled:v,mod:[{disabled:v||m},S],...k("root",{variant:b,active:!v&&!m}),children:[x||g.jsx(t$,{}),i]})});zs.classes=n$;zs.displayName="@mantine/core/CloseButton";function HX(t){return w.Children.toArray(t).filter(Boolean)}var r$={root:"m_4081bf90"};const VX={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},qX=(t,{grow:e,preventGrowOverflow:n,gap:r,align:i,justify:a,wrap:o},{childWidth:s})=>({root:{"--group-child-width":e&&n?s:void 0,"--group-gap":zr(r),"--group-align":i,"--group-justify":a,"--group-wrap":o}}),ze=Fe((t,e)=>{const n=Pe("Group",VX,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,children:c,gap:d,align:f,justify:h,wrap:m,grow:v,preventGrowOverflow:b,vars:x,variant:S,__size:C,mod:T,attributes:E,...k}=n,M=HX(c),D=M.length,j=zr(d??"md"),B={childWidth:`calc(${100/D}% - (${j} - ${j} / ${D}))`},G=ut({name:"Group",props:n,stylesCtx:B,className:i,style:a,classes:r$,classNames:r,styles:o,unstyled:s,attributes:E,vars:x,varsResolver:qX});return g.jsx(De,{...G("root"),ref:e,variant:S,mod:[{grow:v},T],size:C,...k,children:M})});ze.classes=r$;ze.displayName="@mantine/core/Group";const[GX,Hl]=da("ModalBase component was not found in tree");function YX({opened:t,transitionDuration:e}){const[n,r]=w.useState(t),i=w.useRef(-1),o=$0()?0:e;return w.useEffect(()=>(t?(r(!0),window.clearTimeout(i.current)):o===0?r(!1):i.current=window.setTimeout(()=>r(!1),o),()=>window.clearTimeout(i.current)),[t,o]),n}function KX({id:t,transitionProps:e,opened:n,trapFocus:r,closeOnEscape:i,onClose:a,returnFocus:o}){const s=hi(t),[c,d]=w.useState(!1),[f,h]=w.useState(!1),m=typeof e?.duration=="number"?e?.duration:200,v=YX({opened:n,transitionDuration:m});return Q5("keydown",b=>{b.key==="Escape"&&i&&!b.isComposing&&n&&b.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&a()},{capture:!0}),K5({opened:n,shouldReturnFocus:r&&o}),{_id:s,titleMounted:c,bodyMounted:f,shouldLockScroll:v,setTitleMounted:d,setBodyMounted:h}}const i$=w.forwardRef(({keepMounted:t,opened:e,onClose:n,id:r,transitionProps:i,onExitTransitionEnd:a,onEnterTransitionEnd:o,trapFocus:s,closeOnEscape:c,returnFocus:d,closeOnClickOutside:f,withinPortal:h,portalProps:m,lockScroll:v,children:b,zIndex:x,shadow:S,padding:C,__vars:T,unstyled:E,removeScrollProps:k,...M},D)=>{const{_id:j,titleMounted:I,bodyMounted:B,shouldLockScroll:G,setTitleMounted:V,setBodyMounted:K}=KX({id:r,transitionProps:i,opened:e,trapFocus:s,closeOnEscape:c,onClose:n,returnFocus:d}),{key:te,...X}=k||{};return g.jsx(Pl,{...m,withinPortal:h,children:g.jsx(GX,{value:{opened:e,onClose:n,closeOnClickOutside:f,onExitTransitionEnd:a,onEnterTransitionEnd:o,transitionProps:{...i,keepMounted:t},getTitleId:()=>`${j}-title`,getBodyId:()=>`${j}-body`,titleMounted:I,bodyMounted:B,setTitleMounted:V,setBodyMounted:K,trapFocus:s,closeOnEscape:c,zIndex:x,unstyled:E},children:g.jsx(cd,{enabled:G&&v,...X,children:g.jsx(De,{ref:D,...M,__vars:{...T,"--mb-z-index":(x||Wa("modal")).toString(),"--mb-shadow":ST(S),"--mb-padding":zr(C)},children:b})},te)})})});i$.displayName="@mantine/core/ModalBase";var fh={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};function WX(){const t=Hl();return w.useEffect(()=>(t.setBodyMounted(!0),()=>t.setBodyMounted(!1)),[]),t.getBodyId()}const a$=w.forwardRef(({className:t,...e},n)=>{const r=WX(),i=Hl();return g.jsx(De,{ref:n,...e,id:r,className:Ot({[fh.body]:!i.unstyled},t)})});a$.displayName="@mantine/core/ModalBaseBody";const o$=w.forwardRef(({className:t,onClick:e,...n},r)=>{const i=Hl();return g.jsx(zs,{ref:r,...n,onClick:a=>{i.onClose(),e?.(a)},className:Ot({[fh.close]:!i.unstyled},t),unstyled:i.unstyled})});o$.displayName="@mantine/core/ModalBaseCloseButton";const s$=w.forwardRef(({transitionProps:t,className:e,innerProps:n,onKeyDown:r,style:i,...a},o)=>{const s=Hl();return g.jsx(Wo,{mounted:s.opened,transition:"pop",...s.transitionProps,onExited:()=>{s.onExitTransitionEnd?.(),s.transitionProps?.onExited?.()},onEntered:()=>{s.onEnterTransitionEnd?.(),s.transitionProps?.onEntered?.()},...t,children:c=>g.jsx("div",{...n,className:Ot({[fh.inner]:!s.unstyled},n.className),children:g.jsx(ex,{active:s.opened&&s.trapFocus,innerRef:o,children:g.jsx(Dt,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":s.bodyMounted?s.getBodyId():void 0,"aria-labelledby":s.titleMounted?s.getTitleId():void 0,style:[i,c],className:Ot({[fh.content]:!s.unstyled},e),unstyled:s.unstyled,children:a.children})})})})});s$.displayName="@mantine/core/ModalBaseContent";const l$=w.forwardRef(({className:t,...e},n)=>{const r=Hl();return g.jsx(De,{component:"header",ref:n,className:Ot({[fh.header]:!r.unstyled},t),...e})});l$.displayName="@mantine/core/ModalBaseHeader";const XX={duration:200,timingFunction:"ease",transition:"fade"};function ZX(t){const e=Hl();return{...XX,...e.transitionProps,...t}}const c$=w.forwardRef(({onClick:t,transitionProps:e,style:n,visible:r,...i},a)=>{const o=Hl(),s=ZX(e);return g.jsx(Wo,{mounted:r!==void 0?r:o.opened,...s,transition:"fade",children:c=>g.jsx(dh,{ref:a,fixed:!0,style:[n,c],zIndex:o.zIndex,unstyled:o.unstyled,onClick:d=>{t?.(d),o.closeOnClickOutside&&o.onClose()},...i})})});c$.displayName="@mantine/core/ModalBaseOverlay";function QX(){const t=Hl();return w.useEffect(()=>(t.setTitleMounted(!0),()=>t.setTitleMounted(!1)),[]),t.getTitleId()}const u$=w.forwardRef(({className:t,...e},n)=>{const r=QX(),i=Hl();return g.jsx(De,{component:"h2",ref:n,className:Ot({[fh.title]:!i.unstyled},t),...e,id:r})});u$.displayName="@mantine/core/ModalBaseTitle";function JX({children:t}){return g.jsx(g.Fragment,{children:t})}const[eZ,tZ]=Zc({size:"sm"});var ko={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const d$=Fe((t,e)=>{const n=Pe("InputClearButton",null,t),{size:r,variant:i,vars:a,classNames:o,styles:s,...c}=n,d=tZ(),{resolvedClassNames:f,resolvedStyles:h}=ka({classNames:o,styles:s,props:n});return g.jsx(zs,{variant:i||"transparent",ref:e,size:r||d?.size||"sm",classNames:f,styles:h,__staticSelector:"InputClearButton",style:{pointerEvents:"all",background:"var(--input-bg)",...c.style},...c})});d$.displayName="@mantine/core/InputClearButton";const nZ={xs:7,sm:8,md:10,lg:12,xl:15};function rZ({__clearable:t,__clearSection:e,rightSection:n,__defaultRightSection:r,size:i="sm"}){const a=t&&e;return a&&(n||r)?g.jsxs("div",{"data-combined-clear-section":!0,style:{display:"flex",gap:2,alignItems:"center",paddingInlineEnd:nZ[i]},children:[a,n||r]}):n===null?null:n||a||r}const[iZ,jh]=Zc({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0}),aZ=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${cr(e)} - ${Oe(2)})`}}),tx=Fe((t,e)=>{const n=Pe("InputDescription",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,size:d,__staticSelector:f,__inheritStyles:h=!0,attributes:m,variant:v,...b}=Pe("InputDescription",null,n),x=jh(),S=ut({name:["InputWrapper",f],props:n,classes:ko,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:m,rootSelector:"description",vars:c,varsResolver:aZ}),C=h&&x?.getStyles||S;return g.jsx(De,{component:"p",ref:e,variant:v,size:d,...C("description",x?.getStyles?{className:i,style:a}:void 0),...b})});tx.classes=ko;tx.displayName="@mantine/core/InputDescription";const oZ=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${cr(e)} - ${Oe(2)})`}}),nx=Fe((t,e)=>{const n=Pe("InputError",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,size:d,attributes:f,__staticSelector:h,__inheritStyles:m=!0,variant:v,...b}=n,x=ut({name:["InputWrapper",h],props:n,classes:ko,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:f,rootSelector:"error",vars:c,varsResolver:oZ}),S=jh(),C=m&&S?.getStyles||x;return g.jsx(De,{component:"p",ref:e,variant:v,size:d,...C("error",S?.getStyles?{className:i,style:a}:void 0),...b})});nx.classes=ko;nx.displayName="@mantine/core/InputError";const LR={labelElement:"label"},sZ=(t,{size:e})=>({label:{"--input-label-size":cr(e),"--input-asterisk-color":void 0}}),rx=Fe((t,e)=>{const n=Pe("InputLabel",LR,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,labelElement:d,size:f,required:h,htmlFor:m,onMouseDown:v,children:b,__staticSelector:x,variant:S,mod:C,attributes:T,...E}=Pe("InputLabel",LR,n),k=ut({name:["InputWrapper",x],props:n,classes:ko,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:T,rootSelector:"label",vars:c,varsResolver:sZ}),M=jh(),D=M?.getStyles||k;return g.jsxs(De,{...D("label",M?.getStyles?{className:i,style:a}:void 0),component:d,variant:S,size:f,ref:e,htmlFor:d==="label"?m:void 0,mod:[{required:h},C],onMouseDown:j=>{v?.(j),!j.defaultPrevented&&j.detail>1&&j.preventDefault()},...E,children:[b,h&&g.jsx("span",{...D("required"),"aria-hidden":!0,children:" *"})]})});rx.classes=ko;rx.displayName="@mantine/core/InputLabel";const KT=Fe((t,e)=>{const n=Pe("InputPlaceholder",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,__staticSelector:d,variant:f,error:h,mod:m,attributes:v,...b}=n,x=ut({name:["InputPlaceholder",d],props:n,classes:ko,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:v,rootSelector:"placeholder"});return g.jsx(De,{...x("placeholder"),mod:[{error:!!h},m],component:"span",variant:f,ref:e,...b})});KT.classes=ko;KT.displayName="@mantine/core/InputPlaceholder";function lZ(t,{hasDescription:e,hasError:n}){const r=t.findIndex(c=>c==="input"),i=t.slice(0,r),a=t.slice(r+1),o=e&&i.includes("description")||n&&i.includes("error");return{offsetBottom:e&&a.includes("description")||n&&a.includes("error"),offsetTop:o}}const cZ={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},uZ=(t,{size:e})=>({label:{"--input-label-size":cr(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${cr(e)} - ${Oe(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${cr(e)} - ${Oe(2)})`}}),WT=Fe((t,e)=>{const n=Pe("InputWrapper",cZ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,size:d,variant:f,__staticSelector:h,inputContainer:m,inputWrapperOrder:v,label:b,error:x,description:S,labelProps:C,descriptionProps:T,errorProps:E,labelElement:k,children:M,withAsterisk:D,id:j,required:I,__stylesApiProps:B,mod:G,attributes:V,...K}=n,te=ut({name:["InputWrapper",h],props:B||n,classes:ko,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:V,vars:c,varsResolver:uZ}),X={size:d,variant:f,__staticSelector:h},J=hi(j),L=typeof D=="boolean"?D:I,U=E?.id||`${J}-error`,F=T?.id||`${J}-description`,q=J,W=!!x&&typeof x!="boolean",z=!!S,Y=`${W?U:""} ${z?F:""}`,ne=Y.trim().length>0?Y.trim():void 0,ie=C?.id||`${J}-label`,ue=b&&g.jsx(rx,{labelElement:k,id:ie,htmlFor:q,required:L,...X,...C,children:b},"label"),we=z&&g.jsx(tx,{...T,...X,size:T?.size||X.size,id:T?.id||F,children:S},"description"),be=g.jsx(w.Fragment,{children:m(M)},"input"),qe=W&&w.createElement(nx,{...E,...X,size:E?.size||X.size,key:"error",id:E?.id||U},x),ae=v.map(se=>{switch(se){case"label":return ue;case"input":return be;case"description":return we;case"error":return qe;default:return null}});return g.jsx(iZ,{value:{getStyles:te,describedBy:ne,inputId:q,labelId:ie,...lZ(v,{hasDescription:z,hasError:W})},children:g.jsx(De,{ref:e,variant:f,size:d,mod:[{error:!!x},G],...te("root"),...K,children:ae})})});WT.classes=ko;WT.displayName="@mantine/core/InputWrapper";const dZ={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},fZ=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":jt(e.size,"input-height"),"--input-fz":cr(e.size),"--input-radius":e.radius===void 0?void 0:En(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?Oe(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?Oe(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?jt(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),qn=Ki((t,e)=>{const n=Pe("Input",dZ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,required:c,__staticSelector:d,__stylesApiProps:f,size:h,wrapperProps:m,error:v,disabled:b,leftSection:x,leftSectionProps:S,leftSectionWidth:C,rightSection:T,rightSectionProps:E,rightSectionWidth:k,rightSectionPointerEvents:M,leftSectionPointerEvents:D,variant:j,vars:I,pointer:B,multiline:G,radius:V,id:K,withAria:te,withErrorStyles:X,mod:J,inputSize:L,attributes:U,__clearSection:F,__clearable:q,__defaultRightSection:W,...z}=n,{styleProps:Y,rest:ne}=Qc(z),ie=jh(),ue={offsetBottom:ie?.offsetBottom,offsetTop:ie?.offsetTop},we=ut({name:["Input",d],props:f||n,classes:ko,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:U,stylesCtx:ue,rootSelector:"wrapper",vars:I,varsResolver:fZ}),be=te?{required:c,disabled:b,"aria-invalid":!!v,"aria-describedby":ie?.describedBy,id:ie?.inputId||K}:{},qe=rZ({__clearable:q,__clearSection:F,rightSection:T,__defaultRightSection:W,size:h});return g.jsx(eZ,{value:{size:h||"sm"},children:g.jsxs(De,{...we("wrapper"),...Y,...m,mod:[{error:!!v&&X,pointer:B,disabled:b,multiline:G,"data-with-right-section":!!qe,"data-with-left-section":!!x},J],variant:j,size:h,children:[x&&g.jsx("div",{...S,"data-position":"left",...we("section",{className:S?.className,style:S?.style}),children:x}),g.jsx(De,{component:"input",...ne,...be,ref:e,required:c,mod:{disabled:b,error:!!v&&X},variant:j,__size:L,...we("input")}),qe&&g.jsx("div",{...E,"data-position":"right",...we("section",{className:E?.className,style:E?.style}),children:qe})]})})});qn.classes=ko;qn.Wrapper=WT;qn.Label=rx;qn.Error=nx;qn.Description=tx;qn.Placeholder=KT;qn.ClearButton=d$;qn.displayName="@mantine/core/Input";function f$(t,e,n){const r=Pe(t,e,n),{label:i,description:a,error:o,required:s,classNames:c,styles:d,className:f,unstyled:h,__staticSelector:m,__stylesApiProps:v,errorProps:b,labelProps:x,descriptionProps:S,wrapperProps:C,id:T,size:E,style:k,inputContainer:M,inputWrapperOrder:D,withAsterisk:j,variant:I,vars:B,mod:G,attributes:V,...K}=r,{styleProps:te,rest:X}=Qc(K),J={label:i,description:a,error:o,required:s,classNames:c,className:f,__staticSelector:m,__stylesApiProps:v||r,errorProps:b,labelProps:x,descriptionProps:S,unstyled:h,styles:d,size:E,style:k,inputContainer:M,inputWrapperOrder:D,withAsterisk:j,variant:I,id:T,mod:G,attributes:V,...C};return{...X,classNames:c,styles:d,unstyled:h,wrapperProps:{...J,...te},inputProps:{required:s,classNames:c,styles:d,unstyled:h,size:E,__staticSelector:m,__stylesApiProps:v||r,error:o,variant:I,id:T,attributes:V}}}const hZ={__staticSelector:"InputBase",withAria:!0,size:"sm"},Wi=Ki((t,e)=>{const{inputProps:n,wrapperProps:r,...i}=f$("InputBase",hZ,t);return g.jsx(qn.Wrapper,{...r,children:g.jsx(qn,{...n,...i,ref:e})})});Wi.classes={...qn.classes,...qn.Wrapper.classes};Wi.displayName="@mantine/core/InputBase";var h$={root:"m_96b553a6"};function pZ(t,e){if(!e||!t)return!1;let n=e.parentNode;for(;n!=null;){if(n===t)return!0;n=n.parentNode}return!1}function mZ({target:t,parent:e,ref:n,displayAfterTransitionEnd:r}){const i=w.useRef(-1),[a,o]=w.useState(!1),[s,c]=w.useState(typeof r=="boolean"?r:!1),d=()=>{if(!t||!e||!n.current)return;const v=t.getBoundingClientRect(),b=e.getBoundingClientRect(),x=window.getComputedStyle(t),S=window.getComputedStyle(e),C=Uc(x.borderTopWidth)+Uc(S.borderTopWidth),T=Uc(x.borderLeftWidth)+Uc(S.borderLeftWidth),E={top:v.top-b.top-C,left:v.left-b.left-T,width:v.width,height:v.height};n.current.style.transform=`translateY(${E.top}px) translateX(${E.left}px)`,n.current.style.width=`${E.width}px`,n.current.style.height=`${E.height}px`},f=()=>{window.clearTimeout(i.current),n.current&&(n.current.style.transitionDuration="0ms"),d(),i.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},h=w.useRef(null),m=w.useRef(null);return w.useEffect(()=>{if(d(),t)return h.current=new ResizeObserver(f),h.current.observe(t),e&&(m.current=new ResizeObserver(f),m.current.observe(e)),()=>{h.current?.disconnect(),m.current?.disconnect()}},[e,t]),w.useEffect(()=>{if(e){const v=b=>{pZ(b.target,e)&&(f(),c(!1))};return e.addEventListener("transitionend",v),()=>{e.removeEventListener("transitionend",v)}}},[e]),ZG(()=>{e4()!=="test"&&o(!0)},20,{autoInvoke:!0}),JG(v=>{v.forEach(b=>{b.type==="attributes"&&b.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:a,hidden:s}}const gZ=(t,{transitionDuration:e})=>({root:{"--transition-duration":typeof e=="number"?`${e}ms`:e}}),XT=Fe((t,e)=>{const n=Pe("FloatingIndicator",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,target:d,parent:f,transitionDuration:h,mod:m,displayAfterTransitionEnd:v,attributes:b,...x}=n,S=ut({name:"FloatingIndicator",classes:h$,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:b,vars:c,varsResolver:gZ}),C=w.useRef(null),{initialized:T,hidden:E}=mZ({target:d,parent:f,ref:C,displayAfterTransitionEnd:v}),k=kr(e,C);return!d||!f?null:g.jsx(De,{ref:k,mod:[{initialized:T,hidden:E},m],...S("root"),...x})});XT.displayName="@mantine/core/FloatingIndicator";XT.classes=h$;const[vZ,ZT]=da("Accordion component was not found in the tree");var fg={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};function hh({style:t,size:e=16,...n}){return g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:Oe(e),height:Oe(e),display:"block"},...n,children:g.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}hh.displayName="@mantine/core/AccordionChevron";const[yZ,p$]=da("Accordion.Item component was not found in the tree"),QT=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,chevron:s,icon:c,onClick:d,onKeyDown:f,children:h,disabled:m,mod:v,...b}=Pe("AccordionControl",null,t),{value:x}=p$(),S=ZT(),C=S.isItemActive(x),T=typeof S.order=="number",E=`h${S.order}`,k=g.jsxs(Br,{...b,...S.getStyles("control",{className:r,classNames:n,style:i,styles:a,variant:S.variant}),unstyled:S.unstyled,mod:["accordion-control",{active:C,"chevron-position":S.chevronPosition,disabled:m},v],ref:e,onClick:M=>{d?.(M),S.onChange(x)},type:"button",disabled:m,"aria-expanded":C,"aria-controls":S.getRegionId(x),id:S.getControlId(x),onKeyDown:G5({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:S.loop,orientation:"vertical",onKeyDown:f}),children:[g.jsx(De,{component:"span",mod:{rotate:!S.disableChevronRotation&&C,position:S.chevronPosition},...S.getStyles("chevron",{classNames:n,styles:a}),children:s||S.chevron}),g.jsx("span",{...S.getStyles("label",{classNames:n,styles:a}),children:h}),c&&g.jsx(De,{component:"span",mod:{"chevron-position":S.chevronPosition},...S.getStyles("icon",{classNames:n,styles:a}),children:c})]});return T?g.jsx(E,{...S.getStyles("itemTitle",{classNames:n,styles:a}),children:k}):k});QT.displayName="@mantine/core/AccordionControl";QT.classes=fg;const JT=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,value:s,mod:c,...d}=Pe("AccordionItem",null,t),f=ZT();return g.jsx(yZ,{value:{value:s},children:g.jsx(De,{ref:e,mod:[{active:f.isItemActive(s)},c],...f.getStyles("item",{className:r,classNames:n,styles:a,style:i,variant:f.variant}),...d})})});JT.displayName="@mantine/core/AccordionItem";JT.classes=fg;const ek=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,children:s,...c}=Pe("AccordionPanel",null,t),{value:d}=p$(),f=ZT();return g.jsx(ug,{ref:e,...f.getStyles("panel",{className:r,classNames:n,style:i,styles:a}),...c,in:f.isItemActive(d),transitionDuration:f.transitionDuration??200,role:"region",id:f.getRegionId(d),"aria-labelledby":f.getControlId(d),children:g.jsx("div",{...f.getStyles("content",{classNames:n,styles:a}),children:s})})});ek.displayName="@mantine/core/AccordionPanel";ek.classes=fg;const bZ={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevronSize:"auto",chevronIconSize:16},xZ=(t,{transitionDuration:e,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":e===void 0?void 0:`${e}ms`,"--accordion-chevron-size":n===void 0?void 0:Oe(n),"--accordion-radius":r===void 0?void 0:En(r)}});function ki(t){const e=Pe("Accordion",bZ,t),{classNames:n,className:r,style:i,styles:a,unstyled:o,vars:s,children:c,multiple:d,value:f,defaultValue:h,onChange:m,id:v,loop:b,transitionDuration:x,disableChevronRotation:S,chevronPosition:C,chevronSize:T,order:E,chevron:k,variant:M,radius:D,chevronIconSize:j,attributes:I,...B}=e,G=hi(v),[V,K]=Ur({value:f,defaultValue:h,finalValue:d?[]:null,onChange:m}),te=L=>Array.isArray(V)?V.includes(L):L===V,X=L=>{const U=Array.isArray(V)?V.includes(L)?V.filter(F=>F!==L):[...V,L]:L===V?null:L;K(U)},J=ut({name:"Accordion",classes:fg,props:e,className:r,style:i,classNames:n,styles:a,unstyled:o,attributes:I,vars:s,varsResolver:xZ});return g.jsx(vZ,{value:{isItemActive:te,onChange:X,getControlId:mb(`${G}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:mb(`${G}-panel`,"Accordion.Item component was rendered with invalid value or without value"),chevron:k===null?null:k||g.jsx(hh,{size:j}),transitionDuration:x,disableChevronRotation:S,chevronPosition:C,order:E,loop:b,getStyles:J,variant:M,unstyled:o},children:g.jsx(De,{...J("root"),id:G,...B,variant:M,"data-accordion":!0,children:c})})}const wZ=t=>t;ki.extend=wZ;ki.withProps=hK(ki);ki.classes=fg;ki.displayName="@mantine/core/Accordion";ki.Item=JT;ki.Panel=ek;ki.Control=QT;ki.Chevron=hh;var m$={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const SZ=(t,{radius:e,color:n,variant:r,autoContrast:i})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,variant:r||"light",autoContrast:i});return{root:{"--alert-radius":e===void 0?void 0:En(e),"--alert-bg":n||r?a.background:void 0,"--alert-color":a.color,"--alert-bd":n||r?a.border:void 0}}},It=Fe((t,e)=>{const n=Pe("Alert",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,radius:d,color:f,title:h,children:m,id:v,icon:b,withCloseButton:x,onClose:S,closeButtonLabel:C,variant:T,autoContrast:E,role:k,attributes:M,...D}=n,j=ut({name:"Alert",classes:m$,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:M,vars:c,varsResolver:SZ}),I=hi(v),B=h&&`${I}-title`||void 0,G=`${I}-body`;return g.jsx(De,{id:I,...j("root",{variant:T}),variant:T,ref:e,role:k||"alert",...D,"aria-describedby":m?G:void 0,"aria-labelledby":h?B:void 0,children:g.jsxs("div",{...j("wrapper"),children:[b&&g.jsx("div",{...j("icon"),children:b}),g.jsxs("div",{...j("body"),children:[h&&g.jsx("div",{...j("title"),"data-with-close-button":x||void 0,children:g.jsx("span",{id:B,...j("label"),children:h})}),m&&g.jsx("div",{id:G,...j("message"),"data-variant":T,children:m})]}),x&&g.jsx(zs,{...j("closeButton"),onClick:S,variant:"transparent",size:16,iconSize:16,"aria-label":C,unstyled:s})]})})});It.classes=m$;It.displayName="@mantine/core/Alert";var g$={root:"m_b6d8b162"};function CZ(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const AZ={inherit:!1},_Z=(t,{variant:e,lineClamp:n,gradient:r,size:i,color:a})=>({root:{"--text-fz":cr(i),"--text-lh":Y5(i),"--text-gradient":e==="gradient"?P_(r,t):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":a?Kn(a,t):void 0}}),oe=Ki((t,e)=>{const n=Pe("Text",AZ,t),{lineClamp:r,truncate:i,inline:a,inherit:o,gradient:s,span:c,__staticSelector:d,vars:f,className:h,style:m,classNames:v,styles:b,unstyled:x,variant:S,mod:C,size:T,attributes:E,...k}=n,M=ut({name:["Text",d],props:n,classes:g$,className:h,style:m,classNames:v,styles:b,unstyled:x,attributes:E,vars:f,varsResolver:_Z});return g.jsx(De,{...M("root",{focusable:!0}),ref:e,component:c?"span":"p",variant:S,mod:[{"data-truncate":CZ(i),"data-line-clamp":typeof r=="number","data-inline":a,"data-inherit":o},C],size:T,...k})});oe.classes=g$;oe.displayName="@mantine/core/Text";var v$={root:"m_849cf0da"};const EZ={underline:"hover"},ph=Ki((t,e)=>{const{underline:n,className:r,unstyled:i,mod:a,...o}=Pe("Anchor",EZ,t);return g.jsx(oe,{component:"a",ref:e,className:Ot({[v$.root]:!i},r),...o,mod:[{underline:n},a],__staticSelector:"Anchor",unstyled:i})});ph.classes=v$;ph.displayName="@mantine/core/Anchor";const[TZ,Rh]=da("AppShell was not found in tree");var Jc={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const tk=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:a,unstyled:o,vars:s,withBorder:c,zIndex:d,mod:f,...h}=Pe("AppShellAside",null,t),m=Rh();return m.disabled?null:g.jsx(De,{component:"aside",ref:e,mod:[{"with-border":c??m.withBorder},f],...m.getStyles("aside",{className:Ot({[cd.classNames.zeroRight]:m.offsetScrollbars},r),classNames:n,styles:a,style:i}),...h,__vars:{"--app-shell-aside-z-index":`calc(${d??m.zIndex} + 1)`}})});tk.classes=Jc;tk.displayName="@mantine/core/AppShellAside";const nk=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:a,unstyled:o,vars:s,withBorder:c,zIndex:d,mod:f,...h}=Pe("AppShellFooter",null,t),m=Rh();return m.disabled?null:g.jsx(De,{component:"footer",ref:e,mod:[{"with-border":c??m.withBorder},f],...m.getStyles("footer",{className:Ot({[cd.classNames.zeroRight]:m.offsetScrollbars},r),classNames:n,styles:a,style:i}),...h,__vars:{"--app-shell-footer-z-index":(d??m.zIndex)?.toString()}})});nk.classes=Jc;nk.displayName="@mantine/core/AppShellFooter";const rk=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:a,unstyled:o,vars:s,withBorder:c,zIndex:d,mod:f,...h}=Pe("AppShellHeader",null,t),m=Rh();return m.disabled?null:g.jsx(De,{component:"header",ref:e,mod:[{"with-border":c??m.withBorder},f],...m.getStyles("header",{className:Ot({[cd.classNames.zeroRight]:m.offsetScrollbars},r),classNames:n,styles:a,style:i}),...h,__vars:{"--app-shell-header-z-index":(d??m.zIndex)?.toString()}})});rk.classes=Jc;rk.displayName="@mantine/core/AppShellHeader";const ik=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Pe("AppShellMain",null,t),c=Rh();return g.jsx(De,{component:"main",ref:e,...c.getStyles("main",{className:r,style:i,classNames:n,styles:a}),...s})});ik.classes=Jc;ik.displayName="@mantine/core/AppShellMain";function hg(t){return typeof t=="object"?t.base:t}function pg(t){const e=typeof t=="object"&&t!==null&&typeof t.base<"u"&&Object.keys(t).length===1;return typeof t=="number"||typeof t=="string"||e}function mg(t){return!(typeof t!="object"||t===null||Object.keys(t).length===1&&"base"in t)}function kZ({baseStyles:t,minMediaStyles:e,maxMediaStyles:n,aside:r,theme:i,mode:a}){const o=r?.width,s="translateX(var(--app-shell-aside-width))",c="translateX(calc(var(--app-shell-aside-width) * -1))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},a==="fixed"?(n[r?.breakpoint]["--app-shell-aside-width"]="100%",n[r?.breakpoint]["--app-shell-aside-offset"]="0px"):(n[r?.breakpoint]["--app-shell-aside-width"]="0px",n[r?.breakpoint]["--app-shell-aside-offset"]="0px")),pg(o)){const d=Oe(hg(o));t["--app-shell-aside-width"]=d,t["--app-shell-aside-offset"]=d}if(mg(o)&&(typeof o.base<"u"&&(t["--app-shell-aside-width"]=Oe(o.base),t["--app-shell-aside-offset"]=Oe(o.base)),Tr(o).forEach(d=>{d!=="base"&&(e[d]=e[d]||{},e[d]["--app-shell-aside-width"]=Oe(o[d]),e[d]["--app-shell-aside-offset"]=Oe(o[d]))})),r?.breakpoint&&a==="static"&&(e[r.breakpoint]=e[r.breakpoint]||{},e[r.breakpoint]["--app-shell-aside-position"]="sticky",e[r.breakpoint]["--app-shell-aside-grid-row"]="2",e[r.breakpoint]["--app-shell-aside-grid-column"]="3",e[r.breakpoint]["--app-shell-main-column-end"]="3"),r?.collapsed?.desktop){const d=r.breakpoint;e[d]=e[d]||{},e[d]["--app-shell-aside-transform"]=s,e[d]["--app-shell-aside-transform-rtl"]=c,a==="fixed"?e[d]["--app-shell-aside-offset"]="0px !important":(e[d]["--app-shell-aside-width"]="0px",e[d]["--app-shell-aside-display"]="none",e[d]["--app-shell-main-column-end"]="-1"),e[d]["--app-shell-aside-scroll-locked-visibility"]="hidden"}if(r?.collapsed?.mobile){const d=CT(r.breakpoint,i.breakpoints)-.1;n[d]=n[d]||{},a==="fixed"?(n[d]["--app-shell-aside-width"]="100%",n[d]["--app-shell-aside-offset"]="0px"):n[d]["--app-shell-aside-width"]="0px",n[d]["--app-shell-aside-transform"]=s,n[d]["--app-shell-aside-transform-rtl"]=c,n[d]["--app-shell-aside-scroll-locked-visibility"]="hidden"}}function PZ({baseStyles:t,minMediaStyles:e,footer:n,mode:r}){const i=n?.height,a="translateY(var(--app-shell-footer-height))",o=r==="static"?!0:n?.offset??!0;if(r==="static"&&n&&(t["--app-shell-footer-position"]="sticky",t["--app-shell-footer-grid-column"]="1 / -1",t["--app-shell-footer-grid-row"]="3"),pg(i)){const s=Oe(hg(i));t["--app-shell-footer-height"]=s,o&&(t["--app-shell-footer-offset"]=s)}mg(i)&&(typeof i.base<"u"&&(t["--app-shell-footer-height"]=Oe(i.base),o&&(t["--app-shell-footer-offset"]=Oe(i.base))),Tr(i).forEach(s=>{s!=="base"&&(e[s]=e[s]||{},e[s]["--app-shell-footer-height"]=Oe(i[s]),o&&(e[s]["--app-shell-footer-offset"]=Oe(i[s])))})),n?.collapsed&&(t["--app-shell-footer-transform"]=a,r==="fixed"&&(t["--app-shell-footer-offset"]="0px !important"))}function OZ({baseStyles:t,minMediaStyles:e,header:n,mode:r}){const i=n?.height,a="translateY(calc(var(--app-shell-header-height) * -1))",o=r==="static"?!0:n?.offset??!0;if(r==="static"&&n&&(t["--app-shell-header-position"]="sticky",t["--app-shell-header-grid-column"]="1 / -1",t["--app-shell-header-grid-row"]="1"),pg(i)){const s=Oe(hg(i));t["--app-shell-header-height"]=s,o&&(t["--app-shell-header-offset"]=s)}mg(i)&&(typeof i.base<"u"&&(t["--app-shell-header-height"]=Oe(i.base),o&&(t["--app-shell-header-offset"]=Oe(i.base))),Tr(i).forEach(s=>{s!=="base"&&(e[s]=e[s]||{},e[s]["--app-shell-header-height"]=Oe(i[s]),o&&(e[s]["--app-shell-header-offset"]=Oe(i[s])))})),n?.collapsed&&(t["--app-shell-header-transform"]=a,r==="fixed"&&(t["--app-shell-header-offset"]="0px !important"))}function MZ({baseStyles:t,minMediaStyles:e,maxMediaStyles:n,navbar:r,theme:i,mode:a}){const o=r?.width,s="translateX(calc(var(--app-shell-navbar-width) * -1))",c="translateX(var(--app-shell-navbar-width))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},n[r?.breakpoint]["--app-shell-navbar-offset"]="0px",n[r?.breakpoint]["--app-shell-navbar-width"]="100%",a==="static"&&(n[r?.breakpoint]["--app-shell-navbar-grid-width"]="0px")),pg(o)){const d=Oe(hg(o));t["--app-shell-navbar-width"]=d,t["--app-shell-navbar-offset"]=d,a==="static"&&(t["--app-shell-navbar-grid-width"]=d)}if(mg(o)&&(typeof o.base<"u"&&(t["--app-shell-navbar-width"]=Oe(o.base),t["--app-shell-navbar-offset"]=Oe(o.base),a==="static"&&(t["--app-shell-navbar-grid-width"]=Oe(o.base))),Tr(o).forEach(d=>{d!=="base"&&(e[d]=e[d]||{},e[d]["--app-shell-navbar-width"]=Oe(o[d]),e[d]["--app-shell-navbar-offset"]=Oe(o[d]),a==="static"&&(e[d]["--app-shell-navbar-grid-width"]=Oe(o[d])))})),r?.breakpoint&&a==="static"&&(e[r.breakpoint]=e[r.breakpoint]||{},e[r.breakpoint]["--app-shell-navbar-position"]="sticky",e[r.breakpoint]["--app-shell-navbar-grid-row"]="2",e[r.breakpoint]["--app-shell-navbar-grid-column"]="1",e[r.breakpoint]["--app-shell-main-column-start"]="2"),r?.collapsed?.desktop){const d=r.breakpoint;e[d]=e[d]||{},e[d]["--app-shell-navbar-transform"]=s,e[d]["--app-shell-navbar-transform-rtl"]=c,a==="fixed"?e[d]["--app-shell-navbar-offset"]="0px !important":(e[d]["--app-shell-navbar-width"]="0px",e[d]["--app-shell-navbar-display"]="none",e[d]["--app-shell-main-column-start"]="1")}if(r?.collapsed?.mobile){const d=CT(r.breakpoint,i.breakpoints)-.1;n[d]=n[d]||{},n[d]["--app-shell-navbar-width"]="100%",n[d]["--app-shell-navbar-offset"]="0px",a==="static"&&(n[d]["--app-shell-navbar-grid-width"]="0px"),n[d]["--app-shell-navbar-transform"]=s,n[d]["--app-shell-navbar-transform-rtl"]=c}}function XS(t){return Number(t)===0?"0px":zr(t)}function DZ({padding:t,baseStyles:e,minMediaStyles:n}){pg(t)&&(e["--app-shell-padding"]=XS(hg(t))),mg(t)&&(t.base&&(e["--app-shell-padding"]=XS(t.base)),Tr(t).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=XS(t[r]))}))}function jZ({navbar:t,header:e,footer:n,aside:r,padding:i,theme:a,mode:o}){const s={},c={},d={};o==="static"&&(d["--app-shell-main-grid-column"]="1 / -1",d["--app-shell-main-grid-row"]="2"),MZ({baseStyles:d,minMediaStyles:s,maxMediaStyles:c,navbar:t,theme:a,mode:o}),kZ({baseStyles:d,minMediaStyles:s,maxMediaStyles:c,aside:r,theme:a,mode:o}),OZ({baseStyles:d,minMediaStyles:s,header:e,mode:o}),PZ({baseStyles:d,minMediaStyles:s,footer:n,mode:o}),DZ({baseStyles:d,minMediaStyles:s,padding:i});const f=T_(Tr(s),a.breakpoints).map(v=>({query:`(min-width: ${pb(v.px)})`,styles:s[v.value]})),h=T_(Tr(c),a.breakpoints).map(v=>({query:`(max-width: ${pb(v.px)})`,styles:c[v.value]})),m=[...f,...h];return{baseStyles:d,media:m}}function RZ({navbar:t,header:e,aside:n,footer:r,padding:i,mode:a,selector:o}){const s=Xr(),c=Bl(),{media:d,baseStyles:f}=jZ({navbar:t,header:e,footer:r,aside:n,padding:i,theme:s,mode:a});return g.jsx(G0,{media:d,styles:f,selector:o||c.cssVariablesSelector})}const ak=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:a,unstyled:o,vars:s,withBorder:c,zIndex:d,mod:f,...h}=Pe("AppShellNavbar",null,t),m=Rh();return m.disabled?null:g.jsx(De,{component:"nav",ref:e,mod:[{"with-border":c??m.withBorder},f],...m.getStyles("navbar",{className:r,classNames:n,styles:a,style:i}),...h,__vars:{"--app-shell-navbar-z-index":`calc(${d??m.zIndex} + 1)`}})});ak.classes=Jc;ak.displayName="@mantine/core/AppShellNavbar";const ok=Ki((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,grow:s,mod:c,...d}=Pe("AppShellSection",null,t),f=Rh();return g.jsx(De,{ref:e,mod:[{grow:s},c],...f.getStyles("section",{className:r,style:i,classNames:n,styles:a}),...d})});ok.classes=Jc;ok.displayName="@mantine/core/AppShellSection";function LZ({transitionDuration:t,disabled:e}){const[n,r]=w.useState(!0),i=w.useRef(-1),a=w.useRef(-1);return Q5("resize",()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>w.startTransition(()=>{r(!1)}),200)}),_d(()=>{r(!0),clearTimeout(a.current),a.current=window.setTimeout(()=>w.startTransition(()=>{r(!1)}),t||0)},[e,t]),n}const NZ={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:Wa("app"),mode:"fixed"},IZ=(t,{transitionDuration:e,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${e}ms`,"--app-shell-transition-timing-function":n}}),xo=Fe((t,e)=>{const n=Pe("AppShell",NZ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,navbar:d,withBorder:f,padding:h,transitionDuration:m,transitionTimingFunction:v,header:b,zIndex:x,layout:S,disabled:C,aside:T,footer:E,offsetScrollbars:k=!0,mode:M,mod:D,attributes:j,id:I,...B}=n,G=ut({name:"AppShell",classes:Jc,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:j,vars:c,varsResolver:IZ}),V=LZ({disabled:C,transitionDuration:m}),K=hi(I);return g.jsxs(TZ,{value:{getStyles:G,withBorder:f,zIndex:x,disabled:C,offsetScrollbars:k,mode:M},children:[g.jsx(RZ,{navbar:d,header:b,aside:T,footer:E,padding:h,mode:M,selector:M==="static"?`#${K}`:void 0}),g.jsx(De,{ref:e,...G("root"),mod:[{resizing:V,layout:S,disabled:C,mode:M},D],id:K,...B})]})});xo.classes=Jc;xo.displayName="@mantine/core/AppShell";xo.Navbar=ak;xo.Header=rk;xo.Main=ik;xo.Aside=tk;xo.Footer=nk;xo.Section=ok;function y$(t){return typeof t=="string"?{value:t,label:t}:"value"in t&&!("label"in t)?{value:t.value,label:t.value,disabled:t.disabled}:typeof t=="number"?{value:t.toString(),label:t.toString()}:"group"in t?{group:t.group,items:t.items.map(e=>y$(e))}:t}function sk(t){return t?t.map(e=>y$(e)):[]}function ix(t){return t.reduce((e,n)=>"group"in n?{...e,...ix(n.items)}:(e[n.value]=n,e),{})}var sa={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2",optionsDropdownCheckPlaceholder:"m_a530ee0a"};const zZ={error:null},BZ=(t,{size:e,color:n})=>({chevron:{"--combobox-chevron-size":jt(e,"combobox-chevron-size"),"--combobox-chevron-color":n?Kn(n,t):void 0}}),lk=Fe((t,e)=>{const n=Pe("ComboboxChevron",zZ,t),{size:r,error:i,style:a,className:o,classNames:s,styles:c,unstyled:d,vars:f,mod:h,...m}=n,v=ut({name:"ComboboxChevron",classes:sa,props:n,style:a,className:o,classNames:s,styles:c,unstyled:d,vars:f,varsResolver:BZ,rootSelector:"chevron"});return g.jsx(De,{component:"svg",...m,...v("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},h],ref:e,children:g.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});lk.classes=sa;lk.displayName="@mantine/core/ComboboxChevron";const[$Z,Po]=da("Combobox component was not found in tree"),b$=w.forwardRef(({size:t,onMouseDown:e,onClick:n,onClear:r,...i},a)=>g.jsx(qn.ClearButton,{ref:a,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:o=>{o.preventDefault(),e?.(o)},onClick:o=>{r(),n?.(o)}}));b$.displayName="@mantine/core/ComboboxClearButton";const ck=Fe((t,e)=>{const{classNames:n,styles:r,className:i,style:a,hidden:o,...s}=Pe("ComboboxDropdown",null,t),c=Po();return g.jsx(Vo.Dropdown,{...s,ref:e,role:"presentation","data-hidden":o||void 0,...c.getStyles("dropdown",{className:i,style:a,classNames:n,styles:r})})});ck.classes=sa;ck.displayName="@mantine/core/ComboboxDropdown";const FZ={refProp:"ref"},x$=Fe((t,e)=>{const{children:n,refProp:r}=Pe("ComboboxDropdownTarget",FZ,t);if(Po(),!wT(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return g.jsx(Vo.Target,{ref:e,refProp:r,children:n})});x$.displayName="@mantine/core/ComboboxDropdownTarget";const uk=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Pe("ComboboxEmpty",null,t),c=Po();return g.jsx(De,{ref:e,...c.getStyles("empty",{className:r,classNames:n,styles:a,style:i}),...s})});uk.classes=sa;uk.displayName="@mantine/core/ComboboxEmpty";function dk({onKeyDown:t,withKeyboardNavigation:e,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:a}){const o=Po(),[s,c]=w.useState(null),d=h=>{if(t?.(h),!o.readOnly&&e){if(h.nativeEvent.isComposing)return;if(h.nativeEvent.code==="ArrowDown"&&(h.preventDefault(),o.store.dropdownOpened?c(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),c(o.store.selectActiveOption()),o.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),h.nativeEvent.code==="ArrowUp"&&(h.preventDefault(),o.store.dropdownOpened?c(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),c(o.store.selectActiveOption()),o.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),h.nativeEvent.code==="Enter"||h.nativeEvent.code==="NumpadEnter"){if(h.nativeEvent.keyCode===229)return;const m=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&m!==-1?(h.preventDefault(),o.store.clickSelectedOption()):i==="button"&&(h.preventDefault(),o.store.openDropdown("keyboard"))}h.key==="Escape"&&o.store.closeDropdown("keyboard"),h.nativeEvent.code==="Space"&&i==="button"&&(h.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r?!!(o.store.listId&&o.store.dropdownOpened):void 0,"aria-controls":o.store.dropdownOpened&&o.store.listId?o.store.listId:void 0,"aria-activedescendant":o.store.dropdownOpened&&s||void 0,autoComplete:a,"data-expanded":o.store.dropdownOpened||void 0,"data-mantine-stop-propagation":o.store.dropdownOpened||void 0}:{},onKeyDown:d}}const UZ={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},w$=Fe((t,e)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:o,targetType:s,autoComplete:c,...d}=Pe("ComboboxEventsTarget",UZ,t),f=kh(n);if(!f)throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const h=Po(),m=dk({targetType:s,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:f.props.onKeyDown,autoComplete:c});return w.cloneElement(f,{...m,...d,[r]:kr(e,h.store.targetRef,U0(f))})});w$.displayName="@mantine/core/ComboboxEventsTarget";const fk=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Pe("ComboboxFooter",null,t),c=Po();return g.jsx(De,{ref:e,...c.getStyles("footer",{className:r,classNames:n,style:i,styles:a}),...s,onMouseDown:d=>{d.preventDefault()}})});fk.classes=sa;fk.displayName="@mantine/core/ComboboxFooter";const hk=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,children:s,label:c,id:d,...f}=Pe("ComboboxGroup",null,t),h=Po(),m=hi(d);return g.jsxs(De,{ref:e,role:"group","aria-labelledby":c?m:void 0,...h.getStyles("group",{className:r,classNames:n,style:i,styles:a}),...f,children:[c&&g.jsx("div",{id:m,...h.getStyles("groupLabel",{classNames:n,styles:a}),children:c}),s]})});hk.classes=sa;hk.displayName="@mantine/core/ComboboxGroup";const pk=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Pe("ComboboxHeader",null,t),c=Po();return g.jsx(De,{ref:e,...c.getStyles("header",{className:r,classNames:n,style:i,styles:a}),...s,onMouseDown:d=>{d.preventDefault()}})});pk.classes=sa;pk.displayName="@mantine/core/ComboboxHeader";function S$({value:t,valuesDivider:e=",",...n}){return g.jsx("input",{type:"hidden",value:Array.isArray(t)?t.join(e):t||"",...n})}S$.displayName="@mantine/core/ComboboxHiddenInput";const mk=Fe((t,e)=>{const n=Pe("ComboboxOption",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,onClick:c,id:d,active:f,onMouseDown:h,onMouseOver:m,disabled:v,selected:b,mod:x,...S}=n,C=Po(),T=w.useId(),E=d||T;return g.jsx(De,{...C.getStyles("option",{className:i,classNames:r,styles:o,style:a}),...S,ref:e,id:E,mod:["combobox-option",{"combobox-active":f,"combobox-disabled":v,"combobox-selected":b},x],role:"option",onClick:k=>{v?k.preventDefault():(C.onOptionSubmit?.(n.value,n),c?.(k))},onMouseDown:k=>{k.preventDefault(),h?.(k)},onMouseOver:k=>{C.resetSelectionOnOptionHover&&C.store.resetSelectedOption(),m?.(k)}})});mk.classes=sa;mk.displayName="@mantine/core/ComboboxOption";const gk=Fe((t,e)=>{const n=Pe("ComboboxOptions",null,t),{classNames:r,className:i,style:a,styles:o,id:s,onMouseDown:c,labelledBy:d,...f}=n,h=Po(),m=hi(s);return w.useEffect(()=>{h.store.setListId(m)},[m]),g.jsx(De,{ref:e,...h.getStyles("options",{className:i,style:a,classNames:r,styles:o}),...f,id:m,role:"listbox","aria-labelledby":d,onMouseDown:v=>{v.preventDefault(),c?.(v)}})});gk.classes=sa;gk.displayName="@mantine/core/ComboboxOptions";const HZ={withAriaAttributes:!0,withKeyboardNavigation:!0},vk=Fe((t,e)=>{const n=Pe("ComboboxSearch",HZ,t),{classNames:r,styles:i,unstyled:a,vars:o,withAriaAttributes:s,onKeyDown:c,withKeyboardNavigation:d,size:f,...h}=n,m=Po(),v=m.getStyles("search"),b=dk({targetType:"input",withAriaAttributes:s,withKeyboardNavigation:d,withExpandedAttribute:!1,onKeyDown:c,autoComplete:"off"});return g.jsx(qn,{ref:kr(e,m.store.searchRef),classNames:[{input:v.className},r],styles:[{input:v.style},i],size:f||m.size,...b,...h,__staticSelector:"Combobox"})});vk.classes=sa;vk.displayName="@mantine/core/ComboboxSearch";const VZ={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},C$=Fe((t,e)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:o,targetType:s,autoComplete:c,...d}=Pe("ComboboxTarget",VZ,t),f=kh(n);if(!f)throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const h=Po(),m=dk({targetType:s,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:f.props.onKeyDown,autoComplete:c}),v=w.cloneElement(f,{...m,...d});return g.jsx(Vo.Target,{ref:kr(e,h.store.targetRef),children:v})});C$.displayName="@mantine/core/ComboboxTarget";function qZ(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return t}function GZ(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return t}function YZ(t){for(let e=0;e<t.length;e+=1)if(!t[e].hasAttribute("data-combobox-disabled"))return e;return-1}function ax({defaultOpened:t,opened:e,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:a=!0,scrollBehavior:o="instant"}={}){const[s,c]=Ur({value:e,defaultValue:t,finalValue:!1,onChange:n}),d=w.useRef(null),f=w.useRef(-1),h=w.useRef(null),m=w.useRef(null),v=w.useRef(-1),b=w.useRef(-1),x=w.useRef(-1),S=w.useCallback((L="unknown")=>{s||(c(!0),i?.(L))},[c,i,s]),C=w.useCallback((L="unknown")=>{s&&(c(!1),r?.(L))},[c,r,s]),T=w.useCallback((L="unknown")=>{s?C(L):S(L)},[C,S,s]),E=w.useCallback(()=>{const L=Mc(m.current),U=Ky(`#${d.current} [data-combobox-selected]`,L);U?.removeAttribute("data-combobox-selected"),U?.removeAttribute("aria-selected")},[]),k=w.useCallback(L=>{const U=Mc(m.current),F=Ky(`#${d.current}`,U),q=F?jc("[data-combobox-option]",F):null;if(!q)return null;const W=L>=q.length?0:L<0?q.length-1:L;return f.current=W,q?.[W]&&!q[W].hasAttribute("data-combobox-disabled")?(E(),q[W].setAttribute("data-combobox-selected","true"),q[W].setAttribute("aria-selected","true"),q[W].scrollIntoView({block:"nearest",behavior:o}),q[W].id):null},[o,E]),M=w.useCallback(()=>{const L=Mc(m.current),U=Ky(`#${d.current} [data-combobox-active]`,L);if(U){const q=jc(`#${d.current} [data-combobox-option]`,L).findIndex(W=>W===U);return k(q)}return k(0)},[k]),D=w.useCallback(()=>{const L=Mc(m.current),U=jc(`#${d.current} [data-combobox-option]`,L);return k(GZ(f.current,U,a))},[k,a]),j=w.useCallback(()=>{const L=Mc(m.current),U=jc(`#${d.current} [data-combobox-option]`,L);return k(qZ(f.current,U,a))},[k,a]),I=w.useCallback(()=>{const L=Mc(m.current),U=jc(`#${d.current} [data-combobox-option]`,L);return k(YZ(U))},[k]),B=w.useCallback((L="selected",U)=>{x.current=window.setTimeout(()=>{const F=Mc(m.current),q=jc(`#${d.current} [data-combobox-option]`,F),W=q.findIndex(z=>z.hasAttribute(`data-combobox-${L}`));f.current=W,U?.scrollIntoView&&q[W]?.scrollIntoView({block:"nearest",behavior:o})},0)},[]),G=w.useCallback(()=>{f.current=-1,E()},[E]),V=w.useCallback(()=>{const L=Mc(m.current);jc(`#${d.current} [data-combobox-option]`,L)?.[f.current]?.click()},[]),K=w.useCallback(L=>{d.current=L},[]),te=w.useCallback(()=>{v.current=window.setTimeout(()=>h.current?.focus(),0)},[]),X=w.useCallback(()=>{b.current=window.setTimeout(()=>m.current?.focus(),0)},[]),J=w.useCallback(()=>f.current,[]);return w.useEffect(()=>()=>{window.clearTimeout(v.current),window.clearTimeout(b.current),window.clearTimeout(x.current)},[]),{dropdownOpened:s,openDropdown:S,closeDropdown:C,toggleDropdown:T,selectedOptionIndex:f.current,getSelectedOptionIndex:J,selectOption:k,selectFirstOption:I,selectActiveOption:M,selectNextOption:D,selectPreviousOption:j,resetSelectedOption:G,updateSelectedOptionIndex:B,listId:d.current,setListId:K,clickSelectedOption:V,searchRef:h,focusSearchInput:te,targetRef:m,focusTarget:X}}const KZ={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},WZ=(t,{size:e,dropdownPadding:n})=>({options:{"--combobox-option-fz":cr(e),"--combobox-option-padding":jt(e,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Oe(n),"--combobox-option-fz":cr(e),"--combobox-option-padding":jt(e,"combobox-option-padding")}});function Wt(t){const e=Pe("Combobox",KZ,t),{classNames:n,styles:r,unstyled:i,children:a,store:o,vars:s,onOptionSubmit:c,onClose:d,size:f,dropdownPadding:h,resetSelectionOnOptionHover:m,__staticSelector:v,readOnly:b,attributes:x,...S}=e,C=ax(),T=o||C,E=ut({name:v||"Combobox",classes:sa,props:e,classNames:n,styles:r,unstyled:i,attributes:x,vars:s,varsResolver:WZ}),k=()=>{d?.(),T.closeDropdown()};return g.jsx($Z,{value:{getStyles:E,store:T,onOptionSubmit:c,size:f,resetSelectionOnOptionHover:m,readOnly:b},children:g.jsx(Vo,{opened:T.dropdownOpened,preventPositionChangeWhenVisible:!1,...S,onChange:M=>!M&&k(),withRoles:!1,unstyled:i,children:a})})}const XZ=t=>t;Wt.extend=XZ;Wt.classes=sa;Wt.displayName="@mantine/core/Combobox";Wt.Target=C$;Wt.Dropdown=ck;Wt.Options=gk;Wt.Option=mk;Wt.Search=vk;Wt.Empty=uk;Wt.Chevron=lk;Wt.Footer=fk;Wt.Header=pk;Wt.EventsTarget=w$;Wt.DropdownTarget=x$;Wt.Group=hk;Wt.ClearButton=b$;Wt.HiddenInput=S$;var A$={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const ZZ=A$,yk=w.forwardRef(({__staticSelector:t,__stylesApiProps:e,className:n,classNames:r,styles:i,unstyled:a,children:o,label:s,description:c,id:d,disabled:f,error:h,size:m,labelPosition:v="left",bodyElement:b="div",labelElement:x="label",variant:S,style:C,vars:T,mod:E,attributes:k,...M},D)=>{const j=ut({name:t,props:e,className:n,style:C,classes:A$,classNames:r,styles:i,unstyled:a,attributes:k});return g.jsx(De,{...j("root"),ref:D,__vars:{"--label-fz":cr(m),"--label-lh":jt(m,"label-lh")},mod:[{"label-position":v},E],variant:S,size:m,...M,children:g.jsxs(De,{component:b,htmlFor:b==="label"?d:void 0,...j("body"),children:[o,g.jsxs("div",{...j("labelWrapper"),"data-disabled":f||void 0,children:[s&&g.jsx(De,{component:x,htmlFor:x==="label"?d:void 0,...j("label"),"data-disabled":f||void 0,children:s}),c&&g.jsx(qn.Description,{size:m,__inheritStyles:!1,...j("description"),children:c}),h&&typeof h!="boolean"&&g.jsx(qn.Error,{size:m,__inheritStyles:!1,...j("error"),children:h})]})]})})});yk.displayName="@mantine/core/InlineInput";var _$={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const E$=w.createContext(null),QZ=E$.Provider,T$=()=>w.useContext(E$),[JZ,eQ]=Zc();var k$={card:"m_26775b0a"};const tQ={withBorder:!0},nQ=(t,{radius:e})=>({card:{"--card-radius":En(e)}}),bk=Fe((t,e)=>{const n=Pe("CheckboxCard",tQ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,checked:d,mod:f,withBorder:h,value:m,onClick:v,defaultChecked:b,onChange:x,attributes:S,...C}=n,T=ut({name:"CheckboxCard",classes:k$,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:S,vars:c,varsResolver:nQ,rootSelector:"card"}),E=T$(),k=typeof d=="boolean"?d:E?E.value.includes(m||""):void 0,[M,D]=Ur({value:k,defaultValue:b,finalValue:!1,onChange:x});return g.jsx(JZ,{value:{checked:M},children:g.jsx(Br,{ref:e,mod:[{"with-border":h,checked:M},f],...T("card"),...C,role:"checkbox","aria-checked":M,onClick:j=>{v?.(j),E?.onChange(m||""),D(!M)}})})});bk.displayName="@mantine/core/CheckboxCard";bk.classes=k$;function P$({children:t,role:e}){const n=jh();return n?g.jsx("div",{role:e,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:t}):g.jsx(g.Fragment,{children:t})}const xk=Fe((t,e)=>{const{value:n,defaultValue:r,onChange:i,size:a,wrapperProps:o,children:s,readOnly:c,disabled:d,...f}=Pe("CheckboxGroup",null,t),[h,m]=Ur({value:n,defaultValue:r,finalValue:[],onChange:i}),v=b=>{const x=typeof b=="string"?b:b.currentTarget.value;!c&&m(h.includes(x)?h.filter(S=>S!==x):[...h,x])};return g.jsx(QZ,{value:{value:h,onChange:v,size:a,disabled:d},children:g.jsx(qn.Wrapper,{size:a,ref:e,...o,...f,labelElement:"div",__staticSelector:"CheckboxGroup",children:g.jsx(P$,{role:"group",children:s})})})});xk.classes=qn.Wrapper.classes;xk.displayName="@mantine/core/CheckboxGroup";function wk({size:t,style:e,...n}){const r=t!==void 0?{width:Oe(t),height:Oe(t),...e}:e;return g.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:g.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function O$({indeterminate:t,...e}){return t?g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...e,children:g.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):g.jsx(wk,{...e})}var M$={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const rQ={icon:O$,variant:"filled"},iQ=(t,{radius:e,color:n,size:r,iconColor:i,variant:a,autoContrast:o})=>{const s=$l({color:n||t.primaryColor,theme:t}),c=s.isThemeColor&&s.shade===void 0?`var(--mantine-color-${s.color}-outline)`:s.color;return{indicator:{"--checkbox-size":jt(r,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:En(e),"--checkbox-color":a==="outline"?c:Kn(n,t),"--checkbox-icon-color":i?Kn(i,t):Ed(o,t)?Fl({color:n,theme:t,autoContrast:o}):void 0}}},Sk=Fe((t,e)=>{const n=Pe("CheckboxIndicator",rQ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,icon:d,indeterminate:f,radius:h,color:m,iconColor:v,autoContrast:b,checked:x,mod:S,variant:C,disabled:T,attributes:E,...k}=n,M=ut({name:"CheckboxIndicator",classes:M$,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:E,vars:c,varsResolver:iQ,rootSelector:"indicator"}),D=eQ(),j=typeof x=="boolean"||typeof f=="boolean"?x||f:D?.checked||!1;return g.jsx(De,{ref:e,...M("indicator",{variant:C}),variant:C,mod:[{checked:j,disabled:T},S],...k,children:g.jsx(d,{indeterminate:f,...M("icon")})})});Sk.displayName="@mantine/core/CheckboxIndicator";Sk.classes=M$;const aQ={labelPosition:"right",icon:O$,variant:"filled"},oQ=(t,{radius:e,color:n,size:r,iconColor:i,variant:a,autoContrast:o})=>{const s=$l({color:n||t.primaryColor,theme:t}),c=s.isThemeColor&&s.shade===void 0?`var(--mantine-color-${s.color}-outline)`:s.color;return{root:{"--checkbox-size":jt(r,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:En(e),"--checkbox-color":a==="outline"?c:Kn(n,t),"--checkbox-icon-color":i?Kn(i,t):Ed(o,t)?Fl({color:n,theme:t,autoContrast:o}):void 0}}},Lh=Fe((t,e)=>{const n=Pe("Checkbox",aQ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,color:d,label:f,id:h,size:m,radius:v,wrapperProps:b,checked:x,labelPosition:S,description:C,error:T,disabled:E,variant:k,indeterminate:M,icon:D,rootRef:j,iconColor:I,onChange:B,autoContrast:G,mod:V,attributes:K,...te}=n,X=T$(),J=m||X?.size,L=ut({name:"Checkbox",props:n,classes:_$,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:K,vars:c,varsResolver:oQ}),{styleProps:U,rest:F}=Qc(te),q=hi(h),W={checked:X?.value.includes(F.value)??x,onChange:ne=>{X?.onChange(ne),B?.(ne)},disabled:X?.disabled??E},z=w.useRef(null),Y=e||z;return w.useEffect(()=>{Y&&"current"in Y&&Y.current&&(Y.current.indeterminate=M||!1,M?Y.current.setAttribute("data-indeterminate","true"):Y.current.removeAttribute("data-indeterminate"))},[M,Y]),g.jsx(yk,{...L("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:q,size:J,labelPosition:S,label:f,description:C,error:T,disabled:W.disabled,classNames:r,styles:o,unstyled:s,"data-checked":W.checked||x||void 0,variant:k,ref:j,mod:V,...U,...b,children:g.jsxs(De,{...L("inner"),mod:{"data-label-position":S},children:[g.jsx(De,{component:"input",id:q,ref:Y,mod:{error:!!T},...L("input",{focusable:!0,variant:k}),...F,...W,type:"checkbox"}),g.jsx(D,{indeterminate:M,...L("icon")})]})})});Lh.classes={..._$,...ZZ};Lh.displayName="@mantine/core/Checkbox";Lh.Group=xk;Lh.Indicator=Sk;Lh.Card=bk;function fd(t){return"group"in t}function D$({options:t,search:e,limit:n}){const r=e.trim().toLowerCase(),i=[];for(let a=0;a<t.length;a+=1){const o=t[a];if(i.length===n)return i;fd(o)&&i.push({group:o.group,items:D$({options:o.items,search:e,limit:n-i.length})}),fd(o)||o.label.toLowerCase().includes(r)&&i.push(o)}return i}function sQ(t){if(t.length===0)return!0;for(const e of t)if(!("group"in e)||e.items.length>0)return!1;return!0}function j$(t,e=new Set){if(Array.isArray(t))for(const n of t)if(fd(n))j$(n.items,e);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(e.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);e.add(n.value)}}function lQ(t,e){return Array.isArray(t)?t.includes(e):t===e}function R$({data:t,withCheckIcon:e,withAlignedLabels:n,value:r,checkIconPosition:i,unstyled:a,renderOption:o}){if(!fd(t)){const c=lQ(r,t.value),d=e&&(c?g.jsx(wk,{className:sa.optionsDropdownCheckIcon}):n?g.jsx("div",{className:sa.optionsDropdownCheckPlaceholder}):null),f=g.jsxs(g.Fragment,{children:[i==="left"&&d,g.jsx("span",{children:t.label}),i==="right"&&d]});return g.jsx(Wt.Option,{value:t.value,disabled:t.disabled,className:Ot({[sa.optionsDropdownOption]:!a}),"data-reverse":i==="right"||void 0,"data-checked":c||void 0,"aria-selected":c,active:c,children:typeof o=="function"?o({option:t,checked:c}):f})}const s=t.items.map(c=>g.jsx(R$,{data:c,value:r,unstyled:a,withCheckIcon:e,withAlignedLabels:n,checkIconPosition:i,renderOption:o},c.value));return g.jsx(Wt.Group,{label:t.group,children:s})}function Ck({data:t,hidden:e,hiddenWhenEmpty:n,filter:r,search:i,limit:a,maxDropdownHeight:o,withScrollArea:s=!0,filterOptions:c=!0,withCheckIcon:d=!1,withAlignedLabels:f=!1,value:h,checkIconPosition:m,nothingFoundMessage:v,unstyled:b,labelId:x,renderOption:S,scrollAreaProps:C,"aria-label":T}){j$(t);const k=typeof i=="string"?(r||D$)({options:t,search:c?i:"",limit:a??1/0}):t,M=sQ(k),D=k.map(j=>g.jsx(R$,{data:j,withCheckIcon:d,withAlignedLabels:f,value:h,checkIconPosition:m,unstyled:b,renderOption:S},fd(j)?j.group:j.value));return g.jsx(Wt.Dropdown,{hidden:e||n&&M,"data-composed":!0,children:g.jsxs(Wt.Options,{labelledBy:x,"aria-label":T,children:[s?g.jsx(Ul.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...C,children:D}):D,M&&v&&g.jsx(Wt.Empty,{children:v})]})})}var L$={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const cQ=(t,{radius:e,color:n,gradient:r,variant:i,size:a,autoContrast:o,circle:s})=>{const c=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:o});return{root:{"--badge-height":jt(a,"badge-height"),"--badge-padding-x":jt(a,"badge-padding-x"),"--badge-fz":jt(a,"badge-fz"),"--badge-radius":s||e===void 0?void 0:En(e),"--badge-bg":n||i?c.background:void 0,"--badge-color":n||i?c.color:void 0,"--badge-bd":n||i?c.border:void 0,"--badge-dot-color":i==="dot"?Kn(n,t):void 0}}},dn=Ki((t,e)=>{const n=Pe("Badge",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,radius:d,color:f,gradient:h,leftSection:m,rightSection:v,children:b,variant:x,fullWidth:S,autoContrast:C,circle:T,mod:E,attributes:k,...M}=n,D=ut({name:"Badge",props:n,classes:L$,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:k,vars:c,varsResolver:cQ});return g.jsxs(De,{variant:x,mod:[{block:S,circle:T,"with-right-section":!!v,"with-left-section":!!m},E],...D("root",{variant:x}),ref:e,...M,children:[m&&g.jsx("span",{...D("section"),"data-position":"left",children:m}),g.jsx("span",{...D("label"),children:b}),v&&g.jsx("span",{...D("section"),"data-position":"right",children:v})]})});dn.classes=L$;dn.displayName="@mantine/core/Badge";var N$={root:"m_fea6bf1a",burger:"m_d4fb9cad"};const uQ=(t,{color:e,size:n,lineSize:r,transitionDuration:i,transitionTimingFunction:a})=>({root:{"--burger-color":e?Kn(e,t):void 0,"--burger-size":jt(n,"burger-size"),"--burger-line-size":r?Oe(r):void 0,"--burger-transition-duration":i===void 0?void 0:`${i}ms`,"--burger-transition-timing-function":a}}),Ak=Fe((t,e)=>{const n=Pe("Burger",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,opened:d,children:f,transitionDuration:h,transitionTimingFunction:m,lineSize:v,attributes:b,...x}=n,S=ut({name:"Burger",classes:N$,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:b,vars:c,varsResolver:uQ});return g.jsxs(Br,{...S("root"),ref:e,...x,children:[g.jsx(De,{mod:["reduce-motion",{opened:d}],...S("burger")}),f]})});Ak.classes=N$;Ak.displayName="@mantine/core/Burger";var Nh={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const NR={orientation:"horizontal"},dQ=(t,{borderWidth:e})=>({group:{"--button-border-width":Oe(e)}}),_k=Fe((t,e)=>{const n=Pe("ButtonGroup",NR,t),{className:r,style:i,classNames:a,styles:o,unstyled:s,orientation:c,vars:d,borderWidth:f,variant:h,mod:m,attributes:v,...b}=Pe("ButtonGroup",NR,t),x=ut({name:"ButtonGroup",props:n,classes:Nh,className:r,style:i,classNames:a,styles:o,unstyled:s,attributes:v,vars:d,varsResolver:dQ,rootSelector:"group"});return g.jsx(De,{...x("group"),ref:e,variant:h,mod:[{"data-orientation":c},m],role:"group",...b})});_k.classes=Nh;_k.displayName="@mantine/core/ButtonGroup";const fQ=(t,{radius:e,color:n,gradient:r,variant:i,autoContrast:a,size:o})=>{const s=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:a});return{groupSection:{"--section-height":jt(o,"section-height"),"--section-padding-x":jt(o,"section-padding-x"),"--section-fz":o?.includes("compact")?cr(o.replace("compact-","")):cr(o),"--section-radius":e===void 0?void 0:En(e),"--section-bg":n||i?s.background:void 0,"--section-color":s.color,"--section-bd":n||i?s.border:void 0}}},Ek=Fe((t,e)=>{const n=Pe("ButtonGroupSection",null,t),{className:r,style:i,classNames:a,styles:o,unstyled:s,vars:c,variant:d,gradient:f,radius:h,autoContrast:m,attributes:v,...b}=n,x=ut({name:"ButtonGroupSection",props:n,classes:Nh,className:r,style:i,classNames:a,styles:o,unstyled:s,attributes:v,vars:c,varsResolver:fQ,rootSelector:"groupSection"});return g.jsx(De,{...x("groupSection"),ref:e,variant:d,...b})});Ek.classes=Nh;Ek.displayName="@mantine/core/ButtonGroupSection";const hQ={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Oe(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},pQ=(t,{radius:e,color:n,gradient:r,variant:i,size:a,justify:o,autoContrast:s})=>{const c=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:s});return{root:{"--button-justify":o,"--button-height":jt(a,"button-height"),"--button-padding-x":jt(a,"button-padding-x"),"--button-fz":a?.includes("compact")?cr(a.replace("compact-","")):cr(a),"--button-radius":e===void 0?void 0:En(e),"--button-bg":n||i?c.background:void 0,"--button-hover":n||i?c.hover:void 0,"--button-color":c.color,"--button-bd":n||i?c.border:void 0,"--button-hover-color":n||i?c.hoverColor:void 0}}},_t=Ki((t,e)=>{const n=Pe("Button",null,t),{style:r,vars:i,className:a,color:o,disabled:s,children:c,leftSection:d,rightSection:f,fullWidth:h,variant:m,radius:v,loading:b,loaderProps:x,gradient:S,classNames:C,styles:T,unstyled:E,"data-disabled":k,autoContrast:M,mod:D,attributes:j,...I}=n,B=ut({name:"Button",props:n,classes:Nh,className:a,style:r,classNames:C,styles:T,unstyled:E,attributes:j,vars:i,varsResolver:pQ}),G=!!d,V=!!f;return g.jsxs(Br,{ref:e,...B("root",{active:!s&&!b&&!k}),unstyled:E,variant:m,disabled:s||b,mod:[{disabled:s||k,loading:b,block:h,"with-left-section":G,"with-right-section":V},D],...I,children:[typeof b=="boolean"&&g.jsx(Wo,{mounted:b,transition:hQ,duration:150,children:K=>g.jsx(De,{component:"span",...B("loader",{style:K}),"aria-hidden":!0,children:g.jsx(ji,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...x})})}),g.jsxs("span",{...B("inner"),children:[d&&g.jsx(De,{component:"span",...B("section"),mod:{position:"left"},children:d}),g.jsx(De,{component:"span",mod:{loading:b},...B("label"),children:c}),f&&g.jsx(De,{component:"span",...B("section"),mod:{position:"right"},children:f})]})]})});_t.classes=Nh;_t.displayName="@mantine/core/Button";_t.Group=_k;_t.GroupSection=Ek;var I$={root:"m_4451eb3a"};const qa=Ki((t,e)=>{const n=Pe("Center",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,inline:d,mod:f,attributes:h,...m}=n,v=ut({name:"Center",props:n,classes:I$,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:h,vars:c});return g.jsx(De,{ref:e,mod:[{inline:d},f],...v("root"),...m})});qa.classes=I$;qa.displayName="@mantine/core/Center";var z$={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const IR={withShadow:!0},mQ=(t,{radius:e,size:n})=>({root:{"--cs-radius":e===void 0?void 0:En(e),"--cs-size":Oe(n)}}),ox=Ki((t,e)=>{const n=Pe("ColorSwatch",IR,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,color:d,size:f,radius:h,withShadow:m,children:v,variant:b,attributes:x,...S}=Pe("ColorSwatch",IR,n),C=ut({name:"ColorSwatch",props:n,classes:z$,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:x,vars:c,varsResolver:mQ});return g.jsxs(De,{ref:e,variant:b,size:f,...C("root",{focusable:!0}),...S,children:[g.jsx("span",{...C("alphaOverlay")}),m&&g.jsx("span",{...C("shadowOverlay")}),g.jsx("span",{...C("colorOverlay",{style:{backgroundColor:d}})}),g.jsx("span",{...C("childrenOverlay"),children:v})]})});ox.classes=z$;ox.displayName="@mantine/core/ColorSwatch";var B$={root:"m_7485cace"};const gQ=(t,{size:e,fluid:n})=>({root:{"--container-size":n?void 0:jt(e,"container-size")}}),gg=Fe((t,e)=>{const n=Pe("Container",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,fluid:d,mod:f,attributes:h,strategy:m,...v}=n,b=ut({name:"Container",classes:B$,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:h,vars:c,varsResolver:gQ});return g.jsx(De,{ref:e,mod:[{fluid:d,strategy:m||"block"},f],...b("root"),...v})});gg.classes=B$;gg.displayName="@mantine/core/Container";var $$={root:"m_3eebeb36",label:"m_9e365f20"};const vQ={orientation:"horizontal"},yQ=(t,{color:e,variant:n,size:r})=>({root:{"--divider-color":e?Kn(e,t):void 0,"--divider-border-style":n,"--divider-size":jt(r,"divider-size")}}),Os=Fe((t,e)=>{const n=Pe("Divider",vQ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,color:d,orientation:f,label:h,labelPosition:m,mod:v,attributes:b,...x}=n,S=ut({name:"Divider",classes:$$,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:b,vars:c,varsResolver:yQ});return g.jsx(De,{ref:e,mod:[{orientation:f,"with-label":!!h},v],...S("root"),...x,role:"separator",children:h&&g.jsx(De,{component:"span",mod:{position:m},...S("label"),children:h})})});Os.classes=$$;Os.displayName="@mantine/core/Divider";const bQ={multiple:!1},F$=w.forwardRef((t,e)=>{const{onChange:n,children:r,multiple:i,accept:a,name:o,form:s,resetRef:c,disabled:d,capture:f,inputProps:h,...m}=Pe("FileButton",bQ,t),v=w.useRef(null),b=()=>{!d&&v.current?.click()},x=C=>{if(C.currentTarget.files===null)return n(i?[]:null);n(i?Array.from(C.currentTarget.files):C.currentTarget.files[0]||null)};return lh(c,()=>{v.current&&(v.current.value="")}),g.jsxs(g.Fragment,{children:[g.jsx("input",{style:{display:"none"},type:"file",accept:a,multiple:i,onChange:x,ref:kr(e,v),name:o,form:s,capture:f,...h}),r({onClick:b,...m})]})});F$.displayName="@mantine/core/FileButton";const xQ=({value:t})=>g.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(t)?t.map(e=>e.name).join(", "):t?.name}),wQ={valueComponent:xQ,size:"sm"},Tk=Fe((t,e)=>{const n=Pe("FileInput",wQ,t),{unstyled:r,vars:i,onChange:a,value:o,defaultValue:s,multiple:c,accept:d,name:f,form:h,valueComponent:m,clearable:v,clearButtonProps:b,readOnly:x,capture:S,fileInputProps:C,rightSection:T,size:E,placeholder:k,component:M,resetRef:D,classNames:j,styles:I,attributes:B,...G}=n,V=w.useRef(null),{resolvedClassNames:K,resolvedStyles:te}=ka({classNames:j,styles:I,props:n}),[X,J]=Ur({value:o,defaultValue:s,onChange:a,finalValue:c?[]:null}),L=Array.isArray(X)?X.length!==0:X!==null,U=T||(v&&L&&!x?g.jsx(zs,{...b,variant:"subtle",onClick:()=>J(c?[]:null),size:E,unstyled:r}):null);return w.useEffect(()=>{(Array.isArray(X)&&X.length===0||X===null)&&V.current?.()},[X]),g.jsx(F$,{onChange:J,multiple:c,accept:d,name:f,form:h,resetRef:kr(V,D),disabled:x,capture:S,inputProps:C,children:F=>g.jsx(Wi,{component:M||"button",ref:e,rightSection:U,...F,...G,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:n,unstyled:r,size:E,classNames:j,styles:I,attributes:B,children:L?g.jsx(m,{value:X}):g.jsx(qn.Placeholder,{__staticSelector:"FileInput",classNames:K,styles:te,attributes:B,children:k})})})});Tk.classes=Wi.classes;Tk.displayName="@mantine/core/FileInput";const SQ=Tk;var U$={root:"m_9e117634"};const CQ=(t,{radius:e,fit:n})=>({root:{"--image-radius":e===void 0?void 0:En(e),"--image-object-fit":n}}),kk=Ki((t,e)=>{const n=Pe("Image",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,onError:d,src:f,radius:h,fit:m,fallbackSrc:v,mod:b,attributes:x,...S}=n,[C,T]=w.useState(!f);w.useEffect(()=>T(!f),[f]);const E=ut({name:"Image",classes:U$,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:x,vars:c,varsResolver:CQ});return C&&v?g.jsx(De,{component:"img",ref:e,src:v,...E("root"),onError:d,mod:["fallback",b],...S}):g.jsx(De,{component:"img",ref:e,...E("root"),src:f,onError:k=>{d?.(k),T(!0)},mod:b,...S})});kk.classes=U$;kk.displayName="@mantine/core/Image";function Ab(){return Ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ab.apply(null,arguments)}function Pk(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var AQ=w.useLayoutEffect,_Q=function(e){var n=sr.useRef(e);return AQ(function(){n.current=e}),n},zR=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},EQ=function(e,n){var r=sr.useRef();return sr.useCallback(function(i){e.current=i,r.current&&zR(r.current,null),r.current=n,n&&zR(n,i)},[n])},BR={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},TQ=function(e){Object.keys(BR).forEach(function(n){e.style.setProperty(n,BR[n],"important")})},$R=TQ,ea=null,FR=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function kQ(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),ea||(ea=document.createElement("textarea"),ea.setAttribute("tabindex","-1"),ea.setAttribute("aria-hidden","true"),$R(ea)),ea.parentNode===null&&document.body.appendChild(ea);var i=t.paddingSize,a=t.borderSize,o=t.sizingStyle,s=o.boxSizing;Object.keys(o).forEach(function(m){var v=m;ea.style[v]=o[v]}),$R(ea),ea.value=e;var c=FR(ea,t);ea.value=e,c=FR(ea,t),ea.value="x";var d=ea.scrollHeight-i,f=d*n;s==="border-box"&&(f=f+i+a),c=Math.max(f,c);var h=d*r;return s==="border-box"&&(h=h+i+a),c=Math.min(h,c),[c,d]}var UR=function(){},PQ=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},OQ=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],MQ=!!document.documentElement.currentStyle,DQ=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=PQ(OQ,n),i=r.boxSizing;if(i==="")return null;MQ&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var a=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:a,borderSize:o}},jQ=DQ;function Ok(t,e,n){var r=_Q(n);w.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(t)return t.addEventListener(e,i),function(){return t.removeEventListener(e,i)}},[])}var RQ=function(e,n){Ok(document.body,"reset",function(r){e.current.form===r.target&&n(r)})},LQ=function(e){Ok(window,"resize",e)},NQ=function(e){Ok(document.fonts,"loadingdone",e)},IQ=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],zQ=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,a=e.minRows,o=e.onChange,s=o===void 0?UR:o,c=e.onHeightChange,d=c===void 0?UR:c,f=Pk(e,IQ),h=f.value!==void 0,m=w.useRef(null),v=EQ(m,n),b=w.useRef(0),x=w.useRef(),S=function(){var E=m.current,k=r&&x.current?x.current:jQ(E);if(k){x.current=k;var M=kQ(k,E.value||E.placeholder||"x",a,i),D=M[0],j=M[1];b.current!==D&&(b.current=D,E.style.setProperty("height",D+"px","important"),d(D,{rowHeight:j}))}},C=function(E){h||S(),s(E)};return w.useLayoutEffect(S),RQ(m,function(){if(!h){var T=m.current.value;requestAnimationFrame(function(){var E=m.current;E&&T!==E.value&&S()})}}),LQ(S),NQ(S),w.createElement("textarea",Ab({},f,{onChange:C,ref:v}))},BQ=w.forwardRef(zQ);const $Q={size:"sm"},Mk=Fe((t,e)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:a,resize:o,...s}=Pe("Textarea",$Q,t),c=n&&e4()!=="test",d=c?{maxRows:r,minRows:i}:{};return g.jsx(Wi,{component:c?BQ:"textarea",ref:e,...s,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":o},...d})});Mk.classes=Wi.classes;Mk.displayName="@mantine/core/Textarea";const[FQ,UQ]=da("List component was not found in tree");var Dk={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const jk=Fe((t,e)=>{const n=Pe("ListItem",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,icon:c,children:d,mod:f,...h}=n,m=UQ(),v=c||m.icon,b={classNames:r,styles:o};return g.jsx(De,{...m.getStyles("item",{...b,className:i,style:a}),component:"li",mod:[{"with-icon":!!v,centered:m.center},f],ref:e,...h,children:g.jsxs("div",{...m.getStyles("itemWrapper",b),children:[v&&g.jsx("span",{...m.getStyles("itemIcon",b),children:v}),g.jsx("span",{...m.getStyles("itemLabel",b),children:d})]})})});jk.classes=Dk;jk.displayName="@mantine/core/ListItem";const HQ={type:"unordered"},VQ=(t,{size:e,spacing:n})=>({root:{"--list-fz":cr(e),"--list-lh":Y5(e),"--list-spacing":zr(n)}}),Ua=Fe((t,e)=>{const n=Pe("List",HQ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,children:d,type:f,withPadding:h,icon:m,spacing:v,center:b,listStyleType:x,mod:S,attributes:C,...T}=n,E=ut({name:"List",classes:Dk,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:C,vars:c,varsResolver:VQ});return g.jsx(FQ,{value:{center:b,icon:m,getStyles:E},children:g.jsx(De,{...E("root",{style:{listStyleType:x}}),component:f==="unordered"?"ul":"ol",mod:[{"with-padding":h,type:m?"none":x},S],ref:e,...T,children:d})})});Ua.classes=Dk;Ua.displayName="@mantine/core/List";Ua.Item=jk;var H$={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const HR={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Wa("overlay")},qQ=(t,{zIndex:e})=>({root:{"--lo-z-index":e?.toString()}}),sx=Fe((t,e)=>{const n=Pe("LoadingOverlay",HR,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,transitionProps:d,loaderProps:f,overlayProps:h,visible:m,zIndex:v,attributes:b,...x}=n,S=Xr(),C=ut({name:"LoadingOverlay",classes:H$,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:b,vars:c,varsResolver:qQ}),T={...HR.overlayProps,...h};return g.jsx(Wo,{transition:"fade",...d,mounted:!!m,children:E=>g.jsxs(De,{...C("root",{style:E}),ref:e,...x,children:[g.jsx(ji,{...C("loader"),unstyled:s,...f}),g.jsx(dh,{...T,...C("overlay"),darkHidden:!0,unstyled:s,color:h?.color||S.white}),g.jsx(dh,{...T,...C("overlay"),lightHidden:!0,unstyled:s,color:h?.color||S.colors.dark[5]})]})})});sx.classes=H$;sx.displayName="@mantine/core/LoadingOverlay";var Vl={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const[GQ,Ih]=da("Modal component was not found in tree"),lx=Fe((t,e)=>{const n=Pe("ModalBody",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,...c}=n,d=Ih();return g.jsx(a$,{ref:e,...d.getStyles("body",{classNames:r,style:a,styles:o,className:i}),...c})});lx.classes=Vl;lx.displayName="@mantine/core/ModalBody";const cx=Fe((t,e)=>{const n=Pe("ModalCloseButton",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,...c}=n,d=Ih();return g.jsx(o$,{ref:e,...d.getStyles("close",{classNames:r,style:a,styles:o,className:i}),...c})});cx.classes=Vl;cx.displayName="@mantine/core/ModalCloseButton";const ux=Fe((t,e)=>{const n=Pe("ModalContent",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,children:c,__hidden:d,...f}=n,h=Ih(),m=h.scrollAreaComponent||JX;return g.jsx(s$,{...h.getStyles("content",{className:i,style:a,styles:o,classNames:r}),innerProps:h.getStyles("inner",{className:i,style:a,styles:o,classNames:r}),"data-full-screen":h.fullScreen||void 0,"data-modal-content":!0,"data-hidden":d||void 0,ref:e,...f,children:g.jsx(m,{style:{maxHeight:h.fullScreen?"100dvh":`calc(100dvh - (${Oe(h.yOffset)} * 2))`},children:c})})});ux.classes=Vl;ux.displayName="@mantine/core/ModalContent";const dx=Fe((t,e)=>{const n=Pe("ModalHeader",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,...c}=n,d=Ih();return g.jsx(l$,{ref:e,...d.getStyles("header",{classNames:r,style:a,styles:o,className:i}),...c})});dx.classes=Vl;dx.displayName="@mantine/core/ModalHeader";const fx=Fe((t,e)=>{const n=Pe("ModalOverlay",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,...c}=n,d=Ih();return g.jsx(c$,{ref:e,...d.getStyles("overlay",{classNames:r,style:a,styles:o,className:i}),...c})});fx.classes=Vl;fx.displayName="@mantine/core/ModalOverlay";const YQ={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Wa("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},KQ=(t,{radius:e,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":e===void 0?void 0:En(e),"--modal-size":jt(n,"modal-size"),"--modal-y-offset":Oe(r),"--modal-x-offset":Oe(i)}}),hx=Fe((t,e)=>{const n=Pe("ModalRoot",YQ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,yOffset:d,scrollAreaComponent:f,radius:h,fullScreen:m,centered:v,xOffset:b,__staticSelector:x,attributes:S,...C}=n,T=ut({name:x,classes:Vl,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:S,vars:c,varsResolver:KQ});return g.jsx(GQ,{value:{yOffset:d,scrollAreaComponent:f,getStyles:T,fullScreen:m},children:g.jsx(i$,{ref:e,...T("root"),"data-full-screen":m||void 0,"data-centered":v||void 0,"data-offset-scrollbars":f===Ul.Autosize||void 0,unstyled:s,...C})})});hx.classes=Vl;hx.displayName="@mantine/core/ModalRoot";const[WQ,XQ]=Zc();function V$({children:t}){const[e,n]=w.useState([]),[r,i]=w.useState(Wa("modal"));return g.jsx(WQ,{value:{stack:e,addModal:(a,o)=>{n(s=>[...new Set([...s,a])]),i(s=>typeof o=="number"&&typeof s=="number"?Math.max(s,o):s)},removeModal:a=>n(o=>o.filter(s=>s!==a)),getZIndex:a=>`calc(${r} + ${e.indexOf(a)} + 1)`,currentId:e[e.length-1],maxZIndex:r},children:t})}V$.displayName="@mantine/core/ModalStack";const px=Fe((t,e)=>{const n=Pe("ModalTitle",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,...c}=n,d=Ih();return g.jsx(u$,{ref:e,...d.getStyles("title",{classNames:r,style:a,styles:o,className:i}),...c})});px.classes=Vl;px.displayName="@mantine/core/ModalTitle";const ZQ={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Wa("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},$r=Fe((t,e)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:a,closeButtonProps:o,children:s,radius:c,opened:d,stackId:f,zIndex:h,...m}=Pe("Modal",ZQ,t),v=XQ(),b=!!n||a,x=v&&f?{closeOnEscape:v.currentId===f,trapFocus:v.currentId===f,zIndex:v.getZIndex(f)}:{},S=r===!1?!1:f&&v?v.currentId===f:d;return w.useEffect(()=>{v&&f&&(d?v.addModal(f,h||Wa("modal")):v.removeModal(f))},[d,f,h]),g.jsxs(hx,{ref:e,radius:c,opened:d,zIndex:v&&f?v.getZIndex(f):h,...m,...x,children:[r&&g.jsx(fx,{visible:S,transitionProps:v&&f?{duration:0}:void 0,...i}),g.jsxs(ux,{radius:c,__hidden:v&&f&&d?f!==v.currentId:!1,children:[b&&g.jsxs(dx,{children:[n&&g.jsx(px,{children:n}),a&&g.jsx(cx,{...o})]}),g.jsx(lx,{children:s})]})]})});$r.classes=Vl;$r.displayName="@mantine/core/Modal";$r.Root=hx;$r.Overlay=fx;$r.Content=ux;$r.Body=lx;$r.Header=dx;$r.Title=px;$r.CloseButton=cx;$r.Stack=V$;const[QQ,Rk]=Zc();var mx={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const[JQ,eJ]=Zc(),tJ=(t,{gap:e},{size:n})=>({group:{"--pg-gap":e!==void 0?jt(e):jt(n,"pg-gap")}}),Lk=Fe((t,e)=>{const n=Pe("PillGroup",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,size:d,disabled:f,attributes:h,...m}=n,b=Rk()?.size||d||void 0,x=ut({name:"PillGroup",classes:mx,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:h,vars:c,varsResolver:tJ,stylesCtx:{size:b},rootSelector:"group"});return g.jsx(JQ,{value:{size:b,disabled:f},children:g.jsx(De,{ref:e,size:b,...x("group"),...m})})});Lk.classes=mx;Lk.displayName="@mantine/core/PillGroup";const nJ={variant:"default"},rJ=(t,{radius:e},{size:n})=>({root:{"--pill-fz":jt(n,"pill-fz"),"--pill-height":jt(n,"pill-height"),"--pill-radius":e===void 0?void 0:En(e)}}),hd=Fe((t,e)=>{const n=Pe("Pill",nJ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,variant:d,children:f,withRemoveButton:h,onRemove:m,removeButtonProps:v,radius:b,size:x,disabled:S,mod:C,attributes:T,...E}=n,k=eJ(),M=Rk(),D=x||k?.size||void 0,j=M?.variant==="filled"?"contrast":d||"default",I=ut({name:"Pill",classes:mx,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:T,vars:c,varsResolver:rJ,stylesCtx:{size:D}});return g.jsxs(De,{component:"span",ref:e,variant:j,size:D,...I("root",{variant:j}),mod:[{"with-remove":h&&!S,disabled:S||k?.disabled},C],...E,children:[g.jsx("span",{...I("label"),children:f}),h&&g.jsx(zs,{variant:"transparent",radius:b,tabIndex:-1,"aria-hidden":!0,unstyled:s,...v,...I("remove",{className:v?.className,style:v?.style}),onMouseDown:B=>{B.preventDefault(),B.stopPropagation(),v?.onMouseDown?.(B)},onClick:B=>{B.stopPropagation(),m?.(),v?.onClick?.(B)}})]})});hd.classes=mx;hd.displayName="@mantine/core/Pill";hd.Group=Lk;var q$={field:"m_45c4369d"};const iJ={type:"visible"},Nk=Fe((t,e)=>{const n=Pe("PillsInputField",iJ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,type:d,disabled:f,id:h,pointer:m,mod:v,attributes:b,...x}=n,S=Rk(),C=jh(),T=ut({name:"PillsInputField",classes:q$,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:b,rootSelector:"field"}),E=f||S?.disabled;return g.jsx(De,{component:"input",ref:kr(e,S?.fieldRef),"data-type":d,disabled:E,mod:[{disabled:E,pointer:m},v],...T("field"),...x,id:C?.inputId||h,"aria-invalid":S?.hasError,"aria-describedby":C?.describedBy,type:"text",onMouseDown:k=>!m&&k.stopPropagation()})});Nk.classes=q$;Nk.displayName="@mantine/core/PillsInputField";const aJ={size:"sm"},mh=Fe((t,e)=>{const n=Pe("PillsInput",aJ,t),{children:r,onMouseDown:i,onClick:a,size:o,disabled:s,__staticSelector:c,error:d,variant:f,...h}=n,m=w.useRef(null);return g.jsx(QQ,{value:{fieldRef:m,size:o,disabled:s,hasError:!!d,variant:f},children:g.jsx(Wi,{size:o,error:d,variant:f,component:"div",ref:e,"data-no-overflow":!0,onMouseDown:v=>{v.preventDefault(),i?.(v),m.current?.focus()},onClick:v=>{v.preventDefault(),v.currentTarget.closest("fieldset")?.disabled||(m.current?.focus(),a?.(v))},...h,multiline:!0,disabled:s,__staticSelector:c||"PillsInput",withAria:!1,children:r})})});mh.displayName="@mantine/core/PillsInput";mh.Field=Nk;function oJ({data:t,value:e}){const n=e.map(i=>i.trim().toLowerCase());return t.reduce((i,a)=>(fd(a)?i.push({group:a.group,items:a.items.filter(o=>n.indexOf(o.value.toLowerCase().trim())===-1)}):n.indexOf(a.value.toLowerCase().trim())===-1&&i.push(a),i),[])}const VR={xs:41,sm:50,md:60,lg:72,xl:89},sJ={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:",",clearSearchOnChange:!0,openOnFocus:!0,size:"sm"},gx=Fe((t,e)=>{const n=Pe("MultiSelect",sJ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,size:d,value:f,defaultValue:h,onChange:m,onKeyDown:v,variant:b,data:x,dropdownOpened:S,defaultDropdownOpened:C,onDropdownOpen:T,onDropdownClose:E,selectFirstOptionOnChange:k,selectFirstOptionOnDropdownOpen:M,onOptionSubmit:D,comboboxProps:j,filter:I,limit:B,withScrollArea:G,maxDropdownHeight:V,searchValue:K,defaultSearchValue:te,onSearchChange:X,readOnly:J,disabled:L,onFocus:U,onBlur:F,radius:q,rightSection:W,rightSectionWidth:z,rightSectionPointerEvents:Y,rightSectionProps:ne,leftSection:ie,leftSectionWidth:ue,leftSectionPointerEvents:we,leftSectionProps:be,inputContainer:qe,inputWrapperOrder:ae,withAsterisk:se,labelProps:Le,descriptionProps:de,errorProps:He,wrapperProps:Re,description:ct,label:Qe,error:Ue,maxValues:We,searchable:rt,nothingFoundMessage:Je,withCheckIcon:St,withAlignedLabels:ft,checkIconPosition:vt,hidePickedOptions:Be,withErrorStyles:at,name:Ge,form:Ve,id:Jt,clearable:bn,clearButtonProps:Vt,hiddenInputProps:Tn,placeholder:Yt,hiddenInputValuesDivider:Xn,required:xn,mod:Nt,renderOption:et,onRemove:gr,onClear:wn,scrollAreaProps:Jr,chevronColor:nt,attributes:un,clearSearchOnChange:ur,openOnFocus:kn,...ha}=n,ei=hi(Jt),Oa=sk(x),Mn=ix(Oa),Hr=w.useRef({}),hn=ax({opened:S,defaultOpened:C,onDropdownOpen:()=>{T?.(),M&&hn.selectFirstOption()},onDropdownClose:()=>{E?.(),hn.resetSelectedOption()}}),{styleProps:Xa,rest:{type:Za,autoComplete:lt,...Rt}}=Qc(ha),[nn,Vr]=Ur({value:f,defaultValue:h,finalValue:[],onChange:m}),[qr,Ma]=Ur({value:K,defaultValue:te,finalValue:"",onChange:X}),ti=qt=>{Ma(qt),hn.resetSelectedOption()},fn=ut({name:"MultiSelect",classes:{},props:n,classNames:r,styles:o,unstyled:s,attributes:un}),{resolvedClassNames:Un,resolvedStyles:Pr}=ka({props:n,styles:o,classNames:r}),Qa=qt=>{v?.(qt),qt.key===" "&&!rt&&(qt.preventDefault(),hn.toggleDropdown()),qt.key==="Backspace"&&qr.length===0&&nn.length>0&&(gr?.(nn[nn.length-1]),Vr(nn.slice(0,nn.length-1)))},su=nn.map((qt,pn)=>{const Zi=Mn[qt]||Hr.current[qt];return g.jsx(hd,{withRemoveButton:!J&&!Mn[qt]?.disabled,onRemove:()=>{Vr(nn.filter(ni=>qt!==ni)),gr?.(qt)},unstyled:s,disabled:L,...fn("pill"),children:Zi?.label||qt},`${qt}-${pn}`)});w.useEffect(()=>{k&&hn.selectFirstOption()},[k,qr]),w.useEffect(()=>{nn.forEach(qt=>{qt in Mn&&(Hr.current[qt]=Mn[qt])})},[Mn,nn]);const pa=g.jsx(Wt.ClearButton,{...Vt,onClear:()=>{wn?.(),Vr([]),ti("")}}),zt=oJ({data:Oa,value:nn}),Nn=bn&&nn.length>0&&!L&&!J,yi=Nn?{paddingInlineEnd:VR[d]??VR.sm}:void 0;return g.jsxs(g.Fragment,{children:[g.jsxs(Wt,{store:hn,classNames:Un,styles:Pr,unstyled:s,size:d,readOnly:J,__staticSelector:"MultiSelect",attributes:un,onOptionSubmit:qt=>{D?.(qt),ur&&ti(""),hn.updateSelectedOptionIndex("selected"),nn.includes(Mn[qt].value)?(Vr(nn.filter(pn=>pn!==Mn[qt].value)),gr?.(Mn[qt].value)):nn.length<We&&Vr([...nn,Mn[qt].value])},...j,children:[g.jsx(Wt.DropdownTarget,{children:g.jsx(mh,{...Xa,__staticSelector:"MultiSelect",classNames:Un,styles:Pr,unstyled:s,size:d,className:i,style:a,variant:b,disabled:L,radius:q,__defaultRightSection:g.jsx(Wt.Chevron,{size:d,error:Ue,unstyled:s,color:nt}),__clearSection:pa,__clearable:Nn,rightSection:W,rightSectionPointerEvents:Y||"none",rightSectionWidth:z,rightSectionProps:ne,leftSection:ie,leftSectionWidth:ue,leftSectionPointerEvents:we,leftSectionProps:be,inputContainer:qe,inputWrapperOrder:ae,withAsterisk:se,labelProps:Le,descriptionProps:de,errorProps:He,wrapperProps:Re,description:ct,label:Qe,error:Ue,withErrorStyles:at,__stylesApiProps:{...n,rightSectionPointerEvents:Y||"none",multiline:!0},pointer:!rt,onClick:()=>rt?hn.openDropdown():hn.toggleDropdown(),"data-expanded":hn.dropdownOpened||void 0,id:ei,required:xn,mod:Nt,attributes:un,children:g.jsxs(hd.Group,{attributes:un,disabled:L,unstyled:s,...fn("pillsList",{style:yi}),children:[su,g.jsx(Wt.EventsTarget,{autoComplete:lt,children:g.jsx(mh.Field,{...Rt,ref:e,id:ei,placeholder:Yt,type:!rt&&!Yt?"hidden":"visible",...fn("inputField"),unstyled:s,onFocus:qt=>{U?.(qt),kn&&rt&&hn.openDropdown()},onBlur:qt=>{F?.(qt),hn.closeDropdown(),ti("")},onKeyDown:Qa,value:qr,onChange:qt=>{ti(qt.currentTarget.value),rt&&hn.openDropdown(),k&&hn.selectFirstOption()},disabled:L,readOnly:J||!rt,pointer:!rt})})]})})}),g.jsx(Ck,{data:Be?zt:Oa,hidden:J||L,filter:I,search:qr,limit:B,hiddenWhenEmpty:!Je,withScrollArea:G,maxDropdownHeight:V,filterOptions:rt,value:nn,checkIconPosition:vt,withCheckIcon:St,withAlignedLabels:ft,nothingFoundMessage:Je,unstyled:s,labelId:Qe?`${ei}-label`:void 0,"aria-label":Qe?void 0:ha["aria-label"],renderOption:et,scrollAreaProps:Jr})]}),g.jsx(Wt.HiddenInput,{name:Ge,valuesDivider:Xn,value:nn,form:Ve,disabled:L,...Tn})]})});gx.classes={...Wi.classes,...Wt.classes};gx.displayName="@mantine/core/MultiSelect";var G$={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const lJ=(t,{variant:e,color:n,childrenOffset:r,autoContrast:i})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,variant:e||"light",autoContrast:i});return{root:{"--nl-bg":n||e?a.background:void 0,"--nl-hover":n||e?a.hover:void 0,"--nl-color":n||e?a.color:void 0},children:{"--nl-offset":zr(r)}}},_b=Ki((t,e)=>{const n=Pe("NavLink",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,opened:d,defaultOpened:f,onChange:h,children:m,active:v,disabled:b,leftSection:x,rightSection:S,label:C,description:T,disableRightSectionRotation:E,noWrap:k,childrenOffset:M,autoContrast:D,mod:j,attributes:I,onClick:B,onKeyDown:G,...V}=n,K=ut({name:"NavLink",props:n,classes:G$,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:I,vars:c,varsResolver:lJ}),[te,X]=Ur({value:d,defaultValue:f,finalValue:!1,onChange:h}),J=!!m,L=U=>{B?.(U),J&&(U.preventDefault(),X(!te))};return g.jsxs(g.Fragment,{children:[g.jsxs(Br,{...K("root"),component:"a",ref:e,onClick:L,onKeyDown:U=>{G?.(U),U.nativeEvent.code==="Space"&&J&&(U.preventDefault(),X(!te))},unstyled:s,mod:[{disabled:b,active:v,expanded:te},j],...V,children:[x&&g.jsx(De,{component:"span",...K("section"),mod:{position:"left"},children:x}),g.jsxs(De,{...K("body"),mod:{"no-wrap":k},children:[g.jsx(De,{component:"span",...K("label"),children:C}),g.jsx(De,{component:"span",mod:{active:v},...K("description"),children:T})]}),(J||S!==void 0)&&g.jsx(De,{...K("section"),component:"span",mod:{rotate:te&&!E,position:"right"},children:J?S!==void 0?S:g.jsx(hh,{...K("chevron")}):S})]}),J&&g.jsx(ug,{in:te,...K("collapse"),children:g.jsx("div",{...K("children"),children:m})})]})});_b.classes=G$;_b.displayName="@mantine/core/NavLink";var Y$={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const cJ={withCloseButton:!0},uJ=(t,{radius:e,color:n})=>({root:{"--notification-radius":e===void 0?void 0:En(e),"--notification-color":n?Kn(n,t):void 0}}),Ik=Fe((t,e)=>{const n=Pe("Notification",cJ,t),{className:r,color:i,radius:a,loading:o,withCloseButton:s,withBorder:c,title:d,icon:f,children:h,onClose:m,closeButtonProps:v,classNames:b,style:x,styles:S,unstyled:C,vars:T,mod:E,loaderProps:k,role:M,attributes:D,...j}=n,I=ut({name:"Notification",classes:Y$,props:n,className:r,style:x,classNames:b,styles:S,unstyled:C,attributes:D,vars:T,varsResolver:uJ});return g.jsxs(De,{...I("root"),mod:[{"data-with-icon":!!f||o,"data-with-border":c},E],ref:e,role:M||"alert",...j,children:[f&&!o&&g.jsx("div",{...I("icon"),children:f}),o&&g.jsx(ji,{size:28,color:i,...k,...I("loader")}),g.jsxs("div",{...I("body"),children:[d&&g.jsx("div",{...I("title"),children:d}),g.jsx(De,{...I("description"),mod:{"data-with-title":!!d},children:h})]}),s&&g.jsx(zs,{iconSize:16,color:"gray",...v,unstyled:C,onClick:m,...I("closeButton")})]})});Ik.classes=Y$;Ik.displayName="@mantine/core/Notification";function K$(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Im;(function(t){t.event="event",t.props="prop"})(Im||(Im={}));function zc(){}function dJ(t){var e,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return e&&r.length===e.length&&r.every(function(a,o){return a===e[o]})||(e=r,n=t.apply(void 0,r)),n}}function zm(t){return!!(t||"").match(/\d/)}function eh(t){return t==null}function fJ(t){return typeof t=="number"&&isNaN(t)}function W$(t){return eh(t)||fJ(t)||typeof t=="number"&&!isFinite(t)}function X$(t){return t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function hJ(t){switch(t){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;default:return/(\d)(?=(\d{3})+(?!\d))/g}}function pJ(t,e,n){var r=hJ(n),i=t.search(/[1-9]/);return i=i===-1?t.length:i,t.substring(0,i)+t.substring(i,t.length).replace(r,"$1"+e)}function mJ(t){var e=w.useRef(t);e.current=t;var n=w.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return e.current.apply(e,r)});return n.current}function zk(t,e){e===void 0&&(e=!0);var n=t[0]==="-",r=n&&e;t=t.replace("-","");var i=t.split("."),a=i[0],o=i[1]||"";return{beforeDecimal:a,afterDecimal:o,hasNegation:n,addNegation:r}}function gJ(t){if(!t)return t;var e=t[0]==="-";e&&(t=t.substring(1,t.length));var n=t.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(e?"-":"")+r+(i?"."+i:"")}function Z$(t,e,n){for(var r="",i=n?"0":"",a=0;a<=e-1;a++)r+=t[a]||i;return r}function qR(t,e){return Array(e+1).join(t)}function Q$(t){var e=t+"",n=e[0]==="-"?"-":"";n&&(e=e.substring(1));var r=e.split(/[eE]/g),i=r[0],a=r[1];if(a=Number(a),!a)return n+i;i=i.replace(".","");var o=1+a,s=i.length;return o<0?i="0."+qR("0",Math.abs(o))+i:o>=s?i=i+qR("0",o-s):i=(i.substring(0,o)||"0")+"."+i.substring(o),n+i}function GR(t,e,n){if(["","-"].indexOf(t)!==-1)return t;var r=(t.indexOf(".")!==-1||n)&&e,i=zk(t),a=i.beforeDecimal,o=i.afterDecimal,s=i.hasNegation,c=parseFloat("0."+(o||"0")),d=o.length<=e?"0."+o:c.toFixed(e),f=d.split("."),h=a;a&&Number(f[0])&&(h=a.split("").reverse().reduce(function(x,S,C){return x.length>C?(Number(x[0])+Number(S)).toString()+x.substring(1,x.length):S+x},f[0]));var m=Z$(f[1]||"",e,n),v=s?"-":"",b=r?".":"";return""+v+h+b+m}function Hu(t,e){if(t.value=t.value,t!==null){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select(),!0}return t.selectionStart||t.selectionStart===0?(t.focus(),t.setSelectionRange(e,e),!0):(t.focus(),!1)}}var J$=dJ(function(t,e){for(var n=0,r=0,i=t.length,a=e.length;t[n]===e[n]&&n<i;)n++;for(;t[i-1-r]===e[a-1-r]&&a-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:a-r}}}),vJ=function(t,e){var n=Math.min(t.selectionStart,e);return{from:{start:n,end:t.selectionEnd},to:{start:n,end:e}}};function yJ(t,e,n){return Math.min(Math.max(t,e),n)}function ZS(t){return Math.max(t.selectionStart,t.selectionEnd)}function bJ(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function xJ(t){return{from:{start:0,end:0},to:{start:0,end:t.length},lastValue:""}}function wJ(t){var e=t.currentValue,n=t.formattedValue,r=t.currentValueIndex,i=t.formattedValueIndex;return e[r]===n[i]}function SJ(t,e,n,r,i,a,o){o===void 0&&(o=wJ);var s=i.findIndex(function(k){return k}),c=t.slice(0,s);!e&&!n.startsWith(c)&&(e=c,n=c+n,r=r+c.length);for(var d=n.length,f=t.length,h={},m=new Array(d),v=0;v<d;v++){m[v]=-1;for(var b=0,x=f;b<x;b++){var S=o({currentValue:n,lastValue:e,formattedValue:t,currentValueIndex:v,formattedValueIndex:b});if(S&&h[b]!==!0){m[v]=b,h[b]=!0;break}}}for(var C=r;C<d&&(m[C]===-1||!a(n[C]));)C++;var T=C===d||m[C]===-1?f:m[C];for(C=r-1;C>0&&m[C]===-1;)C--;var E=C===-1||m[C]===-1?0:m[C]+1;return E>T?T:r-E<T-r?E:T}function YR(t,e,n,r){var i=t.length;if(e=yJ(e,0,i),r==="left"){for(;e>=0&&!n[e];)e--;e===-1&&(e=n.indexOf(!0))}else{for(;e<=i&&!n[e];)e++;e>i&&(e=n.lastIndexOf(!0))}return e===-1&&(e=i),e}function CJ(t){for(var e=Array.from({length:t.length+1}).map(function(){return!0}),n=0,r=e.length;n<r;n++)e[n]=!!(zm(t[n])||zm(t[n-1]));return e}function eF(t,e,n,r,i,a){a===void 0&&(a=zc);var o=mJ(function(b,x){var S,C;return W$(b)?(C="",S=""):typeof b=="number"||x?(C=typeof b=="number"?Q$(b):b,S=r(C)):(C=i(b,void 0),S=r(C)),{formattedValue:S,numAsString:C}}),s=w.useState(function(){return o(eh(t)?e:t,n)}),c=s[0],d=s[1],f=function(b,x){b.formattedValue!==c.formattedValue&&d({formattedValue:b.formattedValue,numAsString:b.value}),a(b,x)},h=t,m=n;eh(t)&&(h=c.numAsString,m=!0);var v=o(h,m);return w.useMemo(function(){d(v)},[v.formattedValue]),[c,f]}function AJ(t){return t.replace(/[^0-9]/g,"")}function _J(t){return t}function EJ(t){var e=t.type;e===void 0&&(e="text");var n=t.displayType;n===void 0&&(n="input");var r=t.customInput,i=t.renderText,a=t.getInputRef,o=t.format;o===void 0&&(o=_J);var s=t.removeFormatting;s===void 0&&(s=AJ);var c=t.defaultValue,d=t.valueIsNumericString,f=t.onValueChange,h=t.isAllowed,m=t.onChange;m===void 0&&(m=zc);var v=t.onKeyDown;v===void 0&&(v=zc);var b=t.onMouseUp;b===void 0&&(b=zc);var x=t.onFocus;x===void 0&&(x=zc);var S=t.onBlur;S===void 0&&(S=zc);var C=t.value,T=t.getCaretBoundary;T===void 0&&(T=CJ);var E=t.isValidInputCharacter;E===void 0&&(E=zm);var k=t.isCharacterSame,M=K$(t,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),D=eF(C,c,!!d,o,s,f),j=D[0],I=j.formattedValue,B=j.numAsString,G=D[1],V=w.useRef(),K=w.useRef({formattedValue:I,numAsString:B}),te=function(Ue,We){K.current={formattedValue:Ue.formattedValue,numAsString:Ue.value},G(Ue,We)},X=w.useState(!1),J=X[0],L=X[1],U=w.useRef(null),F=w.useRef({setCaretTimeout:null,focusTimeout:null});w.useEffect(function(){return L(!0),function(){clearTimeout(F.current.setCaretTimeout),clearTimeout(F.current.focusTimeout)}},[]);var q=o,W=function(Ue,We){var rt=parseFloat(We);return{formattedValue:Ue,value:We,floatValue:isNaN(rt)?void 0:rt}},z=function(Ue,We,rt){Ue.selectionStart===0&&Ue.selectionEnd===Ue.value.length||(Hu(Ue,We),F.current.setCaretTimeout=setTimeout(function(){Ue.value===rt&&Ue.selectionStart!==We&&Hu(Ue,We)},0))},Y=function(Ue,We,rt){return YR(Ue,We,T(Ue),rt)},ne=function(Ue,We,rt){var Je=T(We),St=SJ(We,I,Ue,rt,Je,E,k);return St=YR(We,St,Je),St},ie=function(Ue){var We=Ue.formattedValue;We===void 0&&(We="");var rt=Ue.input,Je=Ue.source,St=Ue.event,ft=Ue.numAsString,vt;if(rt){var Be=Ue.inputValue||rt.value,at=ZS(rt);rt.value=We,vt=ne(Be,We,at),vt!==void 0&&z(rt,vt,We)}We!==I&&te(W(We,ft),{event:St,source:Je})};w.useEffect(function(){var Ue=K.current,We=Ue.formattedValue,rt=Ue.numAsString;(I!==We||B!==rt)&&te(W(I,B),{event:void 0,source:Im.props})},[I,B]);var ue=U.current?ZS(U.current):void 0,we=typeof window<"u"?w.useLayoutEffect:w.useEffect;we(function(){var Ue=U.current;if(I!==K.current.formattedValue&&Ue){var We=ne(K.current.formattedValue,I,ue);Ue.value=I,z(Ue,We,I)}},[I]);var be=function(Ue,We,rt){var Je=We.target,St=V.current?vJ(V.current,Je.selectionEnd):J$(I,Ue),ft=Object.assign(Object.assign({},St),{lastValue:I}),vt=s(Ue,ft),Be=q(vt);if(vt=s(Be,void 0),h&&!h(W(Be,vt))){var at=We.target,Ge=ZS(at),Ve=ne(Ue,I,Ge);return at.value=I,z(at,Ve,I),!1}return ie({formattedValue:Be,numAsString:vt,inputValue:Ue,event:We,source:rt,input:We.target}),!0},qe=function(Ue,We){We===void 0&&(We=0);var rt=Ue.selectionStart,Je=Ue.selectionEnd;V.current={selectionStart:rt,selectionEnd:Je+We}},ae=function(Ue){var We=Ue.target,rt=We.value,Je=be(rt,Ue,Im.event);Je&&m(Ue),V.current=void 0},se=function(Ue){var We=Ue.target,rt=Ue.key,Je=We.selectionStart,St=We.selectionEnd,ft=We.value;ft===void 0&&(ft="");var vt;rt==="ArrowLeft"||rt==="Backspace"?vt=Math.max(Je-1,0):rt==="ArrowRight"?vt=Math.min(Je+1,ft.length):rt==="Delete"&&(vt=Je);var Be=0;rt==="Delete"&&Je===St&&(Be=1);var at=rt==="ArrowLeft"||rt==="ArrowRight";if(vt===void 0||Je!==St&&!at){v(Ue),qe(We,Be);return}var Ge=vt;if(at){var Ve=rt==="ArrowLeft"?"left":"right";Ge=Y(ft,vt,Ve),Ge!==vt&&Ue.preventDefault()}else rt==="Delete"&&!E(ft[vt])?Ge=Y(ft,vt,"right"):rt==="Backspace"&&!E(ft[vt])&&(Ge=Y(ft,vt,"left"));Ge!==vt&&z(We,Ge,ft),v(Ue),qe(We,Be)},Le=function(Ue){var We=Ue.target,rt=function(){var Je=We.selectionStart,St=We.selectionEnd,ft=We.value;if(ft===void 0&&(ft=""),Je===St){var vt=Y(ft,Je);vt!==Je&&z(We,vt,ft)}};rt(),requestAnimationFrame(function(){rt()}),b(Ue),qe(We)},de=function(Ue){Ue.persist&&Ue.persist();var We=Ue.target,rt=Ue.currentTarget;U.current=We,F.current.focusTimeout=setTimeout(function(){var Je=We.selectionStart,St=We.selectionEnd,ft=We.value;ft===void 0&&(ft="");var vt=Y(ft,Je);vt!==Je&&!(Je===0&&St===ft.length)&&z(We,vt,ft),x(Object.assign(Object.assign({},Ue),{currentTarget:rt}))},0)},He=function(Ue){U.current=null,clearTimeout(F.current.focusTimeout),clearTimeout(F.current.setCaretTimeout),S(Ue)},Re=J&&bJ()?"numeric":void 0,ct=Object.assign({inputMode:Re},M,{type:e,value:I,onChange:ae,onKeyDown:se,onMouseUp:Le,onFocus:de,onBlur:He});if(n==="text")return i?sr.createElement(sr.Fragment,null,i(I,M)||null):sr.createElement("span",Object.assign({},M,{ref:a}),I);if(r){var Qe=r;return sr.createElement(Qe,Object.assign({},ct,{ref:a}))}return sr.createElement("input",Object.assign({},ct,{ref:a}))}function KR(t,e){var n=e.decimalScale,r=e.fixedDecimalScale,i=e.prefix;i===void 0&&(i="");var a=e.suffix;a===void 0&&(a="");var o=e.allowNegative,s=e.thousandsGroupStyle;if(s===void 0&&(s="thousand"),t===""||t==="-")return t;var c=vx(e),d=c.thousandSeparator,f=c.decimalSeparator,h=n!==0&&t.indexOf(".")!==-1||n&&r,m=zk(t,o),v=m.beforeDecimal,b=m.afterDecimal,x=m.addNegation;return n!==void 0&&(b=Z$(b,n,!!r)),d&&(v=pJ(v,d,s)),i&&(v=i+v),a&&(b=b+a),x&&(v="-"+v),t=v+(h&&f||"")+b,t}function vx(t){var e=t.decimalSeparator;e===void 0&&(e=".");var n=t.thousandSeparator,r=t.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[e,"."]),{decimalSeparator:e,thousandSeparator:n,allowedDecimalSeparators:r}}function TJ(t,e){t===void 0&&(t="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(t),a=r.test(t);return t=t.replace(/-/g,""),i&&!a&&e&&(t="-"+t),t}function kJ(t,e){return new RegExp("(^-)|[0-9]|"+X$(t),"g")}function PJ(t,e,n){return t===""?!0:!e?.match(/\d/)&&!n?.match(/\d/)&&typeof t=="string"&&!isNaN(Number(t))}function OJ(t,e,n){var r;e===void 0&&(e=xJ(t));var i=n.allowNegative,a=n.prefix;a===void 0&&(a="");var o=n.suffix;o===void 0&&(o="");var s=n.decimalScale,c=e.from,d=e.to,f=d.start,h=d.end,m=vx(n),v=m.allowedDecimalSeparators,b=m.decimalSeparator,x=t[h]===b;if(zm(t)&&(t===a||t===o)&&e.lastValue==="")return t;if(h-f===1&&v.indexOf(t[f])!==-1){var S=s===0?"":b;t=t.substring(0,f)+S+t.substring(f+1,t.length)}var C=function(U,F,q){var W=!1,z=!1;a.startsWith("-")?W=!1:U.startsWith("--")?(W=!1,z=!0):o.startsWith("-")&&U.length===o.length?W=!1:U[0]==="-"&&(W=!0);var Y=W?1:0;return z&&(Y=2),Y&&(U=U.substring(Y),F-=Y,q-=Y),{value:U,start:F,end:q,hasNegation:W}},T=C(t,f,h),E=T.hasNegation;r=T,t=r.value,f=r.start,h=r.end;var k=C(e.lastValue,c.start,c.end),M=k.start,D=k.end,j=k.value,I=t.substring(f,h);t.length&&j.length&&(M>j.length-o.length||D<a.length)&&!(I&&o.startsWith(I))&&(t=j);var B=0;t.startsWith(a)?B+=a.length:f<a.length&&(B=f),t=t.substring(B),h-=B;var G=t.length,V=t.length-o.length;t.endsWith(o)?G=V:(h>V||h>t.length-o.length)&&(G=h),t=t.substring(0,G),t=TJ(E?"-"+t:t,i),t=(t.match(kJ(b))||[]).join("");var K=t.indexOf(b);t=t.replace(new RegExp(X$(b),"g"),function(U,F){return F===K?".":""});var te=zk(t,i),X=te.beforeDecimal,J=te.afterDecimal,L=te.addNegation;return d.end-d.start<c.end-c.start&&X===""&&x&&!parseFloat(J)&&(t=L?"-":""),t}function MJ(t,e){var n=e.prefix;n===void 0&&(n="");var r=e.suffix;r===void 0&&(r="");var i=Array.from({length:t.length+1}).map(function(){return!0}),a=t[0]==="-";i.fill(!1,0,n.length+(a?1:0));var o=t.length;return i.fill(!1,o-r.length+1,o+1),i}function DJ(t){var e=vx(t),n=e.thousandSeparator,r=e.decimalSeparator,i=t.prefix;i===void 0&&(i="");var a=t.allowNegative;if(a===void 0&&(a=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&a&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+a+`
    `),a=!1),Object.assign(Object.assign({},t),{allowNegative:a})}function jJ(t){t=DJ(t),t.decimalSeparator,t.allowedDecimalSeparators,t.thousandsGroupStyle;var e=t.suffix,n=t.allowNegative,r=t.allowLeadingZeros,i=t.onKeyDown;i===void 0&&(i=zc);var a=t.onBlur;a===void 0&&(a=zc);var o=t.thousandSeparator,s=t.decimalScale,c=t.fixedDecimalScale,d=t.prefix;d===void 0&&(d="");var f=t.defaultValue,h=t.value,m=t.valueIsNumericString,v=t.onValueChange,b=K$(t,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),x=vx(t),S=x.decimalSeparator,C=x.allowedDecimalSeparators,T=function(L){return KR(L,t)},E=function(L,U){return OJ(L,U,t)},k=eh(h)?f:h,M=m??PJ(k,d,e);eh(h)?eh(f)||(M=M||typeof f=="number"):M=M||typeof h=="number";var D=function(L){return W$(L)?L:(typeof L=="number"&&(L=Q$(L)),M&&typeof s=="number"?GR(L,s,!!c):L)},j=eF(D(h),D(f),!!M,T,E,v),I=j[0],B=I.numAsString,G=I.formattedValue,V=j[1],K=function(L){var U=L.target,F=L.key,q=U.selectionStart,W=U.selectionEnd,z=U.value;if(z===void 0&&(z=""),(F==="Backspace"||F==="Delete")&&W<d.length){L.preventDefault();return}if(q!==W){i(L);return}F==="Backspace"&&z[0]==="-"&&q===d.length+1&&n&&Hu(U,1),s&&c&&(F==="Backspace"&&z[q-1]===S?(Hu(U,q-1),L.preventDefault()):F==="Delete"&&z[q]===S&&L.preventDefault()),C?.includes(F)&&z[q]===S&&Hu(U,q+1);var Y=o===!0?",":o;F==="Backspace"&&z[q-1]===Y&&Hu(U,q-1),F==="Delete"&&z[q]===Y&&Hu(U,q+1),i(L)},te=function(L){var U=B;if(U.match(/\d/g)||(U=""),r||(U=gJ(U)),c&&s&&(U=GR(U,s,c)),U!==B){var F=KR(U,t);V({formattedValue:F,value:U,floatValue:parseFloat(U)},{event:L,source:Im.event})}a(L)},X=function(L){return L===S?!0:zm(L)},J=function(L){var U=L.currentValue,F=L.lastValue,q=L.formattedValue,W=L.currentValueIndex,z=L.formattedValueIndex,Y=U[W],ne=q[z],ie=J$(F,U),ue=ie.to,we=function(be){return E(be).indexOf(".")+d.length};return h===0&&c&&s&&U[ue.start]===S&&we(U)<W&&we(q)>z?!1:W>=ue.start&&W<ue.end&&C&&C.includes(Y)&&ne===S?!0:Y===ne};return Object.assign(Object.assign({},b),{value:G,valueIsNumericString:!1,isValidInputCharacter:X,isCharacterSame:J,onValueChange:V,format:T,removeFormatting:E,getCaretBoundary:function(L){return MJ(L,t)},onKeyDown:K,onBlur:te})}function RJ(t){var e=jJ(t);return sr.createElement(EJ,Object.assign({},e))}var F_={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};function WR({direction:t,style:e,...n}){return g.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:t==="up"?"rotate(180deg)":void 0,...e},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:g.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}const LJ=/^(0\.0*|-0(\.0*)?)$/,NJ=/^-?0\d+(\.\d+)?\.?$/,IJ=/\.\d*0$/,tF=/^-?\d+\.$/;function U_(t){return typeof t=="string"&&t!==""&&!Number.isNaN(Number(t))}function QS(t){return typeof t=="number"?t<Number.MAX_SAFE_INTEGER:t===""||U_(t)&&Number(t)<Number.MAX_SAFE_INTEGER}function zJ(t){return t.toString().replace(".","").length}function BJ(t,e){return(typeof t=="number"?t<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(t)))&&!Number.isNaN(t)&&zJ(e)<14&&e!==""}function XR(t,e,n){if(t===void 0)return!0;const r=e===void 0||t>=e,i=n===void 0||t<=n;return r&&i}const $J={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0,allowedDecimalSeparators:[".",","]},FJ=(t,{size:e})=>({controls:{"--ni-chevron-size":jt(e,"ni-chevron-size")}});function UJ(t,e,n){const r=t.toString(),i=tF.test(r),a=r.replace(/^0+(?=\d)/,""),o=parseFloat(a);if(Number.isNaN(o))return a;if(o>Number.MAX_SAFE_INTEGER)return e!==void 0?e:a;const s=_m(o,n,e);return i?`${s.toString().replace(/^0+(?=\d)/,"")}.`:s}const xl=Fe((t,e)=>{const n=Pe("NumberInput",$J,t),{className:r,classNames:i,styles:a,unstyled:o,vars:s,onChange:c,onValueChange:d,value:f,defaultValue:h,max:m,min:v,step:b,hideControls:x,rightSection:S,isAllowed:C,clampBehavior:T,onBlur:E,allowDecimal:k,decimalScale:M,onKeyDown:D,onKeyDownCapture:j,handlersRef:I,startValue:B,disabled:G,rightSectionPointerEvents:V,allowNegative:K,readOnly:te,size:X,rightSectionWidth:J,stepHoldInterval:L,stepHoldDelay:U,allowLeadingZeros:F,withKeyboardEvents:q,trimLeadingZeroesOnBlur:W,allowedDecimalSeparators:z,attributes:Y,...ne}=n,ie=ut({name:"NumberInput",classes:F_,props:n,classNames:i,styles:a,unstyled:o,attributes:Y,vars:s,varsResolver:FJ}),{resolvedClassNames:ue,resolvedStyles:we}=ka({classNames:i,styles:a,props:n}),[be,qe]=Ur({value:f,defaultValue:h,finalValue:"",onChange:c}),ae=U!==void 0&&L!==void 0,se=w.useRef(null),Le=w.useRef(null),de=w.useRef(0),He=(Ge,Ve)=>{Ve.source==="event"&&qe(BJ(Ge.floatValue,Ge.value)&&!LJ.test(Ge.value)&&!(F&&NJ.test(Ge.value))&&!IJ.test(Ge.value)&&!tF.test(Ge.value)?Ge.floatValue:Ge.value),d?.(Ge,Ve)},Re=Ge=>{const Ve=String(Ge).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Ve?Math.max(0,(Ve[1]?Ve[1].length:0)-(Ve[2]?+Ve[2]:0)):0},ct=Ge=>{se.current&&typeof Ge<"u"&&se.current.setSelectionRange(Ge,Ge)},Qe=w.useRef(gb);Qe.current=()=>{if(!QS(be))return;let Ge;const Ve=Re(be),Jt=Re(b),bn=Math.max(Ve,Jt),Vt=10**bn;if(!U_(be)&&(typeof be!="number"||Number.isNaN(be)))Ge=_m(B,v,m);else if(m!==void 0){const Yt=(Math.round(Number(be)*Vt)+Math.round(b*Vt))/Vt;Ge=Yt<=m?Yt:m}else Ge=(Math.round(Number(be)*Vt)+Math.round(b*Vt))/Vt;const Tn=Ge.toFixed(bn);qe(parseFloat(Tn)),d?.({floatValue:parseFloat(Tn),formattedValue:Tn,value:Tn},{source:"increment"}),setTimeout(()=>ct(se.current?.value.length),0)};const Ue=w.useRef(gb);Ue.current=()=>{if(!QS(be))return;let Ge;const Ve=v!==void 0?v:K?Number.MIN_SAFE_INTEGER:0,Jt=Re(be),bn=Re(b),Vt=Math.max(Jt,bn),Tn=10**Vt;if(!U_(be)&&typeof be!="number"||Number.isNaN(be))Ge=_m(B,Ve,m);else{const Xn=(Math.round(Number(be)*Tn)-Math.round(b*Tn))/Tn;Ge=Ve!==void 0&&Xn<Ve?Ve:Xn}const Yt=Ge.toFixed(Vt);qe(parseFloat(Yt)),d?.({floatValue:parseFloat(Yt),formattedValue:Yt,value:Yt},{source:"decrement"}),setTimeout(()=>ct(se.current?.value.length),0)};const We=Ge=>{D?.(Ge),!(te||!q)&&(Ge.key==="ArrowUp"&&(Ge.preventDefault(),Qe.current?.()),Ge.key==="ArrowDown"&&(Ge.preventDefault(),Ue.current?.()))},rt=Ge=>{if(j?.(Ge),Ge.key==="Backspace"){const Ve=se.current;Ve&&Ve.selectionStart===0&&Ve.selectionStart===Ve.selectionEnd&&(Ge.preventDefault(),window.setTimeout(()=>ct(0),0))}},Je=Ge=>{let Ve=be;T==="blur"&&typeof Ve=="number"&&(Ve=_m(Ve,v,m)),W&&typeof Ve=="string"&&Re(Ve)<15&&(Ve=UJ(Ve,m,v)),be!==Ve&&qe(Ve),E?.(Ge)};lh(I,{increment:Qe.current,decrement:Ue.current});const St=Ge=>{Ge?Qe.current?.():Ue.current?.(),de.current+=1},ft=Ge=>{if(St(Ge),ae){const Ve=typeof L=="number"?L:L(de.current);Le.current=window.setTimeout(()=>ft(Ge),Ve)}},vt=(Ge,Ve)=>{Ge.preventDefault(),se.current?.focus(),St(Ve),ae&&(Le.current=window.setTimeout(()=>ft(Ve),U))},Be=()=>{Le.current&&window.clearTimeout(Le.current),Le.current=null,de.current=0},at=g.jsxs("div",{...ie("controls"),children:[g.jsx(Br,{...ie("control"),tabIndex:-1,"aria-hidden":!0,disabled:G||typeof be=="number"&&m!==void 0&&be>=m,mod:{direction:"up"},onMouseDown:Ge=>Ge.preventDefault(),onPointerDown:Ge=>{vt(Ge,!0)},onPointerUp:Be,onPointerLeave:Be,children:g.jsx(WR,{direction:"up"})}),g.jsx(Br,{...ie("control"),tabIndex:-1,"aria-hidden":!0,disabled:G||typeof be=="number"&&v!==void 0&&be<=v,mod:{direction:"down"},onMouseDown:Ge=>Ge.preventDefault(),onPointerDown:Ge=>{vt(Ge,!1)},onPointerUp:Be,onPointerLeave:Be,children:g.jsx(WR,{direction:"down"})})]});return g.jsx(Wi,{component:RJ,allowNegative:K,className:Ot(F_.root,r),size:X,inputMode:"decimal",...ne,readOnly:te,disabled:G,value:be,getInputRef:kr(e,se),onValueChange:He,rightSection:x||te||!QS(be)?S:S||at,classNames:ue,styles:we,unstyled:o,__staticSelector:"NumberInput",decimalScale:k?M:0,onKeyDown:We,onKeyDownCapture:rt,rightSectionPointerEvents:V??(G?"none":void 0),rightSectionWidth:J??`var(--ni-right-section-width-${X||"sm"})`,allowLeadingZeros:F,allowedDecimalSeparators:z,onBlur:Je,attributes:Y,isAllowed:Ge=>T==="strict"?C?C(Ge)&&XR(Ge.floatValue,v,m):XR(Ge.floatValue,v,m):C?C(Ge):!0})});xl.classes={...Wi.classes,...F_};xl.displayName="@mantine/core/NumberInput";var H_={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const HJ=({reveal:t})=>g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:g.jsx("path",{d:t?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),VJ={visibilityToggleIcon:HJ},qJ=(t,{size:e})=>({root:{"--psi-icon-size":jt(e,"psi-icon-size"),"--psi-button-size":jt(e,"psi-button-size")}}),Ms=Fe((t,e)=>{const n=Pe("PasswordInput",VJ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,required:d,error:f,leftSection:h,disabled:m,id:v,variant:b,inputContainer:x,description:S,label:C,size:T,errorProps:E,descriptionProps:k,labelProps:M,withAsterisk:D,inputWrapperOrder:j,wrapperProps:I,radius:B,rightSection:G,rightSectionWidth:V,rightSectionPointerEvents:K,leftSectionWidth:te,visible:X,defaultVisible:J,onVisibilityChange:L,visibilityToggleIcon:U,visibilityToggleButtonProps:F,rightSectionProps:q,leftSectionProps:W,leftSectionPointerEvents:z,withErrorStyles:Y,mod:ne,attributes:ie,...ue}=n,we=hi(v),[be,qe]=Ur({value:X,defaultValue:J,finalValue:!1,onChange:L}),ae=()=>qe(!be),se=ut({name:"PasswordInput",classes:H_,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:ie,vars:c,varsResolver:qJ}),{resolvedClassNames:Le,resolvedStyles:de}=ka({classNames:r,styles:o,props:n}),{styleProps:He,rest:Re}=Qc(ue),ct=E?.id||`${we}-error`,Qe=k?.id||`${we}-description`,rt=`${!!f&&typeof f!="boolean"?ct:""} ${!!S?Qe:""}`,Je=rt.trim().length>0?rt.trim():void 0,St=g.jsx(Mi,{...se("visibilityToggle"),disabled:m,radius:B,"aria-hidden":!F,"aria-pressed":be,tabIndex:-1,...F,variant:F?.variant??"subtle",color:"gray",unstyled:s,onTouchEnd:ft=>{ft.preventDefault(),F?.onTouchEnd?.(ft),ae()},onMouseDown:ft=>{ft.preventDefault(),F?.onMouseDown?.(ft),ae()},onKeyDown:ft=>{F?.onKeyDown?.(ft),ft.key===" "&&(ft.preventDefault(),ae())},children:g.jsx(U,{reveal:be})});return g.jsx(qn.Wrapper,{required:d,id:we,label:C,error:f,description:S,size:T,classNames:Le,styles:de,__staticSelector:"PasswordInput",unstyled:s,withAsterisk:D,inputWrapperOrder:j,inputContainer:x,variant:b,labelProps:{...M,htmlFor:we},descriptionProps:{...k,id:Qe},errorProps:{...E,id:ct},mod:ne,attributes:ie,...se("root"),...He,...I,children:g.jsx(qn,{component:"div",error:f,leftSection:h,size:T,classNames:{...Le,input:Ot(H_.input,Le.input)},styles:de,radius:B,disabled:m,__staticSelector:"PasswordInput",rightSectionWidth:V,rightSection:G??St,variant:b,unstyled:s,leftSectionWidth:te,rightSectionPointerEvents:K||"all",rightSectionProps:q,leftSectionProps:W,leftSectionPointerEvents:z,withAria:!1,withErrorStyles:Y,attributes:ie,children:g.jsx("input",{required:d,"data-invalid":!!f||void 0,"data-with-left-section":!!h||void 0,...se("innerInput"),disabled:m,id:we,ref:e,...Re,"aria-describedby":Je,autoComplete:Re.autoComplete||"off",type:be?"text":"password"})})})});Ms.classes={...Wi.classes,...H_};Ms.displayName="@mantine/core/PasswordInput";var vg={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd","stripes-animation-vertical":"m_e0fb7a86",label:"m_91e40b74"};const[GJ,nF]=da("Progress.Root component was not found in tree"),Bk=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Pe("ProgressLabel",null,t),c=nF();return g.jsx(De,{ref:e,...c.getStyles("label",{className:r,style:i,classNames:n,styles:a}),...s})});Bk.classes=vg;Bk.displayName="@mantine/core/ProgressLabel";const YJ=(t,{size:e,radius:n,transitionDuration:r})=>({root:{"--progress-size":jt(e,"progress-size"),"--progress-radius":n===void 0?void 0:En(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),yx=Fe((t,e)=>{const n=Pe("ProgressRoot",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,autoContrast:d,transitionDuration:f,orientation:h,attributes:m,mod:v,...b}=n,x=ut({name:"Progress",classes:vg,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:m,vars:c,varsResolver:YJ});return g.jsx(GJ,{value:{getStyles:x,autoContrast:d},children:g.jsx(De,{ref:e,mod:[{orientation:h},v],...x("root"),...b})})});yx.classes=vg;yx.displayName="@mantine/core/ProgressRoot";const KJ={withAria:!0},bx=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,value:s,withAria:c,color:d,striped:f,animated:h,mod:m,...v}=Pe("ProgressSection",KJ,t),b=nF(),x=Xr(),S=c?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":s,"aria-valuetext":`${s}%`}:{};return g.jsx(De,{ref:e,...b.getStyles("section",{className:r,classNames:n,styles:a,style:i}),...v,...S,mod:[{striped:f||h,animated:h},m],__vars:{"--progress-section-size":`${s}%`,"--progress-section-color":Kn(d,x),"--progress-label-color":Ed(b.autoContrast,x)?Fl({color:d,theme:x,autoContrast:b.autoContrast}):void 0}})});bx.classes=vg;bx.displayName="@mantine/core/ProgressSection";const Ol=Fe((t,e)=>{const n=Pe("Progress",null,t),{value:r,classNames:i,styles:a,vars:o,color:s,striped:c,animated:d,"aria-label":f,...h}=n,{resolvedClassNames:m,resolvedStyles:v}=ka({classNames:i,styles:a,props:n});return g.jsx(yx,{ref:e,classNames:m,styles:v,vars:o,...h,children:g.jsx(bx,{value:r,color:s,striped:c,animated:d,"aria-label":f})})});Ol.classes=vg;Ol.displayName="@mantine/core/Progress";Ol.Section=bx;Ol.Root=yx;Ol.Label=Bk;var rF={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const[WJ,iF]=Zc(),[XJ,ZJ]=Zc();var aF={card:"m_9dc8ae12"};const QJ={withBorder:!0},JJ=(t,{radius:e})=>({card:{"--card-radius":En(e)}}),$k=Fe((t,e)=>{const n=Pe("RadioCard",QJ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,checked:d,mod:f,withBorder:h,value:m,onClick:v,name:b,onKeyDown:x,attributes:S,...C}=n,T=ut({name:"RadioCard",classes:aF,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:S,vars:c,varsResolver:JJ,rootSelector:"card"}),{dir:E}=Ph(),k=iF(),M=typeof d=="boolean"?d:k?.value===m||!1,D=b||k?.name,j=I=>{if(x?.(I),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(I.nativeEvent.code)){I.preventDefault();const B=Array.from(document.querySelectorAll(`[role="radio"][name="${D||"__mantine"}"]`)),G=B.findIndex(te=>te===I.target),V=G+1>=B.length?0:G+1,K=G-1<0?B.length-1:G-1;I.nativeEvent.code==="ArrowDown"&&(B[V].focus(),B[V].click()),I.nativeEvent.code==="ArrowUp"&&(B[K].focus(),B[K].click()),I.nativeEvent.code==="ArrowLeft"&&(B[E==="ltr"?K:V].focus(),B[E==="ltr"?K:V].click()),I.nativeEvent.code==="ArrowRight"&&(B[E==="ltr"?V:K].focus(),B[E==="ltr"?V:K].click())}};return g.jsx(XJ,{value:{checked:M},children:g.jsx(Br,{ref:e,mod:[{"with-border":h,checked:M},f],...T("card"),...C,role:"radio","aria-checked":M,name:D,onClick:I=>{v?.(I),k?.onChange(m||"")},onKeyDown:j})})});$k.displayName="@mantine/core/RadioCard";$k.classes=aF;const Fk=Fe((t,e)=>{const{value:n,defaultValue:r,onChange:i,size:a,wrapperProps:o,children:s,name:c,readOnly:d,disabled:f,...h}=Pe("RadioGroup",null,t),m=hi(c),[v,b]=Ur({value:n,defaultValue:r,finalValue:"",onChange:i}),x=S=>!d&&b(typeof S=="string"?S:S.currentTarget.value);return g.jsx(WJ,{value:{value:v,onChange:x,size:a,name:m,disabled:f},children:g.jsx(qn.Wrapper,{size:a,ref:e,...o,...h,labelElement:"div",__staticSelector:"RadioGroup",children:g.jsx(P$,{role:"radiogroup",children:s})})})});Fk.classes=qn.Wrapper.classes;Fk.displayName="@mantine/core/RadioGroup";function oF({size:t,style:e,...n}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:Oe(t),height:Oe(t),...e},"aria-hidden":!0,...n,children:g.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var sF={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const eee={icon:oF},tee=(t,{radius:e,color:n,size:r,iconColor:i,variant:a,autoContrast:o})=>{const s=$l({color:n||t.primaryColor,theme:t}),c=s.isThemeColor&&s.shade===void 0?`var(--mantine-color-${s.color}-outline)`:s.color;return{indicator:{"--radio-size":jt(r,"radio-size"),"--radio-radius":e===void 0?void 0:En(e),"--radio-color":a==="outline"?c:Kn(n,t),"--radio-icon-size":jt(r,"radio-icon-size"),"--radio-icon-color":i?Kn(i,t):Ed(o,t)?Fl({color:n,theme:t,autoContrast:o}):void 0}}},Uk=Fe((t,e)=>{const n=Pe("RadioIndicator",eee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,icon:d,radius:f,color:h,iconColor:m,autoContrast:v,checked:b,mod:x,variant:S,disabled:C,attributes:T,...E}=n,k=ut({name:"RadioIndicator",classes:sF,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:T,vars:c,varsResolver:tee,rootSelector:"indicator"}),M=ZJ(),D=typeof b=="boolean"?b:M?.checked||!1;return g.jsx(De,{ref:e,...k("indicator",{variant:S}),variant:S,mod:[{checked:D,disabled:C},x],...E,children:g.jsx(d,{...k("icon")})})});Uk.displayName="@mantine/core/RadioIndicator";Uk.classes=sF;const nee={labelPosition:"right"},ree=(t,{size:e,radius:n,color:r,iconColor:i,variant:a,autoContrast:o})=>{const s=$l({color:r||t.primaryColor,theme:t}),c=s.isThemeColor&&s.shade===void 0?`var(--mantine-color-${s.color}-outline)`:s.color;return{root:{"--radio-size":jt(e,"radio-size"),"--radio-radius":n===void 0?void 0:En(n),"--radio-color":a==="outline"?c:Kn(r,t),"--radio-icon-color":i?Kn(i,t):Ed(o,t)?Fl({color:r,theme:t,autoContrast:o}):void 0,"--radio-icon-size":jt(e,"radio-icon-size")}}},kd=Fe((t,e)=>{const n=Pe("Radio",nee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,id:d,size:f,label:h,labelPosition:m,description:v,error:b,radius:x,color:S,variant:C,disabled:T,wrapperProps:E,icon:k=oF,rootRef:M,iconColor:D,onChange:j,mod:I,attributes:B,checked:G,...V}=n,K=ut({name:"Radio",classes:rF,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:B,vars:c,varsResolver:ree}),te=iF(),X=te?.size??f,J=n.size?f:X,{styleProps:L,rest:U}=Qc(V),F=hi(d),q=te?te.value===U.value:void 0,W={checked:q??G,name:te?.name??U.name,onChange:z=>{te?.onChange(z),j?.(z)},disabled:te?.disabled??T};return g.jsx(yk,{...K("root"),__staticSelector:"Radio",__stylesApiProps:n,id:F,size:J,labelPosition:m,label:h,description:v,error:b,disabled:W.disabled,classNames:r,styles:o,unstyled:s,"data-checked":(q??G)||void 0,variant:C,ref:M,mod:I,...L,...E,children:g.jsxs(De,{...K("inner"),mod:{"label-position":m},children:[g.jsx(De,{...K("radio",{focusable:!0,variant:C}),...U,...W,component:"input",mod:{error:!!b},ref:e,id:F,type:"radio"}),g.jsx(k,{...K("icon"),"aria-hidden":!0})]})})});kd.classes=rF;kd.displayName="@mantine/core/Radio";kd.Group=Fk;kd.Card=$k;kd.Indicator=Uk;const iee={duration:100,transition:"fade"};function ZR(t,e){return{...iee,...e,...t}}var xx={tooltip:"m_1b3c8819",arrow:"m_f898399f"};function aee({offset:t,position:e,defaultOpened:n}){const[r,i]=w.useState(n),a=w.useRef(null),{x:o,y:s,elements:c,refs:d,update:f,placement:h}=$T({placement:e,middleware:[NT({crossAxis:!0,padding:5,rootBoundary:"document"})]}),m=h.includes("right")?t:e.includes("left")?t*-1:0,v=h.includes("bottom")?t:e.includes("top")?t*-1:0,b=w.useCallback(({clientX:x,clientY:S})=>{d.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x,y:S,left:x+m,top:S+v,right:x,bottom:S}}})},[c.reference]);return w.useEffect(()=>{if(d.floating.current){const x=a.current;x.addEventListener("mousemove",b);const S=_l(d.floating.current);return S.forEach(C=>{C.addEventListener("scroll",f)}),()=>{x.removeEventListener("mousemove",b),S.forEach(C=>{C.removeEventListener("scroll",f)})}}},[c.reference,d.floating.current,f,b,r]),{handleMouseMove:b,x:o,y:s,opened:r,setOpened:i,boundaryRef:a,floating:d.setFloating}}const oee={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Wa("popover")},see=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:En(e),"--tooltip-bg":n?Kn(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Hk=Fe((t,e)=>{const n=Pe("TooltipFloating",oee,t),{children:r,refProp:i,withinPortal:a,style:o,className:s,classNames:c,styles:d,unstyled:f,radius:h,color:m,label:v,offset:b,position:x,multiline:S,zIndex:C,disabled:T,defaultOpened:E,variant:k,vars:M,portalProps:D,attributes:j,...I}=n,B=Xr(),G=ut({name:"TooltipFloating",props:n,classes:xx,className:s,style:o,classNames:c,styles:d,unstyled:f,attributes:j,rootSelector:"tooltip",vars:M,varsResolver:see}),{handleMouseMove:V,x:K,y:te,opened:X,boundaryRef:J,floating:L,setOpened:U}=aee({offset:b,position:x,defaultOpened:E}),F=kh(r);if(!F)throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const q=kr(J,U0(F),e),W=F.props,z=ne=>{W.onMouseEnter?.(ne),V(ne),U(!0)},Y=ne=>{W.onMouseLeave?.(ne),U(!1)};return g.jsxs(g.Fragment,{children:[g.jsx(Pl,{...D,withinPortal:a,children:g.jsx(De,{...I,...G("tooltip",{style:{...PT(o,B),zIndex:C,display:!T&&X?"block":"none",top:(te&&Math.round(te))??"",left:(K&&Math.round(K))??""}}),variant:k,ref:L,mod:{multiline:S},children:v})}),w.cloneElement(F,{...W,[i]:q,onMouseEnter:z,onMouseLeave:Y})]})});Hk.classes=xx;Hk.displayName="@mantine/core/TooltipFloating";const lF=w.createContext(!1),lee=lF.Provider,cee=()=>w.useContext(lF),uee={openDelay:0,closeDelay:0};function Vk(t){const{openDelay:e,closeDelay:n,children:r}=Pe("TooltipGroup",uee,t);return g.jsx(lee,{value:!0,children:g.jsx(JW,{delay:{open:e,close:n},children:r})})}Vk.displayName="@mantine/core/TooltipGroup";Vk.extend=t=>t;function dee(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function fee(t){const e=dee(t.middlewares),n=[A4(t.offset)];return e.shift&&n.push(NT(typeof e.shift=="boolean"?{padding:8}:{padding:8,...e.shift})),e.flip&&n.push(typeof e.flip=="boolean"?Sb():Sb(e.flip)),n.push(_4({element:t.arrowRef,padding:t.arrowOffset})),e.inline?n.push(typeof e.inline=="boolean"?Em():Em(e.inline)):t.inline&&n.push(Em()),n}function hee(t){const[e,n]=w.useState(t.defaultOpened),i=typeof t.opened=="boolean"?t.opened:e,a=cee(),o=hi(),s=w.useCallback(M=>{n(M),M&&C(o)},[o]),{x:c,y:d,context:f,refs:h,placement:m,middlewareData:{arrow:{x:v,y:b}={}}}=$T({strategy:t.strategy,placement:t.position,open:i,onOpenChange:s,middleware:fee(t),whileElementsMounted:I_}),{delay:x,currentId:S,setCurrentId:C}=eX(f,{id:o}),{getReferenceProps:T,getFloatingProps:E}=oX([ZW(f,{enabled:t.events?.hover,delay:a?x:{open:t.openDelay,close:t.closeDelay},mouseOnly:!t.events?.touch}),aX(f,{enabled:t.events?.focus,visibleOnly:!0}),lX(f,{role:"tooltip"}),rX(f,{enabled:typeof t.opened>"u"})]);ud(()=>{t.onPositionChange?.(m)},[m]);const k=i&&S&&S!==o;return{x:c,y:d,arrowX:v,arrowY:b,reference:h.setReference,floating:h.setFloating,getFloatingProps:E,getReferenceProps:T,isGroupPhase:k,opened:i,placement:m}}const QR={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Wa("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},pee=(t,{radius:e,color:n,variant:r,autoContrast:i})=>{const a=t.variantColorResolver({theme:t,color:n||t.primaryColor,autoContrast:i,variant:r||"filled"});return{tooltip:{"--tooltip-radius":e===void 0?void 0:En(e),"--tooltip-bg":n?a.background:void 0,"--tooltip-color":n?a.color:void 0}}},fi=Fe((t,e)=>{const n=Pe("Tooltip",QR,t),{children:r,position:i,refProp:a,label:o,openDelay:s,closeDelay:c,onPositionChange:d,opened:f,defaultOpened:h,withinPortal:m,radius:v,color:b,classNames:x,styles:S,unstyled:C,style:T,className:E,withArrow:k,arrowSize:M,arrowOffset:D,arrowRadius:j,arrowPosition:I,offset:B,transitionProps:G,multiline:V,events:K,zIndex:te,disabled:X,positionDependencies:J,onClick:L,onMouseEnter:U,onMouseLeave:F,inline:q,variant:W,keepMounted:z,vars:Y,portalProps:ne,mod:ie,floatingStrategy:ue,middlewares:we,autoContrast:be,attributes:qe,target:ae,...se}=Pe("Tooltip",QR,n),{dir:Le}=Ph(),de=w.useRef(null),He=hee({position:V4(Le,i),closeDelay:c,openDelay:s,onPositionChange:d,opened:f,defaultOpened:h,events:K,arrowRef:de,arrowOffset:D,offset:typeof B=="number"?B+(k?M/2:0):B,positionDependencies:[...J,ae??r],inline:q,strategy:ue,middlewares:we});w.useEffect(()=>{const rt=ae instanceof HTMLElement?ae:typeof ae=="string"?document.querySelector(ae):ae?.current||null;rt&&He.reference(rt)},[ae,He]);const Re=ut({name:"Tooltip",props:n,classes:xx,className:E,style:T,classNames:x,styles:S,unstyled:C,attributes:qe,rootSelector:"tooltip",vars:Y,varsResolver:pee}),ct=kh(r);if(!ae&&!ct)return null;if(ae){const rt=ZR(G,{duration:100,transition:"fade"});return g.jsx(g.Fragment,{children:g.jsx(Pl,{...ne,withinPortal:m,children:g.jsx(Wo,{...rt,keepMounted:z,mounted:!X&&!!He.opened,duration:He.isGroupPhase?10:rt.duration,children:Je=>g.jsxs(De,{...se,"data-fixed":ue==="fixed"||void 0,variant:W,mod:[{multiline:V},ie],...He.getFloatingProps({ref:He.floating,className:Re("tooltip").className,style:{...Re("tooltip").style,...Je,zIndex:te,top:He.y??0,left:He.x??0}}),children:[o,g.jsx(Cb,{ref:de,arrowX:He.arrowX,arrowY:He.arrowY,visible:k,position:He.placement,arrowSize:M,arrowOffset:D,arrowRadius:j,arrowPosition:I,...Re("arrow")})]})})})})}const Qe=ct.props,Ue=kr(He.reference,U0(ct),e),We=ZR(G,{duration:100,transition:"fade"});return g.jsxs(g.Fragment,{children:[g.jsx(Pl,{...ne,withinPortal:m,children:g.jsx(Wo,{...We,keepMounted:z,mounted:!X&&!!He.opened,duration:He.isGroupPhase?10:We.duration,children:rt=>g.jsxs(De,{...se,"data-fixed":ue==="fixed"||void 0,variant:W,mod:[{multiline:V},ie],...He.getFloatingProps({ref:He.floating,className:Re("tooltip").className,style:{...Re("tooltip").style,...rt,zIndex:te,top:He.y??0,left:He.x??0}}),children:[o,g.jsx(Cb,{ref:de,arrowX:He.arrowX,arrowY:He.arrowY,visible:k,position:He.placement,arrowSize:M,arrowOffset:D,arrowRadius:j,arrowPosition:I,...Re("arrow")})]})})}),w.cloneElement(ct,He.getReferenceProps({onClick:L,onMouseEnter:U,onMouseLeave:F,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,...Qe,className:Ot(E,Qe.className),[a]:Ue}))]})});fi.classes=xx;fi.displayName="@mantine/core/Tooltip";fi.Floating=Hk;fi.Group=Vk;var cF={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const mee={withItemsBorders:!0},gee=(t,{radius:e,color:n,transitionDuration:r,size:i,transitionTimingFunction:a})=>({root:{"--sc-radius":e===void 0?void 0:En(e),"--sc-color":n?Kn(n,t):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":a,"--sc-padding":jt(i,"sc-padding"),"--sc-font-size":cr(i)}}),wx=Fe((t,e)=>{const n=Pe("SegmentedControl",mee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,data:d,value:f,defaultValue:h,onChange:m,size:v,name:b,disabled:x,readOnly:S,fullWidth:C,orientation:T,radius:E,color:k,transitionDuration:M,transitionTimingFunction:D,variant:j,autoContrast:I,withItemsBorders:B,mod:G,attributes:V,...K}=n,te=ut({name:"SegmentedControl",props:n,classes:cF,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:V,vars:c,varsResolver:gee}),X=Xr(),J=d.map(ae=>typeof ae=="string"?{label:ae,value:ae}:ae),L=eY(),[U,F]=w.useState(vb()),[q,W]=w.useState(null),[z,Y]=w.useState({}),ne=(ae,se)=>{z[se]=ae,Y(z)},[ie,ue]=Ur({value:f,defaultValue:h,finalValue:Array.isArray(d)?J.find(ae=>!ae.disabled)?.value??d[0]?.value??null:null,onChange:m}),we=hi(b),be=J.map(ae=>w.createElement(De,{...te("control"),mod:{active:ie===ae.value,orientation:T},key:ae.value},w.createElement("input",{...te("input"),disabled:x||ae.disabled,type:"radio",name:we,value:ae.value,id:`${we}-${ae.value}`,checked:ie===ae.value,onChange:()=>!S&&ue(ae.value),"data-focus-ring":X.focusRing,key:`${ae.value}-input`}),w.createElement(De,{component:"label",...te("label"),mod:{active:ie===ae.value&&!(x||ae.disabled),disabled:x||ae.disabled,"read-only":S},htmlFor:`${we}-${ae.value}`,ref:se=>ne(se,ae.value),__vars:{"--sc-label-color":k!==void 0?Fl({color:k,theme:X,autoContrast:I}):void 0},key:`${ae.value}-label`},g.jsx("span",{...te("innerLabel"),children:ae.label})))),qe=kr(e,ae=>W(ae));return XG(()=>{F(vb())},[d.length]),d.length===0?null:g.jsxs(De,{...te("root"),variant:j,size:v,ref:qe,mod:[{"full-width":C,orientation:T,initialized:L,"with-items-borders":B},G],...K,role:"radiogroup","data-disabled":x,children:[typeof ie=="string"&&g.jsx(XT,{target:z[ie],parent:q,component:"span",transitionDuration:"var(--sc-transition-duration)",...te("indicator")},U),be]})});wx.classes=cF;wx.displayName="@mantine/core/SegmentedControl";const vee={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left",openOnFocus:!0},qo=Fe((t,e)=>{const n=Pe("Select",vee,t),{classNames:r,styles:i,unstyled:a,vars:o,dropdownOpened:s,defaultDropdownOpened:c,onDropdownClose:d,onDropdownOpen:f,onFocus:h,onBlur:m,onClick:v,onChange:b,data:x,value:S,defaultValue:C,selectFirstOptionOnChange:T,selectFirstOptionOnDropdownOpen:E,onOptionSubmit:k,comboboxProps:M,readOnly:D,disabled:j,filter:I,limit:B,withScrollArea:G,maxDropdownHeight:V,size:K,searchable:te,rightSection:X,checkIconPosition:J,withCheckIcon:L,withAlignedLabels:U,nothingFoundMessage:F,name:q,form:W,searchValue:z,defaultSearchValue:Y,onSearchChange:ne,allowDeselect:ie,error:ue,rightSectionPointerEvents:we,id:be,clearable:qe,clearButtonProps:ae,hiddenInputProps:se,renderOption:Le,onClear:de,autoComplete:He,scrollAreaProps:Re,__defaultRightSection:ct,__clearSection:Qe,__clearable:Ue,chevronColor:We,autoSelectOnBlur:rt,openOnFocus:Je,attributes:St,...ft}=n,vt=w.useMemo(()=>sk(x),[x]),Be=w.useRef({}),at=w.useMemo(()=>ix(vt),[vt]),Ge=hi(be),[Ve,Jt,bn]=Ur({value:S,defaultValue:C,finalValue:null,onChange:b}),Vt=typeof Ve=="string"?Ve in at?at[Ve]:Be.current[Ve]:void 0,Tn=QG(Vt),[Yt,Xn,xn]=Ur({value:z,defaultValue:Y,finalValue:Vt?Vt.label:"",onChange:ne}),Nt=ax({opened:s,defaultOpened:c,onDropdownOpen:()=>{f?.(),E?Nt.selectFirstOption():Nt.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{d?.(),setTimeout(Nt.resetSelectedOption,0)}}),et=un=>{Xn(un),Nt.resetSelectedOption()},{resolvedClassNames:gr,resolvedStyles:wn}=ka({props:n,styles:i,classNames:r});w.useEffect(()=>{T&&Nt.selectFirstOption()},[T,Yt]),w.useEffect(()=>{S===null&&et(""),typeof S=="string"&&Vt&&(Tn?.value!==Vt.value||Tn?.label!==Vt.label)&&et(Vt.label)},[S,Vt]),w.useEffect(()=>{!bn&&!xn&&et(typeof Ve=="string"?Ve in at?at[Ve]?.label:Be.current[Ve]?.label||"":"")},[at,Ve]),w.useEffect(()=>{Ve&&Ve in at&&(Be.current[Ve]=at[Ve])},[at,Ve]);const Jr=g.jsx(Wt.ClearButton,{...ae,onClear:()=>{Jt(null,null),et(""),de?.()}}),nt=qe&&!!Ve&&!j&&!D;return g.jsxs(g.Fragment,{children:[g.jsxs(Wt,{store:Nt,__staticSelector:"Select",classNames:gr,styles:wn,unstyled:a,readOnly:D,size:K,attributes:St,keepMounted:rt,onOptionSubmit:un=>{k?.(un);const ur=ie&&at[un].value===Ve?null:at[un],kn=ur?ur.value:null;kn!==Ve&&Jt(kn,ur),!bn&&et(typeof kn=="string"&&ur?.label||""),Nt.closeDropdown()},...M,children:[g.jsx(Wt.Target,{targetType:te?"input":"button",autoComplete:He,children:g.jsx(Wi,{id:Ge,ref:e,__defaultRightSection:g.jsx(Wt.Chevron,{size:K,error:ue,unstyled:a,color:We}),__clearSection:Jr,__clearable:nt,rightSection:X,rightSectionPointerEvents:we||"none",...ft,size:K,__staticSelector:"Select",disabled:j,readOnly:D||!te,value:Yt,onChange:un=>{et(un.currentTarget.value),Nt.openDropdown(),T&&Nt.selectFirstOption()},onFocus:un=>{Je&&te&&Nt.openDropdown(),h?.(un)},onBlur:un=>{rt&&Nt.clickSelectedOption(),te&&Nt.closeDropdown();const ur=typeof Ve=="string"&&(Ve in at?at[Ve]:Be.current[Ve]);et(ur&&ur.label||""),m?.(un)},onClick:un=>{te?Nt.openDropdown():Nt.toggleDropdown(),v?.(un)},classNames:gr,styles:wn,unstyled:a,pointer:!te,error:ue,attributes:St})}),g.jsx(Ck,{data:vt,hidden:D||j,filter:I,search:Yt,limit:B,hiddenWhenEmpty:!F,withScrollArea:G,maxDropdownHeight:V,filterOptions:!!te&&Vt?.label!==Yt,value:Ve,checkIconPosition:J,withCheckIcon:L,withAlignedLabels:U,nothingFoundMessage:F,unstyled:a,labelId:ft.label?`${Ge}-label`:void 0,"aria-label":ft.label?void 0:ft["aria-label"],renderOption:Le,scrollAreaProps:Re})]}),g.jsx(Wt.HiddenInput,{value:Ve,name:q,form:W,disabled:j,...se})]})});qo.classes={...Wi.classes,...Wt.classes};qo.displayName="@mantine/core/Select";var uF={container:"m_925c2d2c",root:"m_2415a157"};function yee({spacing:t,verticalSpacing:e,cols:n,selector:r}){const i=Xr(),a=e===void 0?t:e,o=cg({"--sg-spacing-x":zr(Qf(t)),"--sg-spacing-y":zr(Qf(a)),"--sg-cols":Qf(n)?.toString()}),s=Tr(i.breakpoints).reduce((f,h)=>(f[h]||(f[h]={}),typeof t=="object"&&t[h]!==void 0&&(f[h]["--sg-spacing-x"]=zr(t[h])),typeof a=="object"&&a[h]!==void 0&&(f[h]["--sg-spacing-y"]=zr(a[h])),typeof n=="object"&&n[h]!==void 0&&(f[h]["--sg-cols"]=n[h]),f),{}),d=T_(Tr(s),i.breakpoints).filter(f=>Tr(s[f.value]).length>0).map(f=>({query:`(min-width: ${i.breakpoints[f.value]})`,styles:s[f.value]}));return g.jsx(G0,{styles:o,media:d,selector:r})}function JS(t){return typeof t=="object"&&t!==null?Tr(t):[]}function bee(t){return t.sort((e,n)=>Rm(e)-Rm(n))}function xee({spacing:t,verticalSpacing:e,cols:n}){const r=Array.from(new Set([...JS(t),...JS(e),...JS(n)]));return bee(r)}function wee({spacing:t,verticalSpacing:e,cols:n,selector:r}){const i=e===void 0?t:e,a=cg({"--sg-spacing-x":zr(Qf(t)),"--sg-spacing-y":zr(Qf(i)),"--sg-cols":Qf(n)?.toString()}),o=xee({spacing:t,verticalSpacing:e,cols:n}),s=o.reduce((d,f)=>(d[f]||(d[f]={}),typeof t=="object"&&t[f]!==void 0&&(d[f]["--sg-spacing-x"]=zr(t[f])),typeof i=="object"&&i[f]!==void 0&&(d[f]["--sg-spacing-y"]=zr(i[f])),typeof n=="object"&&n[f]!==void 0&&(d[f]["--sg-cols"]=n[f]),d),{}),c=o.map(d=>({query:`simple-grid (min-width: ${d})`,styles:s[d]}));return g.jsx(G0,{styles:a,container:c,selector:r})}const See={cols:1,spacing:"md",type:"media"},Sx=Fe((t,e)=>{const n=Pe("SimpleGrid",See,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,cols:d,verticalSpacing:f,spacing:h,type:m,attributes:v,...b}=n,x=ut({name:"SimpleGrid",classes:uF,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:v,vars:c}),S=l4();return m==="container"?g.jsxs(g.Fragment,{children:[g.jsx(wee,{...n,selector:`.${S}`}),g.jsx("div",{...x("container"),children:g.jsx(De,{ref:e,...x("root",{className:S}),...b})})]}):g.jsxs(g.Fragment,{children:[g.jsx(yee,{...n,selector:`.${S}`}),g.jsx(De,{ref:e,...x("root",{className:S}),...b})]})});Sx.classes=uF;Sx.displayName="@mantine/core/SimpleGrid";var dF={root:"m_6d731127"};const Cee={gap:"md",align:"stretch",justify:"flex-start"},Aee=(t,{gap:e,align:n,justify:r})=>({root:{"--stack-gap":zr(e),"--stack-align":n,"--stack-justify":r}}),tt=Fe((t,e)=>{const n=Pe("Stack",Cee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,align:d,justify:f,gap:h,variant:m,attributes:v,...b}=n,x=ut({name:"Stack",props:n,classes:dF,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:v,vars:c,varsResolver:Aee});return g.jsx(De,{ref:e,...x("root"),variant:m,...b})});tt.classes=dF;tt.displayName="@mantine/core/Stack";const[_ee,Eee]=da("Stepper component was not found in tree");var qk={root:"m_cbb4ea7e",steps:"m_aaf89d0b",separator:"m_2a371ac9",content:"m_78da155d",step:"m_cbb57068","step--horizontal":"m_f56b1e2c","step--vertical":"m_833edb7e",verticalSeparator:"m_6496b3f3",stepWrapper:"m_818e70b",stepIcon:"m_1959ad01",stepCompletedIcon:"m_a79331dc",stepBody:"m_1956aa2a",stepLabel:"m_12051f6c",stepDescription:"m_164eea74"};const Eb=()=>null;Eb.displayName="@mantine/core/StepperCompleted";const cy=(t,e)=>typeof t=="function"?g.jsx(t,{step:e||0}):t,Tee={withIcon:!0,allowStepClick:!0,iconPosition:"left"},Gk=Fe((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,step:s,state:c,color:d,icon:f,completedIcon:h,progressIcon:m,label:v,description:b,withIcon:x,iconSize:S,loading:C,allowStepClick:T,allowStepSelect:E,iconPosition:k,orientation:M,mod:D,...j}=Pe("StepperStep",Tee,t),I=Eee(),B=Xr(),G={classNames:n,styles:a},V=c==="stepCompleted"?null:c==="stepProgress"?m:f,K={"data-progress":c==="stepProgress"||void 0,"data-completed":c==="stepCompleted"||void 0};return g.jsxs(Br,{...I.getStyles("step",{className:r,style:i,variant:I.orientation,...G}),mod:[{"icon-position":k||I.iconPosition,"allow-click":T},D],ref:e,...K,...j,__vars:{"--step-color":d?Kn(d,B):void 0},tabIndex:T?0:-1,children:[x&&g.jsxs("span",{...I.getStyles("stepWrapper",G),children:[g.jsxs("span",{...I.getStyles("stepIcon",G),...K,children:[g.jsx(Wo,{mounted:c==="stepCompleted",transition:"pop",duration:200,children:te=>g.jsx("span",{...I.getStyles("stepCompletedIcon",{style:te,...G}),children:C?g.jsx(ji,{color:"var(--mantine-color-white)",size:"calc(var(--stepper-icon-size) / 2)",...I.getStyles("stepLoader",G)}):cy(h,s)||g.jsx(wk,{size:"60%"})})}),c!=="stepCompleted"?C?g.jsx(ji,{...I.getStyles("stepLoader",G),size:"calc(var(--stepper-icon-size) / 2)",color:d}):cy(V||f,s):null]}),M==="vertical"&&g.jsx("span",{...I.getStyles("verticalSeparator",G),"data-active":c==="stepCompleted"||void 0})]}),(v||b)&&g.jsxs("span",{...I.getStyles("stepBody",G),"data-orientation":I.orientation,"data-icon-position":k||I.iconPosition,children:[v&&g.jsx("span",{...I.getStyles("stepLabel",G),children:cy(v,s)}),b&&g.jsx("span",{...I.getStyles("stepDescription",G),children:cy(b,s)})]})]})});Gk.classes=qk;Gk.displayName="@mantine/core/StepperStep";const kee={orientation:"horizontal",iconPosition:"left",allowNextStepsSelect:!0,wrap:!0},Pee=(t,{color:e,iconSize:n,size:r,contentPadding:i,radius:a,autoContrast:o})=>({root:{"--stepper-color":e?Kn(e,t):void 0,"--stepper-icon-color":Ed(o,t)?Fl({color:e,theme:t,autoContrast:o}):void 0,"--stepper-icon-size":n===void 0?jt(r,"stepper-icon-size"):Oe(n),"--stepper-content-padding":zr(i),"--stepper-radius":a===void 0?void 0:En(a),"--stepper-fz":cr(r),"--stepper-spacing":zr(r)}}),zo=Fe((t,e)=>{const n=Pe("Stepper",kee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,children:d,onStepClick:f,active:h,icon:m,completedIcon:v,progressIcon:b,color:x,iconSize:S,contentPadding:C,orientation:T,iconPosition:E,size:k,radius:M,allowNextStepsSelect:D,wrap:j,autoContrast:I,attributes:B,...G}=n,V=ut({name:"Stepper",classes:qk,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:B,vars:c,varsResolver:Pee}),K=w.Children.toArray(d),te=K.filter(q=>q.type!==Eb),X=K.find(q=>q.type===Eb),J=te.reduce((q,W,z)=>{const Y=h===z?"stepProgress":h>z?"stepCompleted":"stepInactive",ie=typeof f!="function"?!1:typeof W.props.allowStepSelect=="boolean"?W.props.allowStepSelect:Y==="stepCompleted"||D;return q.push(w.cloneElement(W,{icon:W.props.icon||m||z+1,key:z,step:z,state:Y,onClick:()=>ie&&f?.(z),allowStepClick:ie,completedIcon:W.props.completedIcon||v,progressIcon:W.props.progressIcon||b,color:W.props.color||x,iconSize:S,iconPosition:W.props.iconPosition||E,orientation:T})),T==="horizontal"&&z!==te.length-1&&q.push(w.createElement("div",{...V("separator"),"data-active":z<h||void 0,"data-orientation":T,key:`separator-${z}`})),q},[]),L=te[h]?.props?.children,U=X?.props?.children,F=h>te.length-1?U:L;return g.jsx(_ee,{value:{getStyles:V,orientation:T,iconPosition:E},children:g.jsxs(De,{...V("root"),ref:e,size:k,...G,children:[g.jsx(De,{...V("steps"),mod:{orientation:T,"icon-position":E,wrap:j&&T!=="vertical"},children:J}),F&&g.jsx("div",{...V("content"),children:F})]})})});zo.classes=qk;zo.displayName="@mantine/core/Stepper";zo.Completed=Eb;zo.Step=Gk;const[Oee,Mee]=da("Table component was not found in the tree");var yg={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function Dee(t,e){if(!e)return;const n={};return e.columnBorder&&t.withColumnBorders&&(n["data-with-column-border"]=!0),e.rowBorder&&t.withRowBorders&&(n["data-with-row-border"]=!0),e.striped&&t.striped&&(n["data-striped"]=t.striped),e.highlightOnHover&&t.highlightOnHover&&(n["data-hover"]=!0),e.captionSide&&t.captionSide&&(n["data-side"]=t.captionSide),e.stickyHeader&&t.stickyHeader&&(n["data-sticky"]=!0),n}function Pd(t,e){const n=`Table${t.charAt(0).toUpperCase()}${t.slice(1)}`,r=Fe((i,a)=>{const o=Pe(n,{},i),{classNames:s,className:c,style:d,styles:f,...h}=o,m=Mee();return g.jsx(De,{component:t,ref:a,...Dee(m,e),...m.getStyles(t,{className:c,classNames:s,style:d,styles:f,props:o}),...h})});return r.displayName=`@mantine/core/${n}`,r.classes=yg,r}const V_=Pd("th",{columnBorder:!0}),fF=Pd("td",{columnBorder:!0}),Jy=Pd("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),hF=Pd("thead",{stickyHeader:!0}),pF=Pd("tbody"),mF=Pd("tfoot"),gF=Pd("caption",{captionSide:!0});function Yk({data:t}){return g.jsxs(g.Fragment,{children:[t.caption&&g.jsx(gF,{children:t.caption}),t.head&&g.jsx(hF,{children:g.jsx(Jy,{children:t.head.map((e,n)=>g.jsx(V_,{children:e},n))})}),t.body&&g.jsx(pF,{children:t.body.map((e,n)=>g.jsx(Jy,{children:e.map((r,i)=>g.jsx(fF,{children:r},i))},n))}),t.foot&&g.jsx(mF,{children:g.jsx(Jy,{children:t.foot.map((e,n)=>g.jsx(V_,{children:e},n))})})]})}Yk.displayName="@mantine/core/TableDataRenderer";const jee={type:"scrollarea"},Ree=(t,{minWidth:e,maxHeight:n,type:r})=>({scrollContainer:{"--table-min-width":Oe(e),"--table-max-height":Oe(n),"--table-overflow":r==="native"?"auto":void 0}}),Kk=Fe((t,e)=>{const n=Pe("TableScrollContainer",jee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,children:d,minWidth:f,maxHeight:h,type:m,scrollAreaProps:v,attributes:b,...x}=n,S=ut({name:"TableScrollContainer",classes:yg,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:b,vars:c,varsResolver:Ree,rootSelector:"scrollContainer"});return g.jsx(De,{component:m==="scrollarea"?Ul:"div",...m==="scrollarea"?h?{offsetScrollbars:"xy",...v}:{offsetScrollbars:"x",...v}:{},ref:e,...S("scrollContainer"),...x,children:g.jsx("div",{...S("scrollContainerInner"),children:d})})});Kk.classes=yg;Kk.displayName="@mantine/core/TableScrollContainer";const Lee={withRowBorders:!0,verticalSpacing:7},Nee=(t,{layout:e,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:a,stripedColor:o,highlightOnHoverColor:s,striped:c,highlightOnHover:d,stickyHeaderOffset:f,stickyHeader:h})=>({table:{"--table-layout":e,"--table-caption-side":n,"--table-horizontal-spacing":zr(r),"--table-vertical-spacing":zr(i),"--table-border-color":a?Kn(a,t):void 0,"--table-striped-color":c&&o?Kn(o,t):void 0,"--table-highlight-on-hover-color":d&&s?Kn(s,t):void 0,"--table-sticky-header-offset":h?Oe(f):void 0}}),ht=Fe((t,e)=>{const n=Pe("Table",Lee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,horizontalSpacing:d,verticalSpacing:f,captionSide:h,stripedColor:m,highlightOnHoverColor:v,striped:b,highlightOnHover:x,withColumnBorders:S,withRowBorders:C,withTableBorder:T,borderColor:E,layout:k,variant:M,data:D,children:j,stickyHeader:I,stickyHeaderOffset:B,mod:G,tabularNums:V,attributes:K,...te}=n,X=ut({name:"Table",props:n,className:i,style:a,classes:yg,classNames:r,styles:o,unstyled:s,attributes:K,rootSelector:"table",vars:c,varsResolver:Nee});return g.jsx(Oee,{value:{getStyles:X,stickyHeader:I,striped:b===!0?"odd":b||void 0,highlightOnHover:x,withColumnBorders:S,withRowBorders:C,captionSide:h||"bottom"},children:g.jsx(De,{component:"table",variant:M,ref:e,mod:[{"data-with-table-border":T,"data-tabular-nums":V},G],...X("table"),...te,children:j||!!D&&g.jsx(Yk,{data:D})})})});ht.classes=yg;ht.displayName="@mantine/core/Table";ht.Td=fF;ht.Th=V_;ht.Tr=Jy;ht.Thead=hF;ht.Tbody=pF;ht.Tfoot=mF;ht.Caption=gF;ht.ScrollContainer=Kk;ht.DataRenderer=Yk;const[Iee,Wk]=da("Tabs component was not found in the tree");var bg={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",tab:"m_4ec4dce6",panel:"m_b0c91715",tabSection:"m_fc420b1f",tabLabel:"m_42bbd1ae","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const Xk=Fe((t,e)=>{const n=Pe("TabsList",null,t),{children:r,className:i,grow:a,justify:o,classNames:s,styles:c,style:d,mod:f,...h}=n,m=Wk();return g.jsx(De,{...h,...m.getStyles("list",{className:i,style:d,classNames:s,styles:c,props:n,variant:m.variant}),ref:e,role:"tablist",variant:m.variant,mod:[{grow:a,orientation:m.orientation,placement:m.orientation==="vertical"&&m.placement,inverted:m.inverted},f],"aria-orientation":m.orientation,__vars:{"--tabs-justify":o},children:r})});Xk.classes=bg;Xk.displayName="@mantine/core/TabsList";const Zk=Fe((t,e)=>{const n=Pe("TabsPanel",null,t),{children:r,className:i,value:a,classNames:o,styles:s,style:c,mod:d,keepMounted:f,...h}=n,m=Wk(),v=m.value===a,b=m.keepMounted||f||v?r:null;return g.jsx(De,{...m.getStyles("panel",{className:i,classNames:o,styles:s,style:[c,v?void 0:{display:"none"}],props:n}),ref:e,mod:[{orientation:m.orientation},d],role:"tabpanel",id:m.getPanelId(a),"aria-labelledby":m.getTabId(a),...h,children:b})});Zk.classes=bg;Zk.displayName="@mantine/core/TabsPanel";const Qk=Fe((t,e)=>{const n=Pe("TabsTab",null,t),{className:r,children:i,rightSection:a,leftSection:o,value:s,onClick:c,onKeyDown:d,disabled:f,color:h,style:m,classNames:v,styles:b,vars:x,mod:S,tabIndex:C,...T}=n,E=Xr(),{dir:k}=Ph(),M=Wk(),D=s===M.value,j=B=>{M.onChange(M.allowTabDeactivation&&s===M.value?null:s),c?.(B)},I={classNames:v,styles:b,props:n};return g.jsxs(Br,{...M.getStyles("tab",{className:r,style:m,variant:M.variant,...I}),disabled:f,unstyled:M.unstyled,variant:M.variant,mod:[{active:D,disabled:f,orientation:M.orientation,inverted:M.inverted,placement:M.orientation==="vertical"&&M.placement},S],ref:e,role:"tab",id:M.getTabId(s),"aria-selected":D,tabIndex:C!==void 0?C:D||M.value===null?0:-1,"aria-controls":M.getPanelId(s),onClick:j,__vars:{"--tabs-color":h?Kn(h,E):void 0},onKeyDown:G5({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:M.activateTabWithKeyboard,loop:M.loop,orientation:M.orientation||"horizontal",dir:k,onKeyDown:d}),...T,children:[o&&g.jsx("span",{...M.getStyles("tabSection",I),"data-position":"left",children:o}),i&&g.jsx("span",{...M.getStyles("tabLabel",I),children:i}),a&&g.jsx("span",{...M.getStyles("tabSection",I),"data-position":"right",children:a})]})});Qk.classes=bg;Qk.displayName="@mantine/core/TabsTab";const JR="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",zee={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,variant:"default",placement:"left"},Bee=(t,{radius:e,color:n,autoContrast:r})=>({root:{"--tabs-radius":En(e),"--tabs-color":Kn(n,t),"--tabs-text-color":Ed(r,t)?Fl({color:n,theme:t,autoContrast:r}):void 0}}),na=Fe((t,e)=>{const n=Pe("Tabs",zee,t),{defaultValue:r,value:i,onChange:a,orientation:o,children:s,loop:c,id:d,activateTabWithKeyboard:f,allowTabDeactivation:h,variant:m,color:v,radius:b,inverted:x,placement:S,keepMounted:C,classNames:T,styles:E,unstyled:k,className:M,style:D,vars:j,autoContrast:I,mod:B,attributes:G,...V}=n,K=hi(d),[te,X]=Ur({value:i,defaultValue:r,finalValue:null,onChange:a}),J=ut({name:"Tabs",props:n,classes:bg,className:M,style:D,classNames:T,styles:E,unstyled:k,attributes:G,vars:j,varsResolver:Bee});return g.jsx(Iee,{value:{placement:S,value:te,orientation:o,id:K,loop:c,activateTabWithKeyboard:f,getTabId:mb(`${K}-tab`,JR),getPanelId:mb(`${K}-panel`,JR),onChange:X,allowTabDeactivation:h,variant:m,color:v,radius:b,inverted:x,keepMounted:C,unstyled:k,getStyles:J},children:g.jsx(De,{ref:e,id:K,variant:m,mod:[{orientation:o,inverted:o==="horizontal"&&x,placement:o==="vertical"&&S},B],...J("root"),...V,children:s})})});na.classes=bg;na.displayName="@mantine/core/Tabs";na.Tab=Qk;na.Panel=Zk;na.List=Xk;function $ee({data:t,value:e}){const n=e.map(i=>i.trim().toLowerCase());return t.reduce((i,a)=>(fd(a)?i.push({group:a.group,items:a.items.filter(o=>n.indexOf(o.label.toLowerCase().trim())===-1)}):n.indexOf(a.label.toLowerCase().trim())===-1&&i.push(a),i),[])}function Fee(t,e){return t?e.split(new RegExp(`[${t.join("")}]`)).map(n=>n.trim()).filter(n=>n!==""):[e]}function eL({splitChars:t,allowDuplicates:e,maxTags:n,value:r,currentTags:i}){const a=Fee(t,r),o=e?[...i,...a]:[...new Set([...i,...a])];return n?o.slice(0,n):o}const Uee={maxTags:1/0,acceptValueOnBlur:!0,splitChars:[","],hiddenInputValuesDivider:",",openOnFocus:!0,size:"sm"},Jk=Fe((t,e)=>{const n=Pe("TagsInput",Uee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,size:d,value:f,defaultValue:h,onChange:m,onKeyDown:v,maxTags:b,allowDuplicates:x,onDuplicate:S,variant:C,data:T,dropdownOpened:E,defaultDropdownOpened:k,onDropdownOpen:M,onDropdownClose:D,selectFirstOptionOnChange:j,selectFirstOptionOnDropdownOpen:I,onOptionSubmit:B,comboboxProps:G,filter:V,limit:K,withScrollArea:te,maxDropdownHeight:X,searchValue:J,defaultSearchValue:L,onSearchChange:U,readOnly:F,disabled:q,splitChars:W,onFocus:z,onBlur:Y,onPaste:ne,radius:ie,rightSection:ue,rightSectionWidth:we,rightSectionPointerEvents:be,rightSectionProps:qe,leftSection:ae,leftSectionWidth:se,leftSectionPointerEvents:Le,leftSectionProps:de,inputContainer:He,inputWrapperOrder:Re,withAsterisk:ct,required:Qe,labelProps:Ue,descriptionProps:We,errorProps:rt,wrapperProps:Je,description:St,label:ft,error:vt,withErrorStyles:Be,name:at,form:Ge,id:Ve,clearable:Jt,clearButtonProps:bn,hiddenInputProps:Vt,hiddenInputValuesDivider:Tn,mod:Yt,renderOption:Xn,onRemove:xn,onClear:Nt,scrollAreaProps:et,acceptValueOnBlur:gr,isDuplicate:wn,openOnFocus:Jr,attributes:nt,...un}=n,ur=hi(Ve),kn=sk(T),ha=ix(kn),ei=w.useRef(null),Oa=kr(ei,e),Mn=ax({opened:E,defaultOpened:k,onDropdownOpen:()=>{M?.(),I&&Mn.selectFirstOption()},onDropdownClose:()=>{D?.(),Mn.resetSelectedOption()}}),{styleProps:Hr,rest:{type:hn,autoComplete:Xa,...Za}}=Qc(un),[lt,Rt]=Ur({value:f,defaultValue:h,finalValue:[],onChange:m}),[nn,Vr]=Ur({value:J,defaultValue:L,finalValue:"",onChange:U}),qr=zt=>{Vr(zt),Mn.resetSelectedOption()},Ma=ut({name:"TagsInput",classes:{},props:n,classNames:r,styles:o,unstyled:s}),{resolvedClassNames:ti,resolvedStyles:fn}=ka({props:n,styles:o,classNames:r}),Un=zt=>{const Nn=wn?wn(zt,lt):lt.some(yi=>yi.toLowerCase()===zt.toLowerCase());Nn&&S?.(zt),(!Nn||Nn&&x)&&lt.length<b&&(B?.(zt),qr(""),zt.length>0&&Rt([...lt,zt]))},Pr=zt=>{if(v?.(zt),zt.isPropagationStopped())return;const Nn=nn.trim(),{length:yi}=Nn;if(W.includes(zt.key)&&yi>0&&(Rt(eL({splitChars:W,allowDuplicates:x,maxTags:b,value:nn,currentTags:lt})),qr(""),zt.preventDefault()),zt.key==="Enter"&&yi>0&&!zt.nativeEvent.isComposing){if(zt.preventDefault(),!!document.querySelector(`#${Mn.listId} [data-combobox-option][data-combobox-selected]`))return;Un(Nn)}zt.key==="Backspace"&&yi===0&&lt.length>0&&!zt.nativeEvent.isComposing&&!F&&(xn?.(lt[lt.length-1]),Rt(lt.slice(0,lt.length-1)))},Qa=zt=>{if(ne?.(zt),zt.preventDefault(),zt.clipboardData){const Nn=zt.clipboardData.getData("text/plain");Rt(eL({splitChars:W,allowDuplicates:x,maxTags:b,value:`${nn}${Nn}`,currentTags:lt})),qr("")}},su=lt.map((zt,Nn)=>g.jsx(hd,{withRemoveButton:!F,onRemove:()=>{const yi=lt.slice();yi.splice(Nn,1),Rt(yi),xn?.(zt)},unstyled:s,disabled:q,attributes:nt,...Ma("pill"),children:zt},`${zt}-${Nn}`));w.useEffect(()=>{j&&Mn.selectFirstOption()},[j,lt,nn]);const pa=g.jsx(Wt.ClearButton,{...bn,onClear:()=>{Rt([]),qr(""),ei.current?.focus(),Mn.openDropdown(),Nt?.()}});return g.jsxs(g.Fragment,{children:[g.jsxs(Wt,{store:Mn,classNames:ti,styles:fn,unstyled:s,size:d,readOnly:F,__staticSelector:"TagsInput",attributes:nt,onOptionSubmit:zt=>{B?.(zt),qr(""),lt.length<b&&Rt([...lt,ha[zt].label]),Mn.resetSelectedOption()},...G,children:[g.jsx(Wt.DropdownTarget,{children:g.jsx(mh,{...Hr,__staticSelector:"TagsInput",classNames:ti,styles:fn,unstyled:s,size:d,className:i,style:a,variant:C,disabled:q,radius:ie,rightSection:ue,__clearSection:pa,__clearable:Jt&&lt.length>0&&!q&&!F,rightSectionWidth:we,rightSectionPointerEvents:be,rightSectionProps:qe,leftSection:ae,leftSectionWidth:se,leftSectionPointerEvents:Le,leftSectionProps:de,inputContainer:He,inputWrapperOrder:Re,withAsterisk:ct,required:Qe,labelProps:Ue,descriptionProps:We,errorProps:rt,wrapperProps:Je,description:St,label:ft,error:vt,withErrorStyles:Be,__stylesApiProps:{...n,multiline:!0},id:ur,mod:Yt,attributes:nt,children:g.jsxs(hd.Group,{disabled:q,unstyled:s,...Ma("pillsList"),children:[su,g.jsx(Wt.EventsTarget,{autoComplete:Xa,children:g.jsx(mh.Field,{...Za,ref:Oa,...Ma("inputField"),unstyled:s,onKeyDown:Pr,onFocus:zt=>{z?.(zt),Jr&&Mn.openDropdown()},onBlur:zt=>{Y?.(zt),gr&&Un(nn),Mn.closeDropdown()},onPaste:Qa,value:nn,onChange:zt=>qr(zt.currentTarget.value),required:Qe&&lt.length===0,disabled:q,readOnly:F,id:ur})})]})})}),g.jsx(Ck,{data:$ee({data:kn,value:lt}),hidden:F||q,filter:V,search:nn,limit:K,hiddenWhenEmpty:!0,withScrollArea:te,maxDropdownHeight:X,unstyled:s,labelId:ft?`${ur}-label`:void 0,"aria-label":ft?void 0:un["aria-label"],renderOption:Xn,scrollAreaProps:et})]}),g.jsx(Wt.HiddenInput,{name:at,form:Ge,value:lt,valuesDivider:Tn,disabled:q,...Vt})]})});Jk.classes={...Wi.classes,...Wt.classes};Jk.displayName="@mantine/core/TagsInput";const Cs=Fe((t,e)=>{const n=Pe("TextInput",null,t);return g.jsx(Wi,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});Cs.classes=Wi.classes;Cs.displayName="@mantine/core/TextInput";var vF={root:"m_7341320d"};const Hee=(t,{size:e,radius:n,variant:r,gradient:i,color:a,autoContrast:o})=>{const s=t.variantColorResolver({color:a||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:o});return{root:{"--ti-size":jt(e,"ti-size"),"--ti-radius":n===void 0?void 0:En(n),"--ti-bg":a||r?s.background:void 0,"--ti-color":a||r?s.color:void 0,"--ti-bd":a||r?s.border:void 0}}},vn=Fe((t,e)=>{const n=Pe("ThemeIcon",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,autoContrast:d,attributes:f,...h}=n,m=ut({name:"ThemeIcon",classes:vF,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:f,vars:c,varsResolver:Hee});return g.jsx(De,{ref:e,...m("root"),...h})});vn.classes=vF;vn.displayName="@mantine/core/ThemeIcon";const Vee=["h1","h2","h3","h4","h5","h6"],qee=["xs","sm","md","lg","xl"];function Gee(t,e){const n=e!==void 0?e:`h${t}`;return Vee.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:qee.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}:{fontSize:Oe(n),fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}}var yF={root:"m_8a5d1357"};const Yee={order:1},Kee=(t,{order:e,size:n,lineClamp:r,textWrap:i})=>{const a=Gee(e||1,n);return{root:{"--title-fw":a.fontWeight,"--title-lh":a.lineHeight,"--title-fz":a.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},Yi=Fe((t,e)=>{const n=Pe("Title",Yee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,order:c,vars:d,size:f,variant:h,lineClamp:m,textWrap:v,mod:b,attributes:x,...S}=n,C=ut({name:"Title",props:n,classes:yF,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:x,vars:d,varsResolver:Kee});return[1,2,3,4,5,6].includes(c)?g.jsx(De,{...C("root"),component:`h${c}`,variant:h,ref:e,mod:[{order:c,"data-line-clamp":typeof m=="number"},b],size:f,...S}):null});Yi.classes=yF;Yi.displayName="@mantine/core/Title";function Wee(t){let e=t,n=!1;const r=new Set;return{getState(){return e},updateState(i){e=typeof i=="function"?i(e):i},setState(i){this.updateState(i),r.forEach(a=>a(e))},initialize(i){n||(e=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function Xee(t){return w.useSyncExternalStore(t.subscribe,()=>t.getState(),()=>t.getState())}function Zee(t,e,n){const r=[],i=[],a={};for(const o of t){const s=o.position||e;a[s]=a[s]||0,a[s]+=1,a[s]<=n?i.push(o):r.push(o)}return{notifications:i,queue:r}}const Qee=()=>Wee({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Od=Qee(),Jee=(t=Od)=>Xee(t);function zh(t,e){const n=t.getState(),r=e([...n.notifications,...n.queue]),i=Zee(r,n.defaultPosition,n.limit);t.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function ete(t,e=Od){const n=t.id||vb();return zh(e,r=>t.id&&r.some(i=>i.id===t.id)?r:[...r,{...t,id:n}]),n}function bF(t,e=Od){return zh(e,n=>n.filter(r=>r.id===t?(r.onClose?.(r),!1):!0)),t}function tte(t,e=Od){return zh(e,n=>n.map(r=>r.id===t.id?{...r,...t}:r)),t.id}function nte(t=Od){zh(t,()=>[])}function rte(t=Od){zh(t,e=>e.slice(0,t.getState().limit))}const bo={show:ete,hide:bF,update:tte,clean:nte,cleanQueue:rte,updateState:zh};function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},q_(t,e)}function xF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,q_(t,e)}var eC={exports:{}},tC,tL;function ite(){if(tL)return tC;tL=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return tC=t,tC}var nC,nL;function ate(){if(nL)return nC;nL=1;var t=ite();function e(){}function n(){}return n.resetWarningCache=e,nC=function(){function r(o,s,c,d,f,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},nC}var rL;function ote(){return rL||(rL=1,eC.exports=ate()()),eC.exports}var ste=ote();const Vn=ua(ste),iL={disabled:!1},Tb=sr.createContext(null);var lte=function(e){return e.scrollTop},ym="unmounted",Nu="exited",Iu="entering",Ff="entered",G_="exiting",ql=(function(t){xF(e,t);function e(r,i){var a;a=t.call(this,r,i)||this;var o=i,s=o&&!o.isMounting?r.enter:r.appear,c;return a.appearStatus=null,r.in?s?(c=Nu,a.appearStatus=Iu):c=Ff:r.unmountOnExit||r.mountOnEnter?c=ym:c=Nu,a.state={status:c},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var o=i.in;return o&&a.status===ym?{status:Nu}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Iu&&o!==Ff&&(a=Iu):(o===Iu||o===Ff)&&(a=G_)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a,o,s;return a=o=s=i,i!=null&&typeof i!="number"&&(a=i.exit,o=i.enter,s=i.appear!==void 0?i.appear:o),{exit:a,enter:o,appear:s}},n.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===Iu){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:vm.findDOMNode(this);o&&lte(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Nu&&this.setState({status:ym})},n.performEnter=function(i){var a=this,o=this.props.enter,s=this.context?this.context.isMounting:i,c=this.props.nodeRef?[s]:[vm.findDOMNode(this),s],d=c[0],f=c[1],h=this.getTimeouts(),m=s?h.appear:h.enter;if(!i&&!o||iL.disabled){this.safeSetState({status:Ff},function(){a.props.onEntered(d)});return}this.props.onEnter(d,f),this.safeSetState({status:Iu},function(){a.props.onEntering(d,f),a.onTransitionEnd(m,function(){a.safeSetState({status:Ff},function(){a.props.onEntered(d,f)})})})},n.performExit=function(){var i=this,a=this.props.exit,o=this.getTimeouts(),s=this.props.nodeRef?void 0:vm.findDOMNode(this);if(!a||iL.disabled){this.safeSetState({status:Nu},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:G_},function(){i.props.onExiting(s),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Nu},function(){i.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,o=!0;return this.nextCallback=function(s){o&&(o=!1,a.nextCallback=null,i(s))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:vm.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!o||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],d=c[0],f=c[1];this.props.addEndListener(d,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ym)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var s=Pk(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return sr.createElement(Tb.Provider,{value:null},typeof o=="function"?o(i,s):sr.cloneElement(sr.Children.only(o),s))},e})(sr.Component);ql.contextType=Tb;ql.propTypes={};function jf(){}ql.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:jf,onEntering:jf,onEntered:jf,onExit:jf,onExiting:jf,onExited:jf};ql.UNMOUNTED=ym;ql.EXITED=Nu;ql.ENTERING=Iu;ql.ENTERED=Ff;ql.EXITING=G_;function cte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eP(t,e){var n=function(a){return e&&w.isValidElement(a)?e(a):a},r=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function ute(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var a in t)a in e?i.length&&(r[a]=i,i=[]):i.push(a);var o,s={};for(var c in e){if(r[c])for(o=0;o<r[c].length;o++){var d=r[c][o];s[r[c][o]]=n(d)}s[c]=n(c)}for(o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s}function Gu(t,e,n){return n[e]!=null?n[e]:t.props[e]}function dte(t,e){return eP(t.children,function(n){return w.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Gu(n,"appear",t),enter:Gu(n,"enter",t),exit:Gu(n,"exit",t)})})}function fte(t,e,n){var r=eP(t.children),i=ute(e,r);return Object.keys(i).forEach(function(a){var o=i[a];if(w.isValidElement(o)){var s=a in e,c=a in r,d=e[a],f=w.isValidElement(d)&&!d.props.in;c&&(!s||f)?i[a]=w.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Gu(o,"exit",t),enter:Gu(o,"enter",t)}):!c&&s&&!f?i[a]=w.cloneElement(o,{in:!1}):c&&s&&w.isValidElement(d)&&(i[a]=w.cloneElement(o,{onExited:n.bind(null,o),in:d.props.in,exit:Gu(o,"exit",t),enter:Gu(o,"enter",t)}))}}),i}var hte=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},pte={component:"div",childFactory:function(e){return e}},Lc=(function(t){xF(e,t);function e(r,i){var a;a=t.call(this,r,i)||this;var o=a.handleExited.bind(cte(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,a){var o=a.children,s=a.handleExited,c=a.firstRender;return{children:c?dte(i,s):fte(i,o,s),firstRender:!1}},n.handleExited=function(i,a){var o=eP(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(s){var c=Ab({},s.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,a=i.component,o=i.childFactory,s=Pk(i,["component","childFactory"]),c=this.state.contextValue,d=hte(this.state.children).map(o);return delete s.appear,delete s.enter,delete s.exit,a===null?sr.createElement(Tb.Provider,{value:c},d):sr.createElement(Tb.Provider,{value:c},sr.createElement(a,s,d))},e})(sr.Component);Lc.propTypes={};Lc.defaultProps=pte;const wF=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function mte(t,e){return t.reduce((n,r)=>(n[r.position||e].push(r),n),wF.reduce((n,r)=>(n[r]=[],n),{}))}const aL={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},gte={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function vte({state:t,maxHeight:e,position:n,transitionDuration:r}){const[i,a]=n.split("-"),o=a==="center"?`${i}-center`:a,s={opacity:0,maxHeight:e,transform:aL[o],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},c={opacity:1,transform:gte[o]},d={opacity:0,maxHeight:0,transform:aL[o]};return{...s,...{entering:c,entered:c,exiting:d,exited:d}[t]}}function yte(t,e){return typeof e=="number"?e:e===!1||t===!1?!1:t}const SF=w.forwardRef(({data:t,onHide:e,autoClose:n,...r},i)=>{const{autoClose:a,message:o,...s}=t,c=yte(n,t.autoClose),d=w.useRef(-1),f=()=>window.clearTimeout(d.current),h=()=>{e(t.id),f()},m=()=>{typeof c=="number"&&(d.current=window.setTimeout(h,c))};return w.useEffect(()=>{t.onOpen?.(t)},[]),w.useEffect(()=>(m(),f),[c]),g.jsx(Ik,{...r,...s,onClose:h,ref:i,onMouseEnter:f,onMouseLeave:m,children:o})});SF.displayName="@mantine/notifications/NotificationContainer";var CF={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const bte=ql,xte={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Wa("overlay"),store:Od,withinPortal:!0},wte=(t,{zIndex:e,containerWidth:n})=>({root:{"--notifications-z-index":e?.toString(),"--notifications-container-width":Oe(n)}}),Gl=Fe((t,e)=>{const n=Pe("Notifications",xte,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,position:d,autoClose:f,transitionDuration:h,containerWidth:m,notificationMaxHeight:v,limit:b,zIndex:x,store:S,portalProps:C,withinPortal:T,...E}=n,k=Xr(),M=Jee(S),D=qG(),j=$0(),I=w.useRef({}),B=w.useRef(0),V=(k.respectReducedMotion?j:!1)?1:h,K=ut({name:"Notifications",classes:CF,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:c,varsResolver:wte});w.useEffect(()=>{S?.updateState(J=>({...J,limit:b||5,defaultPosition:d}))},[b,d]),ud(()=>{M.notifications.length>B.current&&setTimeout(()=>D(),0),B.current=M.notifications.length},[M.notifications]);const te=mte(M.notifications,d),X=wF.reduce((J,L)=>(J[L]=te[L].map(({style:U,...F})=>g.jsx(bte,{timeout:V,onEnter:()=>I.current[F.id].offsetHeight,nodeRef:{current:I.current[F.id]},children:q=>g.jsx(SF,{ref:W=>{W&&(I.current[F.id]=W)},data:F,onHide:W=>bF(W,S),autoClose:f,...K("notification",{style:{...vte({state:q,position:L,transitionDuration:V,maxHeight:v}),...U}})})},F.id)),J),{});return g.jsxs(Pl,{withinPortal:T,...C,children:[g.jsx(De,{...K("root"),"data-position":"top-center",ref:e,...E,children:g.jsx(Lc,{children:X["top-center"]})}),g.jsx(De,{...K("root"),"data-position":"top-left",...E,children:g.jsx(Lc,{children:X["top-left"]})}),g.jsx(De,{...K("root",{className:cd.classNames.fullWidth}),"data-position":"top-right",...E,children:g.jsx(Lc,{children:X["top-right"]})}),g.jsx(De,{...K("root",{className:cd.classNames.fullWidth}),"data-position":"bottom-right",...E,children:g.jsx(Lc,{children:X["bottom-right"]})}),g.jsx(De,{...K("root"),"data-position":"bottom-left",...E,children:g.jsx(Lc,{children:X["bottom-left"]})}),g.jsx(De,{...K("root"),"data-position":"bottom-center",...E,children:g.jsx(Lc,{children:X["bottom-center"]})})]})});Gl.classes=CF;Gl.displayName="@mantine/notifications/Notifications";Gl.show=bo.show;Gl.hide=bo.hide;Gl.update=bo.update;Gl.clean=bo.clean;Gl.cleanQueue=bo.cleanQueue;Gl.updateState=bo.updateState;const Ste=16,Y_=12,AF=1e5,Cte=256;function _F(t){return crypto.getRandomValues(new Uint8Array(t))}function K_(){return _F(Ste)}function EF(){return _F(Y_)}async function Ate(t,e){const r=new TextEncoder().encode(t),i=await crypto.subtle.importKey("raw",r,"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:e.buffer,iterations:AF,hash:"SHA-256"},i,{name:"AES-GCM",length:Cte},!1,["encrypt","decrypt"])}async function TF(t,e){const r=new TextEncoder().encode(t),i=await crypto.subtle.importKey("raw",r,"PBKDF2",!1,["deriveBits"]),a=await crypto.subtle.deriveBits({name:"PBKDF2",salt:e.buffer,iterations:AF,hash:"SHA-256"},i,256);return Cx(a)}async function kF(t,e){const n=EF(),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n.buffer},e,t),i=new Uint8Array(n.length+r.byteLength);return i.set(n),i.set(new Uint8Array(r),n.length),i.buffer}async function kb(t,e){const r=new TextEncoder().encode(t),i=await kF(r.buffer,e);return Cx(i)}async function _te(t,e){const n=new Uint8Array(t),r=n.slice(0,Y_),i=n.slice(Y_);return crypto.subtle.decrypt({name:"AES-GCM",iv:r.buffer},e,i)}async function W_(t,e){const n=tP(t),r=await _te(n,e);return new TextDecoder().decode(r)}function Cx(t){const e=new Uint8Array(t);let n="";for(let r=0;r<e.byteLength;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function tP(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n.buffer}function X_(t){return Cx(t.buffer)}function nP(t){return new Uint8Array(tP(t))}function rP(t){const e={minLength:t.length>=8,hasUppercase:/[A-Z]/.test(t),hasLowercase:/[a-z]/.test(t),hasNumber:/[0-9]/.test(t),hasSpecial:/[^A-Za-z0-9]/.test(t)},n=Object.values(e).filter(Boolean).length;return{isStrong:n>=4&&e.minLength,score:n,checks:e}}async function Ete(t){const e=K_(),n=K_(),r=await TF(t,n);return{salt:X_(e),verificationSalt:X_(n),verificationHash:r}}async function Tte(t,e){const n=nP(e.verificationSalt);return await TF(t,n)===e.verificationHash}async function Z_(t,e){const n=nP(e.salt);return Ate(t,n)}const PF="hemoio_credentials",OF=w.createContext(null);function rC(){try{const t=localStorage.getItem(PF);return t?JSON.parse(t):null}catch{return null}}function kte(t){localStorage.setItem(PF,JSON.stringify(t))}function Pte({children:t}){const e=rC(),[n,r]=w.useState(e?"locked":"needs_setup"),[i,a]=w.useState(null),[o,s]=w.useState(e),c=w.useCallback(()=>o!==null||rC()!==null,[o]),d=w.useCallback(async v=>{const b=await Ete(v);kte(b),s(b);const x=await Z_(v,b);a(x),r("unlocked")},[]),f=w.useCallback(async v=>{const b=o??rC();if(!b||!await Tte(v,b))return!1;const S=await Z_(v,b);return a(S),s(b),r("unlocked"),!0},[o]),h=w.useCallback(()=>{a(null),r("locked")},[]),m={status:n,encryptionKey:i,unlock:f,lock:h,setupPassword:d,isSetupComplete:c};return g.jsx(OF.Provider,{value:m,children:t})}function Md(){const t=w.useContext(OF);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}var Ote={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const wt=(t,e,n,r)=>{const i=w.forwardRef(({color:a="currentColor",size:o=24,stroke:s=2,title:c,className:d,children:f,...h},m)=>w.createElement("svg",{ref:m,...Ote[t],width:o,height:o,className:["tabler-icon",`tabler-icon-${e}`,d].join(" "),strokeWidth:s,stroke:a,...h},[c&&w.createElement("title",{key:"svg-title"},c),...r.map(([v,b])=>w.createElement(v,b)),...Array.isArray(f)?f:[f]]));return i.displayName=`${n}`,i};const Mte=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],la=wt("outline","alert-circle","AlertCircle",Mte);const Dte=[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],Ml=wt("outline","alert-triangle","AlertTriangle",Dte);const jte=[["path",{d:"M20 11a8.1 8.1 0 0 0 -6.986 -6.918a8.095 8.095 0 0 0 -8.019 3.918",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15 3",key:"svg-1"}],["path",{d:"M18 16a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M4 8a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-4"}]],Rte=wt("outline","analyze","Analyze",jte);const Lte=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 13l-6 6",key:"svg-1"}],["path",{d:"M6 13l6 6",key:"svg-2"}]],iP=wt("outline","arrow-down","ArrowDown",Lte);const Nte=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]],Ax=wt("outline","arrow-left","ArrowLeft",Nte);const Ite=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],zte=wt("outline","arrow-right","ArrowRight",Ite);const Bte=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]],aP=wt("outline","arrow-up","ArrowUp",Bte);const $te=[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]],Fte=wt("outline","book","Book",$te);const Ute=[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]],MF=wt("outline","brain","Brain",Ute);const Hte=[["path",{d:"M7.5 10.625l-4.5 -2.813l4.5 -2.812l4.5 2.813m-4.5 2.812l4.5 -2.813m-4.5 2.813l-4.5 2.823l4.5 2.802m0 -5.625l4.5 2.823m0 -5.636l4.5 2.791l4.5 -2.812l-4.5 -2.791l-4.5 2.813m-4.5 8.438l4.5 -2.802m-4.5 2.802v1.123l4.5 2.627l4.5 -2.627v-1.123m-4.5 -2.802l4.5 -2.823l4.5 2.823l-4.5 2.802m-4.5 -2.802l4.5 2.802",key:"svg-0"}]],Vte=wt("outline","brand-dropbox","BrandDropbox",Hte);const qte=[["path",{d:"M12 10l-6 10l-3 -5l6 -10l3 5",key:"svg-0"}],["path",{d:"M9 15h12l-3 5h-12",key:"svg-1"}],["path",{d:"M15 15l-6 -10h6l6 10l-6 0",key:"svg-2"}]],Gte=wt("outline","brand-google-drive","BrandGoogleDrive",qte);const Yte=[["path",{d:"M11.217 19.384a3.501 3.501 0 0 0 6.783 -1.217v-5.167l-6 -3.35",key:"svg-0"}],["path",{d:"M5.214 15.014a3.501 3.501 0 0 0 4.446 5.266l4.34 -2.534v-6.946",key:"svg-1"}],["path",{d:"M6 7.63c-1.391 -.236 -2.787 .395 -3.534 1.689a3.474 3.474 0 0 0 1.271 4.745l4.263 2.514l6 -3.348",key:"svg-2"}],["path",{d:"M12.783 4.616a3.501 3.501 0 0 0 -6.783 1.217v5.067l6 3.45",key:"svg-3"}],["path",{d:"M18.786 8.986a3.501 3.501 0 0 0 -4.446 -5.266l-4.34 2.534v6.946",key:"svg-4"}],["path",{d:"M18 16.302c1.391 .236 2.787 -.395 3.534 -1.689a3.474 3.474 0 0 0 -1.271 -4.745l-4.308 -2.514l-5.955 3.42",key:"svg-5"}]],Kte=wt("outline","brand-openai","BrandOpenai",Yte);const Wte=[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M9 8l1 0",key:"svg-1"}],["path",{d:"M9 12l1 0",key:"svg-2"}],["path",{d:"M9 16l1 0",key:"svg-3"}],["path",{d:"M14 8l1 0",key:"svg-4"}],["path",{d:"M14 12l1 0",key:"svg-5"}],["path",{d:"M14 16l1 0",key:"svg-6"}],["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16",key:"svg-7"}]],oP=wt("outline","building","Building",Wte);const Xte=[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]],gh=wt("outline","calendar","Calendar",Xte);const Zte=[["path",{d:"M3 13a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -6",key:"svg-0"}],["path",{d:"M15 9a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -10",key:"svg-1"}],["path",{d:"M9 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -14",key:"svg-2"}],["path",{d:"M4 20h14",key:"svg-3"}]],Qte=wt("outline","chart-bar","ChartBar",Zte);const Jte=[["path",{d:"M4 19l16 0",key:"svg-0"}],["path",{d:"M4 15l4 -6l4 2l4 -5l4 4",key:"svg-1"}]],Tm=wt("outline","chart-line","ChartLine",Jte);const ene=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],On=wt("outline","check","Check",ene);const tne=[["path",{d:"M9.615 20h-2.615a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8",key:"svg-0"}],["path",{d:"M14 19l2 2l4 -4",key:"svg-1"}],["path",{d:"M9 8h4",key:"svg-2"}],["path",{d:"M9 12h2",key:"svg-3"}]],nne=wt("outline","checklist","Checklist",tne);const rne=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],DF=wt("outline","chevron-down","ChevronDown",rne);const ine=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],ane=wt("outline","chevron-right","ChevronRight",ine);const one=[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]],jF=wt("outline","chevron-up","ChevronUp",one);const sne=[["path",{d:"M7 9.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667l0 -8.666",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]],iC=wt("outline","copy","Copy",sne);const lne=[["path",{d:"M4 6a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]],sP=wt("outline","database","Database",lne);const cne=[["path",{d:"M3 5a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1v-10",key:"svg-0"}],["path",{d:"M7 20h10",key:"svg-1"}],["path",{d:"M9 16v4",key:"svg-2"}],["path",{d:"M15 16v4",key:"svg-3"}]],lP=wt("outline","device-desktop","DeviceDesktop",cne);const une=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],_x=wt("outline","download","Download",une);const dne=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]],RF=wt("outline","edit","Edit",dne);const fne=[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]],hne=wt("outline","external-link","ExternalLink",fne);const pne=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2",key:"svg-1"}],["path",{d:"M9 17l0 -5",key:"svg-2"}],["path",{d:"M12 17l0 -1",key:"svg-3"}],["path",{d:"M15 17l0 -3",key:"svg-4"}]],mne=wt("outline","file-analytics","FileAnalytics",pne);const gne=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-1"}],["path",{d:"M7 16.5a1.5 1.5 0 0 0 -3 0v3a1.5 1.5 0 0 0 3 0",key:"svg-2"}],["path",{d:"M10 20.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75",key:"svg-3"}],["path",{d:"M16 15l2 6l2 -6",key:"svg-4"}]],vne=wt("outline","file-type-csv","FileTypeCsv",gne);const yne=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-1"}],["path",{d:"M5 18h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6",key:"svg-2"}],["path",{d:"M17 18h2",key:"svg-3"}],["path",{d:"M20 15h-3v6",key:"svg-4"}],["path",{d:"M11 15v6h1a2 2 0 0 0 2 -2v-2a2 2 0 0 0 -2 -2h-1",key:"svg-5"}]],bne=wt("outline","file-type-pdf","FileTypePdf",yne);const xne=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2",key:"svg-1"}],["path",{d:"M12 11v6",key:"svg-2"}],["path",{d:"M9.5 13.5l2.5 -2.5l2.5 2.5",key:"svg-3"}]],wne=wt("outline","file-upload","FileUpload",xne);const Sne=[["path",{d:"M6 20.735a2 2 0 0 1 -1 -1.735v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-1",key:"svg-0"}],["path",{d:"M11 17a2 2 0 0 1 2 2v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1v-2a2 2 0 0 1 2 -2",key:"svg-1"}],["path",{d:"M11 5l-1 0",key:"svg-2"}],["path",{d:"M13 7l-1 0",key:"svg-3"}],["path",{d:"M11 9l-1 0",key:"svg-4"}],["path",{d:"M13 11l-1 0",key:"svg-5"}],["path",{d:"M11 13l-1 0",key:"svg-6"}],["path",{d:"M13 15l-1 0",key:"svg-7"}]],Cne=wt("outline","file-zip","FileZip",Sne);const Ane=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2",key:"svg-1"}]],_ne=wt("outline","file","File",Ane);const Ene=[["path",{d:"M15 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M18 17h-7a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h4l5 5v7a2 2 0 0 1 -2 2",key:"svg-1"}],["path",{d:"M16 17v2a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-2"}]],Tne=wt("outline","files","Files",Ene);const kne=[["path",{d:"M9 3l6 0",key:"svg-0"}],["path",{d:"M10 9l4 0",key:"svg-1"}],["path",{d:"M10 3v6l-4 11a.7 .7 0 0 0 .5 1h11a.7 .7 0 0 0 .5 -1l-4 -11v-6",key:"svg-2"}]],Pne=wt("outline","flask","Flask",kne);const One=[["path",{d:"M5 19l2.757 -7.351a1 1 0 0 1 .936 -.649h12.307a1 1 0 0 1 .986 1.164l-.996 5.211a2 2 0 0 1 -1.964 1.625h-14.026a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v2",key:"svg-0"}]],km=wt("outline","folder-open","FolderOpen",One);const Mne=[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]],LF=wt("outline","folder","Folder",Mne);const Dne=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]],cP=wt("outline","info-circle","InfoCircle",Dne);const jne=[["path",{d:"M20 16v-8l3 8v-8",key:"svg-0"}],["path",{d:"M15 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2",key:"svg-1"}],["path",{d:"M1 8h3v6.5a1.5 1.5 0 0 1 -3 0v-.5",key:"svg-2"}],["path",{d:"M7 15a1 1 0 0 0 1 1h1a1 1 0 0 0 1 -1v-2a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1h1a1 1 0 0 1 1 1",key:"svg-3"}]],Rne=wt("outline","json","Json",jne);const Lne=[["path",{d:"M16.555 3.843l3.602 3.602a2.877 2.877 0 0 1 0 4.069l-2.643 2.643a2.877 2.877 0 0 1 -4.069 0l-.301 -.301l-6.558 6.558a2 2 0 0 1 -1.239 .578l-.175 .008h-1.172a1 1 0 0 1 -.993 -.883l-.007 -.117v-1.172a2 2 0 0 1 .467 -1.284l.119 -.13l.414 -.414h2v-2h2v-2l2.144 -2.144l-.301 -.301a2.877 2.877 0 0 1 0 -4.069l2.643 -2.643a2.877 2.877 0 0 1 4.069 0",key:"svg-0"}],["path",{d:"M15 9h.01",key:"svg-1"}]],Pm=wt("outline","key","Key",Lne);const Nne=[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2l0 -6",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-5a4 4 0 0 1 8 0",key:"svg-2"}]],Ine=wt("outline","lock-open","LockOpen",Nne);const zne=[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]],Io=wt("outline","lock","Lock",zne);const Bne=[["path",{d:"M5 12l14 0",key:"svg-0"}]],uP=wt("outline","minus","Minus",Bne);const $ne=[["path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454l0 .008",key:"svg-0"}]],Fne=wt("outline","moon","Moon",$ne);const Une=[["path",{d:"M13 20l7 -7",key:"svg-0"}],["path",{d:"M13 20v-6a1 1 0 0 1 1 -1h6v-7a2 2 0 0 0 -2 -2h-12a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7",key:"svg-1"}]],Ex=wt("outline","note","Note",Une);const Hne=[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]],Vne=wt("outline","photo","Photo",Hne);const qne=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]],dP=wt("outline","plus","Plus",qne);const Gne=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],rd=wt("outline","refresh","Refresh",Gne);const Yne=[["path",{d:"M6 6a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2l0 -4",key:"svg-0"}],["path",{d:"M12 2v2",key:"svg-1"}],["path",{d:"M9 12v9",key:"svg-2"}],["path",{d:"M15 12v9",key:"svg-3"}],["path",{d:"M5 16l4 -2",key:"svg-4"}],["path",{d:"M15 14l4 2",key:"svg-5"}],["path",{d:"M9 18h6",key:"svg-6"}],["path",{d:"M10 8v.01",key:"svg-7"}],["path",{d:"M14 8v.01",key:"svg-8"}]],Kne=wt("outline","robot","Robot",Yne);const Wne=[["path",{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3",key:"svg-0"}],["path",{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3",key:"svg-1"}],["path",{d:"M14 9a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],Xne=wt("outline","rocket","Rocket",Wne);const Zne=[["path",{d:"M3 10a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],fP=wt("outline","search","Search",Zne);const Qne=[["path",{d:"M3 7a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3",key:"svg-0"}],["path",{d:"M3 15a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3l0 -2",key:"svg-1"}],["path",{d:"M7 8l0 .01",key:"svg-2"}],["path",{d:"M7 16l0 .01",key:"svg-3"}]],Pb=wt("outline","server","Server",Qne);const Jne=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],hP=wt("outline","settings","Settings",Jne);const ere=[["path",{d:"M8 12a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7",key:"svg-1"}]],tre=wt("outline","sun","Sun",ere);const nre=[["path",{d:"M16 3l4 4l-4 4",key:"svg-0"}],["path",{d:"M10 7l10 0",key:"svg-1"}],["path",{d:"M8 13l-4 4l4 4",key:"svg-2"}],["path",{d:"M4 17l9 0",key:"svg-3"}]],oL=wt("outline","switch-horizontal","SwitchHorizontal",nre);const rre=[["path",{d:"M11 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M7 12a5 5 0 1 0 10 0a5 5 0 1 0 -10 0",key:"svg-1"}],["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]],Q_=wt("outline","target","Target",rre);const ire=[["path",{d:"M20 8.04l-12.122 12.124a2.857 2.857 0 1 1 -4.041 -4.04l12.122 -12.124",key:"svg-0"}],["path",{d:"M7 13h8",key:"svg-1"}],["path",{d:"M19 15l1.5 1.6a2 2 0 1 1 -3 0l1.5 -1.6",key:"svg-2"}],["path",{d:"M15 3l6 6",key:"svg-3"}]],Tx=wt("outline","test-pipe","TestPipe",ire);const are=[["path",{d:"M4 16l6 -7l5 5l5 -6",key:"svg-0"}],["path",{d:"M14 14a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M9 9a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M3 16a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M19 8a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}]],NF=wt("outline","timeline","Timeline",are);const ore=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]],kx=wt("outline","trash","Trash",ore);const sre=[["path",{d:"M3 7l6 6l4 -4l8 8",key:"svg-0"}],["path",{d:"M21 10l0 7l-7 0",key:"svg-1"}]],lre=wt("outline","trending-down","TrendingDown",sre);const cre=[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]],IF=wt("outline","trending-up","TrendingUp",cre);const ure=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],Om=wt("outline","upload","Upload",ure);const dre=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],Vi=wt("outline","x","X",dre);function fre({password:t,confirmPassword:e,onPasswordChange:n,onConfirmPasswordChange:r}){const[i,a]=w.useState(!1),[o,s]=w.useState(!1),c=x=>x<=1?"red":x<=2?"orange":x<=3?"yellow":"green",d=x=>x<=1?"Weak":x<=2?"Fair":x<=3?"Good":"Strong",f=rP(t),h=t===e&&t.length>0,m=e.length>0&&!h,v=w.useCallback(x=>{n(x.target.value)},[n]),b=w.useCallback(x=>{r(x.target.value)},[r]);return g.jsxs(tt,{gap:"lg",children:[g.jsx(oe,{size:"sm",c:"dimmed",children:"Create a strong password to protect your health data. This password will be used to encrypt all your lab results locally."}),g.jsx(Ms,{label:"Password",placeholder:"Enter your password",value:t,onChange:v,visible:i,onVisibilityChange:a,"aria-describedby":"password-requirements",autoFocus:!0,required:!0}),t.length>0&&g.jsxs(tt,{gap:"xs",children:[g.jsx(ze,{justify:"space-between",children:g.jsxs(oe,{size:"sm",c:"dimmed",children:["Password strength: ",d(f.score)]})}),g.jsx(Ol,{value:f.score/5*100,color:c(f.score),size:"sm","aria-label":`Password strength: ${d(f.score)}`})]}),g.jsxs("div",{id:"password-requirements",children:[g.jsx(oe,{size:"sm",fw:500,mb:"xs",children:"Password requirements:"}),g.jsx(hre,{strength:f})]}),g.jsx(Ms,{label:"Confirm password",placeholder:"Confirm your password",value:e,onChange:b,visible:o,onVisibilityChange:s,error:m?"Passwords do not match":void 0,required:!0})]})}function hre({strength:t}){const e=[{label:"At least 8 characters",met:t.checks.minLength},{label:"At least one uppercase letter",met:t.checks.hasUppercase},{label:"At least one lowercase letter",met:t.checks.hasLowercase},{label:"At least one number",met:t.checks.hasNumber},{label:"At least one special character",met:t.checks.hasSpecial}];return g.jsx(Ua,{spacing:"xs",size:"sm",center:!0,children:e.map(n=>g.jsx(Ua.Item,{icon:g.jsx(vn,{color:n.met?"green":"gray",size:"sm",radius:"xl","aria-hidden":"true",children:n.met?g.jsx(On,{size:12}):g.jsx(Vi,{size:12})}),children:g.jsx(oe,{size:"sm",c:n.met?"green":"dimmed",children:n.label})},n.label))})}function pP(){return typeof window<"u"&&"showDirectoryPicker"in window&&typeof window.showDirectoryPicker=="function"}const aC="hemoio-data.encrypted",oC="hemoio_filesystem_handle";class Mm{directoryHandle=null;async save(e){const n=await this.getDirectoryHandle();if(!n)throw new Error("No directory selected. Please select a folder first.");if(await this.checkPermission(n)!=="granted")throw new Error("Permission denied. Please grant folder access to continue.");const a=await(await n.getFileHandle(aC,{create:!0})).createWritable();try{await a.write(e)}finally{await a.close()}}async load(){const e=await this.getDirectoryHandle();if(!e)throw new Error("No directory selected. Please select a folder first.");if(await this.checkPermission(e)!=="granted")throw new Error("Permission denied. Please grant folder access to continue.");try{return await(await(await e.getFileHandle(aC)).getFile()).arrayBuffer()}catch(r){throw r instanceof DOMException&&r.name==="NotFoundError"?new Error("No backup data found"):r}}async exists(){const e=await this.getDirectoryHandle();if(!e||await this.checkPermission(e)!=="granted")return!1;try{return await e.getFileHandle(aC),!0}catch{return!1}}async selectDirectory(){try{const e=await window.showDirectoryPicker({mode:"readwrite",startIn:"documents"});return this.directoryHandle=e,await this.persistHandle(e),e}catch(e){if(e instanceof DOMException){if(e.name==="AbortError")return null;if(e.name==="NotAllowedError")throw new Error("Please grant folder access to continue.")}throw e}}async hasStoredHandle(){return await this.loadHandle()!==null}async getPermissionState(){const e=await this.getDirectoryHandle();return e?this.checkPermission(e):null}async requestPermission(){const e=await this.getDirectoryHandle();if(!e)throw new Error("No directory selected. Please select a folder first.");return await e.requestPermission({mode:"readwrite"})}async getDirectoryName(){return(await this.getDirectoryHandle())?.name??null}async clearStoredHandle(){this.directoryHandle=null,await this.deletePersistedHandle()}async getDirectoryHandle(){if(this.directoryHandle)return this.directoryHandle;const e=await this.loadHandle();return e&&(this.directoryHandle=e),e}async checkPermission(e){return await e.queryPermission({mode:"readwrite"})}async persistHandle(e){const n=await this.openIndexedDB();return new Promise((r,i)=>{const a=n.transaction("handles","readwrite"),s=a.objectStore("handles").put(e,oC);s.onsuccess=()=>r(),s.onerror=()=>i(s.error),a.oncomplete=()=>n.close()})}async loadHandle(){try{const e=await this.openIndexedDB();return new Promise((n,r)=>{const i=e.transaction("handles","readonly"),o=i.objectStore("handles").get(oC);o.onsuccess=()=>{n(o.result??null)},o.onerror=()=>r(o.error),i.oncomplete=()=>e.close()})}catch{return null}}async deletePersistedHandle(){try{const e=await this.openIndexedDB();return new Promise((n,r)=>{const i=e.transaction("handles","readwrite"),o=i.objectStore("handles").delete(oC);o.onsuccess=()=>n(),o.onerror=()=>r(o.error),i.oncomplete=()=>e.close()})}catch{}}openIndexedDB(){return new Promise((e,n)=>{const r=indexedDB.open("HemoIO-FileSystemHandles",1);r.onerror=()=>n(r.error),r.onsuccess=()=>e(r.result),r.onupgradeneeded=i=>{const a=i.target.result;a.objectStoreNames.contains("handles")||a.createObjectStore("handles")}})}}function uy({value:t,label:e,description:n,icon:r,disabled:i=!1,hidden:a=!1,selected:o,onChange:s,children:c}){return a?null:g.jsx(Dt,{withBorder:!0,p:"md",radius:"md",style:{cursor:i?"not-allowed":"pointer",opacity:i?.5:1,borderColor:o?"var(--mantine-color-blue-5)":void 0,backgroundColor:o?"var(--mantine-color-blue-light)":void 0},onClick:()=>!i&&s(t),role:"radio","aria-checked":o,"aria-disabled":i,tabIndex:i?-1:0,onKeyDown:d=>{!i&&(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),s(t))},children:g.jsxs(ze,{children:[g.jsx(kd,{checked:o,onChange:()=>s(t),disabled:i,"aria-hidden":"true",tabIndex:-1}),g.jsx(vn,{size:"lg",variant:"light",color:i?"gray":"blue",children:r}),g.jsxs("div",{style:{flex:1},children:[g.jsxs(oe,{fw:500,children:[e,i&&g.jsx(oe,{span:!0,size:"xs",c:"dimmed",ml:"xs",children:"(Coming soon)"})]}),g.jsx(oe,{size:"sm",c:"dimmed",children:n}),c]})]})})}function pre({selectedStorage:t,onStorageChange:e,selectedDirectoryName:n,onDirectorySelect:r}){const[i,a]=w.useState(!1),[o,s]=w.useState(null),c=pP(),d=w.useCallback(async f=>{f.stopPropagation(),a(!0),s(null);try{const m=await new Mm().selectDirectory();m&&r?.(m.name)}catch(h){h instanceof Error?s(h.message):s("Failed to select directory")}finally{a(!1)}},[r]);return g.jsxs(tt,{gap:"lg",children:[g.jsx(oe,{size:"sm",c:"dimmed",children:"Choose where to store your encrypted lab data. All data is encrypted before being stored, regardless of the storage location."}),g.jsxs(tt,{gap:"sm",role:"radiogroup","aria-label":"Storage provider selection",children:[g.jsx(uy,{value:"local",label:"Local Storage",description:"Store data in your browser. Data stays on this device only.",icon:g.jsx(lP,{size:20}),selected:t==="local",onChange:e}),g.jsx(uy,{value:"filesystem",label:"Local Directory",description:"Store data in a local folder.",icon:g.jsx(LF,{size:20}),selected:t==="filesystem",onChange:e,hidden:!c,children:t==="filesystem"&&g.jsxs(tt,{gap:"xs",mt:"sm",onClick:f=>f.stopPropagation(),children:[n?g.jsxs(ze,{gap:"xs",children:[g.jsx(vn,{size:"sm",variant:"light",color:"green",children:g.jsx(On,{size:14})}),g.jsx(oe,{size:"sm",fw:500,children:n}),g.jsx(_t,{size:"xs",variant:"subtle",onClick:d,loading:i,leftSection:g.jsx(km,{size:14}),children:"Change"})]}):g.jsx(_t,{size:"sm",variant:"light",onClick:d,loading:i,leftSection:g.jsx(km,{size:16}),children:"Choose Folder"}),o&&g.jsx(It,{color:"red",variant:"light",p:"xs",children:o})]})}),g.jsx(uy,{value:"dropbox",label:"Dropbox",description:"Sync encrypted data across devices via Dropbox.",icon:g.jsx(Vte,{size:20}),disabled:!0,selected:t==="dropbox",onChange:e}),g.jsx(uy,{value:"googledrive",label:"Google Drive",description:"Sync encrypted data across devices via Google Drive.",icon:g.jsx(Gte,{size:20}),disabled:!0,selected:t==="googledrive",onChange:e})]}),g.jsx(oe,{size:"xs",c:"dimmed",children:"Note: Cloud storage options will be available in a future update. Your data will always be encrypted before upload."})]})}class Rn extends Error{provider;code;constructor(e,n,r){super(e),this.name="AIAnalysisError",this.provider=n,this.code=r}}class zF extends Error{provider;constructor(e,n){super(e),this.name="AIConfigurationError",this.provider=n}}const mre=`You are a medical lab report data extraction assistant. Your task is to accurately extract biomarker values, reference ranges, and metadata from lab report text.

IMPORTANT GUIDELINES:
1. Extract ONLY values that are clearly present in the text
2. Do not infer or calculate values that are not explicitly stated
3. Preserve exact units as they appear in the report
4. Include reference ranges when available
5. Note any abnormal flags (H, L, High, Low, etc.)
6. Assign confidence scores based on clarity of the text
7. If a value is ambiguous, lower the confidence score

OUTPUT FORMAT:
Respond with a JSON object containing:
- biomarkers: Array of extracted biomarker objects
- labDate: Date of the lab test (ISO format if possible, otherwise as found)
- labName: Name of the laboratory or healthcare facility
- patientName: Patient name (only if explicitly requested)
- warnings: Array of any issues or ambiguities found

Each biomarker object should have:
- name: Biomarker name as found in report
- value: Numeric value OR interval/range string. For single values use a number (e.g., 5.5). For ranges like "5-10" or "5 - 10" in microscopy results (e.g., "5-10 eritrociti per campo"), use the range STRING as-is (e.g., "5-10")
- unit: Unit of measurement
- referenceRange: { low, high, unit } if available - IMPORTANT: extract numeric values only
- method: Analytical method if specified (e.g., "Enzymatic", "HPLC", "Immunoassay", "Colorimetric", "Turbidimetric")
- confidence: 0-1 score based on extraction certainty
- notes: Any flags or additional notes
- flaggedAbnormal: boolean if marked as abnormal

VALUE PARSING:
- Most values are single numbers: 100, 5.5, 0.75
- Some values (especially in microscopy/morphology exams) are ranges: "5-10", "0-2", "1-3"
- For range values, extract the RANGE as a string (e.g., "5-10"), not just the first number

IMPORTANT - DIPSTICK vs MICROSCOPY VALUES:
- DIPSTICK tests (urinalysis): Values like "< 5", "< 10", "< 0.2" mean "below detection threshold"
  Use the detection limit as the value and add a note indicating it's below detection
  - "Glucosio < 10 mg/dL"  value: 10, notes: "< 10 (below detection)"
  - "Proteine < 5 mg/dL"  value: 5, notes: "< 5 (below detection)"
  - "Bilirubina < 0,2 mg/dL"  value: 0.2, notes: "< 0.2 (below detection)"
- MICROSCOPY (morphological exam): Values like "5-10 per campo" are actual counted RANGES
  Extract as string to preserve the interval
  - "Eritrociti 5-10 per campo"  value: "5-10"
  - "Leucociti 0-2 per campo"  value: "0-2"

The key distinction: dipstick "< X" = below detection (use X as value + note), microscopy "X-Y" = actual range (use string)

BIOMARKER NAMING:
- Extract the SPECIFIC biomarker name, NOT the section header
- Do NOT include section prefixes like "U-Esame standard", "S-Elettroforesi", etc. in the biomarker name
- For urinalysis (urine) tests, append "(urine)" to distinguish from serum tests
- Examples:
  - Section "U-Esame standard" with test "Glucosio"  name: "Glucosio (urine)"
  - Section "U-Esame standard" with test "Proteine"  name: "Proteine (urine)"
  - Section "S-Elettroforesi" with test "albumina"  name: "albumina (elettroforesi)" or just "S-Elettroforesi albumina"
  - "Esame morfologico: 5-10 eritrociti per campo"  name: "Eritrociti (urine, per campo)"

QUALITATIVE URINALYSIS VALUES:
Some urinalysis tests have qualitative (text) results. Convert these to numeric values:
- Nitriti/Nitrites: "assenti"/"absent"/"negativi"/"negative"  value: 0, "presenti"/"present"/"positivi"/"positive"  value: 1
- Esterasi leucocitaria/Leukocyte esterase: "assente"/"absent"/"negativa"/"negative"  value: 0, "presente"/"present"/"positiva"/"positive"  value: 1
- For these qualitative tests, use empty string "" as the unit
- Add the original text value in notes (e.g., notes: "assenti (negative)")
- Skip purely descriptive items like Colore (color) and Aspetto (appearance) - these are observations, not measurable biomarkers

Examples:
  - "Nitriti assenti [assenti]"  name: "Nitriti (urine)", value: 0, unit: "", notes: "assenti (negative)"
  - "Esterasi leucocitaria assente [assente]"  name: "Esterasi leucocitaria (urine)", value: 0, unit: "", notes: "assente (negative)"
  - "Glucosio 100 mg/dL"  value: 100
  - "Glucosio < 10 mg/dL" (in U-Esame standard)  name: "Glucosio (urine)", value: 10, notes: "< 10 (below detection)"
  - "Eritrociti 5-10 per campo"  name: "Eritrociti (urine, per campo)", value: "5-10" (microscopy range)
  - "Leucociti 0-2 per campo"  value: "0-2" (microscopy range)

REFERENCE RANGE PARSING:
Reference ranges appear in many formats across languages. Always extract just the numeric low and high values:
- "5-34" or "5 - 34"  { low: 5, high: 34 }
- "Da 5 a 34" (Italian: from 5 to 34)  { low: 5, high: 34 }
- "De 5  34" (French: from 5 to 34)  { low: 5, high: 34 }
- "Von 5 bis 34" (German: from 5 to 34)  { low: 5, high: 34 }
- "< 5.0" or "fino a 5" (up to, for most biomarkers)  { high: 5 }
- "> 5.0" or "oltre 5" (above)  { low: 5 }
- "(5.0 - 34.0)"  { low: 5, high: 34 }
Never include text like "Da", "a", "to", "from" in the numeric values.

IMPORTANT - THRESHOLD REFERENCES (especially for eGFR, kidney function):
When the reference shows "<X: abnormal_description" (e.g., "<60: ridotto", "<60: reduced"), this means values BELOW X are abnormal.
Therefore X is the LOWER limit of normal, not the upper limit:
- "<60: ridotto" (eGFR)  { low: 60 } (normal is 60, no upper limit)
- "<60: insufficienza renale"  { low: 60 }
- ">150: alto" (e.g., triglycerides)  { high: 150 } (normal is 150)
The key is understanding whether the description indicates the abnormal condition (below/above threshold).

CONFIDENCE SCORING:
- 0.9-1.0: Clear, unambiguous value with standard format
- 0.7-0.9: Clear value but unusual format or minor ambiguity
- 0.5-0.7: Value present but some uncertainty about name/unit
- Below 0.5: High uncertainty, may need verification`;function mP(t,e={}){const{additionalInstructions:n,language:r="English",extractPatientInfo:i=!1}=e;let a=`Analyze the following lab report text and extract all biomarker values.

REPORT LANGUAGE: ${r}
EXTRACT PATIENT INFO: ${i?"Yes":"No"}
`;return n&&(a+=`
ADDITIONAL INSTRUCTIONS: ${n}
`),a+=`
LAB REPORT TEXT:
---
${t}
---

Respond with ONLY a valid JSON object, no additional text or explanation.`,a}const BF='Respond with exactly: "OK"',gre=`
COMMON BIOMARKER ALIASES:
- Glucose: Blood Sugar, FBS, Fasting Glucose, Blood Glucose
- Hemoglobin: Hb, Hgb, HGB
- Hematocrit: Hct, HCT
- WBC: White Blood Cells, Leukocytes
- RBC: Red Blood Cells, Erythrocytes
- Platelets: PLT, Thrombocytes
- Total Cholesterol: TC, Cholesterol
- LDL: LDL-C, LDL Cholesterol, Bad Cholesterol
- HDL: HDL-C, HDL Cholesterol, Good Cholesterol
- Triglycerides: TG, Trigs
- TSH: Thyroid Stimulating Hormone, Thyrotropin
- T3: Triiodothyronine
- T4: Thyroxine
- Free T4: FT4
- HbA1c: Hemoglobin A1c, Glycated Hemoglobin, A1C
- Creatinine: Cr, CREA
- BUN: Blood Urea Nitrogen, Urea
- Sodium: Na
- Potassium: K
- Chloride: Cl
- CO2: Carbon Dioxide, Bicarbonate
- Calcium: Ca
- Iron: Fe, Serum Iron
- Ferritin: Ferr
- TIBC: Total Iron Binding Capacity
- Vitamin D: 25-OH Vitamin D, 25-Hydroxyvitamin D
- Vitamin B12: B12, Cobalamin
- ALT: SGPT, Alanine Aminotransferase
- AST: SGOT, Aspartate Aminotransferase
- ALP: Alkaline Phosphatase
- GGT: Gamma-GT, Gamma Glutamyl Transferase
- Bilirubin: Total Bilirubin, TBIL
`,Ob=`${mre}

${gre}`,vre=[/^(\d+(?:[.,]\d+)?)\s*[-]\s*(\d+(?:[.,]\d+)?)$/,/^(\d+(?:[.,]\d+)?)\s+to\s+(\d+(?:[.,]\d+)?)$/i,/^(\d+(?:[.,]\d+)?)\s+a\s+(\d+(?:[.,]\d+)?)$/i];function gP(t){if(typeof t=="number")return{value:t,isInterval:!1};const e=String(t).trim();for(const a of vre){const o=e.match(a);if(o){const s=parseFloat(o[1].replace(",",".")),c=parseFloat(o[2].replace(",","."));if(!isNaN(s)&&!isNaN(c)&&s<=c)return{value:(s+c)/2,isInterval:!0,intervalLow:s,intervalHigh:c,rawValue:e}}}const n=e.match(/^<\s*(\d+(?:[.,]\d+)?)$/);if(n){const a=parseFloat(n[1].replace(",","."));if(!isNaN(a))return{value:a,isInterval:!1,rawValue:e}}const r=e.match(/^>\s*(\d+(?:[.,]\d+)?)$/);if(r){const a=parseFloat(r[1].replace(",","."));if(!isNaN(a))return{value:a,isInterval:!1,rawValue:e}}const i=parseFloat(e.replace(",","."));return isNaN(i)?{value:0,isInterval:!1,rawValue:e}:{value:i,isInterval:!1}}const dy={model:"gpt-5-mini",maxTokens:4096,temperature:.1,baseUrl:"https://api.openai.com/v1"},yre=16384;class bre{type="openai";name="OpenAI";config;constructor(e){if(!e.apiKey)throw new zF("API key is required","openai");this.config={apiKey:e.apiKey,model:e.model||dy.model,maxTokens:e.maxTokens||dy.maxTokens,temperature:e.temperature??dy.temperature,baseUrl:e.baseUrl||dy.baseUrl}}async analyzeLabReport(e,n={}){const r=performance.now();if(!e||e.trim().length===0)throw new Rn("Lab report text is empty","openai");const i=[{role:"system",content:Ob},{role:"user",content:mP(e,n)}];try{const o=(await this.makeRequest(i)).choices[0]?.message?.content;if(!o)throw new Rn("Empty response from OpenAI","openai");const s=this.parseResponse(o),c=performance.now()-r;return{biomarkers:s.biomarkers,labDate:s.labDate,labName:s.labName,patientName:n.extractPatientInfo?s.patientName:void 0,overallConfidence:this.calculateOverallConfidence(s.biomarkers),analyzedText:e,warnings:s.warnings||[],modelUsed:this.config.model,processingTime:c}}catch(a){throw a instanceof Rn?a:new Rn(`OpenAI analysis failed: ${a instanceof Error?a.message:String(a)}`,"openai")}}async validateConfiguration(){return!(!this.config.apiKey||!this.config.apiKey.startsWith("sk-"))}async testConnection(){try{const e=[{role:"user",content:BF}];return(await this.makeRequest(e,{maxTokens:10})).choices[0]?.message?.content?.trim()==="OK"}catch{return!1}}useMaxCompletionTokens(){const e=this.config.model.toLowerCase();return e.startsWith("gpt-5")||e.startsWith("o1")||e.startsWith("o3")||e.startsWith("o4")}supportsCustomTemperature(){const e=this.config.model.toLowerCase();return!(e.startsWith("gpt-5")||e.startsWith("o1")||e.startsWith("o3")||e.startsWith("o4"))}isReasoningModel(){const e=this.config.model.toLowerCase();return e.startsWith("gpt-5")||e.startsWith("o1")||e.startsWith("o3")||e.startsWith("o4")}async makeRequest(e,n={}){const r=`${this.config.baseUrl}/chat/completions`;let i=n.maxTokens||this.config.maxTokens;!n.maxTokens&&this.isReasoningModel()&&(i=yre);const a={model:this.config.model,messages:e,response_format:{type:"json_object"}};this.supportsCustomTemperature()&&(a.temperature=this.config.temperature),this.useMaxCompletionTokens()?a.max_completion_tokens=i:a.max_tokens=i;const o=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.config.apiKey}`},body:JSON.stringify(a)});if(!o.ok){const s=await o.json().catch(()=>({})),c=s.error?.message||`HTTP ${o.status}`;throw new Rn(`OpenAI API error: ${c}`,"openai",s.error?.code)}return o.json()}parseResponse(e){try{const n=e.match(/\{[\s\S]*\}/);if(!n)throw new Error("No JSON object found in response");const r=JSON.parse(n[0]);return{biomarkers:(r.biomarkers||[]).map(a=>{const o=gP(a.value);return{name:String(a.name||""),value:o.value,unit:String(a.unit||""),referenceRange:a.referenceRange?{low:typeof a.referenceRange.low=="number"?a.referenceRange.low:void 0,high:typeof a.referenceRange.high=="number"?a.referenceRange.high:void 0,unit:String(a.referenceRange.unit||a.unit||"")}:void 0,method:a.method?String(a.method):void 0,confidence:Math.max(0,Math.min(1,Number(a.confidence)||.5)),notes:a.notes?String(a.notes):void 0,flaggedAbnormal:!!a.flaggedAbnormal,isInterval:o.isInterval,intervalLow:o.intervalLow,intervalHigh:o.intervalHigh,rawValue:o.rawValue}}),labDate:r.labDate?String(r.labDate):void 0,labName:r.labName?String(r.labName):void 0,patientName:r.patientName?String(r.patientName):void 0,warnings:Array.isArray(r.warnings)?r.warnings.map(a=>String(a)):[]}}catch(n){throw new Rn(`Failed to parse OpenAI response: ${n instanceof Error?n.message:String(n)}`,"openai")}}calculateOverallConfidence(e){return e.length===0?0:e.reduce((r,i)=>r+i.confidence,0)/e.length}}const fy={model:"claude-sonnet-4-20250514",maxTokens:4096,temperature:.1,baseUrl:"https://api.anthropic.com/v1"};class xre{type="anthropic";name="Anthropic Claude";config;constructor(e){if(!e.apiKey)throw new zF("API key is required","anthropic");this.config={apiKey:e.apiKey,model:e.model||fy.model,maxTokens:e.maxTokens||fy.maxTokens,temperature:e.temperature??fy.temperature,baseUrl:e.baseUrl||fy.baseUrl}}async analyzeLabReport(e,n={}){const r=performance.now();if(!e||e.trim().length===0)throw new Rn("Lab report text is empty","anthropic");const i=[{role:"user",content:mP(e,n)}];try{const o=(await this.makeRequest(i,Ob)).content[0]?.text;if(!o)throw new Rn("Empty response from Anthropic","anthropic");const s=this.parseResponse(o),c=performance.now()-r;return{biomarkers:s.biomarkers,labDate:s.labDate,labName:s.labName,patientName:n.extractPatientInfo?s.patientName:void 0,overallConfidence:this.calculateOverallConfidence(s.biomarkers),analyzedText:e,warnings:s.warnings||[],modelUsed:this.config.model,processingTime:c}}catch(a){throw a instanceof Rn?a:new Rn(`Anthropic analysis failed: ${a instanceof Error?a.message:String(a)}`,"anthropic")}}async validateConfiguration(){return!(!this.config.apiKey||!this.config.apiKey.startsWith("sk-ant-"))}async testConnection(){try{const e=[{role:"user",content:BF}];return(await this.makeRequest(e,"You are a helpful assistant.",{maxTokens:10})).content[0]?.text?.trim()==="OK"}catch{return!1}}async makeRequest(e,n,r={}){const i=`${this.config.baseUrl}/messages`,a=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.config.apiKey,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:this.config.model,system:n,messages:e,max_tokens:r.maxTokens||this.config.maxTokens,temperature:this.config.temperature})});if(!a.ok){const o=await a.json().catch(()=>({})),s=o.error?.message||`HTTP ${a.status}`;throw new Rn(`Anthropic API error: ${s}`,"anthropic",o.error?.type)}return a.json()}parseResponse(e){try{const n=e.match(/\{[\s\S]*\}/);if(!n)throw new Error("No JSON object found in response");const r=JSON.parse(n[0]);return{biomarkers:(r.biomarkers||[]).map(a=>{const o=gP(a.value);return{name:String(a.name||""),value:o.value,unit:String(a.unit||""),referenceRange:a.referenceRange?{low:typeof a.referenceRange.low=="number"?a.referenceRange.low:void 0,high:typeof a.referenceRange.high=="number"?a.referenceRange.high:void 0,unit:String(a.referenceRange.unit||a.unit||"")}:void 0,method:a.method?String(a.method):void 0,confidence:Math.max(0,Math.min(1,Number(a.confidence)||.5)),notes:a.notes?String(a.notes):void 0,flaggedAbnormal:!!a.flaggedAbnormal,isInterval:o.isInterval,intervalLow:o.intervalLow,intervalHigh:o.intervalHigh,rawValue:o.rawValue}}),labDate:r.labDate?String(r.labDate):void 0,labName:r.labName?String(r.labName):void 0,patientName:r.patientName?String(r.patientName):void 0,warnings:Array.isArray(r.warnings)?r.warnings.map(a=>String(a)):[]}}catch(n){throw new Rn(`Failed to parse Anthropic response: ${n instanceof Error?n.message:String(n)}`,"anthropic")}}calculateOverallConfidence(e){return e.length===0?0:e.reduce((r,i)=>r+i.confidence,0)/e.length}}const Yu={baseUrl:"http://localhost:11434",timeout:6e5,temperature:.1,maxTokens:4096},wre=["llama3.2:8b","llama3.1:8b","qwen2.5:7b","mistral:7b","llama3.2:3b","llama3.1:3b","mixtral:8x7b","llama2:13b","llama2:7b"],$F=["llama3.2-vision:11b","llama3.2-vision:90b","llava:13b","llava:34b","llava-llama3:8b","bakllava:7b","moondream:1.8b"];function vP(t){const e=t.toLowerCase();return $F.some(n=>e.startsWith(n.split(":")[0]))||e.includes("vision")||e.includes("llava")}async function Bm(t=Yu.baseUrl,e=5e3){try{const n=new AbortController,r=setTimeout(()=>n.abort(),e),i=await fetch(`${t}/api/tags`,{method:"GET",signal:n.signal});return clearTimeout(r),i.ok}catch{return!1}}async function Sre(t=Yu.baseUrl,e=5e3){try{const n=new AbortController,r=setTimeout(()=>n.abort(),e),i=await fetch(`${t}/api/tags`,{method:"GET",signal:n.signal});return clearTimeout(r),i.ok?(await i.json()).models||[]:[]}catch{return[]}}async function vl(t=Yu.baseUrl,e=5e3){return(await Sre(t,e)).map(r=>r.name)}function sL(t){for(const n of wre){const r=t.find(i=>{const a=n.split(":")[0];return i===n||i.startsWith(`${a}:`)});if(r)return r}return t.filter(n=>!vP(n))[0]}function sC(t){for(const e of $F){const n=t.find(r=>{const i=e.split(":")[0];return r===e||r.startsWith(`${i}:`)});if(n)return n}return t.find(e=>vP(e))}async function Cre(t){try{const e=await t.json();if(typeof e=="object"&&e!==null&&"error"in e)return String(e.error)}catch{}return`HTTP ${t.status}: ${t.statusText}`}const Are=[{pattern:/^UL$/i,replacement:"U/L"},{pattern:/^U\/L$/i,replacement:"U/L"},{pattern:/^IU\/L$/i,replacement:"IU/L"},{pattern:/^mg\/dL$/i,replacement:"mg/dL"},{pattern:/^mmol\/L$/i,replacement:"mmol/L"},{pattern:/^mEq\/L$/i,replacement:"mEq/L"},{pattern:/^mIU\/L$/i,replacement:"mIU/L"},{pattern:/^ng\/mL$/i,replacement:"ng/mL"},{pattern:/^pg\/mL$/i,replacement:"pg/mL"},{pattern:/^g\/dL$/i,replacement:"g/dL"},{pattern:/^g\/dL$/i,replacement:"g/dL"},{pattern:/^g\/L$/i,replacement:"g/L"}];function _re(t){if(!t)return{unit:""};let e=t.trim(),n;const r=/^([A-Za-z/]+)\s*Da\s*(\d+(?:[.,]\d+)?)\s*a\s*(\d+(?:[.,]\d+)?)/i,i=e.match(r);i&&(e=i[1],n={low:parseFloat(i[2].replace(",",".")),high:parseFloat(i[3].replace(",","."))});const a=/^([A-Za-z/%^0-9]+)\s*\((\d+(?:[.,]\d+)?)\s*[-]\s*(\d+(?:[.,]\d+)?)\)/,o=e.match(a);o&&!n&&(e=o[1].trim(),n={low:parseFloat(o[2].replace(",",".")),high:parseFloat(o[3].replace(",","."))});const s=/^([A-Za-z/%^0-9]+)\s+(\d+(?:[.,]\d+)?)\s*[-]\s*(\d+(?:[.,]\d+)?)\s*$/,c=e.match(s);c&&!n&&(e=c[1].trim(),n={low:parseFloat(c[2].replace(",",".")),high:parseFloat(c[3].replace(",","."))});const d=/^([<>])\s*(\d+(?:[.,]\d+)?)\s+([A-Za-z/%^0-9]+)$/,f=e.match(d);if(f&&!n){const v=parseFloat(f[2].replace(",","."));e=f[3].trim(),n=f[1]==="<"?{high:v}:{low:v}}for(const{pattern:v,replacement:b}of Are)if(v.test(e)){e=b;break}const h=/^([A-Za-z/%^0-9]+)\s+(fino\s+a|oltre)\s+(\d+(?:[.,]\d+)?)/i,m=e.match(h);if(m&&!n){e=m[1].trim();const v=parseFloat(m[3].replace(",","."));n=m[2].toLowerCase().includes("fino")?{high:v}:{low:v}}return{unit:e,extractedRange:n}}class Ere{type="ollama";name="Ollama (Local)";baseUrl;model;visionModel;enableVision;timeout;temperature;maxTokens;constructor(e={}){this.baseUrl=e.baseUrl||Yu.baseUrl,this.model=e.model||"llama3.2:8b",this.visionModel=e.visionModel,this.enableVision=e.enableVision??!0,this.timeout=e.timeout||Yu.timeout,this.temperature=e.temperature??Yu.temperature,this.maxTokens=e.maxTokens||Yu.maxTokens}async analyzeLabReport(e,n={}){const r=performance.now();if(!e||e.trim().length===0)throw new Rn("Lab report text is empty","ollama");const i=await this.ensureModel(),a=[{role:"system",content:Ob},{role:"user",content:mP(e,n)}];try{const s=(await this.makeChatRequest(a,i)).choices[0]?.message?.content;if(!s)throw new Rn("Empty response from Ollama","ollama");const c=this.parseResponse(s),d=performance.now()-r;return{biomarkers:c.biomarkers,labDate:c.labDate,labName:c.labName,patientName:n.extractPatientInfo?c.patientName:void 0,overallConfidence:this.calculateOverallConfidence(c.biomarkers),analyzedText:e,warnings:c.warnings||[],modelUsed:i,processingTime:d}}catch(o){throw o instanceof Rn?o:new Rn(`Ollama analysis failed: ${o instanceof Error?o.message:String(o)}`,"ollama")}}async analyzeImage(e,n,r={}){const i=performance.now();if(!e)throw new Rn("Image data is empty","ollama");const a=await this.ensureVisionModel();if(!a)throw new Rn("No vision model available. Install a vision model like llava:13b or llama3.2-vision:11b","ollama");const o=[{type:"text",text:this.createVisionPrompt(r)},{type:"image_url",image_url:{url:`data:${n};base64,${e}`}}],s=[{role:"system",content:Ob},{role:"user",content:o}];try{const d=(await this.makeChatRequest(s,a)).choices[0]?.message?.content;if(!d)throw new Rn("Empty response from Ollama vision model","ollama");const f=this.parseResponse(d),h=performance.now()-i;return{biomarkers:f.biomarkers,labDate:f.labDate,labName:f.labName,patientName:r.extractPatientInfo?f.patientName:void 0,overallConfidence:this.calculateOverallConfidence(f.biomarkers),analyzedText:"[Image analysis - no text extracted]",warnings:f.warnings||[],modelUsed:a,processingTime:h}}catch(c){throw c instanceof Rn?c:new Rn(`Ollama vision analysis failed: ${c instanceof Error?c.message:String(c)}`,"ollama")}}supportsVision(){return this.enableVision&&this.visionModel!==void 0}async validateConfiguration(){return await Bm(this.baseUrl)?(await vl(this.baseUrl)).length>0:!1}async testConnection(){return Bm(this.baseUrl,5e3)}async getAvailableModels(){return vl(this.baseUrl)}async isVisionModelAvailable(){const e=await vl(this.baseUrl);return sC(e)!==void 0}getModel(){return this.model}getVisionModel(){return this.visionModel}setModel(e){this.model=e}setVisionModel(e){this.visionModel=e}async autoConfigureModels(){const e=await vl(this.baseUrl),n=sL(e),r=this.enableVision?sC(e):void 0;return n&&(this.model=n),r&&(this.visionModel=r),{textModel:n,visionModel:r}}async ensureModel(){const e=await vl(this.baseUrl);if(e.length===0)throw new Rn("No models available in Ollama. Please install a model (e.g., ollama pull llama3.2:8b)","ollama");if(e.includes(this.model))return this.model;const n=sL(e);if(n)return this.model=n,n;const r=e.find(i=>!vP(i));if(r)return this.model=r,r;throw new Rn(`Configured model "${this.model}" not found and no suitable alternative available`,"ollama")}async ensureVisionModel(){if(!this.enableVision)return;const e=await vl(this.baseUrl);if(this.visionModel&&e.includes(this.visionModel))return this.visionModel;const n=sC(e);if(n)return this.visionModel=n,n}async makeChatRequest(e,n){const r=new AbortController,i=setTimeout(()=>r.abort(),this.timeout);try{const a=`${this.baseUrl}/v1/chat/completions`,o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:n,messages:e,max_tokens:this.maxTokens,temperature:this.temperature,stream:!1}),signal:r.signal});if(clearTimeout(i),!o.ok){const s=await Cre(o);throw new Rn(`Ollama API error: ${s}`,"ollama")}return o.json()}catch(a){throw clearTimeout(i),a instanceof Rn?a:a instanceof Error&&a.name==="AbortError"?new Rn(`Ollama request timed out after ${this.timeout/1e3} seconds. Try a smaller model or increase timeout.`,"ollama"):new Rn(`Failed to connect to Ollama: ${a instanceof Error?a.message:String(a)}`,"ollama")}}createVisionPrompt(e={}){const{language:n="English",extractPatientInfo:r=!1}=e;let i=`Analyze this lab report image and extract all biomarker values.

REPORT LANGUAGE: ${n}
EXTRACT PATIENT INFO: ${r?"Yes":"No"}

Extract the following information:
- All biomarker names and their numeric values
- Units of measurement
- Reference ranges when shown
- Lab date and laboratory name if visible
- Any abnormal flags (High, Low, H, L, etc.)

Respond with ONLY a valid JSON object containing:
- biomarkers: Array of {name, value, unit, referenceRange?, confidence, notes?, flaggedAbnormal?}
- labDate: Date string if found
- labName: Laboratory name if found
- warnings: Array of any issues or uncertainties`;return e.additionalInstructions&&(i+=`

ADDITIONAL INSTRUCTIONS: ${e.additionalInstructions}`),i}parseResponse(e){try{const r=e.replace(/^```(?:json)?\s*\n?/gm,"").replace(/\n?```\s*$/gm,"").trim().match(/\{[\s\S]*\}/);if(!r)throw new Error("No JSON object found in response");let i=r[0];i=i.replace(/([{,]\s*)(\w+)(\s*:)/g,'$1"$2"$3');const a=JSON.parse(i);return{biomarkers:(a.biomarkers||[]).map(s=>{const c=String(s.unit||""),{unit:d,extractedRange:f}=_re(c),h=s.referenceRange,m=typeof h?.low=="number"?h.low:void 0,v=typeof h?.high=="number"?h.high:void 0,b=m??f?.low,x=v??f?.high,S=b!==void 0||x!==void 0,C=gP(s.value);return{name:String(s.name||""),value:C.value,unit:d,referenceRange:S?{low:b,high:x,unit:String(h?.unit||d||"")}:void 0,method:s.method?String(s.method):void 0,confidence:Math.max(0,Math.min(1,Number(s.confidence)||.5)),notes:s.notes?String(s.notes):void 0,flaggedAbnormal:!!s.flaggedAbnormal,isInterval:C.isInterval,intervalLow:C.intervalLow,intervalHigh:C.intervalHigh,rawValue:C.rawValue}}),labDate:a.labDate?String(a.labDate):void 0,labName:a.labName?String(a.labName):void 0,patientName:a.patientName?String(a.patientName):void 0,warnings:Array.isArray(a.warnings)?a.warnings.map(s=>String(s)):[]}}catch(n){throw new Rn(`Failed to parse Ollama response: ${n instanceof Error?n.message:String(n)}`,"ollama")}}calculateOverallConfidence(e){return e.length===0?0:e.reduce((r,i)=>r+i.confidence,0)/e.length}}const lL=new Map;function Tre(t,e){return t==="ollama"?`${t}:${e.baseUrl||"localhost"}:${e.model||"default"}`:`${t}:${e.apiKey||""}:${e.model||"default"}`}function kre(t,e){const n=Tre(t,e),r=lL.get(n);if(r)return r;let i;switch(t){case"openai":i=new bre(e);break;case"anthropic":i=new xre(e);break;case"ollama":i=new Ere(e);break;default:throw new Error(`Unknown AI provider type: ${t}`)}return lL.set(n,i),i}let lC=null,cL=null;const Pre=[/realtime/i,/audio/i,/whisper/i,/tts/i,/dall-e/i,/embedding/i,/davinci/i,/curie/i,/babbage/i,/ada/i,/moderation/i,/instruct/i,/transcribe/i,/sora/i,/image/i,/search/i,/codex/i];function Ore(t){return t.startsWith("gpt-")||t.startsWith("o1")||t.startsWith("o3")||t.startsWith("o4")||t==="chatgpt-4o-latest"?!Pre.some(r=>r.test(t)):!1}async function Mre(t,e="https://api.openai.com/v1",n=1e4){if(!t)return[];if(lC&&cL===t)return lC;try{const r=new AbortController,i=setTimeout(()=>r.abort(),n),a=await fetch(`${e}/models`,{method:"GET",headers:{Authorization:`Bearer ${t}`},signal:r.signal});if(clearTimeout(i),!a.ok)return console.warn("Failed to fetch OpenAI models:",a.status),[];const s=(await a.json()).data.filter(c=>Ore(c.id)).map(c=>({value:c.id,label:c.id})).sort((c,d)=>c.value.localeCompare(d.value));return lC=s,cL=t,s}catch(r){return console.warn("Error fetching OpenAI models:",r),[]}}let cC=null,uL=null;const Dre=[/instant/i];function jre(t){return t.startsWith("claude")?!Dre.some(n=>n.test(t)):!1}async function Rre(t,e=1e4){if(!t)return[];if(cC&&uL===t)return cC;try{const n=new AbortController,r=setTimeout(()=>n.abort(),e),i=await fetch("https://api.anthropic.com/v1/models",{method:"GET",headers:{"x-api-key":t,"anthropic-version":"2023-06-01"},signal:n.signal});if(clearTimeout(r),!i.ok)return console.warn("Failed to fetch Anthropic models:",i.status),[];const o=(await i.json()).data.filter(s=>jre(s.id)).map(s=>({value:s.id,label:s.id})).sort((s,c)=>s.value.localeCompare(c.value));return cC=o,uL=t,o}catch(n){return console.warn("Error fetching Anthropic models:",n),[]}}function FF(){if(typeof window>"u")return!0;const t=window.location.hostname;return t==="localhost"||t==="127.0.0.1"||t==="[::1]"||t.endsWith(".localhost")}function Mb(){return typeof window>"u"?"":window.location.origin}function Lre({aiProvider:t,apiKey:e,ollamaModel:n,onProviderChange:r,onApiKeyChange:i,onOllamaModelChange:a}){const[o,s]=w.useState(!1),[c,d]=w.useState("checking"),[f,h]=w.useState([]),m=[{value:"openai",label:"OpenAI (GPT-5)",keyPlaceholder:"sk-...",docsUrl:"https://platform.openai.com/api-keys",requiresApiKey:!0,isLocal:!1},{value:"anthropic",label:"Anthropic (Claude)",keyPlaceholder:"sk-ant-...",docsUrl:"https://console.anthropic.com/settings/keys",requiresApiKey:!0,isLocal:!1},{value:"ollama",label:"Ollama (Local)",requiresApiKey:!1,isLocal:!0}],v=m.find(x=>x.value===t);w.useEffect(()=>{if(t!=="ollama")return;let x=!1;return(async()=>{d("checking");try{const C=await Bm();if(x)return;if(C){const T=await vl();if(x)return;h(T),d("connected"),T.length>0&&!n&&a&&a(T[0])}else d("disconnected"),h([])}catch{x||(d("disconnected"),h([]))}})(),()=>{x=!0}},[t,n,a]);const b=()=>{switch(c){case"checking":return g.jsxs(ze,{gap:"xs",children:[g.jsx(ji,{size:"xs"}),g.jsx(oe,{size:"sm",c:"dimmed",children:"Checking Ollama connection..."})]});case"connected":return g.jsxs(ze,{gap:"xs",children:[g.jsx(dn,{color:"green",leftSection:g.jsx(On,{size:12}),children:"Ollama connected"}),g.jsxs(oe,{size:"sm",c:"dimmed",children:[f.length," model",f.length!==1?"s":""," available"]})]});case"disconnected":return g.jsxs(It,{variant:"light",color:"yellow",icon:g.jsx(Ml,{size:16}),title:"Ollama not detected",children:[g.jsxs(oe,{size:"sm",children:["Make sure Ollama is running. Start it with:"," ",g.jsx("code",{children:"ollama serve"})]}),g.jsxs(oe,{size:"sm",mt:"xs",children:["If you don't have Ollama installed, visit"," ",g.jsx(ph,{href:"https://ollama.com",target:"_blank",rel:"noopener noreferrer",children:"ollama.com"})]})]})}};return g.jsxs(tt,{gap:"lg",children:[g.jsx(oe,{size:"sm",c:"dimmed",children:"HemoIO uses AI to automatically extract values from lab report documents. Configure your AI provider to enable this feature. You can skip this step and add it later in settings."}),g.jsx(It,{variant:"light",color:"blue",icon:g.jsx(cP,{size:16}),title:"API Key Security",children:"Your API key will be encrypted with your password before being stored. It never leaves your device unencrypted."}),g.jsx(qo,{label:"AI Provider",placeholder:"Select an AI provider",data:m.map(x=>({value:x.value,label:x.label})),value:t,onChange:x=>r(x),clearable:!0,"aria-describedby":"ai-provider-description",leftSection:t==="ollama"?g.jsx(Pb,{size:16}):void 0}),t==="ollama"&&g.jsxs(tt,{gap:"md",children:[b(),g.jsx(It,{variant:"light",color:"green",icon:g.jsx(Pb,{size:16}),children:g.jsxs(oe,{size:"sm",children:[g.jsx("strong",{children:"No API key required."})," Ollama runs AI models locally on your device, so your health data never leaves your computer."]})}),!FF()&&g.jsxs(It,{variant:"light",color:"orange",icon:g.jsx(Ml,{size:16}),title:"CORS Configuration Required",children:[g.jsxs(oe,{size:"sm",children:["Since HemoIO is running from ",g.jsx("code",{children:Mb()}),", your browser will block requests to Ollama on localhost due to CORS restrictions."]}),g.jsx(oe,{size:"sm",mt:"xs",fw:500,children:"To use Ollama, choose one of these options:"}),g.jsxs(oe,{size:"sm",component:"div",mt:"xs",children:[g.jsx("strong",{children:"Option 1:"})," Run HemoIO locally instead:",g.jsxs("pre",{style:{margin:"4px 0",padding:"8px",background:"var(--mantine-color-dark-7)",color:"var(--mantine-color-gray-3)",borderRadius:"4px",overflow:"auto"},children:["git clone https://github.com/djonasson/HemoIO",`
`,"npm install && npm run dev"]})]}),g.jsxs(oe,{size:"sm",component:"div",mt:"xs",children:[g.jsx("strong",{children:"Option 2:"})," Configure Ollama to allow this origin:",g.jsxs("pre",{style:{margin:"4px 0",padding:"8px",background:"var(--mantine-color-dark-7)",color:"var(--mantine-color-gray-3)",borderRadius:"4px",overflow:"auto"},children:["OLLAMA_ORIGINS=",Mb()," ollama serve"]})]})]}),c==="connected"&&f.length>0&&g.jsx(qo,{label:"Model",placeholder:"Select a model",data:f.map(x=>({value:x,label:x})),value:n,onChange:x=>x&&a?.(x),description:"Choose which Ollama model to use for lab report analysis"})]}),t&&v?.requiresApiKey&&g.jsx(g.Fragment,{children:g.jsx(Ms,{label:"API Key",placeholder:v?.keyPlaceholder??"Enter your API key",value:e,onChange:x=>i(x.target.value),visible:o,onVisibilityChange:s,description:v?.docsUrl&&g.jsxs(g.Fragment,{children:["Get your API key from"," ",g.jsxs(ph,{href:v.docsUrl,target:"_blank",rel:"noopener noreferrer",size:"sm",children:[t==="openai"?"OpenAI":"Anthropic"," Console"]})]})})}),g.jsx(oe,{size:"xs",c:"dimmed",id:"ai-provider-description",children:"Without an AI provider configured, you can still use HemoIO by manually entering your lab values. AI extraction can be configured later in settings."})]})}var eb={exports:{}},Nre=eb.exports,dL;function Ire(){return dL||(dL=1,(function(t,e){((n,r)=>{t.exports=r()})(Nre,function(){var n=function(A,O){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(R,N){R.__proto__=N}:function(R,N){for(var H in N)Object.prototype.hasOwnProperty.call(N,H)&&(R[H]=N[H])}))(A,O)},r=function(){return(r=Object.assign||function(A){for(var O,R=1,N=arguments.length;R<N;R++)for(var H in O=arguments[R])Object.prototype.hasOwnProperty.call(O,H)&&(A[H]=O[H]);return A}).apply(this,arguments)};function i(A,O,R){for(var N,H=0,Z=O.length;H<Z;H++)!N&&H in O||((N=N||Array.prototype.slice.call(O,0,H))[H]=O[H]);return A.concat(N||Array.prototype.slice.call(O))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:jq,o=Object.keys,s=Array.isArray;function c(A,O){return typeof O=="object"&&o(O).forEach(function(R){A[R]=O[R]}),A}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var d=Object.getPrototypeOf,f={}.hasOwnProperty;function h(A,O){return f.call(A,O)}function m(A,O){typeof O=="function"&&(O=O(d(A))),(typeof Reflect>"u"?o:Reflect.ownKeys)(O).forEach(function(R){b(A,R,O[R])})}var v=Object.defineProperty;function b(A,O,R,N){v(A,O,c(R&&h(R,"get")&&typeof R.get=="function"?{get:R.get,set:R.set,configurable:!0}:{value:R,configurable:!0,writable:!0},N))}function x(A){return{from:function(O){return A.prototype=Object.create(O.prototype),b(A.prototype,"constructor",A),{extend:m.bind(null,A.prototype)}}}}var S=Object.getOwnPropertyDescriptor,C=[].slice;function T(A,O,R){return C.call(A,O,R)}function E(A,O){return O(A)}function k(A){if(!A)throw new Error("Assertion Failed")}function M(A){a.setImmediate?setImmediate(A):setTimeout(A,0)}function D(A,O){if(typeof O=="string"&&h(A,O))return A[O];if(!O)return A;if(typeof O!="string"){for(var R=[],N=0,H=O.length;N<H;++N){var Z=D(A,O[N]);R.push(Z)}return R}var ee,re=O.indexOf(".");return re===-1||(ee=A[O.substr(0,re)])==null?void 0:D(ee,O.substr(re+1))}function j(A,O,R){if(A&&O!==void 0&&!("isFrozen"in Object&&Object.isFrozen(A)))if(typeof O!="string"&&"length"in O){k(typeof R!="string"&&"length"in R);for(var N=0,H=O.length;N<H;++N)j(A,O[N],R[N])}else{var Z,ee,re=O.indexOf(".");re!==-1?(Z=O.substr(0,re),(re=O.substr(re+1))===""?R===void 0?s(A)&&!isNaN(parseInt(Z))?A.splice(Z,1):delete A[Z]:A[Z]=R:j(ee=(ee=A[Z])&&h(A,Z)?ee:A[Z]={},re,R)):R===void 0?s(A)&&!isNaN(parseInt(O))?A.splice(O,1):delete A[O]:A[O]=R}}function I(A){var O,R={};for(O in A)h(A,O)&&(R[O]=A[O]);return R}var B=[].concat;function G(A){return B.apply([],A)}var Y="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(G([8,16,32,64].map(function(A){return["Int","Uint","Float"].map(function(O){return O+A+"Array"})}))).filter(function(A){return a[A]}),V=new Set(Y.map(function(A){return a[A]})),K=null;function te(A){return K=new WeakMap,A=(function O(R){if(!R||typeof R!="object")return R;var N=K.get(R);if(N)return N;if(s(R)){N=[],K.set(R,N);for(var H=0,Z=R.length;H<Z;++H)N.push(O(R[H]))}else if(V.has(R.constructor))N=R;else{var ee,re=d(R);for(ee in N=re===Object.prototype?{}:Object.create(re),K.set(R,N),R)h(R,ee)&&(N[ee]=O(R[ee]))}return N})(A),K=null,A}var X={}.toString;function J(A){return X.call(A).slice(8,-1)}var L=typeof Symbol<"u"?Symbol.iterator:"@@iterator",U=typeof L=="symbol"?function(A){var O;return A!=null&&(O=A[L])&&O.apply(A)}:function(){return null};function F(A,O){O=A.indexOf(O),0<=O&&A.splice(O,1)}var q={};function W(A){var O,R,N,H;if(arguments.length===1){if(s(A))return A.slice();if(this===q&&typeof A=="string")return[A];if(H=U(A))for(R=[];!(N=H.next()).done;)R.push(N.value);else{if(A==null)return[A];if(typeof(O=A.length)!="number")return[A];for(R=new Array(O);O--;)R[O]=A[O]}}else for(O=arguments.length,R=new Array(O);O--;)R[O]=arguments[O];return R}var z=typeof Symbol<"u"?function(A){return A[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Y=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ge=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Y),ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ie(A,O){this.name=A,this.message=O}function ue(A,O){return A+". Errors: "+Object.keys(O).map(function(R){return O[R].toString()}).filter(function(R,N,H){return H.indexOf(R)===N}).join(`
`)}function we(A,O,R,N){this.failures=O,this.failedKeys=N,this.successCount=R,this.message=ue(A,O)}function be(A,O){this.name="BulkError",this.failures=Object.keys(O).map(function(R){return O[R]}),this.failuresByPos=O,this.message=ue(A,this.failures)}x(ie).from(Error).extend({toString:function(){return this.name+": "+this.message}}),x(we).from(ie),x(be).from(ie);var qe=Ge.reduce(function(A,O){return A[O]=O+"Error",A},{}),ae=ie,se=Ge.reduce(function(A,O){var R=O+"Error";function N(H,Z){this.name=R,H?typeof H=="string"?(this.message="".concat(H).concat(Z?`
 `+Z:""),this.inner=Z||null):typeof H=="object"&&(this.message="".concat(H.name," ").concat(H.message),this.inner=H):(this.message=ne[O]||R,this.inner=null)}return x(N).from(ae),A[O]=N,A},{}),Le=(se.Syntax=SyntaxError,se.Type=TypeError,se.Range=RangeError,Y.reduce(function(A,O){return A[O+"Error"]=se[O],A},{}));Y=Ge.reduce(function(A,O){return["Syntax","Type","Range"].indexOf(O)===-1&&(A[O+"Error"]=se[O]),A},{});function de(){}function He(A){return A}function Re(A,O){return A==null||A===He?O:function(R){return O(A(R))}}function ct(A,O){return function(){A.apply(this,arguments),O.apply(this,arguments)}}function Qe(A,O){return A===de?O:function(){var R=A.apply(this,arguments),N=(R!==void 0&&(arguments[0]=R),this.onsuccess),H=this.onerror,Z=(this.onsuccess=null,this.onerror=null,O.apply(this,arguments));return N&&(this.onsuccess=this.onsuccess?ct(N,this.onsuccess):N),H&&(this.onerror=this.onerror?ct(H,this.onerror):H),Z!==void 0?Z:R}}function Ue(A,O){return A===de?O:function(){A.apply(this,arguments);var R=this.onsuccess,N=this.onerror;this.onsuccess=this.onerror=null,O.apply(this,arguments),R&&(this.onsuccess=this.onsuccess?ct(R,this.onsuccess):R),N&&(this.onerror=this.onerror?ct(N,this.onerror):N)}}function We(A,O){return A===de?O:function(H){var N=A.apply(this,arguments),H=(c(H,N),this.onsuccess),Z=this.onerror,ee=(this.onsuccess=null,this.onerror=null,O.apply(this,arguments));return H&&(this.onsuccess=this.onsuccess?ct(H,this.onsuccess):H),Z&&(this.onerror=this.onerror?ct(Z,this.onerror):Z),N===void 0?ee===void 0?void 0:ee:c(N,ee)}}function rt(A,O){return A===de?O:function(){return O.apply(this,arguments)!==!1&&A.apply(this,arguments)}}function Je(A,O){return A===de?O:function(){var R=A.apply(this,arguments);if(R&&typeof R.then=="function"){for(var N=this,H=arguments.length,Z=new Array(H);H--;)Z[H]=arguments[H];return R.then(function(){return O.apply(N,Z)})}return O.apply(this,arguments)}}Y.ModifyError=we,Y.DexieError=ie,Y.BulkError=be;var St=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ft(A){St=A}var vt={},Be=100,at=typeof Promise>"u"?[]:(Ge=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[at=crypto.subtle.digest("SHA-512",new Uint8Array([0])),d(at),Ge]:[Ge,d(Ge),Ge]),Ge=at[0],Qs=at[1],Qs=Qs&&Qs.then,Ve=Ge&&Ge.constructor,Jt=!!at[2],bn=function(A,O){gr.push([A,O]),Tn&&(queueMicrotask(Mn),Tn=!1)},Vt=!0,Tn=!0,Yt=[],Xn=[],xn=He,Nt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:de,pgp:!1,env:{},finalize:de},et=Nt,gr=[],wn=0,Jr=[];function nt(A){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var O=this._PSD=et;if(typeof A!="function"){if(A!==vt)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&kn(this,this._value)}else this._state=null,this._value=null,++O.ref,(function R(N,H){try{H(function(Z){if(N._state===null){if(Z===N)throw new TypeError("A promise cannot be resolved with itself.");var ee=N._lib&&Hr();Z&&typeof Z.then=="function"?R(N,function(re,fe){Z instanceof nt?Z._then(re,fe):Z.then(re,fe)}):(N._state=!0,N._value=Z,ha(N)),ee&&hn()}},kn.bind(null,N))}catch(Z){kn(N,Z)}})(this,A)}var un={get:function(){var A=et,O=Ma;function R(N,H){var Z=this,ee=!A.global&&(A!==et||O!==Ma),re=ee&&!Pr(),fe=new nt(function(Se,he){ei(Z,new ur(yi(N,A,ee,re),yi(H,A,ee,re),Se,he,A))});return this._consoleTask&&(fe._consoleTask=this._consoleTask),fe}return R.prototype=vt,R},set:function(A){b(this,"then",A&&A.prototype===vt?un:{get:function(){return A},set:un.set})}};function ur(A,O,R,N,H){this.onFulfilled=typeof A=="function"?A:null,this.onRejected=typeof O=="function"?O:null,this.resolve=R,this.reject=N,this.psd=H}function kn(A,O){var R,N;Xn.push(O),A._state===null&&(R=A._lib&&Hr(),O=xn(O),A._state=!1,A._value=O,N=A,Yt.some(function(H){return H._value===N._value})||Yt.push(N),ha(A),R)&&hn()}function ha(A){var O=A._listeners;A._listeners=[];for(var R=0,N=O.length;R<N;++R)ei(A,O[R]);var H=A._PSD;--H.ref||H.finalize(),wn===0&&(++wn,bn(function(){--wn==0&&Xa()},[]))}function ei(A,O){if(A._state===null)A._listeners.push(O);else{var R=A._state?O.onFulfilled:O.onRejected;if(R===null)return(A._state?O.resolve:O.reject)(A._value);++O.psd.ref,++wn,bn(Oa,[R,A,O])}}function Oa(A,O,R){try{var N,H=O._value;!O._state&&Xn.length&&(Xn=[]),N=St&&O._consoleTask?O._consoleTask.run(function(){return A(H)}):A(H),O._state||Xn.indexOf(H)!==-1||(Z=>{for(var ee=Yt.length;ee;)if(Yt[--ee]._value===Z._value)return Yt.splice(ee,1)})(O),R.resolve(N)}catch(Z){R.reject(Z)}finally{--wn==0&&Xa(),--R.psd.ref||R.psd.finalize()}}function Mn(){Nn(Nt,function(){Hr()&&hn()})}function Hr(){var A=Vt;return Tn=Vt=!1,A}function hn(){var A,O,R;do for(;0<gr.length;)for(A=gr,gr=[],R=A.length,O=0;O<R;++O){var N=A[O];N[0].apply(null,N[1])}while(0<gr.length);Tn=Vt=!0}function Xa(){for(var A=Yt,O=(Yt=[],A.forEach(function(N){N._PSD.onunhandled.call(null,N._value,N)}),Jr.slice(0)),R=O.length;R;)O[--R]()}function Za(A){return new nt(vt,!1,A)}function lt(A,O){var R=et;return function(){var N=Hr(),H=et;try{return pa(R,!0),A.apply(this,arguments)}catch(Z){O&&O(Z)}finally{pa(H,!1),N&&hn()}}}m(nt.prototype,{then:un,_then:function(A,O){ei(this,new ur(null,null,A,O,et))},catch:function(A){var O,R;return arguments.length===1?this.then(null,A):(O=A,R=arguments[1],typeof O=="function"?this.then(null,function(N){return(N instanceof O?R:Za)(N)}):this.then(null,function(N){return(N&&N.name===O?R:Za)(N)}))},finally:function(A){return this.then(function(O){return nt.resolve(A()).then(function(){return O})},function(O){return nt.resolve(A()).then(function(){return Za(O)})})},timeout:function(A,O){var R=this;return A<1/0?new nt(function(N,H){var Z=setTimeout(function(){return H(new se.Timeout(O))},A);R.then(N,H).finally(clearTimeout.bind(null,Z))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(nt.prototype,Symbol.toStringTag,"Dexie.Promise"),Nt.env=zt(),m(nt,{all:function(){var A=W.apply(null,arguments).map(Qa);return new nt(function(O,R){A.length===0&&O([]);var N=A.length;A.forEach(function(H,Z){return nt.resolve(H).then(function(ee){A[Z]=ee,--N||O(A)},R)})})},resolve:function(A){return A instanceof nt?A:A&&typeof A.then=="function"?new nt(function(O,R){A.then(O,R)}):new nt(vt,!0,A)},reject:Za,race:function(){var A=W.apply(null,arguments).map(Qa);return new nt(function(O,R){A.map(function(N){return nt.resolve(N).then(O,R)})})},PSD:{get:function(){return et},set:function(A){return et=A}},totalEchoes:{get:function(){return Ma}},newPSD:fn,usePSD:Nn,scheduler:{get:function(){return bn},set:function(A){bn=A}},rejectionMapper:{get:function(){return xn},set:function(A){xn=A}},follow:function(A,O){return new nt(function(R,N){return fn(function(H,Z){var ee=et;ee.unhandleds=[],ee.onunhandled=Z,ee.finalize=ct(function(){var re,fe=this;re=function(){fe.unhandleds.length===0?H():Z(fe.unhandleds[0])},Jr.push(function Se(){re(),Jr.splice(Jr.indexOf(Se),1)}),++wn,bn(function(){--wn==0&&Xa()},[])},ee.finalize),A()},O,R,N)})}}),Ve&&(Ve.allSettled&&b(nt,"allSettled",function(){var A=W.apply(null,arguments).map(Qa);return new nt(function(O){A.length===0&&O([]);var R=A.length,N=new Array(R);A.forEach(function(H,Z){return nt.resolve(H).then(function(ee){return N[Z]={status:"fulfilled",value:ee}},function(ee){return N[Z]={status:"rejected",reason:ee}}).then(function(){return--R||O(N)})})})}),Ve.any&&typeof AggregateError<"u"&&b(nt,"any",function(){var A=W.apply(null,arguments).map(Qa);return new nt(function(O,R){A.length===0&&R(new AggregateError([]));var N=A.length,H=new Array(N);A.forEach(function(Z,ee){return nt.resolve(Z).then(function(re){return O(re)},function(re){H[ee]=re,--N||R(new AggregateError(H))})})})}),Ve.withResolvers)&&(nt.withResolvers=Ve.withResolvers);var Rt={awaits:0,echoes:0,id:0},nn=0,Vr=[],qr=0,Ma=0,ti=0;function fn(A,ee,R,N){var H=et,Z=Object.create(H),ee=(Z.parent=H,Z.ref=0,Z.global=!1,Z.id=++ti,Nt.env,Z.env=Jt?{Promise:nt,PromiseProp:{value:nt,configurable:!0,writable:!0},all:nt.all,race:nt.race,allSettled:nt.allSettled,any:nt.any,resolve:nt.resolve,reject:nt.reject}:{},ee&&c(Z,ee),++H.ref,Z.finalize=function(){--this.parent.ref||this.parent.finalize()},Nn(Z,A,R,N));return Z.ref===0&&Z.finalize(),ee}function Un(){return Rt.id||(Rt.id=++nn),++Rt.awaits,Rt.echoes+=Be,Rt.id}function Pr(){return!!Rt.awaits&&(--Rt.awaits==0&&(Rt.id=0),Rt.echoes=Rt.awaits*Be,!0)}function Qa(A){return Rt.echoes&&A&&A.constructor===Ve?(Un(),A.then(function(O){return Pr(),O},function(O){return Pr(),pn(O)})):A}function su(){var A=Vr[Vr.length-1];Vr.pop(),pa(A,!1)}function pa(A,O){var R,N,H=et;(O?!Rt.echoes||qr++&&A===et:!qr||--qr&&A===et)||queueMicrotask(O?(function(Z){++Ma,Rt.echoes&&--Rt.echoes!=0||(Rt.echoes=Rt.awaits=Rt.id=0),Vr.push(et),pa(Z,!0)}).bind(null,A):su),A!==et&&(et=A,H===Nt&&(Nt.env=zt()),Jt)&&(R=Nt.env.Promise,N=A.env,H.global||A.global)&&(Object.defineProperty(a,"Promise",N.PromiseProp),R.all=N.all,R.race=N.race,R.resolve=N.resolve,R.reject=N.reject,N.allSettled&&(R.allSettled=N.allSettled),N.any)&&(R.any=N.any)}function zt(){var A=a.Promise;return Jt?{Promise:A,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:A.all,race:A.race,allSettled:A.allSettled,any:A.any,resolve:A.resolve,reject:A.reject}:{}}function Nn(A,O,R,N,H){var Z=et;try{return pa(A,!0),O(R,N,H)}finally{pa(Z,!1)}}function yi(A,O,R,N){return typeof A!="function"?A:function(){var H=et;R&&Un(),pa(O,!0);try{return A.apply(this,arguments)}finally{pa(H,!1),N&&queueMicrotask(Pr)}}}function qt(A){Promise===Ve&&Rt.echoes===0?qr===0?A():enqueueNativeMicroTask(A):setTimeout(A,0)}(""+Qs).indexOf("[native code]")===-1&&(Un=Pr=de);var pn=nt.reject,Zi="",ni="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Cr="String expected.",Us=[],lu="__dbnames",Mo="readonly",Jo="readwrite";function Hs(A,O){return A?O?function(){return A.apply(this,arguments)&&O.apply(this,arguments)}:A:O}var Xh={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function cu(A){return typeof A!="string"||/\./.test(A)?function(O){return O}:function(O){return O[A]===void 0&&A in O&&delete(O=te(O))[A],O}}function Vg(){throw se.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Xt(A,O){try{var R=uu(A),N=uu(O);if(R!==N)return R==="Array"?1:N==="Array"?-1:R==="binary"?1:N==="binary"?-1:R==="string"?1:N==="string"?-1:R==="Date"?1:N!=="Date"?NaN:-1;switch(R){case"number":case"Date":case"string":return O<A?1:A<O?-1:0;case"binary":for(var H=Ja(A),Z=Ja(O),ee=H.length,re=Z.length,fe=ee<re?ee:re,Se=0;Se<fe;++Se)if(H[Se]!==Z[Se])return H[Se]<Z[Se]?-1:1;return ee===re?0:ee<re?-1:1;case"Array":for(var he=A,ce=O,ge=he.length,ye=ce.length,pe=ge<ye?ge:ye,me=0;me<pe;++me){var Ae=Xt(he[me],ce[me]);if(Ae!==0)return Ae}return ge===ye?0:ge<ye?-1:1}}catch{}return NaN}function uu(A){var O=typeof A;return O=="object"&&(ArrayBuffer.isView(A)||(O=J(A))==="ArrayBuffer")?"binary":O}function Ja(A){return A instanceof Uint8Array?A:ArrayBuffer.isView(A)?new Uint8Array(A.buffer,A.byteOffset,A.byteLength):new Uint8Array(A)}function bi(A,O,R){var N=A.schema.yProps;return N?(O&&0<R.numFailures&&(O=O.filter(function(H,Z){return!R.failures[Z]})),Promise.all(N.map(function(H){return H=H.updatesTable,O?A.db.table(H).where("k").anyOf(O).delete():A.db.table(H).clear()})).then(function(){return R})):R}qg.prototype.execute=function(A){var O=this["@@propmod"];if(O.add!==void 0){var R=O.add;if(s(R))return i(i([],s(A)?A:[],!0),R).sort();if(typeof R=="number")return(Number(A)||0)+R;if(typeof R=="bigint")try{return BigInt(A)+R}catch{return BigInt(0)+R}throw new TypeError("Invalid term ".concat(R))}if(O.remove!==void 0){var N=O.remove;if(s(N))return s(A)?A.filter(function(H){return!N.includes(H)}).sort():[];if(typeof N=="number")return Number(A)-N;if(typeof N=="bigint")try{return BigInt(A)-N}catch{return BigInt(0)-N}throw new TypeError("Invalid subtrahend ".concat(N))}return R=(R=O.replacePrefix)==null?void 0:R[0],R&&typeof A=="string"&&A.startsWith(R)?O.replacePrefix[1]+A.substring(R.length):A};var Ql=qg;function qg(A){this["@@propmod"]=A}function Id(A,O){for(var R=o(O),N=R.length,H=!1,Z=0;Z<N;++Z){var ee=R[Z],re=O[ee],fe=D(A,ee);re instanceof Ql?(j(A,ee,re.execute(fe)),H=!0):fe!==re&&(j(A,ee,re),H=!0)}return H}Sn.prototype._trans=function(A,O,R){var N=this._tx||et.trans,H=this.name,Z=St&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(A==="readonly"?"read":"write"," ").concat(this.name));function ee(Se,he,ce){if(ce.schema[H])return O(ce.idbtrans,ce);throw new se.NotFound("Table "+H+" not part of transaction")}var re=Hr();try{var fe=N&&N.db._novip===this.db._novip?N===et.trans?N._promise(A,ee,R):fn(function(){return N._promise(A,ee,R)},{trans:N,transless:et.transless||et}):(function Se(he,ce,ge,ye){if(he.idbdb&&(he._state.openComplete||et.letThrough||he._vip)){var pe=he._createTransaction(ce,ge,he._dbSchema);try{pe.create(),he._state.PR1398_maxLoop=3}catch(me){return me.name===qe.InvalidState&&he.isOpen()&&0<--he._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),he.close({disableAutoOpen:!1}),he.open().then(function(){return Se(he,ce,ge,ye)})):pn(me)}return pe._promise(ce,function(me,Ae){return fn(function(){return et.trans=pe,ye(me,Ae,pe)})}).then(function(me){if(ce==="readwrite")try{pe.idbtrans.commit()}catch{}return ce==="readonly"?me:pe._completion.then(function(){return me})})}if(he._state.openComplete)return pn(new se.DatabaseClosed(he._state.dbOpenError));if(!he._state.isBeingOpened){if(!he._state.autoOpen)return pn(new se.DatabaseClosed);he.open().catch(de)}return he._state.dbReadyPromise.then(function(){return Se(he,ce,ge,ye)})})(this.db,A,[this.name],ee);return Z&&(fe._consoleTask=Z,fe=fe.catch(function(Se){return console.trace(Se),pn(Se)})),fe}finally{re&&hn()}},Sn.prototype.get=function(A,O){var R=this;return A&&A.constructor===Object?this.where(A).first(O):A==null?pn(new se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(N){return R.core.get({trans:N,key:A}).then(function(H){return R.hook.reading.fire(H)})}).then(O)},Sn.prototype.where=function(A){if(typeof A=="string")return new this.db.WhereClause(this,A);if(s(A))return new this.db.WhereClause(this,"[".concat(A.join("+"),"]"));var O=o(A);if(O.length===1)return this.where(O[0]).equals(A[O[0]]);var R=this.schema.indexes.concat(this.schema.primKey).filter(function(re){if(re.compound&&O.every(function(Se){return 0<=re.keyPath.indexOf(Se)})){for(var fe=0;fe<O.length;++fe)if(O.indexOf(re.keyPath[fe])===-1)return!1;return!0}return!1}).sort(function(re,fe){return re.keyPath.length-fe.keyPath.length})[0];if(R&&this.db._maxKey!==Zi)return ee=R.keyPath.slice(0,O.length),this.where(ee).equals(ee.map(function(re){return A[re]}));!R&&St&&console.warn("The query ".concat(JSON.stringify(A)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(O.join("+"),"]"));var N=this.schema.idxByName;function H(re,fe){return Xt(re,fe)===0}var ee=O.reduce(function(he,fe){var Se=he[0],he=he[1],ce=N[fe],ge=A[fe];return[Se||ce,Se||!ce?Hs(he,ce&&ce.multi?function(ye){return ye=D(ye,fe),s(ye)&&ye.some(function(pe){return H(ge,pe)})}:function(ye){return H(ge,D(ye,fe))}):he]},[null,null]),Z=ee[0],ee=ee[1];return Z?this.where(Z.name).equals(A[Z.keyPath]).filter(ee):R?this.filter(ee):this.where(O).equals("")},Sn.prototype.filter=function(A){return this.toCollection().and(A)},Sn.prototype.count=function(A){return this.toCollection().count(A)},Sn.prototype.offset=function(A){return this.toCollection().offset(A)},Sn.prototype.limit=function(A){return this.toCollection().limit(A)},Sn.prototype.each=function(A){return this.toCollection().each(A)},Sn.prototype.toArray=function(A){return this.toCollection().toArray(A)},Sn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Sn.prototype.orderBy=function(A){return new this.db.Collection(new this.db.WhereClause(this,s(A)?"[".concat(A.join("+"),"]"):A))},Sn.prototype.reverse=function(){return this.toCollection().reverse()},Sn.prototype.mapToClass=function(A){for(var O=this.db,R=this.name,N=((this.schema.mappedClass=A).prototype instanceof Vg&&(A=(ee=>{var re=he,fe=ee;if(typeof fe!="function"&&fe!==null)throw new TypeError("Class extends value "+String(fe)+" is not a constructor or null");function Se(){this.constructor=re}function he(){return ee!==null&&ee.apply(this,arguments)||this}return n(re,fe),re.prototype=fe===null?Object.create(fe):(Se.prototype=fe.prototype,new Se),Object.defineProperty(he.prototype,"db",{get:function(){return O},enumerable:!1,configurable:!0}),he.prototype.table=function(){return R},he})(A)),new Set),H=A.prototype;H;H=d(H))Object.getOwnPropertyNames(H).forEach(function(ee){return N.add(ee)});function Z(ee){if(!ee)return ee;var re,fe=Object.create(A.prototype);for(re in ee)if(!N.has(re))try{fe[re]=ee[re]}catch{}return fe}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Z,this.hook("reading",Z),A},Sn.prototype.defineClass=function(){return this.mapToClass(function(A){c(this,A)})},Sn.prototype.add=function(A,O){var R=this,N=this.schema.primKey,H=N.auto,Z=N.keyPath,ee=A;return Z&&H&&(ee=cu(Z)(A)),this._trans("readwrite",function(re){return R.core.mutate({trans:re,type:"add",keys:O!=null?[O]:null,values:[ee]})}).then(function(re){return re.numFailures?nt.reject(re.failures[0]):re.lastResult}).then(function(re){if(Z)try{j(A,Z,re)}catch{}return re})},Sn.prototype.upsert=function(A,O){var R=this,N=this.schema.primKey.keyPath;return this._trans("readwrite",function(H){return R.core.get({trans:H,key:A}).then(function(Z){var ee=Z??{};return Id(ee,O),N&&j(ee,N,A),R.core.mutate({trans:H,type:"put",values:[ee],keys:[A],upsert:!0,updates:{keys:[A],changeSpecs:[O]}}).then(function(re){return re.numFailures?nt.reject(re.failures[0]):!!Z})})})},Sn.prototype.update=function(A,O){return typeof A!="object"||s(A)?this.where(":id").equals(A).modify(O):(A=D(A,this.schema.primKey.keyPath))===void 0?pn(new se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(A).modify(O)},Sn.prototype.put=function(A,O){var R=this,N=this.schema.primKey,H=N.auto,Z=N.keyPath,ee=A;return Z&&H&&(ee=cu(Z)(A)),this._trans("readwrite",function(re){return R.core.mutate({trans:re,type:"put",values:[ee],keys:O!=null?[O]:null})}).then(function(re){return re.numFailures?nt.reject(re.failures[0]):re.lastResult}).then(function(re){if(Z)try{j(A,Z,re)}catch{}return re})},Sn.prototype.delete=function(A){var O=this;return this._trans("readwrite",function(R){return O.core.mutate({trans:R,type:"delete",keys:[A]}).then(function(N){return bi(O,[A],N)}).then(function(N){return N.numFailures?nt.reject(N.failures[0]):void 0})})},Sn.prototype.clear=function(){var A=this;return this._trans("readwrite",function(O){return A.core.mutate({trans:O,type:"deleteRange",range:Xh}).then(function(R){return bi(A,null,R)})}).then(function(O){return O.numFailures?nt.reject(O.failures[0]):void 0})},Sn.prototype.bulkGet=function(A){var O=this;return this._trans("readonly",function(R){return O.core.getMany({keys:A,trans:R}).then(function(N){return N.map(function(H){return O.hook.reading.fire(H)})})})},Sn.prototype.bulkAdd=function(A,O,R){var N=this,H=Array.isArray(O)?O:void 0,Z=(R=R||(H?void 0:O))?R.allKeys:void 0;return this._trans("readwrite",function(ee){var re=N.schema.primKey,Se=re.auto,re=re.keyPath;if(re&&H)throw new se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(H&&H.length!==A.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var fe=A.length,Se=re&&Se?A.map(cu(re)):A;return N.core.mutate({trans:ee,type:"add",keys:H,values:Se,wantResults:Z}).then(function(he){var ce=he.numFailures,ge=he.failures;if(ce===0)return Z?he.results:he.lastResult;throw new be("".concat(N.name,".bulkAdd(): ").concat(ce," of ").concat(fe," operations failed"),ge)})})},Sn.prototype.bulkPut=function(A,O,R){var N=this,H=Array.isArray(O)?O:void 0,Z=(R=R||(H?void 0:O))?R.allKeys:void 0;return this._trans("readwrite",function(ee){var re=N.schema.primKey,Se=re.auto,re=re.keyPath;if(re&&H)throw new se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(H&&H.length!==A.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var fe=A.length,Se=re&&Se?A.map(cu(re)):A;return N.core.mutate({trans:ee,type:"put",keys:H,values:Se,wantResults:Z}).then(function(he){var ce=he.numFailures,ge=he.failures;if(ce===0)return Z?he.results:he.lastResult;throw new be("".concat(N.name,".bulkPut(): ").concat(ce," of ").concat(fe," operations failed"),ge)})})},Sn.prototype.bulkUpdate=function(A){var O=this,R=this.core,N=A.map(function(ee){return ee.key}),H=A.map(function(ee){return ee.changes}),Z=[];return this._trans("readwrite",function(ee){return R.getMany({trans:ee,keys:N,cache:"clone"}).then(function(re){var fe=[],Se=[],he=(A.forEach(function(ce,ge){var ye=ce.key,pe=ce.changes,me=re[ge];if(me){for(var Ae=0,Te=Object.keys(pe);Ae<Te.length;Ae++){var Ce=Te[Ae],Ne=pe[Ce];if(Ce===O.schema.primKey.keyPath){if(Xt(Ne,ye)!==0)throw new se.Constraint("Cannot update primary key in bulkUpdate()")}else j(me,Ce,Ne)}Z.push(ge),fe.push(ye),Se.push(me)}}),fe.length);return R.mutate({trans:ee,type:"put",keys:fe,values:Se,updates:{keys:N,changeSpecs:H}}).then(function(ce){var ge=ce.numFailures,ye=ce.failures;if(ge===0)return he;for(var pe=0,me=Object.keys(ye);pe<me.length;pe++){var Ae,Te=me[pe],Ce=Z[Number(Te)];Ce!=null&&(Ae=ye[Te],delete ye[Te],ye[Ce]=Ae)}throw new be("".concat(O.name,".bulkUpdate(): ").concat(ge," of ").concat(he," operations failed"),ye)})})})},Sn.prototype.bulkDelete=function(A){var O=this,R=A.length;return this._trans("readwrite",function(N){return O.core.mutate({trans:N,type:"delete",keys:A}).then(function(H){return bi(O,A,H)})}).then(function(N){var H=N.numFailures,Z=N.failures;if(H===0)return N.lastResult;throw new be("".concat(O.name,".bulkDelete(): ").concat(H," of ").concat(R," operations failed"),Z)})};var Zh=Sn;function Sn(){}function du(A){function O(ee,re){if(re){for(var fe=arguments.length,Se=new Array(fe-1);--fe;)Se[fe-1]=arguments[fe];return R[ee].subscribe.apply(null,Se),A}if(typeof ee=="string")return R[ee]}var R={};O.addEventType=Z;for(var N=1,H=arguments.length;N<H;++N)Z(arguments[N]);return O;function Z(ee,re,fe){var Se,he;if(typeof ee!="object")return re=re||rt,he={subscribers:[],fire:fe=fe||de,subscribe:function(ce){he.subscribers.indexOf(ce)===-1&&(he.subscribers.push(ce),he.fire=re(he.fire,ce))},unsubscribe:function(ce){he.subscribers=he.subscribers.filter(function(ge){return ge!==ce}),he.fire=he.subscribers.reduce(re,fe)}},R[ee]=O[ee]=he;o(Se=ee).forEach(function(ce){var ge=Se[ce];if(s(ge))Z(ce,Se[ce][0],Se[ce][1]);else{if(ge!=="asap")throw new se.InvalidArgument("Invalid event config");var ye=Z(ce,He,function(){for(var pe=arguments.length,me=new Array(pe);pe--;)me[pe]=arguments[pe];ye.subscribers.forEach(function(Ae){M(function(){Ae.apply(null,me)})})})}})}}function ri(A,O){return x(O).from({prototype:A}),O}function es(A,O){return!(A.filter||A.algorithm||A.or)&&(O?A.justLimit:!A.replayFilter)}function zd(A,O){A.filter=Hs(A.filter,O)}function fu(A,O,R){var N=A.replayFilter;A.replayFilter=N?function(){return Hs(N(),O())}:O,A.justLimit=R&&!N}function Do(A,O){if(A.isPrimKey)return O.primaryKey;var R=O.getIndexByKeyPath(A.index);if(R)return R;throw new se.Schema("KeyPath "+A.index+" on object store "+O.name+" is not indexed")}function Qh(A,O,R){var N=Do(A,O.schema);return O.openCursor({trans:R,values:!A.keysOnly,reverse:A.dir==="prev",unique:!!A.unique,query:{index:N,range:A.range}})}function hu(A,O,R,N){var H,Z,ee=A.replayFilter?Hs(A.filter,A.replayFilter()):A.filter;return A.or?(H={},Z=function(re,fe,Se){var he,ce;ee&&!ee(fe,Se,function(ge){return fe.stop(ge)},function(ge){return fe.fail(ge)})||((ce=""+(he=fe.primaryKey))=="[object ArrayBuffer]"&&(ce=""+new Uint8Array(he)),h(H,ce))||(H[ce]=!0,O(re,fe,Se))},Promise.all([A.or._iterate(Z,R),Vs(Qh(A,N,R),A.algorithm,Z,!A.keysOnly&&A.valueMapper)])):Vs(Qh(A,N,R),Hs(A.algorithm,ee),O,!A.keysOnly&&A.valueMapper)}function Vs(A,O,R,N){var H=lt(N?function(Z,ee,re){return R(N(Z),ee,re)}:R);return A.then(function(Z){if(Z)return Z.start(function(){var ee=function(){return Z.continue()};O&&!O(Z,function(re){return ee=re},function(re){Z.stop(re),ee=de},function(re){Z.fail(re),ee=de})||H(Z.value,Z,function(re){return ee=re}),ee()})})}on.prototype._read=function(A,O){var R=this._ctx;return R.error?R.table._trans(null,pn.bind(null,R.error)):R.table._trans("readonly",A).then(O)},on.prototype._write=function(A){var O=this._ctx;return O.error?O.table._trans(null,pn.bind(null,O.error)):O.table._trans("readwrite",A,"locked")},on.prototype._addAlgorithm=function(A){var O=this._ctx;O.algorithm=Hs(O.algorithm,A)},on.prototype._iterate=function(A,O){return hu(this._ctx,A,O,this._ctx.table.core)},on.prototype.clone=function(A){var O=Object.create(this.constructor.prototype),R=Object.create(this._ctx);return A&&c(R,A),O._ctx=R,O},on.prototype.raw=function(){return this._ctx.valueMapper=null,this},on.prototype.each=function(A){var O=this._ctx;return this._read(function(R){return hu(O,A,R,O.table.core)})},on.prototype.count=function(A){var O=this;return this._read(function(R){var N,H=O._ctx,Z=H.table.core;return es(H,!0)?Z.count({trans:R,query:{index:Do(H,Z.schema),range:H.range}}).then(function(ee){return Math.min(ee,H.limit)}):(N=0,hu(H,function(){return++N,!1},R,Z).then(function(){return N}))}).then(A)},on.prototype.sortBy=function(A,O){var R=A.split(".").reverse(),N=R[0],H=R.length-1;function Z(fe,Se){return Se?Z(fe[R[Se]],Se-1):fe[N]}var ee=this._ctx.dir==="next"?1:-1;function re(fe,Se){return Xt(Z(fe,H),Z(Se,H))*ee}return this.toArray(function(fe){return fe.sort(re)}).then(O)},on.prototype.toArray=function(A){var O=this;return this._read(function(R){var N,H,Z,ee=O._ctx;return ee.dir==="next"&&es(ee,!0)&&0<ee.limit?(N=ee.valueMapper,H=Do(ee,ee.table.core.schema),ee.table.core.query({trans:R,limit:ee.limit,values:!0,query:{index:H,range:ee.range}}).then(function(re){return re=re.result,N?re.map(N):re})):(Z=[],hu(ee,function(re){return Z.push(re)},R,ee.table.core).then(function(){return Z}))},A)},on.prototype.offset=function(A){var O=this._ctx;return A<=0||(O.offset+=A,es(O)?fu(O,function(){var R=A;return function(N,H){return R===0||(R===1?--R:H(function(){N.advance(R),R=0}),!1)}}):fu(O,function(){var R=A;return function(){return--R<0}})),this},on.prototype.limit=function(A){return this._ctx.limit=Math.min(this._ctx.limit,A),fu(this._ctx,function(){var O=A;return function(R,N,H){return--O<=0&&N(H),0<=O}},!0),this},on.prototype.until=function(A,O){return zd(this._ctx,function(R,N,H){return!A(R.value)||(N(H),O)}),this},on.prototype.first=function(A){return this.limit(1).toArray(function(O){return O[0]}).then(A)},on.prototype.last=function(A){return this.reverse().first(A)},on.prototype.filter=function(A){var O;return zd(this._ctx,function(R){return A(R.value)}),(O=this._ctx).isMatch=Hs(O.isMatch,A),this},on.prototype.and=function(A){return this.filter(A)},on.prototype.or=function(A){return new this.db.WhereClause(this._ctx.table,A,this)},on.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},on.prototype.desc=function(){return this.reverse()},on.prototype.eachKey=function(A){var O=this._ctx;return O.keysOnly=!O.isMatch,this.each(function(R,N){A(N.key,N)})},on.prototype.eachUniqueKey=function(A){return this._ctx.unique="unique",this.eachKey(A)},on.prototype.eachPrimaryKey=function(A){var O=this._ctx;return O.keysOnly=!O.isMatch,this.each(function(R,N){A(N.primaryKey,N)})},on.prototype.keys=function(A){var O=this._ctx,R=(O.keysOnly=!O.isMatch,[]);return this.each(function(N,H){R.push(H.key)}).then(function(){return R}).then(A)},on.prototype.primaryKeys=function(A){var O=this._ctx;if(O.dir==="next"&&es(O,!0)&&0<O.limit)return this._read(function(N){var H=Do(O,O.table.core.schema);return O.table.core.query({trans:N,values:!1,limit:O.limit,query:{index:H,range:O.range}})}).then(function(N){return N.result}).then(A);O.keysOnly=!O.isMatch;var R=[];return this.each(function(N,H){R.push(H.primaryKey)}).then(function(){return R}).then(A)},on.prototype.uniqueKeys=function(A){return this._ctx.unique="unique",this.keys(A)},on.prototype.firstKey=function(A){return this.limit(1).keys(function(O){return O[0]}).then(A)},on.prototype.lastKey=function(A){return this.reverse().firstKey(A)},on.prototype.distinct=function(){var A,O=this._ctx,O=O.index&&O.table.schema.idxByName[O.index];return O&&O.multi&&(A={},zd(this._ctx,function(N){var N=N.primaryKey.toString(),H=h(A,N);return A[N]=!0,!H})),this},on.prototype.modify=function(A){var O=this,R=this._ctx;return this._write(function(N){function H(me,Ae){var Te=Ae.failures;ge+=me-Ae.numFailures;for(var Ce=0,Ne=o(Te);Ce<Ne.length;Ce++){var Ke=Ne[Ce];ce.push(Te[Ke])}}var Z=typeof A=="function"?A:function(me){return Id(me,A)},ee=R.table.core,he=ee.schema.primaryKey,re=he.outbound,fe=he.extractKey,Se=200,he=O.db._options.modifyChunkSize,ce=(he&&(Se=typeof he=="object"?he[ee.name]||he["*"]||200:he),[]),ge=0,ye=[],pe=A===Jh;return O.clone().primaryKeys().then(function(me){function Ae(Ce){var Ne=Math.min(Se,me.length-Ce),Ke=me.slice(Ce,Ce+Ne);return(pe?Promise.resolve([]):ee.getMany({trans:N,keys:Ke,cache:"immutable"})).then(function(ot){var st=[],Xe=[],pt=re?[]:null,dt=pe?Ke:[];if(!pe)for(var Ze=0;Ze<Ne;++Ze){var mt=ot[Ze],Lt={value:te(mt),primKey:me[Ce+Ze]};Z.call(Lt,Lt.value,Lt)!==!1&&(Lt.value==null?dt.push(me[Ce+Ze]):re||Xt(fe(mt),fe(Lt.value))===0?(Xe.push(Lt.value),re&&pt.push(me[Ce+Ze])):(dt.push(me[Ce+Ze]),st.push(Lt.value)))}return Promise.resolve(0<st.length&&ee.mutate({trans:N,type:"add",values:st}).then(function(Zt){for(var Tt in Zt.failures)dt.splice(parseInt(Tt),1);H(st.length,Zt)})).then(function(){return(0<Xe.length||Te&&typeof A=="object")&&ee.mutate({trans:N,type:"put",keys:pt,values:Xe,criteria:Te,changeSpec:typeof A!="function"&&A,isAdditionalChunk:0<Ce}).then(function(Zt){return H(Xe.length,Zt)})}).then(function(){return(0<dt.length||Te&&pe)&&ee.mutate({trans:N,type:"delete",keys:dt,criteria:Te,isAdditionalChunk:0<Ce}).then(function(Zt){return bi(R.table,dt,Zt)}).then(function(Zt){return H(dt.length,Zt)})}).then(function(){return me.length>Ce+Ne&&Ae(Ce+Se)})})}var Te=es(R)&&R.limit===1/0&&(typeof A!="function"||pe)&&{index:R.index,range:R.range};return Ae(0).then(function(){if(0<ce.length)throw new we("Error modifying one or more objects",ce,ge,ye);return me.length})})})},on.prototype.delete=function(){var A=this._ctx,O=A.range;return!es(A)||A.table.schema.yProps||!A.isPrimKey&&O.type!==3?this.modify(Jh):this._write(function(R){var N=A.table.core.schema.primaryKey,H=O;return A.table.core.count({trans:R,query:{index:N,range:H}}).then(function(Z){return A.table.core.mutate({trans:R,type:"deleteRange",range:H}).then(function(fe){var re=fe.failures,fe=fe.numFailures;if(fe)throw new we("Could not delete some values",Object.keys(re).map(function(Se){return re[Se]}),Z-fe);return Z-fe})})})};var Rw=on;function on(){}var Jh=function(A,O){return O.value=null};function ep(A,O){return A<O?-1:A===O?0:1}function Lw(A,O){return O<A?-1:A===O?0:1}function Qi(A,O,R){return A=A instanceof qs?new A.Collection(A):A,A._ctx.error=new(R||TypeError)(O),A}function jo(A){return new A.Collection(A,function(){return Bd("")}).limit(0)}function ma(ye,O,R,N){var H,Z,ee,re,fe,Se,he,ce=R.length;if(!R.every(function(me){return typeof me=="string"}))return Qi(ye,Cr);function ge(me){H=me==="next"?function(Te){return Te.toUpperCase()}:function(Te){return Te.toLowerCase()},Z=me==="next"?function(Te){return Te.toLowerCase()}:function(Te){return Te.toUpperCase()},ee=me==="next"?ep:Lw;var Ae=R.map(function(Te){return{lower:Z(Te),upper:H(Te)}}).sort(function(Te,Ce){return ee(Te.lower,Ce.lower)});re=Ae.map(function(Te){return Te.upper}),fe=Ae.map(function(Te){return Te.lower}),he=(Se=me)==="next"?"":N}ge("next");var ye=new ye.Collection(ye,function(){return eo(re[0],fe[ce-1]+N)}),pe=(ye._ondirectionchange=function(me){ge(me)},0);return ye._addAlgorithm(function(me,Ae,Te){var Ce=me.key;if(typeof Ce=="string"){var Ne=Z(Ce);if(O(Ne,fe,pe))return!0;for(var Ke=null,ot=pe;ot<ce;++ot){var st=((Xe,pt,dt,Ze,mt,Lt)=>{for(var Zt=Math.min(Xe.length,Ze.length),Tt=-1,Bt=0;Bt<Zt;++Bt){var In=pt[Bt];if(In!==Ze[Bt])return mt(Xe[Bt],dt[Bt])<0?Xe.substr(0,Bt)+dt[Bt]+dt.substr(Bt+1):mt(Xe[Bt],Ze[Bt])<0?Xe.substr(0,Bt)+Ze[Bt]+dt.substr(Bt+1):0<=Tt?Xe.substr(0,Tt)+pt[Tt]+dt.substr(Tt+1):null;mt(Xe[Bt],In)<0&&(Tt=Bt)}return Zt<Ze.length&&Lt==="next"?Xe+dt.substr(Xe.length):Zt<Xe.length&&Lt==="prev"?Xe.substr(0,dt.length):Tt<0?null:Xe.substr(0,Tt)+Ze[Tt]+dt.substr(Tt+1)})(Ce,Ne,re[ot],fe[ot],ee,Se);st===null&&Ke===null?pe=ot+1:(Ke===null||0<ee(Ke,st))&&(Ke=st)}Ae(Ke!==null?function(){me.continue(Ke+he)}:Te)}return!1}),ye}function eo(A,O,R,N){return{type:2,lower:A,upper:O,lowerOpen:R,upperOpen:N}}function Bd(A){return{type:1,lower:A,upper:A}}Object.defineProperty(Zn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Zn.prototype.between=function(A,O,R,N){R=R!==!1,N=N===!0;try{return 0<this._cmp(A,O)||this._cmp(A,O)===0&&(R||N)&&(!R||!N)?jo(this):new this.Collection(this,function(){return eo(A,O,!R,!N)})}catch{return Qi(this,ni)}},Zn.prototype.equals=function(A){return A==null?Qi(this,ni):new this.Collection(this,function(){return Bd(A)})},Zn.prototype.above=function(A){return A==null?Qi(this,ni):new this.Collection(this,function(){return eo(A,void 0,!0)})},Zn.prototype.aboveOrEqual=function(A){return A==null?Qi(this,ni):new this.Collection(this,function(){return eo(A,void 0,!1)})},Zn.prototype.below=function(A){return A==null?Qi(this,ni):new this.Collection(this,function(){return eo(void 0,A,!1,!0)})},Zn.prototype.belowOrEqual=function(A){return A==null?Qi(this,ni):new this.Collection(this,function(){return eo(void 0,A)})},Zn.prototype.startsWith=function(A){return typeof A!="string"?Qi(this,Cr):this.between(A,A+Zi,!0,!0)},Zn.prototype.startsWithIgnoreCase=function(A){return A===""?this.startsWith(A):ma(this,function(O,R){return O.indexOf(R[0])===0},[A],Zi)},Zn.prototype.equalsIgnoreCase=function(A){return ma(this,function(O,R){return O===R[0]},[A],"")},Zn.prototype.anyOfIgnoreCase=function(){var A=W.apply(q,arguments);return A.length===0?jo(this):ma(this,function(O,R){return R.indexOf(O)!==-1},A,"")},Zn.prototype.startsWithAnyOfIgnoreCase=function(){var A=W.apply(q,arguments);return A.length===0?jo(this):ma(this,function(O,R){return R.some(function(N){return O.indexOf(N)===0})},A,Zi)},Zn.prototype.anyOf=function(){var A,O,R=this,N=W.apply(q,arguments),H=this._cmp;try{N.sort(H)}catch{return Qi(this,ni)}return N.length===0?jo(this):((A=new this.Collection(this,function(){return eo(N[0],N[N.length-1])}))._ondirectionchange=function(Z){H=Z==="next"?R._ascending:R._descending,N.sort(H)},O=0,A._addAlgorithm(function(Z,ee,re){for(var fe=Z.key;0<H(fe,N[O]);)if(++O===N.length)return ee(re),!1;return H(fe,N[O])===0||(ee(function(){Z.continue(N[O])}),!1)}),A)},Zn.prototype.notEqual=function(A){return this.inAnyRange([[-1/0,A],[A,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Zn.prototype.noneOf=function(){var A=W.apply(q,arguments);if(A.length===0)return new this.Collection(this);try{A.sort(this._ascending)}catch{return Qi(this,ni)}var O=A.reduce(function(R,N){return R?R.concat([[R[R.length-1][1],N]]):[[-1/0,N]]},null);return O.push([A[A.length-1],this.db._maxKey]),this.inAnyRange(O,{includeLowers:!1,includeUppers:!1})},Zn.prototype.inAnyRange=function(A,Te){var R=this,N=this._cmp,H=this._ascending,Z=this._descending,ee=this._min,re=this._max;if(A.length===0)return jo(this);if(!A.every(function(Ce){return Ce[0]!==void 0&&Ce[1]!==void 0&&H(Ce[0],Ce[1])<=0}))return Qi(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",se.InvalidArgument);var fe=!Te||Te.includeLowers!==!1,Se=Te&&Te.includeUppers===!0,he,ce=H;function ge(Ce,Ne){return ce(Ce[0],Ne[0])}try{(he=A.reduce(function(Ce,Ne){for(var Ke=0,ot=Ce.length;Ke<ot;++Ke){var st=Ce[Ke];if(N(Ne[0],st[1])<0&&0<N(Ne[1],st[0])){st[0]=ee(st[0],Ne[0]),st[1]=re(st[1],Ne[1]);break}}return Ke===ot&&Ce.push(Ne),Ce},[])).sort(ge)}catch{return Qi(this,ni)}var ye=0,pe=Se?function(Ce){return 0<H(Ce,he[ye][1])}:function(Ce){return 0<=H(Ce,he[ye][1])},me=fe?function(Ce){return 0<Z(Ce,he[ye][0])}:function(Ce){return 0<=Z(Ce,he[ye][0])},Ae=pe,Te=new this.Collection(this,function(){return eo(he[0][0],he[he.length-1][1],!fe,!Se)});return Te._ondirectionchange=function(Ce){ce=Ce==="next"?(Ae=pe,H):(Ae=me,Z),he.sort(ge)},Te._addAlgorithm(function(Ce,Ne,Ke){for(var ot,st=Ce.key;Ae(st);)if(++ye===he.length)return Ne(Ke),!1;return!pe(ot=st)&&!me(ot)||(R._cmp(st,he[ye][1])===0||R._cmp(st,he[ye][0])===0||Ne(function(){ce===H?Ce.continue(he[ye][0]):Ce.continue(he[ye][1])}),!1)}),Te},Zn.prototype.startsWithAnyOf=function(){var A=W.apply(q,arguments);return A.every(function(O){return typeof O=="string"})?A.length===0?jo(this):this.inAnyRange(A.map(function(O){return[O,O+Zi]})):Qi(this,"startsWithAnyOf() only works with strings")};var qs=Zn;function Zn(){}function Da(A){return lt(function(O){return Gs(O),A(O.target.error),!1})}function Gs(A){A.stopPropagation&&A.stopPropagation(),A.preventDefault&&A.preventDefault()}var Jl="storagemutated",Ys="x-storagemutated-1",ii=du(null,Jl),tp=(Ii.prototype._lock=function(){return k(!et.global),++this._reculock,this._reculock!==1||et.global||(et.lockOwnerFor=this),this},Ii.prototype._unlock=function(){if(k(!et.global),--this._reculock==0)for(et.global||(et.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var A=this._blockedFuncs.shift();try{Nn(A[1],A[0])}catch{}}return this},Ii.prototype._locked=function(){return this._reculock&&et.lockOwnerFor!==this},Ii.prototype.create=function(A){var O=this;if(this.mode){var R=this.db.idbdb,N=this.db._state.dbOpenError;if(k(!this.idbtrans),!A&&!R)switch(N&&N.name){case"DatabaseClosedError":throw new se.DatabaseClosed(N);case"MissingAPIError":throw new se.MissingAPI(N.message,N);default:throw new se.OpenFailed(N)}if(!this.active)throw new se.TransactionInactive;k(this._completion._state===null),(A=this.idbtrans=A||(this.db.core||R).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=lt(function(H){Gs(H),O._reject(A.error)}),A.onabort=lt(function(H){Gs(H),O.active&&O._reject(new se.Abort(A.error)),O.active=!1,O.on("abort").fire(H)}),A.oncomplete=lt(function(){O.active=!1,O._resolve(),"mutatedParts"in A&&ii.storagemutated.fire(A.mutatedParts)})}return this},Ii.prototype._promise=function(A,O,R){var N,H=this;return A==="readwrite"&&this.mode!=="readwrite"?pn(new se.ReadOnly("Transaction is readonly")):this.active?this._locked()?new nt(function(Z,ee){H._blockedFuncs.push([function(){H._promise(A,O,R).then(Z,ee)},et])}):R?fn(function(){var Z=new nt(function(ee,re){H._lock();var fe=O(ee,re,H);fe&&fe.then&&fe.then(ee,re)});return Z.finally(function(){return H._unlock()}),Z._lib=!0,Z}):((N=new nt(function(Z,ee){var re=O(Z,ee,H);re&&re.then&&re.then(Z,ee)}))._lib=!0,N):pn(new se.TransactionInactive)},Ii.prototype._root=function(){return this.parent?this.parent._root():this},Ii.prototype.waitFor=function(A){var O,R=this._root(),N=nt.resolve(A),H=(R._waitingFor?R._waitingFor=R._waitingFor.then(function(){return N}):(R._waitingFor=N,R._waitingQueue=[],O=R.idbtrans.objectStore(R.storeNames[0]),(function Z(){for(++R._spinCount;R._waitingQueue.length;)R._waitingQueue.shift()();R._waitingFor&&(O.get(-1/0).onsuccess=Z)})()),R._waitingFor);return new nt(function(Z,ee){N.then(function(re){return R._waitingQueue.push(lt(Z.bind(null,re)))},function(re){return R._waitingQueue.push(lt(ee.bind(null,re)))}).finally(function(){R._waitingFor===H&&(R._waitingFor=null)})})},Ii.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new se.Abort))},Ii.prototype.table=function(A){var O=this._memoizedTables||(this._memoizedTables={});if(h(O,A))return O[A];var R=this.schema[A];if(R)return(R=new this.db.Table(A,R,this)).core=this.db.core.table(A),O[A]=R;throw new se.NotFound("Table "+A+" not part of transaction")},Ii);function Ii(){}function to(A,O,R,N,H,Z,ee,re){return{name:A,keyPath:O,unique:R,multi:N,auto:H,compound:Z,src:(R&&!ee?"&":"")+(N?"*":"")+(H?"++":"")+$d(O),type:re}}function $d(A){return typeof A=="string"?A:A?"["+[].join.call(A,"+")+"]":""}function ec(A,O,R){return{name:A,primKey:O,indexes:R,mappedClass:null,idxByName:(N=function(H){return[H.name,H]},R.reduce(function(H,Z,ee){return Z=N(Z,ee),Z&&(H[Z[0]]=Z[1]),H},{}))};var N}var tc=function(A){try{return A.only([[]]),tc=function(){return[[]]},[[]]}catch{return tc=function(){return Zi},Zi}};function nc(A){return A==null?function(){}:typeof A=="string"?(O=A).split(".").length===1?function(R){return R[O]}:function(R){return D(R,O)}:function(R){return D(R,A)};var O}function pu(A){return[].slice.call(A)}var Gg=0;function Or(A){return A==null?":id":typeof A=="string"?A:"[".concat(A.join("+"),"]")}function Ks(A,O,fe){function N(pe){if(pe.type===3)return null;if(pe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var ce=pe.lower,ge=pe.upper,ye=pe.lowerOpen,pe=pe.upperOpen;return ce===void 0?ge===void 0?null:O.upperBound(ge,!!pe):ge===void 0?O.lowerBound(ce,!!ye):O.bound(ce,ge,!!ye,!!pe)}function H(he){var ce,ge=he.name;return{name:ge,schema:he,mutate:function(ye){var pe=ye.trans,me=ye.type,Ae=ye.keys,Te=ye.values,Ce=ye.range;return new Promise(function(Ne,Ke){Ne=lt(Ne);var ot=pe.objectStore(ge),st=ot.keyPath==null,Xe=me==="put"||me==="add";if(!Xe&&me!=="delete"&&me!=="deleteRange")throw new Error("Invalid operation type: "+me);var pt,dt=(Ae||Te||{length:1}).length;if(Ae&&Te&&Ae.length!==Te.length)throw new Error("Given keys array must have same length as given values array.");if(dt===0)return Ne({numFailures:0,failures:{},results:[],lastResult:void 0});function Ze(Pn){++Zt,Gs(Pn)}var mt=[],Lt=[],Zt=0;if(me==="deleteRange"){if(Ce.type===4)return Ne({numFailures:Zt,failures:Lt,results:[],lastResult:void 0});Ce.type===3?mt.push(pt=ot.clear()):mt.push(pt=ot.delete(N(Ce)))}else{var st=Xe?st?[Te,Ae]:[Te,null]:[Ae,null],Tt=st[0],Bt=st[1];if(Xe)for(var In=0;In<dt;++In)mt.push(pt=Bt&&Bt[In]!==void 0?ot[me](Tt[In],Bt[In]):ot[me](Tt[In])),pt.onerror=Ze;else for(In=0;In<dt;++In)mt.push(pt=ot[me](Tt[In])),pt.onerror=Ze}function Bi(Pn){Pn=Pn.target.result,mt.forEach(function(is,lc){return is.error!=null&&(Lt[lc]=is.error)}),Ne({numFailures:Zt,failures:Lt,results:me==="delete"?Ae:mt.map(function(is){return is.result}),lastResult:Pn})}pt.onerror=function(Pn){Ze(Pn),Bi(Pn)},pt.onsuccess=Bi})},getMany:function(ye){var pe=ye.trans,me=ye.keys;return new Promise(function(Ae,Te){Ae=lt(Ae);for(var Ce,Ne=pe.objectStore(ge),Ke=me.length,ot=new Array(Ke),st=0,Xe=0,pt=function(mt){mt=mt.target,ot[mt._pos]=mt.result,++Xe===st&&Ae(ot)},dt=Da(Te),Ze=0;Ze<Ke;++Ze)me[Ze]!=null&&((Ce=Ne.get(me[Ze]))._pos=Ze,Ce.onsuccess=pt,Ce.onerror=dt,++st);st===0&&Ae(ot)})},get:function(ye){var pe=ye.trans,me=ye.key;return new Promise(function(Ae,Te){Ae=lt(Ae);var Ce=pe.objectStore(ge).get(me);Ce.onsuccess=function(Ne){return Ae(Ne.target.result)},Ce.onerror=Da(Te)})},query:(ce=re,function(ye){return new Promise(function(pe,me){pe=lt(pe);var Ae,Te,Ce,Xe=ye.trans,Ne=ye.values,Ke=ye.limit,st=ye.query,ot=Ke===1/0?void 0:Ke,pt=st.index,st=st.range,Xe=Xe.objectStore(ge),Xe=pt.isPrimaryKey?Xe:Xe.index(pt.name),pt=N(st);if(Ke===0)return pe({result:[]});ce?((st=Ne?Xe.getAll(pt,ot):Xe.getAllKeys(pt,ot)).onsuccess=function(dt){return pe({result:dt.target.result})},st.onerror=Da(me)):(Ae=0,Te=!Ne&&"openKeyCursor"in Xe?Xe.openKeyCursor(pt):Xe.openCursor(pt),Ce=[],Te.onsuccess=function(dt){var Ze=Te.result;return!Ze||(Ce.push(Ne?Ze.value:Ze.primaryKey),++Ae===Ke)?pe({result:Ce}):void Ze.continue()},Te.onerror=Da(me))})}),openCursor:function(ye){var pe=ye.trans,me=ye.values,Ae=ye.query,Te=ye.reverse,Ce=ye.unique;return new Promise(function(Ne,Ke){Ne=lt(Ne);var Xe=Ae.index,ot=Ae.range,st=pe.objectStore(ge),st=Xe.isPrimaryKey?st:st.index(Xe.name),Xe=Te?Ce?"prevunique":"prev":Ce?"nextunique":"next",pt=!me&&"openKeyCursor"in st?st.openKeyCursor(N(ot),Xe):st.openCursor(N(ot),Xe);pt.onerror=Da(Ke),pt.onsuccess=lt(function(dt){var Ze,mt,Lt,Zt,Tt=pt.result;Tt?(Tt.___id=++Gg,Tt.done=!1,Ze=Tt.continue.bind(Tt),mt=(mt=Tt.continuePrimaryKey)&&mt.bind(Tt),Lt=Tt.advance.bind(Tt),Zt=function(){throw new Error("Cursor not stopped")},Tt.trans=pe,Tt.stop=Tt.continue=Tt.continuePrimaryKey=Tt.advance=function(){throw new Error("Cursor not started")},Tt.fail=lt(Ke),Tt.next=function(){var Bt=this,In=1;return this.start(function(){return In--?Bt.continue():Bt.stop()}).then(function(){return Bt})},Tt.start=function(Bt){function In(){if(pt.result)try{Bt()}catch(Pn){Tt.fail(Pn)}else Tt.done=!0,Tt.start=function(){throw new Error("Cursor behind last entry")},Tt.stop()}var Bi=new Promise(function(Pn,is){Pn=lt(Pn),pt.onerror=Da(is),Tt.fail=is,Tt.stop=function(lc){Tt.stop=Tt.continue=Tt.continuePrimaryKey=Tt.advance=Zt,Pn(lc)}});return pt.onsuccess=lt(function(Pn){pt.onsuccess=In,In()}),Tt.continue=Ze,Tt.continuePrimaryKey=mt,Tt.advance=Lt,In(),Bi},Ne(Tt)):Ne(null)},Ke)})},count:function(ye){var pe=ye.query,me=ye.trans,Ae=pe.index,Te=pe.range;return new Promise(function(Ce,Ne){var Ke=me.objectStore(ge),Ke=Ae.isPrimaryKey?Ke:Ke.index(Ae.name),ot=N(Te),ot=ot?Ke.count(ot):Ke.count();ot.onsuccess=lt(function(st){return Ce(st.target.result)}),ot.onerror=Da(Ne)})}}}Z=fe,ee=pu((fe=A).objectStoreNames);var Z,fe={schema:{name:fe.name,tables:ee.map(function(he){return Z.objectStore(he)}).map(function(he){var ce=he.keyPath,ge=he.autoIncrement,pe=s(ce),ye={},pe={name:he.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:ce==null,compound:pe,keyPath:ce,autoIncrement:ge,unique:!0,extractKey:nc(ce)},indexes:pu(he.indexNames).map(function(me){return he.index(me)}).map(function(Ce){var Ne=Ce.name,Ae=Ce.unique,Te=Ce.multiEntry,Ce=Ce.keyPath,Ne={name:Ne,compound:s(Ce),keyPath:Ce,unique:Ae,multiEntry:Te,extractKey:nc(Ce)};return ye[Or(Ce)]=Ne}),getIndexByKeyPath:function(me){return ye[Or(me)]}};return ye[":id"]=pe.primaryKey,ce!=null&&(ye[Or(ce)]=pe.primaryKey),pe})},hasGetAll:0<ee.length&&"getAll"in Z.objectStore(ee[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},ee=fe.schema,re=fe.hasGetAll,fe=ee.tables.map(H),Se={};return fe.forEach(function(he){return Se[he.name]=he}),{stack:"dbcore",transaction:A.transaction.bind(A),table:function(he){if(Se[he])return Se[he];throw new Error("Table '".concat(he,"' not found"))},MIN_KEY:-1/0,MAX_KEY:tc(O),schema:ee}}function Fd(A,O,R,N){return R=R.IDBKeyRange,O=Ks(O,R,N),{dbcore:A.dbcore.reduce(function(H,Z){return Z=Z.create,r(r({},H),Z(H))},O)}}function ts(A,O){var R=O.db,R=Fd(A._middlewares,R,A._deps,O);A.core=R.dbcore,A.tables.forEach(function(N){var H=N.name;A.core.schema.tables.some(function(Z){return Z.name===H})&&(N.core=A.core.table(H),A[H]instanceof A.Table)&&(A[H].core=N.core)})}function Ud(A,O,R,N){R.forEach(function(H){var Z=N[H];O.forEach(function(ee){var re=(function fe(Se,he){return S(Se,he)||(Se=d(Se))&&fe(Se,he)})(ee,H);(!re||"value"in re&&re.value===void 0)&&(ee===A.Transaction.prototype||ee instanceof A.Transaction?b(ee,H,{get:function(){return this.table(H)},set:function(fe){v(this,H,{value:fe,writable:!0,configurable:!0,enumerable:!0})}}):ee[H]=new A.Table(H,Z))})})}function mu(A,O){O.forEach(function(R){for(var N in R)R[N]instanceof A.Table&&delete R[N]})}function np(A,O){return A._cfg.version-O._cfg.version}function gu(A,O,R,N){var H=A._dbSchema,Z=(R.objectStoreNames.contains("$meta")&&!H.$meta&&(H.$meta=ec("$meta",Kg("")[0],[]),A._storeNames.push("$meta")),A._createTransaction("readwrite",A._storeNames,H)),ee=(Z.create(R),Z._completion.catch(N),Z._reject.bind(Z)),re=et.transless||et;fn(function(){if(et.trans=Z,et.transless=re,O!==0)return ts(A,R),Se=O,((fe=Z).storeNames.includes("$meta")?fe.table("$meta").get("version").then(function(he){return he??Se}):nt.resolve(Se)).then(function(Ae){var ce=A,ge=Ae,ye=Z,pe=R,me=[],Ae=ce._versions,Te=ce._dbSchema=rc(0,ce.idbdb,pe);return(Ae=Ae.filter(function(Ce){return Ce._cfg.version>=ge})).length===0?nt.resolve():(Ae.forEach(function(Ce){me.push(function(){var Ne,Ke,ot,st=Te,Xe=Ce._cfg.dbschema,pt=(Gd(ce,st,pe),Gd(ce,Xe,pe),Te=ce._dbSchema=Xe,Vd(st,Xe)),dt=(pt.add.forEach(function(Ze){rp(pe,Ze[0],Ze[1].primKey,Ze[1].indexes)}),pt.change.forEach(function(Ze){if(Ze.recreate)throw new se.Upgrade("Not yet support for changing primary key");var mt=pe.objectStore(Ze.name);Ze.add.forEach(function(Lt){return qd(mt,Lt)}),Ze.change.forEach(function(Lt){mt.deleteIndex(Lt.name),qd(mt,Lt)}),Ze.del.forEach(function(Lt){return mt.deleteIndex(Lt)})}),Ce._cfg.contentUpgrade);if(dt&&Ce._cfg.version>ge)return ts(ce,pe),ye._memoizedTables={},Ne=I(Xe),pt.del.forEach(function(Ze){Ne[Ze]=st[Ze]}),mu(ce,[ce.Transaction.prototype]),Ud(ce,[ce.Transaction.prototype],o(Ne),Ne),ye.schema=Ne,(Ke=z(dt))&&Un(),Xe=nt.follow(function(){var Ze;(ot=dt(ye))&&Ke&&(Ze=Pr.bind(null,null),ot.then(Ze,Ze))}),ot&&typeof ot.then=="function"?nt.resolve(ot):Xe.then(function(){return ot})}),me.push(function(Ne){var Ke,ot,st=Ce._cfg.dbschema;Ke=st,ot=Ne,[].slice.call(ot.db.objectStoreNames).forEach(function(Xe){return Ke[Xe]==null&&ot.db.deleteObjectStore(Xe)}),mu(ce,[ce.Transaction.prototype]),Ud(ce,[ce.Transaction.prototype],ce._storeNames,ce._dbSchema),ye.schema=ce._dbSchema}),me.push(function(Ne){ce.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ce.idbdb.version/10)===Ce._cfg.version?(ce.idbdb.deleteObjectStore("$meta"),delete ce._dbSchema.$meta,ce._storeNames=ce._storeNames.filter(function(Ke){return Ke!=="$meta"})):Ne.objectStore("$meta").put(Ce._cfg.version,"version"))})}),(function Ce(){return me.length?nt.resolve(me.shift()(ye.idbtrans)).then(Ce):nt.resolve()})().then(function(){Yg(Te,pe)}))}).catch(ee);var fe,Se;o(H).forEach(function(he){rp(R,he,H[he].primKey,H[he].indexes)}),ts(A,R),nt.follow(function(){return A.on.populate.fire(Z)}).catch(ee)})}function Hd(A,O){Yg(A._dbSchema,O),O.db.version%10!=0||O.objectStoreNames.contains("$meta")||O.db.createObjectStore("$meta").add(Math.ceil(O.db.version/10-1),"version");var R=rc(0,A.idbdb,O);Gd(A,A._dbSchema,O);for(var N=0,H=Vd(R,A._dbSchema).change;N<H.length;N++){var Z=(ee=>{if(ee.change.length||ee.recreate)return console.warn("Unable to patch indexes of table ".concat(ee.name," because it has changes on the type of index or primary key.")),{value:void 0};var re=O.objectStore(ee.name);ee.add.forEach(function(fe){St&&console.debug("Dexie upgrade patch: Creating missing index ".concat(ee.name,".").concat(fe.src)),qd(re,fe)})})(H[N]);if(typeof Z=="object")return Z.value}}function Vd(A,O){var R,N={del:[],add:[],change:[]};for(R in A)O[R]||N.del.push(R);for(R in O){var H=A[R],Z=O[R];if(H){var ee={name:R,def:Z,recreate:!1,del:[],add:[],change:[]};if(""+(H.primKey.keyPath||"")!=""+(Z.primKey.keyPath||"")||H.primKey.auto!==Z.primKey.auto)ee.recreate=!0,N.change.push(ee);else{var re=H.idxByName,fe=Z.idxByName,Se=void 0;for(Se in re)fe[Se]||ee.del.push(Se);for(Se in fe){var he=re[Se],ce=fe[Se];he?he.src!==ce.src&&ee.change.push(ce):ee.add.push(ce)}(0<ee.del.length||0<ee.add.length||0<ee.change.length)&&N.change.push(ee)}}else N.add.push([R,Z])}return N}function rp(A,O,R,N){var H=A.db.createObjectStore(O,R.keyPath?{keyPath:R.keyPath,autoIncrement:R.auto}:{autoIncrement:R.auto});N.forEach(function(Z){return qd(H,Z)})}function Yg(A,O){o(A).forEach(function(R){O.db.objectStoreNames.contains(R)||(St&&console.debug("Dexie: Creating missing table",R),rp(O,R,A[R].primKey,A[R].indexes))})}function qd(A,O){A.createIndex(O.name,O.keyPath,{unique:O.unique,multiEntry:O.multi})}function rc(A,O,R){var N={};return T(O.objectStoreNames,0).forEach(function(H){for(var Z=R.objectStore(H),ee=to($d(Se=Z.keyPath),Se||"",!0,!1,!!Z.autoIncrement,Se&&typeof Se!="string",!0),re=[],fe=0;fe<Z.indexNames.length;++fe){var he=Z.index(Z.indexNames[fe]),Se=he.keyPath,he=to(he.name,Se,!!he.unique,!!he.multiEntry,!1,Se&&typeof Se!="string",!1);re.push(he)}N[H]=ec(H,ee,re)}),N}function Gd(A,O,R){for(var N=R.db.objectStoreNames,H=0;H<N.length;++H){var Z=N[H],ee=R.objectStore(Z);A._hasGetAll="getAll"in ee;for(var re=0;re<ee.indexNames.length;++re){var fe,Se=ee.indexNames[re],he=ee.index(Se).keyPath,he=typeof he=="string"?he:"["+T(he).join("+")+"]";O[Z]&&(fe=O[Z].idxByName[he])&&(fe.name=Se,delete O[Z].idxByName[he],O[Z].idxByName[Se]=fe)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(A._hasGetAll=!1)}function Kg(A){return A.split(",").map(function(O,R){var H=O.split(":"),N=(N=H[1])==null?void 0:N.trim(),H=(O=H[0].trim()).replace(/([&*]|\+\+)/g,""),Z=/^\[/.test(H)?H.match(/^\[(.*)\]$/)[1].split("+"):H;return to(H,Z||null,/\&/.test(O),/\*/.test(O),/\+\+/.test(O),s(Z),R===0,N)})}ic.prototype._createTableSchema=ec,ic.prototype._parseIndexSyntax=Kg,ic.prototype._parseStoresSpec=function(A,O){var R=this;o(A).forEach(function(N){if(A[N]!==null){var H=R._parseIndexSyntax(A[N]),Z=H.shift();if(!Z)throw new se.Schema("Invalid schema for table "+N+": "+A[N]);if(Z.unique=!0,Z.multi)throw new se.Schema("Primary key cannot be multiEntry*");H.forEach(function(ee){if(ee.auto)throw new se.Schema("Only primary key can be marked as autoIncrement (++)");if(!ee.keyPath)throw new se.Schema("Index must have a name and cannot be an empty string")}),Z=R._createTableSchema(N,Z,H),O[N]=Z}})},ic.prototype.stores=function(R){var O=this.db,R=(this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,R):R,O._versions),N={},H={};return R.forEach(function(Z){c(N,Z._cfg.storesSource),H=Z._cfg.dbschema={},Z._parseStoresSpec(N,H)}),O._dbSchema=H,mu(O,[O._allTables,O,O.Transaction.prototype]),Ud(O,[O._allTables,O,O.Transaction.prototype,this._cfg.tables],o(H),H),O._storeNames=o(H),this},ic.prototype.upgrade=function(A){return this._cfg.contentUpgrade=Je(this._cfg.contentUpgrade||de,A),this};var Nw=ic;function ic(){}function ip(A,O){var R=A._dbNamesDB;return R||(R=A._dbNamesDB=new no(lu,{addons:[],indexedDB:A,IDBKeyRange:O})).version(1).stores({dbnames:"name"}),R.table("dbnames")}function Yd(A){return A&&typeof A.databases=="function"}function ap(A){return fn(function(){return et.letThrough=!0,A()})}function op(A){return!("from"in A)}var ai=function(A,O){var R;if(!this)return R=new ai,A&&"d"in A&&c(R,A),R;c(this,arguments.length?{d:1,from:A,to:1<arguments.length?O:A}:{d:0})};function vu(A,O,R){var N=Xt(O,R);if(!isNaN(N)){if(0<N)throw RangeError();if(op(A))return c(A,{from:O,to:R,d:1});var N=A.l,H=A.r;if(Xt(R,A.from)<0)return N?vu(N,O,R):A.l={from:O,to:R,d:1,l:null,r:null},Xg(A);if(0<Xt(O,A.to))return H?vu(H,O,R):A.r={from:O,to:R,d:1,l:null,r:null},Xg(A);Xt(O,A.from)<0&&(A.from=O,A.l=null,A.d=H?H.d+1:1),0<Xt(R,A.to)&&(A.to=R,A.r=null,A.d=A.l?A.l.d+1:1),O=!A.r,N&&!A.l&&Ws(A,N),H&&O&&Ws(A,H)}}function Ws(A,O){op(O)||(function R(N,H){var Z=H.from,ee=H.l,re=H.r;vu(N,Z,H.to),ee&&R(N,ee),re&&R(N,re)})(A,O)}function Wg(A,O){var R=Kd(O),N=R.next();if(!N.done)for(var H=N.value,Z=Kd(A),ee=Z.next(H.from),re=ee.value;!N.done&&!ee.done;){if(Xt(re.from,H.to)<=0&&0<=Xt(re.to,H.from))return!0;Xt(H.from,re.from)<0?H=(N=R.next(re.from)).value:re=(ee=Z.next(H.from)).value}return!1}function Kd(A){var O=op(A)?null:{s:0,n:A};return{next:function(R){for(var N=0<arguments.length;O;)switch(O.s){case 0:if(O.s=1,N)for(;O.n.l&&Xt(R,O.n.from)<0;)O={up:O,n:O.n.l,s:1};else for(;O.n.l;)O={up:O,n:O.n.l,s:1};case 1:if(O.s=2,!N||Xt(R,O.n.to)<=0)return{value:O.n,done:!1};case 2:if(O.n.r){O.s=3,O={up:O,n:O.n.r,s:0};continue}case 3:O=O.up}return{done:!0}}}}function Xg(A){var O,R,N,H=(((H=A.r)==null?void 0:H.d)||0)-(((H=A.l)==null?void 0:H.d)||0),H=1<H?"r":H<-1?"l":"";H&&(O=H=="r"?"l":"r",R=r({},A),N=A[H],A.from=N.from,A.to=N.to,A[H]=N[H],R[H]=N[O],(A[O]=R).d=sp(R)),A.d=sp(A)}function sp(R){var O=R.r,R=R.l;return(O?R?Math.max(O.d,R.d):O.d:R?R.d:0)+1}function Wd(A,O){return o(O).forEach(function(R){A[R]?Ws(A[R],O[R]):A[R]=(function N(H){var Z,ee,re={};for(Z in H)h(H,Z)&&(ee=H[Z],re[Z]=!ee||typeof ee!="object"||V.has(ee.constructor)?ee:N(ee));return re})(O[R])}),A}function lp(A,O){return A.all||O.all||Object.keys(A).some(function(R){return O[R]&&Wg(O[R],A[R])})}m(ai.prototype,((Ge={add:function(A){return Ws(this,A),this},addKey:function(A){return vu(this,A,A),this},addKeys:function(A){var O=this;return A.forEach(function(R){return vu(O,R,R)}),this},hasKey:function(A){var O=Kd(this).next(A).value;return O&&Xt(O.from,A)<=0&&0<=Xt(O.to,A)}})[L]=function(){return Kd(this)},Ge));var Xs={},cp={},up=!1;function Xd(A){Wd(cp,A),up||(up=!0,setTimeout(function(){up=!1,dp(cp,!(cp={}))},0))}function dp(A,O){O===void 0&&(O=!1);var R=new Set;if(A.all)for(var N=0,H=Object.values(Xs);N<H.length;N++)Zg(re=H[N],A,R,O);else for(var Z in A){var ee,re,Z=/^idb\:\/\/(.*)\/(.*)\//.exec(Z);Z&&(ee=Z[1],Z=Z[2],re=Xs["idb://".concat(ee,"/").concat(Z)])&&Zg(re,A,R,O)}R.forEach(function(fe){return fe()})}function Zg(A,O,R,N){for(var H=[],Z=0,ee=Object.entries(A.queries.query);Z<ee.length;Z++){for(var re=ee[Z],fe=re[0],Se=[],he=0,ce=re[1];he<ce.length;he++){var ge=ce[he];lp(O,ge.obsSet)?ge.subscribers.forEach(function(Ae){return R.add(Ae)}):N&&Se.push(ge)}N&&H.push([fe,Se])}if(N)for(var ye=0,pe=H;ye<pe.length;ye++){var me=pe[ye],fe=me[0],Se=me[1];A.queries.query[fe]=Se}}function Iw(A){var O=A._state,R=A._deps.indexedDB;if(O.isBeingOpened||A.idbdb)return O.dbReadyPromise.then(function(){return O.dbOpenError?pn(O.dbOpenError):A});O.isBeingOpened=!0,O.dbOpenError=null,O.openComplete=!1;var N=O.openCanceller,H=Math.round(10*A.verno),Z=!1;function ee(){if(O.openCanceller!==N)throw new se.DatabaseClosed("db.open() was cancelled")}function re(){return new nt(function(ge,ye){if(ee(),!R)throw new se.MissingAPI;var pe=A.name,me=O.autoSchema||!H?R.open(pe):R.open(pe,H);if(!me)throw new se.MissingAPI;me.onerror=Da(ye),me.onblocked=lt(A._fireOnBlocked),me.onupgradeneeded=lt(function(Ae){var Te;he=me.transaction,O.autoSchema&&!A._options.allowEmptyDB?(me.onerror=Gs,he.abort(),me.result.close(),(Te=R.deleteDatabase(pe)).onsuccess=Te.onerror=lt(function(){ye(new se.NoSuchDatabase("Database ".concat(pe," doesnt exist")))})):(he.onerror=Da(ye),Te=Ae.oldVersion>Math.pow(2,62)?0:Ae.oldVersion,ce=Te<1,A.idbdb=me.result,Z&&Hd(A,he),gu(A,Te/10,he,ye))},ye),me.onsuccess=lt(function(){he=null;var Ae,Te,Ce,Ne,Ke,ot,st=A.idbdb=me.result,Xe=T(st.objectStoreNames);if(0<Xe.length)try{var pt=st.transaction((Ke=Xe).length===1?Ke[0]:Ke,"readonly");if(O.autoSchema)ot=st,Ne=pt,(Ce=A).verno=ot.version/10,Ne=Ce._dbSchema=rc(0,ot,Ne),Ce._storeNames=T(ot.objectStoreNames,0),Ud(Ce,[Ce._allTables],o(Ne),Ne);else if(Gd(A,A._dbSchema,pt),Te=pt,((Te=Vd(rc(0,(Ae=A).idbdb,Te),Ae._dbSchema)).add.length||Te.change.some(function(dt){return dt.add.length||dt.change.length}))&&!Z)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),st.close(),H=st.version+1,Z=!0,ge(re());ts(A,pt)}catch{}Us.push(A),st.onversionchange=lt(function(dt){O.vcFired=!0,A.on("versionchange").fire(dt)}),st.onclose=lt(function(){A.close({disableAutoOpen:!1})}),ce&&(Xe=A._deps,Ke=pe,Yd(ot=Xe.indexedDB)||Ke===lu||ip(ot,Xe.IDBKeyRange).put({name:Ke}).catch(de)),ge()},ye)}).catch(function(ge){switch(ge?.name){case"UnknownError":if(0<O.PR1398_maxLoop)return O.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),re();break;case"VersionError":if(0<H)return H=0,re()}return nt.reject(ge)})}var fe,Se=O.dbReadyResolve,he=null,ce=!1;return nt.race([N,(typeof navigator>"u"?nt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ge){function ye(){return indexedDB.databases().finally(ge)}fe=setInterval(ye,100),ye()}).finally(function(){return clearInterval(fe)}):Promise.resolve()).then(re)]).then(function(){return ee(),O.onReadyBeingFired=[],nt.resolve(ap(function(){return A.on.ready.fire(A.vip)})).then(function ge(){var ye;if(0<O.onReadyBeingFired.length)return ye=O.onReadyBeingFired.reduce(Je,de),O.onReadyBeingFired=[],nt.resolve(ap(function(){return ye(A.vip)})).then(ge)})}).finally(function(){O.openCanceller===N&&(O.onReadyBeingFired=null,O.isBeingOpened=!1)}).catch(function(ge){O.dbOpenError=ge;try{he&&he.abort()}catch{}return N===O.openCanceller&&A._close(),pn(ge)}).finally(function(){O.openComplete=!0,Se()}).then(function(){var ge;return ce&&(ge={},A.tables.forEach(function(ye){ye.schema.indexes.forEach(function(pe){pe.name&&(ge["idb://".concat(A.name,"/").concat(ye.name,"/").concat(pe.name)]=new ai(-1/0,[[[]]]))}),ge["idb://".concat(A.name,"/").concat(ye.name,"/")]=ge["idb://".concat(A.name,"/").concat(ye.name,"/:dels")]=new ai(-1/0,[[[]]])}),ii(Jl).fire(ge),dp(ge,!0)),A})}function yu(A){function O(Z){return A.next(Z)}var R=H(O),N=H(function(Z){return A.throw(Z)});function H(Z){return function(re){var re=Z(re),fe=re.value;return re.done?fe:fe&&typeof fe.then=="function"?fe.then(R,N):s(fe)?Promise.all(fe).then(R,N):R(fe)}}return H(O)()}function ns(A,O,R){for(var N=s(A)?A.slice():[A],H=0;H<R;++H)N.push(O);return N}var zw={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(A){return r(r({},A),{table:function(N){var R=A.table(N),N=R.schema,H={},Z=[];function ee(ge,ye,pe){var Ce=Or(ge),me=H[Ce]=H[Ce]||[],Ae=ge==null?0:typeof ge=="string"?1:ge.length,Te=0<ye,Ce=r(r({},pe),{name:Te?"".concat(Ce,"(virtual-from:").concat(pe.name,")"):pe.name,lowLevelIndex:pe,isVirtual:Te,keyTail:ye,keyLength:Ae,extractKey:nc(ge),unique:!Te&&pe.unique});return me.push(Ce),Ce.isPrimaryKey||Z.push(Ce),1<Ae&&ee(Ae===2?ge[0]:ge.slice(0,Ae-1),ye+1,pe),me.sort(function(Ne,Ke){return Ne.keyTail-Ke.keyTail}),Ce}var re=ee(N.primaryKey.keyPath,0,N.primaryKey);H[":id"]=[re];for(var fe=0,Se=N.indexes;fe<Se.length;fe++){var he=Se[fe];ee(he.keyPath,0,he)}function ce(ge){var ye,pe=ge.query.index;return pe.isVirtual?r(r({},ge),{query:{index:pe.lowLevelIndex,range:(ye=ge.query.range,pe=pe.keyTail,{type:ye.type===1?2:ye.type,lower:ns(ye.lower,ye.lowerOpen?A.MAX_KEY:A.MIN_KEY,pe),lowerOpen:!0,upper:ns(ye.upper,ye.upperOpen?A.MIN_KEY:A.MAX_KEY,pe),upperOpen:!0})}}):ge}return r(r({},R),{schema:r(r({},N),{primaryKey:re,indexes:Z,getIndexByKeyPath:function(ge){return(ge=H[Or(ge)])&&ge[0]}}),count:function(ge){return R.count(ce(ge))},query:function(ge){return R.query(ce(ge))},openCursor:function(ge){var ye=ge.query.index,pe=ye.keyTail,me=ye.keyLength;return ye.isVirtual?R.openCursor(ce(ge)).then(function(Te){return Te&&Ae(Te)}):R.openCursor(ge);function Ae(Te){return Object.create(Te,{continue:{value:function(Ce){Ce!=null?Te.continue(ns(Ce,ge.reverse?A.MAX_KEY:A.MIN_KEY,pe)):ge.unique?Te.continue(Te.key.slice(0,me).concat(ge.reverse?A.MIN_KEY:A.MAX_KEY,pe)):Te.continue()}},continuePrimaryKey:{value:function(Ce,Ne){Te.continuePrimaryKey(ns(Ce,A.MAX_KEY,pe),Ne)}},primaryKey:{get:function(){return Te.primaryKey}},key:{get:function(){var Ce=Te.key;return me===1?Ce[0]:Ce.slice(0,me)}},value:{get:function(){return Te.value}}})}}})}})}};function Zd(A,O,R,N){return R=R||{},N=N||"",o(A).forEach(function(H){var Z,ee,re;h(O,H)?(Z=A[H],ee=O[H],typeof Z=="object"&&typeof ee=="object"&&Z&&ee?(re=J(Z))!==J(ee)?R[N+H]=O[H]:re==="Object"?Zd(Z,ee,R,N+H+"."):Z!==ee&&(R[N+H]=O[H]):Z!==ee&&(R[N+H]=O[H])):R[N+H]=void 0}),o(O).forEach(function(H){h(A,H)||(R[N+H]=O[H])}),R}function Qd(A,O){return O.type==="delete"?O.keys:O.keys||O.values.map(A.extractKey)}var Qg={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(A){return r(r({},A),{table:function(O){var R=A.table(O),N=R.schema.primaryKey;return r(r({},R),{mutate:function(H){var Z=et.trans,ee=Z.table(O).hook,re=ee.deleting,fe=ee.creating,Se=ee.updating;switch(H.type){case"add":if(fe.fire===de)break;return Z._promise("readwrite",function(){return he(H)},!0);case"put":if(fe.fire===de&&Se.fire===de)break;return Z._promise("readwrite",function(){return he(H)},!0);case"delete":if(re.fire===de)break;return Z._promise("readwrite",function(){return he(H)},!0);case"deleteRange":if(re.fire===de)break;return Z._promise("readwrite",function(){return(function ce(ge,ye,pe){return R.query({trans:ge,values:!1,query:{index:N,range:ye},limit:pe}).then(function(me){var Ae=me.result;return he({type:"delete",keys:Ae,trans:ge}).then(function(Te){return 0<Te.numFailures?Promise.reject(Te.failures[0]):Ae.length<pe?{failures:[],numFailures:0,lastResult:void 0}:ce(ge,r(r({},ye),{lower:Ae[Ae.length-1],lowerOpen:!0}),pe)})})})(H.trans,H.range,1e4)},!0)}return R.mutate(H);function he(ce){var ge,ye,pe,me=et.trans,Ae=ce.keys||Qd(N,ce);if(Ae)return(ce=ce.type==="add"||ce.type==="put"?r(r({},ce),{keys:Ae}):r({},ce)).type!=="delete"&&(ce.values=i([],ce.values)),ce.keys&&(ce.keys=i([],ce.keys)),ge=R,pe=Ae,((ye=ce).type==="add"?Promise.resolve([]):ge.getMany({trans:ye.trans,keys:pe,cache:"immutable"})).then(function(Te){var Ce=Ae.map(function(Ne,Ke){var ot,st,Xe,pt=Te[Ke],dt={onerror:null,onsuccess:null};return ce.type==="delete"?re.fire.call(dt,Ne,pt,me):ce.type==="add"||pt===void 0?(ot=fe.fire.call(dt,Ne,ce.values[Ke],me),Ne==null&&ot!=null&&(ce.keys[Ke]=Ne=ot,N.outbound||j(ce.values[Ke],N.keyPath,Ne))):(ot=Zd(pt,ce.values[Ke]),(st=Se.fire.call(dt,ot,Ne,pt,me))&&(Xe=ce.values[Ke],Object.keys(st).forEach(function(Ze){h(Xe,Ze)?Xe[Ze]=st[Ze]:j(Xe,Ze,st[Ze])}))),dt});return R.mutate(ce).then(function(Ne){for(var Ke=Ne.failures,ot=Ne.results,st=Ne.numFailures,Ne=Ne.lastResult,Xe=0;Xe<Ae.length;++Xe){var pt=(ot||Ae)[Xe],dt=Ce[Xe];pt==null?dt.onerror&&dt.onerror(Ke[Xe]):dt.onsuccess&&dt.onsuccess(ce.type==="put"&&Te[Xe]?ce.values[Xe]:pt)}return{failures:Ke,results:ot,numFailures:st,lastResult:Ne}}).catch(function(Ne){return Ce.forEach(function(Ke){return Ke.onerror&&Ke.onerror(Ne)}),Promise.reject(Ne)})});throw new Error("Keys missing")}}})}})}};function fp(A,O,R){try{if(!O||O.keys.length<A.length)return null;for(var N=[],H=0,Z=0;H<O.keys.length&&Z<A.length;++H)Xt(O.keys[H],A[Z])===0&&(N.push(R?te(O.values[H]):O.values[H]),++Z);return N.length===A.length?N:null}catch{return null}}var Jg={stack:"dbcore",level:-1,create:function(A){return{table:function(O){var R=A.table(O);return r(r({},R),{getMany:function(N){var H;return N.cache?(H=fp(N.keys,N.trans._cache,N.cache==="clone"))?nt.resolve(H):R.getMany(N).then(function(Z){return N.trans._cache={keys:N.keys,values:N.cache==="clone"?te(Z):Z},Z}):R.getMany(N)},mutate:function(N){return N.type!=="add"&&(N.trans._cache=null),R.mutate(N)}})}}}};function Zs(A,O){return A.trans.mode==="readonly"&&!!A.subscr&&!A.trans.explicit&&A.trans.db._options.cache!=="disabled"&&!O.schema.primaryKey.outbound}function ev(A,O){switch(A){case"query":return O.values&&!O.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Bw={stack:"dbcore",level:0,name:"Observability",create:function(A){var O=A.schema.name,R=new ai(A.MIN_KEY,A.MAX_KEY);return r(r({},A),{transaction:function(N,H,Z){if(et.subscr&&H!=="readonly")throw new se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(et.querier));return A.transaction(N,H,Z)},table:function(N){function H(Ae){var me,Ae=Ae.query;return[me=Ae.index,new ai((me=(Ae=Ae.range).lower)!=null?me:A.MIN_KEY,(me=Ae.upper)!=null?me:A.MAX_KEY)]}var Z=A.table(N),ee=Z.schema,re=ee.primaryKey,fe=ee.indexes,Se=re.extractKey,he=re.outbound,ce=re.autoIncrement&&fe.filter(function(pe){return pe.compound&&pe.keyPath.includes(re.keyPath)}),ge=r(r({},Z),{mutate:function(pe){function me(mt){return mt="idb://".concat(O,"/").concat(N,"/").concat(mt),Ke[mt]||(Ke[mt]=new ai)}var Ae,Te,Ce,Ne=pe.trans,Ke=pe.mutatedParts||(pe.mutatedParts={}),ot=me(""),st=me(":dels"),Xe=pe.type,dt=pe.type==="deleteRange"?[pe.range]:pe.type==="delete"?[pe.keys]:pe.values.length<50?[Qd(re,pe).filter(function(mt){return mt}),pe.values]:[],pt=dt[0],dt=dt[1],Ze=pe.trans._cache;return s(pt)?(ot.addKeys(pt),(Xe=Xe==="delete"||pt.length===dt.length?fp(pt,Ze):null)||st.addKeys(pt),(Xe||dt)&&(Ae=me,Te=Xe,Ce=dt,ee.indexes.forEach(function(mt){var Lt=Ae(mt.name||"");function Zt(Bt){return Bt!=null?mt.extractKey(Bt):null}function Tt(Bt){mt.multiEntry&&s(Bt)?Bt.forEach(function(In){return Lt.addKey(In)}):Lt.addKey(Bt)}(Te||Ce).forEach(function(Bt,Pn){var Bi=Te&&Zt(Te[Pn]),Pn=Ce&&Zt(Ce[Pn]);Xt(Bi,Pn)!==0&&(Bi!=null&&Tt(Bi),Pn!=null)&&Tt(Pn)})}))):pt?(dt={from:(Ze=pt.lower)!=null?Ze:A.MIN_KEY,to:(Xe=pt.upper)!=null?Xe:A.MAX_KEY},st.add(dt),ot.add(dt)):(ot.add(R),st.add(R),ee.indexes.forEach(function(mt){return me(mt.name).add(R)})),Z.mutate(pe).then(function(mt){return!pt||pe.type!=="add"&&pe.type!=="put"||(ot.addKeys(mt.results),ce&&ce.forEach(function(Lt){for(var Zt=pe.values.map(function(Bi){return Lt.extractKey(Bi)}),Tt=Lt.keyPath.findIndex(function(Bi){return Bi===re.keyPath}),Bt=0,In=mt.results.length;Bt<In;++Bt)Zt[Bt][Tt]=mt.results[Bt];me(Lt.name).addKeys(Zt)})),Ne.mutatedParts=Wd(Ne.mutatedParts||{},Ke),mt})}}),ye={get:function(pe){return[re,new ai(pe.key)]},getMany:function(pe){return[re,new ai().addKeys(pe.keys)]},count:H,query:H,openCursor:H};return o(ye).forEach(function(pe){ge[pe]=function(me){var Ae=et.subscr,Te=!!Ae,Ce=Zs(et,Z)&&ev(pe,me)?me.obsSet={}:Ae;if(Te){var Ne,Ae=function(dt){return dt="idb://".concat(O,"/").concat(N,"/").concat(dt),Ce[dt]||(Ce[dt]=new ai)},Ke=Ae(""),ot=Ae(":dels"),Te=ye[pe](me),st=Te[0],Te=Te[1];if((pe==="query"&&st.isPrimaryKey&&!me.values?ot:Ae(st.name||"")).add(Te),!st.isPrimaryKey){if(pe!=="count")return Ne=pe==="query"&&he&&me.values&&Z.query(r(r({},me),{values:!1})),Z[pe].apply(this,arguments).then(function(dt){if(pe==="query"){if(he&&me.values)return Ne.then(function(Zt){return Zt=Zt.result,Ke.addKeys(Zt),dt});var Ze=me.values?dt.result.map(Se):dt.result;(me.values?Ke:ot).addKeys(Ze)}else{var mt,Lt;if(pe==="openCursor")return Lt=me.values,(mt=dt)&&Object.create(mt,{key:{get:function(){return ot.addKey(mt.primaryKey),mt.key}},primaryKey:{get:function(){var Zt=mt.primaryKey;return ot.addKey(Zt),Zt}},value:{get:function(){return Lt&&Ke.addKey(mt.primaryKey),mt.value}}})}return dt});ot.add(R)}}return Z[pe].apply(this,arguments)}}),ge}})}};function tv(A,O,R){var N;return R.numFailures===0?O:O.type==="deleteRange"||(N=O.keys?O.keys.length:"values"in O&&O.values?O.values.length:1,R.numFailures===N)?null:(N=r({},O),s(N.keys)&&(N.keys=N.keys.filter(function(H,Z){return!(Z in R.failures)})),"values"in N&&s(N.values)&&(N.values=N.values.filter(function(H,Z){return!(Z in R.failures)})),N)}function Jd(A,O){return R=A,((N=O).lower===void 0||(N.lowerOpen?0<Xt(R,N.lower):0<=Xt(R,N.lower)))&&(R=A,(N=O).upper===void 0||(N.upperOpen?Xt(R,N.upper)<0:Xt(R,N.upper)<=0));var R,N}function hp(A,O,R,N,H,Z){var ee,re,fe,Se,he,ce;return!R||R.length===0||(ee=O.query.index,re=ee.multiEntry,fe=O.query.range,Se=N.schema.primaryKey.extractKey,he=ee.extractKey,ce=(ee.lowLevelIndex||ee).extractKey,(N=R.reduce(function(ge,ye){var pe=ge,me=[];if(ye.type==="add"||ye.type==="put")for(var Ae=new ai,Te=ye.values.length-1;0<=Te;--Te){var Ce,Ne=ye.values[Te],Ke=Se(Ne);!Ae.hasKey(Ke)&&(Ce=he(Ne),re&&s(Ce)?Ce.some(function(dt){return Jd(dt,fe)}):Jd(Ce,fe))&&(Ae.addKey(Ke),me.push(Ne))}switch(ye.type){case"add":var ot=new ai().addKeys(O.values?ge.map(function(Ze){return Se(Ze)}):ge),pe=ge.concat(O.values?me.filter(function(Ze){return Ze=Se(Ze),!ot.hasKey(Ze)&&(ot.addKey(Ze),!0)}):me.map(function(Ze){return Se(Ze)}).filter(function(Ze){return!ot.hasKey(Ze)&&(ot.addKey(Ze),!0)}));break;case"put":var st=new ai().addKeys(ye.values.map(function(Ze){return Se(Ze)}));pe=ge.filter(function(Ze){return!st.hasKey(O.values?Se(Ze):Ze)}).concat(O.values?me:me.map(function(Ze){return Se(Ze)}));break;case"delete":var Xe=new ai().addKeys(ye.keys);pe=ge.filter(function(Ze){return!Xe.hasKey(O.values?Se(Ze):Ze)});break;case"deleteRange":var pt=ye.range;pe=ge.filter(function(Ze){return!Jd(Se(Ze),pt)})}return pe},A))===A)?A:(N.sort(function(ge,ye){return Xt(ce(ge),ce(ye))||Xt(Se(ge),Se(ye))}),O.limit&&O.limit<1/0&&(N.length>O.limit?N.length=O.limit:A.length===O.limit&&N.length<O.limit&&(H.dirty=!0)),Z?Object.freeze(N):N)}function ac(A,O){return Xt(A.lower,O.lower)===0&&Xt(A.upper,O.upper)===0&&!!A.lowerOpen==!!O.lowerOpen&&!!A.upperOpen==!!O.upperOpen}function bu(A,O){return((R,N,H,Z)=>{if(R===void 0)return N!==void 0?-1:0;if(N===void 0)return 1;if((R=Xt(R,N))===0){if(H&&Z)return 0;if(H)return 1;if(Z)return-1}return R})(A.lower,O.lower,A.lowerOpen,O.lowerOpen)<=0&&0<=((R,N,H,Z)=>{if(R===void 0)return N!==void 0?1:0;if(N===void 0)return-1;if((R=Xt(R,N))===0){if(H&&Z)return 0;if(H)return-1;if(Z)return 1}return R})(A.upper,O.upper,A.upperOpen,O.upperOpen)}function $w(A,O,R,N){A.subscribers.add(R),N.addEventListener("abort",function(){var H,Z;A.subscribers.delete(R),A.subscribers.size===0&&(H=A,Z=O,setTimeout(function(){H.subscribers.size===0&&F(Z,H)},3e3))})}var ef={stack:"dbcore",level:0,name:"Cache",create:function(A){var O=A.schema.name;return r(r({},A),{transaction:function(R,N,H){var Z,ee,re=A.transaction(R,N,H);return N==="readwrite"&&(H=(Z=new AbortController).signal,re.addEventListener("abort",(ee=function(fe){return function(){if(Z.abort(),N==="readwrite"){for(var Se=new Set,he=0,ce=R;he<ce.length;he++){var ge=ce[he],ye=Xs["idb://".concat(O,"/").concat(ge)];if(ye){var pe=A.table(ge),me=ye.optimisticOps.filter(function(mt){return mt.trans===re});if(re._explicit&&fe&&re.mutatedParts)for(var Ae=0,Te=Object.values(ye.queries.query);Ae<Te.length;Ae++)for(var Ce=0,Ne=(st=Te[Ae]).slice();Ce<Ne.length;Ce++)lp((Xe=Ne[Ce]).obsSet,re.mutatedParts)&&(F(st,Xe),Xe.subscribers.forEach(function(mt){return Se.add(mt)}));else if(0<me.length){ye.optimisticOps=ye.optimisticOps.filter(function(mt){return mt.trans!==re});for(var Ke=0,ot=Object.values(ye.queries.query);Ke<ot.length;Ke++)for(var st,Xe,pt,dt=0,Ze=(st=ot[Ke]).slice();dt<Ze.length;dt++)(Xe=Ze[dt]).res!=null&&re.mutatedParts&&(fe&&!Xe.dirty?(pt=Object.isFrozen(Xe.res),pt=hp(Xe.res,Xe.req,me,pe,Xe,pt),Xe.dirty?(F(st,Xe),Xe.subscribers.forEach(function(mt){return Se.add(mt)})):pt!==Xe.res&&(Xe.res=pt,Xe.promise=nt.resolve({result:pt}))):(Xe.dirty&&F(st,Xe),Xe.subscribers.forEach(function(mt){return Se.add(mt)})))}}}Se.forEach(function(mt){return mt()})}}})(!1),{signal:H}),re.addEventListener("error",ee(!1),{signal:H}),re.addEventListener("complete",ee(!0),{signal:H})),re},table:function(R){var N=A.table(R),H=N.schema.primaryKey;return r(r({},N),{mutate:function(Z){var ee,re=et.trans;return!H.outbound&&re.db._options.cache!=="disabled"&&!re.explicit&&re.idbtrans.mode==="readwrite"&&(ee=Xs["idb://".concat(O,"/").concat(R)])?(re=N.mutate(Z),Z.type!=="add"&&Z.type!=="put"||!(50<=Z.values.length||Qd(H,Z).some(function(fe){return fe==null}))?(ee.optimisticOps.push(Z),Z.mutatedParts&&Xd(Z.mutatedParts),re.then(function(fe){0<fe.numFailures&&(F(ee.optimisticOps,Z),(fe=tv(0,Z,fe))&&ee.optimisticOps.push(fe),Z.mutatedParts)&&Xd(Z.mutatedParts)}),re.catch(function(){F(ee.optimisticOps,Z),Z.mutatedParts&&Xd(Z.mutatedParts)})):re.then(function(fe){var Se=tv(0,r(r({},Z),{values:Z.values.map(function(he,ce){var ge;return fe.failures[ce]?he:(j(ge=(ge=H.keyPath)!=null&&ge.includes(".")?te(he):r({},he),H.keyPath,fe.results[ce]),ge)})}),fe);ee.optimisticOps.push(Se),queueMicrotask(function(){return Z.mutatedParts&&Xd(Z.mutatedParts)})}),re):N.mutate(Z)},query:function(Z){var ee,re,fe,Se,he,ce,ge;return Zs(et,N)&&ev("query",Z)?(ee=((fe=et.trans)==null?void 0:fe.db._options.cache)==="immutable",re=(fe=et).requery,fe=fe.signal,ce=((ye,pe,me,Ae)=>{var Te=Xs["idb://".concat(ye,"/").concat(pe)];if(!Te)return[];if(!(ye=Te.queries[me]))return[null,!1,Te,null];var Ce=ye[(Ae.query?Ae.query.index.name:null)||""];if(!Ce)return[null,!1,Te,null];switch(me){case"query":var Ne=Ce.find(function(Ke){return Ke.req.limit===Ae.limit&&Ke.req.values===Ae.values&&ac(Ke.req.query.range,Ae.query.range)});return Ne?[Ne,!0,Te,Ce]:[Ce.find(function(Ke){return("limit"in Ke.req?Ke.req.limit:1/0)>=Ae.limit&&(!Ae.values||Ke.req.values)&&bu(Ke.req.query.range,Ae.query.range)}),!1,Te,Ce];case"count":return Ne=Ce.find(function(Ke){return ac(Ke.req.query.range,Ae.query.range)}),[Ne,!!Ne,Te,Ce]}})(O,R,"query",Z),ge=ce[0],Se=ce[2],he=ce[3],ge&&ce[1]?ge.obsSet=Z.obsSet:(ce=N.query(Z).then(function(ye){var pe=ye.result;if(ge&&(ge.res=pe),ee){for(var me=0,Ae=pe.length;me<Ae;++me)Object.freeze(pe[me]);Object.freeze(pe)}else ye.result=te(pe);return ye}).catch(function(ye){return he&&ge&&F(he,ge),Promise.reject(ye)}),ge={obsSet:Z.obsSet,promise:ce,subscribers:new Set,type:"query",req:Z,dirty:!1},he?he.push(ge):(he=[ge],(Se=Se||(Xs["idb://".concat(O,"/").concat(R)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[Z.query.index.name||""]=he)),$w(ge,he,re,fe),ge.promise.then(function(ye){return{result:hp(ye.result,Z,Se?.optimisticOps,N,ge,ee)}})):N.query(Z)}})}})}};function xu(A,O){return new Proxy(A,{get:function(R,N,H){return N==="db"?O:Reflect.get(R,N,H)}})}Qn.prototype.version=function(A){if(isNaN(A)||A<.1)throw new se.Type("Given version is not a positive number");if(A=Math.round(10*A)/10,this.idbdb||this._state.isBeingOpened)throw new se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,A);var O=this._versions,R=O.filter(function(N){return N._cfg.version===A})[0];return R||(R=new this.Version(A),O.push(R),O.sort(np),R.stores({}),this._state.autoSchema=!1),R},Qn.prototype._whenReady=function(A){var O=this;return this.idbdb&&(this._state.openComplete||et.letThrough||this._vip)?A():new nt(function(R,N){if(O._state.openComplete)return N(new se.DatabaseClosed(O._state.dbOpenError));if(!O._state.isBeingOpened){if(!O._state.autoOpen)return void N(new se.DatabaseClosed);O.open().catch(de)}O._state.dbReadyPromise.then(R,N)}).then(A)},Qn.prototype.use=function(H){var O=H.stack,R=H.create,N=H.level,H=H.name,Z=(H&&this.unuse({stack:O,name:H}),this._middlewares[O]||(this._middlewares[O]=[]));return Z.push({stack:O,create:R,level:N??10,name:H}),Z.sort(function(ee,re){return ee.level-re.level}),this},Qn.prototype.unuse=function(A){var O=A.stack,R=A.name,N=A.create;return O&&this._middlewares[O]&&(this._middlewares[O]=this._middlewares[O].filter(function(H){return N?H.create!==N:!!R&&H.name!==R})),this},Qn.prototype.open=function(){var A=this;return Nn(Nt,function(){return Iw(A)})},Qn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var A=this._state,O=Us.indexOf(this);if(0<=O&&Us.splice(O,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}A.isBeingOpened||(A.dbReadyPromise=new nt(function(R){A.dbReadyResolve=R}),A.openCanceller=new nt(function(R,N){A.cancelOpen=N}))},Qn.prototype.close=function(O){var O=(O===void 0?{disableAutoOpen:!0}:O).disableAutoOpen,R=this._state;O?(R.isBeingOpened&&R.cancelOpen(new se.DatabaseClosed),this._close(),R.autoOpen=!1,R.dbOpenError=new se.DatabaseClosed):(this._close(),R.autoOpen=this._options.autoOpen||R.isBeingOpened,R.openComplete=!1,R.dbOpenError=null)},Qn.prototype.delete=function(A){var O=this,R=(A===void 0&&(A={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),N=this._state;return new nt(function(H,Z){function ee(){O.close(A);var re=O._deps.indexedDB.deleteDatabase(O.name);re.onsuccess=lt(function(){var fe,Se,he;fe=O._deps,Se=O.name,Yd(he=fe.indexedDB)||Se===lu||ip(he,fe.IDBKeyRange).delete(Se).catch(de),H()}),re.onerror=Da(Z),re.onblocked=O._fireOnBlocked}if(R)throw new se.InvalidArgument("Invalid closeOptions argument to db.delete()");N.isBeingOpened?N.dbReadyPromise.then(ee):ee()})},Qn.prototype.backendDB=function(){return this.idbdb},Qn.prototype.isOpen=function(){return this.idbdb!==null},Qn.prototype.hasBeenClosed=function(){var A=this._state.dbOpenError;return A&&A.name==="DatabaseClosed"},Qn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Qn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Qn.prototype,"tables",{get:function(){var A=this;return o(this._allTables).map(function(O){return A._allTables[O]})},enumerable:!1,configurable:!0}),Qn.prototype.transaction=function(){var A=(function(O,R,N){var H=arguments.length;if(H<2)throw new se.InvalidArgument("Too few arguments");for(var Z=new Array(H-1);--H;)Z[H-1]=arguments[H];return N=Z.pop(),[O,G(Z),N]}).apply(this,arguments);return this._transaction.apply(this,A)},Qn.prototype._transaction=function(A,O,R){var N,H,Z=this,ee=et.trans,re=(ee&&ee.db===this&&A.indexOf("!")===-1||(ee=null),A.indexOf("?")!==-1);A=A.replace("!","").replace("?","");try{if(H=O.map(function(Se){if(Se=Se instanceof Z.Table?Se.name:Se,typeof Se!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Se}),A=="r"||A===Mo)N=Mo;else{if(A!="rw"&&A!=Jo)throw new se.InvalidArgument("Invalid transaction mode: "+A);N=Jo}if(ee){if(ee.mode===Mo&&N===Jo){if(!re)throw new se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");ee=null}ee&&H.forEach(function(Se){if(ee&&ee.storeNames.indexOf(Se)===-1){if(!re)throw new se.SubTransaction("Table "+Se+" not included in parent transaction.");ee=null}}),re&&ee&&!ee.active&&(ee=null)}}catch(Se){return ee?ee._promise(null,function(he,ce){ce(Se)}):pn(Se)}var fe=(function Se(he,ce,ge,ye,pe){return nt.resolve().then(function(){var Ce=et.transless||et,me=he._createTransaction(ce,ge,he._dbSchema,ye),Ce=(me.explicit=!0,{trans:me,transless:Ce});if(ye)me.idbtrans=ye.idbtrans;else try{me.create(),me.idbtrans._explicit=!0,he._state.PR1398_maxLoop=3}catch(Ne){return Ne.name===qe.InvalidState&&he.isOpen()&&0<--he._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),he.close({disableAutoOpen:!1}),he.open().then(function(){return Se(he,ce,ge,null,pe)})):pn(Ne)}var Ae,Te=z(pe),Ce=(Te&&Un(),nt.follow(function(){var Ne;(Ae=pe.call(me,me))&&(Te?(Ne=Pr.bind(null,null),Ae.then(Ne,Ne)):typeof Ae.next=="function"&&typeof Ae.throw=="function"&&(Ae=yu(Ae)))},Ce));return(Ae&&typeof Ae.then=="function"?nt.resolve(Ae).then(function(Ne){return me.active?Ne:pn(new se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ce.then(function(){return Ae})).then(function(Ne){return ye&&me._resolve(),me._completion.then(function(){return Ne})}).catch(function(Ne){return me._reject(Ne),pn(Ne)})})}).bind(null,this,N,H,ee,R);return ee?ee._promise(N,fe,"lock"):et.trans?Nn(et.transless,function(){return Z._whenReady(fe)}):this._whenReady(fe)},Qn.prototype.table=function(A){if(h(this._allTables,A))return this._allTables[A];throw new se.InvalidTable("Table ".concat(A," does not exist"))};var no=Qn;function Qn(A,O){var R,N,H,Z,ee,re=this,fe=(this._middlewares={},this.verno=0,Qn.dependencies),fe=(this._options=O=r({addons:Qn.addons,autoOpen:!0,indexedDB:fe.indexedDB,IDBKeyRange:fe.IDBKeyRange,cache:"cloned"},O),this._deps={indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange},O.addons),Se=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:de,dbReadyPromise:null,cancelOpen:de,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:O.autoOpen}),he=(Se.dbReadyPromise=new nt(function(ce){Se.dbReadyResolve=ce}),Se.openCanceller=new nt(function(ce,ge){Se.cancelOpen=ge}),this._state=Se,this.name=A,this.on=du(this,"populate","blocked","versionchange","close",{ready:[Je,de]}),this.once=function(ce,ge){var ye=function(){for(var pe=[],me=0;me<arguments.length;me++)pe[me]=arguments[me];re.on(ce).unsubscribe(ye),ge.apply(re,pe)};return re.on(ce,ye)},this.on.ready.subscribe=E(this.on.ready.subscribe,function(ce){return function(ge,ye){Qn.vip(function(){var pe,me=re._state;me.openComplete?(me.dbOpenError||nt.resolve().then(ge),ye&&ce(ge)):me.onReadyBeingFired?(me.onReadyBeingFired.push(ge),ye&&ce(ge)):(ce(ge),pe=re,ye||ce(function Ae(){pe.on.ready.unsubscribe(ge),pe.on.ready.unsubscribe(Ae)}))})}}),this.Collection=(R=this,ri(Rw.prototype,function(Ae,me){this.db=R;var ye=Xh,pe=null;if(me)try{ye=me()}catch(Ce){pe=Ce}var me=Ae._ctx,Ae=me.table,Te=Ae.hook.reading.fire;this._ctx={table:Ae,index:me.index,isPrimKey:!me.index||Ae.schema.primKey.keyPath&&me.index===Ae.schema.primKey.name,range:ye,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:pe,or:me.or,valueMapper:Te!==He?Te:null}})),this.Table=(N=this,ri(Zh.prototype,function(ce,ge,ye){this.db=N,this._tx=ye,this.name=ce,this.schema=ge,this.hook=N._allTables[ce]?N._allTables[ce].hook:du(null,{creating:[Qe,de],reading:[Re,He],updating:[We,de],deleting:[Ue,de]})})),this.Transaction=(H=this,ri(tp.prototype,function(ce,ge,ye,pe,me){var Ae=this;ce!=="readonly"&&ge.forEach(function(Te){Te=(Te=ye[Te])==null?void 0:Te.yProps,Te&&(ge=ge.concat(Te.map(function(Ce){return Ce.updatesTable})))}),this.db=H,this.mode=ce,this.storeNames=ge,this.schema=ye,this.chromeTransactionDurability=pe,this.idbtrans=null,this.on=du(this,"complete","error","abort"),this.parent=me||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new nt(function(Te,Ce){Ae._resolve=Te,Ae._reject=Ce}),this._completion.then(function(){Ae.active=!1,Ae.on.complete.fire()},function(Te){var Ce=Ae.active;return Ae.active=!1,Ae.on.error.fire(Te),Ae.parent?Ae.parent._reject(Te):Ce&&Ae.idbtrans&&Ae.idbtrans.abort(),pn(Te)})})),this.Version=(Z=this,ri(Nw.prototype,function(ce){this.db=Z,this._cfg={version:ce,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(ee=this,ri(qs.prototype,function(ce,ge,ye){if(this.db=ee,this._ctx={table:ce,index:ge===":id"?null:ge,or:ye},this._cmp=this._ascending=Xt,this._descending=function(pe,me){return Xt(me,pe)},this._max=function(pe,me){return 0<Xt(pe,me)?pe:me},this._min=function(pe,me){return Xt(pe,me)<0?pe:me},this._IDBKeyRange=ee._deps.IDBKeyRange,!this._IDBKeyRange)throw new se.MissingAPI})),this.on("versionchange",function(ce){0<ce.newVersion?console.warn("Another connection wants to upgrade database '".concat(re.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(re.name,"'. Closing db now to resume the delete request.")),re.close({disableAutoOpen:!1})}),this.on("blocked",function(ce){!ce.newVersion||ce.newVersion<ce.oldVersion?console.warn("Dexie.delete('".concat(re.name,"') was blocked")):console.warn("Upgrade '".concat(re.name,"' blocked by other connection holding version ").concat(ce.oldVersion/10))}),this._maxKey=tc(O.IDBKeyRange),this._createTransaction=function(ce,ge,ye,pe){return new re.Transaction(ce,ge,ye,re._options.chromeTransactionDurability,pe)},this._fireOnBlocked=function(ce){re.on("blocked").fire(ce),Us.filter(function(ge){return ge.name===re.name&&ge!==re&&!ge._state.vcFired}).map(function(ge){return ge.on("versionchange").fire(ce)})},this.use(Jg),this.use(ef),this.use(Bw),this.use(zw),this.use(Qg),new Proxy(this,{get:function(ce,ge,ye){var pe;return ge==="_vip"||(ge==="table"?function(me){return xu(re.table(me),he)}:(pe=Reflect.get(ce,ge,ye))instanceof Zh?xu(pe,he):ge==="tables"?pe.map(function(me){return xu(me,he)}):ge==="_createTransaction"?function(){return xu(pe.apply(this,arguments),he)}:pe)}}));this.vip=he,fe.forEach(function(ce){return ce(re)})}var oc,Qs=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",nv=(tf.prototype.subscribe=function(A,O,R){return this._subscribe(A&&typeof A!="function"?A:{next:A,error:O,complete:R})},tf.prototype[Qs]=function(){return this},tf);function tf(A){this._subscribe=A}try{oc={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{oc={indexedDB:null,IDBKeyRange:null}}function rv(A){var O,R=!1,N=new nv(function(H){var Z=z(A),ee,re=!1,fe={},Se={},he={get closed(){return re},unsubscribe:function(){re||(re=!0,ee&&ee.abort(),ce&&ii.storagemutated.unsubscribe(ye))}},ce=(H.start&&H.start(he),!1),ge=function(){return qt(pe)},ye=function(me){Wd(fe,me),lp(Se,fe)&&ge()},pe=function(){var me,Ae,Te;!re&&oc.indexedDB&&(fe={},me={},ee&&ee.abort(),ee=new AbortController,Te=(Ce=>{var Ne=Hr();try{Z&&Un();var Ke=fn(A,Ce);return Ke=Z?Ke.finally(Pr):Ke}finally{Ne&&hn()}})(Ae={subscr:me,signal:ee.signal,requery:ge,querier:A,trans:null}),Promise.resolve(Te).then(function(Ce){R=!0,O=Ce,re||Ae.signal.aborted||(fe={},(Ne=>{for(var Ke in Ne)if(h(Ne,Ke))return;return 1})(Se=me)||ce||(ii(Jl,ye),ce=!0),qt(function(){return!re&&H.next&&H.next(Ce)}))},function(Ce){R=!1,["DatabaseClosedError","AbortError"].includes(Ce?.name)||re||qt(function(){re||H.error&&H.error(Ce)})}))};return setTimeout(ge,0),he});return N.hasValue=function(){return R},N.getValue=function(){return O},N}var Js=no;function pp(A){var O=rs;try{rs=!0,ii.storagemutated.fire(A),dp(A,!0)}finally{rs=O}}m(Js,r(r({},Y),{delete:function(A){return new Js(A,{addons:[]}).delete()},exists:function(A){return new Js(A,{addons:[]}).open().then(function(O){return O.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(A){try{return O=Js.dependencies,R=O.indexedDB,O=O.IDBKeyRange,(Yd(R)?Promise.resolve(R.databases()).then(function(N){return N.map(function(H){return H.name}).filter(function(H){return H!==lu})}):ip(R,O).toCollection().primaryKeys()).then(A)}catch{return pn(new se.MissingAPI)}var O,R},defineClass:function(){return function(A){c(this,A)}},ignoreTransaction:function(A){return et.trans?Nn(et.transless,A):A()},vip:ap,async:function(A){return function(){try{var O=yu(A.apply(this,arguments));return O&&typeof O.then=="function"?O:nt.resolve(O)}catch(R){return pn(R)}}},spawn:function(A,O,R){try{var N=yu(A.apply(R,O||[]));return N&&typeof N.then=="function"?N:nt.resolve(N)}catch(H){return pn(H)}},currentTransaction:{get:function(){return et.trans||null}},waitFor:function(A,O){return A=nt.resolve(typeof A=="function"?Js.ignoreTransaction(A):A).timeout(O||6e4),et.trans?et.trans.waitFor(A):A},Promise:nt,debug:{get:function(){return St},set:function(A){ft(A)}},derive:x,extend:c,props:m,override:E,Events:du,on:ii,liveQuery:rv,extendObservabilitySet:Wd,getByKeyPath:D,setByKeyPath:j,delByKeyPath:function(A,O){typeof O=="string"?j(A,O,void 0):"length"in O&&[].map.call(O,function(R){j(A,R,void 0)})},shallowClone:I,deepClone:te,getObjectDiff:Zd,cmp:Xt,asap:M,minKey:-1/0,addons:[],connections:Us,errnames:qe,dependencies:oc,cache:Xs,semVer:"4.3.0",version:"4.3.0".split(".").map(function(A){return parseInt(A)}).reduce(function(A,O,R){return A+O/Math.pow(10,2*R)})})),Js.maxKey=tc(Js.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ii(Jl,function(A){rs||(A=new CustomEvent(Ys,{detail:A}),rs=!0,dispatchEvent(A),rs=!1)}),addEventListener(Ys,function(A){A=A.detail,rs||pp(A)}));var sc,rs=!1,zi=function(){};return typeof BroadcastChannel<"u"&&((zi=function(){(sc=new BroadcastChannel(Ys)).onmessage=function(A){return A.data&&pp(A.data)}})(),typeof sc.unref=="function"&&sc.unref(),ii(Jl,function(A){rs||sc.postMessage(A)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(A){if(!no.disableBfCache&&A.persisted){St&&console.debug("Dexie: handling persisted pagehide"),sc?.close();for(var O=0,R=Us;O<R.length;O++)R[O].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(A){!no.disableBfCache&&A.persisted&&(St&&console.debug("Dexie: handling persisted pageshow"),zi(),pp({all:new ai(-1/0,[[]])}))})),nt.rejectionMapper=function(A,O){return!A||A instanceof ie||A instanceof TypeError||A instanceof SyntaxError||!A.name||!Le[A.name]?A:(O=new Le[A.name](O||A.message,A),"stack"in A&&b(O,"stack",{get:function(){return this.inner.stack}}),O)},ft(St),r(no,Object.freeze({__proto__:null,Dexie:no,Entity:Vg,PropModification:Ql,RangeSet:ai,add:function(A){return new Ql({add:A})},cmp:Xt,default:no,liveQuery:rv,mergeRanges:Ws,rangesOverlap:Wg,remove:function(A){return new Ql({remove:A})},replacePrefix:function(A,O){return new Ql({replacePrefix:[A,O]})}}),{default:no}),no})})(eb)),eb.exports}var zre=Ire();const J_=ua(zre),fL=Symbol.for("Dexie"),Db=globalThis[fL]||(globalThis[fL]=J_);if(J_.semVer!==Db.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${J_.semVer} and ${Db.semVer}`);const{liveQuery:Uke,mergeRanges:Hke,rangesOverlap:Vke,RangeSet:qke,cmp:Gke,Entity:Yke,PropModification:Kke,replacePrefix:Wke,add:Xke,remove:Zke,DexieYProvider:Qke}=Db,dr={labResults:["labName","notes"],testValues:["rawText"],settings:["aiApiKey"],userNotes:["content"]};async function Dc(t,e,n){const r={...t};for(const i of e){const a=r[i];a!=null&&typeof a=="string"&&(r[i]=await kb(a,n))}return r}async function ta(t,e,n){const r={...t};for(const i of e){const a=r[i];if(a!=null&&typeof a=="string")try{r[i]=await W_(a,n)}catch{console.warn(`Failed to decrypt field ${i}, leaving as-is`)}}return r}class Bre{key;db;constructor(e){this.key=e,this.db=Ure}async addLabResult(e){const n=await Dc(e,dr.labResults,this.key);return await this.db.labResults.add(n)}async getLabResult(e){const n=await this.db.labResults.get(e);if(n)return ta(n,dr.labResults,this.key)}async getAllLabResults(){const e=await this.db.labResults.orderBy("date").reverse().toArray();return Promise.all(e.map(n=>ta(n,dr.labResults,this.key)))}async getLabResultsByDateRange(e,n){const r=await this.db.labResults.where("date").between(e,n).toArray();return Promise.all(r.map(i=>ta(i,dr.labResults,this.key)))}async updateLabResult(e,n){const r=await Dc(n,dr.labResults,this.key);return this.db.labResults.update(e,r)}async deleteLabResult(e){await this.db.testValues.where("labResultId").equals(e).delete(),await this.db.labResults.delete(e)}async addTestValue(e){const n=await Dc(e,dr.testValues,this.key);return await this.db.testValues.add(n)}async addTestValues(e){const n=await Promise.all(e.map(i=>Dc(i,dr.testValues,this.key)));return(await this.db.testValues.bulkAdd(n,{allKeys:!0})).filter(i=>i!==void 0)}async getTestValue(e){const n=await this.db.testValues.get(e);if(n)return ta(n,dr.testValues,this.key)}async getTestValuesByLabResult(e){const n=await this.db.testValues.where("labResultId").equals(e).toArray();return Promise.all(n.map(r=>ta(r,dr.testValues,this.key)))}async getAllTestValues(){const e=await this.db.testValues.toArray();return Promise.all(e.map(n=>ta(n,dr.testValues,this.key)))}async getTestValuesByBiomarker(e){const n=await this.db.testValues.where("biomarkerId").equals(e).toArray();return Promise.all(n.map(r=>ta(r,dr.testValues,this.key)))}async updateTestValue(e,n){const r=await Dc(n,dr.testValues,this.key);return this.db.testValues.update(e,r)}async deleteTestValue(e){await this.db.testValues.delete(e)}async getSettings(){const e=await this.db.settings.toCollection().first();if(e)return ta(e,dr.settings,this.key)}async saveSettings(e){const n=await Dc(e,dr.settings,this.key),r=await this.db.settings.toCollection().first();return r?.id!==void 0?(await this.db.settings.update(r.id,n),r.id):await this.db.settings.add(n)}async getPreferences(){return this.db.userPreferences.toCollection().first()}async savePreferences(e){const n=await this.db.userPreferences.toCollection().first();return n?.id!==void 0?(await this.db.userPreferences.update(n.id,e),n.id):await this.db.userPreferences.add(e)}async getBiomarker(e){return this.db.biomarkers.get(e)}async getAllBiomarkers(){return this.db.biomarkers.toArray()}async getBiomarkersByCategory(e){return this.db.biomarkers.where("category").equals(e).toArray()}async findBiomarkerByName(e){return this.db.biomarkers.where("name").equalsIgnoreCase(e).first()}async addNote(e){const n=await Dc(e,dr.userNotes,this.key);return await this.db.userNotes.add(n)}async getNote(e){const n=await this.db.userNotes.get(e);if(n)return ta(n,dr.userNotes,this.key)}async getAllNotes(){const e=await this.db.userNotes.orderBy("createdAt").reverse().toArray();return Promise.all(e.map(n=>ta(n,dr.userNotes,this.key)))}async getNotesByLabResult(e){const n=await this.db.userNotes.where("labResultId").equals(e).toArray();return Promise.all(n.map(r=>ta(r,dr.userNotes,this.key)))}async getNotesByBiomarker(e){const n=await this.db.userNotes.where("biomarkerId").equals(e).toArray();return Promise.all(n.map(r=>ta(r,dr.userNotes,this.key)))}async getNotesByTestValue(e){const n=await this.db.userNotes.where("testValueId").equals(e).toArray();return Promise.all(n.map(r=>ta(r,dr.userNotes,this.key)))}async getNotesByTag(e){const n=await this.db.userNotes.where("tags").equals(e).toArray();return Promise.all(n.map(r=>ta(r,dr.userNotes,this.key)))}async updateNote(e,n){const r=await Dc(n,dr.userNotes,this.key);return this.db.userNotes.update(e,r)}async deleteNote(e){await this.db.userNotes.delete(e)}async addUserNote(e){return this.addNote(e)}async exportAllData(){const[e,n,r,i,a]=await Promise.all([this.getAllLabResults(),this.db.testValues.toArray().then(o=>Promise.all(o.map(s=>ta(s,dr.testValues,this.key)))),this.getAllNotes(),this.getSettings(),this.getPreferences()]);return{labResults:e,testValues:n,userNotes:r,settings:i,preferences:a}}async clearAllData(){await Promise.all([this.db.labResults.clear(),this.db.testValues.clear(),this.db.userNotes.clear(),this.db.settings.clear(),this.db.userPreferences.clear()])}}function $re(t){return new Bre(t)}class Fre extends Db{labResults;testValues;biomarkers;userPreferences;settings;userNotes;constructor(){super("HemoIO"),this.version(1).stores({labResults:"++id, date, labName",testValues:"++id, labResultId, biomarkerId, [labResultId+biomarkerId]",biomarkers:"++id, name, category",userPreferences:"++id",settings:"++id"}),this.version(2).stores({labResults:"++id, date, labName",testValues:"++id, labResultId, biomarkerId, [labResultId+biomarkerId]",biomarkers:"++id, name, category",userPreferences:"++id",settings:"++id",userNotes:"++id, labResultId, biomarkerId, testValueId, createdAt, *tags"})}}const Ure=new Fre;function Dd(){const{encryptionKey:t,status:e}=Md(),n=w.useMemo(()=>t?$re(t):null,[t]);return{db:n,isReady:e==="unlocked"&&n!==null}}function Hre(t){if(typeof t.value!="number")return"unknown";const e=t.value,{referenceRangeLow:n,referenceRangeHigh:r}=t;return n===void 0&&r===void 0?"unknown":n!==void 0&&e<n?"low":r!==void 0&&e>r?"high":"normal"}function Vre(t){return{...t,status:Hre(t)}}function yP(){const{db:t,isReady:e}=Dd(),[n,r]=w.useState([]),[i,a]=w.useState(!0),[o,s]=w.useState(null),[c,d]=w.useState({}),f=w.useCallback(async()=>{if(!t||!e){r([]),a(!1);return}a(!0),s(null);try{const b=await t.getAllLabResults(),x=await Promise.all(b.map(async S=>{const C=S.id?await t.getTestValuesByLabResult(S.id):[],T=C.map(Vre),E=T.filter(k=>k.status==="low"||k.status==="high").length;return{...S,testValues:T,abnormalCount:E,totalCount:C.length}}));r(x)}catch(b){const x=b instanceof Error?b.message:"Failed to load lab results";s(x),console.error("Error fetching lab results:",b)}finally{a(!1)}},[t,e]);w.useEffect(()=>{f()},[f]);const h=w.useMemo(()=>{let b=[...n];if(c.startDate&&(b=b.filter(x=>x.date>=c.startDate)),c.endDate&&(b=b.filter(x=>x.date<=c.endDate)),c.searchTerm){const x=c.searchTerm.toLowerCase();b=b.filter(S=>S.labName.toLowerCase().includes(x))}return b.sort((x,S)=>S.date.getTime()-x.date.getTime()),b},[n,c]),m=w.useCallback(async b=>{if(!t)throw new Error("Database not available");try{await t.deleteLabResult(b),r(x=>x.filter(S=>S.id!==b))}catch(x){const S=x instanceof Error?x.message:"Failed to delete lab result";throw s(S),new Error(S)}},[t]),v=w.useCallback(async()=>{await f()},[f]);return{results:h,isLoading:i,error:o,filters:c,setFilters:d,refresh:v,deleteResult:m}}function qre(t){if(t.length<2)return 0;const e=t.length,n=t.map(c=>c.date.getTime()),r=t.map(c=>c.value),i=n.reduce((c,d)=>c+d,0)/e,a=r.reduce((c,d)=>c+d,0)/e;let o=0,s=0;for(let c=0;c<e;c++)o+=(n[c]-i)*(r[c]-a),s+=(n[c]-i)**2;return s===0?0:o/s}function Gre(t,e){if(t.length<2)return 0;const n=t.length,r=t.map(h=>h.value),i=r.reduce((h,m)=>h+m,0)/n,a=t.map(h=>h.date.getTime()),o=a.reduce((h,m)=>h+m,0)/n,s=i-e*o,c=a.map(h=>e*h+s);let d=0,f=0;for(let h=0;h<n;h++)d+=(r[h]-c[h])**2,f+=(r[h]-i)**2;return f===0?0:1-d/f}function Yre(t){if(t.length<2)return{direction:"insufficient_data",confidence:0,description:"More data needed for trend analysis"};const e=[...t].sort((h,m)=>h.date.getTime()-m.date.getTime()),n=qre(e),r=Gre(e,n),i=e.map(h=>h.value),a=i.reduce((h,m)=>h+m,0)/i.length;Math.sqrt(i.reduce((h,m)=>h+(m-a)**2,0)/i.length);const o=a*.05/(720*60*60*1e3);let s,c;if(Math.abs(n)<o)s="stable",c="Values have remained relatively stable";else if(n>0){s="increasing";const h=e.length>1?(e[e.length-1].value-e[0].value)/e[0].value*100:0;c=`Values have increased by ${Math.abs(h).toFixed(1)}% over the period`}else{s="decreasing";const h=e.length>1?(e[0].value-e[e.length-1].value)/e[0].value*100:0;c=`Values have decreased by ${Math.abs(h).toFixed(1)}% over the period`}const d=Math.min(.2,(e.length-2)*.05),f=Math.min(1,r+d);return{direction:s,confidence:f,description:c}}function Kre(t){if(t.length<2)return null;const e=[...t].sort((v,b)=>v.date.getTime()-b.date.getTime()),n=e[0],r=e[e.length-1],i=r.value-n.value,a=r.date.getTime()-n.date.getTime();if(a===0)return null;const o=1440*60*1e3,s=7*o,c=30*o,d=i/a*o,f=i/a*s,h=i/a*c,m=n.value!==0?i/n.value*100:0;return{perDay:d,perWeek:f,perMonth:h,percentageChange:m,unit:n.unit}}function Wre(t){if(t.length===0)throw new Error("Cannot calculate statistics for empty data set");const e=[...t].sort((m,v)=>m.date.getTime()-v.date.getTime()),n=e.map(m=>m.value),r=[...n].sort((m,v)=>m-v),i=n.reduce((m,v)=>m+v,0),a=n.length,o=i/a,s=Math.floor(a/2),c=a%2!==0?r[s]:(r[s-1]+r[s])/2,f=n.map(m=>(m-o)**2).reduce((m,v)=>m+v,0)/a,h=Math.sqrt(f);return{min:Math.min(...n),max:Math.max(...n),average:o,median:c,standardDeviation:h,latest:e[e.length-1].value,latestDate:e[e.length-1].date,oldest:e[0].value,oldestDate:e[0].date,count:a,unit:e[0].unit}}function UF(t){if(t.length===0)throw new Error("Cannot analyze trend for empty data set");const e=Yre(t),n=Kre(t),r=Wre(t);let i=0,a=0,o=0;for(const s of t)s.status==="normal"?i++:s.status==="high"?a++:s.status==="low"&&o++;return{direction:e,rateOfChange:n,statistics:r,normalCount:i,highCount:a,lowCount:o}}function Xre(t,e){const n=[];for(const r of t){if(typeof r.value!="number")continue;const i=e.get(r.labResultId);i&&n.push({date:i.date,value:r.value,unit:r.unit,referenceRange:{low:r.referenceRangeLow,high:r.referenceRangeHigh},labName:i.labName,status:r.status})}return n.sort((r,i)=>r.date.getTime()-i.date.getTime())}function Zre(t,e=0){const{direction:n,highCount:r,lowCount:i,statistics:a}=t;if(e>=3)return"critical";const o=(r+i)/a.count;return o>.5||n.direction!=="stable"&&n.confidence>.7&&(r>0||i>0)?"warning":r>0||i>0?"info":n.direction==="stable"&&o===0&&a.count>1?"positive":null}function Qre(t){if(t.length===0)return{count:0,direction:null};const e=[...t].sort((o,s)=>o.date.getTime()-s.date.getTime());let n=0,r=0,i=null,a=null;for(const o of e)if(o.status==="high"||o.status==="low"){const s=o.status;i===null||i===s?(r++,i=s):(r>n&&(n=r,a=i),r=1,i=s)}else r>n&&(n=r,a=i),r=0,i=null;return r>n&&(n=r,a=i),{count:n,direction:a}}const Jre=[{name:"White Blood Cell Count",aliases:["WBC","Leukocytes","White Blood Cells","Globuli Bianchi","Leucociti"],category:"cbc",specimenType:"whole-blood",loincCode:"6690-2",canonicalUnit:"10^9/L",alternativeUnits:["K/uL","cells/L","10^3/L"],defaultReferenceRange:{low:4.5,high:11,unit:"10^9/L"},description:"Measures the total number of white blood cells, which fight infection.",highIndication:"May indicate infection, inflammation, or immune disorders",lowIndication:"May indicate bone marrow problems or autoimmune conditions"},{name:"Red Blood Cell Count",aliases:["RBC","Erythrocytes","Red Blood Cells","Globuli Rossi","Eritrociti"],category:"cbc",specimenType:"whole-blood",loincCode:"789-8",canonicalUnit:"10^12/L",alternativeUnits:["M/uL","million/L","10^6/L"],defaultReferenceRange:{low:4.5,high:5.5,unit:"10^12/L"},description:"Measures the number of red blood cells that carry oxygen.",highIndication:"May indicate dehydration or polycythemia",lowIndication:"May indicate anemia"},{name:"Hemoglobin",aliases:["Hgb","Hb","HGB","Emoglobina"],category:"cbc",specimenType:"whole-blood",loincCode:"718-7",canonicalUnit:"g/dL",alternativeUnits:["g/L","mmol/L"],defaultReferenceRange:{low:12,high:17.5,unit:"g/dL"},description:"Protein in red blood cells that carries oxygen.",highIndication:"May indicate dehydration or lung disease",lowIndication:"May indicate anemia or blood loss"},{name:"Hematocrit",aliases:["Hct","HCT","PCV","Packed Cell Volume","Ematocrito"],category:"cbc",specimenType:"whole-blood",loincCode:"4544-3",canonicalUnit:"%",alternativeUnits:["L/L","ratio"],defaultReferenceRange:{low:36,high:50,unit:"%"},description:"Percentage of blood volume made up of red blood cells.",highIndication:"May indicate dehydration or polycythemia",lowIndication:"May indicate anemia"},{name:"Platelet Count",aliases:["PLT","Platelets","Thrombocytes","Piastrine","Trombociti"],category:"cbc",specimenType:"whole-blood",loincCode:"777-3",canonicalUnit:"10^9/L",alternativeUnits:["K/uL","10^3/L"],defaultReferenceRange:{low:150,high:400,unit:"10^9/L"},description:"Cell fragments that help blood clot.",highIndication:"May indicate inflammation or bone marrow disorder",lowIndication:"May indicate bleeding risk or bone marrow problems"},{name:"Mean Corpuscular Volume",aliases:["MCV","Volume Globulare Medio","Volume Corpuscolare Medio"],category:"cbc",specimenType:"whole-blood",loincCode:"787-2",canonicalUnit:"fL",alternativeUnits:["m"],defaultReferenceRange:{low:80,high:100,unit:"fL"},description:"Average size of red blood cells.",highIndication:"May indicate B12/folate deficiency (macrocytic anemia)",lowIndication:"May indicate iron deficiency (microcytic anemia)"},{name:"Mean Corpuscular Hemoglobin",aliases:["MCH","Contenuto Medio di Hb","Contenuto Emoglobinico Corpuscolare Medio"],category:"cbc",specimenType:"whole-blood",loincCode:"785-6",canonicalUnit:"pg",alternativeUnits:["fmol"],defaultReferenceRange:{low:27,high:33,unit:"pg"},description:"Average amount of hemoglobin per red blood cell.",highIndication:"May indicate macrocytic anemia",lowIndication:"May indicate iron deficiency"},{name:"Mean Corpuscular Hemoglobin Concentration",aliases:["MCHC","Concentrazione Media di Hb","Concentrazione Emoglobinica Corpuscolare Media"],category:"cbc",specimenType:"whole-blood",loincCode:"786-4",canonicalUnit:"g/dL",alternativeUnits:["g/L","%"],defaultReferenceRange:{low:32,high:36,unit:"g/dL"},description:"Average concentration of hemoglobin in red blood cells.",highIndication:"May indicate spherocytosis",lowIndication:"May indicate iron deficiency or thalassemia"},{name:"Red Cell Distribution Width",aliases:["RDW","RDW-CV"],category:"cbc",specimenType:"whole-blood",loincCode:"788-0",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:11.5,high:14.5,unit:"%"},description:"Variation in red blood cell size.",highIndication:"May indicate mixed anemia or nutritional deficiency",lowIndication:"Generally not clinically significant"},{name:"Neutrophils",aliases:["Neutrophil Count","Neutrofili","Neutrofili (assoluti)","Neutrophils Absolute","ANC","Granulociti Neutrofili"],category:"cbc",specimenType:"whole-blood",loincCode:"751-8",canonicalUnit:"10^9/L",alternativeUnits:["10^3/L","K/uL","cells/L"],defaultReferenceRange:{low:1.5,high:8,unit:"10^9/L"},description:"Most abundant white blood cell type, fights bacterial infections.",highIndication:"May indicate bacterial infection or inflammation",lowIndication:"May indicate neutropenia, risk of infection"},{name:"Neutrophils Percentage",aliases:["Neutrophils %","Neutrofili (%)","Neutrophil %","% Neutrophils"],category:"cbc",specimenType:"whole-blood",loincCode:"770-8",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:40,high:70,unit:"%"},description:"Percentage of white blood cells that are neutrophils.",highIndication:"May indicate bacterial infection",lowIndication:"May indicate viral infection or other conditions"},{name:"Lymphocytes",aliases:["Lymphocyte Count","Linfociti","Linfociti (assoluti)","Lymphocytes Absolute","ALC"],category:"cbc",specimenType:"whole-blood",loincCode:"731-0",canonicalUnit:"10^9/L",alternativeUnits:["10^3/L","K/uL","cells/L"],defaultReferenceRange:{low:1,high:4,unit:"10^9/L"},description:"White blood cells important for immune response.",highIndication:"May indicate viral infection or lymphoproliferative disorder",lowIndication:"May indicate immunodeficiency or HIV"},{name:"Lymphocytes Percentage",aliases:["Lymphocytes %","Linfociti (%)","Lymphocyte %","% Lymphocytes"],category:"cbc",specimenType:"whole-blood",loincCode:"736-9",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:20,high:40,unit:"%"},description:"Percentage of white blood cells that are lymphocytes.",highIndication:"May indicate viral infection",lowIndication:"May indicate bacterial infection or immunodeficiency"},{name:"Monocytes",aliases:["Monocyte Count","Monociti","Monociti (assoluti)","Monocytes Absolute"],category:"cbc",specimenType:"whole-blood",loincCode:"742-7",canonicalUnit:"10^9/L",alternativeUnits:["10^3/L","K/uL","cells/L"],defaultReferenceRange:{low:.2,high:1,unit:"10^9/L"},description:"White blood cells that become macrophages in tissues.",highIndication:"May indicate chronic infection or inflammation",lowIndication:"Generally not clinically significant"},{name:"Monocytes Percentage",aliases:["Monocytes %","Monociti (%)","Monocyte %","% Monocytes"],category:"cbc",specimenType:"whole-blood",loincCode:"5905-5",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:2,high:10,unit:"%"},description:"Percentage of white blood cells that are monocytes.",highIndication:"May indicate chronic infection",lowIndication:"Generally not clinically significant"},{name:"Eosinophils",aliases:["Eosinophil Count","Eosinofili","Eosinofili (assoluti)","Eosinophils Absolute","AEC"],category:"cbc",specimenType:"whole-blood",loincCode:"711-2",canonicalUnit:"10^9/L",alternativeUnits:["10^3/L","K/uL","cells/L"],defaultReferenceRange:{low:0,high:.5,unit:"10^9/L"},description:"White blood cells involved in allergic responses and parasites.",highIndication:"May indicate allergies, parasitic infection, or asthma",lowIndication:"Generally not clinically significant"},{name:"Eosinophils Percentage",aliases:["Eosinophils %","Eosinofili (%)","Eosinophil %","% Eosinophils"],category:"cbc",specimenType:"whole-blood",loincCode:"713-8",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:1,high:6,unit:"%"},description:"Percentage of white blood cells that are eosinophils.",highIndication:"May indicate allergies or parasitic infection",lowIndication:"Generally not clinically significant"},{name:"Basophils",aliases:["Basophil Count","Basofili","Basofili (assoluti)","Basophils Absolute"],category:"cbc",specimenType:"whole-blood",loincCode:"704-7",canonicalUnit:"10^9/L",alternativeUnits:["10^3/L","K/uL","cells/L"],defaultReferenceRange:{low:0,high:.2,unit:"10^9/L"},description:"Rarest white blood cell type, involved in allergic reactions.",highIndication:"May indicate allergic reaction or myeloproliferative disorder",lowIndication:"Generally not clinically significant"},{name:"Basophils Percentage",aliases:["Basophils %","Basofili (%)","Basophil %","% Basophils"],category:"cbc",specimenType:"whole-blood",loincCode:"706-2",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:2,unit:"%"},description:"Percentage of white blood cells that are basophils.",highIndication:"May indicate allergic reaction",lowIndication:"Generally not clinically significant"}],eie=[{name:"Erythrocyte Sedimentation Rate",aliases:["ESR","Sed Rate","V.E.S.","VES","Velocit di Eritrosedimentazione"],category:"cbc",specimenType:"whole-blood",loincCode:"30341-2",canonicalUnit:"mm/h",alternativeUnits:["mm/hr"],defaultReferenceRange:{low:0,high:20,unit:"mm/h"},description:"Rate at which red blood cells settle, indicates inflammation.",highIndication:"May indicate inflammation, infection, or autoimmune disease",lowIndication:"Generally not clinically significant"},{name:"C-Reactive Protein",aliases:["CRP","Proteina C Reattiva","PCR","C-Reactive Protein High Sensitivity","hs-CRP"],category:"metabolic",specimenType:"serum",loincCode:"1988-5",canonicalUnit:"mg/L",alternativeUnits:["mg/dL"],defaultReferenceRange:{low:0,high:5,unit:"mg/L"},description:"Protein that rises with inflammation in the body.",highIndication:"May indicate infection, inflammation, or cardiovascular risk",lowIndication:"Generally indicates low inflammation"}],tie=[{name:"Glucose",aliases:["Blood Sugar","Fasting Glucose","FBG","Blood Glucose","Glucosio","S-Glucosio","Glicemia","P-Glucosio","Glicemia a digiuno"],category:"metabolic",specimenType:"serum",loincCode:"2345-7",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:70,high:100,unit:"mg/dL"},description:"Blood sugar level, primary energy source for cells.",highIndication:"May indicate diabetes or prediabetes",lowIndication:"May indicate hypoglycemia"},{name:"Creatinine",aliases:["Creat","Serum Creatinine","S-Creatinina","Creatinina","P-Creatinina","Creatininemia","P-Creatinina (metodo enzimatico)"],category:"metabolic",specimenType:"serum",loincCode:"2160-0",canonicalUnit:"mg/dL",alternativeUnits:["mol/L","umol/L"],defaultReferenceRange:{low:.7,high:1.3,unit:"mg/dL"},description:"Waste product filtered by kidneys, indicates kidney function.",highIndication:"May indicate kidney dysfunction",lowIndication:"May indicate low muscle mass"},{name:"Blood Urea Nitrogen",aliases:["BUN","Urea Nitrogen","Urea"],category:"metabolic",specimenType:"serum",loincCode:"3094-0",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:7,high:20,unit:"mg/dL"},description:"Waste product from protein metabolism, filtered by kidneys.",highIndication:"May indicate kidney disease or dehydration",lowIndication:"May indicate liver disease or malnutrition"},{name:"Sodium",aliases:["Na","Na+","Serum Sodium","S-Na Sodio","Sodio","S-Na"],category:"metabolic",specimenType:"serum",loincCode:"2951-2",canonicalUnit:"mEq/L",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:136,high:145,unit:"mEq/L"},description:"Electrolyte important for fluid balance and nerve function.",highIndication:"May indicate dehydration or hormone imbalance",lowIndication:"May indicate overhydration or kidney problems"},{name:"Potassium",aliases:["K","K+","Serum Potassium","S-K Potassio","Potassio","S-K"],category:"metabolic",specimenType:"serum",loincCode:"2823-3",canonicalUnit:"mEq/L",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:3.5,high:5,unit:"mEq/L"},description:"Electrolyte critical for heart and muscle function.",highIndication:"May indicate kidney disease or medication effects",lowIndication:"May indicate diuretic use or GI losses"},{name:"Chloride",aliases:["Cl","Cl-","Serum Chloride"],category:"metabolic",specimenType:"serum",loincCode:"2075-0",canonicalUnit:"mEq/L",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:98,high:106,unit:"mEq/L"},description:"Electrolyte that helps maintain fluid balance.",highIndication:"May indicate dehydration or kidney disease",lowIndication:"May indicate vomiting or hormone imbalance"},{name:"Carbon Dioxide",aliases:["CO2","Bicarbonate","HCO3","Total CO2"],category:"metabolic",specimenType:"serum",loincCode:"2028-9",canonicalUnit:"mEq/L",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:23,high:29,unit:"mEq/L"},description:"Reflects acid-base balance in the blood.",highIndication:"May indicate metabolic alkalosis or lung disease",lowIndication:"May indicate metabolic acidosis or kidney disease"},{name:"Calcium",aliases:["Ca","Ca++","Serum Calcium","Total Calcium","S-Calcio","Calcio","Calcemia"],category:"metabolic",specimenType:"serum",loincCode:"17861-6",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:8.5,high:10.5,unit:"mg/dL"},description:"Mineral essential for bones, nerves, and muscles.",highIndication:"May indicate hyperparathyroidism or cancer",lowIndication:"May indicate vitamin D deficiency or kidney disease"},{name:"Magnesium",aliases:["Mg","Serum Magnesium","S-Mg","S-Mg Magnesio","Magnesio","Magnesiemia"],category:"metabolic",specimenType:"serum",loincCode:"19123-9",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L","mEq/L"],defaultReferenceRange:{low:1.7,high:2.4,unit:"mg/dL"},description:"Mineral essential for nerve and muscle function, bone health, and energy production.",highIndication:"May indicate kidney disease, excessive supplementation, or adrenal insufficiency",lowIndication:"May indicate malnutrition, alcoholism, diabetes, or medication effects"},{name:"eGFR",aliases:["Estimated GFR","Glomerular Filtration Rate","GFR","Filtrato Glomerulare","Filtrato Glomerulare (eGFR)","eGFR (Velocit di filtrazione glomerulare stimata)","Velocit di filtrazione glomerulare","VFG","Filtrato Glomerulare (eGFR) (calcolato secondo formula CKD-EPI)"],category:"metabolic",specimenType:"serum",loincCode:"33914-3",canonicalUnit:"mL/min/1.73m",alternativeUnits:["mL/min/1,73m","mL/min/1,73m^2"],defaultReferenceRange:{low:90,high:120,unit:"mL/min/1.73m"},description:"Estimate of how well kidneys filter waste.",highIndication:"Generally not concerning",lowIndication:"May indicate chronic kidney disease"}],nie=[{name:"Total Cholesterol",aliases:["Cholesterol","TC","Chol","S-Colesterolo Totale","Colesterolo Totale","Colesterolo","S-Cholesterolo Totale","Cholesterolo Totale","Cholesterolo","P-Colesterolo","Colesterolemia"],category:"lipid",specimenType:"serum",loincCode:"2093-3",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L","mmo/L"],defaultReferenceRange:{low:0,high:200,unit:"mg/dL"},description:"Total amount of cholesterol in the blood.",highIndication:"Increased cardiovascular disease risk",lowIndication:"May indicate malnutrition or hyperthyroidism"},{name:"LDL Cholesterol",aliases:["LDL","LDL-C","Bad Cholesterol"],category:"lipid",specimenType:"serum",loincCode:"13457-7",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:0,high:100,unit:"mg/dL"},description:"Low-density lipoprotein, deposits cholesterol in arteries.",highIndication:"Increased risk of atherosclerosis",lowIndication:"Generally desirable"},{name:"HDL Cholesterol",aliases:["HDL","HDL-C","Good Cholesterol","S-Colesterolo HDL","Colesterolo HDL","P-Colesterolo HDL","HDL Colesterolo"],category:"lipid",specimenType:"serum",loincCode:"2085-9",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L","mmo/L"],defaultReferenceRange:{low:40,high:60,unit:"mg/dL"},description:"High-density lipoprotein, removes cholesterol from arteries.",highIndication:"Generally protective",lowIndication:"Increased cardiovascular risk"},{name:"Triglycerides",aliases:["TG","Trigs","TRIG","Trigliceridi","S-Trigliceridi","P-Trigliceridi","Trigliceridemia"],category:"lipid",specimenType:"serum",loincCode:"2571-8",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:0,high:150,unit:"mg/dL"},description:"Type of fat in the blood from food and liver production.",highIndication:"Increased cardiovascular and pancreatitis risk",lowIndication:"Generally not concerning"},{name:"VLDL Cholesterol",aliases:["VLDL","VLDL-C"],category:"lipid",specimenType:"serum",loincCode:"13458-5",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:5,high:40,unit:"mg/dL"},description:"Very low-density lipoprotein, carries triglycerides.",highIndication:"Increased cardiovascular risk",lowIndication:"Generally not concerning"},{name:"Non-HDL Cholesterol",aliases:["Non-HDL","Non-HDL-C"],category:"lipid",specimenType:"serum",loincCode:"43396-1",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:0,high:130,unit:"mg/dL"},description:"Total cholesterol minus HDL, all atherogenic particles.",highIndication:"Increased cardiovascular risk",lowIndication:"Generally desirable"}],rie=[{name:"Thyroid Stimulating Hormone",aliases:["TSH","Thyrotropin","S-TSH Tirotropina","Tirotropina","S-TSH","Tireotropina","S-TSH Tireotropina","S-Tirotropina","S-Tirotropina (TSH)","Tirotropina (TSH)","Ormone tireotropo","S-Tirotropina (TSH) (ECLIA Roche)","TSH (S-Tirotropina)"],category:"thyroid",specimenType:"serum",loincCode:"3016-3",canonicalUnit:"mIU/L",alternativeUnits:["IU/mL","mU/L","UI/mL","mUI/L","uIU/mL"],defaultReferenceRange:{low:.4,high:4,unit:"mIU/L"},description:"Pituitary hormone that controls thyroid function.",highIndication:"May indicate hypothyroidism",lowIndication:"May indicate hyperthyroidism"},{name:"Free T4",aliases:["FT4","Free Thyroxine","Thyroxine Free","S-FT4","S-FT4 Tiroxina libera","Tiroxina libera","FT4 Tiroxina libera"],category:"thyroid",specimenType:"serum",loincCode:"3024-7",canonicalUnit:"ng/dL",alternativeUnits:["pmol/L"],defaultReferenceRange:{low:.8,high:1.8,unit:"ng/dL"},description:"Unbound thyroid hormone available to tissues.",highIndication:"May indicate hyperthyroidism",lowIndication:"May indicate hypothyroidism"},{name:"Total T4",aliases:["T4","Thyroxine","Serum T4"],category:"thyroid",specimenType:"serum",loincCode:"3026-2",canonicalUnit:"g/dL",alternativeUnits:["nmol/L"],defaultReferenceRange:{low:4.5,high:12,unit:"g/dL"},description:"Total thyroxine (bound and free) in blood.",highIndication:"May indicate hyperthyroidism",lowIndication:"May indicate hypothyroidism"},{name:"Free T3",aliases:["FT3","Free Triiodothyronine","S-FT3","S-FT3 Triiodotironina libera","Triiodotironina libera","FT3 Triiodotironina libera"],category:"thyroid",specimenType:"serum",loincCode:"3051-0",canonicalUnit:"pg/mL",alternativeUnits:["pmol/L"],defaultReferenceRange:{low:2.3,high:4.2,unit:"pg/mL"},description:"Active thyroid hormone available to tissues.",highIndication:"May indicate hyperthyroidism",lowIndication:"May indicate hypothyroidism or illness"},{name:"Total T3",aliases:["T3","Triiodothyronine"],category:"thyroid",specimenType:"serum",loincCode:"3053-6",canonicalUnit:"ng/dL",alternativeUnits:["nmol/L"],defaultReferenceRange:{low:80,high:200,unit:"ng/dL"},description:"Total triiodothyronine in blood.",highIndication:"May indicate hyperthyroidism",lowIndication:"May indicate hypothyroidism"},{name:"TPO Antibodies",aliases:["Anti-TPO","Thyroid Peroxidase Antibodies","S-Anticorpi anti Tireoperossidasi","Anticorpi anti Tireoperossidasi","Anti-Tireoperossidasi","TPOAb","Thyroid Peroxidase Ab"],category:"thyroid",specimenType:"serum",loincCode:"8099-4",canonicalUnit:"IU/mL",alternativeUnits:["UI/mL","U/mL","kIU/L"],defaultReferenceRange:{low:0,high:35,unit:"IU/mL"},description:"Antibodies against thyroid peroxidase enzyme, marker for autoimmune thyroid disease.",highIndication:"May indicate Hashimoto thyroiditis or Graves disease",lowIndication:"Normal finding - no autoimmune thyroid disease"}],iie=[{name:"Serum Iron",aliases:["Iron","Fe","Iron Level"],category:"iron",specimenType:"serum",loincCode:"2498-4",canonicalUnit:"g/dL",alternativeUnits:["mol/L","umol/L"],defaultReferenceRange:{low:60,high:170,unit:"g/dL"},description:"Amount of iron circulating in the blood.",highIndication:"May indicate hemochromatosis or iron overload",lowIndication:"May indicate iron deficiency"},{name:"Ferritin",aliases:["Serum Ferritin"],category:"iron",specimenType:"serum",loincCode:"2276-4",canonicalUnit:"ng/mL",alternativeUnits:["g/L","pmol/L"],defaultReferenceRange:{low:20,high:200,unit:"ng/mL"},description:"Protein that stores iron, reflects iron stores.",highIndication:"May indicate iron overload or inflammation",lowIndication:"May indicate iron deficiency"},{name:"Total Iron Binding Capacity",aliases:["TIBC","Iron Binding Capacity"],category:"iron",specimenType:"serum",loincCode:"2500-7",canonicalUnit:"g/dL",alternativeUnits:["mol/L"],defaultReferenceRange:{low:250,high:400,unit:"g/dL"},description:"Measures capacity of transferrin to bind iron.",highIndication:"May indicate iron deficiency",lowIndication:"May indicate iron overload or chronic disease"},{name:"Transferrin Saturation",aliases:["TSAT","Iron Saturation","Transferrin Sat"],category:"iron",specimenType:"serum",loincCode:"2502-3",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:20,high:50,unit:"%"},description:"Percentage of transferrin bound to iron.",highIndication:"May indicate iron overload",lowIndication:"May indicate iron deficiency"},{name:"Transferrin",aliases:["Serum Transferrin"],category:"iron",specimenType:"serum",loincCode:"3034-6",canonicalUnit:"mg/dL",alternativeUnits:["g/L"],defaultReferenceRange:{low:200,high:360,unit:"mg/dL"},description:"Protein that transports iron in the blood.",highIndication:"May indicate iron deficiency",lowIndication:"May indicate iron overload or malnutrition"}],aie=[{name:"Vitamin B12",aliases:["B12","Cobalamin","Cyanocobalamin","Vitamina B12","S-Vitamina B12","S-Vitamina B 12 attiva","Vitamina B 12 attiva","Active B12","Holotranscobalamin"],category:"vitamin",specimenType:"serum",loincCode:"2132-9",canonicalUnit:"pg/mL",alternativeUnits:["pmol/L","ng/L"],defaultReferenceRange:{low:200,high:900,unit:"pg/mL"},description:"Essential vitamin for nerve function and blood cell formation.",highIndication:"Rarely concerning, may indicate supplementation",lowIndication:"May indicate deficiency causing anemia or neuropathy"},{name:"Vitamin D",aliases:["25-OH Vitamin D","25-Hydroxyvitamin D","Calcidiol","Vitamin D Total","S-25-OH Vitamina D","25-OH Vitamina D","Vitamina D","S-Vitamina D","Colecalciferolo"],category:"vitamin",specimenType:"serum",loincCode:"1989-3",canonicalUnit:"ng/mL",alternativeUnits:["nmol/L"],defaultReferenceRange:{low:30,high:100,unit:"ng/mL"},description:"Vitamin important for bone health and immune function.",highIndication:"May indicate toxicity from oversupplementation",lowIndication:"May indicate deficiency affecting bones and immunity"},{name:"Folate",aliases:["Folic Acid","Vitamin B9","Serum Folate"],category:"vitamin",specimenType:"serum",loincCode:"2284-8",canonicalUnit:"ng/mL",alternativeUnits:["nmol/L"],defaultReferenceRange:{low:2.7,high:17,unit:"ng/mL"},description:"B vitamin essential for cell division and DNA synthesis.",highIndication:"Generally not concerning",lowIndication:"May indicate deficiency causing anemia"},{name:"Vitamin A",aliases:["Retinol","Serum Retinol"],category:"vitamin",specimenType:"serum",loincCode:"14905-4",canonicalUnit:"g/dL",alternativeUnits:["mol/L"],defaultReferenceRange:{low:30,high:65,unit:"g/dL"},description:"Vitamin important for vision, immunity, and skin.",highIndication:"May indicate toxicity",lowIndication:"May indicate deficiency affecting vision"}],oie=[{name:"Hemoglobin A1c",aliases:["HbA1c","A1C","Glycated Hemoglobin","Glycohemoglobin","Sg-HbA1C Emoglobina Glicata","Emoglobina Glicata","HbA1C Emoglobina Glicata","Er-EMOGLOBINA GLICATA","EMOGLOBINA GLICATA","Sg-HbA1C","HbA1c (IFCC)","Emoglobina glicosilata","% Hb totale"],category:"metabolic",specimenType:"whole-blood",loincCode:"4548-4",canonicalUnit:"%",alternativeUnits:["mmol/mol","mmol/molHb"],defaultReferenceRange:{low:4,high:5.6,unit:"%"},description:"Average blood sugar over past 2-3 months.",highIndication:"May indicate diabetes or prediabetes",lowIndication:"May indicate hypoglycemia or hemolytic conditions"},{name:"Fructosamine",aliases:["Glycated Albumin","Glycated Serum Protein"],category:"metabolic",specimenType:"serum",loincCode:"1784-8",canonicalUnit:"mol/L",alternativeUnits:[],defaultReferenceRange:{low:200,high:285,unit:"mol/L"},description:"Average blood sugar over past 2-3 weeks.",highIndication:"May indicate poor glycemic control",lowIndication:"Generally not concerning"}],sie=[{name:"Urine pH",aliases:["pH","Urinary pH","pH (urine)","pH urinario","pH delle urine","U-pH","U-Esame standard pH","pH (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"2756-5",canonicalUnit:"",alternativeUnits:[],defaultReferenceRange:{low:5,high:8,unit:""},description:"Acidity or alkalinity of urine.",highIndication:"May indicate UTI or alkaline diet",lowIndication:"May indicate acidosis or high protein diet"},{name:"Urine Specific Gravity",aliases:["Specific Gravity","SG","Urine SG","Urine Densit","Densit Urinaria","Peso Specifico","Peso specifico (urine)","Densit (urine)","Peso specifico urinario","U-Peso specifico","U-Esame standard Peso specifico","Peso specifico (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"2965-2",canonicalUnit:"",alternativeUnits:[],defaultReferenceRange:{low:1.005,high:1.03,unit:""},description:"Concentration of urine, reflects hydration status.",highIndication:"May indicate dehydration",lowIndication:"May indicate overhydration or kidney problems"},{name:"Urine Protein",aliases:["Protein","Proteinuria","Urine Protein Level","Proteine (urine)","Urine Proteine (standard)","U-Proteine totali","Proteine urinarie","U-Proteine","U-Proteine totali (urine)","Urine Proteine (standard)","U-Esame standard Proteine","Proteine (urine, dipstick)","Proteine totali (urine)"],category:"urinalysis",specimenType:"urine",loincCode:"2888-6",canonicalUnit:"mg/dL",alternativeUnits:["g/L","mg/L"],description:"Protein in urine, normally minimal.",highIndication:"May indicate kidney disease",lowIndication:"Normal finding"},{name:"Urine Glucose",aliases:["Glucose","Glycosuria","Urine Sugar","Urine Glucosio","Glucosio Urinario","U-Glucosio","Glucosio (urine)","U-Esame standard Glucosio","Glucosio (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"2350-7",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],description:"Glucose in urine, normally absent.",highIndication:"May indicate diabetes or renal glycosuria",lowIndication:"Normal finding"},{name:"Urine Ketones",aliases:["Ketones","Ketonuria","Corpi Chetonici","Corpi Chetonici (urine)","Chetoni","Urine Corpi chetonici","Corpi chetonici urinari","U-Corpi chetonici","U-Esame standard Corpi chetonici","Corpi chetonici (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"2514-8",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],description:"Ketone bodies in urine from fat metabolism.",highIndication:"May indicate diabetic ketoacidosis or fasting",lowIndication:"Normal finding"},{name:"Urine Blood",aliases:["Blood","Hematuria","RBC in Urine","Eritrociti (urine)","Eritrociti Urine","Emazie Urine","Eritrociti (urine) per campo","Emoglobina (urine)","Emoglobina (urine, dipstick)","Urine Emoglobina","Sangue (urine)","U-Emoglobina","Eritrociti","Eritrociti (urine, per campo)","Esame morfologico - eritrociti per campo","Esame morfologico eritrociti","U-Esame standard Emoglobina","Emoglobina (urine, per campo)","Esame morfologico: eritrociti per campo"],category:"urinalysis",specimenType:"urine",loincCode:"5794-3",canonicalUnit:"RBC/HPF",alternativeUnits:["/L","/uL","cells/L","per campo","eritrociti per campo","mg/dL"],description:"Red blood cells in urine.",highIndication:"May indicate UTI, kidney stones, or kidney disease",lowIndication:"Normal finding"},{name:"Urine WBC",aliases:["WBC in Urine","Leucociti (urine)","Leucociti Urine","Urine Leukocytes","White Blood Cells Urine"],category:"urinalysis",specimenType:"urine",loincCode:"5821-4",canonicalUnit:"WBC/HPF",alternativeUnits:["/L","/uL","cells/L"],description:"White blood cells in urine, indicates infection.",highIndication:"May indicate urinary tract infection",lowIndication:"Normal finding"},{name:"Urine Leukocyte Esterase",aliases:["Leukocyte Esterase","LE","WBC Esterase","Esterasi leucocitaria","Esterasi leucocitaria (urine)","U-Esame standard Esterasi leucocitaria","Esterasi leucocitaria (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"5799-2",canonicalUnit:"",alternativeUnits:[],description:"Enzyme from white blood cells, indicates infection.",highIndication:"May indicate urinary tract infection",lowIndication:"Normal finding"},{name:"Urine Nitrites",aliases:["Nitrites","Nitrite","Nitriti","Nitriti (urine)","U-Esame standard Nitriti","Nitriti (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"5802-4",canonicalUnit:"",alternativeUnits:[],description:"Produced by bacteria, indicates infection.",highIndication:"May indicate bacterial UTI",lowIndication:"Normal finding"},{name:"Microalbumin",aliases:["Urine Microalbumin","MAU","Albumin/Creatinine Ratio","U-ALBUMINA Micro","U-ALBUMINA Micro (U-Albumina/L)","Microalbumina","Microalbuminuria","U-Albumina","Albumina urinaria","U-ALBUMINA","U-Albumina (turbidimetria Roche)","U-Albumina (albuminuria)","U-Albumina/L","U-Albumina/L (urine)","U-Albumina (Micro, Urine)","Microalbumina (urine)","Micro U-Albumina (urine)","U-Albumina (urine)"],category:"urinalysis",specimenType:"urine",loincCode:"14957-5",canonicalUnit:"mg/L",alternativeUnits:["g/min","mg/g creatinine","mg/g creat.","mg/g creat"],defaultReferenceRange:{low:0,high:30,unit:"mg/L"},description:"Small amounts of albumin in urine, early kidney damage marker.",highIndication:"May indicate early diabetic nephropathy",lowIndication:"Normal finding"},{name:"Urine Epithelial Cells",aliases:["Epithelial Cells","Cellule epiteliali (urine)","Cellule Epiteliali Urine","Squamous Epithelial Cells"],category:"urinalysis",specimenType:"urine",loincCode:"5787-7",canonicalUnit:"/HPF",alternativeUnits:["/L","/uL","cells/L"],description:"Cells from urinary tract lining in urine.",highIndication:"May indicate contamination or urinary tract issues",lowIndication:"Normal finding"},{name:"Urine Creatinine",aliases:["U-Creatinina","Creatinina urinaria","Creatinina (urine)","U-Creatinina urinaria prima minzione","Creatinina urinaria prima minzione","U-Creatinina (urine)"],category:"urinalysis",specimenType:"urine",loincCode:"2161-8",canonicalUnit:"mg/dL",alternativeUnits:["mol/L","umol/L","g/L","mmol/L"],defaultReferenceRange:{low:20,high:300,unit:"mg/dL"},description:"Creatinine concentration in urine, used to assess kidney function and calculate ratios.",highIndication:"May indicate concentrated urine or high muscle mass",lowIndication:"May indicate dilute urine or kidney dysfunction"},{name:"Urine Bilirubin",aliases:["Bilirubina (urine)","Urine Bilirubina","Bilirubina urinaria","Bilirubin (urine)","U-Bilirubina","U-Esame standard Bilirubina","Bilirubina (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"5770-3",canonicalUnit:"mg/dL",alternativeUnits:["mol/L"],description:"Bilirubin in urine, normally absent.",highIndication:"May indicate liver disease or bile duct obstruction",lowIndication:"Normal finding"},{name:"Urine Urobilinogen",aliases:["Urobilinogeno","Urobilinogeno (urine)","Urine Urobilinogeno","Urobilinogen","U-Urobilinogeno","U-Esame standard Urobilinogeno","Urobilinogeno (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"5818-0",canonicalUnit:"mg/dL",alternativeUnits:["mol/L","EU/dL"],defaultReferenceRange:{low:.1,high:1,unit:"mg/dL"},description:"Breakdown product of bilirubin, normally present in small amounts.",highIndication:"May indicate hemolysis or liver disease",lowIndication:"May indicate bile duct obstruction"},{name:"Albumin Creatinine Ratio",aliases:["ACR","Albumina / Creatinina","Albumin/Creatinine Ratio","U-Albumina/Creatinina","UACR","Rapporto albumina/creatinina"],category:"urinalysis",specimenType:"urine",loincCode:"9318-7",canonicalUnit:"mg/g",alternativeUnits:["mg/mmol","mg/g creat.","mg/g creat","mg/mmol creat."],defaultReferenceRange:{low:0,high:30,unit:"mg/g"},description:"Ratio of albumin to creatinine in urine, sensitive marker for kidney damage.",highIndication:"May indicate diabetic nephropathy or kidney disease",lowIndication:"Normal finding"},{name:"Protein Creatinine Ratio",aliases:["PCR","U-Proteine/Creatinina","Protein/Creatinine Ratio","Proteine/Creatinina","Rapporto proteine/creatinina","Proteine/Creatinina (urine)","U-Proteine/Creatinina (urine)"],category:"urinalysis",specimenType:"urine",loincCode:"2890-2",canonicalUnit:"mg/g",alternativeUnits:["mg/mmol","mg/mmol creat.","mg/g creat.","mg/g creat"],defaultReferenceRange:{low:0,high:150,unit:"mg/g"},description:"Ratio of protein to creatinine in urine, estimates 24-hour protein excretion.",highIndication:"May indicate kidney disease or proteinuria",lowIndication:"Normal finding"},{name:"Urine Volume",aliases:["U-VOLUME (24h)","Urine Volume 24h","24h Urine Volume","Diuresi 24h","Volume urinario 24h","U-VOLUME","24-Hour Urine Volume","Volume urinario","Volume delle urine","Volume (urine, 24h)","U-VOLUME (urine, 24h)"],category:"urinalysis",specimenType:"urine-24h",loincCode:"3167-4",canonicalUnit:"mL",alternativeUnits:["L","mL/24h"],defaultReferenceRange:{low:800,high:2e3,unit:"mL"},description:"Total urine output over 24 hours.",highIndication:"May indicate diabetes insipidus or excessive fluid intake",lowIndication:"May indicate dehydration or kidney disease"},{name:"24-Hour Urine Albumin",aliases:["U Albumina 24h","Albumina 24h","24h Albumin","Albuminuria 24h","Albumina urinaria 24h","U-Albumina 24h","Urine Albumin 24h","U-Albumina 24h (Urine)","Albumina 24h (urine)"],category:"urinalysis",specimenType:"urine-24h",loincCode:"1755-8",canonicalUnit:"mg/24h",alternativeUnits:["mg/day","g/24h"],defaultReferenceRange:{low:0,high:30,unit:"mg/24h"},description:"Total albumin excreted in 24-hour urine collection.",highIndication:"May indicate kidney disease or diabetic nephropathy",lowIndication:"Normal finding"}],lie=[{name:"Alanine Aminotransferase",aliases:["ALT","SGPT","Alanine Transaminase","S-ALT Alanina Amino Trasferasi","Alanina Amino Trasferasi","S-ALT","P-ALT","P-ALT (alanina aminotransferasi)","GPT","ALT (GPT)"],category:"metabolic",specimenType:"serum",loincCode:"1742-6",canonicalUnit:"U/L",alternativeUnits:["IU/L"],defaultReferenceRange:{low:7,high:56,unit:"U/L"},description:"Liver enzyme, elevated in liver damage.",highIndication:"May indicate liver disease or damage",lowIndication:"Generally not concerning"},{name:"Aspartate Aminotransferase",aliases:["AST","SGOT","Aspartate Transaminase","S-AST Aspartato Amino Trasferasi","Aspartato Amino Trasferasi","S-AST","P-AST","P-AST (aspartato aminotransferasi)","GOT","AST (GOT)"],category:"metabolic",specimenType:"serum",loincCode:"1920-8",canonicalUnit:"U/L",alternativeUnits:["IU/L"],defaultReferenceRange:{low:10,high:40,unit:"U/L"},description:"Enzyme found in liver, heart, and muscles.",highIndication:"May indicate liver or muscle damage",lowIndication:"Generally not concerning"},{name:"Alkaline Phosphatase",aliases:["ALP","Alk Phos"],category:"metabolic",specimenType:"serum",loincCode:"6768-6",canonicalUnit:"U/L",alternativeUnits:["IU/L"],defaultReferenceRange:{low:44,high:147,unit:"U/L"},description:"Enzyme from liver and bones.",highIndication:"May indicate liver or bone disease",lowIndication:"May indicate malnutrition or hypothyroidism"},{name:"Bilirubin Total",aliases:["Total Bilirubin","TBIL","Bilirubin"],category:"metabolic",specimenType:"serum",loincCode:"1975-2",canonicalUnit:"mg/dL",alternativeUnits:["mol/L"],defaultReferenceRange:{low:.1,high:1.2,unit:"mg/dL"},description:"Breakdown product of hemoglobin, processed by liver.",highIndication:"May indicate liver disease or hemolysis",lowIndication:"Generally not concerning"},{name:"Bilirubin Direct",aliases:["Direct Bilirubin","Conjugated Bilirubin","DBIL"],category:"metabolic",specimenType:"serum",loincCode:"1968-7",canonicalUnit:"mg/dL",alternativeUnits:["mol/L"],defaultReferenceRange:{low:0,high:.3,unit:"mg/dL"},description:"Bilirubin processed by the liver.",highIndication:"May indicate liver or bile duct obstruction",lowIndication:"Generally not concerning"},{name:"Gamma-Glutamyl Transferase",aliases:["GGT","Gamma GT","GGTP","S-GGT Gamma Glutamil Trasferasi","Gamma Glutamil Trasferasi","S-GGT"],category:"metabolic",specimenType:"serum",loincCode:"2324-2",canonicalUnit:"U/L",alternativeUnits:["IU/L"],defaultReferenceRange:{low:0,high:65,unit:"U/L"},description:"Liver enzyme, sensitive to alcohol and bile duct issues.",highIndication:"May indicate liver disease or alcohol use",lowIndication:"Generally not concerning"},{name:"Albumin",aliases:["Serum Albumin","ALB"],category:"metabolic",specimenType:"serum",loincCode:"1751-7",canonicalUnit:"g/dL",alternativeUnits:["g/L"],defaultReferenceRange:{low:3.5,high:5,unit:"g/dL"},description:"Main protein made by the liver.",highIndication:"May indicate dehydration",lowIndication:"May indicate liver disease or malnutrition"},{name:"Total Protein",aliases:["Protein Total","TP","Serum Protein","P-Proteine totali","Proteine totali","Proteine Totali Sieriche","Protidemia"],category:"metabolic",specimenType:"serum",loincCode:"2885-2",canonicalUnit:"g/dL",alternativeUnits:["g/L"],defaultReferenceRange:{low:6,high:8.3,unit:"g/dL"},description:"Total albumin and globulin in blood.",highIndication:"May indicate dehydration or chronic inflammation",lowIndication:"May indicate liver disease or malnutrition"},{name:"Amylase",aliases:["S-Amilasi","Amilasi","S-Amilasi Totale","Amilasi Totale","Serum Amylase","AMY"],category:"metabolic",specimenType:"serum",loincCode:"1798-8",canonicalUnit:"U/L",alternativeUnits:["IU/L"],defaultReferenceRange:{low:25,high:125,unit:"U/L"},description:"Enzyme that helps digest carbohydrates, produced by pancreas and salivary glands.",highIndication:"May indicate pancreatitis, salivary gland disorders, or bowel obstruction",lowIndication:"May indicate pancreatic insufficiency or liver disease"},{name:"Alpha-fetoprotein",aliases:["AFP","S-AFP","-fetoprotein","Alpha Fetoprotein","S-AFP alfa-fetoproteina","Alfa-fetoproteina","S-AFP Alfa-Fetoproteina"],category:"metabolic",specimenType:"serum",loincCode:"1834-1",canonicalUnit:"ng/mL",alternativeUnits:["IU/mL","kU/L","g/L"],defaultReferenceRange:{low:0,high:10,unit:"ng/mL"},description:"Protein produced by fetal liver, used as tumor marker in adults.",highIndication:"May indicate liver cancer, germ cell tumors, or liver regeneration",lowIndication:"Generally not clinically significant"}],cie=[{name:"Sexual Abstinence",aliases:["Astinenza sessuale","Abstinence","Days of Abstinence"],category:"fertility",specimenType:"semen",canonicalUnit:"days",alternativeUnits:["giorni"],defaultReferenceRange:{low:2,high:7,unit:"days"},description:"Number of days of sexual abstinence before semen collection.",highIndication:"Extended abstinence may affect sperm quality",lowIndication:"Short abstinence may result in lower sperm count"},{name:"Semen Volume",aliases:["Volume","Ejaculate Volume","Volume eiaculato","Volume sperma"],category:"fertility",specimenType:"semen",loincCode:"3168-2",canonicalUnit:"mL",alternativeUnits:["ml","cc"],defaultReferenceRange:{low:1.5,high:5,unit:"mL"},description:"Total volume of ejaculate.",highIndication:"May indicate inflammation or infection",lowIndication:"May indicate obstruction, retrograde ejaculation, or hormonal issues"},{name:"Liquefaction Time",aliases:["Fluidit completa dopo minuti","Liquefaction","Tempo di fluidificazione","Fluidificazione"],category:"fertility",specimenType:"semen",loincCode:"10604-0",canonicalUnit:"min",alternativeUnits:["minutes","minuti"],defaultReferenceRange:{low:0,high:60,unit:"min"},description:"Time for semen to liquefy after ejaculation.",highIndication:"Delayed liquefaction may affect sperm motility",lowIndication:"Normal finding"},{name:"Sperm Concentration",aliases:["Spermatozoi","Sperm Count","Concentrazione spermatozoi","Sperm Density"],category:"fertility",specimenType:"semen",loincCode:"10616-4",canonicalUnit:"mil/mL",alternativeUnits:["million/mL","10^6/mL","M/mL"],defaultReferenceRange:{low:15,high:200,unit:"mil/mL"},description:"Number of sperm per milliliter of semen.",highIndication:"Generally positive for fertility",lowIndication:"Oligozoospermia - may affect fertility"},{name:"Total Sperm Count",aliases:["Conta totale spermatozoi","Total Sperm","Numero totale spermatozoi","TSC"],category:"fertility",specimenType:"semen",loincCode:"10617-2",canonicalUnit:"million",alternativeUnits:["mil.","mil","10^6"],defaultReferenceRange:{low:39,high:500,unit:"million"},description:"Total number of sperm in the ejaculate.",highIndication:"Generally positive for fertility",lowIndication:"May indicate reduced fertility potential"},{name:"Round Cells",aliases:["Cellule rotonde","Round Cells Count"],category:"fertility",specimenType:"semen",canonicalUnit:"mil/mL",alternativeUnits:["million/mL","10^6/mL"],defaultReferenceRange:{low:0,high:5,unit:"mil/mL"},description:"Non-sperm cells in semen including white blood cells and immature germ cells.",highIndication:"May indicate infection or inflammation if >1 mil/mL are leukocytes",lowIndication:"Normal finding"},{name:"Immature Sperm Forms",aliases:["Forme immature","Immature Forms","Forme immature spermatiche"],category:"fertility",specimenType:"semen",canonicalUnit:"mil/mL",alternativeUnits:["million/mL","10^6/mL"],defaultReferenceRange:{low:0,high:1,unit:"mil/mL"},description:"Immature sperm cells in the ejaculate.",highIndication:"May indicate spermatogenesis issues",lowIndication:"Normal finding"},{name:"Progressive Motility (Rapid)",aliases:["Rapida progressiva","Progressive Motility A","PR-A","Motilit progressiva rapida","Type A Motility"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:25,high:100,unit:"%"},description:"Percentage of sperm with rapid progressive movement.",highIndication:"Positive for fertility",lowIndication:"May indicate asthenozoospermia"},{name:"Progressive Motility (Slow)",aliases:["Deb. Progressiva","Progressive Motility B","PR-B","Motilit progressiva lenta","Type B Motility","Debole progressiva"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:30,unit:"%"},description:"Percentage of sperm with slow progressive movement.",highIndication:"May indicate suboptimal motility",lowIndication:"Normal when combined with good rapid progressive motility"},{name:"Non-Progressive Motility",aliases:["In situ","Non-Progressive","Motilit non progressiva","Type C Motility","NP"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:20,unit:"%"},description:"Percentage of sperm moving but not progressing forward.",highIndication:"May affect fertility potential",lowIndication:"Normal finding"},{name:"Immotile Sperm",aliases:["Immobili","Immotile","Spermatozoi immobili","Type D Motility","IM"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:60,unit:"%"},description:"Percentage of non-moving sperm.",highIndication:"High percentage may indicate necrozoospermia or asthenozoospermia",lowIndication:"Positive for fertility"},{name:"Normal Sperm Morphology",aliases:["Forme normali","Normal Forms","Morfologia normale","Normal Morphology"],category:"fertility",specimenType:"semen",loincCode:"10619-8",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:4,high:100,unit:"%"},description:"Percentage of sperm with normal shape (WHO 5th edition criteria).",highIndication:"Positive for fertility",lowIndication:"Teratozoospermia - may affect fertility"},{name:"Head Abnormalities",aliases:["Anomalie della testa","Head Defects","Difetti della testa"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:70,unit:"%"},description:"Percentage of sperm with head defects.",highIndication:"May affect fertilization ability",lowIndication:"Normal finding"},{name:"Midpiece Abnormalities",aliases:["Anomalie del collo-tratto intermedio","Midpiece Defects","Neck Defects","Anomalie del collo","Difetti del tratto intermedio"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:20,unit:"%"},description:"Percentage of sperm with neck/midpiece defects.",highIndication:"May affect sperm motility",lowIndication:"Normal finding"},{name:"Tail Abnormalities",aliases:["Anomalie della coda","Tail Defects","Difetti della coda"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:20,unit:"%"},description:"Percentage of sperm with tail defects.",highIndication:"May affect sperm motility",lowIndication:"Normal finding"},{name:"Cytoplasmic Residue",aliases:["Forme con residui citoplasmatici","Cytoplasmic Droplet","Residui citoplasmatici","Excess Residual Cytoplasm"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:20,unit:"%"},description:"Percentage of sperm with excess cytoplasmic residue.",highIndication:"May indicate immature sperm or oxidative stress",lowIndication:"Normal finding"},{name:"Sperm Vitality",aliases:["Eosina Test","Eosin Test","Test di vitalit","Vitality","Vitalit spermatica","Eosina Test (test di vitalit)"],category:"fertility",specimenType:"semen",loincCode:"10611-5",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:58,high:100,unit:"%"},description:"Percentage of live sperm (eosin exclusion test).",highIndication:"Positive for fertility",lowIndication:"Necrozoospermia - may indicate infection or epididymal dysfunction"},{name:"Total Progressive Motility",aliases:["Motilit progressiva totale","PR","Progressive Motility","Total PR"],category:"fertility",specimenType:"semen",loincCode:"10609-9",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:32,high:100,unit:"%"},description:"Total percentage of sperm with progressive movement (rapid + slow).",highIndication:"Positive for fertility",lowIndication:"Asthenozoospermia - may affect fertility"},{name:"Total Motility",aliases:["Motilit totale","Total Motile","PR + NP"],category:"fertility",specimenType:"semen",loincCode:"10608-1",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:40,high:100,unit:"%"},description:"Total percentage of moving sperm (progressive + non-progressive).",highIndication:"Positive for fertility",lowIndication:"May affect fertility potential"},{name:"Semen pH",aliases:["pH","pH sperma","pH seminale"],category:"fertility",specimenType:"semen",loincCode:"10605-7",canonicalUnit:"",alternativeUnits:[],defaultReferenceRange:{low:7.2,high:8,unit:""},description:"Acidity/alkalinity of semen.",highIndication:"May indicate infection",lowIndication:"May indicate ejaculatory duct obstruction or seminal vesicle agenesis"}],uie=[{name:"Serum Albumin (Electrophoresis)",aliases:["S-Elettroforesi albumina","Elettroforesi albumina","Albumina (elettroforesi)","SPE Albumin","Albumina %"],category:"metabolic",specimenType:"serum",loincCode:"13980-8",canonicalUnit:"%",alternativeUnits:["g/dL","g/L"],defaultReferenceRange:{low:55,high:65,unit:"%"},description:"Albumin fraction in serum protein electrophoresis.",highIndication:"May indicate dehydration",lowIndication:"May indicate liver disease, malnutrition, or inflammation"},{name:"Alpha-1 Globulin",aliases:["S-Elettroforesi alfa-1","Elettroforesi alfa-1","Alfa-1 globulina","Alpha-1","Alfa 1","1-Globulin","alfa-1","alfa-1 (electrophoresis)","alfa-1 (elettroforesi)"],category:"metabolic",specimenType:"serum",loincCode:"13978-2",canonicalUnit:"%",alternativeUnits:["g/dL","g/L"],defaultReferenceRange:{low:2,high:5,unit:"%"},description:"Alpha-1 globulin fraction including alpha-1 antitrypsin.",highIndication:"May indicate acute inflammation",lowIndication:"May indicate alpha-1 antitrypsin deficiency"},{name:"Alpha-2 Globulin",aliases:["S-Elettroforesi alfa-2","Elettroforesi alfa-2","Alfa-2 globulina","Alpha-2","Alfa 2","2-Globulin","alfa-2","alfa-2 (electrophoresis)","alfa-2 (elettroforesi)"],category:"metabolic",specimenType:"serum",loincCode:"13979-0",canonicalUnit:"%",alternativeUnits:["g/dL","g/L"],defaultReferenceRange:{low:6,high:10,unit:"%"},description:"Alpha-2 globulin fraction including haptoglobin and macroglobulin.",highIndication:"May indicate acute inflammation or nephrotic syndrome",lowIndication:"May indicate hemolysis or malnutrition"},{name:"Beta Globulin",aliases:["S-Elettroforesi beta","Elettroforesi beta","Beta globulina","-Globulin","Beta","beta (electrophoresis)","beta (elettroforesi)"],category:"metabolic",specimenType:"serum",loincCode:"13983-2",canonicalUnit:"%",alternativeUnits:["g/dL","g/L"],defaultReferenceRange:{low:8,high:14,unit:"%"},description:"Beta globulin fraction including transferrin and complement.",highIndication:"May indicate iron deficiency or estrogen increase",lowIndication:"May indicate malnutrition"},{name:"Gamma Globulin",aliases:["S-Elettroforesi gamma","Elettroforesi gamma","Gamma globulina","-Globulin","Gamma","Immunoglobulins","gamma (electrophoresis)","gamma (elettroforesi)"],category:"metabolic",specimenType:"serum",loincCode:"2867-0",canonicalUnit:"%",alternativeUnits:["g/dL","g/L"],defaultReferenceRange:{low:12,high:20,unit:"%"},description:"Gamma globulin fraction containing immunoglobulins.",highIndication:"May indicate chronic infection, liver disease, or myeloma",lowIndication:"May indicate immunodeficiency"}],vh=[...Jre,...eie,...tie,...nie,...rie,...iie,...aie,...oie,...sie,...lie,...cie,...uie],jb={cbc:"Complete Blood Count",metabolic:"Metabolic Panel",lipid:"Lipid Panel",thyroid:"Thyroid Function",iron:"Iron Studies",vitamin:"Vitamins",urinalysis:"Urinalysis",fertility:"Semen Analysis",other:"Other"};function Bs(t){const e=t.toLowerCase().trim();return vh.find(n=>n.name.toLowerCase()===e||n.aliases.some(r=>r.toLowerCase()===e))}function die(t){const e=t.toLowerCase().trim();return e?vh.filter(n=>n.name.toLowerCase().includes(e)||n.aliases.some(r=>r.toLowerCase().includes(e))):[]}function uC(t,e,n){return`${n}_${t}_${e}`}function dC(t,e,n,r,i,a){if(n==="improvement")return`${t} has returned to normal range (${r} ${i})`;if(n==="trend")return e==="high"?`${t} has been consistently elevated`:e==="low"?`${t} has been consistently low`:`${t} has been consistently out of range`;if(e==="high"){const o=a?.high;return o!==void 0?`${t} is elevated at ${r} ${i} (reference: ${o})`:`${t} is elevated at ${r} ${i}`}else{const o=a?.low;return o!==void 0?`${t} is low at ${r} ${i} (reference: ${o})`:`${t} is low at ${r} ${i}`}}function fie(t,e,n){if(!n)return"info";if(e==="high"&&n.high!==void 0){const r=(t-n.high)/n.high*100;return r>50?"critical":r>20?"warning":"info"}if(e==="low"&&n.low!==void 0){const r=(n.low-t)/n.low*100;return r>50?"critical":r>20?"warning":"info"}return"info"}function hie(){const{results:t,isLoading:e,error:n}=yP(),[r,i]=w.useState(new Set),[a,o]=w.useState(new Set),s=w.useMemo(()=>{if(t.length===0)return[];const x=[],S=new Map;for(const T of t)for(const E of T.testValues){if(typeof E.value!="number")continue;S.has(E.biomarkerId)||S.set(E.biomarkerId,{values:[],labInfo:new Map});const k=S.get(E.biomarkerId);k.values.push(E),k.labInfo.set(E.labResultId,{date:T.date,labName:T.labName})}for(const[T,{values:E,labInfo:k}]of S.entries()){const M=E[0],D=Bs(M.rawText||""),j=D?.name||M.rawText||`Biomarker ${T}`,I=[...E].sort((B,G)=>{const V=k.get(B.labResultId)?.date.getTime()||0;return(k.get(G.labResultId)?.date.getTime()||0)-V});for(const B of I)if(B.status==="high"||B.status==="low"){const G=k.get(B.labResultId),V=uC(T,B.labResultId,"out_of_range"),K={low:B.referenceRangeLow,high:B.referenceRangeHigh};x.push({id:V,type:"out_of_range",severity:fie(B.value,B.status,K),biomarkerId:T,biomarkerName:j,category:D?.category,value:B.value,unit:B.unit,referenceRange:K,status:B.status,date:G.date,labName:G.labName,labResultId:B.labResultId,message:dC(j,B.status,"out_of_range",B.value,B.unit,K),acknowledged:a.has(V),dismissed:r.has(V)})}if(I.length>=3){const B=Xre(I,k);if(B.length>=3){const{count:G,direction:V}=Qre(B);if(G>=3&&V){const K=UF(B),te=Zre(K,G);if(te&&te!=="positive"){const X=I[0],J=k.get(X.labResultId),L=uC(T,X.labResultId,"trend");x.push({id:L,type:"trend",severity:te,biomarkerId:T,biomarkerName:j,category:D?.category,value:X.value,unit:X.unit,referenceRange:{low:X.referenceRangeLow,high:X.referenceRangeHigh},status:V,date:J.date,labName:J.labName,labResultId:X.labResultId,message:dC(j,V,"trend",X.value,X.unit),acknowledged:a.has(L),dismissed:r.has(L)})}}}}if(I.length>=2&&I[0].status==="normal"&&(I[1].status==="high"||I[1].status==="low")){const B=I[0],G=k.get(B.labResultId),V=uC(T,B.labResultId,"improvement");x.push({id:V,type:"improvement",severity:"positive",biomarkerId:T,biomarkerName:j,category:D?.category,value:B.value,unit:B.unit,referenceRange:{low:B.referenceRangeLow,high:B.referenceRangeHigh},status:"normal",date:G.date,labName:G.labName,labResultId:B.labResultId,message:dC(j,"normal","improvement",B.value,B.unit),acknowledged:a.has(V),dismissed:r.has(V)})}}const C={critical:0,warning:1,info:2,positive:3};return x.filter(T=>!T.dismissed).sort((T,E)=>{const k=C[T.severity]-C[E.severity];return k!==0?k:E.date.getTime()-T.date.getTime()})},[t,r,a]),c=w.useMemo(()=>{const x=new Map;for(const C of s)x.has(C.biomarkerId)||x.set(C.biomarkerId,[]),x.get(C.biomarkerId).push(C);const S=[];for(const[C,T]of x.entries()){const E=T[0],k=T.filter(j=>!j.acknowledged).length,M={critical:0,warning:1,info:2,positive:3},D=T.reduce((j,I)=>M[I.severity]<M[j]?I.severity:j,"positive");S.push({biomarkerId:C,biomarkerName:E.biomarkerName,category:E.category,alerts:T,latestAlert:E,unacknowledgedCount:k,severity:D})}return S.sort((C,T)=>{const E={critical:0,warning:1,info:2,positive:3},k=E[C.severity]-E[T.severity];return k!==0?k:T.unacknowledgedCount-C.unacknowledgedCount})},[s]),d=w.useMemo(()=>s.filter(x=>!x.acknowledged&&x.type!=="improvement").length,[s]),f=w.useCallback(x=>{i(S=>new Set([...S,x]))},[]),h=w.useCallback(x=>{o(S=>new Set([...S,x]))},[]),m=w.useCallback(()=>{i(new Set)},[]),v=w.useCallback(x=>x?s.filter(S=>S.category===x):s,[s]),b=w.useCallback(x=>s.filter(S=>S.biomarkerId===x),[s]);return{alerts:s,groupedAlerts:c,unacknowledgedCount:d,isLoading:e,error:n,dismissAlert:f,acknowledgeAlert:h,clearDismissed:m,filterByCategory:v,getAlertsForBiomarker:b}}function HF(t={}){const{db:e,isReady:n}=Dd(),[r,i]=w.useState([]),[a,o]=w.useState(!0),[s,c]=w.useState(null),[d,f]=w.useState(t),h=w.useCallback(async()=>{if(!(!e||!n)){o(!0),c(null);try{let E;d.labResultId!==void 0?E=await e.getNotesByLabResult(d.labResultId):d.biomarkerId!==void 0?E=await e.getNotesByBiomarker(d.biomarkerId):d.testValueId!==void 0?E=await e.getNotesByTestValue(d.testValueId):d.tag!==void 0?E=await e.getNotesByTag(d.tag):E=await e.getAllNotes();let k=E;if(d.startDate&&(k=k.filter(M=>M.createdAt>=d.startDate)),d.endDate&&(k=k.filter(M=>M.createdAt<=d.endDate)),d.searchTerm){const M=d.searchTerm.toLowerCase();k=k.filter(D=>D.content.toLowerCase().includes(M))}k.sort((M,D)=>D.createdAt.getTime()-M.createdAt.getTime()),i(k)}catch(E){console.error("Failed to fetch notes:",E),c(E instanceof Error?E.message:"Failed to fetch notes")}finally{o(!1)}}},[e,n,d]);w.useEffect(()=>{h()},[h]);const m=w.useCallback(async E=>{if(!e||!n)throw new Error("Database not available");const k=new Date,M={labResultId:E.labResultId,biomarkerId:E.biomarkerId,testValueId:E.testValueId,content:E.content,tags:E.tags||[],createdAt:k,updatedAt:k},D=await e.addNote(M);return await h(),D},[e,n,h]),v=w.useCallback(async(E,k)=>{if(!e||!n)throw new Error("Database not available");const M={updatedAt:new Date};k.content!==void 0&&(M.content=k.content),k.tags!==void 0&&(M.tags=k.tags),await e.updateNote(E,M),await h()},[e,n,h]),b=w.useCallback(async E=>{if(!e||!n)throw new Error("Database not available");await e.deleteNote(E),await h()},[e,n,h]),x=w.useCallback(E=>r.filter(k=>k.labResultId===E),[r]),S=w.useCallback(E=>r.filter(k=>k.biomarkerId===E),[r]),C=w.useCallback(E=>r.filter(k=>k.testValueId===E),[r]),T=w.useMemo(()=>{const E=new Set;for(const k of r)for(const M of k.tags)E.add(M);return Array.from(E).sort()},[r]);return{notes:r,isLoading:a,error:s,filters:d,setFilters:f,createNote:m,updateNote:v,deleteNote:b,refresh:h,getNotesForLabResult:x,getNotesForBiomarker:S,getNotesForTestValue:C,allTags:T}}function VF(){const{db:t,isReady:e}=Dd(),[n,r]=w.useState({labResults:[],testValues:[],userNotes:[],userPreferences:null,settings:null}),[i,a]=w.useState([]),[o,s]=w.useState([]),[c,d]=w.useState(!0),[f,h]=w.useState(null),m=w.useCallback(async()=>{if(!t||!e){d(!1);return}d(!0),h(null);try{const[b,x,S]=await Promise.all([t.getAllLabResults(),t.getAllTestValues(),t.getAllNotes()]);r({labResults:b,testValues:x,userNotes:S,userPreferences:null,settings:null});const T=new Map;for(const j of x){const I=T.get(j.labResultId)||[];I.push(j),T.set(j.labResultId,I)}const E=new Set;for(const j of x)E.add(j.biomarkerId);const k=new Map;for(const j of E)k.set(j,`Biomarker ${j}`);const M=b.map(j=>({labResult:j,testValues:T.get(j.id)||[],biomarkerNames:k}));a(M);const D=Array.from(E).map(j=>({value:j.toString(),label:k.get(j)||`Biomarker ${j}`}));s(D)}catch(b){const x=b instanceof Error?b.message:"Failed to load export data";h(x),console.error("Error fetching export data:",b)}finally{d(!1)}},[t,e]);w.useEffect(()=>{m()},[m]);const v=w.useCallback(async()=>{await m()},[m]);return{dataSources:n,labResultsData:i,biomarkerOptions:o,isLoading:c,error:f,refresh:v}}const Qp="hemoio_ai_api_key_encrypted",hy="hemoio_ai_api_key";function qF(){const{encryptionKey:t,status:e}=Md(),[n,r]=w.useState(!1),[i,a]=w.useState(),[o,s]=w.useState(!0),c=e==="unlocked"&&t!==null;w.useEffect(()=>{if(!c){s(!0);return}(async()=>{s(!0);try{const v=localStorage.getItem(Qp);if(v){const x=await W_(v,t);r(!0),a(x.slice(-4)),s(!1);return}const b=localStorage.getItem(hy);if(b){const x=await kb(b,t);localStorage.setItem(Qp,x),localStorage.removeItem(hy),r(!0),a(b.slice(-4)),s(!1);return}r(!1),a(void 0)}catch(v){console.error("Error checking API key:",v),r(!1),a(void 0)}finally{s(!1)}})()},[c,t]);const d=w.useCallback(async()=>{if(!c||!t)return null;try{const m=localStorage.getItem(Qp);return m?await W_(m,t):null}catch(m){return console.error("Error decrypting API key:",m),null}},[c,t]),f=w.useCallback(async m=>{if(!c||!t)throw new Error("Encryption key not available");try{const v=await kb(m,t);localStorage.setItem(Qp,v),localStorage.removeItem(hy),r(!0),a(m.slice(-4))}catch(v){throw console.error("Error encrypting API key:",v),v}},[c,t]),h=w.useCallback(()=>{localStorage.removeItem(Qp),localStorage.removeItem(hy),r(!1),a(void 0)},[]);return{isReady:c,hasApiKey:n,apiKeyLastFour:i,isLoading:o,getApiKey:d,setApiKey:f,removeApiKey:h}}const pie=new Set(["TEXTAREA","BUTTON","A","SELECT"]);function mie(t){if(t.tagName!=="INPUT")return!1;const e=t;return["text","password","email","search","tel","url","number"].includes(e.type)}function gie(t={}){const{enabled:e=!0,canSubmit:n=!0,onBeforeSubmit:r}=t,i=w.useRef(null),a=w.useCallback(o=>{if(o.key!=="Enter"||o.altKey||o.ctrlKey||o.metaKey)return;const s=o.target,c=i.current;if(!c)return;const d=c.contains(s),f=s.tagName==="BODY"||s.tagName==="HTML";if(!d&&!f||!d&&!f||d&&mie(s)||d&&pie.has(s.tagName)||d&&s.closest('[contenteditable="true"]')||(o.preventDefault(),!n)||r&&r()===!1)return;const h=new Event("submit",{bubbles:!0,cancelable:!0});c.dispatchEvent(h)},[n,r]);return w.useEffect(()=>{if(!(!e||!i.current))return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[e,a]),{formRef:i}}const vie="hemoio_storage_provider";function yie(){const{db:t,isReady:e}=Dd(),{encryptionKey:n}=Md(),r=w.useRef(!1),i=w.useRef(null),a=w.useRef(null),o=w.useRef(null),s=w.useCallback(()=>pP()?localStorage.getItem(vie)==="filesystem":!1,[]),c=w.useCallback(()=>(o.current||(o.current=new Mm),o.current),[]),d=w.useCallback(async()=>{if(!(!t||!e||!s()||!n)&&!r.current){r.current=!0,a.current=null;try{const h=c();if(await h.getPermissionState()!=="granted"){a.current="Permission required to sync to filesystem";return}const v=await t.exportAllData(),b=JSON.stringify({version:1,exportedAt:new Date().toISOString(),data:v}),S=new TextEncoder().encode(b),C=await kF(S.buffer,n);await h.save(C),i.current=new Date,console.log("Synced encrypted data to filesystem at",i.current)}catch(h){console.error("Failed to sync to filesystem:",h),a.current=h instanceof Error?h.message:"Sync failed"}finally{r.current=!1}}},[t,e,s,c,n]);return w.useEffect(()=>{if(!t||!e||!s()||!n)return;d();const h=setInterval(()=>{d()},3e4);return()=>{clearInterval(h)}},[t,e,s,d,n]),{syncNow:w.useCallback(async()=>{await d()},[d]),isSyncing:r.current,lastSyncTime:i.current,syncError:a.current}}function GF(){const{db:t,isReady:e}=Dd(),[n,r]=w.useState("openai"),[i,a]=w.useState(),[o,s]=w.useState(),[c,d]=w.useState(),[f,h]=w.useState(!0);w.useEffect(()=>{async function S(){if(!t||!e){const C=localStorage.getItem("hemoio_ai_provider"),T=localStorage.getItem("hemoio_ollama_model"),E=localStorage.getItem("hemoio_openai_model"),k=localStorage.getItem("hemoio_anthropic_model");C&&r(C),T&&a(T),E&&s(E),k&&d(k),h(!1);return}try{const C=await t.getSettings(),T=localStorage.getItem("hemoio_ai_provider"),E=localStorage.getItem("hemoio_ollama_model"),k=localStorage.getItem("hemoio_openai_model"),M=localStorage.getItem("hemoio_anthropic_model"),D=C?.aiProvider??T??"openai",j=C?.ollamaModel??E??void 0,I=C?.openaiModel??k??void 0,B=C?.anthropicModel??M??void 0;r(D),a(j),s(I),d(B),(T||E||k||M)&&(await t.saveSettings({storageProvider:C?.storageProvider??"local",aiProvider:D,ollamaModel:j,openaiModel:I,anthropicModel:B,language:C?.language??"en"}),localStorage.removeItem("hemoio_ai_provider"),localStorage.removeItem("hemoio_ollama_model"),localStorage.removeItem("hemoio_openai_model"),localStorage.removeItem("hemoio_anthropic_model"))}catch(C){console.error("Failed to load AI settings:",C)}finally{h(!1)}}S()},[t,e]);const m=w.useCallback(async S=>{if(r(S),t&&e)try{const C=await t.getSettings();await t.saveSettings({storageProvider:C?.storageProvider??"local",aiProvider:S,ollamaModel:C?.ollamaModel,openaiModel:C?.openaiModel,anthropicModel:C?.anthropicModel,language:C?.language??"en"})}catch(C){console.error("Failed to save AI provider:",C)}},[t,e]),v=w.useCallback(async S=>{if(a(S),t&&e)try{const C=await t.getSettings();await t.saveSettings({storageProvider:C?.storageProvider??"local",aiProvider:C?.aiProvider??"openai",ollamaModel:S,openaiModel:C?.openaiModel,anthropicModel:C?.anthropicModel,language:C?.language??"en"})}catch(C){console.error("Failed to save Ollama model:",C)}},[t,e]),b=w.useCallback(async S=>{if(s(S),t&&e)try{const C=await t.getSettings();await t.saveSettings({storageProvider:C?.storageProvider??"local",aiProvider:C?.aiProvider??"openai",ollamaModel:C?.ollamaModel,openaiModel:S,anthropicModel:C?.anthropicModel,language:C?.language??"en"})}catch(C){console.error("Failed to save OpenAI model:",C)}},[t,e]),x=w.useCallback(async S=>{if(d(S),t&&e)try{const C=await t.getSettings();await t.saveSettings({storageProvider:C?.storageProvider??"local",aiProvider:C?.aiProvider??"openai",ollamaModel:C?.ollamaModel,openaiModel:C?.openaiModel,anthropicModel:S,language:C?.language??"en"})}catch(C){console.error("Failed to save Anthropic model:",C)}},[t,e]);return{aiProvider:n,ollamaModel:i,openaiModel:o,anthropicModel:c,isLoading:f,setAiProvider:m,setOllamaModel:v,setOpenaiModel:b,setAnthropicModel:x}}function bie(t){return t!=="ollama"}function xie(t,e){return t===null?!1:bie(t)?e.trim().length>0:!0}function wie(t,e){return rP(t).isStrong&&t===e}function Sie(t,e){switch(t){case"local":return!0;case"filesystem":return e!=null&&e!=="";default:return!1}}const Cie="hemoio_ai_api_key_encrypted",Aie="hemoio_credentials",_ie="hemoio_storage_provider";function Eie({onComplete:t}){const{setupPassword:e}=Md(),n=qY({base:"vertical",sm:"horizontal"}),[r,i]=w.useState(0),[a,o]=w.useState(!1),[s,c]=w.useState(""),[d,f]=w.useState(""),[h,m]=w.useState("local"),[v,b]=w.useState(null),[x,S]=w.useState(null),[C,T]=w.useState(""),[E,k]=w.useState(void 0),M=w.useMemo(()=>{switch(r){case 0:return wie(s,d);case 1:return Sie(h,v);case 2:return!0;case 3:return!0;default:return!1}},[r,s,d,h,v]),{formRef:D}=gie({canSubmit:M}),j=w.useCallback(()=>{r<3&&i(K=>K+1)},[r]),I=w.useCallback(()=>{r>0&&i(K=>K-1)},[r]),B=w.useCallback(async()=>{o(!0);try{if(await e(s),localStorage.setItem(_ie,h),x){if(localStorage.setItem("hemoio_ai_provider",x),C){const K=localStorage.getItem(Aie);if(K){const te=JSON.parse(K),X=await Z_(s,te),J=await kb(C,X);localStorage.setItem(Cie,J)}}x==="ollama"&&E&&localStorage.setItem("hemoio_ollama_model",E)}t()}catch(K){console.error("Setup failed:",K)}finally{o(!1)}},[s,e,t,h,x,C,E]),G=w.useCallback(K=>{K.preventDefault(),M&&(r<3?j():B())},[r,M,j,B]),V=()=>{switch(r){case 0:return g.jsx(fre,{password:s,confirmPassword:d,onPasswordChange:c,onConfirmPasswordChange:f});case 1:return g.jsx(pre,{selectedStorage:h,onStorageChange:m,selectedDirectoryName:v,onDirectorySelect:b});case 2:return g.jsx(Lre,{aiProvider:x,apiKey:C,ollamaModel:E,onProviderChange:S,onApiKeyChange:T,onOllamaModelChange:k});case 3:return g.jsx(Tie,{storageProvider:h,directoryName:v,aiConfigured:xie(x,C)});default:return null}};return g.jsx(gg,{size:"sm",py:"xl",children:g.jsxs(tt,{gap:"xl",children:[g.jsxs("div",{children:[g.jsx(Yi,{order:1,ta:"center",children:"Welcome to HemoIO"}),g.jsx(oe,{c:"dimmed",ta:"center",mt:"sm",children:"Let's set up your secure lab results tracker"})]}),g.jsxs(zo,{active:r,onStepClick:i,allowNextStepsSelect:!1,orientation:n,"aria-label":"Setup wizard progress",children:[g.jsx(zo.Step,{label:"Security",description:"Create password",icon:g.jsx(Io,{size:18}),"aria-label":"Step 1: Security - Create password"}),g.jsx(zo.Step,{label:"Storage",description:"Choose storage",icon:g.jsx(sP,{size:18}),"aria-label":"Step 2: Storage - Choose storage"}),g.jsx(zo.Step,{label:"AI Setup",description:"Configure AI",icon:g.jsx(MF,{size:18}),"aria-label":"Step 3: AI Setup - Configure AI provider"}),g.jsx(zo.Step,{label:"Complete",description:"Get started",icon:g.jsx(On,{size:18}),"aria-label":"Step 4: Complete - Get started"})]}),g.jsxs("form",{ref:D,onSubmit:G,children:[g.jsx(Dt,{withBorder:!0,shadow:"sm",p:"xl",radius:"md",children:V()}),g.jsxs(ze,{justify:"space-between",mt:"xl",children:[g.jsx(_t,{type:"button",variant:"default",onClick:I,disabled:r===0,leftSection:g.jsx(Ax,{size:16}),"aria-label":"Go to previous step",children:"Back"}),r<3?g.jsx(_t,{type:"submit",disabled:!M,rightSection:g.jsx(zte,{size:16}),"aria-label":"Go to next step",children:"Next"}):g.jsx(_t,{type:"submit",loading:a,rightSection:g.jsx(Xne,{size:16}),color:"green","aria-label":"Complete setup and get started",children:"Get Started"})]})]})]})})}function Tie({storageProvider:t,directoryName:e,aiConfigured:n}){return g.jsxs(tt,{gap:"lg",children:[g.jsx(ze,{justify:"center",children:g.jsx(vn,{size:60,radius:"xl",color:"green",variant:"light",children:g.jsx(On,{size:30})})}),g.jsx(Yi,{order:2,ta:"center",children:"You're all set!"}),g.jsx(oe,{c:"dimmed",ta:"center",children:"Your HemoIO instance is configured and ready to use."}),g.jsxs(tt,{gap:"sm",children:[g.jsx(Dt,{withBorder:!0,p:"md",radius:"md",children:g.jsxs(ze,{children:[g.jsx(vn,{size:"md",variant:"light",color:"blue",children:g.jsx(Io,{size:16})}),g.jsxs("div",{children:[g.jsx(oe,{size:"sm",fw:500,children:"Password Protection"}),g.jsx(oe,{size:"xs",c:"dimmed",children:"Your data is encrypted with your password"})]})]})}),g.jsx(Dt,{withBorder:!0,p:"md",radius:"md",children:g.jsxs(ze,{children:[g.jsx(vn,{size:"md",variant:"light",color:"blue",children:g.jsx(sP,{size:16})}),g.jsxs("div",{children:[g.jsx(oe,{size:"sm",fw:500,children:t==="local"?"Local Storage":t==="filesystem"?`Local Directory: ${e}`:t}),g.jsx(oe,{size:"xs",c:"dimmed",children:t==="filesystem"?"Data stored in selected folder":"Data stored on this device"})]})]})}),g.jsx(Dt,{withBorder:!0,p:"md",radius:"md",children:g.jsxs(ze,{children:[g.jsx(vn,{size:"md",variant:"light",color:n?"blue":"gray",children:g.jsx(MF,{size:16})}),g.jsxs("div",{children:[g.jsx(oe,{size:"sm",fw:500,children:"AI Document Analysis"}),g.jsx(oe,{size:"xs",c:"dimmed",children:n?"Configured and ready":"Not configured - manual entry only"})]})]})})]}),!n&&g.jsx(It,{variant:"light",color:"yellow",title:"AI not configured",children:"You can configure AI document analysis later in Settings to enable automatic extraction from lab reports."})]})}function kie(){const{unlock:t}=Md(),[e,n]=w.useState(""),[r,i]=w.useState(!1),[a,o]=w.useState(null),[s,c]=w.useState(!1),d=w.useRef(null);w.useEffect(()=>{d.current?.focus()},[]);const f=w.useCallback(async m=>{m.preventDefault(),o(null),c(!0);try{await t(e)||(o("Incorrect password"),n(""),d.current?.focus())}catch{o("An error occurred. Please try again.")}finally{c(!1)}},[e,t]),h=w.useCallback(m=>{n(m.target.value),a&&o(null)},[a]);return g.jsx(gg,{size:"xs",py:"xl",children:g.jsxs(tt,{gap:"xl",children:[g.jsx(qa,{children:g.jsx(vn,{size:80,radius:"xl",variant:"light",color:"blue",children:g.jsx(Io,{size:40})})}),g.jsxs("div",{children:[g.jsx(Yi,{order:1,ta:"center",children:"HemoIO"}),g.jsx(oe,{c:"dimmed",ta:"center",mt:"xs",children:"Enter your password to unlock your lab data"})]}),g.jsx(Dt,{withBorder:!0,shadow:"md",p:"xl",radius:"md",children:g.jsx("form",{onSubmit:f,children:g.jsxs(tt,{gap:"lg",children:[a&&g.jsx(It,{variant:"light",color:"red",icon:g.jsx(la,{size:16}),title:"Error",role:"alert",children:a}),g.jsx(Ms,{ref:d,label:"Password",placeholder:"Enter your password",value:e,onChange:h,visible:r,onVisibilityChange:i,error:a?!0:void 0,disabled:s,"aria-label":"Password","aria-invalid":a?"true":"false",required:!0}),g.jsx(_t,{type:"submit",fullWidth:!0,loading:s,disabled:e.length===0,leftSection:g.jsx(Io,{size:16}),children:"Unlock"})]})})}),g.jsx(oe,{size:"xs",c:"dimmed",ta:"center",children:"Your data is encrypted locally and never leaves your device."})]})})}const Pie=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function yh(t,e,n){const r=Oie(t),{webkitRelativePath:i}=t,a=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&hL(r,"path",a),hL(r,"relativePath",a),r}function Oie(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=Pie.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function hL(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Mie=[".DS_Store","Thumbs.db"];function Die(t){return Ad(this,void 0,void 0,function*(){return Rb(t)&&jie(t.dataTransfer)?Iie(t.dataTransfer,t.type):Rie(t)?Lie(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?Nie(t):[]})}function jie(t){return Rb(t)}function Rie(t){return Rb(t)&&Rb(t.target)}function Rb(t){return typeof t=="object"&&t!==null}function Lie(t){return eE(t.target.files).map(e=>yh(e))}function Nie(t){return Ad(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>yh(n))})}function Iie(t,e){return Ad(this,void 0,void 0,function*(){if(t.items){const n=eE(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(zie));return pL(YF(r))}return pL(eE(t.files).map(n=>yh(n)))})}function pL(t){return t.filter(e=>Mie.indexOf(e.name)===-1)}function eE(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function zie(t){if(typeof t.webkitGetAsEntry!="function")return mL(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?KF(e):mL(t,e)}function YF(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?YF(n):[n]],[])}function mL(t,e){return Ad(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const a=yield t.getAsFileSystemHandle();if(a===null)throw new Error(`${t} is not a File`);if(a!==void 0){const o=yield a.getFile();return o.handle=a,yh(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return yh(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function Bie(t){return Ad(this,void 0,void 0,function*(){return t.isDirectory?KF(t):$ie(t)})}function KF(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function a(){e.readEntries(o=>Ad(this,void 0,void 0,function*(){if(o.length){const s=Promise.all(o.map(Bie));i.push(s),a()}else try{const s=yield Promise.all(i);n(s)}catch(s){r(s)}}),o=>{r(o)})}a()})}function $ie(t){return Ad(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=yh(r,t.fullPath);e(i)},r=>{n(r)})})})}var py={},gL;function Fie(){return gL||(gL=1,py.__esModule=!0,py.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(o){var s=o.trim().toLowerCase();return s.charAt(0)==="."?r.toLowerCase().endsWith(s):s.endsWith("/*")?a===s.replace(/\/.*$/,""):i===s})}return!0}),py}var Uie=Fie();const fC=ua(Uie);function vL(t){return qie(t)||Vie(t)||XF(t)||Hie()}function Hie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qie(t){if(Array.isArray(t))return tE(t)}function yL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(n),!0).forEach(function(r){WF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $m(t,e){return Kie(t)||Yie(t,e)||XF(t,e)||Gie()}function Gie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XF(t,e){if(t){if(typeof t=="string")return tE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tE(t,e)}}function tE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){a=!0,s=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function Kie(t){if(Array.isArray(t))return t}var Wie=typeof fC=="function"?fC:fC.default,Xie="file-invalid-type",Zie="file-too-large",Qie="file-too-small",Jie="too-many-files",eae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:Xie,message:"File type must be ".concat(r)}},xL=function(e){return{code:Zie,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},wL=function(e){return{code:Qie,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},tae={code:Jie,message:"Too many files"};function ZF(t,e){var n=t.type==="application/x-moz-file"||Wie(t,e);return[n,n?null:eae(e)]}function QF(t,e,n){if(Vu(t.size))if(Vu(e)&&Vu(n)){if(t.size>n)return[!1,xL(n)];if(t.size<e)return[!1,wL(e)]}else{if(Vu(e)&&t.size<e)return[!1,wL(e)];if(Vu(n)&&t.size>n)return[!1,xL(n)]}return[!0,null]}function Vu(t){return t!=null}function nae(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,a=t.multiple,o=t.maxFiles,s=t.validator;return!a&&e.length>1||a&&o>=1&&e.length>o?!1:e.every(function(c){var d=ZF(c,n),f=$m(d,1),h=f[0],m=QF(c,r,i),v=$m(m,1),b=v[0],x=s?s(c):null;return h&&b&&!x})}function Lb(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function my(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function SL(t){t.preventDefault()}function rae(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function iae(t){return t.indexOf("Edge/")!==-1}function aae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return rae(t)||iae(t)}function ds(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return e.some(function(s){return!Lb(r)&&s&&s.apply(void 0,[r].concat(a)),Lb(r)})}}function oae(){return"showOpenFilePicker"in window}function sae(t){if(Vu(t)){var e=Object.entries(t).filter(function(n){var r=$m(n,2),i=r[0],a=r[1],o=!0;return JF(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(e6))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=$m(r,2),a=i[0],o=i[1];return bL(bL({},n),{},WF({},a,o))},{});return[{description:"Files",accept:e}]}return t}function lae(t){if(Vu(t))return Object.entries(t).reduce(function(e,n){var r=$m(n,2),i=r[0],a=r[1];return[].concat(vL(e),[i],vL(a))},[]).filter(function(e){return JF(e)||e6(e)}).join(",")}function cae(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function uae(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function JF(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function e6(t){return/^.*\.[\w]+$/.test(t)}var dae=["children"],fae=["open"],hae=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],pae=["refKey","onChange","onClick"];function mae(t){return yae(t)||vae(t)||t6(t)||gae()}function gae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yae(t){if(Array.isArray(t))return nE(t)}function hC(t,e){return wae(t)||xae(t,e)||t6(t,e)||bae()}function bae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t6(t,e){if(t){if(typeof t=="string")return nE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nE(t,e)}}function nE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){a=!0,s=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function wae(t){if(Array.isArray(t))return t}function CL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(n),!0).forEach(function(r){rE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nb(t,e){if(t==null)return{};var n=Sae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var bP=w.forwardRef(function(t,e){var n=t.children,r=Nb(t,dae),i=r6(r),a=i.open,o=Nb(i,fae);return w.useImperativeHandle(e,function(){return{open:a}},[a]),sr.createElement(w.Fragment,null,n(hr(hr({},o),{},{open:a})))});bP.displayName="Dropzone";var n6={disabled:!1,getFilesFromEvent:Die,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};bP.defaultProps=n6;bP.propTypes={children:Vn.func,accept:Vn.objectOf(Vn.arrayOf(Vn.string)),multiple:Vn.bool,preventDropOnDocument:Vn.bool,noClick:Vn.bool,noKeyboard:Vn.bool,noDrag:Vn.bool,noDragEventsBubbling:Vn.bool,minSize:Vn.number,maxSize:Vn.number,maxFiles:Vn.number,disabled:Vn.bool,getFilesFromEvent:Vn.func,onFileDialogCancel:Vn.func,onFileDialogOpen:Vn.func,useFsAccessApi:Vn.bool,autoFocus:Vn.bool,onDragEnter:Vn.func,onDragLeave:Vn.func,onDragOver:Vn.func,onDrop:Vn.func,onDropAccepted:Vn.func,onDropRejected:Vn.func,onError:Vn.func,validator:Vn.func};var iE={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function r6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=hr(hr({},n6),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,o=e.minSize,s=e.multiple,c=e.maxFiles,d=e.onDragEnter,f=e.onDragLeave,h=e.onDragOver,m=e.onDrop,v=e.onDropAccepted,b=e.onDropRejected,x=e.onFileDialogCancel,S=e.onFileDialogOpen,C=e.useFsAccessApi,T=e.autoFocus,E=e.preventDropOnDocument,k=e.noClick,M=e.noKeyboard,D=e.noDrag,j=e.noDragEventsBubbling,I=e.onError,B=e.validator,G=w.useMemo(function(){return lae(n)},[n]),V=w.useMemo(function(){return sae(n)},[n]),K=w.useMemo(function(){return typeof S=="function"?S:AL},[S]),te=w.useMemo(function(){return typeof x=="function"?x:AL},[x]),X=w.useRef(null),J=w.useRef(null),L=w.useReducer(Cae,iE),U=hC(L,2),F=U[0],q=U[1],W=F.isFocused,z=F.isFileDialogActive,Y=w.useRef(typeof window<"u"&&window.isSecureContext&&C&&oae()),ne=function(){!Y.current&&z&&setTimeout(function(){if(J.current){var at=J.current.files;at.length||(q({type:"closeDialog"}),te())}},300)};w.useEffect(function(){return window.addEventListener("focus",ne,!1),function(){window.removeEventListener("focus",ne,!1)}},[J,z,te,Y]);var ie=w.useRef([]),ue=function(at){X.current&&X.current.contains(at.target)||(at.preventDefault(),ie.current=[])};w.useEffect(function(){return E&&(document.addEventListener("dragover",SL,!1),document.addEventListener("drop",ue,!1)),function(){E&&(document.removeEventListener("dragover",SL),document.removeEventListener("drop",ue))}},[X,E]),w.useEffect(function(){return!r&&T&&X.current&&X.current.focus(),function(){}},[X,T,r]);var we=w.useCallback(function(Be){I?I(Be):console.error(Be)},[I]),be=w.useCallback(function(Be){Be.preventDefault(),Be.persist(),Je(Be),ie.current=[].concat(mae(ie.current),[Be.target]),my(Be)&&Promise.resolve(i(Be)).then(function(at){if(!(Lb(Be)&&!j)){var Ge=at.length,Ve=Ge>0&&nae({files:at,accept:G,minSize:o,maxSize:a,multiple:s,maxFiles:c,validator:B}),Jt=Ge>0&&!Ve;q({isDragAccept:Ve,isDragReject:Jt,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Be)}}).catch(function(at){return we(at)})},[i,d,we,j,G,o,a,s,c,B]),qe=w.useCallback(function(Be){Be.preventDefault(),Be.persist(),Je(Be);var at=my(Be);if(at&&Be.dataTransfer)try{Be.dataTransfer.dropEffect="copy"}catch{}return at&&h&&h(Be),!1},[h,j]),ae=w.useCallback(function(Be){Be.preventDefault(),Be.persist(),Je(Be);var at=ie.current.filter(function(Ve){return X.current&&X.current.contains(Ve)}),Ge=at.indexOf(Be.target);Ge!==-1&&at.splice(Ge,1),ie.current=at,!(at.length>0)&&(q({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),my(Be)&&f&&f(Be))},[X,f,j]),se=w.useCallback(function(Be,at){var Ge=[],Ve=[];Be.forEach(function(Jt){var bn=ZF(Jt,G),Vt=hC(bn,2),Tn=Vt[0],Yt=Vt[1],Xn=QF(Jt,o,a),xn=hC(Xn,2),Nt=xn[0],et=xn[1],gr=B?B(Jt):null;if(Tn&&Nt&&!gr)Ge.push(Jt);else{var wn=[Yt,et];gr&&(wn=wn.concat(gr)),Ve.push({file:Jt,errors:wn.filter(function(Jr){return Jr})})}}),(!s&&Ge.length>1||s&&c>=1&&Ge.length>c)&&(Ge.forEach(function(Jt){Ve.push({file:Jt,errors:[tae]})}),Ge.splice(0)),q({acceptedFiles:Ge,fileRejections:Ve,isDragReject:Ve.length>0,type:"setFiles"}),m&&m(Ge,Ve,at),Ve.length>0&&b&&b(Ve,at),Ge.length>0&&v&&v(Ge,at)},[q,s,G,o,a,c,m,v,b,B]),Le=w.useCallback(function(Be){Be.preventDefault(),Be.persist(),Je(Be),ie.current=[],my(Be)&&Promise.resolve(i(Be)).then(function(at){Lb(Be)&&!j||se(at,Be)}).catch(function(at){return we(at)}),q({type:"reset"})},[i,se,we,j]),de=w.useCallback(function(){if(Y.current){q({type:"openDialog"}),K();var Be={multiple:s,types:V};window.showOpenFilePicker(Be).then(function(at){return i(at)}).then(function(at){se(at,null),q({type:"closeDialog"})}).catch(function(at){cae(at)?(te(at),q({type:"closeDialog"})):uae(at)?(Y.current=!1,J.current?(J.current.value=null,J.current.click()):we(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):we(at)});return}J.current&&(q({type:"openDialog"}),K(),J.current.value=null,J.current.click())},[q,K,te,C,se,we,V,s]),He=w.useCallback(function(Be){!X.current||!X.current.isEqualNode(Be.target)||(Be.key===" "||Be.key==="Enter"||Be.keyCode===32||Be.keyCode===13)&&(Be.preventDefault(),de())},[X,de]),Re=w.useCallback(function(){q({type:"focus"})},[]),ct=w.useCallback(function(){q({type:"blur"})},[]),Qe=w.useCallback(function(){k||(aae()?setTimeout(de,0):de())},[k,de]),Ue=function(at){return r?null:at},We=function(at){return M?null:Ue(at)},rt=function(at){return D?null:Ue(at)},Je=function(at){j&&at.stopPropagation()},St=w.useMemo(function(){return function(){var Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},at=Be.refKey,Ge=at===void 0?"ref":at,Ve=Be.role,Jt=Be.onKeyDown,bn=Be.onFocus,Vt=Be.onBlur,Tn=Be.onClick,Yt=Be.onDragEnter,Xn=Be.onDragOver,xn=Be.onDragLeave,Nt=Be.onDrop,et=Nb(Be,hae);return hr(hr(rE({onKeyDown:We(ds(Jt,He)),onFocus:We(ds(bn,Re)),onBlur:We(ds(Vt,ct)),onClick:Ue(ds(Tn,Qe)),onDragEnter:rt(ds(Yt,be)),onDragOver:rt(ds(Xn,qe)),onDragLeave:rt(ds(xn,ae)),onDrop:rt(ds(Nt,Le)),role:typeof Ve=="string"&&Ve!==""?Ve:"presentation"},Ge,X),!r&&!M?{tabIndex:0}:{}),et)}},[X,He,Re,ct,Qe,be,qe,ae,Le,M,D,r]),ft=w.useCallback(function(Be){Be.stopPropagation()},[]),vt=w.useMemo(function(){return function(){var Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},at=Be.refKey,Ge=at===void 0?"ref":at,Ve=Be.onChange,Jt=Be.onClick,bn=Nb(Be,pae),Vt=rE({accept:G,multiple:s,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ue(ds(Ve,Le)),onClick:Ue(ds(Jt,ft)),tabIndex:-1},Ge,J);return hr(hr({},Vt),bn)}},[J,n,s,Le,r]);return hr(hr({},F),{},{isFocused:W&&!r,getRootProps:St,getInputProps:vt,rootRef:X,inputRef:J,open:Ue(de)})}function Cae(t,e){switch(e.type){case"focus":return hr(hr({},t),{},{isFocused:!0});case"blur":return hr(hr({},t),{},{isFocused:!1});case"openDialog":return hr(hr({},iE),{},{isFileDialogActive:!0});case"closeDialog":return hr(hr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return hr(hr({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return hr(hr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return hr({},iE);default:return t}}function AL(){}const[Aae,_ae]=da("Dropzone component was not found in tree");var Fm={root:"m_d46a4834",inner:"m_b85f7144",fullScreen:"m_96f6e9ad",dropzone:"m_7946116d"};function xP(t){const e=n=>{const{children:r,...i}=Pe(`Dropzone${eR(t)}`,{},n),a=_ae(),o=wT(r)?r:g.jsx("span",{children:r});return a[t]?w.cloneElement(o,i):null};return e.displayName=`@mantine/dropzone/${eR(t)}`,e}const Eae=xP("accept"),Tae=xP("reject"),kae=xP("idle"),Pae={multiple:!0,maxSize:1/0,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0,variant:"light",rejectColor:"red"},Oae=(t,{radius:e,variant:n,acceptColor:r,rejectColor:i})=>{const a=t.variantColorResolver({color:r||t.primaryColor,theme:t,variant:n}),o=t.variantColorResolver({color:i||"red",theme:t,variant:n});return{root:{"--dropzone-radius":En(e),"--dropzone-accept-color":a.color,"--dropzone-accept-bg":a.background,"--dropzone-reject-color":o.color,"--dropzone-reject-bg":o.background}}},eu=Fe((t,e)=>{const n=Pe("Dropzone",Pae,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,radius:d,disabled:f,loading:h,multiple:m,maxSize:v,accept:b,children:x,onDropAny:S,onDrop:C,onReject:T,openRef:E,name:k,maxFiles:M,autoFocus:D,activateOnClick:j,activateOnDrag:I,dragEventsBubbling:B,activateOnKeyboard:G,onDragEnter:V,onDragLeave:K,onDragOver:te,onFileDialogCancel:X,onFileDialogOpen:J,preventDropOnDocument:L,useFsAccessApi:U,getFilesFromEvent:F,validator:q,rejectColor:W,acceptColor:z,enablePointerEvents:Y,loaderProps:ne,inputProps:ie,mod:ue,attributes:we,...be}=n,qe=ut({name:"Dropzone",classes:Fm,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:we,vars:c,varsResolver:Oae}),{getRootProps:ae,getInputProps:se,isDragAccept:Le,isDragReject:de,isDragActive:He,open:Re}=r6({onDrop:S,onDropAccepted:C,onDropRejected:T,disabled:f||h,accept:Array.isArray(b)?b.reduce((We,rt)=>({...We,[rt]:[]}),{}):b,multiple:m,maxSize:v,maxFiles:M,autoFocus:D,noClick:!j,noDrag:!I,noDragEventsBubbling:!B,noKeyboard:!G,onDragEnter:V,onDragLeave:K,onDragOver:te,onFileDialogCancel:X,onFileDialogOpen:J,preventDropOnDocument:L,useFsAccessApi:U,validator:q,...F?{getFilesFromEvent:F}:null});lh(E,Re);const ct=He&&Le,Qe=He&&de,Ue=!ct&&!Qe;return g.jsx(Aae,{value:{accept:ct,reject:Qe,idle:Ue},children:g.jsxs(De,{...ae(),...qe("root",{focusable:!0}),...be,mod:[{accept:ct,reject:Qe,idle:Ue,disabled:f,loading:h,"activate-on-click":j},ue],children:[g.jsx(sx,{visible:h,overlayProps:{radius:d},unstyled:s,loaderProps:ne}),g.jsx("input",{...se(ie),name:k}),g.jsx("div",{...qe("inner"),ref:e,"data-enable-pointer-events":Y||void 0,children:x})]})})});eu.classes=Fm;eu.displayName="@mantine/dropzone/Dropzone";eu.Accept=Eae;eu.Idle=kae;eu.Reject=Tae;const Mae={maxSize:1/0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:Wa("max"),withinPortal:!0},wP=Fe((t,e)=>{const n=Pe("DropzoneFullScreen",Mae,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,active:d,onDrop:f,onReject:h,zIndex:m,withinPortal:v,portalProps:b,attributes:x,...S}=n,C=ut({name:"DropzoneFullScreen",classes:Fm,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:x,rootSelector:"fullScreen"}),{resolvedClassNames:T,resolvedStyles:E}=ka({classNames:r,styles:o,props:n}),[k,M]=w.useState(0),[D,{open:j,close:I}]=F0(!1),B=V=>{V.dataTransfer?.types.includes("Files")&&(M(K=>K+1),j())},G=()=>{M(V=>V-1)};return w.useEffect(()=>{k===0&&I()},[k]),w.useEffect(()=>{if(d)return document.addEventListener("dragenter",B,!1),document.addEventListener("dragleave",G,!1),()=>{document.removeEventListener("dragenter",B,!1),document.removeEventListener("dragleave",G,!1)}},[d]),g.jsx(Pl,{...b,withinPortal:v,children:g.jsx(De,{ref:e,...C("fullScreen",{style:{opacity:D?1:0,pointerEvents:D?"all":"none",zIndex:m}}),children:g.jsx(eu,{activateOnClick:!1,...S,classNames:T,styles:E,unstyled:s,className:Fm.dropzone,onDrop:V=>{f?.(V),I(),M(0)},onReject:V=>{h?.(V),I(),M(0)}})})})});wP.classes=Fm;wP.displayName="@mantine/dropzone/DropzoneFullScreen";const Jp={png:"image/png",gif:"image/gif",jpeg:"image/jpeg",webp:"image/webp",pdf:"application/pdf"};eu.FullScreen=wP;const gy=eu,ra=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),aE=[.001,0,0,.001,0,0],pC=1.35,Ba={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Bc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Um="pdfjs_internal_editor_",Ht={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},ln={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Dae={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},oE={TRIANGLES:1,LATTICE:2},Yr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},tb={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Nr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Uf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Px={ERRORS:0,WARNINGS:1,INFOS:5},pd={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},em={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},jae={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Ox=Px.WARNINGS;function Rae(t){Number.isInteger(t)&&(Ox=t)}function Lae(){return Ox}function Mx(t){Ox>=Px.INFOS&&console.info(`Info: ${t}`)}function Ft(t){Ox>=Px.WARNINGS&&console.warn(`Warning: ${t}`)}function Gn(t){throw new Error(t)}function cn(t,e){t||Gn(e)}function Nae(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function i6(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"&&(n.addDefaultProtocol&&t.startsWith("www.")&&t.match(/\./g)?.length>=2&&(t=`http://${t}`),n.tryConvertEncoding))try{t=Fae(t)}catch{}const r=e?URL.parse(t,e):URL.parse(t);return Nae(r)?r:null}function a6(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&i6(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ut(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const jd=(function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class _L extends jd{constructor(e,n){super(e,"PasswordException"),this.code=n}}class mC extends jd{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class sE extends jd{constructor(e){super(e,"InvalidPDFException")}}class Ib extends jd{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class Iae extends jd{constructor(e){super(e,"FormatError")}}class Gc extends jd{constructor(e){super(e,"AbortException")}}function o6(t){(typeof t!="object"||t?.length===void 0)&&Gn("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const a=Math.min(i+n,e),o=t.subarray(i,a);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function xg(t){typeof t!="string"&&Gn("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function zae(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function Bae(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function $ae(){try{return new Function(""),!0}catch{return!1}}class Wr{static get isLittleEndian(){return Ut(this,"isLittleEndian",Bae())}static get isEvalSupported(){return Ut(this,"isEvalSupported",$ae())}static get isOffscreenCanvasSupported(){return Ut(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ut(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Ut(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Ut(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return Ut(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){return Ut(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const gC=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class gt{static makeHexColor(e,n,r){return`#${gC[e]}${gC[n]}${gC[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],a=e[r+1];e[r]=i*n[0]+a*n[2]+n[4],e[r+1]=i*n[1]+a*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],a=n[1],o=n[2],s=n[3],c=n[4],d=n[5];for(let f=0;f<6;f+=2){const h=e[r+f],m=e[r+f+1];e[r+f]=h*i+m*o+c,e[r+f+1]=h*a+m*s+d}}static applyInverseTransform(e,n){const r=e[0],i=e[1],a=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/a,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/a}static axialAlignedBoundingBox(e,n,r){const i=n[0],a=n[1],o=n[2],s=n[3],c=n[4],d=n[5],f=e[0],h=e[1],m=e[2],v=e[3];let b=i*f+c,x=b,S=i*m+c,C=S,T=s*h+d,E=T,k=s*v+d,M=k;if(a!==0||o!==0){const D=a*f,j=a*m,I=o*h,B=o*v;b+=I,C+=I,S+=B,x+=B,T+=D,M+=D,k+=j,E+=j}r[0]=Math.min(r[0],b,S,x,C),r[1]=Math.min(r[1],T,k,E,M),r[2]=Math.max(r[2],b,S,x,C),r[3]=Math.max(r[3],T,k,E,M)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],a=e[2],o=e[3],s=r**2+i**2,c=r*a+i*o,d=a**2+o**2,f=(s+d)/2,h=Math.sqrt(f**2-(s*d-c**2));n[0]=Math.sqrt(f+h||1),n[1]=Math.sqrt(f-h||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return a>o?null:[r,a,i,o]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,a){a[0]=Math.min(a[0],e,r),a[1]=Math.min(a[1],n,i),a[2]=Math.max(a[2],e,r),a[3]=Math.max(a[3],n,i)}static#e(e,n,r,i,a,o,s,c,d,f){if(d<=0||d>=1)return;const h=1-d,m=d*d,v=m*d,b=h*(h*(h*e+3*d*n)+3*m*r)+v*i,x=h*(h*(h*a+3*d*o)+3*m*s)+v*c;f[0]=Math.min(f[0],b),f[1]=Math.min(f[1],x),f[2]=Math.max(f[2],b),f[3]=Math.max(f[3],x)}static#t(e,n,r,i,a,o,s,c,d,f,h,m){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&this.#e(e,n,r,i,a,o,s,c,-h/f,m);return}const v=f**2-4*h*d;if(v<0)return;const b=Math.sqrt(v),x=2*d;this.#e(e,n,r,i,a,o,s,c,(-f+b)/x,m),this.#e(e,n,r,i,a,o,s,c,(-f-b)/x,m)}static bezierBoundingBox(e,n,r,i,a,o,s,c,d){d[0]=Math.min(d[0],e,s),d[1]=Math.min(d[1],n,c),d[2]=Math.max(d[2],e,s),d[3]=Math.max(d[3],n,c),this.#t(e,r,a,s,n,i,o,c,3*(-e+3*(r-a)+s),6*(e-2*r+a),3*(r-e),d),this.#t(e,r,a,s,n,i,o,c,3*(-n+3*(i-o)+c),6*(n-2*i+o),3*(i-n),d)}}function Fae(t){return decodeURIComponent(escape(t))}let vC=null,EL=null;function Uae(t){return vC||(vC=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,EL=new Map([["","t"]])),t.replaceAll(vC,(e,n,r)=>n?n.normalize("NFKC"):EL.get(r))}function s6(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),o6(t)}const Gf="pdfjs_internal_id_";function Hae(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...a]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const o=a.length;let s=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;s=!1;break;default:return!1}for(const c of a)if(!(typeof c=="number"||s&&c===null))return!1;return!0}function ia(t,e,n){return Math.min(Math.max(t,e),n)}function l6(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(o6(t))}function Vae(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):xg(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class Hm{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(a){if(!a)return;let o=null;const s=a.name;if(s==="#text")o=a.value;else if(Hm.shouldBuildText(s))a?.attributes?.textContent?o=a.attributes.textContent:a.value&&(o=a.value);else return;if(o!==null&&n.push({str:o}),!!a.children)for(const c of a.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class c6{static setupStorage(e,n,r,i,a){const o=i.getValue(n,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),a==="print")break;e.addEventListener("input",s=>{i.setValue(n,{value:s.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",s=>{i.setValue(n,{value:s.target.checked?s.target.getAttribute("xfaOn"):s.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),a==="print")break;e.addEventListener("input",s=>{i.setValue(n,{value:s.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const s of r.children)s.attributes.value===o.value?s.attributes.selected=!0:s.attributes.hasOwnProperty("selected")&&delete s.attributes.selected}e.addEventListener("input",s=>{const c=s.target.options,d=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(n,{value:d})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:a}){const{attributes:o}=n,s=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[c,d]of Object.entries(o))if(d!=null)switch(c){case"class":d.length&&e.setAttribute(c,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!s||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,d)}s&&a.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,n,r)}static render(e){const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,a=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:a,linkService:r});const s=a!=="richText",c=e.div;if(c.append(o),e.viewport){const h=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=h}s&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const h=document.createTextNode(i.value);o.append(h),s&&Hm.shouldBuildText(i.name)&&d.push(h)}return{textDivs:d}}const f=[[i,-1,o]];for(;f.length>0;){const[h,m,v]=f.at(-1);if(m+1===h.children.length){f.pop();continue}const b=h.children[++f.at(-1)[1]];if(b===null)continue;const{name:x}=b;if(x==="#text"){const C=document.createTextNode(b.value);d.push(C),v.append(C);continue}const S=b?.attributes?.xmlns?document.createElementNS(b.attributes.xmlns,x):document.createElement(x);if(v.append(S),b.attributes&&this.setAttributes({html:S,element:b,storage:n,intent:a,linkService:r}),b.children?.length>0)f.push([b,-1,S]);else if(b.value){const C=document.createTextNode(b.value);s&&Hm.shouldBuildText(x)&&d.push(C),S.append(C)}}for(const h of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const ml="http://www.w3.org/2000/svg";class bh{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function wg(t,e="text"){if(bm(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Sg{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:a=0,offsetY:o=0,dontFlip:s=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=o,r*=n;const c=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let f,h,m,v;switch(i%=360,i<0&&(i+=360),i){case 180:f=-1,h=0,m=0,v=1;break;case 90:f=0,h=1,m=1,v=0;break;case 270:f=0,h=-1,m=-1,v=0;break;case 0:f=1,h=0,m=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(m=-m,v=-v);let b,x,S,C;f===0?(b=Math.abs(d-e[1])*r+a,x=Math.abs(c-e[0])*r+o,S=(e[3]-e[1])*r,C=(e[2]-e[0])*r):(b=Math.abs(c-e[0])*r+a,x=Math.abs(d-e[1])*r+o,S=(e[2]-e[0])*r,C=(e[3]-e[1])*r),this.transform=[f*r,h*r,m*r,v*r,b-f*r*c-m*r*d,x-h*r*c-v*r*d],this.width=S,this.height=C}get rawDims(){const e=this.viewBox;return Ut(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new Sg({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}convertToViewportPoint(e,n){const r=[e,n];return gt.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];gt.applyTransform(n,this.transform);const r=[e[2],e[3]];return gt.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return gt.applyInverseTransform(r,this.transform),r}}class SP extends jd{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function Dx(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function CP(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function qae(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Gae(t,e="document.pdf"){if(typeof t!="string")return e;if(Dx(t))return Ft('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(s=>{try{return new URL(s)}catch{try{return new URL(decodeURIComponent(s))}catch{try{return new URL(s,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(s),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=s=>{try{let c=decodeURIComponent(s);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:s):c}catch{return s}},a=/\.pdf$/i,o=r.pathname.split("/").at(-1);if(a.test(o))return i(o);if(r.searchParams.size>0){const s=Array.from(r.searchParams.values()).reverse();for(const d of s)if(a.test(d))return i(d);const c=Array.from(r.searchParams.keys()).reverse();for(const d of c)if(a.test(d))return i(d)}if(r.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(c)return i(c[0])}return e}class TL{started=Object.create(null);times=[];time(e){e in this.started&&Ft(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ft(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:a}of this.times)e.push(`${r.padEnd(n)} ${a-i}ms
`);return e.join("")}}function bm(t,e){const n=e?URL.parse(t,e):URL.parse(t);return n?.protocol==="http:"||n?.protocol==="https:"}function Ao(t){t.preventDefault()}function wr(t){t.preventDefault(),t.stopPropagation()}function Yae(t){console.log("Deprecated API usage: "+t)}class lE{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#e.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;let o=parseInt(n[4],10);o=o>=0&&o<=23?o:0;let s=parseInt(n[5],10);s=s>=0&&s<=59?s:0;let c=parseInt(n[6],10);c=c>=0&&c<=59?c:0;const d=n[7]||"Z";let f=parseInt(n[8],10);f=f>=0&&f<=23?f:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,d==="-"?(o+=f,s+=h):d==="+"&&(o-=f,s-=h),new Date(Date.UTC(r,i,a,o,s,c))}}function Kae(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,a=[0,0,parseInt(r),parseInt(i)];return new Sg({viewBox:a,userUnit:1,scale:e,rotation:n})}function Cg(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ft(`Not a valid color format: "${t}"`),[0,0,0])}function Wae(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Cg(r))}e.remove()}function fr(t){const{a:e,b:n,c:r,d:i,e:a,f:o}=t.getTransform();return[e,n,r,i,a,o]}function fs(t){const{a:e,b:n,c:r,d:i,e:a,f:o}=t.getTransform().invertSelf();return[e,n,r,i,a,o]}function md(t,e,n=!1,r=!0){if(e instanceof Sg){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:o}=t,s=Wr.isCSSRoundSupported,c=`var(--total-scale-factor) * ${i}px`,d=`var(--total-scale-factor) * ${a}px`,f=s?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,h=s?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!n||e.rotation%180===0?(o.width=f,o.height=h):(o.width=h,o.height=f)}r&&t.setAttribute("data-main-rotation",e.rotation)}class Ds{constructor(){const{pixelRatio:e}=Ds;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,a=-1){let o=1/0,s=1/0,c=1/0;r=Ds.capPixels(r,a),r>0&&(o=Math.sqrt(r/(e*n))),i!==-1&&(s=i/e,c=i/n);const d=Math.min(o,s,c);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const cE=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Xae{static get isDarkMode(){return Ut(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class Zae{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),Ut(this,"commentForegroundColor",Cg(r))}}function Qae(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function kL(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,a=Math.max(n,r,i),o=Math.min(n,r,i),s=(a+o)/2;if(a===o)e[0]=e[1]=0;else{const c=a-o;switch(e[1]=s<.5?c/(a+o):c/(2-a-o),a){case n:e[0]=((r-i)/c+(r<i?6:0))*60;break;case r:e[0]=((i-n)/c+2)*60;break;case i:e[0]=((n-r)/c+4)*60;break}}e[2]=s}function uE(t,e){const n=t[0],r=t[1],i=t[2],a=(1-Math.abs(2*i-1))*r,o=a*(1-Math.abs(n/60%2-1)),s=i-a/2;switch(Math.floor(n/60)){case 0:e[0]=a+s,e[1]=o+s,e[2]=s;break;case 1:e[0]=o+s,e[1]=a+s,e[2]=s;break;case 2:e[0]=s,e[1]=a+s,e[2]=o+s;break;case 3:e[0]=s,e[1]=o+s,e[2]=a+s;break;case 4:e[0]=o+s,e[1]=s,e[2]=a+s;break;case 5:case 6:e[0]=a+s,e[1]=s,e[2]=o+s;break}}function PL(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function OL(t,e,n){uE(t,n),n.map(PL);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];uE(e,n),n.map(PL);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const ML=new Map;function Jae(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=ML.get(n);if(r)return r;const i=new Float32Array(9),a=i.subarray(0,3),o=i.subarray(3,6);kL(t,o);const s=i.subarray(6,9);kL(e,s);const c=s[2]<.5,d=c?12:4.5;if(o[2]=c?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),OL(o,s,a)<d){let f,h;c?(f=o[2],h=1):(f=0,h=o[2]);const m=.005;for(;h-f>m;){const v=o[2]=(f+h)/2;c===OL(o,s,a)<d?f=v:h=v}o[2]=c?h:f}return uE(o,a),r=gt.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),ML.set(n,r),r}function u6({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const a=document.createElement("p");a.dir=e||"auto";const o=t.split(/(?:\r\n?|\n)/);for(let s=0,c=o.length;s<c;++s){const d=o[s];a.append(document.createTextNode(d)),s<c-1&&a.append(document.createElement("br"))}i.append(a)}else c6.render({xfaHtml:t,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",n),r.append(i)}function d6(t){const e=new Path2D;if(!t)return e;for(let n=0,r=t.length;n<r;)switch(t[n++]){case em.moveTo:e.moveTo(t[n++],t[n++]);break;case em.lineTo:e.lineTo(t[n++],t[n++]);break;case em.curveTo:e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);break;case em.quadraticCurveTo:e.quadraticCurveTo(t[n++],t[n++],t[n++],t[n++]);break;case em.closePath:e.closePath();break;default:Ft(`Unrecognized drawing path operator: ${t[n-1]}`);break}return e}class Dm{#e=null;#t=null;#r;#n=null;#o=null;#a=null;#i=null;#s=null;static#c=null;constructor(e){this.#r=e,Dm.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=this.#r._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",Ao,{signal:n}),e.addEventListener("pointerdown",Dm.#l,{signal:n}));const r=this.#n=document.createElement("div");r.className="buttons",e.append(r);const i=this.#r.toolbarPosition;if(i){const{style:a}=e,o=this.#r._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*o}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#f(e){this.#r._focusEventsAllowed=!1,wr(e)}#d(e){this.#r._focusEventsAllowed=!0,wr(e)}#h(e){const n=this.#r._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",this.#f.bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Ao,{signal:n}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#o?.shown(),this.#a?.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=this.#r,r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",Dm.#c[e]),this.#h(r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),this.#n.append(r)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const n=await e.render();this.#h(n),this.#n.append(n,this.#g),this.#o=e}addComment(e,n=null){if(this.#a)return;const r=e.renderForToolbar();if(!r)return;this.#h(r);const i=this.#i=this.#g;n?(this.#n.insertBefore(r,n),this.#n.insertBefore(i,n)):this.#n.append(r,i),this.#a=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const n=e.renderButton();this.#h(n),this.#n.append(n,this.#g)}async addEditSignatureButton(e){const n=this.#s=await e.renderEditButton(this.#r);this.#h(n),this.#n.append(n,this.#g)}removeButton(e){e==="comment"&&(this.#a?.removeToolbarCommentButton(),this.#a=null,this.#i?.remove(),this.#i=null)}async addButton(e,n){switch(e){case"colorPicker":n&&this.addColorPicker(n);break;case"altText":n&&await this.addAltText(n);break;case"editSignature":n&&await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":n&&this.addComment(n);break}}async addButtonBefore(e,n,r){if(!n&&e==="comment")return;const i=this.#n.querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){this.#s&&(this.#s.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class eoe{#e=null;#t=null;#r;constructor(e){this.#r=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const n=this.#r._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",Ao,{signal:n});const r=this.#e=document.createElement("div");return r.className="buttons",e.append(r),this.#r.hasCommentManager()&&this.#a("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#r.commentSelection("floating_button")}),this.#a("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#r.highlightSelection("floating_button")}),e}#o(e,n){let r=0,i=0;for(const a of e){const o=a.y+a.height;if(o<r)continue;const s=a.x+(n?a.width:0);if(o>r){i=s,r=o;continue}n?s>i&&(i=s):s<i&&(i=s)}return[n?1-i:i,r]}show(e,n,r){const[i,a]=this.#o(n,r),{style:o}=this.#t||=this.#n();e.append(this.#t),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#a(e,n,r,i){const a=document.createElement("button");a.classList.add("basic",e),a.tabIndex=0,a.setAttribute("data-l10n-id",n);const o=document.createElement("span");a.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",r);const s=this.#r._signal;s instanceof AbortSignal&&!s.aborted&&(a.addEventListener("contextmenu",Ao,{signal:s}),a.addEventListener("click",i,{signal:s})),this.#e.append(a)}}function f6(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}class _n{static#e=NaN;static#t=null;static#r=NaN;static#n=null;static initializeAndAddPointerId(e){(_n.#t||=new Set).add(e)}static setPointer(e,n){_n.#e||=n,_n.#n??=e}static setTimeStamp(e){_n.#r=e}static isSamePointerId(e){return _n.#e===e}static isSamePointerIdOrRemove(e){return _n.#e===e?!0:(_n.#t?.delete(e),!1)}static isSamePointerType(e){return _n.#n===e}static isInitializedAndDifferentPointerType(e){return _n.#n!==null&&!_n.isSamePointerType(e)}static isSameTimeStamp(e){return _n.#r===e}static isUsingMultiplePointers(){return _n.#t?.size>=1}static clearPointerType(){_n.#n=null}static clearPointerIds(){_n.#e=NaN,_n.#t=null}static clearTimeStamp(){_n.#r=NaN}}class toe{#e=0;get id(){return`${Um}${this.#e++}`}}class AP{#e=s6();#t=0;#r=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Ut(this,"_isSVGFittingCanvas",a)}async#n(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof n=="string"?(r.url=n,i=await wg(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const a=AP._isSVGFittingCanvas,o=new FileReader,s=new Image,c=new Promise((d,f)=>{s.onload=()=>{r.bitmap=s,r.isSvg=!0,d()},o.onload=async()=>{const h=r.svgUrl=o.result;s.src=await a?`${h}#svgView(preserveAspectRatio(none))`:h},s.onerror=o.onerror=f});o.readAsDataURL(i),await c}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){Ft(i),r=null}return this.#r.set(e,r),r&&this.#r.set(r.id,r),r}async getFromFile(e){const{lastModified:n,name:r,size:i,type:a}=e;return this.#n(`${n}_${r}_${i}_${a}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,n){const r=await n;return this.#n(e,r)}async getFromId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r?.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#r.set(e,r),this.#r.set(r.id,r),r}getSvgUrl(e){const n=this.#r.get(e);return n?.isSvg?n.svgUrl:null}deleteId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=i.convertToBlob()}r.close?.(),n.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class noe{#e=[];#t=!1;#r;#n=-1;constructor(e=128){this.#r=e}add({cmd:e,undo:n,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:o=!1,keepUndo:s=!1}){if(i&&e(),this.#t)return;const c={cmd:e,undo:n,post:r,type:a};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(c);return}if(o&&this.#e[this.#n].type===a){s&&(c.undo=this.#e[this.#n].undo),this.#e[this.#n]=c;return}const d=this.#n+1;d===this.#r?this.#e.splice(0,1):(this.#n=d,d<this.#e.length&&this.#e.splice(d)),this.#e.push(c)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let n=this.#n;n>=0;n--)if(this.#e[n].type!==e){this.#e.splice(n+1,this.#n-n),this.#n=n;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class Ag{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Wr.platform;for(const[r,i,a={}]of e)for(const o of r){const s=o.startsWith("mac+");n&&s?(this.callbacks.set(o.slice(4),{callback:i,options:a}),this.allKeys.add(o.split("+").at(-1))):!n&&!s&&(this.callbacks.set(o,{callback:i,options:a}),this.allKeys.add(o.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(this.#e(n));if(!r)return;const{callback:i,options:{bubbles:a=!1,args:o=[],checker:s=null}}=r;s&&!s(e,n)||(i.bind(e,...o,n)(),a||wr(n))}}class _P{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Wae(e),Ut(this,"_colors",e)}convert(e){const n=Cg(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((a,o)=>a===n[o]))return _P._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?gt.makeHexColor(...n):e}}class Yc{#e=new AbortController;#t=null;#r=null;#n=new Map;#o=new Map;#a=null;#i=null;#s=null;#c=new noe;#l=null;#f=null;#d=null;#h=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#v=!1;#b=!1;#y=!1;#_=null;#C=null;#w=null;#T=null;#x=!1;#A=null;#O=new toe;#k=!1;#P=!1;#I=!1;#D=null;#R=null;#z=null;#L=null;#V=null;#E=Ht.NONE;#S=new Set;#j=null;#B=null;#F=null;#Y=null;#G=null;#K={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#N=null;#q=null;#Q=null;#J=null;#$=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Yc.prototype,n=o=>o.#q.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:s})=>{if(s instanceof HTMLInputElement){const{type:c}=s;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Ut(this,"_keyboardManager",new Ag([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:s})=>!(s instanceof HTMLButtonElement)&&o.#q.contains(s)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:s})=>!(s instanceof HTMLButtonElement)&&o.#q.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:n}]]))}constructor(e,n,r,i,a,o,s,c,d,f,h,m,v,b,x,S){const C=this._signal=this.#e.signal;this.#q=e,this.#Q=n,this.#J=r,this.#a=i,this.#l=a,this.#B=o,this.#G=c,this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:C}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:C}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:C}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:C}),s._on("setpreference",this.onSetPreference.bind(this),{signal:C}),s._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:C}),window.addEventListener("pointerdown",()=>{this.#P=!0},{capture:!0,signal:C}),window.addEventListener("pointerup",()=>{this.#P=!1},{capture:!0,signal:C}),this.#oe(),this.#fe(),this.#te(),this.#i=c.annotationStorage,this.#_=c.filterFactory,this.#F=d,this.#T=f||null,this.#v=h,this.#b=m,this.#y=v,this.#V=b||null,this.viewParameters={realScale:bh.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=x||null,this._supportsPinchToZoom=S!==!1,a?.setSidebarUiManager(this)}destroy(){this.#$?.resolve(),this.#$=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#o.values())e.destroy();this.#o.clear(),this.#n.clear(),this.#p.clear(),this.#L?.clear(),this.#t=null,this.#S.clear(),this.#c.destroy(),this.#a?.destroy(),this.#l?.destroy(),this.#B?.destroy(),this.#A?.hide(),this.#A=null,this.#z?.destroy(),this.#z=null,this.#r=null,this.#C&&(clearTimeout(this.#C),this.#C=null),this.#N&&(clearTimeout(this.#N),this.#N=null),this._editorUndoBar?.destroy(),this.#G=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#V}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Ut(this,"hcmFilter",this.#F?this.#_.addHCMFilter(this.#F.foreground,this.#F.background):"none")}get direction(){return Ut(this,"direction",getComputedStyle(this.#q).direction)}get _highlightColors(){return Ut(this,"_highlightColors",this.#T?new Map(this.#T.split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ut(this,"highlightColors",null);const n=new Map,r=!!this.#F;for(const[i,a]of e){const o=i.endsWith("_HCM");if(r&&o){n.set(i.replace("_HCM",""),a);continue}!r&&!o&&n.set(i,a)}return Ut(this,"highlightColors",n)}get highlightColorNames(){return Ut(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#z=e}editAltText(e,n=!1){this.#a?.editAltText(this,e,n)}hasCommentManager(){return!!this.#l}editComment(e,n,r,i){this.#l?.showDialog(this,e,n,r,i)}selectComment(e,n){this.#o.get(e)?.getEditorByUID(n)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,n,r=void 0){this.#l?.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){return e&&this.#l?.makeCommentColor(e,n)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#o.has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=a=>{a.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){this.#B?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#B}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){e==="enableNewAltTextWhenAddingImage"&&(this.#y=n)}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#q.focus()}findParent(e,n){for(const r of this.#o.values()){const{x:i,y:a,width:o,height:s}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&n>=a&&n<=a+s)return r}return null}disableUserSelect(e=!1){this.#Q.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*bh.PDF_TO_CSS_UNITS;for(const n of this.#p)n.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Z({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of this.#o.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:o,focusOffset:s}=r,c=r.toString(),f=this.#Z(r).closest(".textLayer"),h=this.getSelectionBoxes(f);if(!h)return;r.empty();const m=this.#ee(f),v=this.#E===Ht.NONE,b=()=>{const x=m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:a,focusNode:o,focusOffset:s,text:c});v&&this.showAllEditors("highlight",!0,!0),n&&x?.editComment()};if(v){this.switchToMode(Ht.HIGHLIGHT,b);return}b()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=this.#Z(e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(this.#A||=new eoe(this),this.#A.show(r,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#i)return null;const n=`${Um}${e}`,r=this.#i.getRawValue(n);return r&&this.#i.remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}a11yAlert(e,n=null){const r=this.#J;r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}#ae(){const e=document.getSelection();if(!e||e.isCollapsed){this.#j&&(this.#A?.hide(),this.#j=null,this.#M({hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===this.#j)return;const i=this.#Z(e).closest(".textLayer");if(!i){this.#j&&(this.#A?.hide(),this.#j=null,this.#M({hasSelectedText:!1}));return}if(this.#A?.hide(),this.#j=n,this.#M({hasSelectedText:!0}),!(this.#E!==Ht.HIGHLIGHT&&this.#E!==Ht.NONE)&&(this.#E===Ht.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#E===Ht.HIGHLIGHT?this.#ee(i):null;if(a?.toggleDrawing(),this.#P){const o=new AbortController,s=this.combinedSignal(o),c=d=>{d.type==="pointerup"&&d.button!==0||(o.abort(),a?.toggleDrawing(!0),d.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})}else a?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(e=""){this.#E===Ht.HIGHLIGHT?this.highlightSelection(e):this.#v&&this.#ie()}#oe(){document.addEventListener("selectionchange",this.#ae.bind(this),{signal:this._signal})}#se(){if(this.#w)return;this.#w=new AbortController;const e=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of this.#S)if(n.div.contains(e)){this.#R=[n,e],n._focusEventsAllowed=!1;break}}focus(){if(!this.#R)return;const[e,n]=this.#R;this.#R=null,n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#te(){if(this.#D)return;this.#D=new AbortController;const e=this.combinedSignal(this.#D);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ce(){this.#D?.abort(),this.#D=null}#ue(){if(this.#f)return;this.#f=new AbortController;const e=this.combinedSignal(this.#f);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#f?.abort(),this.#f=null}#fe(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ce(),this.setEditingState(!1)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of this.#S){const i=r.serialize(!0);i&&n.push(i)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const a of n.items)for(const o of this.#u)if(o.isHandlingMimeForPasting(a.type)){o.paste(a,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){Ft(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const c of r){const d=await i.deserialize(c);if(!d)return;a.push(d)}const o=()=>{for(const c of a)this.#ne(c);this.#re(a)},s=()=>{for(const c of a)c.remove()};this.addCommands({cmd:o,undo:s,mustExec:!0})}catch(a){Ft(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==Ht.NONE&&!this.isEditorHandlingKeyboard&&Yc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#W("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#M(e){Object.entries(e).some(([r,i])=>this.#K[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#K,e)}),this.#E===Ht.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#H([[ln.HIGHLIGHT_FREE,!0]]))}#H(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#se(),this.#ue(),this.#M({isEditing:this.#E!==Ht.NONE,isEmpty:this.#X(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#M({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const n of this.#u)this.#H(n.defaultPropertiesToUpdate)}}getId(){return this.#O.id}get currentLayer(){return this.#o.get(this.#h)}getLayer(e){return this.#o.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#o.set(e.pageIndex,e),this.#k?e.enable():e.disable()}removeLayer(e){this.#o.delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,a=!1,o=!1){if(this.#E!==e&&!(this.#$&&(await this.#$.promise,!this.#$))){if(this.#$=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#E===Ht.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#E=e,e===Ht.NONE){this.setEditingState(!1),this.#pe();for(const s of this.#n.values())s.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#$.resolve();return}for(const s of this.#n.values())s.addStandaloneCommentButton();e===Ht.SIGNATURE&&await this.#B?.loadSignatures(),r&&_n.clearPointerType(),this.setEditingState(!0),await this.#he(),this.unselectAll();for(const s of this.#o.values())s.updateMode(e);if(e===Ht.POPUP){this.#r||=await this.#G.getAnnotationsByType(new Set(this.#u.map(d=>d._editorType)));const s=new Set,c=[];for(const d of this.#n.values()){const{annotationElementId:f,hasComment:h,deleted:m}=d;f&&s.add(f),h&&!m&&c.push(d.getData())}for(const d of this.#r){const{id:f,popupRef:h,contentsObj:m}=d;h&&m?.str&&!s.has(f)&&!this.#g.has(f)&&c.push(d)}this.#l?.showSidebar(c)}if(!n){i&&this.addNewEditorFromKeyboard(),this.#$.resolve();return}for(const s of this.#n.values())s.uid===n?(this.setSelected(s),o?s.editComment():a?s.enterInEditMode():s.focus()):s.unselect();this.#$.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(this.#u){switch(e){case ln.CREATE:this.currentLayer.addNewEditor(n);return;case ln.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#Y||=new Map).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of this.#S)r.updateParams(e,n);else for(const r of this.#u)r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){for(const a of this.#n.values())a.editorType===e&&a.show(n);(this.#Y?.get(ln.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#H([[ln.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(this.#I!==e){this.#I=e;for(const n of this.#o.values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}async#he(){if(!this.#k){this.#k=!0;const e=[];for(const n of this.#o.values())e.push(n.enable());await Promise.all(e);for(const n of this.#n.values())n.enable()}}#pe(){if(this.unselectAll(),this.#k){this.#k=!1;for(const e of this.#o.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const n of this.#n.values())n.pageIndex===e&&(yield n)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#C&&clearTimeout(this.#C),this.#C=setTimeout(()=>{this.focusMainContainer(),this.#C=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#L?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const n=this.#o.get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#H(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#S);return e}updateUI(e){this.#me===e&&this.#H(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#H(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#S.has(e)){this.#S.delete(e),e.unselect(),this.#M({hasSelectedEditor:this.hasSelection});return}this.#S.add(e),e.select(),this.#H(e.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const n of this.#S)n!==e&&n.unselect();this.#S.clear(),this.#S.add(e),e.select(),this.#H(e.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}isSelected(e){return this.#S.has(e)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(e){e.unselect(),this.#S.delete(e),this.#M({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#M({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#X()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#X()})}addCommands(e){this.#c.add(e),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#X()})}cleanUndoStack(e){this.#c.cleanType(e)}#X(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...this.#S],r=()=>{this._editorUndoBar?.show(i,n.length===1?n[0].editorType:n.length);for(const a of n)a.remove()},i=()=>{for(const a of n)this.#ne(a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#re(e){for(const n of this.#S)n.unselect();this.#S.clear();for(const n of e)n.isEmpty()||(this.#S.add(n),n.select());this.#M({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#S)e.commit();this.#re(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#E!==Ht.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#S)e.unselect();this.#S.clear(),this.#M({hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=e,this.#U[1]+=n;const[i,a]=this.#U,o=[...this.#S],s=1e3;this.#N&&clearTimeout(this.#N),this.#N=setTimeout(()=>{this.#N=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(const c of o)this.#n.has(c.id)&&(c.translateInPage(i,a),c.translationDone())},undo:()=>{for(const c of o)this.#n.has(c.id)&&(c.translateInPage(-i,-a),c.translationDone())},mustExec:!1})},s);for(const c of o)c.translateInPage(e,n),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const e of this.#S)this.#m.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const e=this.#m;this.#m=null;let n=!1;for(const[{x:i,y:a,pageIndex:o},s]of e)s.newX=i,s.newY=a,s.newPageIndex=o,n||=i!==s.savedX||a!==s.savedY||o!==s.savedPageIndex;if(!n)return!1;const r=(i,a,o,s)=>{if(this.#n.has(i.id)){const c=this.#o.get(s);c?i._setParentAndPosition(c,a,o):(i.pageIndex=s,i.x=a,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:o,newPageIndex:s}]of e)r(i,a,o,s)},undo:()=>{for(const[i,{savedX:a,savedY:o,savedPageIndex:s}]of e)r(i,a,o,s)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(this.#m)for(const r of this.#m.keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#E}isEditingMode(){return this.#E!==Ht.NONE}get imageManager(){return Ut(this,"imageManager",new AP)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let d=0,f=n.rangeCount;d<f;d++)if(!e.contains(n.getRangeAt(d).commonAncestorContainer))return null;const{x:r,y:i,width:a,height:o}=e.getBoundingClientRect();let s;switch(e.getAttribute("data-main-rotation")){case"90":s=(d,f,h,m)=>({x:(f-i)/o,y:1-(d+h-r)/a,width:m/o,height:h/a});break;case"180":s=(d,f,h,m)=>({x:1-(d+h-r)/a,y:1-(f+m-i)/o,width:h/a,height:m/o});break;case"270":s=(d,f,h,m)=>({x:1-(f+m-i)/o,y:(d-r)/a,width:m/o,height:h/a});break;default:s=(d,f,h,m)=>({x:(d-r)/a,y:(f-i)/o,width:h/a,height:m/o});break}const c=[];for(let d=0,f=n.rangeCount;d<f;d++){const h=n.getRangeAt(d);if(!h.collapsed)for(const{x:m,y:v,width:b,height:x}of h.getClientRects())b===0||x===0||c.push(s(m,v,b,x))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:n}){(this.#s||=new Map).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){this.#s?.delete(e)}renderAnnotationElement(e){const n=this.#s?.get(e.data.id);if(!n)return;const r=this.#i.getRawValue(n);r&&(this.#E===Ht.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){const i=this.#L?.get(e);i&&(i.setCanvas(n,r),this.#L.delete(e))}addMissingCanvas(e,n){(this.#L||=new Map).set(e,n)}}class bs{#e=null;#t=!1;#r=null;#n=null;#o=null;#a=null;#i=!1;#s=null;#c=null;#l=null;#f=null;#d=!1;static#h=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,bs.#h||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){bs._l10n??=e}async render(){const e=this.#r=document.createElement("button");e.className="altText",e.tabIndex="0";const n=this.#n=document.createElement("span");e.append(n),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",bs.#h.missing),n.setAttribute("data-l10n-id",bs.#h["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=this.#c._uiManager._signal;e.addEventListener("contextmenu",Ao,{signal:r}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#i=!0,i(a))},{signal:r}),await this.#m(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#r&&(this.#r.focus({focusVisible:this.#i}),this.#i=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#f=await bs._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#m())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#s?.remove(),this.#s=null;return}if(!this.#s){const n=this.#s=document.createElement("div");n.className="noAltTextBadge",this.#c.div.append(n)}this.#s.classList.toggle("hidden",!e)}serialize(e){let n=this.#e;return!e&&this.#l===n&&(n=this.#f),{altText:n,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#f}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:a=!1}){r&&(this.#l=r,this.#f=i),!(this.#e===e&&this.#t===n)&&(a||(this.#e=e,this.#t=n),this.#m())}toggle(e=!1){this.#r&&(!e&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#r.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#r?.remove(),this.#r=null,this.#n=null,this.#o=null,this.#s?.remove(),this.#s=null}async#m(){const e=this.#r;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",bs.#h[this.#g]),this.#n?.setAttribute("data-l10n-id",bs.#h[`${this.#g}-label`]),!this.#e){this.#o?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#o?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#o;if(!n){this.#o=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#c.id}`;const i=100,a=this.#c._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#o.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:a}),e.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#o?.classList.remove("show")},{signal:a})}this.#t?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#e),n.parentNode||e.append(n),this.#c.getElementForAltText()?.setAttribute("aria-describedby",n.id)}}class vy{#e=null;#t=null;#r=!1;#n=null;#o=null;#a=null;#i=null;#s=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#f(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const n=this.#n.commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=this.#n.commentButtonColor;i&&(r.backgroundColor=i)}return this.#f(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:n,height:r}=this.#e.getBoundingClientRect(),{x:i,y:a,width:o,height:s}=this.#n.parent.boundingClientRect;return[(e-i)/o,(n+r-a)/s]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:n}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=n)}#f(e,n){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=this.#n._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",Ao,{signal:r}),n&&(e.addEventListener("focusin",a=>{this.#n._focusEventsAllowed=!1,wr(a)},{capture:!0,signal:r}),e.addEventListener("focusout",a=>{this.#n._focusEventsAllowed=!0,wr(a)},{capture:!0,signal:r})),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#r=!0,i(a))},{signal:r}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:r}),e}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=this.#n.commentButtonPosition;const{width:f,height:h,x:m,y:v}=this.#n;r=m+r*f,i=v+i*h}const a=this.#n.parent.boundingClientRect,{x:o,y:s,width:c,height:d}=a;this.#n._uiManager.editComment(this.#n,o+r*c,s+i*d,{...e,parentDimensions:a})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#r}),this.#r=!1)}isDeleted(){return this.#c||this.#i===""}isEmpty(){return this.#i===null}hasBeenEdited(){return this.isDeleted()||this.#i!==this.#o}serialize(){return this.data}get data(){return{text:this.#i,richText:this.#a,date:this.#s,deleted:this.isDeleted()}}set data(e){if(e!==this.#i&&(this.#a=null),e===null){this.#i="",this.#c=!0;return}this.#i=e,this.#s=new Date,this.#c=!1}setInitialText(e,n=null){this.#o=e,this.data=e,this.#s=null,this.#a=n}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#i="",this.#a=null,this.#s=null,this.#n=null,this.#r=!1,this.#c=!1}}class jx{#e;#t=!1;#r=null;#n;#o;#a;#i;#s=null;#c;#l=null;#f;#d=null;constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:o=null,signal:s}){this.#e=e,this.#r=r,this.#n=n,this.#o=i,this.#a=a,this.#i=o,this.#f=new AbortController,this.#c=AbortSignal.any([s,this.#f.signal]),e.addEventListener("touchstart",this.#h.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ds.pixelRatio}#h(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#s)return;const i=this.#s=new AbortController,a=AbortSignal.any([this.#c,i.signal]),o=this.#e,s={capture:!0,signal:a,passive:!1},c=d=>{d.pointerType==="touch"&&(this.#s?.abort(),this.#s=null)};o.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(wr(d),c(d))},s),o.addEventListener("pointerup",c,s),o.addEventListener("pointercancel",c,s);return}if(!this.#d){this.#d=new AbortController;const i=AbortSignal.any([this.#c,this.#d.signal]),a=this.#e,o={signal:i,capture:!1,passive:!1};a.addEventListener("touchmove",this.#g.bind(this),o);const s=this.#m.bind(this);a.addEventListener("touchend",s,o),a.addEventListener("touchcancel",s,o),o.capture=!0,a.addEventListener("pointerdown",wr,o),a.addEventListener("pointermove",wr,o),a.addEventListener("pointercancel",wr,o),a.addEventListener("pointerup",wr,o),this.#o?.()}if(wr(e),e.touches.length!==2||this.#r?.()){this.#l=null;return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),this.#l={touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;wr(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:a}=n,{screenX:o,screenY:s}=r,c=this.#l,{touch0X:d,touch0Y:f,touch1X:h,touch1Y:m}=c,v=h-d,b=m-f,x=o-i,S=s-a,C=Math.hypot(x,S)||1,T=Math.hypot(v,b)||1;if(!this.#t&&Math.abs(T-C)<=jx.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=i,c.touch0Y=a,c.touch1X=o,c.touch1Y=s,!this.#t){this.#t=!0;return}const E=[(i+o)/2,(a+s)/2];this.#a?.(E,T,C)}#m(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#i?.()),this.#l&&(wr(e),this.#l=null,this.#t=!1))}destroy(){this.#f?.abort(),this.#f=null,this.#s?.abort(),this.#s=null}}class Pt{#e=null;#t=null;#r=null;#n=null;#o=null;#a=!1;#i=null;#s="";#c=null;#l=null;#f=null;#d=null;#h=null;#g="";#m=!1;#u=null;#p=!1;#v=!1;#b=!1;#y=null;#_=0;#C=0;#w=null;#T=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#A=Pt._zIndex++;static _borderLineWidth=-1;static _colorManager=new _P;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Pt.prototype._resizeWithKeyboard,n=Yc.TRANSLATE_SMALL,r=Yc.TRANSLATE_BIG;return Ut(this,"_resizerKeyboardManager",new Ag([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Pt.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:o}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[a,o];const[s,c]=this.parentDimensions;this.x=e.x/s,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ut(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new roe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(Pt._l10n??=e,Pt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Pt._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Pt._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Gn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(e){this.#x=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#A}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#N(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[a,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/a,this.y=(n+i)/o,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}#O([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,n){this.#O(this.parentDimensions,e,n)}translateInPage(e,n){this.#u||=[this.x,this.y,this.width,this.height],this.#O(this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){this.#u||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=n/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:s}=this;const[c,d]=this.getBaseTranslation();o+=c,s+=d;const{style:f}=r;f.left=`${(100*o).toFixed(2)}%`,f.top=`${(100*s).toFixed(2)}%`,this._onTranslating(o,s),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=Pt,i=r/e,a=r/n;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:a,y:o,width:s,height:c}=this;if(s*=r,c*=i,a*=r,o*=i,this._mustFixPosition)switch(e){case 0:a=ia(a,0,r-s),o=ia(o,0,i-c);break;case 90:a=ia(a,0,r-c),o=ia(o,s,i);break;case 180:a=ia(a,s,r),o=ia(o,c,i);break;case 270:a=ia(a,c,r),o=ia(o,0,i-s);break}this.x=a/=r,this.y=o/=i;const[d,f]=this.getBaseTranslation();a+=d,o+=f,n.left=`${(100*a).toFixed(2)}%`,n.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#k(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}}screenToPageTranslation(e,n){return Pt.#k(e,n,this.parentRotation)}pageTranslationToScreen(e,n){return Pt.#k(e,n,360-this.parentRotation)}#P(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#I(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");this.#c.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#D.bind(this,r),{signal:n}),i.addEventListener("contextmenu",Ao,{signal:n}),i.tabIndex=-1}this.div.prepend(this.#c)}#D(e,n){n.preventDefault();const{isMac:r}=Wr.platform;if(n.button!==0||n.ctrlKey&&r)return;this.#r?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#l=[n.screenX,n.screenY];const a=new AbortController,o=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#L.bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",wr,{passive:!1,signal:o}),window.addEventListener("contextmenu",Ao,{signal:o}),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const s=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const d=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#r?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=s,this.div.style.cursor=c,this.#z()};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}#R(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#z(){if(!this.#f)return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=this.#f;this.#f=null;const a=this.x,o=this.y,s=this.width,c=this.height;a===e&&o===n&&s===r&&c===i||this.addCommands({cmd:this.#R.bind(this,a,o,s,c),undo:this.#R.bind(this,e,n,r,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#L(e,n){const[r,i]=this.parentDimensions,a=this.x,o=this.y,s=this.width,c=this.height,d=Pt.MIN_SIZE/r,f=Pt.MIN_SIZE/i,h=this.#P(this.rotation),m=(L,U)=>[h[0]*L+h[2]*U,h[1]*L+h[3]*U],v=this.#P(360-this.rotation),b=(L,U)=>[v[0]*L+v[2]*U,v[1]*L+v[3]*U];let x,S,C=!1,T=!1;switch(e){case"topLeft":C=!0,x=(L,U)=>[0,0],S=(L,U)=>[L,U];break;case"topMiddle":x=(L,U)=>[L/2,0],S=(L,U)=>[L/2,U];break;case"topRight":C=!0,x=(L,U)=>[L,0],S=(L,U)=>[0,U];break;case"middleRight":T=!0,x=(L,U)=>[L,U/2],S=(L,U)=>[0,U/2];break;case"bottomRight":C=!0,x=(L,U)=>[L,U],S=(L,U)=>[0,0];break;case"bottomMiddle":x=(L,U)=>[L/2,U],S=(L,U)=>[L/2,0];break;case"bottomLeft":C=!0,x=(L,U)=>[0,U],S=(L,U)=>[L,0];break;case"middleLeft":T=!0,x=(L,U)=>[0,U/2],S=(L,U)=>[L,U/2];break}const E=x(s,c),k=S(s,c);let M=m(...k);const D=Pt._round(a+M[0]),j=Pt._round(o+M[1]);let I=1,B=1,G,V;if(n.fromKeyboard)({deltaX:G,deltaY:V}=n);else{const{screenX:L,screenY:U}=n,[F,q]=this.#l;[G,V]=this.screenToPageTranslation(L-F,U-q),this.#l[0]=L,this.#l[1]=U}if([G,V]=b(G/r,V/i),C){const L=Math.hypot(s,c);I=B=Math.max(Math.min(Math.hypot(k[0]-E[0]-G,k[1]-E[1]-V)/L,1/s,1/c),d/s,f/c)}else T?I=ia(Math.abs(k[0]-E[0]-G),d,1)/s:B=ia(Math.abs(k[1]-E[1]-V),f,1)/c;const K=Pt._round(s*I),te=Pt._round(c*B);M=m(...S(K,te));const X=D-M[0],J=j-M[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=K,this.height=te,this.x=X,this.y=J,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#r?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#v)return this._editToolbar;this._editToolbar=new Dm(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#r?.destroy()}addContainer(e){const n=this._editToolbar?.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#r||(bs.initialize(Pt._l10n),this.#r=new bs(this),this.#e&&(this.#r.data=this.#e,this.#e=null)),this.#r}get altTextData(){return this.#r?.data}set altTextData(e){this.#r&&(this.#r.data=e)}get guessedAltText(){return this.#r?.guessedText}async setGuessedAltText(e){await this.#r?.setGuessedText(e)}serializeAltText(e){return this.#r?.serialize(e)}hasAltText(){return!!this.#r&&!this.#r.isEmpty()}hasAltTextData(){return this.#r?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new vy(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#o){this._uiManager.isEditingMode()&&this.#o.classList.remove("hidden");return}this.hasComment&&(this.#o=this.#n.renderForStandalone(),this.div.append(this.#o))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#o=null}hideStandaloneCommentButton(){this.#o?.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=this.#n;return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new vy(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(this.#n||=new vy(this),this.#n.setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new vy(this),this.#n.edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[a]=this.pageDimensions,[o]=this.pageTranslation,s=o+a+1,c=i-100,d=s+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[s,c,d,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){this.#n.data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#a?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#F();const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),f6(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#T||=new jx({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#V.bind(this),onPinching:this.#E.bind(this),onPinchEnd:this.#S.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#V(){this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#r?.toggle(!1),this.parent.togglePointerEvents(!1)}#E(e,n,r){let a=.7*(r/n)+1-.7;if(a===1)return;const o=this.#P(this.rotation),s=(D,j)=>[o[0]*D+o[2]*j,o[1]*D+o[3]*j],[c,d]=this.parentDimensions,f=this.x,h=this.y,m=this.width,v=this.height,b=Pt.MIN_SIZE/c,x=Pt.MIN_SIZE/d;a=Math.max(Math.min(a,1/m,1/v),b/m,x/v);const S=Pt._round(m*a),C=Pt._round(v*a);if(S===m&&C===v)return;this.#u||=[f,h,m,v];const T=s(m/2,v/2),E=Pt._round(f+T[0]),k=Pt._round(h+T[1]),M=s(S/2,C/2);this.x=E-M[0],this.y=k-M[1],this.width=S,this.height=C,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#S(){this.#r?.toggle(!0),this.parent.togglePointerEvents(!0),this.#z()}pointerdown(e){const{isMac:n}=Wr.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#B(e);return}this.#j(e)}#j(e){const{isMac:n}=Wr.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#B(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:a},s=d=>{i.abort(),this.#i=null,this.#m=!1,this._uiManager.endDragSession()||this.#j(d),r&&this._onStopDragging()};n&&(this.#_=e.clientX,this.#C=e.clientY,this.#i=e.pointerId,this.#s=e.pointerType,window.addEventListener("pointermove",d=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:h,pointerId:m}=d;if(m!==this.#i){wr(d);return}const[v,b]=this.screenToPageTranslation(f-this.#_,h-this.#C);this.#_=f,this.#C=h,this._uiManager.dragSelectedEditors(v,b)},o),window.addEventListener("touchmove",wr,o),window.addEventListener("pointerdown",d=>{d.pointerType===this.#s&&(this.#T||d.isPrimary)&&s(d),wr(d)},o));const c=d=>{if(!this.#i||this.#i===d.pointerId){s(d);return}wr(d)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[a,o]=this.pageDimensions,[s,c]=this.pageTranslation,d=e/i,f=n/i,h=this.x*a,m=this.y*o,v=this.width*a,b=this.height*o;switch(r){case 0:return[h+d+s,o-m-f-b+c,h+d+v+s,o-m-f+c];case 90:return[h+f+s,o-m+d+c,h+f+b+s,o-m+d+v+c];case 180:return[h-d-v+s,o-m+f+c,h-d+s,o-m+f+b+c];case 270:return[h-f-b+s,o-m-d-v+c,h-f+s,o-m-d+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,a,o]=e,s=a-r,c=o-i;switch(this.rotation){case 0:return[r,n-o,s,c];case 90:return[r,n-i,c,s];case 180:return[a,n-i,s,c];case 270:return[a,n-o,c,s];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Pt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:a,richText:o},uid:s,pageIndex:c,creationDate:d,modificationDate:f}=this;return{id:s,pageIndex:c,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:d,modificationDate:r||f,popupRef:!a,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#v=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#v=!1,!0):!1}isInEditMode(){return this.#v}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:o}=window;return n<o&&i>0&&e<a&&r>0}#F(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#F()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,n=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[a,o]=i.pageDimensions,[s,c,d,f]=i.getRectInCurrentCoords(e.rect,o);return i.x=s/a,i.y=c/o,i.width=d/a,i.height=f/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#N(),this.removeEditToolbar(),this.#w){for(const e of this.#w.values())clearTimeout(e);this.#w=null}this.parent=null,this.#T?.destroy(),this.#T=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#I(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,a,o]=this.getPDFRect();return[Pt._round(r+(a-r)*e),Pt._round(i+(o-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#c.children;if(!this.#t){this.#t=Array.from(n);const o=this.#Y.bind(this),s=this.#G.bind(this),c=this._uiManager._signal;for(const d of this.#t){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",o,{signal:c}),d.addEventListener("blur",s,{signal:c}),d.addEventListener("focus",this.#K.bind(this,f),{signal:c}),d.setAttribute("data-l10n-id",Pt._l10nResizer[f])}}const r=this.#t[0];let i=0;for(const o of n){if(o===r)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(a!==i){if(a<i)for(let s=0;s<i-a;s++)this.#c.append(this.#c.firstElementChild);else if(a>i)for(let s=0;s<a-i;s++)this.#c.firstElementChild.before(this.#c.lastElementChild);let o=0;for(const s of n){const d=this.#t[o++].getAttribute("data-resizer-name");s.setAttribute("data-l10n-id",Pt._l10nResizer[d])}}this.#U(0),this.#b=!0,this.#c.firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#Y(e){Pt._resizerKeyboardManager.exec(this,e)}#G(e){this.#b&&e.relatedTarget?.parentNode!==this.#c&&this.#N()}#K(e){this.#g=this.#b?e:""}#U(e){if(this.#t)for(const n of this.#t)n.tabIndex=e}_resizeWithKeyboard(e,n){this.#b&&this.#L(this.#g,{deltaX:e,deltaY:n,fromKeyboard:!0})}#N(){this.#b=!1,this.#U(-1),this.#z()}_stopResizingWithKeyboard(){this.#N(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#r?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#r?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){this.#w||=new Map;const{action:r}=e;let i=this.#w.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#w.delete(r),this.#w.size===0&&(this.#w=null)},Pt._telemetryTimeout),this.#w.set(r,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#a=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#a=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstElementChild:n}=e.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class roe extends Pt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const DL=3285377520,uo=4294901760,hs=65535;class h6{constructor(e){this.h1=e?e&4294967295:DL,this.h2=e?e&4294967295:DL}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let x=0,S=e.length;x<S;x++){const C=e.charCodeAt(x);C<=255?n[r++]=C:(n[r++]=C>>>8,n[r++]=C&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,a=r-i*4,o=new Uint32Array(n.buffer,0,i);let s=0,c=0,d=this.h1,f=this.h2;const h=3432918353,m=461845907,v=h&hs,b=m&hs;for(let x=0;x<i;x++)x&1?(s=o[x],s=s*h&uo|s*v&hs,s=s<<15|s>>>17,s=s*m&uo|s*b&hs,d^=s,d=d<<13|d>>>19,d=d*5+3864292196):(c=o[x],c=c*h&uo|c*v&hs,c=c<<15|c>>>17,c=c*m&uo|c*b&hs,f^=c,f=f<<13|f>>>19,f=f*5+3864292196);switch(s=0,a){case 3:s^=n[i*4+2]<<16;case 2:s^=n[i*4+1]<<8;case 1:s^=n[i*4],s=s*h&uo|s*v&hs,s=s<<15|s>>>17,s=s*m&uo|s*b&hs,i&1?d^=s:f^=s}this.h1=d,this.h2=f}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&uo|e*36045&hs,n=n*4283543511&uo|((n<<16|e>>>16)*2950163797&uo)>>>16,e^=n>>>1,e=e*444984403&uo|e*60499&hs,n=n*3301882366&uo|((n<<16|e>>>16)*3120437893&uo)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const dE=Object.freeze({map:null,hash:"",transfer:void 0});class EP{#e=!1;#t=null;#r=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=this.#n.get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return this.#n.get(e)}remove(e){const n=this.#n.get(e);if(n!==void 0&&(n instanceof Pt&&this.#r.delete(n.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of this.#n.values())if(r instanceof Pt)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=this.#n.get(e);let i=!1;if(r!==void 0)for(const[a,o]of Object.entries(n))r[a]!==o&&(i=!0,r[a]=o);else i=!0,this.#n.set(e,n);i&&this.#o(),n instanceof Pt&&((this.#r||=new Map).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#o(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new p6(this)}get serializable(){if(this.#n.size===0)return dE;const e=new Map,n=new h6,r=[],i=Object.create(null);let a=!1;for(const[o,s]of this.#n){const c=s instanceof Pt?s.serialize(!1,i):s;c&&(e.set(o,c),n.update(`${o}:${JSON.stringify(c)}`),a||=!!c.bitmap)}if(a)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:dE}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const a of this.#n.values()){if(!(a instanceof Pt)){a.popup&&(a.popup.deleted?i+=1:r+=1);continue}a.isCommentDeleted?i+=1:a.hasEditedComment&&(r+=1);const o=a.telemetryFinalData;if(!o)continue;const{type:s}=o;n.has(s)||n.set(s,Object.getPrototypeOf(a).constructor),e||=Object.create(null);const c=e[s]||=new Map;for(const[d,f]of Object.entries(o)){if(d==="type")continue;let h=c.get(d);h||(h=new Map,c.set(d,h));const m=h.get(f)??0;h.set(f,m+1)}}if((i>0||r>0)&&(e||=Object.create(null),e.comments={deleted:i,edited:r}),!e)return null;for(const[a,o]of n)e[a]=o.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,n){const r=this.#r?.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){return this.#r?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#r)for(const n of this.#r.values())n.serialize()&&e.push(n.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class p6 extends EP{#e;constructor(e){super();const{map:n,hash:r,transfer:i}=e.serializable,a=structuredClone(n,i?{transfer:i}:null);this.#e={map:a,hash:r,transfer:i}}get print(){Gn("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Ut(this,"modifiedIds",{ids:new Set,hash:""})}}class ioe{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||this.#e.has(e.loadedName))){if(cn(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:o}=e,s=new FontFace(i,a,o);this.addNativeFontFace(s);try{await s.load(),this.#e.add(i),r?.(e)}catch{Ft(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}Gn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Ft(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Ut(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ut(this,"isSyncFontLoadingSupported",ra||Wr.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(cn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const a=r.shift();setTimeout(a.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ut(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(k,M){return k.charCodeAt(M)<<24|k.charCodeAt(M+1)<<16|k.charCodeAt(M+2)<<8|k.charCodeAt(M+3)&255}function i(k,M,D,j){const I=k.substring(0,M),B=k.substring(M+D);return I+j+B}let a,o;const s=this._document.createElement("canvas");s.width=1,s.height=1;const c=s.getContext("2d");let d=0;function f(k,M){if(++d>30){Ft("Load test font never loaded."),M();return}if(c.font="30px "+k,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(f.bind(null,k,M))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=i(m,976,h.length,h);const b=16,x=1482184792;let S=r(m,b);for(a=0,o=h.length-3;a<o;a+=4)S=S-x+r(h,a)|0;a<h.length&&(S=S-x+r(h+"XXX",a)|0),m=i(m,b,4,zae(S));const C=`url(data:font/opentype;base64,${btoa(m)});`,T=`@font-face {font-family:"${h}";src:${C}}`;this.insertRule(T);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const k of[e.loadedName,h]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=k,E.append(M)}this._document.body.append(E),f(h,()=>{E.remove(),n.complete()})}}class aoe{#e;constructor(e,n=null,r,i){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${l6(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(o){Ft(`getPathGenerator - ignoring character: "${o}".`)}const a=d6(i?.path);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=a}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}set disableFontFace(e){Ut(this,"disableFontFace",!!e)}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}set bbox(e){Ut(this,"bbox",e)}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class th{#e;#t;#r;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const n=new TextEncoder,r={};let i=0;for(const d of th.strings){const f=n.encode(e[d]);r[d]=f,i+=4+f.length}const a=new ArrayBuffer(i),o=new Uint8Array(a),s=new DataView(a);let c=0;for(const d of th.strings){const f=r[d],h=f.length;s.setUint32(c,h),o.set(f,c+4),c+=4+h}return cn(c===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}#n(e){cn(e<th.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class nh{#e;#t;#r;static strings=["css","loadedName","baseFontName","src"];static write(e){const n=new TextEncoder,r={};let i=0;for(const m of nh.strings){const v=n.encode(e[m]);r[m]=v,i+=4+v.length}i+=4;let a,o,s=1+i;e.style&&(a=n.encode(e.style.style),o=n.encode(e.style.weight),s+=4+a.length+4+o.length);const c=new ArrayBuffer(s),d=new Uint8Array(c),f=new DataView(c);let h=0;f.setUint8(h++,e.guessFallback?1:0),f.setUint32(h,0),h+=4,i=0;for(const m of nh.strings){const v=r[m],b=v.length;i+=4+b,f.setUint32(h,b),d.set(v,h+4),h+=4+b}return f.setUint32(h-i-4,i),e.style&&(f.setUint32(h,a.length),d.set(a,h+4),h+=4+a.length,f.setUint32(h,o.length),d.set(o,h+4),h+=4+o.length),cn(h<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(h)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){cn(e<nh.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const n=this.#t.getUint32(e),r=this.#r.decode(new Uint8Array(this.#e,e+4,n));e+=4+n;const i=this.#t.getUint32(e),a=this.#r.decode(new Uint8Array(this.#e,e+4,i));return{style:r,weight:a}}}class Fn{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#r=this.#t+1+8;static#n=this.#r+1+48;static#o=this.#n+1+6;#a;#i;#s;constructor({data:e,extra:n}){this.#a=e,this.#i=new TextDecoder,this.#s=new DataView(this.#a),n&&Object.assign(this,n)}#c(e){cn(e<Fn.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=this.#s.getUint8(n)>>r&3;return i===0?void 0:i===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return cn(e<Fn.numbers.length,"Invalid number index"),this.#s.getFloat64(Fn.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=Fn.#t;if(this.#s.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(this.#s.getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=Fn.#r;if(this.#s.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(this.#s.getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=Fn.#n;if(this.#s.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(this.#s.getInt16(e,!0)),e+=2;return r}#f(e){cn(e<Fn.strings.length,"Invalid string index");let n=Fn.#o+4;for(let a=0;a<e;a++)n+=this.#s.getUint32(n)+4;const r=this.#s.getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(this.#a,n+4,r)),this.#i.decode(i)}get fallbackName(){return this.#f(0)}get loadedName(){return this.#f(1)}get mimetype(){return this.#f(2)}get name(){return this.#f(3)}get data(){let e=Fn.#o;const n=this.#s.getUint32(e);e+=4+n;const r=this.#s.getUint32(e);e+=4+r;const i=this.#s.getUint32(e);e+=4+i;const a=this.#s.getUint32(e);if(a!==0)return new Uint8Array(this.#a,e+4,a)}clearData(){let e=Fn.#o;const n=this.#s.getUint32(e);e+=4+n;const r=this.#s.getUint32(e);e+=4+r;const i=this.#s.getUint32(e);e+=4+i;const a=this.#s.getUint32(e);new Uint8Array(this.#a,e+4,a).fill(0),this.#s.setUint32(e,0)}get cssFontInfo(){let e=Fn.#o;const n=this.#s.getUint32(e);e+=4+n;const r=this.#s.getUint32(e);e+=4+r;const i=this.#s.getUint32(e);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(this.#a,e+4,i)),new th(a.buffer)}get systemFontInfo(){let e=Fn.#o;const n=this.#s.getUint32(e);e+=4+n;const r=this.#s.getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(this.#a,e+4,r)),new nh(i.buffer)}static write(e){const n=e.systemFontInfo?nh.write(e.systemFontInfo):null,r=e.cssFontInfo?th.write(e.cssFontInfo):null,i=new TextEncoder,a={};let o=0;for(const x of Fn.strings)a[x]=i.encode(e[x]),o+=4+a[x].length;const s=Fn.#o+4+o+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(s),d=new Uint8Array(c),f=new DataView(c);let h=0;const m=Fn.bools.length;let v=0,b=0;for(let x=0;x<m;x++){const S=e[Fn.bools[x]];v|=(S===void 0?0:S?2:1)<<b,b+=2,(b===8||x===m-1)&&(f.setUint8(h++,v),v=0,b=0)}cn(h===Fn.#e,"FontInfo.write: Boolean properties offset mismatch");for(const x of Fn.numbers)f.setFloat64(h,e[x]),h+=8;if(cn(h===Fn.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){f.setUint8(h++,4);for(const x of e.bbox)f.setInt16(h,x,!0),h+=2}else f.setUint8(h++,0),h+=8;if(cn(h===Fn.#r,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){f.setUint8(h++,6);for(const x of e.fontMatrix)f.setFloat64(h,x,!0),h+=8}else f.setUint8(h++,0),h+=48;if(cn(h===Fn.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){f.setUint8(h++,1);for(const x of e.defaultVMetrics)f.setInt16(h,x,!0),h+=2}else f.setUint8(h++,0),h+=6;cn(h===Fn.#o,"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(Fn.#o,0),h+=4;for(const x of Fn.strings){const S=a[x],C=S.length;f.setUint32(h,C),d.set(S,h+4),h+=4+C}if(f.setUint32(Fn.#o,h-Fn.#o-4),!n)f.setUint32(h,0),h+=4;else{const x=n.byteLength;f.setUint32(h,x),cn(h+4+x<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(n),h+4),h+=4+x}if(!r)f.setUint32(h,0),h+=4;else{const x=r.byteLength;f.setUint32(h,x),cn(h+4+x<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(r),h+4),h+=4+x}return e.data===void 0?(f.setUint32(h,0),h+=4):(f.setUint32(h,e.data.length),d.set(e.data,h+4),h+=4+e.data.length),cn(h<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(h)}}class si{static#e=0;static#t=1;static#r=2;static#n=3;static#o=4;static#a=8;static#i=12;static#s=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let n,r=null,i=[],a=[],o=[],s=[],c=null,d=null;switch(e[0]){case"RadialAxial":n=e[1]==="axial"?1:2,r=e[2],o=e[3],n===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":n=3,c=e[1],i=e[2],a=e[3],s=e[4]||[],r=e[6],d=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const f=Math.floor(i.length/2),h=Math.floor(a.length/3),m=o.length,v=s.length;let b=0;for(const M of s)b+=1,b=Math.ceil(b/4)*4,b+=4+M.coords.length*4,b+=4+M.colors.length*4,M.verticesPerRow!==void 0&&(b+=4);const x=20+f*8+h*3+m*8+(r?16:0)+(d?3:0)+b,S=new ArrayBuffer(x),C=new DataView(S),T=new Uint8Array(S);C.setUint8(si.#e,n),C.setUint8(si.#t,r?1:0),C.setUint8(si.#r,d?1:0),C.setUint8(si.#n,c),C.setUint32(si.#o,f,!0),C.setUint32(si.#a,h,!0),C.setUint32(si.#i,m,!0),C.setUint32(si.#s,v,!0);let E=20;new Float32Array(S,E,f*2).set(i),E+=f*8,T.set(a,E),E+=h*3;for(const[M,D]of o)C.setFloat32(E,M,!0),E+=4,C.setUint32(E,parseInt(D.slice(1),16),!0),E+=4;if(r)for(const M of r)C.setFloat32(E,M,!0),E+=4;d&&(T.set(d,E),E+=3);for(let M=0;M<s.length;M++){const D=s[M];C.setUint8(E,D.type),E+=1,E=Math.ceil(E/4)*4,C.setUint32(E,D.coords.length,!0),E+=4,new Int32Array(S,E,D.coords.length).set(D.coords),E+=D.coords.length*4,C.setUint32(E,D.colors.length,!0),E+=4,new Int32Array(S,E,D.colors.length).set(D.colors),E+=D.colors.length*4,D.verticesPerRow!==void 0&&(C.setUint32(E,D.verticesPerRow,!0),E+=4)}return S}getIR(){const e=this.view,n=this.data[si.#e],r=!!this.data[si.#t],i=!!this.data[si.#r],a=e.getUint32(si.#o,!0),o=e.getUint32(si.#a,!0),s=e.getUint32(si.#i,!0),c=e.getUint32(si.#s,!0);let d=20;const f=new Float32Array(this.buffer,d,a*2);d+=a*8;const h=new Uint8Array(this.buffer,d,o*3);d+=o*3;const m=[];for(let S=0;S<s;++S){const C=e.getFloat32(d,!0);d+=4;const T=e.getUint32(d,!0);d+=4,m.push([C,`#${T.toString(16).padStart(6,"0")}`])}let v=null;if(r){v=[];for(let S=0;S<4;++S)v.push(e.getFloat32(d,!0)),d+=4}let b=null;i&&(b=new Uint8Array(this.buffer,d,3),d+=3);const x=[];for(let S=0;S<c;++S){const C=e.getUint8(d);d+=1,d=Math.ceil(d/4)*4;const T=e.getUint32(d,!0);d+=4;const E=new Int32Array(this.buffer,d,T);d+=T*4;const k=e.getUint32(d,!0);d+=4;const M=new Int32Array(this.buffer,d,k);d+=k*4;const D={type:C,coords:E,colors:M};C===oE.LATTICE&&(D.verticesPerRow=e.getUint32(d,!0),d+=4),x.push(D)}if(n===1)return["RadialAxial","axial",v,m,Array.from(f.slice(0,2)),Array.from(f.slice(2,4)),null,null];if(n===2)return["RadialAxial","radial",v,m,[f[0],f[1]],[f[3],f[4]],f[2],f[5]];if(n===3){const S=this.data[si.#n];let C=null;if(f.length>0){let T=f[0],E=f[0],k=f[1],M=f[1];for(let D=0;D<f.length;D+=2){const j=f[D],I=f[D+1];T=T>j?j:T,k=k>I?I:k,E=E<j?j:E,M=M<I?I:M}C=[T,k,E,M]}return["Mesh",S,f,h,x,C,v,b]}throw new Error(`Unsupported pattern kind: ${n}`)}}class ooe{static write(e){let n,r;return Wr.isFloat16ArraySupported?(r=new ArrayBuffer(e.length*2),n=new Float16Array(r)):(r=new ArrayBuffer(e.length*4),n=new Float32Array(r)),n.set(e),r}#e;constructor(e){this.#e=e}get path(){return Wr.isFloat16ArraySupported?new Float16Array(this.#e):new Float32Array(this.#e)}}function soe(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(ra)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function loe(t){if(ra&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return xg(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function yy(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const fE=t=>typeof t=="object"&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0,coe=t=>typeof t=="object"&&typeof t?.name=="string",uoe=Hae.bind(null,fE,coe);class doe{#e=new Map;#t=Promise.resolve();postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if(r?.signal instanceof AbortSignal){const{signal:a}=r;if(a.aborted){Ft("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,n);i=()=>a.removeEventListener("abort",o),a.addEventListener("abort",o)}this.#e.set(n,i)}removeEventListener(e,n){this.#e.get(n)?.(),this.#e.delete(n)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const by={DATA:1,ERROR:2},Lr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function jL(){}function Sa(t){if(t instanceof Gc||t instanceof sE||t instanceof _L||t instanceof Ib||t instanceof mC)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Gn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Gc(t.message);case"InvalidPDFException":return new sE(t.message);case"PasswordException":return new _L(t.message,t.code);case"ResponseException":return new Ib(t.message,t.status,t.missing);case"UnknownErrorException":return new mC(t.message,t.details)}return new mC(t.message,t.toString())}class xm{#e=new AbortController;constructor(e,n,r){this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===by.DATA)i.resolve(e.data);else if(e.callback===by.ERROR)i.reject(Sa(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(n,e.data).then(function(o){a.postMessage({sourceName:r,targetName:i,callback:by.DATA,callbackId:e.callbackId,data:o})},function(o){a.postMessage({sourceName:r,targetName:i,callback:by.ERROR,callbackId:e.callbackId,reason:Sa(o)})});return}if(e.streamId){this.#r(e);return}n(e.data)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(o){a.reject(o)}return a.promise}sendWithStream(e,n,r,i){const a=this.streamId++,o=this.sourceName,s=this.targetName,c=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[a]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:s,action:e,streamId:a,data:n,desiredSize:d.desiredSize},i),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[a].pullCall=f,c.postMessage({sourceName:o,targetName:s,stream:Lr.PULL,streamId:a,desiredSize:d.desiredSize}),f.promise},cancel:d=>{cn(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[a].cancelCall=f,this.streamControllers[a].isClosed=!0,c.postMessage({sourceName:o,targetName:s,stream:Lr.CANCEL,streamId:a,reason:Sa(d)}),f.promise}},r)}#r(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,o=this,s=this.actionHandler[e.action],c={enqueue(d,f=1,h){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=f,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:i,stream:Lr.ENQUEUE,streamId:n,chunk:d},h)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:Lr.CLOSE,streamId:n}),delete o.streamSinks[n])},error(d){cn(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:Lr.ERROR,streamId:n,reason:Sa(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[n]=c,Promise.try(s,e.data,c).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Lr.START_COMPLETE,streamId:n,success:!0})},function(d){a.postMessage({sourceName:r,targetName:i,stream:Lr.START_COMPLETE,streamId:n,reason:Sa(d)})})}#n(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,o=this.streamControllers[n],s=this.streamSinks[n];switch(e.stream){case Lr.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Sa(e.reason));break;case Lr.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Sa(e.reason));break;case Lr.PULL:if(!s){a.postMessage({sourceName:r,targetName:i,stream:Lr.PULL_COMPLETE,streamId:n,success:!0});break}s.desiredSize<=0&&e.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=e.desiredSize,Promise.try(s.onPull||jL).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Lr.PULL_COMPLETE,streamId:n,success:!0})},function(d){a.postMessage({sourceName:r,targetName:i,stream:Lr.PULL_COMPLETE,streamId:n,reason:Sa(d)})});break;case Lr.ENQUEUE:if(cn(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Lr.CLOSE:if(cn(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#o(o,n);break;case Lr.ERROR:cn(o,"error should have stream controller"),o.controller.error(Sa(e.reason)),this.#o(o,n);break;case Lr.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Sa(e.reason)),this.#o(o,n);break;case Lr.CANCEL:if(!s)break;const c=Sa(e.reason);Promise.try(s.onCancel||jL,c).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Lr.CANCEL_COMPLETE,streamId:n,success:!0})},function(d){a.postMessage({sourceName:r,targetName:i,stream:Lr.CANCEL_COMPLETE,streamId:n,reason:Sa(d)})}),s.sinkCapability.reject(c),s.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#o(e,n){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#e?.abort(),this.#e=null}}class m6{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Gn("Abstract method `_createCanvas` called.")}}class foe extends m6{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class g6{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Gn("Abstract method `_fetch` called.")}}class RL extends g6{async _fetch(e){const n=await wg(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):xg(n)}}class v6{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,a){return"none"}destroy(e=!1){}}class hoe extends v6{#e;#t;#r;#n;#o;#a;#i=0;constructor({docId:e,ownerDocument:n=globalThis.document}){super(),this.#n=e,this.#o=n}get#s(){return this.#t||=new Map}get#c(){return this.#a||=new Map}get#l(){if(!this.#r){const e=this.#o.createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=this.#o.createElementNS(ml,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#r=this.#o.createElementNS(ml,"defs"),e.append(r),r.append(this.#r),this.#o.body.append(e)}return this.#r}#f(e){if(e.length===1){const c=e[0],d=new Array(256);for(let h=0;h<256;h++)d[h]=c[h]/255;const f=d.join(",");return[f,f,f]}const[n,r,i]=e,a=new Array(256),o=new Array(256),s=new Array(256);for(let c=0;c<256;c++)a[c]=n[c]/255,o[c]=r[c]/255,s[c]=i[c]/255;return[a.join(","),o.join(","),s.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const n=this.#o.URL;n!==this.#o.baseURI&&(Dx(n)?Ft('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=a6(n,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let n=this.#s.get(e);if(n)return n;const[r,i,a]=this.#f(e),o=e.length===1?r:`${r}${i}${a}`;if(n=this.#s.get(o),n)return this.#s.set(e,n),n;const s=`g_${this.#n}_transfer_map_${this.#i++}`,c=this.#d(s);this.#s.set(e,c),this.#s.set(o,c);const d=this.#m(s);return this.#p(r,i,a,d),c}addHCMFilter(e,n){const r=`${e}-${n}`,i="base";let a=this.#c.get(i);if(a?.key===r||(a?(a.filter?.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},this.#c.set(i,a)),!e||!n))return a.url;const o=this.#b(e);e=gt.makeHexColor(...o);const s=this.#b(n);if(n=gt.makeHexColor(...s),this.#l.style.color="",e==="#000000"&&n==="#ffffff"||e===n)return a.url;const c=new Array(256);for(let v=0;v<=255;v++){const b=v/255;c[v]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=c.join(","),f=`g_${this.#n}_hcm_filter`,h=a.filter=this.#m(f);this.#p(d,d,d,h),this.#g(h);const m=(v,b)=>{const x=o[v]/255,S=s[v]/255,C=new Array(b+1);for(let T=0;T<=b;T++)C[T]=x+T/b*(S-x);return C.join(",")};return this.#p(m(0,5),m(1,5),m(2,5),h),a.url=this.#d(f),a.url}addAlphaFilter(e){let n=this.#s.get(e);if(n)return n;const[r]=this.#f([e]),i=`alpha_${r}`;if(n=this.#s.get(i),n)return this.#s.set(e,n),n;const a=`g_${this.#n}_alpha_map_${this.#i++}`,o=this.#d(a);this.#s.set(e,o),this.#s.set(i,o);const s=this.#m(a);return this.#v(r,s),o}addLuminosityFilter(e){let n=this.#s.get(e||"luminosity");if(n)return n;let r,i;if(e?([r]=this.#f([e]),i=`luminosity_${r}`):i="luminosity",n=this.#s.get(i),n)return this.#s.set(e,n),n;const a=`g_${this.#n}_luminosity_map_${this.#i++}`,o=this.#d(a);this.#s.set(e,o),this.#s.set(i,o);const s=this.#m(a);return this.#h(s),e&&this.#v(r,s),o}addHighlightHCMFilter(e,n,r,i,a){const o=`${n}-${r}-${i}-${a}`;let s=this.#c.get(e);if(s?.key===o||(s?(s.filter?.remove(),s.key=o,s.url="none",s.filter=null):(s={key:o,url:"none",filter:null},this.#c.set(e,s)),!n||!r))return s.url;const[c,d]=[n,r].map(this.#b.bind(this));let f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,v]=[i,a].map(this.#b.bind(this));h<f&&([f,h,m,v]=[h,f,v,m]),this.#l.style.color="";const b=(C,T,E)=>{const k=new Array(256),M=(h-f)/E,D=C/255,j=(T-C)/(255*E);let I=0;for(let B=0;B<=E;B++){const G=Math.round(f+B*M),V=D+B*j;for(let K=I;K<=G;K++)k[K]=V;I=G+1}for(let B=I;B<256;B++)k[B]=k[I-1];return k.join(",")},x=`g_${this.#n}_hcm_${e}_filter`,S=s.filter=this.#m(x);return this.#g(S),this.#p(b(m[0],v[0],5),b(m[1],v[1],5),b(m[2],v[2],5),S),s.url=this.#d(x),s.url}destroy(e=!1){e&&this.#a?.size||(this.#r?.parentNode.parentNode.remove(),this.#r=null,this.#t?.clear(),this.#t=null,this.#a?.clear(),this.#a=null,this.#i=0)}#h(e){const n=this.#o.createElementNS(ml,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)}#g(e){const n=this.#o.createElementNS(ml,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)}#m(e){const n=this.#o.createElementNS(ml,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),this.#l.append(n),n}#u(e,n,r){const i=this.#o.createElementNS(ml,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)}#p(e,n,r,i){const a=this.#o.createElementNS(ml,"feComponentTransfer");i.append(a),this.#u(a,"feFuncR",e),this.#u(a,"feFuncG",n),this.#u(a,"feFuncB",r)}#v(e,n){const r=this.#o.createElementNS(ml,"feComponentTransfer");n.append(r),this.#u(r,"feFuncA",e)}#b(e){return this.#l.style.color=e,Cg(getComputedStyle(this.#l).getPropertyValue("color"))}}class y6{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Gn("Abstract method `_fetch` called.")}}class LL extends y6{async _fetch(e){const n=await wg(e,"arraybuffer");return new Uint8Array(n)}}class b6{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){Gn("Abstract method `_fetch` called.")}}class NL extends b6{async _fetch(e){const n=await wg(e,"arraybuffer");return new Uint8Array(n)}}ra&&Ft("Please use the `legacy` build in Node.js environments.");async function TP(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class poe extends v6{}class moe extends m6{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class goe extends g6{async _fetch(e){return TP(e)}}class voe extends y6{async _fetch(e){return TP(e)}}class yoe extends b6{async _fetch(e){return TP(e)}}const Rf="__forcedDependency",{floor:IL,ceil:zL}=Math;function xy(t,e,n,r,i,a){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],a)}const hE=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class boe{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===hE}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const wy=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};class xoe{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[Rf]:[]};#r=new Map;#n=[];#o=[];#a=[[1,0,0,1,0,0]];#i=[-1/0,-1/0,1/0,1/0];#s=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#f=new Map;#d=new Map;#h;#g;#m;#u;#p;constructor(e,n,r=!1){this.#h=e.width,this.#g=e.height,this.#v(n),r&&(this.#p=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#v(e,this.#u)}#v(e,n){const r=new ArrayBuffer(e*4);this.#m=new Uint8ClampedArray(r),this.#u=new Uint32Array(r),n&&n.length>0?(this.#u.set(n),this.#u.fill(hE,n.length)):this.#u.fill(hE)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[Rf]:{__proto__:this.#t[Rf]}},this.#i={__proto__:this.#i},this.#n.push(e),this}restore(e){const n=Object.getPrototypeOf(this.#e);if(n===null)return this;this.#e=n,this.#t=Object.getPrototypeOf(this.#t),this.#i=Object.getPrototypeOf(this.#i);const r=this.#n.pop();return r!==void 0&&(wy(this.#p,e)?.dependencies.add(r),this.#u[e]=this.#u[r]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const n=this.#n.pop();return n!==void 0&&(wy(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}beginMarkedContent(e){return this.#o.push(e),this}endMarkedContent(e){const n=this.#o.pop();return n!==void 0&&(wy(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}pushBaseTransform(e){return this.#a.push(gt.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform())),this}popBaseTransform(){return this.#a.length>1&&this.#a.pop(),this}recordSimpleData(e,n){return this.#e[e]=n,this}recordIncrementalData(e,n){return this.#t[e].push(n),this}resetIncrementalData(e,n){return this.#t[e].length=0,this}recordNamedData(e,n){return this.#r.set(e,n),this}recordSimpleDataFromNamed(e,n,r){this.#e[e]=this.#r.get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(Rf,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in this.#e&&this.recordFutureForcedDependency(n,this.#e[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(Rf,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#s[0]=1/0,this.#s[1]=1/0,this.#s[2]=-1/0,this.#s[3]=-1/0),this}recordClipBox(e,n,r,i,a,o){const s=gt.multiplyByDOMMatrix(this.#a.at(-1),n.getTransform()),c=[1/0,1/0,-1/0,-1/0];gt.axialAlignedBoundingBox([r,a,i,o],s,c);const d=gt.intersect(this.#i,c);return d?(this.#i[0]=d[0],this.#i[1]=d[1],this.#i[2]=d[2],this.#i[3]=d[3]):(this.#i[0]=this.#i[1]=1/0,this.#i[2]=this.#i[3]=-1/0),this}recordBBox(e,n,r,i,a,o){const s=this.#i;if(s[0]===1/0)return this;const c=gt.multiplyByDOMMatrix(this.#a.at(-1),n.getTransform());if(s[0]===-1/0)return gt.axialAlignedBoundingBox([r,a,i,o],c,this.#s),this;const d=[1/0,1/0,-1/0,-1/0];return gt.axialAlignedBoundingBox([r,a,i,o],c,d),this.#s[0]=Math.min(this.#s[0],Math.max(d[0],s[0])),this.#s[1]=Math.min(this.#s[1],Math.max(d[1],s[1])),this.#s[2]=Math.max(this.#s[2],Math.min(d[2],s[2])),this.#s[3]=Math.max(this.#s[3],Math.min(d[3],s[3])),this}recordCharacterBBox(e,n,r,i=1,a=0,o=0,s){const c=r.bbox;let d,f;if(c&&(d=c[2]!==c[0]&&c[3]!==c[1]&&this.#d.get(r),d!==!1&&(f=[0,0,0,0],gt.axialAlignedBoundingBox(c,r.fontMatrix,f),(i!==1||a!==0||o!==0)&&gt.scaleMinMax([i,0,0,-i,a,o],f),d)))return this.recordBBox(e,n,f[0],f[2],f[1],f[3]);if(!s)return this.recordFullPageBBox(e);const h=s();return c&&f&&d===void 0&&(d=f[0]<=a-h.actualBoundingBoxLeft&&f[2]>=a+h.actualBoundingBoxRight&&f[1]<=o-h.actualBoundingBoxAscent&&f[3]>=o+h.actualBoundingBoxDescent,this.#d.set(r,d),d)?this.recordBBox(e,n,f[0],f[2],f[1],f[3]):this.recordBBox(e,n,a-h.actualBoundingBoxLeft,a+h.actualBoundingBoxRight,o-h.actualBoundingBoxAscent,o+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#s[0]=Math.max(0,this.#i[0]),this.#s[1]=Math.max(0,this.#i[1]),this.#s[2]=Math.min(this.#h,this.#i[2]),this.#s[3]=Math.min(this.#g,this.#i[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,n){const r=this.#l,i=this.#e,a=this.#t;for(const o of n)o in this.#e?r.add(i[o]):o in a&&a[o].forEach(r.add,r);return this}recordNamedDependency(e,n){return this.#r.has(n)&&this.#l.add(this.#r.get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[Rf]),this.#p){const r=wy(this.#p,e),{dependencies:i}=r;this.#l.forEach(i.add,i),this.#n.forEach(i.add,i),this.#o.forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(this.#c===e){const r=IL(this.#s[0]*256/this.#h),i=IL(this.#s[1]*256/this.#g),a=zL(this.#s[2]*256/this.#h),o=zL(this.#s[3]*256/this.#g);xy(this.#m,e,r,i,a,o);for(const s of this.#l)s!==e&&xy(this.#m,s,r,i,a,o);for(const s of this.#n)s!==e&&xy(this.#m,s,r,i,a,o);for(const s of this.#o)s!==e&&xy(this.#m,s,r,i,a,o);n||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,n=!1){const r=Array.from(this.#l);this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return this.#c===e&&(this.#c=-1,this.#i[0]=Math.max(this.#i[0],this.#s[0]),this.#i[1]=Math.max(this.#i[1],this.#s[1]),this.#i[2]=Math.min(this.#i[2],this.#s[2]),this.#i[3]=Math.min(this.#i[3],this.#s[3]),n||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const n=this.#f.get(e);return this.#f.delete(e),n}_pushPendingDependencies(e){for(const n of e)this.#l.add(n)}take(){return this.#d.clear(),new boe(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class zb{#e;#t;#r;#n=0;#o=0;constructor(e,n,r){if(e instanceof zb&&e.#r===!!r)return e;this.#e=e,this.#t=n,this.#r=!!r}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#o++,this.#e.save(this.#t),this}restore(e){return this.#o>0&&(this.#e.restore(this.#t),this.#o--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,n){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,n){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,n){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return this.#e.recordSimpleDataFromNamed(e,n,this.#t),this}recordFutureForcedDependency(e,n){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#r||this.#e.resetBBox(this.#t),this}recordClipBox(e,n,r,i,a,o){return this.#r||this.#e.recordClipBox(this.#t,n,r,i,a,o),this}recordBBox(e,n,r,i,a,o){return this.#r||this.#e.recordBBox(this.#t,n,r,i,a,o),this}recordCharacterBBox(e,n,r,i,a,o,s){return this.#r||this.#e.recordCharacterBBox(this.#t,n,r,i,a,o,s),this}recordFullPageBBox(e){return this.#r||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,n){return this.#e.recordDependencies(this.#t,n),this}recordNamedDependency(e,n){return this.#e.recordNamedDependency(this.#t,n),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#r||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const fo={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ti={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function pE(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class kP{isModifyingCurrentTransform(){return!1}getPattern(){Gn("Abstract method `getPattern` called.")}}class woe extends kP{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,n=null){let r,i=this._p0,a=this._p1;if(n&&(i=i.slice(),a=a.slice(),gt.applyTransform(i,n),gt.applyTransform(a,n)),this._type==="axial")r=e.createLinearGradient(i[0],i[1],a[0],a[1]);else if(this._type==="radial"){let o=this._r0,s=this._r1;if(n){const c=new Float32Array(2);gt.singularValueDecompose2dScale(n,c),o*=c[0],s*=c[0]}r=e.createRadialGradient(i[0],i[1],o,a[0],a[1],s)}for(const o of this._colorStops)r.addColorStop(o[0],o[1]);return r}getPattern(e,n,r,i){let a;if(i===Ti.STROKE||i===Ti.FILL){if(this.isOriginBased()){let m=gt.transform(r,n.baseTransform);this.matrix&&(m=gt.transform(m,this.matrix));const v=.001,b=Math.hypot(m[0],m[1]),x=Math.hypot(m[2],m[3]),S=(m[0]*m[2]+m[1]*m[3])/(b*x);if(Math.abs(S)<v)if(this.isRadial()){if(Math.abs(b-x)<v)return this._createGradient(e,m)}else return this._createGradient(e,m)}const o=n.current.getClippedPathBoundingBox(i,fr(e))||[0,0,0,0],s=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,d=n.cachedCanvases.getCanvas("pattern",s,c),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),r=gt.transform(r,[1,0,0,1,o[0],o[1]]),f.transform(...n.baseTransform),this.matrix&&f.transform(...this.matrix),pE(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),a=e.createPattern(d.canvas,"no-repeat");const h=new DOMMatrix(r);a.setTransform(h)}else pE(e,this._bbox),a=this._createGradient(e);return a}}function yC(t,e,n,r,i,a,o,s){const c=e.coords,d=e.colors,f=t.data,h=t.width*4;let m;c[n+1]>c[r+1]&&(m=n,n=r,r=m,m=a,a=o,o=m),c[r+1]>c[i+1]&&(m=r,r=i,i=m,m=o,o=s,s=m),c[n+1]>c[r+1]&&(m=n,n=r,r=m,m=a,a=o,o=m);const v=(c[n]+e.offsetX)*e.scaleX,b=(c[n+1]+e.offsetY)*e.scaleY,x=(c[r]+e.offsetX)*e.scaleX,S=(c[r+1]+e.offsetY)*e.scaleY,C=(c[i]+e.offsetX)*e.scaleX,T=(c[i+1]+e.offsetY)*e.scaleY;if(b>=T)return;const E=d[a],k=d[a+1],M=d[a+2],D=d[o],j=d[o+1],I=d[o+2],B=d[s],G=d[s+1],V=d[s+2],K=Math.round(b),te=Math.round(T);let X,J,L,U,F,q,W,z;for(let Y=K;Y<=te;Y++){if(Y<S){const be=Y<b?0:(b-Y)/(b-S);X=v-(v-x)*be,J=E-(E-D)*be,L=k-(k-j)*be,U=M-(M-I)*be}else{let be;Y>T?be=1:S===T?be=0:be=(S-Y)/(S-T),X=x-(x-C)*be,J=D-(D-B)*be,L=j-(j-G)*be,U=I-(I-V)*be}let ne;Y<b?ne=0:Y>T?ne=1:ne=(b-Y)/(b-T),F=v-(v-C)*ne,q=E-(E-B)*ne,W=k-(k-G)*ne,z=M-(M-V)*ne;const ie=Math.round(Math.min(X,F)),ue=Math.round(Math.max(X,F));let we=h*Y+ie*4;for(let be=ie;be<=ue;be++)ne=(X-be)/(X-F),ne<0?ne=0:ne>1&&(ne=1),f[we++]=J-(J-q)*ne|0,f[we++]=L-(L-W)*ne|0,f[we++]=U-(U-z)*ne|0,f[we++]=255}}function Soe(t,e,n){const r=e.coords,i=e.colors;let a,o;switch(e.type){case oE.LATTICE:const s=e.verticesPerRow,c=Math.floor(r.length/s)-1,d=s-1;for(a=0;a<c;a++){let f=a*s;for(let h=0;h<d;h++,f++)yC(t,n,r[f],r[f+1],r[f+s],i[f],i[f+1],i[f+s]),yC(t,n,r[f+s+1],r[f+1],r[f+s],i[f+s+1],i[f+1],i[f+s])}break;case oE.TRIANGLES:for(a=0,o=r.length;a<o;a+=3)yC(t,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class Coe extends kP{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const s=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-s,f=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),v=d/h,b=f/m,x={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-c,scaleX:1/v,scaleY:1/b},S=h+4,C=m+4,T=r.getCanvas("mesh",S,C),E=T.context,k=E.createImageData(h,m);if(n){const D=k.data;for(let j=0,I=D.length;j<I;j+=4)D[j]=n[0],D[j+1]=n[1],D[j+2]=n[2],D[j+3]=255}for(const D of this._figures)Soe(k,D,x);return E.putImageData(k,2,2),{canvas:T.canvas,offsetX:s-2*v,offsetY:c-2*b,scaleX:v,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){pE(e,this._bbox);const a=new Float32Array(2);if(i===Ti.SHADING)gt.singularValueDecompose2dScale(fr(e),a);else if(this.matrix){gt.singularValueDecompose2dScale(this.matrix,a);const[s,c]=a;gt.singularValueDecompose2dScale(n.baseTransform,a),a[0]*=s,a[1]*=c}else gt.singularValueDecompose2dScale(n.baseTransform,a);const o=this._createMeshCanvas(a,i===Ti.SHADING?null:this._background,n.cachedCanvases);return i!==Ti.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class Aoe extends kP{getPattern(){return"hotpink"}}function _oe(t){switch(t[0]){case"RadialAxial":return new woe(t);case"Mesh":return new Coe(t);case"Dummy":return new Aoe}throw new Error(`Unknown IR type: ${t[0]}`)}const BL={COLORED:1,UNCOLORED:2};class PP{static MAX_PATTERN_SIZE=3e3;constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){const{bbox:r,operatorList:i,paintType:a,tilingType:o,color:s,canvasGraphicsFactory:c}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),Mx("TilingType: "+o);const h=r[0],m=r[1],v=r[2],b=r[3],x=v-h,S=b-m,C=new Float32Array(2);gt.singularValueDecompose2dScale(this.matrix,C);const[T,E]=C;gt.singularValueDecompose2dScale(this.baseTransform,C);const k=T*C[0],M=E*C[1];let D=x,j=S,I=!1,B=!1;const G=Math.ceil(d*k),V=Math.ceil(f*M),K=Math.ceil(x*k),te=Math.ceil(S*M);G>=K?D=d:I=!0,V>=te?j=f:B=!0;const X=this.getSizeAndScale(D,this.ctx.canvas.width,k),J=this.getSizeAndScale(j,this.ctx.canvas.height,M),L=e.cachedCanvases.getCanvas("pattern",X.size,J.size),U=L.context,F=c.createCanvasGraphics(U,n);if(F.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(F,a,s),U.translate(-X.scale*h,-J.scale*m),F.transform(0,X.scale,0,0,J.scale,0,0),U.save(),F.dependencyTracker?.save(),this.clipBbox(F,h,m,v,b),F.baseTransform=fr(F.ctx),F.executeOperatorList(i),F.endDrawing(),F.dependencyTracker?.restore(),U.restore(),I||B){const q=L.canvas;I&&(D=d),B&&(j=f);const W=this.getSizeAndScale(D,this.ctx.canvas.width,k),z=this.getSizeAndScale(j,this.ctx.canvas.height,M),Y=W.size,ne=z.size,ie=e.cachedCanvases.getCanvas("pattern-workaround",Y,ne),ue=ie.context,we=I?Math.floor(x/d):0,be=B?Math.floor(S/f):0;for(let qe=0;qe<=we;qe++)for(let ae=0;ae<=be;ae++)ue.drawImage(q,Y*qe,ne*ae,Y,ne,0,0,Y,ne);return{canvas:ie.canvas,scaleX:W.scale,scaleY:z.scale,offsetX:h,offsetY:m}}return{canvas:L.canvas,scaleX:X.scale,scaleY:J.scale,offsetX:h,offsetY:m}}getSizeAndScale(e,n,r){const i=Math.max(PP.MAX_PATTERN_SIZE,n);let a=Math.ceil(e*r);return a>=i?a=i:r=a/e,{scale:r,size:a}}clipBbox(e,n,r,i,a){const o=i-n,s=a-r;e.ctx.rect(n,r,o,s),gt.axialAlignedBoundingBox([n,r,i,a],fr(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,a=e.current;switch(n){case BL.COLORED:const{fillStyle:o,strokeStyle:s}=this.ctx;i.fillStyle=a.fillColor=o,i.strokeStyle=a.strokeColor=s;break;case BL.UNCOLORED:i.fillStyle=i.strokeStyle=r,a.fillColor=a.strokeColor=r;break;default:throw new Iae(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,a){let o=r;i!==Ti.SHADING&&(o=gt.transform(o,n.baseTransform),this.matrix&&(o=gt.transform(o,this.matrix)));const s=this.createPatternCanvas(n,a);let c=new DOMMatrix(o);c=c.translate(s.offsetX,s.offsetY),c=c.scale(1/s.scaleX,1/s.scaleY);const d=e.createPattern(s.canvas,"repeat");return d.setTransform(c),d}}function Eoe({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:a=4294967295,inverseDecode:o=!1}){const s=Wr.isLittleEndian?4278190080:255,[c,d]=o?[a,s]:[s,a],f=r>>3,h=r&7,m=t.length;n=new Uint32Array(n.buffer);let v=0;for(let b=0;b<i;b++){for(const S=e+f;e<S;e++){const C=e<m?t[e]:255;n[v++]=C&128?d:c,n[v++]=C&64?d:c,n[v++]=C&32?d:c,n[v++]=C&16?d:c,n[v++]=C&8?d:c,n[v++]=C&4?d:c,n[v++]=C&2?d:c,n[v++]=C&1?d:c}if(h===0)continue;const x=e<m?t[e++]:255;for(let S=0;S<h;S++)n[v++]=x&1<<7-S?d:c}return{srcPos:e,destPos:v}}const $L=16,FL=100,Toe=15,UL=10,Ca=16,bC=new DOMMatrix,Fa=new Float32Array(2),Yf=new Float32Array([1/0,1/0,-1/0,-1/0]);function koe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,a,o,s){e.transform(n,r,i,a,o,s),this.__originalTransform(n,r,i,a,o,s)},t.setTransform=function(n,r,i,a,o,s){e.setTransform(n,r,i,a,o,s),this.__originalSetTransform(n,r,i,a,o,s)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,a,o,s){e.bezierCurveTo(n,r,i,a,o,s),this.__originalBezierCurveTo(n,r,i,a,o,s)},t.rect=function(n,r,i,a){e.rect(n,r,i,a),this.__originalRect(n,r,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Poe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function Sy(t,e,n,r,i,a,o,s,c,d){const[f,h,m,v,b,x]=fr(t);if(h===0&&m===0){const T=o*f+b,E=Math.round(T),k=s*v+x,M=Math.round(k),D=(o+c)*f+b,j=Math.abs(Math.round(D)-E)||1,I=(s+d)*v+x,B=Math.abs(Math.round(I)-M)||1;return t.setTransform(Math.sign(f),0,0,Math.sign(v),E,M),t.drawImage(e,n,r,i,a,0,0,j,B),t.setTransform(f,h,m,v,b,x),[j,B]}if(f===0&&v===0){const T=s*m+b,E=Math.round(T),k=o*h+x,M=Math.round(k),D=(s+d)*m+b,j=Math.abs(Math.round(D)-E)||1,I=(o+c)*h+x,B=Math.abs(Math.round(I)-M)||1;return t.setTransform(0,Math.sign(h),Math.sign(m),0,E,M),t.drawImage(e,n,r,i,a,0,0,B,j),t.setTransform(f,h,m,v,b,x),[B,j]}t.drawImage(e,n,r,i,a,o,s,c,d);const S=Math.hypot(f,h),C=Math.hypot(m,v);return[S*c,C*d]}class HL{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=aE;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Yr.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,n,r){r?.(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=Yf.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Ti.FILL,n=null){const r=this.minMax.slice();if(e===Ti.STROKE){n||Gn("Stroke bounding box must include transform."),gt.singularValueDecompose2dScale(n,Fa);const i=Fa[0]*this.lineWidth/2,a=Fa[1]*this.lineWidth/2;r[0]-=i,r[1]-=a,r[2]+=i,r[3]+=a}return r}updateClipFromPath(){const e=gt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Yf,0)}getClippedPathBoundingBox(e=Ti.FILL,n=null){return gt.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function VL(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Ca,a=(n-i)/Ca,o=i===0?a:a+1,s=t.createImageData(r,Ca);let c=0,d;const f=e.data,h=s.data;let m,v,b,x;if(e.kind===tb.GRAYSCALE_1BPP){const S=f.byteLength,C=new Uint32Array(h.buffer,0,h.byteLength>>2),T=C.length,E=r+7>>3,k=4294967295,M=Wr.isLittleEndian?4278190080:255;for(m=0;m<o;m++){for(b=m<a?Ca:i,d=0,v=0;v<b;v++){const D=S-c;let j=0;const I=D>E?r:D*8-7,B=I&-8;let G=0,V=0;for(;j<B;j+=8)V=f[c++],C[d++]=V&128?k:M,C[d++]=V&64?k:M,C[d++]=V&32?k:M,C[d++]=V&16?k:M,C[d++]=V&8?k:M,C[d++]=V&4?k:M,C[d++]=V&2?k:M,C[d++]=V&1?k:M;for(;j<I;j++)G===0&&(V=f[c++],G=128),C[d++]=V&G?k:M,G>>=1}for(;d<T;)C[d++]=0;t.putImageData(s,0,m*Ca)}}else if(e.kind===tb.RGBA_32BPP){for(v=0,x=r*Ca*4,m=0;m<a;m++)h.set(f.subarray(c,c+x)),c+=x,t.putImageData(s,0,v),v+=Ca;m<o&&(x=r*i*4,h.set(f.subarray(c,c+x)),t.putImageData(s,0,v))}else if(e.kind===tb.RGB_24BPP)for(b=Ca,x=r*b,m=0;m<o;m++){for(m>=a&&(b=i,x=r*b),d=0,v=x;v--;)h[d++]=f[c++],h[d++]=f[c++],h[d++]=f[c++],h[d++]=255;t.putImageData(s,0,m*Ca)}else throw new Error(`bad image kind: ${e.kind}`)}function qL(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Ca,a=(n-i)/Ca,o=i===0?a:a+1,s=t.createImageData(r,Ca);let c=0;const d=e.data,f=s.data;for(let h=0;h<o;h++){const m=h<a?Ca:i;({srcPos:c}=Eoe({src:d,srcPos:c,dest:f,width:r,height:m,nonBlackColor:0})),t.putImageData(s,0,h*Ca)}}function tm(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Cy(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function GL(t,e){if(e)return!0;gt.singularValueDecompose2dScale(t,Fa);const n=Math.fround(Ds.pixelRatio*bh.PDF_TO_CSS_UNITS);return Fa[0]<=n&&Fa[1]<=n}const Ooe=["butt","round","square"],Moe=["miter","round","bevel"],Doe={},YL={};class rh{constructor(e,n,r,i,a,{optionalContentConfig:o,markedContentStack:s=null},c,d,f){this.ctx=e,this.current=new HL(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=s||[],this.optionalContentConfig=o,this.cachedCanvases=new Poe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(e,n,r=null){return typeof n=="string"?(this.dependencyTracker?.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const a=this.ctx.canvas.width,o=this.ctx.canvas.height,s=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,o),this.ctx.fillStyle=s,r){const c=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...fr(this.compositeCtx))}this.ctx.save(),Cy(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=fr(this.ctx)}executeOperatorList(e,n,r,i,a){const o=e.argsArray,s=e.fnArray;let c=n||0;const d=o.length;if(d===c)return c;const f=d-c>UL&&typeof r=="function",h=f?Date.now()+Toe:0;let m=0;const v=this.commonObjs,b=this.objs;let x,S;for(;;){if(i!==void 0&&c===i.nextBreakPoint)return i.breakIt(c,r),c;if(!a||a(c))if(x=s[c],S=o[c]??null,x!==pd.dependency)S===null?this[x](c):this[x](c,...S);else for(const C of S){this.dependencyTracker?.recordNamedData(C,c);const T=C.startsWith("g_")?v:b;if(!T.has(C))return T.get(C,r),c}if(c++,c===d)return c;if(f&&++m>UL){if(Date.now()>h)return r(),c;m=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(n[0],n[1]),1),o=Math.max(Math.hypot(n[2],n[3]),1),s=r,c=i,d="prescale1",f,h;for(;a>2&&s>1||o>2&&c>1;){let m=s,v=c;a>2&&s>1&&(m=s>=16384?Math.floor(s/2)-1||1:Math.ceil(s/2),a/=s/m),o>2&&c>1&&(v=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/v),f=this.cachedCanvases.getCanvas(d,m,v),h=f.context,h.clearRect(0,0,m,v),h.drawImage(e,0,0,s,c,0,0,m,v),e=f.canvas,s=m,c=v,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:s,paintHeight:c}}_createMaskCanvas(e,n){const r=this.ctx,{width:i,height:a}=n,o=this.current.fillColor,s=this.current.patternFill,c=fr(r);let d,f,h,m;if((n.bitmap||n.data)&&n.count>1){const G=n.bitmap||n.data.buffer;f=JSON.stringify(s?c:[c.slice(0,4),o]),d=this._cachedBitmapsMap.get(G),d||(d=new Map,this._cachedBitmapsMap.set(G,d));const V=d.get(f);if(V&&!s){const K=Math.round(Math.min(c[0],c[2])+c[4]),te=Math.round(Math.min(c[1],c[3])+c[5]);return this.dependencyTracker?.recordDependencies(e,fo.transformAndFill),{canvas:V,offsetX:K,offsetY:te}}h=V}h||(m=this.cachedCanvases.getCanvas("maskCanvas",i,a),qL(m.context,n));let v=gt.transform(c,[1/i,0,0,-1/a,0,0]);v=gt.transform(v,[1,0,0,1,0,-a]);const b=Yf.slice();gt.axialAlignedBoundingBox([0,0,i,a],v,b);const[x,S,C,T]=b,E=Math.round(C-x)||1,k=Math.round(T-S)||1,M=this.cachedCanvases.getCanvas("fillCanvas",E,k),D=M.context,j=x,I=S;D.translate(-j,-I),D.transform(...v),h||(h=this._scaleImage(m.canvas,fs(D)),h=h.img,d&&s&&d.set(f,h)),D.imageSmoothingEnabled=GL(fr(D),n.interpolate),Sy(D,h,0,0,h.width,h.height,0,0,i,a),D.globalCompositeOperation="source-in";const B=gt.transform(fs(D),[1,0,0,1,-j,-I]);return D.fillStyle=s?o.getPattern(r,this,B,Ti.FILL,e):o,D.fillRect(0,0,i,a),d&&!s&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,M.canvas)),this.dependencyTracker?.recordDependencies(e,fo.transformAndFill),{canvas:M.canvas,offsetX:Math.round(j),offsetY:Math.round(I)}}setLineWidth(e,n){this.dependencyTracker?.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=Ooe[n]}setLineJoin(e,n){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Moe[n]}setMiterLimit(e,n){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){this.dependencyTracker?.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){for(const[r,i]of n)switch(r){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const o=this.ctx=a.context;o.setTransform(this.suspendedCtx.getTransform()),tm(this.suspendedCtx,o),koe(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),tm(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const a=i[0],o=i[1],s=i[2]-a,c=i[3]-o;s===0||c===0||(this.genericComposeSMask(n.context,r,s,c,n.subtype,n.backdrop,n.transferMap,a,o,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,a,o,s,c,d,f,h){let m=e.canvas,v=c-f,b=d-h;if(o)if(v<0||b<0||v+r>m.width||b+i>m.height){const S=this.cachedCanvases.getCanvas("maskExtension",r,i),C=S.context;C.drawImage(m,-v,-b),C.globalCompositeOperation="destination-atop",C.fillStyle=o,C.fillRect(0,0,r,i),C.globalCompositeOperation="source-over",m=S.canvas,v=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(v,b,r,i),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(v,b,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),a==="Alpha"&&s?n.filter=this.filterFactory.addAlphaFilter(s):a==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(s));const x=new Path2D;x.rect(c,d,r,i),n.clip(x),n.globalCompositeOperation="destination-in",n.drawImage(m,v,b,r,i,c,d,r,i),n.restore()}save(e){this.inSMaskMode&&tm(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&tm(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,a,o,s){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,a,o,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[a]=r;if(!i){a||=r[0]=new Path2D,this[n](e,a);return}if(this.dependencyTracker!==null){const o=n===pd.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-o,i[2]+o,i[1]-o,i[3]+o).recordDependencies(e,["transform"])}a instanceof Path2D||(a=r[0]=d6(a)),gt.axialAlignedBoundingBox(i,fr(this.ctx),this.current.minMax),this[n](e,a),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const o=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,fs(i),Ti.STROKE,e),o){const s=new Path2D;s.addPath(n,i.getTransform().invertSelf().multiplySelf(o)),n=s}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);this.dependencyTracker?.recordDependencies(e,fo.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(Ti.STROKE,fr(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){const i=this.ctx,a=this.current.fillColor,o=this.current.patternFill;let s=!1;if(o){const d=a.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=a.getPattern(i,this,fs(i),Ti.FILL,e),d){const f=new Path2D;f.addPath(n,i.getTransform().invertSelf().multiplySelf(d)),n=f}s=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),this.dependencyTracker?.recordDependencies(e,fo.fill),s&&(i.restore(),this.dependencyTracker?.restore(e)),r&&this.consumePath(e,n,c)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){this.ctx.fill(n),this.dependencyTracker?.recordDependencies(e,fo.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=Doe}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=YL}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,a=r.getTransform().invertSelf();for(const{transform:o,x:s,y:c,fontSize:d,path:f}of n)f&&i.addPath(f,new DOMMatrix(o).preMultiplySelf(a).translate(s,c).scale(d,-d));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),a=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(a.fontMatrix=i.fontMatrix||aE,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&Ft("Invalid font matrix for font "+n),r<0?(r=-r,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const o=i.loadedName||"sans-serif",s=i.systemFontInfo?.css||`"${o}", ${i.fallbackName}`;let c="normal";i.black?c="900":i.bold&&(c="bold");const d=i.italic?"italic":"normal";let f=r;r<$L?f=$L:r>FL&&(f=FL),this.current.fontSizeScale=r/f,this.ctx.font=`${d} ${c} ${f}px ${s}`}setTextRenderingMode(e,n){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#r(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i}paintChar(e,n,r,i,a,o){const s=this.ctx,c=this.current,d=c.font,f=c.textRenderingMode,h=c.fontSize/c.fontSizeScale,m=f&Yr.FILL_STROKE_MASK,v=!!(f&Yr.ADD_TO_PATH_FLAG),b=c.patternFill&&!d.missingFile,x=c.patternStroke&&!d.missingFile;let S;if((d.disableFontFace||v||b||x)&&!d.missingFile&&(S=d.getPathGenerator(this.commonObjs,n)),S&&(d.disableFontFace||b||x)){s.save(),s.translate(r,i),s.scale(h,-h),this.dependencyTracker?.recordCharacterBBox(e,s,d);let C;if(m===Yr.FILL||m===Yr.FILL_STROKE)if(a){C=s.getTransform(),s.setTransform(...a);const T=this.#r(S,C,a);s.fill(T)}else s.fill(S);if(m===Yr.STROKE||m===Yr.FILL_STROKE)if(o){C||=s.getTransform(),s.setTransform(...o);const{a:T,b:E,c:k,d:M}=C,D=gt.inverseTransform(o),j=gt.transform([T,E,k,M,0,0],D);gt.singularValueDecompose2dScale(j,Fa),s.lineWidth*=Math.max(Fa[0],Fa[1])/h,s.stroke(this.#r(S,C,o))}else s.lineWidth/=h,s.stroke(S);s.restore()}else(m===Yr.FILL||m===Yr.FILL_STROKE)&&(s.fillText(n,r,i),this.dependencyTracker?.recordCharacterBBox(e,s,d,h,r,i,()=>s.measureText(n))),(m===Yr.STROKE||m===Yr.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,s,d,h,r,i,()=>s.measureText(n)).recordDependencies(e,fo.stroke),s.strokeText(n,r,i));v&&((this.pendingTextPaths||=[]).push({transform:fr(s),x:r,y:i,fontSize:h,path:S}),this.dependencyTracker?.recordCharacterBBox(e,s,d,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Ut(this,"isFontSubpixelAAEnabled",r)}showText(e,n){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,fo.showText).resetBBox(e),this.current.textRenderingMode&Yr.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),this.dependencyTracker?.recordShowTextOperation(e);return}const a=r.fontSize;if(a===0){this.dependencyTracker?.recordOperation(e);return}const o=this.ctx,s=r.fontSizeScale,c=r.charSpacing,d=r.wordSpacing,f=r.fontDirection,h=r.textHScale*f,m=n.length,v=i.vertical,b=v?1:-1,x=i.defaultVMetrics,S=a*r.fontMatrix[0],C=r.textRenderingMode===Yr.FILL&&!i.disableFontFace&&!r.patternFill;o.save(),r.textMatrix&&o.transform(...r.textMatrix),o.translate(r.x,r.y+r.textRise),f>0?o.scale(h,-1):o.scale(h,1);let T,E;const k=r.textRenderingMode&Yr.FILL_STROKE_MASK,M=k===Yr.FILL||k===Yr.FILL_STROKE,D=k===Yr.STROKE||k===Yr.FILL_STROKE;if(M&&r.patternFill){o.save();const V=r.fillColor.getPattern(o,this,fs(o),Ti.FILL,e);T=fr(o),o.restore(),o.fillStyle=V}if(D&&r.patternStroke){o.save();const V=r.strokeColor.getPattern(o,this,fs(o),Ti.STROKE,e);E=fr(o),o.restore(),o.strokeStyle=V}let j=r.lineWidth;const I=r.textMatrixScale;if(I===0||j===0?D&&(j=this.getSinglePixelWidth()):j/=I,s!==1&&(o.scale(s,s),j/=s),o.lineWidth=j,i.isInvalidPDFjsFont){const V=[];let K=0;for(const X of n)V.push(X.unicode),K+=X.width;const te=V.join("");if(o.fillText(te,0,0),this.dependencyTracker!==null){const X=o.measureText(te);this.dependencyTracker.recordBBox(e,this.ctx,-X.actualBoundingBoxLeft,X.actualBoundingBoxRight,-X.actualBoundingBoxAscent,X.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=K*S*h,o.restore(),this.compose();return}let B=0,G;for(G=0;G<m;++G){const V=n[G];if(typeof V=="number"){B+=b*V*a/1e3;continue}let K=!1;const te=(V.isSpace?d:0)+c,X=V.fontChar,J=V.accent;let L,U,F=V.width;if(v){const z=V.vmetric||x,Y=-(V.vmetric?z[1]:F*.5)*S,ne=z[2]*S;F=z?-z[0]:F,L=Y/s,U=(B+ne)/s}else L=B/s,U=0;let q;if(i.remeasure&&F>0){q=o.measureText(X);const z=q.width*1e3/a*s;if(F<z&&this.isFontSubpixelAAEnabled){const Y=F/z;K=!0,o.save(),o.scale(Y,1),L/=Y}else F!==z&&(L+=(F-z)/2e3*a/s)}if(this.contentVisible&&(V.isInFont||i.missingFile)){if(C&&!J)o.fillText(X,L,U),this.dependencyTracker?.recordCharacterBBox(e,o,q?{bbox:null}:i,a/s,L,U,()=>q??o.measureText(X));else if(this.paintChar(e,X,L,U,T,E),J){const z=L+a*J.offset.x/s,Y=U-a*J.offset.y/s;this.paintChar(e,J.fontChar,z,Y,T,E)}}const W=v?F*S-te*f:F*S+te*f;B+=W,K&&o.restore()}v?r.y-=B:r.x+=B*h,o.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,a=i.font,o=i.fontSize,s=i.fontDirection,c=a.vertical?1:-1,d=i.charSpacing,f=i.wordSpacing,h=i.textHScale*s,m=i.fontMatrix||aE,v=n.length,b=i.textRenderingMode===Yr.INVISIBLE;let x,S,C,T;if(b||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,s);const E=this.dependencyTracker;for(this.dependencyTracker=E?new zb(E,e):null,x=0;x<v;++x){if(S=n[x],typeof S=="number"){T=c*S*o/1e3,this.ctx.translate(T,0),i.x+=T*h;continue}const k=(S.isSpace?f:0)+d,M=a.charProcOperatorList[S.operatorListId];M?this.contentVisible&&(this.save(),r.scale(o,o),r.transform(...m),this.executeOperatorList(M),this.restore()):Ft(`Type3 character "${S.operatorListId}" is not available.`);const D=[S.width,0];gt.applyTransform(D,m),C=D[0]*o+k,r.translate(C,0),i.x+=C*h}r.restore(),E&&(this.dependencyTracker=E)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,a,o,s){const c=new Path2D;c.rect(i,a,o-i,s-a),this.ctx.clip(c),this.dependencyTracker?.recordBBox(e,this.ctx,i,o,a,s).recordClipBox(e,this.ctx,i,o,a,s),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||fr(this.ctx),a={createCanvasGraphics:(o,s)=>new rh(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new zb(this.dependencyTracker,s,!0):null)};r=new PP(n,this.ctx,a,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=_oe(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,fs(r),Ti.SHADING,e);const a=fs(r);if(a){const{width:o,height:s}=r.canvas,c=Yf.slice();gt.axialAlignedBoundingBox([0,0,o,s],a,c);const[d,f,h,m]=c;this.ctx.fillRect(d,f,h-d,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,fo.transform).recordDependencies(e,fo.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Gn("Should not call beginInlineImage")}beginImageData(){Gn("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=fr(this.ctx),r)){gt.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[i,a,o,s]=r,c=new Path2D;c.rect(i,a,o-i,s-a),this.ctx.clip(c),this.dependencyTracker?.recordClipBox(e,this.ctx,i,o,a,s),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||Mx("TODO: Support non-isolated groups."),n.knockout&&Ft("Knockout groups not supported.");const i=fr(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let a=Yf.slice();gt.axialAlignedBoundingBox(n.bbox,fr(r),a);const o=[0,0,r.canvas.width,r.canvas.height];a=gt.intersect(a,o)||[0,0,0,0];const s=Math.floor(a[0]),c=Math.floor(a[1]),d=Math.max(Math.ceil(a[2])-s,1),f=Math.max(Math.ceil(a[3])-c,1);this.current.startNewPathAndClipBox([0,0,d,f]);let h="groupAt"+this.groupLevel;n.smask&&(h+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(h,d,f),v=m.context;v.translate(-s,-c),v.transform(...i);let b=new Path2D;const[x,S,C,T]=n.bbox;if(b.rect(x,S,C-x,T-S),n.matrix){const E=new Path2D;E.addPath(b,new DOMMatrix(n.matrix)),b=E}v.clip(b),n.smask&&this.smaskStack.push({canvas:m.canvas,context:v,offsetX:s,offsetY:c,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(s,c),r.save()),tm(r,v),this.ctx=v,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=fr(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=Yf.slice();gt.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,r,i,a,o){if(this.#e(),Cy(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const s=r[2]-r[0],c=r[3]-r[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=s,r[3]=c,gt.singularValueDecompose2dScale(fr(this.ctx),Fa);const{viewportScale:d}=this,f=Math.ceil(s*this.outputScaleX*d),h=Math.ceil(c*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,h);const{canvas:m,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(n,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Fa[0],0,0,-Fa[1],0,c*Fa[1]),Cy(this.ctx)}else{Cy(this.ctx),this.endPath(e);const d=new Path2D;d.rect(r[0],r[1],s,c),this.ctx.clip(d)}}this.current=new HL(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...a)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,a=this._createMaskCanvas(e,n),o=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,a.offsetX,a.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,a.offsetX,a.offsetX+o.width,a.offsetY,a.offsetY+o.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,a=0,o,s){if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const c=this.ctx;c.save();const d=fr(c);c.transform(r,i,a,o,0,0);const f=this._createMaskCanvas(e,n);c.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]),this.dependencyTracker?.resetBBox(e);for(let h=0,m=s.length;h<m;h+=2){const v=gt.transform(d,[r,i,a,o,s[h],s[h+1]]);c.drawImage(f.canvas,v[4],v[5]),this.dependencyTracker?.recordBBox(e,this.ctx,v[4],v[4]+f.canvas.width,v[5],v[5]+f.canvas.height)}c.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,a=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,fo.transformAndFill);for(const o of n){const{data:s,width:c,height:d,transform:f}=o,h=this.cachedCanvases.getCanvas("maskCanvas",c,d),m=h.context;m.save();const v=this.getObject(e,s,o);qL(m,v),m.globalCompositeOperation="source-in",m.fillStyle=a?i.getPattern(m,this,fs(r),Ti.FILL,e):i,m.fillRect(0,0,c,d),m.restore(),r.save(),r.transform(...f),r.scale(1,-1),Sy(r,h.canvas,0,0,c,d,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,c,0,d),r.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){Ft("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,a){if(!this.contentVisible)return;const o=this.getObject(e,n);if(!o){Ft("Dependent image isn't ready yet");return}const s=o.width,c=o.height,d=[];for(let f=0,h=a.length;f<h;f+=2)d.push({transform:[r,0,0,i,a[f],a[f+1]],x:0,y:0,w:s,h:c});this.paintInlineImageXObjectGroup(e,o,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",r,i),o=a.context;return o.filter=this.current.transferMaps,o.drawImage(n,0,0),o.filter="none",a.canvas}paintInlineImageXObject(e,n){if(!this.contentVisible)return;const r=n.width,i=n.height,a=this.ctx;this.save(e);const{filter:o}=a;o!=="none"&&o!==""&&(a.filter="none"),a.scale(1/r,-1/i);let s;if(n.bitmap)s=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)s=n;else{const f=this.cachedCanvases.getCanvas("inlineImage",r,i).context;VL(f,n),s=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(s,fs(a));a.imageSmoothingEnabled=GL(fr(a),n.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,a,0,r,-i,0).recordDependencies(e,fo.imageXObject).recordOperation(e),Sy(a,c.img,0,0,c.paintWidth,c.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){if(!this.contentVisible)return;const i=this.ctx;let a;if(n.bitmap)a=n.bitmap;else{const o=n.width,s=n.height,d=this.cachedCanvases.getCanvas("inlineImage",o,s).context;VL(d,n),a=this.applyTransferMapsToCanvas(d)}this.dependencyTracker?.resetBBox(e);for(const o of r)i.save(),i.transform(...o.transform),i.scale(1,-1),Sy(i,a,o.x,o.y,o.w,o.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,fo.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){this.dependencyTracker?.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const a=this.ctx;this.pendingClip?(i||(this.pendingClip===YL?a.clip(n,"evenodd"):a.clip(n)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=fr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:a}=this.ctx.getTransform();let o,s;if(r===0&&i===0){const c=Math.abs(n),d=Math.abs(a);if(c===d)if(e===0)o=s=1/c;else{const f=c*e;o=s=f<1?1/f:1}else if(e===0)o=1/c,s=1/d;else{const f=c*e,h=d*e;o=f<1?1/f:1,s=h<1?1/h:1}}else{const c=Math.abs(n*a-r*i),d=Math.hypot(n,r),f=Math.hypot(i,a);if(e===0)o=f/c,s=d/c;else{const h=e*c;o=f>h?f/h:1,s=d>h?d/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[a,o]=this.getScaleForStroking();if(a===o){r.lineWidth=(i||1)*a,r.stroke(e);return}const s=r.getLineDash();n&&r.save(),r.scale(a,o),bC.a=1/a,bC.d=1/o;const c=new Path2D;if(c.addPath(e,bC),s.length>0){const d=Math.max(a,o);r.setLineDash(s.map(f=>f/d)),r.lineDashOffset/=d}r.lineWidth=i||1,r.stroke(c),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const t in pd)rh.prototype[t]!==void 0&&(rh.prototype[pd[t]]=rh.prototype[t]);class ih{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class joe{#e;#t;constructor({parsedData:e,rawData:n}){this.#e=e,this.#t=n}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const Hf=Symbol("INTERNAL");class Roe{#e=!1;#t=!1;#r=!1;#n=!0;constructor(e,{name:n,intent:r,usage:i,rbGroups:a}){this.#e=!!(e&Ba.DISPLAY),this.#t=!!(e&Ba.PRINT),this.name=n,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(this.#r)return this.#n;if(!this.#n)return!1;const{print:e,view:n}=this.usage;return this.#e?n?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,n,r=!1){e!==Hf&&Gn("Internal method `_setVisible` called."),this.#r=r,this.#n=n}}class Loe{#e=null;#t=new Map;#r=null;#n=null;constructor(e,n=Ba.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const r of e.groups)this.#t.set(r.id,new Roe(n,r));if(e.baseState==="OFF")for(const r of this.#t.values())r._setVisible(Hf,!1);for(const r of e.on)this.#t.get(r)._setVisible(Hf,!0);for(const r of e.off)this.#t.get(r)._setVisible(Hf,!1);this.#r=this.getHash()}}#o(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const a=e[i];let o;if(Array.isArray(a))o=this.#o(a);else if(this.#t.has(a))o=this.#t.get(a).visible;else return Ft(`Optional content group not found: ${a}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return Mx("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Ft(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#o(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!this.#t.has(n))return Ft(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!this.#t.has(n))return Ft(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!this.#t.has(n))return Ft(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!this.#t.has(n))return Ft(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!1}return!0}return Ft(`Unknown optional content policy ${e.policy}.`),!0}return Ft(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){const i=this.#t.get(e);if(!i){Ft(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&this.#t.get(o)?._setVisible(Hf,!1,!0);i._setVisible(Hf,!!n,!0),this.#e=null}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const a=this.#t.get(i);if(a)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!a.visible,n);break}}this.#e=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new h6;for(const[n,r]of this.#t)e.update(`${n}:${r.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class Noe{constructor(e,{disableRange:n=!1,disableStream:r=!1}){cn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:o,contentDispositionFilename:s}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=s,a?.length>0){const c=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,d)=>{this._onReceiveData({begin:c,chunk:d})}),e.addProgressListener((c,d)=>{this._onProgress({loaded:c,total:d})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(r),!0)});cn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){cn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Ioe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new zoe(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Ioe{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=CP(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class zoe{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Boe(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let f=s(n);return f=unescape(f),f=c(f),f=d(f),a(f)}if(n=o(t),n){const f=d(n);return a(f)}if(n=r("filename","i").exec(t),n){n=n[1];let f=s(n);return f=d(f),a(f)}function r(f,h){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(f,h){if(f){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const m=new TextDecoder(f,{fatal:!0}),v=xg(h);h=m.decode(v),e=!1}catch{}}return h}function a(f){return e&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),e&&(f=i("iso-8859-1",f))),f}function o(f){const h=[];let m;const v=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=v.exec(f))!==null;){let[,x,S,C]=m;if(x=parseInt(x,10),x in h){if(x===0)break;continue}h[x]=[S,C]}const b=[];for(let x=0;x<h.length&&x in h;++x){let[S,C]=h[x];C=s(C),S&&(C=unescape(C),x===0&&(C=c(C))),b.push(C)}return b.join("")}function s(f){if(f.startsWith('"')){const h=f.slice(1).split('\\"');for(let m=0;m<h.length;++m){const v=h[m].indexOf('"');v!==-1&&(h[m]=h[m].slice(0,v),h.length=m+1),h[m]=h[m].replaceAll(/\\(.)/g,"$1")}f=h.join('"')}return f}function c(f){const h=f.indexOf("'");if(h===-1)return f;const m=f.slice(0,h),b=f.slice(h+1).replace(/^[^']*'/,"");return i(m,b)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,m,v,b){if(v==="q"||v==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,S){return String.fromCharCode(parseInt(S,16))}),i(m,b);try{b=atob(b)}catch{}return i(m,b)})}return""}function x6(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function Rx(t){return URL.parse(t)?.origin??null}function w6({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function S6(t){const e=t.get("Content-Disposition");if(e){let n=Boe(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(CP(n))return n}return null}function _g(t,e){return new Ib(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function C6(t){return t===200||t===206}function A6(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function _6(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Ft(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class $oe{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=x6(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return cn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Foe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Uoe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Foe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,A6(r,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=Rx(a.url),!C6(a.status))throw _g(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const o=a.headers,{allowRangeRequests:s,suggestedLength:c}=w6({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=c||this._contentLength,this._filename=S6(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Gc("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:_6(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Uoe{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${n}-${r-1}`);const o=i.url;fetch(o,A6(a,this._withCredentials,this._abortController)).then(s=>{const c=Rx(s.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!C6(s.status))throw _g(s.status,o);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:_6(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const xC=200,wC=206;function Hoe(t){const e=t.response;return typeof e!="string"?e:xg(e).buffer}class Voe{_responseOrigin=null;constructor({url:e,httpHeaders:n,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=x6(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[a,o]of this.headers)n.setRequestHeader(a,o);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=wC):i.expectedStatus=xC,n.responseType="arraybuffer",cn(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){const r=this.pendingRequests[e];r&&r.onProgress?.(n)}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const a=i.status||xC;if(!(a===xC&&r.expectedStatus===wC)&&a!==r.expectedStatus){r.onError(i.status);return}const s=Hoe(i);if(a===wC){const c=i.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);d?r.onDone({begin:parseInt(d[1],10),chunk:s}):(Ft('Missing or invalid "Content-Range" header.'),r.onError(0))}else s?r.onDone({begin:0,chunk:s}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class qoe{constructor(e){this._source=e,this._manager=new Voe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return cn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Goe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new Yoe(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Goe{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=Rx(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(s=>{const[c,...d]=s.split(": ");return[c,d.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:o}=w6({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=S6(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=_g(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Yoe{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=Rx(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=_g(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Koe=/^[a-z][a-z0-9\-+.]+:/i;function Woe(t){if(Koe.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class Xoe{constructor(e){this.source=e,this.url=Woe(e.url),cn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return cn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Zoe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Qoe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Zoe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=_g(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Gc("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Qoe{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const nm=Symbol("INITIAL_DATA");class E6{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:nm}}get(e,n=null){if(n){const i=this.#t(e);return i.promise.then(()=>n(i.data)),null}const r=this.#e[e];if(!r||r.data===nm)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=this.#e[e];return!!n&&n.data!==nm}delete(e){const n=this.#e[e];return!n||n.data===nm?!1:(delete this.#e[e],!0)}resolve(e,n=null){const r=this.#t(e);r.data=n,r.resolve()}clear(){for(const e in this.#e){const{data:n}=this.#e[e];n?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:n}=this.#e[e];n!==nm&&(yield[e,n])}}}const Joe=1e5,KL=30;class $a{#e=Promise.withResolvers();#t=null;#r=!1;#n=!!globalThis.FontInspector?.enabled;#o=null;#a=null;#i=0;#s=0;#c=null;#l=null;#f=0;#d=0;#h=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#_=new WeakMap;static#C=null;static#w=new Set;constructor({textContentSource:e,container:n,viewport:r}){if(e instanceof ReadableStream)this.#m=e;else if(typeof e=="object")this.#m=new ReadableStream({start(c){c.enqueue(e),c.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=n,this.#d=r.scale*Ds.pixelRatio,this.#f=r.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:a,pageX:o,pageY:s}=r.rawDims;this.#v=[1,0,0,-1,-o,s+a],this.#s=i,this.#i=a,$a.#P(),n.style.setProperty("--min-font-size",$a.#C),md(n,r),this.#e.promise.finally(()=>{$a.#w.delete(this),this.#a=null,this.#h=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=Wr.platform;return Ut(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:n,done:r})=>{if(r){this.#e.resolve();return}this.#o??=n.lang,Object.assign(this.#h,n.styles),this.#T(n.items),e()},this.#e.reject)};return this.#c=this.#m.getReader(),$a.#w.add(this),e(),this.#e.promise}update({viewport:e,onBefore:n=null}){const r=e.scale*Ds.pixelRatio,i=e.rotation;if(i!==this.#f&&(n?.(),this.#f=i,md(this.#l,{rotation:i})),r!==this.#d){n?.(),this.#d=r;const a={div:null,properties:null,ctx:$a.#O(this.#o)};for(const o of this.#u)a.properties=this.#p.get(o),a.div=o,this.#A(a)}}cancel(){const e=new Gc("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#T(e){if(this.#r)return;this.#a.ctx??=$a.#O(this.#o);const n=this.#u,r=this.#g;for(const i of e){if(n.length>Joe){Ft("Ignoring additional textDivs for performance reasons."),this.#r=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const a=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id&&this.#t.setAttribute("id",`${i.id}`),a.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#x(i)}}#x(e){const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(n);const i=gt.transform(this.#v,e.transform);let a=Math.atan2(i[1],i[0]);const o=this.#h[e.fontName];o.vertical&&(a+=Math.PI/2);let s=this.#n&&o.fontSubstitution||o.fontFamily;s=$a.fontFamilyMap.get(s)||s;const c=Math.hypot(i[2],i[3]),d=c*$a.#I(s,o,this.#o);let f,h;a===0?(f=i[4],h=i[5]-d):(f=i[4]+d*Math.sin(a),h=i[5]-d*Math.cos(a));const m=n.style;m.left=`${(100*f/this.#s).toFixed(2)}%`,m.top=`${(100*h/this.#i).toFixed(2)}%`,m.setProperty("--font-height",`${c.toFixed(2)}px`),m.fontFamily=s,r.fontSize=c,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,this.#n&&(n.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),a!==0&&(r.angle=a*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);b!==x&&Math.max(b,x)/Math.min(b,x)>1.5&&(v=!0)}if(v&&(r.canvasWidth=o.vertical?e.height:e.width),this.#p.set(n,r),this.#a.div=n,this.#a.properties=r,this.#A(this.#a),r.hasText&&this.#t.append(n),r.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),this.#t.append(b)}}#A(e){const{div:n,properties:r,ctx:i}=e,{style:a}=n;if(r.canvasWidth!==0&&r.hasText){const{fontFamily:o}=a,{canvasWidth:s,fontSize:c}=r;$a.#k(i,c*this.#d,o);const{width:d}=i.measureText(n.textContent);d>0&&a.setProperty("--scale-x",s*this.#d/d)}r.angle!==0&&a.setProperty("--rotate",`${r.angle}deg`)}static cleanup(){if(!(this.#w.size>0)){this.#b.clear();for(const{canvas:e}of this.#y.values())e.remove();this.#y.clear()}}static#O(e=null){let n=this.#y.get(e||="");if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(e,n),this.#_.set(n,{size:0,family:""})}return n}static#k(e,n,r){const i=this.#_.get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)}static#P(){if(this.#C!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#C=e.getBoundingClientRect().height,e.remove()}static#I(e,n,r){const i=this.#b.get(e);if(i)return i;const a=this.#O(r);a.canvas.width=a.canvas.height=KL,this.#k(a,KL,e);const o=a.measureText(""),s=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let d=.8;return s?d=s/(s+c):(Wr.platform.isFirefox&&Ft("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?d=n.ascent:n.descent&&(d=1+n.descent)),this.#b.set(e,d),d}}const ese=100;function T6(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new OP,{docId:n}=e,r=t.url?soe(t.url):null,i=t.data?loe(t.data):null,a=t.httpHeaders||null,o=t.withCredentials===!0,s=t.password??null,c=t.range instanceof k6?t.range:null,d=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let f=t.worker instanceof Vm?t.worker:null;const h=t.verbosity,m=typeof t.docBaseUrl=="string"&&!Dx(t.docBaseUrl)?t.docBaseUrl:null,v=yy(t.cMapUrl),b=t.cMapPacked!==!1,x=t.CMapReaderFactory||(ra?goe:RL),S=yy(t.iccUrl),C=yy(t.standardFontDataUrl),T=t.StandardFontDataFactory||(ra?voe:LL),E=yy(t.wasmUrl),k=t.WasmFactory||(ra?yoe:NL),M=t.stopAtErrors!==!0,D=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,j=t.isEvalSupported!==!1,I=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!ra,B=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!ra&&(Wr.platform.isFirefox||!globalThis.chrome),G=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,V=typeof t.disableFontFace=="boolean"?t.disableFontFace:ra,K=t.fontExtraProperties===!0,te=t.enableXfa===!0,X=t.ownerDocument||globalThis.document,J=t.disableRange===!0,L=t.disableStream===!0,U=t.disableAutoFetch===!0,F=t.pdfBug===!0,q=t.CanvasFactory||(ra?moe:foe),W=t.FilterFactory||(ra?poe:hoe),z=t.enableHWA===!0,Y=t.useWasm!==!1,ne=c?c.length:t.length??NaN,ie=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!ra&&!V,ue=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(x===RL&&T===LL&&k===NL&&v&&C&&E&&bm(v,document.baseURI)&&bm(C,document.baseURI)&&bm(E,document.baseURI)),we=null;Rae(h);const be={canvasFactory:new q({ownerDocument:X,enableHWA:z}),filterFactory:new W({docId:n,ownerDocument:X}),cMapReaderFactory:ue?null:new x({baseUrl:v,isCompressed:b}),standardFontDataFactory:ue?null:new T({baseUrl:C}),wasmFactory:ue?null:new k({baseUrl:E})};f||(f=Vm.create({verbosity:h,port:ih.workerPort}),e._worker=f);const qe={docId:n,apiVersion:"5.4.530",data:i,password:s,disableAutoFetch:U,rangeChunkSize:d,length:ne,docBaseUrl:m,enableXfa:te,evaluatorOptions:{maxImageSize:D,disableFontFace:V,ignoreErrors:M,isEvalSupported:j,isOffscreenCanvasSupported:I,isImageDecoderSupported:B,canvasMaxAreaInBytes:G,fontExtraProperties:K,useSystemFonts:ie,useWasm:Y,useWorkerFetch:ue,cMapUrl:v,iccUrl:S,standardFontDataUrl:C,wasmUrl:E}},ae={ownerDocument:X,pdfBug:F,styleElement:we,loadingParams:{disableAutoFetch:U,enableXfa:te}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const se=f.messageHandler.sendWithPromise("GetDocRequest",qe,i?[i.buffer]:null);let Le;if(c)Le=new Noe(c,{disableRange:J,disableStream:L});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const de=bm(r)?$oe:ra?Xoe:qoe;Le=new de({url:r,length:ne,httpHeaders:a,withCredentials:o,rangeChunkSize:d,disableRange:J,disableStream:L})}return se.then(de=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const He=new xm(n,de,f.port),Re=new rse(He,e,Le,ae,be,z);e._transport=Re,He.send("Ready",null)})}).catch(e._capability.reject),e}class OP{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${OP.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class k6{#e=Promise.withResolvers();#t=[];#r=[];#n=[];#o=[];constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){this.#o.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#r.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,n){for(const r of this.#o)r(e,n)}onDataProgress(e,n){this.#e.promise.then(()=>{for(const r of this.#n)r(e,n)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const n of this.#r)n(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,n){Gn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class tse{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ut(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class nse{#e=!1;constructor(e,n,r,i=!1){this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new TL:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new E6,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:a=!1}={}){return new Sg({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ut(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:a=Bc.ENABLE,transform:o=null,background:s=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:h=null,isEditing:m=!1,recordOperations:v=!1,operationsFilter:b=null}){this._stats?.time("Overall");const x=this._transport.getRenderingIntent(i,a,h,m),{renderingIntent:S,cacheKey:C}=x;this.#e=!1,c||=this._transport.getOptionalContentConfig(S);let T=this._intentStates.get(C);T||(T=Object.create(null),this._intentStates.set(C,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const E=!!(S&Ba.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(x));const k=!!(this._pdfBug&&globalThis.StepperManager?.enabled),M=!this.recordedBBoxes&&(v||k),D=B=>{if(T.renderTasks.delete(j),M){const G=j.gfx?.dependencyTracker.take();G&&(j.stepper&&j.stepper.setOperatorBBoxes(G,j.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=G))}E&&(this.#e=!0),this.#t(),B?(j.capability.reject(B),this._abortOperatorList({intentState:T,reason:B instanceof Error?B:new Error(B)})):j.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},j=new Kf({callback:D,params:{canvas:n,canvasContext:e,dependencyTracker:M?new xoe(n,T.operatorList.length,k):null,viewport:r,transform:o,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:b});(T.renderTasks||=new Set).add(j);const I=j.task;return Promise.all([T.displayReadyCapability.promise,c]).then(([B,G])=>{if(this.destroyed){D();return}if(this._stats?.time("Rendering"),!(G.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");j.initializeGraphics({transparency:B,optionalContentConfig:G}),j.operatorListChanged()}).catch(D),I}getOperatorList({intent:e="display",annotationMode:n=Bc.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function a(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,n,r,i,!0);let s=this._intentStates.get(o.cacheKey);s||(s=Object.create(null),this._intentStates.set(o.cacheKey,s));let c;return s.opListReadCapability||(c=Object.create(null),c.operatorListChanged=a,s.opListReadCapability=Promise.withResolvers(),(s.renderTasks||=new Set).add(c),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),s.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Hm.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function a(){o.read().then(function({value:c,done:d}){if(d){r(s);return}s.lang??=c.lang,Object.assign(s.styles,c.styles),s.items.push(...c.items),a()},i)}const o=n.getReader(),s={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const n=this.#t();return e&&n&&(this._stats&&=new TL),n}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,n){const r=this._intentStates.get(n);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:a,transfer:o}=r,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:i},o).getReader(),d=this._intentStates.get(n);d.streamReader=c;const f=()=>{c.read().then(({value:h,done:m})=>{if(m){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,d),f())},h=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const m of d.renderTasks)m.operatorListChanged();this.#t()}if(d.displayReadyCapability)d.displayReadyCapability.reject(h);else if(d.opListReadCapability)d.opListReadCapability.reject(h);else throw h}})};f()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof SP){let i=ese;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Gc(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}var Fc,No,bl,Ju,I0,ed,td,oa,nb,P6,O6,wm,sh,rb;const ar=class ar{constructor({name:e=null,port:n=null,verbosity:r=Lae()}={}){cs(this,oa);cs(this,Fc,Promise.withResolvers());cs(this,No,null);cs(this,bl,null);cs(this,Ju,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(ir(ar,td).has(n))throw new Error("Cannot use more than one PDFWorker per port.");ir(ar,td).set(n,this),us(this,oa,P6).call(this,n)}else us(this,oa,O6).call(this)}get promise(){return ir(this,Fc).promise}get port(){return ir(this,bl)}get messageHandler(){return ir(this,No)}destroy(){this.destroyed=!0,ir(this,Ju)?.terminate(),wa(this,Ju,null),ir(ar,td).delete(ir(this,bl)),wa(this,bl,null),ir(this,No)?.destroy(),wa(this,No,null)}static create(e){const n=ir(this,td).get(e?.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new ar(e)}static get workerSrc(){if(ih.workerSrc)return ih.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ut(this,"_setupFakeWorkerGlobal",(async()=>ir(this,sh,rb)?ir(this,sh,rb):(await import(this.workerSrc)).WorkerMessageHandler)())}};Fc=new WeakMap,No=new WeakMap,bl=new WeakMap,Ju=new WeakMap,I0=new WeakMap,ed=new WeakMap,td=new WeakMap,oa=new WeakSet,nb=function(){ir(this,Fc).resolve(),ir(this,No).send("configure",{verbosity:this.verbosity})},P6=function(e){wa(this,bl,e),wa(this,No,new xm("main","worker",e)),ir(this,No).on("ready",()=>{}),us(this,oa,nb).call(this)},O6=function(){if(ir(ar,ed)||ir(ar,sh,rb)){us(this,oa,wm).call(this);return}let{workerSrc:e}=ar;try{ar._isSameOrigin(window.location,e)||(e=ar._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new xm("main","worker",n),i=()=>{a.abort(),r.destroy(),n.terminate(),this.destroyed?ir(this,Fc).reject(new Error("Worker was destroyed")):us(this,oa,wm).call(this)},a=new AbortController;n.addEventListener("error",()=>{ir(this,Ju)||i()},{signal:a.signal}),r.on("test",s=>{if(a.abort(),this.destroyed||!s){i();return}wa(this,No,r),wa(this,bl,n),wa(this,Ju,n),us(this,oa,nb).call(this)}),r.on("ready",s=>{if(a.abort(),this.destroyed){i();return}try{o()}catch{us(this,oa,wm).call(this)}});const o=()=>{const s=new Uint8Array;r.send("test",s,[s.buffer])};o();return}catch{Mx("The worker has been disabled.")}us(this,oa,wm).call(this)},wm=function(){ir(ar,ed)||(Ft("Setting up fake worker."),wa(ar,ed,!0)),ar._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){ir(this,Fc).reject(new Error("Worker was destroyed"));return}const n=new doe;wa(this,bl,n);const r=`fake${Ij(ar,I0)._++}`,i=new xm(r+"_worker",r,n);e.setup(i,n),wa(this,No,new xm(r,r+"_worker",n)),us(this,oa,nb).call(this)}).catch(e=>{ir(this,Fc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},sh=new WeakSet,rb=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},cs(ar,sh),cs(ar,I0,0),cs(ar,ed,!1),cs(ar,td,new WeakMap),ra&&(wa(ar,ed,!0),ih.workerSrc||="./pdf.worker.mjs"),ar._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!r?.origin||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},ar._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},ar.fromPort=e=>{if(Yae("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ar.create(e)};let Vm=ar;class rse{#e=new Map;#t=new Map;#r=new Map;#n=new Map;#o=null;constructor(e,n,r,i,a,o){this.messageHandler=e,this.loadingTask=n,this.commonObjs=new E6,this.fontLoader=new ioe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}#a(e,n=null){const r=this.#e.get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return this.#e.set(e,i),i}get annotationStorage(){return Ut(this,"annotationStorage",new EP)}getRenderingIntent(e,n=Bc.ENABLE,r=null,i=!1,a=!1){let o=Ba.DISPLAY,s=dE;switch(e){case"any":o=Ba.ANY;break;case"display":break;case"print":o=Ba.PRINT;break;default:Ft(`getRenderingIntent - invalid intent: ${e}`)}const c=o&Ba.PRINT&&r instanceof p6?r:this.annotationStorage;switch(n){case Bc.DISABLE:o+=Ba.ANNOTATIONS_DISABLE;break;case Bc.ENABLE:break;case Bc.ENABLE_FORMS:o+=Ba.ANNOTATIONS_FORMS;break;case Bc.ENABLE_STORAGE:o+=Ba.ANNOTATIONS_STORAGE,s=c.serializable;break;default:Ft(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(o+=Ba.IS_EDITING),a&&(o+=Ba.OPLIST);const{ids:d,hash:f}=c.modifiedIds,h=[o,s.hash,f];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:s,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#o?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#r.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),$a.cleanup(),this._networkStream?.cancelAllRequests(new Gc("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{cn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:o}){if(o){i.close();return}cn(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:o}=this._fullReader;return(!i||!a)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),this._fullReader.onProgress=s=>{n.onProgress?.({loaded:s.loaded,total:s.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:o}}),e.on("GetRangeReader",(r,i)=>{cn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(r.begin,r.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:o,done:s}){if(s){i.close();return}cn(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{a.cancel(o),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new tse(r,this))}),e.on("DocException",r=>{n._capability.reject(Sa(r))}),e.on("PasswordRequest",r=>{this.#o=Promise.withResolvers();try{if(!n.onPassword)throw Sa(r);const i=a=>{a instanceof Error?this.#o.reject(a):this.#o.resolve({password:a})};n.onPassword(i,r.code)}catch(i){this.#o.reject(i)}return this.#o.promise}),e.on("DataLoaded",r=>{n.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,a])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in a){const h=a.error;Ft(`Error during font loading: ${h}`),this.commonObjs.resolve(r,h);break}const o=new Fn(a),s=this._params.pdfBug&&globalThis.FontInspector?.enabled?(h,m)=>globalThis.FontInspector.fontAdded(h,m):null,c=new aoe(o,s,a.extra,a.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:d}=a;cn(d,"The imageRef must be defined.");for(const h of this.#t.values())for(const[,m]of h.objs)if(m?.ref===d)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":this.commonObjs.resolve(r,new ooe(a));break;case"Image":this.commonObjs.resolve(r,a);break;case"Pattern":const f=new si(a);this.commonObjs.resolve(r,f.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,a,o])=>{if(this.destroyed)return;const s=this.#t.get(i);if(!s.objs.has(r)){if(s._intentStates.size===0){o?.bitmap?.close();return}switch(a){case"Image":case"Pattern":s.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",r=>{this.destroyed||n.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ft("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=this.#r.get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#n.set(a.refStr,e);const o=new nse(n,a,this,this._params.pdfBug);return this.#t.set(n,o),o});return this.#r.set(n,i),i}getPageIndex(e){return fE(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#a("GetOptionalContentConfig").then(n=>new Loe(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=this.#e.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new joe(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null,hasStructTree:i[2]}));return this.#e.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),$a.cleanup()}}cachedPageNumber(e){if(!fE(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(n)??null}}class ise{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:n}=this.#e;return e.form||e.canvas&&n?.size>0}}class Kf{#e=null;static#t=new WeakSet;constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:o,pageIndex:s,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:h=!1,pageColors:m=null,enableHWA:v=!1,operationsFilter:b=null}){this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=s,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=h,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new ise(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=v,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(Kf.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Kf.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:a,dependencyTracker:o}=this.params,s=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new rh(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Kf.#t.delete(this._canvas),e||=new SP(`Rendering cancelled, page ${this._pageIndex+1}`,n),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Kf.#t.delete(this._canvas),this.callback())))}}const ase="5.4.530",ose="50cc4adac";class yo{#e=null;#t=null;#r;#n=null;#o=!1;#a=!1;#i=null;#s;#c=null;#l=null;static#f=null;static get _keyboardManager(){return Ut(this,"_keyboardManager",new Ag([[["Escape","mac+Escape"],yo.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],yo.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],yo.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],yo.prototype._moveToPrevious],[["Home","mac+Home"],yo.prototype._moveToBeginning],[["End","mac+End"],yo.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:n=null}){e?(this.#a=!1,this.#i=e):this.#a=!0,this.#l=e?._uiManager||n,this.#s=this.#l._eventBus,this.#r=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",yo.#f||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#i&&(e.ariaControls=`${this.#i.id}_colorpicker_dropdown`);const n=this.#l._signal;e.addEventListener("click",this.#m.bind(this),{signal:n}),e.addEventListener("keydown",this.#g.bind(this),{signal:n});const r=this.#t=document.createElement("span");return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=this.#r,e.append(r),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),n=this.#l._signal;e.addEventListener("contextmenu",Ao,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#i&&(e.id=`${this.#i.id}_colorpicker_dropdown`);for(const[r,i]of this.#l.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=r,a.setAttribute("data-l10n-id",yo.#f[r]);const o=document.createElement("span");a.append(o),o.className="swatch",o.style.backgroundColor=i,a.ariaSelected=i===this.#r,a.addEventListener("click",this.#h.bind(this,i),{signal:n}),e.append(a)}return e.addEventListener("keydown",this.#g.bind(this),{signal:n}),e}#h(e,n){n.stopPropagation(),this.#s.dispatch("switchannotationeditorparams",{source:this,type:ln.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#m(e);return}const n=e.target.getAttribute("data-color");n&&this.#h(n,e)}_moveToNext(e){if(!this.#p){this.#m(e);return}if(e.target===this.#e){this.#n.firstElementChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstElementChild||e.target===this.#e){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#p){this.#m(e);return}this.#n.firstElementChild?.focus()}_moveToEnd(e){if(!this.#p){this.#m(e);return}this.#n.lastElementChild?.focus()}#g(e){yo._keyboardManager.exec(this,e)}#m(e){if(this.#p){this.hideDropdown();return}if(this.#o=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const n=this.#n=this.#d();this.#e.append(n)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#p){this.#i?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#o})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const n=this.#l.highlightColors.values();for(const r of this.#n.children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class qm{#e=null;#t=null;#r=null;static#n=null;constructor(e){this.#t=e,this.#r=e._uiManager,qm.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:n,color:r}=this.#t,i=this.#e=document.createElement("input");return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",qm.#n[e]),i.addEventListener("input",()=>{this.#r.updateParams(n,i.value)},{signal:this.#r._signal}),i}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function WL(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function rm(t){return Math.max(0,Math.min(255,255*t))}class XL{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=rm(e),[e,e,e]}static G_HTML([e]){const n=WL(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(rm)}static RGB_HTML(e){return`#${e.map(WL).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[rm(1-Math.min(1,e+i)),rm(1-Math.min(1,r+i)),rm(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,a=1-n,o=1-r,s=Math.min(i,a,o);return["CMYK",i,a,o,s]}}class sse{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Gn("Abstract method `_createSVG` called.")}}class Bb extends sse{_createSVG(e){return document.createElementNS(ml,e)}}const lse=9,gd=new WeakSet,cse=new Date().getTimezoneOffset()*60*1e3;class SC{static create(e){switch(e.data.annotationType){case Nr.LINK:return new MP(e);case Nr.TEXT:return new dse(e);case Nr.WIDGET:switch(e.data.fieldType){case"Tx":return new fse(e);case"Btn":return e.data.radioButton?new M6(e):e.data.checkBox?new pse(e):new mse(e);case"Ch":return new gse(e);case"Sig":return new hse(e)}return new Rd(e);case Nr.POPUP:return new mE(e);case Nr.FREETEXT:return new D6(e);case Nr.LINE:return new yse(e);case Nr.SQUARE:return new bse(e);case Nr.CIRCLE:return new xse(e);case Nr.POLYLINE:return new j6(e);case Nr.CARET:return new Sse(e);case Nr.INK:return new DP(e);case Nr.POLYGON:return new wse(e);case Nr.HIGHLIGHT:return new R6(e);case Nr.UNDERLINE:return new Cse(e);case Nr.SQUIGGLY:return new Ase(e);case Nr.STRIKEOUT:return new _se(e);case Nr.STAMP:return new L6(e);case Nr.FILEATTACHMENT:return new Ese(e);default:return new pr(e)}}}class pr{#e=null;#t=!1;#r=null;constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,n&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return pr._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,n=this.annotationStorage?.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let a=-1/0,o=-1/0;if(n?.length>=8){for(let s=0;s<n.length;s+=8)n[s+1]>o?(o=n[s+1],a=n[s+2]):n[s+1]===o&&(a=Math.max(a,n[s+2]));return[a,o]}if(r?.length>=1){for(const s of r)for(let c=0,d=s.length;c<d;c+=2)s[c+1]>o?(o=s[c+1],a=s[c]):s[c+1]===o&&(a=Math.max(a,s[c]));if(a!==1/0)return[a,o]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:o}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-a)/r,e[1]=100*(e[1]-o)/i,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Um}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${Um}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#r?.popup||this.popup)?.remove(),this.#r=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:n,popup:r}=e;n&&this.#n(n);let i=this.#r?.popup||this.popup;!i&&r?.text&&(this._createPopup(r),i=this.#r.popup),i&&(i.updateEdited(e),r?.deleted&&(i.remove(),this.#r=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#r?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:o,pageX:s,pageY:c}}}}=this;r?.splice(0,4,...e),n.left=`${100*(e[0]-s)/a}%`,n.top=`${100*(o-e[3]+c)/o}%`,i===0?(n.width=`${100*(e[2]-e[0])/a}%`,n.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(i)}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",n.id),!(this instanceof Rd)&&!(this instanceof MP)&&(a.tabIndex=0);const{style:o}=a;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(a.title=n.alternativeText),n.noRotate&&a.classList.add("norotate"),!n.rect||this instanceof mE){const{rotation:x}=n;return!n.hasOwnCanvas&&x!==0&&this.setRotation(x,a),a}const{width:s,height:c}=this;if(!e&&n.borderStyle.width>0){o.borderWidth=`${n.borderStyle.width}px`;const x=n.borderStyle.horizontalCornerRadius,S=n.borderStyle.verticalCornerRadius;if(x>0||S>0){const T=`calc(${x}px * var(--total-scale-factor)) / calc(${S}px * var(--total-scale-factor))`;o.borderRadius=T}else if(this instanceof M6){const T=`calc(${s}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;o.borderRadius=T}switch(n.borderStyle.style){case Uf.SOLID:o.borderStyle="solid";break;case Uf.DASHED:o.borderStyle="dashed";break;case Uf.BEVELED:Ft("Unimplemented border style: beveled");break;case Uf.INSET:Ft("Unimplemented border style: inset");break;case Uf.UNDERLINE:o.borderBottomStyle="solid";break}const C=n.borderColor||null;C?(this.#t=!0,o.borderColor=gt.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):o.borderWidth=0}const d=gt.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:f,pageHeight:h,pageX:m,pageY:v}=i.rawDims;o.left=`${100*(d[0]-m)/f}%`,o.top=`${100*(d[1]-v)/h}%`;const{rotation:b}=n;return n.hasOwnCanvas||b===0?(o.width=`${100*s/f}%`,o.height=`${100*c/h}%`):this.setRotation(b,a),a}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:o}=this;e%180!==0&&([a,o]=[o,a]),n.style.width=`${100*a/r}%`,n.style.height=`${100*o/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const a=i.detail[n],o=a[0],s=a.slice(1);i.target.style[r]=XL[`${o}_HTML`](s),this.annotationStorage.setValue(this.data.id,{[r]:XL[`${o}_rgb`](s)})};return Ut(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail))(e[i]||r[i])?.(n)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,a]of Object.entries(n)){const o=r[i];if(o){const s={detail:{[i]:a},target:e};o(s),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,a]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,S,C,T]=e.subarray(2,6);if(i===x&&a===S&&n===C&&r===T)return}const{style:o}=this.container;let s;if(this.#t){const{borderColor:x,borderWidth:S}=o;o.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const c=i-n,d=a-r,{svgFactory:f}=this,h=f.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const m=f.createElement("defs");h.append(m);const v=f.createElement("clipPath"),b=`clippath_${this.data.id}`;v.setAttribute("id",b),v.setAttribute("clipPathUnits","objectBoundingBox"),m.append(v);for(let x=2,S=e.length;x<S;x+=8){const C=e[x],T=e[x+1],E=e[x+2],k=e[x+3],M=f.createElement("rect"),D=(E-n)/c,j=(a-T)/d,I=(C-E)/c,B=(T-k)/d;M.setAttribute("x",D),M.setAttribute("y",j),M.setAttribute("width",I),M.setAttribute("height",B),v.append(M),s?.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${j}" width="${I}" height="${B}"/>`)}this.#t&&(s.push("</g></svg>')"),o.backgroundImage=s.join("")),this.container.append(h),this.container.style.clipPath=`url(#${b})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate),this.#r=new mE({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#r||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#r}render(){Gn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:o,exportValues:s}of i){if(a===-1||o===n)continue;const c=typeof s=="string"?s:null,d=document.querySelector(`[data-element-id="${o}"]`);if(d&&!gd.has(d)){Ft(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:c,domElement:d})}return r}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,o=i.getAttribute("data-element-id");o!==n&&gd.has(i)&&r.push({id:o,exportValue:a,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class use extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class MP extends pr{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action,e.overlaidText),i=!0):e.attachment?(this.#t(r,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#r(r,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(r,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=r,this.container.append(r)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,n,r=""){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#e(),r&&(e.title=r)}_bindNamedAction(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),r&&(e.title=r),this.#e()}#t(e,n,r="",i=null){e.href=this.linkService.getAnchorUrl(""),n.description?e.title=n.description:r&&(e.title=r),e.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,i),!1),this.#e()}#r(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),r&&(e.title=r),this.#e()}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const a=r.get(i);a&&(e[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1))}n.overlaidText&&(e.title=n.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Ft('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();const{fields:i,refs:a,include:o}=n,s=[];if(i.length!==0||a.length!==0){const f=new Set(a);for(const h of i){const m=this._fieldObjects[h]||[];for(const{id:v}of m)f.add(v)}for(const h of Object.values(this._fieldObjects))for(const m of h)f.has(m.id)===o&&s.push(m)}else for(const f of Object.values(this._fieldObjects))s.push(...f);const c=this.annotationStorage,d=[];for(const f of s){const{id:h}=f;switch(d.push(h),f.type){case"text":{const v=f.defaultValue||"";c.setValue(h,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;c.setValue(h,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";c.setValue(h,{value:v});break}default:continue}const m=document.querySelector(`[data-element-id="${h}"]`);if(m){if(!gd.has(m)){Ft(`_bindResetFormAction - element not allowed: ${h}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class dse extends pr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Rd extends pr{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Wr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,a){r.includes("mouse")?e.addEventListener(r,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{if(r==="blur"){if(!n.focused||!o.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(o)}})})}_setEventListeners(e,n,r,i){for(const[a,o]of r)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(n||={focused:!1}),this._setEventListener(e,n,a,o,i),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,n,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":gt.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||lse,a=e.style;let o;const s=2,c=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-s),f=Math.round(d/(pC*i))||1,h=d/f;o=Math.min(i,c(h/pC))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-s);o=Math.min(i,c(d/pC))}a.fontSize=`calc(${o}px * var(--total-scale-factor))`,a.color=gt.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(a.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class fse extends Rd{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const a=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[n]=r),a.setValue(o.id,{[i]:r})}render(){const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=e.getValue(n,{value:this.data.fieldValue});let a=i.value||"";const o=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;o&&a.length>o&&(a=a.slice(0,o));let s=i.formattedValue||this.data.textContent?.join(`
`)||null;s&&this.data.comb&&(s=s.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:s,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=s??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",s??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),gd.add(r),this.contentElement=r,r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:d,datetimeType:f,timeStep:h}=this.data,m=!!f&&this.enableScripting;d&&(r.title=d),this._setRequired(r,this.data.required),o&&(r.maxLength=o),r.addEventListener("input",b=>{e.setValue(n,{value:b.target.value}),this.setPropertyOnSiblings(r,"value",b.target.value,"value"),c.formattedValue=null}),r.addEventListener("resetform",b=>{const x=this.data.defaultFieldValue??"";r.value=c.userValue=x,c.formattedValue=null});let v=b=>{const{formattedValue:x}=c;x!=null&&(b.target.value=x),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",x=>{if(c.focused)return;const{target:S}=x;if(m&&(S.type=f,h&&(S.step=h)),c.userValue){const C=c.userValue;if(m)if(f==="time"){const T=new Date(C),E=[T.getHours(),T.getMinutes(),T.getSeconds()];S.value=E.map(k=>k.toString().padStart(2,"0")).join(":")}else S.value=new Date(C-cse).toISOString().split(f==="date"?"T":".",1)[0];else S.value=C}c.lastCommittedValue=S.value,c.commitKey=1,this.data.actions?.Focus||(c.focused=!0)}),r.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const S={value(C){c.userValue=C.detail.value??"",m||e.setValue(n,{value:c.userValue.toString()}),C.target.value=c.userValue},formattedValue(C){const{formattedValue:T}=C.detail;c.formattedValue=T,T!=null&&C.target!==document.activeElement&&(C.target.value=T);const E={formattedValue:T};m&&(E.value=T),e.setValue(n,E)},selRange(C){C.target.setSelectionRange(...C.detail.selRange)},charLimit:C=>{const{charLimit:T}=C.detail,{target:E}=C;if(T===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",T);let k=c.userValue;!k||k.length<=T||(k=k.slice(0,T),E.value=c.userValue=k,e.setValue(n,{value:k}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(S,x)}),r.addEventListener("keydown",x=>{c.commitKey=1;let S=-1;if(x.key==="Escape"?S=0:x.key==="Enter"&&!this.data.multiLine?S=2:x.key==="Tab"&&(c.commitKey=3),S===-1)return;const{value:C}=x.target;c.lastCommittedValue!==C&&(c.lastCommittedValue=C,c.userValue=C,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:C,willCommit:!0,commitKey:S,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const b=v;v=null,r.addEventListener("blur",x=>{if(!c.focused||!x.relatedTarget)return;this.data.actions?.Blur||(c.focused=!1);const{target:S}=x;let{value:C}=S;if(m){if(C&&f==="time"){const T=C.split(":").map(E=>parseInt(E,10));C=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),S.step=""}else C.includes("T")||(C=`${C}T00:00`),C=new Date(C).valueOf();S.type="text"}c.userValue=C,c.lastCommittedValue!==C&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:C,willCommit:!0,commitKey:c.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}),b(x)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",x=>{c.lastCommittedValue=null;const{data:S,target:C}=x,{value:T,selectionStart:E,selectionEnd:k}=C;let M=E,D=k;switch(x.inputType){case"deleteWordBackward":{const j=T.substring(0,E).match(/\w*[^\w]*$/);j&&(M-=j[0].length);break}case"deleteWordForward":{const j=T.substring(E).match(/^[^\w]*\w*/);j&&(D+=j[0].length);break}case"deleteContentBackward":E===k&&(M-=1);break;case"deleteContentForward":E===k&&(D+=1);break}x.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:T,change:S||"",willCommit:!1,selStart:M,selEnd:D}})}),this._setEventListeners(r,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(v&&r.addEventListener("blur",v),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/o;r.classList.add("comb"),r.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class hse extends Rd{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class pse extends Rd{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return gd.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=0,a.addEventListener("change",o=>{const{name:s,checked:c}=o.target;for(const d of this._getElementsByName(s,r)){const f=c&&d.exportValue===n.exportValue;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}e.setValue(r,{value:c})}),a.addEventListener("resetform",o=>{const s=n.defaultFieldValue||"Off";o.target.checked=s===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",o=>{const s={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(s,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class M6 extends Rd{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(n.fieldName,r))e.setValue(o.id,{value:!1});const a=document.createElement("input");if(gd.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",o=>{const{name:s,checked:c}=o.target;for(const d of this._getElementsByName(s,r))e.setValue(d.id,{value:!1});e.setValue(r,{value:c})}),a.addEventListener("resetform",o=>{const s=n.defaultFieldValue;o.target.checked=s!=null&&s===n.buttonValue}),this.enableScripting&&this.hasJSActions){const o=n.buttonValue;a.addEventListener("updatefromsandbox",s=>{const c={value:d=>{const f=o===d.detail.value;for(const h of this._getElementsByName(d.target.name)){const m=f&&h.id===r;h.domElement&&(h.domElement.checked=m),e.setValue(h.id,{value:m})}}};this._dispatchEventFromSandbox(c,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class mse extends MP{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class gse extends Rd{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");gd.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const h=this.data.defaultFieldValue;for(const m of i.options)m.selected=m.value===h});for(const f of this.data.options){const h=document.createElement("option");h.textContent=f.displayValue,h.value=f.exportValue,r.value.includes(f.exportValue)&&(h.setAttribute("selected",!0),a=!1),i.append(h)}let o=null;if(a){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),o=()=>{f.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const s=f=>{const h=f?"value":"textContent",{options:m,multiple:v}=i;return v?Array.prototype.filter.call(m,b=>b.selected).map(b=>b[h]):m.selectedIndex===-1?null:m[m.selectedIndex][h]};let c=s(!1);const d=f=>{const h=f.target.options;return Array.prototype.map.call(h,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const h={value(m){o?.();const v=m.detail.value,b=new Set(Array.isArray(v)?v:[v]);for(const x of i.options)x.selected=b.has(x.value);e.setValue(n,{value:s(!0)}),c=s(!1)},multipleSelection(m){i.multiple=!0},remove(m){const v=i.options,b=m.detail.remove;v[b].selected=!1,i.remove(b),v.length>0&&Array.prototype.findIndex.call(v,S=>S.selected)===-1&&(v[0].selected=!0),e.setValue(n,{value:s(!0),items:d(m)}),c=s(!1)},clear(m){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),c=s(!1)},insert(m){const{index:v,displayValue:b,exportValue:x}=m.detail.insert,S=i.children[v],C=document.createElement("option");C.textContent=b,C.value=x,S?S.before(C):i.append(C),e.setValue(n,{value:s(!0),items:d(m)}),c=s(!1)},items(m){const{items:v}=m.detail;for(;i.length!==0;)i.remove(0);for(const b of v){const{displayValue:x,exportValue:S}=b,C=document.createElement("option");C.textContent=x,C.value=S,i.append(C)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:s(!0),items:d(m)}),c=s(!1)},indices(m){const v=new Set(m.detail.indices);for(const b of m.target.options)b.selected=v.has(b.index);e.setValue(n,{value:s(!0)}),c=s(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(h,f)}),i.addEventListener("input",f=>{const h=s(!0),m=s(!1);e.setValue(n,{value:h}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:c,change:m,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){e.setValue(n,{value:s(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class mE extends pr{constructor(e){const{data:n,elements:r,parent:i}=e,a=!!i._commentManager;if(super(e,{isRenderable:!a&&pr._hasPopupData(n)}),this.elements=r,a&&pr._hasPopupData(n)){const o=this.popup=this.#e();for(const s of r)s.popup=o}else this.popup=null}#e(){return new vse({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const n=this.popup=this.#e(),r=[];for(const i of this.elements)i.popup=n,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${Gf}${i}`).join(",")),this.container}}class vse{#e=null;#t=this.#V.bind(this);#r=this.#B.bind(this);#n=this.#j.bind(this);#o=this.#S.bind(this);#a=null;#i=null;#s=null;#c=null;#l=null;#f=null;#d=null;#h=!1;#g=null;#m=null;#u=null;#p=null;#v=null;#b=null;#y=null;#_=null;#C=null;#w=null;#T=!1;#x=null;#A=null;constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:o,richText:s,parent:c,rect:d,parentRect:f,open:h,commentManager:m=null}){this.#i=e,this.#C=i,this.#s=o,this.#_=s,this.#f=c,this.#a=n,this.#y=d,this.#d=f,this.#l=r,this.#e=m,this.#x=r[0],this.#c=lE.toDateObject(a),this.trigger=r.flatMap(v=>v.getElementsToTriggerPopup()),m||(this.#O(),this.#i.hidden=!0,h&&this.#S())}#O(){if(this.#m)return;this.#m=new AbortController;const{signal:e}=this.#m;for(const n of this.trigger)n.addEventListener("click",this.#o,{signal:e}),n.addEventListener("pointerenter",this.#n,{signal:e}),n.addEventListener("pointerleave",this.#r,{signal:e}),n.classList.add("popupTriggerArea");for(const n of this.#l)n.container?.addEventListener("keydown",this.#t,{signal:e})}#k(){const e=this.#l.find(n=>n.hasCommentButton);e&&(this.#v=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#x.container.after(this.#p);return}if(this.#v||this.#k(),!this.#v)return;const{signal:e}=this.#m=new AbortController,n=this.#x.hasOwnCommentButton,r=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!n)},i=()=>{this.#e.toggleCommentPopup(this,!1,!0,!n)},a=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(n){this.#p=this.#x.container;for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",r,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",a,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=this.#p=document.createElement("button");o.className="annotationCommentButton";const s=this.#x.container;o.style.zIndex=s.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#I(),this.#P(),o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",r,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",a,{signal:e}),s.after(o)}}#P(){if(this.#x.extraPopupElement&&!this.#x.editor)return;this.#p||this.renderCommentButton();const[e,n]=this.#v,{style:r}=this.#p;r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`}#I(){this.#x.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:n}=this.#x.commentData;return e?this.#f._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}=this.#x.commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}}get elementBeforePopup(){return this.#p}get comment(){return this.#A||=this.#x.commentText,this.#A}set comment(e){e!==this.comment&&(this.#x.commentText=this.#A=e)}focus(){this.#x.container?.focus()}get parentBoundingClientRect(){return this.#x.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){this.#p&&(this.#p.classList.toggle("selected",e),this.#p.ariaExpanded=n)}setSelectedCommentButton(e){this.#p.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:e,y:n,height:r}=this.#p.getBoundingClientRect(),{x:i,y:a,width:o,height:s}=this.#x.layer.getBoundingClientRect();return[(e-i)/o,(n+r-a)/s]}set commentPopupPosition(e){this.#b=e}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#v}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=this.#b||this.commentButtonPosition.map(d=>d/100),i=this.parentBoundingClientRect,{x:a,y:o,width:s,height:c}=i;this.#e.showDialog(null,this,a+n*s,o+r*c,{...e,parentDimensions:i})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#a){const r=e.style.outlineColor=gt.makeHexColor(...this.#a);e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const n=document.createElement("span");if(n.className="header",this.#C?.str){const r=document.createElement("span");r.className="title",n.append(r),{dir:r.dir,str:r.textContent}=this.#C}if(e.append(n),this.#c){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),r.dateTime=this.#c.toISOString(),n.append(r)}u6({html:this.#D||this.#s.str,dir:this.#s?.dir,className:"popupContent"},e),this.#i.append(e)}get#D(){const e=this.#_,n=this.#s;return e?.str&&(!n?.str||n.str===e.str)&&this.#_.html||null}get#R(){return this.#D?.attributes?.style?.fontSize||0}get#z(){return this.#D?.attributes?.style?.color||null}#L(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:this.#z,fontSize:this.#R?`calc(${this.#R}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))n.push({name:"span",value:a,attributes:i});return r}#V(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#h)&&this.#S()}updateEdited({rect:e,popup:n,deleted:r}){if(this.#e){r?(this.remove(),this.#A=null):n&&(n.deleted?this.remove():(this.#I(),this.#A=n.text)),e&&(this.#v=null,this.#k(),this.#P());return}if(r||n?.deleted){this.remove();return}this.#O(),this.#w||={contentsObj:this.#s,richText:this.#_},e&&(this.#u=null),n&&n.text&&(this.#_=this.#L(n.text),this.#c=lE.toDateObject(n.date),this.#s=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#w&&({contentsObj:this.#s,richText:this.#_}=this.#w,this.#w=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#T=!1,this.#h=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#E(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}}=this.#f;let o=!!this.#d,s=o?this.#d:this.#y;for(const b of this.#l)if(!s||gt.intersect(b.data.rect,s)!==null){s=b.data.rect,o=!0;break}const c=gt.normalizeRect([s[0],e[3]-s[1]+e[1],s[2],e[3]-s[3]+e[1]]),f=o?s[2]-s[0]+5:0,h=c[0]+f,m=c[1];this.#u=[100*(h-i)/n,100*(m-a)/r];const{style:v}=this.#i;v.left=`${this.#u[0]}%`,v.top=`${this.#u[1]}%`}#S(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#h=!this.#h,this.#h?(this.#j(),this.#i.addEventListener("click",this.#o),this.#i.addEventListener("keydown",this.#t)):(this.#B(),this.#i.removeEventListener("click",this.#o),this.#i.removeEventListener("keydown",this.#t))}#j(){this.#g||this.render(),this.isVisible?this.#h&&this.#i.classList.add("focused"):(this.#E(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#B(){this.#i.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#T=this.isVisible,this.#T&&(this.#i.hidden=!0)}maybeShow(){this.#e||(this.#O(),this.#T&&(this.#g||this.#j(),this.#T=!1,this.#i.hidden=!1))}get isVisible(){return this.#e?!1:this.#i.hidden===!1}}class D6 extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ht.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class yse extends pr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),a=this.#e=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class bse extends pr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class xse extends pr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",n/2),o.setAttribute("cy",r/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class j6 extends pr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:i},width:a,height:o}=this;if(!n)return this.container;const s=this.svgFactory.create(a,o,!0);let c=[];for(let f=0,h=n.length;f<h;f+=2){const m=n[f]-e[0],v=e[3]-n[f+1];c.push(`${m},${v}`)}c=c.join(" ");const d=this.#e=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",c),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),s.append(d),this.container.append(s),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class wse extends j6{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Sse extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class DP extends pr{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ht.HIGHLIGHT:Ht.INK}#r(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:r,borderStyle:i,popupRef:a}}=this,{transform:o,width:s,height:c}=this.#r(n,e),d=this.svgFactory.create(s,c,!0),f=this.#e=this.svgFactory.createElement("svg:g");d.append(f),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let h=0,m=r.length;h<m;h++){const v=this.svgFactory.createElement(this.svgElementName);this.#t.push(v),v.setAttribute("points",r[h].join(",")),f.append(v)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:r,rect:i}=e,a=this.#e;if(n>=0&&a.setAttribute("stroke-width",n||1),r)for(let o=0,s=this.#t.length;o<s;o++)this.#t[o].setAttribute("points",r[o].join(","));if(i){const{transform:o,width:s,height:c}=this.#r(this.data.rotation,i);a.parentElement.setAttribute("viewBox",`0 0 ${s} ${c}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class R6 extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ht.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class Cse extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class Ase extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class _se extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class L6 extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ht.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class Ese extends pr{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:i}=Wr.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(i?a.metaKey:a.ctrlKey)&&this.#t()}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class jP{#e=null;#t=null;#r=null;#n=new Map;#o=null;#a=null;#i=[];#s=!1;constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:o,structTreeLayer:s,commentManager:c,linkService:d,annotationStorage:f}){this.div=e,this.#e=n,this.#t=r,this.#o=s||null,this.#a=d||null,this.#r=f||new EP,this.page=a,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=c||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:n}=e,r=this.div;md(r,this.viewport);const i=new Map,a=[],o={data:null,layer:r,linkService:this.#a,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Bb,annotationStorage:this.#r,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const s of n){if(s.noHTML)continue;const c=s.annotationType===Nr.POPUP;if(c){const h=i.get(s.id);if(!h)continue;if(!this._commentManager){a.push(s);continue}o.elements=h}else if(s.rect[2]===s.rect[0]||s.rect[3]===s.rect[1])continue;o.data=s;const d=SC.create(o);if(!d.isRenderable)continue;if(!c&&(this.#i.push(d),s.popupRef)){const h=i.get(s.popupRef);h?h.push(d):i.set(s.popupRef,[d])}const f=d.render();s.hidden&&(f.style.visibility="hidden"),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}await this.#c();for(const s of a){const c=o.elements=i.get(s.id);o.data=s;const d=SC.create(o);if(!d.isRenderable)continue;const f=d.render();d.contentElement.id=`${Gf}${s.id}`,s.hidden&&(f.style.visibility="hidden"),c.at(-1).container.after(f)}this.#l()}async#c(){if(this.#i.length===0)return;this.div.replaceChildren();const e=[];if(!this.#s){this.#s=!0;for(const{contentElement:r,data:{id:i}}of this.#i){const a=r.id=`${Gf}${i}`;e.push(this.#o?.getAriaAttributes(a).then(o=>{if(o)for(const[s,c]of o)r.setAttribute(s,c)}))}}this.#i.sort(({data:{rect:[r,i,a,o]}},{data:{rect:[s,c,d,f]}})=>{if(r===a&&i===o)return 1;if(s===d&&c===f)return-1;const h=o,m=i,v=(i+o)/2,b=f,x=c,S=(c+f)/2;if(v>=b&&S<=m)return-1;if(S>=h&&v<=x)return 1;const C=(r+a)/2,T=(s+d)/2;return C-T});const n=document.createDocumentFragment();for(const r of this.#i)n.append(r.container),this._commentManager?(r.extraPopupElement?.popup||r.popup)?.renderCommentButton():r.extraPopupElement&&n.append(r.extraPopupElement.render());if(this.div.append(n),await Promise.all(e),this.#e)for(const r of this.#i)this.#e.addPointerInTextLayer(r.contentElement,!1)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:this.#a,svgFactory:new Bb,parent:this};for(const r of e){r.borderStyle||=jP._defaultBorderStyle,n.data=r;const i=SC.create(n);i.isRenderable&&(i.render(),i.contentElement.id=`${Gf}${r.id}`,this.#i.push(i))}await this.#c()}update({viewport:e}){const n=this.div;this.viewport=e,md(n,{rotation:e.rotation}),this.#l(),n.hidden=!1}#l(){if(!this.#t)return;const e=this.div;for(const[n,r]of this.#t){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):i.append(r);const o=this.#n.get(n);o&&(o._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(n,i.id,r),o._hasNoCanvas=!1):o.canvas=r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:n}=this,{id:r,rotation:i}=e,a=new use({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:this.#a,annotationStorage:this.#r});return a.render(),a.contentElement.id=`${Gf}${r}`,a.createOrUpdatePopup(),this.#i.push(a),a}removeAnnotation(e){const n=this.#i.findIndex(i=>i.data.id===e);if(n<0)return;const[r]=this.#i.splice(n,1);this.#e?.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const n of e)n.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Ut(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Uf.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Ay=/\r\n?|\n/g;class li extends Pt{#e="";#t=`${this.id}-editor`;#r=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=li.prototype,n=a=>a.isEmpty(),r=Yc.TRANSLATE_SMALL,i=Yc.TRANSLATE_BIG;return Ut(this,"_keyboardManager",new Ag([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}]]))}static _type="freetext";static _editorType=Ht.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||li._defaultColor||Pt._defaultLineColor,this.#n=e.fontSize||li._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,n){Pt.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case ln.FREETEXT_SIZE:li._defaultFontSize=n;break;case ln.FREETEXT_COLOR:li._defaultColor=n;break}}updateParams(e,n){switch(e){case ln.FREETEXT_SIZE:this.#o(n);break;case ln.FREETEXT_COLOR:this.#a(n);break}}static get defaultPropertiesToUpdate(){return[[ln.FREETEXT_SIZE,li._defaultFontSize],[ln.FREETEXT_COLOR,li._defaultColor||Pt._defaultLineColor]]}get propertiesToUpdate(){return[[ln.FREETEXT_SIZE,this.#n],[ln.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new qm(this),[["colorPicker",this._colorPicker]]}get colorType(){return ln.FREETEXT_COLOR}#o(e){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#n)*this.parentScale),this.#n=i,this.#s()},r=this.#n;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#a(e){const n=i=>{this.color=i,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-li._internalPadding*e,-(li._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const e=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#i(){const e=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(li.#c(r)),n=r);return e.join(`
`)}#s(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:a}=this,o=a.style.display,s=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",s)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,n=this.#e=this.#i().trimEnd();if(e===n)return;const r=i=>{if(this.#e=i,!i){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#s()};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),this.#s()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){li._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,n;(this._isCopy||this.annotationElementId)&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[s,c]=this.getInitialTranslation();[s,c]=this.pageTranslationToScreen(s,c);const[d,f]=this.pageDimensions,[h,m]=this.pageTranslation;let v,b;switch(this.rotation){case 0:v=e+(o[0]-h)/d,b=n+this.height-(o[1]-m)/f;break;case 90:v=e+(o[0]-h)/d,b=n-(o[1]-m)/f,[s,c]=[c,-s];break;case 180:v=e-this.width+(o[0]-h)/d,b=n-(o[1]-m)/f,[s,c]=[-s,-c];break;case 270:v=e+(o[0]-h-this.height*f)/d,b=n+(o[1]-m-this.width*d)/f,[s,c]=[-c,s];break}this.setAt(v*i,b*a,s,c)}else this._moveAfterPaste(e,n);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Ay,"")}editorDivPaste(e){const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const i=li.#d(n.getData("text")||"").replaceAll(Ay,`
`);if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!i.includes(`
`)){o.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:s,startOffset:c}=o,d=[],f=[];if(s.nodeType===Node.TEXT_NODE){const v=s.parentElement;if(f.push(s.nodeValue.slice(c).replaceAll(Ay,"")),v!==this.editorDiv){let b=d;for(const x of this.editorDiv.childNodes){if(x===v){b=f;continue}b.push(li.#c(x))}}d.push(s.nodeValue.slice(0,c).replaceAll(Ay,""))}else if(s===this.editorDiv){let v=d,b=0;for(const x of this.editorDiv.childNodes)b++===c&&(v=f),v.push(li.#c(x))}this.#e=`${d.join(`
`)}${i}${f.join(`
`)}`,this.#l();const h=new Range;let m=Math.sumPrecise(d.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const b=v.nodeValue.length;if(m<=b){h.setStart(v,m),h.setEnd(v,m);break}m-=b}a.removeAllRanges(),a.addRange(h)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}}#f(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=li._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,n,r){let i=null;if(e instanceof D6){const{data:{defaultAppearanceData:{fontSize:o,fontColor:s},rect:c,rotation:d,id:f,popupRef:h,richText:m,contentsObj:v,creationDate:b,modificationDate:x},textContent:S,textPosition:C,parent:{page:{pageNumber:T}}}=e;if(!S||S.length===0)return null;i=e={annotationType:Ht.FREETEXT,color:Array.from(s),fontSize:o,value:S.join(`
`),position:C,pageIndex:T-1,rect:c.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:h,comment:v?.str||null,richText:m,creationDate:b,modificationDate:x}}const a=await super.deserialize(e,n,r);return a.#n=e.fontSize,a.color=gt.makeHexColor(...e.color),a.#e=li.#d(e.value),a._initialData=i,e.comment&&a.setCommentData(e),a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(e),{color:n,fontSize:this.#n,value:this.#f()});return this.addComment(r),e?(r.isCopy=!0,r):this.annotationElementId&&!this.#h(r)?null:(r.id=this.annotationElementId,r)}#h(e){const{value:n,fontSize:r,color:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((o,s)=>o!==i[s])||e.pageIndex!==a}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(!n)return null;const{style:r}=n;r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,n.replaceChildren();for(const i of this.#e.split(`
`)){const a=document.createElement("div");a.append(i?document.createTextNode(i):document.createElement("br")),n.append(a)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class yt{static PRECISION=1e-4;toSVGPath(){Gn("Abstract method `toSVGPath` must be implemented.")}get box(){Gn("Abstract getter `box` must be implemented.")}serialize(e,n){Gn("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,a,o){o||=new Float32Array(e.length);for(let s=0,c=e.length;s<c;s+=2)o[s]=n+e[s]*i,o[s+1]=r+e[s+1]*a;return o}static _rescaleAndSwap(e,n,r,i,a,o){o||=new Float32Array(e.length);for(let s=0,c=e.length;s<c;s+=2)o[s]=n+e[s+1]*i,o[s+1]=r+e[s]*a;return o}static _translate(e,n,r,i){i||=new Float32Array(e.length);for(let a=0,o=e.length;a<o;a+=2)i[a]=n+e[a],i[a+1]=r+e[a+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,a){switch(a){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,a,o){return[(e+5*r)/6,(n+5*i)/6,(5*r+a)/6,(5*i+o)/6,(r+a)/2,(i+o)/2]}}class Ku{#e;#t=[];#r;#n;#o=[];#a=new Float32Array(18);#i;#s;#c;#l;#f;#d;#h=[];static#g=8;static#m=2;static#u=Ku.#g+Ku.#m;constructor({x:e,y:n},r,i,a,o,s=0){this.#e=r,this.#d=a*i,this.#n=o,this.#a.set([NaN,NaN,NaN,NaN,e,n],6),this.#r=s,this.#l=Ku.#g*i,this.#c=Ku.#u*i,this.#f=i,this.#h.push(e,n)}isEmpty(){return isNaN(this.#a[8])}#p(){const e=this.#a.subarray(4,6),n=this.#a.subarray(16,18),[r,i,a,o]=this.#e;return[(this.#i+(e[0]-n[0])/2-r)/a,(this.#s+(e[1]-n[1])/2-i)/o,(this.#i+(n[0]-e[0])/2-r)/a,(this.#s+(n[1]-e[1])/2-i)/o]}add({x:e,y:n}){this.#i=e,this.#s=n;const[r,i,a,o]=this.#e;let[s,c,d,f]=this.#a.subarray(8,12);const h=e-d,m=n-f,v=Math.hypot(h,m);if(v<this.#c)return!1;const b=v-this.#l,x=b/v,S=x*h,C=x*m;let T=s,E=c;s=d,c=f,d+=S,f+=C,this.#h?.push(e,n);const k=-C/b,M=S/b,D=k*this.#d,j=M*this.#d;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([d+D,f+j],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([d-D,f-j],16),isNaN(this.#a[6])?(this.#o.length===0&&(this.#a.set([s+D,c+j],2),this.#o.push(NaN,NaN,NaN,NaN,(s+D-r)/a,(c+j-i)/o),this.#a.set([s-D,c-j],14),this.#t.push(NaN,NaN,NaN,NaN,(s-D-r)/a,(c-j-i)/o)),this.#a.set([T,E,s,c,d,f],6),!this.isEmpty()):(this.#a.set([T,E,s,c,d,f],6),Math.abs(Math.atan2(E-c,T-s)-Math.atan2(C,S))<Math.PI/2?([s,c,d,f]=this.#a.subarray(2,6),this.#o.push(NaN,NaN,NaN,NaN,((s+d)/2-r)/a,((c+f)/2-i)/o),[s,c,T,E]=this.#a.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((T+s)/2-r)/a,((E+c)/2-i)/o),!0):([T,E,s,c,d,f]=this.#a.subarray(0,6),this.#o.push(((T+5*s)/6-r)/a,((E+5*c)/6-i)/o,((5*s+d)/6-r)/a,((5*c+f)/6-i)/o,((s+d)/2-r)/a,((c+f)/2-i)/o),[d,f,s,c,T,E]=this.#a.subarray(12,18),this.#t.push(((T+5*s)/6-r)/a,((E+5*c)/6-i)/o,((5*s+d)/6-r)/a,((5*c+f)/6-i)/o,((s+d)/2-r)/a,((c+f)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#o,n=this.#t;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#v();const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#y(r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return this.#b(r),r.join(" ")}#v(){const[e,n,r,i]=this.#e,[a,o,s,c]=this.#p();return`M${(this.#a[2]-e)/r} ${(this.#a[3]-n)/i} L${(this.#a[4]-e)/r} ${(this.#a[5]-n)/i} L${a} ${o} L${s} ${c} L${(this.#a[16]-e)/r} ${(this.#a[17]-n)/i} L${(this.#a[14]-e)/r} ${(this.#a[15]-n)/i} Z`}#b(e){const n=this.#t;e.push(`L${n[4]} ${n[5]} Z`)}#y(e){const[n,r,i,a]=this.#e,o=this.#a.subarray(4,6),s=this.#a.subarray(16,18),[c,d,f,h]=this.#p();e.push(`L${(o[0]-n)/i} ${(o[1]-r)/a} L${c} ${d} L${f} ${h} L${(s[0]-n)/i} ${(s[1]-r)/a}`)}newFreeDrawOutline(e,n,r,i,a,o){return new N6(e,n,r,i,a,o)}getOutlines(){const e=this.#o,n=this.#t,r=this.#a,[i,a,o,s]=this.#e,c=new Float32Array((this.#h?.length??0)+2);for(let h=0,m=c.length-2;h<m;h+=2)c[h]=(this.#h[h]-i)/o,c[h+1]=(this.#h[h+1]-a)/s;if(c[c.length-2]=(this.#i-i)/o,c[c.length-1]=(this.#s-a)/s,isNaN(r[6])&&!this.isEmpty())return this.#_(c);const d=new Float32Array(this.#o.length+24+this.#t.length);let f=e.length;for(let h=0;h<f;h+=2){if(isNaN(e[h])){d[h]=d[h+1]=NaN;continue}d[h]=e[h],d[h+1]=e[h+1]}f=this.#w(d,f);for(let h=n.length-6;h>=6;h-=6)for(let m=0;m<6;m+=2){if(isNaN(n[h+m])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=n[h+m],d[f+1]=n[h+m+1],f+=2}return this.#C(d,f),this.newFreeDrawOutline(d,c,this.#e,this.#f,this.#r,this.#n)}#_(e){const n=this.#a,[r,i,a,o]=this.#e,[s,c,d,f]=this.#p(),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-r)/a,(n[3]-i)/o,NaN,NaN,NaN,NaN,(n[4]-r)/a,(n[5]-i)/o,NaN,NaN,NaN,NaN,s,c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(n[16]-r)/a,(n[17]-i)/o,NaN,NaN,NaN,NaN,(n[14]-r)/a,(n[15]-i)/o],0),this.newFreeDrawOutline(h,e,this.#e,this.#f,this.#r,this.#n)}#C(e,n){const r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6}#w(e,n){const r=this.#a.subarray(4,6),i=this.#a.subarray(16,18),[a,o,s,c]=this.#e,[d,f,h,m]=this.#p();return e.set([NaN,NaN,NaN,NaN,(r[0]-a)/s,(r[1]-o)/c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,h,m,NaN,NaN,NaN,NaN,(i[0]-a)/s,(i[1]-o)/c],n),n+=24}}class N6 extends yt{#e;#t=new Float32Array(4);#r;#n;#o;#a;#i;constructor(e,n,r,i,a,o){super(),this.#i=e,this.#o=n,this.#e=r,this.#a=i,this.#r=a,this.#n=o,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#s(o);const[s,c,d,f]=this.#t;for(let h=0,m=e.length;h<m;h+=2)e[h]=(e[h]-s)/d,e[h+1]=(e[h+1]-c)/f;for(let h=0,m=n.length;h<m;h+=2)n[h]=(n[h]-s)/d,n[h+1]=(n[h+1]-c)/f}toSVGPath(){const e=[`M${this.#i[4]} ${this.#i[5]}`];for(let n=6,r=this.#i.length;n<r;n+=6){if(isNaN(this.#i[n])){e.push(`L${this.#i[n+4]} ${this.#i[n+5]}`);continue}e.push(`C${this.#i[n]} ${this.#i[n+1]} ${this.#i[n+2]} ${this.#i[n+3]} ${this.#i[n+4]} ${this.#i[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,i],a){const o=r-e,s=i-n;let c,d;switch(a){case 0:c=yt._rescale(this.#i,e,i,o,-s),d=yt._rescale(this.#o,e,i,o,-s);break;case 90:c=yt._rescaleAndSwap(this.#i,e,n,o,s),d=yt._rescaleAndSwap(this.#o,e,n,o,s);break;case 180:c=yt._rescale(this.#i,r,n,-o,s),d=yt._rescale(this.#o,r,n,-o,s);break;case 270:c=yt._rescaleAndSwap(this.#i,r,i,-o,-s),d=yt._rescaleAndSwap(this.#o,r,i,-o,-s);break}return{outline:Array.from(c),points:[Array.from(d)]}}#s(e){const n=this.#i;let r=n[4],i=n[5];const a=[r,i,r,i];let o=r,s=i,c=r,d=i;const f=e?Math.max:Math.min,h=new Float32Array(4);for(let v=6,b=n.length;v<b;v+=6){const x=n[v+4],S=n[v+5];isNaN(n[v])?(gt.pointBoundingBox(x,S,a),s>S?(o=x,s=S):s===S&&(o=f(o,x)),d<S?(c=x,d=S):d===S&&(c=f(c,x))):(h[0]=h[1]=1/0,h[2]=h[3]=-1/0,gt.bezierBoundingBox(r,i,...n.slice(v,v+6),h),gt.rectBoundingBox(h[0],h[1],h[2],h[3],a),s>h[1]?(o=h[0],s=h[1]):s===h[1]&&(o=f(o,h[0])),d<h[3]?(c=h[2],d=h[3]):d===h[3]&&(c=f(c,h[2]))),r=x,i=S}const m=this.#t;m[0]=a[0]-this.#r,m[1]=a[1]-this.#r,m[2]=a[2]-a[0]+2*this.#r,m[3]=a[3]-a[1]+2*this.#r,this.firstPoint=[o,s],this.lastPoint=[c,d]}get box(){return this.#t}newOutliner(e,n,r,i,a,o=0){return new Ku(e,n,r,i,a,o)}getNewOutline(e,n){const[r,i,a,o]=this.#t,[s,c,d,f]=this.#e,h=a*d,m=o*f,v=r*d+s,b=i*f+c,x=this.newOutliner({x:this.#o[0]*h+v,y:this.#o[1]*m+b},this.#e,this.#a,e,this.#n,n??this.#r);for(let S=2;S<this.#o.length;S+=2)x.add({x:this.#o[S]*h+v,y:this.#o[S+1]*m+b});return x.getOutlines()}}class gE{#e;#t;#r;#n=[];#o=[];constructor(e,n=0,r=0,i=!0){const a=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x,y:S,width:C,height:T}of e){const E=Math.floor((x-n)/o)*o,k=Math.ceil((x+C+n)/o)*o,M=Math.floor((S-n)/o)*o,D=Math.ceil((S+T+n)/o)*o,j=[E,M,D,!0],I=[k,M,D,!1];this.#n.push(j,I),gt.rectBoundingBox(E,M,k,D,a)}const s=a[2]-a[0]+2*r,c=a[3]-a[1]+2*r,d=a[0]-r,f=a[1]-r;let h=i?-1/0:1/0,m=1/0;const v=this.#n.at(i?-1:-2),b=[v[0],v[2]];for(const x of this.#n){const[S,C,T,E]=x;!E&&i?C<m?(m=C,h=S):C===m&&(h=Math.max(h,S)):E&&!i&&(C<m?(m=C,h=S):C===m&&(h=Math.min(h,S))),x[0]=(S-d)/s,x[1]=(C-f)/c,x[2]=(T-f)/c}this.#e=new Float32Array([d,f,s,c]),this.#t=[h,m],this.#r=b}getOutlines(){this.#n.sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of this.#n)n[3]?(e.push(...this.#l(n)),this.#s(n)):(this.#c(n),e.push(...this.#l(n)));return this.#a(e)}#a(e){const n=[],r=new Set;for(const o of e){const[s,c,d]=o;n.push([s,c,o],[s,d,o])}n.sort((o,s)=>o[1]-s[1]||o[0]-s[0]);for(let o=0,s=n.length;o<s;o+=2){const c=n[o][2],d=n[o+1][2];c.push(d),d.push(c),r.add(c),r.add(d)}const i=[];let a;for(;r.size>0;){const o=r.values().next().value;let[s,c,d,f,h]=o;r.delete(o);let m=s,v=c;for(a=[s,d],i.push(a);;){let b;if(r.has(f))b=f;else if(r.has(h))b=h;else break;r.delete(b),[s,c,d,f,h]=b,m!==s&&(a.push(m,v,s,v===c?c:d),m=s),v=v===c?d:c}a.push(m,v)}return new Tse(i,this.#e,this.#t,this.#r)}#i(e){const n=this.#o;let r=0,i=n.length-1;for(;r<=i;){const a=r+i>>1,o=n[a][0];if(o===e)return a;o<e?r=a+1:i=a-1}return i+1}#s([,e,n]){const r=this.#i(e);this.#o.splice(r,0,[e,n])}#c([,e,n]){const r=this.#i(e);for(let i=r;i<this.#o.length;i++){const[a,o]=this.#o[i];if(a!==e)break;if(a===e&&o===n){this.#o.splice(i,1);return}}for(let i=r-1;i>=0;i--){const[a,o]=this.#o[i];if(a!==e)break;if(a===e&&o===n){this.#o.splice(i,1);return}}}#l(e){const[n,r,i]=e,a=[[n,r,i]],o=this.#i(i);for(let s=0;s<o;s++){const[c,d]=this.#o[s];for(let f=0,h=a.length;f<h;f++){const[,m,v]=a[f];if(!(d<=m||v<=c)){if(m>=c){if(v>d)a[f][1]=d;else{if(h===1)return[];a.splice(f,1),f--,h--}continue}a[f][2]=c,v>d&&a.push([n,d,v])}}}return a}}class Tse extends yt{#e;#t;constructor(e,n,r,i){super(),this.#t=e,this.#e=n,this.firstPoint=r,this.lastPoint=i}toSVGPath(){const e=[];for(const n of this.#t){let[r,i]=n;e.push(`M${r} ${i}`);for(let a=2;a<n.length;a+=2){const o=n[a],s=n[a+1];o===r?(e.push(`V${s}`),i=s):s===i&&(e.push(`H${o}`),r=o)}e.push("Z")}return e.join(" ")}serialize([e,n,r,i],a){const o=[],s=r-e,c=i-n;for(const d of this.#t){const f=new Array(d.length);for(let h=0;h<d.length;h+=2)f[h]=e+d[h]*s,f[h+1]=i-d[h+1]*c;o.push(f)}return o}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class vE extends Ku{newFreeDrawOutline(e,n,r,i,a,o){return new kse(e,n,r,i,a,o)}}class kse extends N6{newOutliner(e,n,r,i,a,o=0){return new vE(e,n,r,i,a,o)}}class Er extends Pt{#e=null;#t=0;#r;#n=null;#o=null;#a=null;#i=null;#s=0;#c=null;#l=null;#f=null;#d=!1;#h=null;#g=null;#m=null;#u="";#p;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ht.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Er.prototype;return Ut(this,"_keyboardManager",new Ag([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Er._defaultColor,this.#p=e.thickness||Er._defaultThickness,this.opacity=e.opacity||Er._defaultOpacity,this.#r=e.boxes||null,this.#v=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#y(e),this.#x()):this.#r&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#i=e.focusNode,this.#s=e.focusOffset,this.#b(),this.#x(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new gE(this.#r,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const n=new gE(this.#r,.0025,.001,this._uiManager.direction==="ltr");this.#a=n.getOutlines();const{firstPoint:r}=this.#l;this.#h=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height];const{lastPoint:i}=this.#a;this.#g=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#y({highlightOutlines:e,highlightId:n,clipPathId:r}){this.#l=e;const i=1.5;if(this.#a=e.getNewOutline(this.#p/2+i,.0025),n>=0)this.#f=n,this.#n=r,this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const h=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#f,{bbox:Er.#A(this.#l.box,(h-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:Er.#A(this.#a.box,h),path:{d:this.#a.toSVGPath()}})}const[a,o,s,c]=e.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=s,this.height=c;break;case 90:{const[h,m]=this.parentDimensions;this.x=o,this.y=1-a,this.width=s*m/h,this.height=c*h/m;break}case 180:this.x=1-a,this.y=1-o,this.width=s,this.height=c;break;case 270:{const[h,m]=this.parentDimensions;this.x=1-o,this.y=a,this.width=s*m/h,this.height=c*h/m;break}}const{firstPoint:d}=e;this.#h=[(d[0]-a)/s,(d[1]-o)/c];const{lastPoint:f}=this.#a;this.#g=[(f[0]-a)/s,(f[1]-o)/c]}static initialize(e,n){Pt.initialize(e,n),Er._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,n){switch(e){case ln.HIGHLIGHT_COLOR:Er._defaultColor=n;break;case ln.HIGHLIGHT_THICKNESS:Er._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#h}updateParams(e,n){switch(e){case ln.HIGHLIGHT_COLOR:this.#_(n);break;case ln.HIGHLIGHT_THICKNESS:this.#C(n);break}}static get defaultPropertiesToUpdate(){return[[ln.HIGHLIGHT_COLOR,Er._defaultColor],[ln.HIGHLIGHT_THICKNESS,Er._defaultThickness]]}get propertiesToUpdate(){return[[ln.HIGHLIGHT_COLOR,this.color||Er._defaultColor],[ln.HIGHLIGHT_THICKNESS,this.#p||Er._defaultThickness],[ln.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#f,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#o?.updateColor(this.color),super.onUpdatedColor()}#_(e){const n=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},r=this.color,i=this.opacity;this.addCommands({cmd:n.bind(this,e,Er._defaultOpacity),undo:n.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#C(e){const n=this.#p,r=i=>{this.#p=i,this.#w(i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#o=new yo({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#P())}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,this.#P())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#x(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?this.#T():e&&(this.#x(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),n&&this.select()}#w(e){this.#d&&(this.#y({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#T(){this.#f===null||!this.parent||(this.parent.drawLayer.remove(this.#f),this.#f=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#x(e=this.parent){this.#f===null&&({id:this.#f,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#A([e,n,r,i],a){switch(a){case 90:return[1-n-i,e,i,r];case 180:return[1-e-r,1-n-i,r,i];case 270:return[n,1-e-r,i,r]}return[e,n,r,i]}rotate(e){const{drawLayer:n}=this.parent;let r;this.#d?(e=(e-this.rotation+360)%360,r=Er.#A(this.#l.box,e)):r=Er.#A([this.x,this.y,this.width,this.height],e),n.updateProperties(this.#f,{bbox:r,root:{"data-main-rotation":e}}),n.updateProperties(this.#m,{bbox:Er.#A(this.#a.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#O.bind(this),{signal:this._uiManager._signal});const n=this.#c=document.createElement("div");return e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#n,this.setDims(),f6(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#O(e){Er._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#k(!0);break;case 1:case 3:this.#k(!1);break}}#k(e){if(!this.#e)return;const n=window.getSelection();e?n.setPosition(this.#e,this.#t):n.setPosition(this.#i,this.#s)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#d||this.#k(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!e}}))}#P(){return this.#d?this.rotation:0}#I(){if(this.#d)return null;const[e,n]=this.pageDimensions,[r,i]=this.pageTranslation,a=this.#r,o=new Float32Array(a.length*8);let s=0;for(const{x:c,y:d,width:f,height:h}of a){const m=c*e+r,v=(1-d)*n+i;o[s]=o[s+4]=m,o[s+1]=o[s+3]=v,o[s+2]=o[s+6]=m+f*e,o[s+5]=o[s+7]=v-h*n,s+=8}return o}#D(e){return this.#l.serialize(e,this.#P())}static startHighlighting(e,n,{target:r,x:i,y:a}){const{x:o,y:s,width:c,height:d}=r.getBoundingClientRect(),f=new AbortController,h=e.combinedSignal(f),m=v=>{f.abort(),this.#z(e,v)};window.addEventListener("blur",m,{signal:h}),window.addEventListener("pointerup",m,{signal:h}),window.addEventListener("pointerdown",wr,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Ao,{signal:h}),r.addEventListener("pointermove",this.#R.bind(this,e),{signal:h}),this._freeHighlight=new vE({x:i,y:a},[o,s,c,d],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#R(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#z(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,n,r){let i=null;if(e instanceof R6){const{data:{quadPoints:b,rect:x,rotation:S,id:C,color:T,opacity:E,popupRef:k,richText:M,contentsObj:D,creationDate:j,modificationDate:I},parent:{page:{pageNumber:B}}}=e;i=e={annotationType:Ht.HIGHLIGHT,color:Array.from(T),opacity:E,quadPoints:b,boxes:null,pageIndex:B-1,rect:x.slice(0),rotation:S,annotationElementId:C,id:C,deleted:!1,popupRef:k,richText:M,comment:D?.str||null,creationDate:j,modificationDate:I}}else if(e instanceof DP){const{data:{inkLists:b,rect:x,rotation:S,id:C,color:T,borderStyle:{rawWidth:E},popupRef:k,richText:M,contentsObj:D,creationDate:j,modificationDate:I},parent:{page:{pageNumber:B}}}=e;i=e={annotationType:Ht.HIGHLIGHT,color:Array.from(T),thickness:E,inkLists:b,boxes:null,pageIndex:B-1,rect:x.slice(0),rotation:S,annotationElementId:C,id:C,deleted:!1,popupRef:k,richText:M,comment:D?.str||null,creationDate:j,modificationDate:I}}const{color:a,quadPoints:o,inkLists:s,opacity:c}=e,d=await super.deserialize(e,n,r);d.color=gt.makeHexColor(...a),d.opacity=c||1,s&&(d.#p=e.thickness),d._initialData=i,e.comment&&d.setCommentData(e);const[f,h]=d.pageDimensions,[m,v]=d.pageTranslation;if(o){const b=d.#r=[];for(let x=0;x<o.length;x+=8)b.push({x:(o[x]-m)/f,y:1-(o[x+1]-v)/h,width:(o[x+2]-o[x])/f,height:(o[x+1]-o[x+5])/h});d.#b(),d.#x(),d.rotate(d.rotation)}else if(s){d.#d=!0;const b=s[0],x={x:b[0]-m,y:h-(b[1]-v)},S=new vE(x,[0,0,f,h],1,d.#p/2,!0,.001);for(let E=0,k=b.length;E<k;E+=2)x.x=b[E]-m,x.y=h-(b[E+1]-v),S.add(x);const{id:C,clipPathId:T}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:S.toSVGPath()}},!0,!0);d.#y({highlightOutlines:S.getOutlines(),highlightId:C,clipPathId:T}),d.#x(),d.rotate(d.parentRotation)}return d}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=Pt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(e);return Object.assign(r,{color:n,opacity:this.opacity,thickness:this.#p,quadPoints:this.#I(),outlines:this.#D(r.rect)}),this.addComment(r),this.annotationElementId&&!this.#L(r)?null:(r.id=this.annotationElementId,r)}#L(e){const{color:n}=this._initialData;return this.hasEditedComment||e.color.some((r,i)=>r!==n[i])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class I6{#e=Object.create(null);updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){this.#e[e]=n}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Gn("Not implemented")}}class An extends Pt{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#r=null;static#n=null;static#o=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#a(e),this.#c())}#a({drawOutlines:e,drawId:n,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=this.#i(e,this.parent),this.#d(e.box)}#i(e,n){const{id:r}=n.drawLayer.draw(An._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,n){const r=new Set(Object.keys(e));for(const[i,a]of Object.entries(n))r.has(i)?Object.assign(e[i],a):e[i]=a;return e}static getDefaultDrawingOptions(e){Gn("Not implemented")}static get typesMap(){Gn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(An.#r.updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)e.push([r,n[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[r,i]of this.constructor.typesMap)e.push([r,n[i]]);return e}_updateProperty(e,n,r){const i=this._drawingOptions,a=i[n],o=s=>{i.updateProperty(n,s);const c=this.#e.updateProperty(n,s);c&&this.#d(c),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,An._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#f()),{bbox:this.#h()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,An._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#f()),{bbox:this.#h()}))}_onTranslating(e,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#h()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,An._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#f(),this.parentDimensions),{bbox:this.#h()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#s(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#s()):e&&(this._uiManager.addShouldRescale(this),this.#c(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),n&&this.select()}#s(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#i(this.#e,e)}}#l([e,n,r,i]){const{parentDimensions:[a,o],rotation:s}=this;switch(s){case 90:return[n,1-e,r*(o/a),i*(a/o)];case 180:return[1-e,1-n,r,i];case 270:return[1-n,e,r*(o/a),i*(a/o)];default:return[e,n,r,i]}}#f(){const{x:e,y:n,width:r,height:i,parentDimensions:[a,o],rotation:s}=this;switch(s){case 90:return[1-n,e,r*(a/o),i*(o/a)];case 180:return[1-e,1-n,r,i];case 270:return[n,1-e,r*(a/o),i*(o/a)];default:return[e,n,r,i]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#h(){const{x:e,y:n,width:r,height:i,rotation:a,parentRotation:o,parentDimensions:[s,c]}=this;switch((a*4+o)/90){case 1:return[1-n-i,e,i,r];case 2:return[1-e-r,1-n-i,r,i];case 3:return[n,1-e-r,i,r];case 4:return[e,n-r*(s/c),i*(c/s),r*(s/c)];case 5:return[1-n,e,r*(s/c),i*(c/s)];case 6:return[1-e-i*(c/s),1-n,i*(c/s),r*(s/c)];case 7:return[n-r*(s/c),1-e-i*(c/s),r*(s/c),i*(c/s)];case 8:return[e-r,n-i,r,i];case 9:return[1-n,e-r,i,r];case 10:return[1-e,1-n,r,i];case 11:return[n-i,1-e,i,r];case 12:return[e-i*(c/s),n,i*(c/s),r*(s/c)];case 13:return[1-n-r*(s/c),e-i*(c/s),r*(s/c),i*(c/s)];case 14:return[1-e,1-n-r*(s/c),i*(c/s),r*(s/c)];case 15:return[n,1-e,r*(s/c),i*(c/s)];default:return[e,n,r,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,An._mergeSVGProperties({bbox:this.#h()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,n;this._isCopy&&(e=this.x,n=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");return r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,n),r}static createDrawerInstance(e,n,r,i,a){Gn("Not implemented")}static startDrawing(e,n,r,i){const{target:a,offsetX:o,offsetY:s,pointerId:c,pointerType:d}=i;if(_n.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:f}}=e,{width:h,height:m}=a.getBoundingClientRect(),v=An.#n=new AbortController,b=e.combinedSignal(v);if(_n.setPointer(d,c),window.addEventListener("pointerup",x=>{_n.isSamePointerIdOrRemove(x.pointerId)&&this._endDraw(x)},{signal:b}),window.addEventListener("pointercancel",x=>{_n.isSamePointerIdOrRemove(x.pointerId)&&this._currentParent.endDrawingSession()},{signal:b}),window.addEventListener("pointerdown",x=>{_n.isSamePointerType(x.pointerType)&&(_n.initializeAndAddPointerId(x.pointerId),An.#r.isCancellable()&&(An.#r.removeLastElement(),An.#r.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Ao,{signal:b}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),a.addEventListener("touchmove",x=>{_n.isSameTimeStamp(x.timeStamp)&&wr(x)},{signal:b}),e.toggleDrawing(),n._editorUndoBar?.hide(),An.#r){e.drawLayer.updateProperties(this._currentDrawId,An.#r.startNew(o,s,h,m,f));return}n.updateUIForDefaultProperties(this),An.#r=this.createDrawerInstance(o,s,h,m,f),An.#o=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(An.#o.toSVGProperties(),An.#r.defaultSVGProperties),!0,!1)}static _drawMove(e){if(_n.isSameTimeStamp(e.timeStamp),!An.#r)return;const{offsetX:n,offsetY:r,pointerId:i}=e;if(_n.isSamePointerId(i)){if(_n.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,An.#r.add(n,r)),_n.setTimeStamp(e.timeStamp),wr(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,An.#r=null,An.#o=null,_n.clearTimeStamp()),An.#n&&(An.#n.abort(),An.#n=null,_n.clearPointerIds())}static _endDraw(e){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),e?.target===n.div&&n.drawLayer.updateProperties(this._currentDrawId,An.#r.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=An.#r,i=this._currentDrawId,a=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,r.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:ln.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(ln.DRAW_STEP),!An.#r.isEmpty()){const{pageDimensions:[r,i],scale:a}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:An.#r.getOutlines(r*a,i*a,a,this._INNER_MARGIN),drawingOptions:An.#o,mustBeCommitted:!e});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,r,i,a,o){Gn("Not implemented")}static async deserialize(e,n,r){const{rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:s}}=n.viewport,c=this.deserializeDraw(o,s,i,a,this._INNER_MARGIN,e),d=await super.deserialize(e,n,r);return d.createDrawingOptions(e),d.#a({drawOutlines:c}),d.#c(),d.onScaleChanging(),d.rotate(),d}serializeDraw(e){const[n,r]=this.pageTranslation,[i,a]=this.pageDimensions;return this.#e.serialize([n,r,i,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class Pse{#e=new Float64Array(6);#t;#r;#n;#o;#a;#i="";#s=0;#c=new Eg;#l;#f;constructor(e,n,r,i,a,o){this.#l=r,this.#f=i,this.#n=a,this.#o=o,[e,n]=this.#d(e,n);const s=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#a=[e,n],this.#r=[{line:s,points:this.#a}],this.#e.set(s,0)}updateProperty(e,n){e==="stroke-width"&&(this.#o=n)}#d(e,n){return yt._normalizePoint(e,n,this.#l,this.#f,this.#n)}isEmpty(){return!this.#r||this.#r.length===0}isCancellable(){return this.#a.length<=10}add(e,n){[e,n]=this.#d(e,n);const[r,i,a,o]=this.#e.subarray(2,6),s=e-a,c=n-o;return Math.hypot(this.#l*s,this.#f*c)<=2?null:(this.#a.push(e,n),isNaN(r)?(this.#e.set([a,o,e,n],2),this.#t.push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([r,i,a,o,e,n],0),this.#t.push(...yt.createBezierPoints(r,i,a,o,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,a){this.#l=r,this.#f=i,this.#n=a,[e,n]=this.#d(e,n);const o=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#a=[e,n];const s=this.#r.at(-1);return s&&(s.line=new Float32Array(s.line),s.points=new Float32Array(s.points)),this.#r.push({line:o,points:this.#a}),this.#e.set(o,0),this.#s=0,this.toSVGPath(),null}getLastElement(){return this.#r.at(-1)}setLastElement(e){return this.#r?(this.#r.push(e),this.#t=e.line,this.#a=e.points,this.#s=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#r)return this.#c.removeLastElement();this.#r.pop(),this.#i="";for(let e=0,n=this.#r.length;e<n;e++){const{line:r,points:i}=this.#r[e];this.#t=r,this.#a=i,this.#s=0,this.toSVGPath()}return{path:{d:this.#i}}}toSVGPath(){const e=yt.svgRound(this.#t[4]),n=yt.svgRound(this.#t[5]);if(this.#a.length===2)return this.#i=`${this.#i} M ${e} ${n} Z`,this.#i;if(this.#a.length<=6){const i=this.#i.lastIndexOf("M");this.#i=`${this.#i.slice(0,i)} M ${e} ${n}`,this.#s=6}if(this.#a.length===4){const i=yt.svgRound(this.#t[10]),a=yt.svgRound(this.#t[11]);return this.#i=`${this.#i} L ${i} ${a}`,this.#s=12,this.#i}const r=[];this.#s===0&&(r.push(`M ${e} ${n}`),this.#s=6);for(let i=this.#s,a=this.#t.length;i<a;i+=6){const[o,s,c,d,f,h]=this.#t.slice(i,i+6).map(yt.svgRound);r.push(`C${o} ${s} ${c} ${d} ${f} ${h}`)}return this.#i+=r.join(" "),this.#s=this.#t.length,this.#i}getOutlines(e,n,r,i){const a=this.#r.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#c.build(this.#r,e,n,r,this.#n,this.#o,i),this.#e=null,this.#t=null,this.#r=null,this.#i=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Eg extends yt{#e;#t=0;#r;#n;#o;#a;#i;#s;#c;build(e,n,r,i,a,o,s){this.#o=n,this.#a=r,this.#i=i,this.#s=a,this.#c=o,this.#r=s??0,this.#n=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of this.#n){if(e.push(`M${yt.svgRound(n[4])} ${yt.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12&&isNaN(n[6])){e.push(`L${yt.svgRound(n[10])} ${yt.svgRound(n[11])}`);continue}for(let r=6,i=n.length;r<i;r+=6){const[a,o,s,c,d,f]=n.subarray(r,r+6).map(yt.svgRound);e.push(`C${a} ${o} ${s} ${c} ${d} ${f}`)}}return e.join("")}serialize([e,n,r,i],a){const o=[],s=[],[c,d,f,h]=this.#f();let m,v,b,x,S,C,T,E,k;switch(this.#s){case 0:k=yt._rescale,m=e,v=n+i,b=r,x=-i,S=e+c*r,C=n+(1-d-h)*i,T=e+(c+f)*r,E=n+(1-d)*i;break;case 90:k=yt._rescaleAndSwap,m=e,v=n,b=r,x=i,S=e+d*r,C=n+c*i,T=e+(d+h)*r,E=n+(c+f)*i;break;case 180:k=yt._rescale,m=e+r,v=n,b=-r,x=i,S=e+(1-c-f)*r,C=n+d*i,T=e+(1-c)*r,E=n+(d+h)*i;break;case 270:k=yt._rescaleAndSwap,m=e+r,v=n+i,b=-r,x=-i,S=e+(1-d-h)*r,C=n+(1-c-f)*i,T=e+(1-d)*r,E=n+(1-c)*i;break}for(const{line:M,points:D}of this.#n)o.push(k(M,m,v,b,x,a?new Array(M.length):null)),s.push(k(D,m,v,b,x,a?new Array(D.length):null));return{lines:o,points:s,rect:[S,C,T,E]}}static deserialize(e,n,r,i,a,{paths:{lines:o,points:s},rotation:c,thickness:d}){const f=[];let h,m,v,b,x;switch(c){case 0:x=yt._rescale,h=-e/r,m=n/i+1,v=1/r,b=-1/i;break;case 90:x=yt._rescaleAndSwap,h=-n/i,m=-e/r,v=1/i,b=1/r;break;case 180:x=yt._rescale,h=e/r+1,m=-n/i,v=-1/r,b=1/i;break;case 270:x=yt._rescaleAndSwap,h=n/i+1,m=e/r+1,v=-1/i,b=-1/r;break}if(!o){o=[];for(const C of s){const T=C.length;if(T===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,C[0],C[1]]));continue}if(T===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,C[0],C[1],NaN,NaN,NaN,NaN,C[2],C[3]]));continue}const E=new Float32Array(3*(T-2));o.push(E);let[k,M,D,j]=C.subarray(0,4);E.set([NaN,NaN,NaN,NaN,k,M],0);for(let I=4;I<T;I+=2){const B=C[I],G=C[I+1];E.set(yt.createBezierPoints(k,M,D,j,B,G),(I-2)*3),[k,M,D,j]=[D,j,B,G]}}}for(let C=0,T=o.length;C<T;C++)f.push({line:x(o[C].map(E=>E??NaN),h,m,v,b),points:x(s[C].map(E=>E??NaN),h,m,v,b)});const S=new this.prototype.constructor;return S.build(f,r,i,1,c,d,a),S}#l(e=this.#c){const n=this.#r+e/2*this.#i;return this.#s%180===0?[n/this.#o,n/this.#a]:[n/this.#a,n/this.#o]}#f(){const[e,n,r,i]=this.#e,[a,o]=this.#l(0);return[e+a,n+o,r-2*a,i-2*o]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#n){if(i.length<=12){for(let s=4,c=i.length;s<c;s+=6)gt.pointBoundingBox(i[s],i[s+1],e);continue}let a=i[4],o=i[5];for(let s=6,c=i.length;s<c;s+=6){const[d,f,h,m,v,b]=i.subarray(s,s+6);gt.bezierBoundingBox(a,o,d,f,h,m,v,b,e),a=v,o=b}}const[n,r]=this.#l();e[0]=ia(e[0]-n,0,1),e[1]=ia(e[1]-r,0,1),e[2]=ia(e[2]+n,0,1),e[3]=ia(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,n){return e==="stroke-width"?this.#h(n):null}#h(e){const[n,r]=this.#l();this.#c=e;const[i,a]=this.#l(),[o,s]=[i-n,a-r],c=this.#e;return c[0]-=o,c[1]-=s,c[2]+=2*o,c[3]+=2*s,c}updateParentDimensions([e,n],r){const[i,a]=this.#l();this.#o=e,this.#a=n,this.#i=r;const[o,s]=this.#l(),c=o-i,d=s-a,f=this.#e;return f[0]-=c,f[1]-=d,f[2]+=2*c,f[3]+=2*d,f}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(yt.svgRound).join(" ")}get defaultProperties(){const[e,n]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${yt.svgRound(e)} ${yt.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=this.#e;let r=0,i=0,a=0,o=0,s=0,c=0;switch(this.#t){case 90:i=n/e,a=-e/n,s=e;break;case 180:r=-1,o=-1,s=e,c=n;break;case 270:i=-n/e,a=e/n,c=n;break;default:return""}return`matrix(${r} ${i} ${a} ${o} ${yt.svgRound(s)} ${yt.svgRound(c)})`}getPathResizingSVGProperties([e,n,r,i]){const[a,o]=this.#l(),[s,c,d,f]=this.#e;if(Math.abs(d-a)<=yt.PRECISION||Math.abs(f-o)<=yt.PRECISION){const x=e+r/2-(s+d/2),S=n+i/2-(c+f/2);return{path:{"transform-origin":`${yt.svgRound(e)} ${yt.svgRound(n)}`,transform:`${this.rotationTransform} translate(${x} ${S})`}}}const h=(r-2*a)/(d-2*a),m=(i-2*o)/(f-2*o),v=d/r,b=f/i;return{path:{"transform-origin":`${yt.svgRound(s)} ${yt.svgRound(c)}`,transform:`${this.rotationTransform} scale(${v} ${b}) translate(${yt.svgRound(a)} ${yt.svgRound(o)}) scale(${h} ${m}) translate(${yt.svgRound(-a)} ${yt.svgRound(-o)})`}}}getPathResizedSVGProperties([e,n,r,i]){const[a,o]=this.#l(),s=this.#e,[c,d,f,h]=s;if(s[0]=e,s[1]=n,s[2]=r,s[3]=i,Math.abs(f-a)<=yt.PRECISION||Math.abs(h-o)<=yt.PRECISION){const S=e+r/2-(c+f/2),C=n+i/2-(d+h/2);for(const{line:T,points:E}of this.#n)yt._translate(T,S,C,T),yt._translate(E,S,C,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${yt.svgRound(e)} ${yt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(r-2*a)/(f-2*a),v=(i-2*o)/(h-2*o),b=-m*(c+a)+e+a,x=-v*(d+o)+n+o;if(m!==1||v!==1||b!==0||x!==0)for(const{line:S,points:C}of this.#n)yt._rescale(S,b,x,m,v,S),yt._rescale(C,b,x,m,v,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${yt.svgRound(e)} ${yt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],r){const[i,a]=r,o=this.#e,s=e-o[0],c=n-o[1];if(this.#o===i&&this.#a===a)for(const{line:d,points:f}of this.#n)yt._translate(d,s,c,d),yt._translate(f,s,c,f);else{const d=this.#o/i,f=this.#a/a;this.#o=i,this.#a=a;for(const{line:h,points:m}of this.#n)yt._rescale(h,s,c,d,f,h),yt._rescale(m,s,c,d,f,m);o[2]*=d,o[3]*=f}return o[0]=e,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${yt.svgRound(e)} ${yt.svgRound(n)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${yt.svgRound(e[0])} ${yt.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class Lx extends I6{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Pt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??=this["stroke-width"],n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new Lx(this._viewParameters);return e.updateAll(this),e}}class RP extends An{static _type="ink";static _editorType=Ht.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,n){Pt.initialize(e,n),this._defaultDrawingOptions=new Lx(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ut(this,"typesMap",new Map([[ln.INK_THICKNESS,"stroke-width"],[ln.INK_COLOR,"stroke"],[ln.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,r,i,a){return new Pse(e,n,r,i,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,r,i,a,o){return Eg.deserialize(e,n,r,i,a,o)}static async deserialize(e,n,r){let i=null;if(e instanceof DP){const{data:{inkLists:o,rect:s,rotation:c,id:d,color:f,opacity:h,borderStyle:{rawWidth:m},popupRef:v,richText:b,contentsObj:x,creationDate:S,modificationDate:C},parent:{page:{pageNumber:T}}}=e;i=e={annotationType:Ht.INK,color:Array.from(f),thickness:m,opacity:h,paths:{points:o},boxes:null,pageIndex:T-1,rect:s.slice(0),rotation:c,annotationElementId:d,id:d,deleted:!1,popupRef:v,richText:b,comment:x?.str||null,creationDate:S,modificationDate:C}}const a=await super.deserialize(e,n,r);return a._initialData=i,e.comment&&a.setCommentData(e),a}get toolbarButtons(){return this._colorPicker||=new qm(this),[["colorPicker",this._colorPicker]]}get colorType(){return ln.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:r}){this._drawingOptions=RP.getDefaultDrawingOptions({stroke:gt.makeHexColor(...e),"stroke-width":n,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":a,"stroke-width":o}}=this,s=Object.assign(super.serialize(e),{color:Pt._colorManager.convert(i),opacity:a,thickness:o,paths:{lines:n,points:r}});return this.addComment(s),e?(s.isCopy=!0,s):this.annotationElementId&&!this.#e(s)?null:(s.id=this.annotationElementId,s)}#e(e){const{color:n,thickness:r,opacity:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((o,s)=>o!==n[s])||e.thickness!==r||e.opacity!==i||e.pageIndex!==a}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:n,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}}class yE extends Eg{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const _y=8,im=3;class Vf{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i}static#r=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,n,r,i,a,o,s){const c=this.#t(r,i,a,o);for(let d=0;d<8;d++){const f=(-d+c-s+16)%8,h=this.#r[2*f],m=this.#r[2*f+1];if(e[(r+h)*n+(i+m)]!==0)return f}return-1}static#o(e,n,r,i,a,o,s){const c=this.#t(r,i,a,o);for(let d=0;d<8;d++){const f=(d+c+s+16)%8,h=this.#r[2*f],m=this.#r[2*f+1];if(e[(r+h)*n+(i+m)]!==0)return f}return-1}static#a(e,n,r,i){const a=e.length,o=new Int32Array(a);for(let f=0;f<a;f++)o[f]=e[f]<=i?1:0;for(let f=1;f<r-1;f++)o[f*n]=o[f*n+n-1]=0;for(let f=0;f<n;f++)o[f]=o[n*r-1-f]=0;let s=1,c;const d=[];for(let f=1;f<r-1;f++){c=1;for(let h=1;h<n-1;h++){const m=f*n+h,v=o[m];if(v===0)continue;let b=f,x=h;if(v===1&&o[m-1]===0)s+=1,x-=1;else if(v>=1&&o[m+1]===0)s+=1,x+=1,v>1&&(c=v);else{v!==1&&(c=Math.abs(v));continue}const S=[h,f],C=x===h+1,T={isHole:C,points:S,id:s,parent:0};d.push(T);let E;for(const V of d)if(V.id===c){E=V;break}E?E.isHole?T.parent=C?E.parent:c:T.parent=C?c:E.parent:T.parent=C?c:0;const k=this.#n(o,n,f,h,b,x,0);if(k===-1){o[m]=-s,o[m]!==1&&(c=Math.abs(o[m]));continue}let M=this.#r[2*k],D=this.#r[2*k+1];const j=f+M,I=h+D;b=j,x=I;let B=f,G=h;for(;;){const V=this.#o(o,n,B,G,b,x,1);M=this.#r[2*V],D=this.#r[2*V+1];const K=B+M,te=G+D;S.push(te,K);const X=B*n+G;if(o[X+1]===0?o[X]=-s:o[X]===1&&(o[X]=s),K===f&&te===h&&B===j&&G===I){o[m]!==1&&(c=Math.abs(o[m]));break}else b=B,x=G,B=K,G=te}}}return d}static#i(e,n,r,i){if(r-n<=4){for(let j=n;j<r-2;j+=2)i.push(e[j],e[j+1]);return}const a=e[n],o=e[n+1],s=e[r-4]-a,c=e[r-3]-o,d=Math.hypot(s,c),f=s/d,h=c/d,m=f*o-h*a,v=c/s,b=1/d,x=Math.atan(v),S=Math.cos(x),C=Math.sin(x),T=b*(Math.abs(S)+Math.abs(C)),E=b*(1-T+T**2),k=Math.max(Math.atan(Math.abs(C+S)*E),Math.atan(Math.abs(C-S)*E));let M=0,D=n;for(let j=n+2;j<r-2;j+=2){const I=Math.abs(m-f*e[j+1]+h*e[j]);I>M&&(D=j,M=I)}M>(d*k)**2?(this.#i(e,n,D+2,i),this.#i(e,D,r,i)):i.push(a,o)}static#s(e){const n=[],r=e.length;return this.#i(e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n}static#c(e,n,r,i,a,o){const s=new Float32Array(o**2),c=-2*i**2,d=o>>1;for(let x=0;x<o;x++){const S=(x-d)**2;for(let C=0;C<o;C++)s[x*o+C]=Math.exp((S+(C-d)**2)/c)}const f=new Float32Array(256),h=-2*a**2;for(let x=0;x<256;x++)f[x]=Math.exp(x**2/h);const m=e.length,v=new Uint8Array(m),b=new Uint32Array(256);for(let x=0;x<r;x++)for(let S=0;S<n;S++){const C=x*n+S,T=e[C];let E=0,k=0;for(let D=0;D<o;D++){const j=x+D-d;if(!(j<0||j>=r))for(let I=0;I<o;I++){const B=S+I-d;if(B<0||B>=n)continue;const G=e[j*n+B],V=s[D*o+I]*f[Math.abs(G-T)];E+=G*V,k+=V}}const M=v[C]=Math.round(E/k);b[M]++}return[v,b]}static#l(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n}static#f(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,a=1/0;for(let s=0,c=r.length;s<c;s++){const d=r[s]=e[s<<2];i=Math.max(i,d),a=Math.min(a,d)}const o=255/(i-a);for(let s=0,c=r.length;s<c;s++)r[s]=(r[s]-a)*o;return r}static#d(e){let n,r=-1/0,i=-1/0;const a=e.findIndex(c=>c!==0);let o=a,s=a;for(n=a;n<256;n++){const c=e[n];c>r&&(n-o>i&&(i=n-o,s=n-1),r=c,o=n)}for(n=s-1;n>=0&&!(e[n]>e[n+1]);n--);return n}static#h(e){const n=e,{width:r,height:i}=e,{maxDim:a}=this.#e;let o=r,s=i;if(r>a||i>a){let m=r,v=i,b=Math.log2(Math.max(r,i)/a);const x=Math.floor(b);b=b===x?x-1:x;for(let C=0;C<b;C++){o=Math.ceil(m/2),s=Math.ceil(v/2);const T=new OffscreenCanvas(o,s);T.getContext("2d").drawImage(e,0,0,m,v,0,0,o,s),m=o,v=s,e!==n&&e.close(),e=T.transferToImageBitmap()}const S=Math.min(a/o,a/s);o=Math.round(o*S),s=Math.round(s*S)}const d=new OffscreenCanvas(o,s).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,o,s),d.filter="grayscale(1)",d.drawImage(e,0,0,e.width,e.height,0,0,o,s);const f=d.getImageData(0,0,o,s).data;return[this.#f(f),o,s]}static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},a,o,s,c){let d=new OffscreenCanvas(1,1),f=d.getContext("2d",{alpha:!1});const h=200,m=f.font=`${r} ${i} ${h}px ${n}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:b,actualBoundingBoxAscent:x,actualBoundingBoxDescent:S,fontBoundingBoxAscent:C,fontBoundingBoxDescent:T,width:E}=f.measureText(e),k=1.5,M=Math.ceil(Math.max(Math.abs(v)+Math.abs(b)||0,E)*k),D=Math.ceil(Math.max(Math.abs(x)+Math.abs(S)||h,Math.abs(C)+Math.abs(T)||h)*k);d=new OffscreenCanvas(M,D),f=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=m,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,M,D),f.fillStyle="black",f.fillText(e,M*(k-1)/2,D*(3-k)/2);const j=this.#f(f.getImageData(0,0,M,D).data),I=this.#l(j),B=this.#d(I),G=this.#a(j,M,D,B);return this.processDrawnLines({lines:{curves:G,width:M,height:D},pageWidth:a,pageHeight:o,rotation:s,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,a){const[o,s,c]=this.#h(e),[d,f]=this.#c(o,s,c,Math.hypot(s,c)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),h=this.#d(f),m=this.#a(d,s,c,h);return this.processDrawnLines({lines:{curves:m,width:s,height:c},pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:o,areContours:s}){i%180!==0&&([n,r]=[r,n]);const{curves:c,width:d,height:f}=e,h=e.thickness??0,m=[],v=Math.min(n/d,r/f),b=v/n,x=v/r,S=[];for(const{points:T}of c){const E=o?this.#s(T):T;if(!E)continue;S.push(E);const k=E.length,M=new Float32Array(k),D=new Float32Array(3*(k===2?2:k-2));if(m.push({line:D,points:M}),k===2){M[0]=E[0]*b,M[1]=E[1]*x,D.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[j,I,B,G]=E;j*=b,I*=x,B*=b,G*=x,M.set([j,I,B,G],0),D.set([NaN,NaN,NaN,NaN,j,I],0);for(let V=4;V<k;V+=2){const K=M[V]=E[V]*b,te=M[V+1]=E[V+1]*x;D.set(yt.createBezierPoints(j,I,B,G,K,te),(V-2)*3),[j,I,B,G]=[B,G,K,te]}}if(m.length===0)return null;const C=s?new yE:new Eg;return C.build(m,n,r,1,i,s?0:h,a),{outline:C,newCurves:S,areContours:s,thickness:h,width:d,height:f}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:a}){let o=1/0,s=-1/0,c=0;for(const E of e){c+=E.length;for(let k=2,M=E.length;k<M;k++){const D=E[k]-E[k-2];o=Math.min(o,D),s=Math.max(s,D)}}let d;o>=-128&&s<=127?d=Int8Array:o>=-32768&&s<=32767?d=Int16Array:d=Int32Array;const f=e.length,h=_y+im*f,m=new Uint32Array(h);let v=0;m[v++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*f)*d.BYTES_PER_ELEMENT,m[v++]=0,m[v++]=i,m[v++]=a,m[v++]=n?0:1,m[v++]=Math.max(0,Math.floor(r??0)),m[v++]=f,m[v++]=d.BYTES_PER_ELEMENT;for(const E of e)m[v++]=E.length-2,m[v++]=E[0],m[v++]=E[1];const b=new CompressionStream("deflate-raw"),x=b.writable.getWriter();await x.ready,x.write(m);const S=d.prototype.constructor;for(const E of e){const k=new S(E.length-2);for(let M=2,D=E.length;M<D;M++)k[M-2]=E[M]-E[M-2];x.write(k)}x.close();const C=await new Response(b.readable).arrayBuffer(),T=new Uint8Array(C);return l6(T)}static async decompressSignature(e){try{const n=Vae(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),a=i.getWriter();await a.ready,a.write(n).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let o=null,s=0;for await(const E of r)o||=new Uint8Array(new Uint32Array(E.buffer,0,4)[0]),o.set(E,s),s+=E.length;const c=new Uint32Array(o.buffer,0,o.length>>2),d=c[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const f=c[2],h=c[3],m=c[4]===0,v=c[5],b=c[6],x=c[7],S=[],C=(_y+im*b)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(x){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(o.buffer,C);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(o.buffer,C);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(o.buffer,C);break}s=0;for(let E=0;E<b;E++){const k=c[im*E+_y],M=new Float32Array(k+2);S.push(M);for(let D=0;D<im-1;D++)M[D]=c[im*E+_y+D+1];for(let D=0;D<k;D++)M[D+2]=M[D]+T[s++]}return{areContours:m,thickness:v,outlines:S,width:f,height:h}}catch(n){return Ft(`decompressSignature: ${n}`),null}}}class LP extends I6{constructor(){super(),super.updateProperties({fill:Pt._defaultLineColor,"stroke-width":0})}clone(){const e=new LP;return e.updateAll(this),e}}class NP extends Lx{constructor(e){super(e),super.updateProperties({stroke:Pt._defaultLineColor,"stroke-width":1})}clone(){const e=new NP(this._viewParameters);return e.updateAll(this),e}}class ys extends An{#e=!1;#t=null;#r=null;#n=null;static _type="signature";static _editorType=Ht.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#r=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,n){Pt.initialize(e,n),this._defaultDrawingOptions=new LP,this._defaultDrawnSignatureOptions=new NP(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ut(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const n=e.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,n=this.y),super.render(),this._drawId===null)if(this.#r){const{lines:i,mustSmooth:a,areContours:o,description:s,uuid:c,heightInPage:d}=this.#r,{rawDims:{pageWidth:f,pageHeight:h},rotation:m}=this.parent.viewport,v=Vf.processDrawnLines({lines:i,pageWidth:f,pageHeight:h,rotation:m,innerMargin:ys._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(v,d,s,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(e,n)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(n=>{n?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:n,thickness:r,width:i,height:a}=this.#r,o=Math.max(i,a),s=Vf.processDrawnLines({lines:{curves:e.map(c=>({points:c})),thickness:r,width:i,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:s.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,n,r,i){const{x:a,y:o}=this,{outline:s}=this.#r=e;this.#e=s instanceof yE,this.description=r;let c;this.#e?c=ys.getDefaultDrawingOptions():(c=ys._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":s.thickness})),this._addOutlines({drawOutlines:s,drawingOptions:c});const[,d]=this.pageDimensions;let f=n/d;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return Vf.process(e,n,r,i,ys._INNER_MARGIN)}getFromText(e,n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:a}=this.parent.viewport;return Vf.extractContoursFromText(e,n,r,i,a,ys._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return Vf.processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:ys._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:n}){e?this._drawingOptions=ys.getDefaultDrawingOptions():(this._drawingOptions=ys._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,a=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:i});return this.addComment(a),e?(a.paths={lines:n,points:r},a.uuid=this.#n,a.isCopy=!0):a.lines=n,this.#t&&(a.accessibilityData={type:"Figure",alt:this.#t}),a}static deserializeDraw(e,n,r,i,a,o){return o.areContours?yE.deserialize(e,n,r,i,a,o):Eg.deserialize(e,n,r,i,a,o)}static async deserialize(e,n,r){const i=await super.deserialize(e,n,r);return i.#e=e.areContours,i.description=e.accessibilityData?.alt||"",i.#n=e.uuid,i}}class Ose extends Pt{#e=null;#t=null;#r=null;#n=null;#o=null;#a="";#i=null;#s=!1;#c=null;#l=!1;#f=!1;static _type="stamp";static _editorType=Ht.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#o=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,n){Pt.initialize(e,n)}static isHandlingMimeForPasting(e){return cE.includes(e)}static paste(e,n){n.pasteEditor({mode:Ht.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#d(e,n=!1){if(!e){this.remove();return}this.#e=e.bitmap,n||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#a=e.file.name),this.#m()}#h(){if(this.#r=null,this._uiManager.enableWaiting(!1),!!this.#i){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:o}=e||this.copyCanvas(null,null,!0).imageData,s=await r.guess({name:"altText",request:{data:i,width:a,height:o,channels:i.length/(a*o)}});if(!s)throw new Error("No response from the AI service.");if(s.error)throw new Error("Error from the AI service.");if(s.cancel)return null;if(!s.output)throw new Error("No valid response from the AI service.");const c=s.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#d(r,!0)).finally(()=>this.#h());return}if(this.#n){const r=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#d(i)).finally(()=>this.#h());return}if(this.#o){const r=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(r).then(i=>this.#d(i)).finally(()=>this.#h());return}const e=document.createElement("input");e.type="file",e.accept=cE.join(",");const n=this._uiManager._signal;this.#r=new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(i)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#i?.remove(),this.#i=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#i===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#n||this.#o||this.#t||this.#s)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;return this._isCopy&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#s||(this.#e?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(e,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,n){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(this.#t=r,i&&(this.#e=i),this.#s=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},e)}#m(){const{div:e}=this;let{width:n,height:r}=this.#e;const[i,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*i,r=this.height*a;else if(n>o*i||r>o*a){const c=Math.min(o*i/n,o*a/r);n*=c,r*=c}this._uiManager.enableWaiting(!1);const s=this.#i=document.createElement("canvas");s.setAttribute("role","img"),this.addContainer(s),this.width=n/i,this.height=r/a,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#p(),this.#f||(this.parent.addUndoableEditor(this),this.#f=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,n,r=!1){e||(e=224);const{width:i,height:a}=this.#e,o=new Ds;let s=this.#e,c=i,d=a,f=null;if(n){if(i>n||a>n){const D=Math.min(n/i,n/a);c=Math.floor(i*D),d=Math.floor(a*D)}f=document.createElement("canvas");const m=f.width=Math.ceil(c*o.sx),v=f.height=Math.ceil(d*o.sy);this.#l||(s=this.#u(m,v));const b=f.getContext("2d");b.filter=this._uiManager.hcmFilter;let x="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":Xae.isDarkMode&&(x="#8f8f9d",S="#42414d");const C=15,T=C*o.sx,E=C*o.sy,k=new OffscreenCanvas(T*2,E*2),M=k.getContext("2d");M.fillStyle=x,M.fillRect(0,0,T*2,E*2),M.fillStyle=S,M.fillRect(0,0,T,E),M.fillRect(T,E,T,E),b.fillStyle=b.createPattern(k,"repeat"),b.fillRect(0,0,m,v),b.drawImage(s,0,0,s.width,s.height,0,0,m,v)}let h=null;if(r){let m,v;if(o.symmetric&&s.width<e&&s.height<e)m=s.width,v=s.height;else if(s=this.#e,i>e||a>e){const S=Math.min(e/i,e/a);m=Math.floor(i*S),v=Math.floor(a*S),this.#l||(s=this.#u(m,v))}const x=new OffscreenCanvas(m,v).getContext("2d",{willReadFrequently:!0});x.drawImage(s,0,0,s.width,s.height,0,0,m,v),h={width:m,height:v,data:x.getImageData(0,0,m,v).data}}return{canvas:f,width:c,height:d,imageData:h}}#u(e,n){const{width:r,height:i}=this.#e;let a=r,o=i,s=this.#e;for(;a>2*e||o>2*n;){const c=a,d=o;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(a,o);f.getContext("2d").drawImage(s,0,0,c,d,0,0,a,o),s=f.transferToImageBitmap()}return s}#p(){const[e,n]=this.parentDimensions,{width:r,height:i}=this,a=new Ds,o=Math.ceil(r*e*a.sx),s=Math.ceil(i*n*a.sy),c=this.#i;if(!c||c.width===o&&c.height===s)return;c.width=o,c.height=s;const d=this.#l?this.#e:this.#u(o,s),f=c.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(d,0,0,d.width,d.height,0,0,o,s)}#v(e){if(e){if(this.#l){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#e,n.getContext("2d").drawImage(this.#e,0,0),n.toDataURL()}if(this.#l){const[n,r]=this.pageDimensions,i=Math.round(this.width*n*bh.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*bh.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(i,a);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,a),o.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,n,r){let i=null,a=!1;if(e instanceof L6){const{data:{rect:x,rotation:S,id:C,structParent:T,popupRef:E,richText:k,contentsObj:M,creationDate:D,modificationDate:j},container:I,parent:{page:{pageNumber:B}},canvas:G}=e;let V,K;G?(delete e.canvas,{id:V,bitmap:K}=r.imageManager.getFromCanvas(I.id,G),G.remove()):(a=!0,e._hasNoCanvas=!0);const te=(await n._structTree.getAriaAttributes(`${Gf}${C}`))?.get("aria-label")||"";i=e={annotationType:Ht.STAMP,bitmapId:V,bitmap:K,pageIndex:B-1,rect:x.slice(0),rotation:S,annotationElementId:C,id:C,deleted:!1,accessibilityData:{decorative:!1,altText:te},isSvg:!1,structParent:T,popupRef:E,richText:k,comment:M?.str||null,creationDate:D,modificationDate:j}}const o=await super.deserialize(e,n,r),{rect:s,bitmap:c,bitmapUrl:d,bitmapId:f,isSvg:h,accessibilityData:m}=e;a?(r.addMissingCanvas(e.id,o),o.#s=!0):f&&r.imageManager.isValidId(f)?(o.#t=f,c&&(o.#e=c)):o.#n=d,o.#l=h;const[v,b]=o.pageDimensions;return o.width=(s[2]-s[0])/v,o.height=(s[3]-s[1])/b,m&&(o.altTextData=m),o._initialData=i,e.comment&&o.setCommentData(e),o.#f=!!i,o}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(r),e)return r.bitmapUrl=this.#v(!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const s=this.#b(r);return s.isSame?null:(s.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(n===null)return r;n.stamps||=new Map;const o=this.#l?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(this.#t))n.stamps.set(this.#t,{area:o,serialized:r}),r.bitmap=this.#v(!1);else if(this.#l){const s=n.stamps.get(this.#t);o>s.area&&(s.area=o,s.serialized.bitmap.close(),s.serialized.bitmap=this.#v(!1))}return r}#b(e){const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===n,a=(e.accessibilityData?.alt||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&a,isSameAltText:a}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class gl{#e;#t=!1;#r=null;#n=null;#o=null;#a=new Map;#i=!1;#s=!1;#c=!1;#l=null;#f=null;#d=null;#h=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([li,RP,Ose,Er,ys].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:o,drawLayer:s,textLayer:c,viewport:d,l10n:f}){const h=[...gl.#p.values()];if(!gl._initialized){gl._initialized=!0;for(const m of h)m.initialize(f,e)}e.registerEditorTypes(h),this.#u=e,this.pageIndex=n,this.div=r,this.#e=a,this.#r=o,this.viewport=d,this.#d=c,this.drawLayer=s,this._structTree=i,this.#u.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Ht.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#w(),e){case Ht.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ht.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ht.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===Ht.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of gl.#p.values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#r?.togglePointerEvents(e)}get#v(){return this.#a.size!==0?this.#a.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const r of this.#v)r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#u.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const n=this.#r;if(n)for(const r of n.getEditableAnnotations()){if(r.hide(),this.#u.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#s=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const i=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",a=>{const{clientX:s,clientY:c,timeStamp:d}=a,f=this.#m;if(d-f>500){this.#m=d;return}this.#m=-1;const{classList:h}=this.div;h.toggle("getElements",!0);const m=document.elementsFromPoint(s,c);if(h.toggle("getElements",!1),!this.div.contains(m[0]))return;let v;const b=new RegExp(`^${Um}[0-9]+$`);for(const S of m)if(b.test(S.id)){v=S.id;break}if(!v)return;const x=this.#a.get(v);x?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),x.dblclick(a))},{signal:i,capture:!0})}const e=this.#r,n=[];if(e){const i=new Map,a=new Map;for(const s of this.#v){if(s.disableEditing(),!s.annotationElementId){n.push(s);continue}if(s.serialize()!==null){i.set(s.annotationElementId,s);continue}else a.set(s.annotationElementId,s);this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()}const o=e.getEditableAnnotations();for(const s of o){const{id:c}=s.data;if(this.#u.isDeletedAnnotationElement(c)){s.updateEdited({deleted:!0});continue}let d=a.get(c);if(d){d.resetAnnotationElement(s),d.show(!1),s.show();continue}d=i.get(c),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(s)&&d.show(!1)),s.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of gl.#p.values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(n),this.#s=!1}getEditableAnnotation(e){return this.#r?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#h){this.#h=new AbortController;const e=this.#u.combinedSignal(this.#h);this.#d.div.addEventListener("pointerdown",this.#b.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#h&&(this.#h.abort(),this.#h=null,this.#d.div.classList.remove("highlighting"))}#b(e){this.#u.unselectAll();const{target:n}=e;if(n===this.#d.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#d.div.contains(n)){const{isMac:r}=Wr.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),Er.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#a.set(e.id,e);const{annotationElementId:n}=e;n&&this.#u.isDeletedAnnotationElement(n)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#a.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#s&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e),Pt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!this.#o&&(e._focusEventsAllowed=!1,this.#o=setTimeout(()=>{this.#o=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),n.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of this.#a.values())if(n.uid===e)return n;return null}getNextId(){return this.#u.getId()}get#y(){return gl.#p.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#_(e){const n=this.#y;return n?new n.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:r,offsetY:i}=this.#C(),a=this.getNextId(),o=this.#_({parent:this,id:a,x:r,y:i,uiManager:this.#u,isCentered:!0,...n});o&&this.add(o)}async deserialize(e){return await gl.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),a=this.#_({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:n,...r});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}#C(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,a=Math.max(0,e),o=Math.max(0,n),s=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,n+i),d=(a+s)/2-e,f=(o+c)/2-n,[h,m]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:h,offsetY:m}}addNewEditor(e={}){this.createAndAddNewEditor(this.#C(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:n}=Wr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!this.#i||(this.#i=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const r=this.#u.getMode();if(r===Ht.STAMP||r===Ht.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Ht.HIGHLIGHT&&this.enableTextSelection(),this.#i){this.#i=!1;return}const{isMac:n}=Wr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(this.#i=!0,this.#y?.isDrawer){this.startDrawingSession(e);return}const r=this.#u.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const n=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#f=null,this.commitOrRemove())},{signal:n}),this.#y.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&(this.#f=n);return}this.#f&&setTimeout(()=>{this.#f?.focus(),this.#f=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#f=null,this.#y.endDrawing(e)):null}findNewParent(e,n,r){const i=this.#u.findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#o&&(clearTimeout(this.#o),this.#o=null);for(const e of this.#a.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#a.clear(),this.#u.removeLayer(this)}#w(){for(const e of this.#a.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,md(this.div,e);for(const n of this.#u.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#w();const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,md(this.div,{rotation:r}),n!==r)for(const i of this.#a.values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return this.#u.viewParameters.realScale}}class Ai{#e=null;#t=new Map;#r=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const n of this.#t.values())n.remove(),e.append(n);this.#e=e}}static get _svgFactory(){return Ut(this,"_svgFactory",new Bb)}static#o(e,[n,r,i,a]){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*n}%`,o.width=`${100*i}%`,o.height=`${100*a}%`}#a(){const e=Ai._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#i(e,n){const r=Ai._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const a=Ai._svgFactory.createElement("use");return r.append(a),a.setAttribute("href",`#${n}`),a.classList.add("clip"),i}#s(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)}draw(e,n=!1,r=!1){const i=Ai.#n++,a=this.#a(),o=Ai._svgFactory.createElement("defs");a.append(o);const s=Ai._svgFactory.createElement("path");o.append(s);const c=`path_p${this.pageIndex}_${i}`;s.setAttribute("id",c),s.setAttribute("vector-effect","non-scaling-stroke"),n&&this.#r.set(i,s);const d=r?this.#i(o,c):null,f=Ai._svgFactory.createElement("use");return a.append(f),f.setAttribute("href",`#${c}`),this.updateProperties(a,e),this.#t.set(i,a),{id:i,clipPathId:`url(#${d})`}}drawOutline(e,n){const r=Ai.#n++,i=this.#a(),a=Ai._svgFactory.createElement("defs");i.append(a);const o=Ai._svgFactory.createElement("path");a.append(o);const s=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",s),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(n){const h=Ai._svgFactory.createElement("mask");a.append(h),c=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const m=Ai._svgFactory.createElement("rect");h.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const v=Ai._svgFactory.createElement("use");h.append(v),v.setAttribute("href",`#${s}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const d=Ai._svgFactory.createElement("use");i.append(d),d.setAttribute("href",`#${s}`),c&&d.setAttribute("mask",`url(#${c})`);const f=d.cloneNode();return i.append(f),d.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(r,i),r}finalizeDraw(e,n){this.#r.delete(e),this.updateProperties(e,n)}updateProperties(e,n){if(!n)return;const{root:r,bbox:i,rootClass:a,path:o}=n,s=typeof e=="number"?this.#t.get(e):e;if(s){if(r&&this.#s(s,r),i&&Ai.#o(s,i),a){const{classList:c}=s;for(const[d,f]of Object.entries(a))c.toggle(d,f)}if(o){const d=s.firstElementChild.firstElementChild;this.#s(d,o)}}}updateParent(e,n){if(n===this)return;const r=this.#t.get(e);r&&(n.#e.append(r),this.#t.delete(e),n.#t.set(e,r))}remove(e){this.#r.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#r.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:gE};globalThis.pdfjsLib={AbortException:Gc,AnnotationEditorLayer:gl,AnnotationEditorParamsType:ln,AnnotationEditorType:Ht,AnnotationEditorUIManager:Yc,AnnotationLayer:jP,AnnotationMode:Bc,AnnotationType:Nr,applyOpacity:Qae,build:ose,ColorPicker:yo,createValidAbsoluteUrl:i6,CSSConstants:Zae,DOMSVGFactory:Bb,DrawLayer:Ai,FeatureTest:Wr,fetchData:wg,findContrastColor:Jae,getDocument:T6,getFilenameFromUrl:qae,getPdfFilenameFromUrl:Gae,getRGB:Cg,getUuid:s6,getXfaPageViewport:Kae,GlobalWorkerOptions:ih,ImageKind:tb,InvalidPDFException:sE,isDataScheme:Dx,isPdfFile:CP,isValidExplicitDest:uoe,MathClamp:ia,noContextMenu:Ao,normalizeUnicode:Uae,OPS:pd,OutputScale:Ds,PasswordResponses:jae,PDFDataRangeTransport:k6,PDFDateString:lE,PDFWorker:Vm,PermissionFlag:Dae,PixelsPerInch:bh,RenderingCancelledException:SP,renderRichText:u6,ResponseException:Ib,setLayerDimensions:md,shadow:Ut,SignatureExtractor:Vf,stopEvent:wr,SupportedImageMimeTypes:cE,TextLayer:$a,TouchManager:jx,updateUrlHash:a6,Util:gt,VerbosityLevel:Px,version:ase,XfaLayer:c6};ih.workerSrc=new URL("/HemoIO/assets/pdf.worker.min-LyOxJPrg.mjs",import.meta.url).toString();const ZL=50,Mse=.5;async function bE(t,e={}){const{onProgress:n,quickScan:r=!1,maxPages:i}=e,a=[];try{const o=t instanceof File?await t.arrayBuffer():t,c=await T6({data:o}).promise,d=c.numPages,f=i?Math.min(i,d):d,h=[];for(let T=1;T<=f;T++)try{const E=await c.getPage(T),D=(await E.getTextContent()).items.filter(B=>"str"in B&&typeof B.str=="string").map(B=>B.str).join(" ").trim(),I=(await E.getOperatorList()).fnArray.some(B=>B===pd.paintImageXObject||B===pd.paintImageMaskXObject);if(h.push({pageNumber:T,text:D,hasText:D.length>=ZL,hasImages:I}),n&&n(T,d),r&&T>=3){const G=h.filter(V=>V.hasText).length/h.length;if(G>.8||G<.2)break}}catch(E){a.push(`Error extracting page ${T}: ${String(E)}`),h.push({pageNumber:T,text:"",hasText:!1,hasImages:!1})}const m=h.map(T=>T.text).join(`

`),v=h.filter(T=>T.hasText).length,b=h.filter(T=>T.hasImages).length,x=h.length>0?v/h.length:0,S=x<Mse&&b>0&&m.length<d*ZL,C=Math.min(1,x+(m.length>500?.2:0));return{totalPages:d,fullText:m,pages:h,isScanned:S,textConfidence:C,errors:a}}catch(o){throw new Dse(`Failed to extract text from PDF: ${o instanceof Error?o.message:String(o)}`)}}class Dse extends Error{constructor(e){super(e),this.name="PDFExtractionError"}}var CC={exports:{}},QL;function jse(){return QL||(QL=1,(function(t){var e=(function(n){var r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(q,W,z){q[W]=z.value},o,s=typeof Symbol=="function"?Symbol:{},c=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function h(q,W,z){return Object.defineProperty(q,W,{value:z,enumerable:!0,configurable:!0,writable:!0}),q[W]}try{h({},"")}catch{h=function(W,z,Y){return W[z]=Y}}function m(q,W,z,Y){var ne=W&&W.prototype instanceof E?W:E,ie=Object.create(ne.prototype),ue=new L(Y||[]);return a(ie,"_invoke",{value:K(q,z,ue)}),ie}n.wrap=m;function v(q,W,z){try{return{type:"normal",arg:q.call(W,z)}}catch(Y){return{type:"throw",arg:Y}}}var b="suspendedStart",x="suspendedYield",S="executing",C="completed",T={};function E(){}function k(){}function M(){}var D={};h(D,c,function(){return this});var j=Object.getPrototypeOf,I=j&&j(j(U([])));I&&I!==r&&i.call(I,c)&&(D=I);var B=M.prototype=E.prototype=Object.create(D);k.prototype=M,a(B,"constructor",{value:M,configurable:!0}),a(M,"constructor",{value:k,configurable:!0}),k.displayName=h(M,f,"GeneratorFunction");function G(q){["next","throw","return"].forEach(function(W){h(q,W,function(z){return this._invoke(W,z)})})}n.isGeneratorFunction=function(q){var W=typeof q=="function"&&q.constructor;return W?W===k||(W.displayName||W.name)==="GeneratorFunction":!1},n.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,M):(q.__proto__=M,h(q,f,"GeneratorFunction")),q.prototype=Object.create(B),q},n.awrap=function(q){return{__await:q}};function V(q,W){function z(ie,ue,we,be){var qe=v(q[ie],q,ue);if(qe.type==="throw")be(qe.arg);else{var ae=qe.arg,se=ae.value;return se&&typeof se=="object"&&i.call(se,"__await")?W.resolve(se.__await).then(function(Le){z("next",Le,we,be)},function(Le){z("throw",Le,we,be)}):W.resolve(se).then(function(Le){ae.value=Le,we(ae)},function(Le){return z("throw",Le,we,be)})}}var Y;function ne(ie,ue){function we(){return new W(function(be,qe){z(ie,ue,be,qe)})}return Y=Y?Y.then(we,we):we()}a(this,"_invoke",{value:ne})}G(V.prototype),h(V.prototype,d,function(){return this}),n.AsyncIterator=V,n.async=function(q,W,z,Y,ne){ne===void 0&&(ne=Promise);var ie=new V(m(q,W,z,Y),ne);return n.isGeneratorFunction(W)?ie:ie.next().then(function(ue){return ue.done?ue.value:ie.next()})};function K(q,W,z){var Y=b;return function(ie,ue){if(Y===S)throw new Error("Generator is already running");if(Y===C){if(ie==="throw")throw ue;return F()}for(z.method=ie,z.arg=ue;;){var we=z.delegate;if(we){var be=te(we,z);if(be){if(be===T)continue;return be}}if(z.method==="next")z.sent=z._sent=z.arg;else if(z.method==="throw"){if(Y===b)throw Y=C,z.arg;z.dispatchException(z.arg)}else z.method==="return"&&z.abrupt("return",z.arg);Y=S;var qe=v(q,W,z);if(qe.type==="normal"){if(Y=z.done?C:x,qe.arg===T)continue;return{value:qe.arg,done:z.done}}else qe.type==="throw"&&(Y=C,z.method="throw",z.arg=qe.arg)}}}function te(q,W){var z=W.method,Y=q.iterator[z];if(Y===o)return W.delegate=null,z==="throw"&&q.iterator.return&&(W.method="return",W.arg=o,te(q,W),W.method==="throw")||z!=="return"&&(W.method="throw",W.arg=new TypeError("The iterator does not provide a '"+z+"' method")),T;var ne=v(Y,q.iterator,W.arg);if(ne.type==="throw")return W.method="throw",W.arg=ne.arg,W.delegate=null,T;var ie=ne.arg;if(!ie)return W.method="throw",W.arg=new TypeError("iterator result is not an object"),W.delegate=null,T;if(ie.done)W[q.resultName]=ie.value,W.next=q.nextLoc,W.method!=="return"&&(W.method="next",W.arg=o);else return ie;return W.delegate=null,T}G(B),h(B,f,"Generator"),h(B,c,function(){return this}),h(B,"toString",function(){return"[object Generator]"});function X(q){var W={tryLoc:q[0]};1 in q&&(W.catchLoc=q[1]),2 in q&&(W.finallyLoc=q[2],W.afterLoc=q[3]),this.tryEntries.push(W)}function J(q){var W=q.completion||{};W.type="normal",delete W.arg,q.completion=W}function L(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(X,this),this.reset(!0)}n.keys=function(q){var W=Object(q),z=[];for(var Y in W)z.push(Y);return z.reverse(),function ne(){for(;z.length;){var ie=z.pop();if(ie in W)return ne.value=ie,ne.done=!1,ne}return ne.done=!0,ne}};function U(q){if(q){var W=q[c];if(W)return W.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length)){var z=-1,Y=function ne(){for(;++z<q.length;)if(i.call(q,z))return ne.value=q[z],ne.done=!1,ne;return ne.value=o,ne.done=!0,ne};return Y.next=Y}}return{next:F}}n.values=U;function F(){return{value:o,done:!0}}return L.prototype={constructor:L,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(J),!q)for(var W in this)W.charAt(0)==="t"&&i.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=o)},stop:function(){this.done=!0;var q=this.tryEntries[0],W=q.completion;if(W.type==="throw")throw W.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var W=this;function z(be,qe){return ie.type="throw",ie.arg=q,W.next=be,qe&&(W.method="next",W.arg=o),!!qe}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var ne=this.tryEntries[Y],ie=ne.completion;if(ne.tryLoc==="root")return z("end");if(ne.tryLoc<=this.prev){var ue=i.call(ne,"catchLoc"),we=i.call(ne,"finallyLoc");if(ue&&we){if(this.prev<ne.catchLoc)return z(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return z(ne.finallyLoc)}else if(ue){if(this.prev<ne.catchLoc)return z(ne.catchLoc,!0)}else if(we){if(this.prev<ne.finallyLoc)return z(ne.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(q,W){for(var z=this.tryEntries.length-1;z>=0;--z){var Y=this.tryEntries[z];if(Y.tryLoc<=this.prev&&i.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var ne=Y;break}}ne&&(q==="break"||q==="continue")&&ne.tryLoc<=W&&W<=ne.finallyLoc&&(ne=null);var ie=ne?ne.completion:{};return ie.type=q,ie.arg=W,ne?(this.method="next",this.next=ne.finallyLoc,T):this.complete(ie)},complete:function(q,W){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&W&&(this.next=W),T},finish:function(q){for(var W=this.tryEntries.length-1;W>=0;--W){var z=this.tryEntries[W];if(z.finallyLoc===q)return this.complete(z.completion,z.afterLoc),J(z),T}},catch:function(q){for(var W=this.tryEntries.length-1;W>=0;--W){var z=this.tryEntries[W];if(z.tryLoc===q){var Y=z.completion;if(Y.type==="throw"){var ne=Y.arg;J(z)}return ne}}throw new Error("illegal catch attempt")},delegateYield:function(q,W,z){return this.delegate={iterator:U(q),resultName:W,nextLoc:z},this.method==="next"&&(this.arg=o),T}},n})(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(CC)),CC.exports}var AC,JL;function IP(){return JL||(JL=1,AC=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`),AC}var _C,eN;function z6(){if(eN)return _C;eN=1;const t=IP();let e=0;return _C=({id:n,action:r,payload:i={}})=>{let a=n;return typeof a>"u"&&(a=t("Job",e),e+=1),{id:a,action:r,payload:i}},_C}var am={},tN;function zP(){if(tN)return am;tN=1;let t=!1;return am.logging=t,am.setLogging=e=>{t=e},am.log=(...e)=>t?console.log.apply(this,e):null,am}var EC,nN;function Rse(){if(nN)return EC;nN=1;const t=z6(),{log:e}=zP(),n=IP();let r=0;return EC=()=>{const i=n("Scheduler",r),a={},o={};let s=[];r+=1;const c=()=>s.length,d=()=>Object.keys(a).length,f=()=>{if(s.length!==0){const x=Object.keys(a);for(let S=0;S<x.length;S+=1)if(typeof o[x[S]]>"u"){s[0](a[x[S]]);break}}},h=(x,S)=>new Promise((C,T)=>{const E=t({action:x,payload:S});s.push(async k=>{s.shift(),o[k.id]=E;try{C(await k[x].apply(this,[...S,E.id]))}catch(M){T(M)}finally{delete o[k.id],f()}}),e(`[${i}]: Add ${E.id} to JobQueue`),e(`[${i}]: JobQueue length=${s.length}`),f()});return{addWorker:x=>(a[x.id]=x,e(`[${i}]: Add ${x.id}`),e(`[${i}]: Number of workers=${d()}`),f(),x.id),addJob:async(x,...S)=>{if(d()===0)throw Error(`[${i}]: You need to have at least one worker before adding jobs`);return h(x,S)},terminate:async()=>{Object.keys(a).forEach(async x=>{await a[x].terminate()}),s=[]},getQueueLen:c,getNumWorkers:d}},EC}function Lse(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var TC,rN;function Nse(){return rN||(rN=1,TC=t=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof Lse=="function"&&(e.type="node"),typeof t>"u"?e:e[t]}),TC}var kC,iN;function Ise(){if(iN)return kC;iN=1;const e=Nse()("type")==="browser"?n=>new URL(n,window.location.href).href:n=>n;return kC=n=>{const r={...n};return["corePath","workerPath","langPath"].forEach(i=>{n[i]&&(r[i]=e(r[i]))}),r},kC}var PC,aN;function B6(){return aN||(aN=1,PC={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),PC}const zse="7.0.0",Bse={version:zse};var OC,oN;function $se(){return oN||(oN=1,OC={workerBlobURL:!0,logger:()=>{}}),OC}var MC,sN;function Fse(){if(sN)return MC;sN=1;const t=Bse.version;return MC={...$se(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${t}/dist/worker.min.js`},MC}var DC,lN;function Use(){return lN||(lN=1,DC=({workerPath:t,workerBlobURL:e})=>{let n;if(Blob&&URL&&e){const r=new Blob([`importScripts("${t}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(r))}else n=new Worker(t);return n}),DC}var jC,cN;function Hse(){return cN||(cN=1,jC=t=>{t.terminate()}),jC}var RC,uN;function Vse(){return uN||(uN=1,RC=(t,e)=>{t.onmessage=({data:n})=>{e(n)}}),RC}var LC,dN;function qse(){return dN||(dN=1,LC=async(t,e)=>{t.postMessage(e)}),LC}var NC,fN;function Gse(){if(fN)return NC;fN=1;const t=n=>new Promise((r,i)=>{const a=new FileReader;a.onload=()=>{r(a.result)},a.onerror=({target:{error:{code:o}}})=>{i(Error(`File could not be read! Code=${o}`))},a.readAsArrayBuffer(n)}),e=async n=>{let r=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?r=atob(n.split(",")[1]).split("").map(i=>i.charCodeAt(0)):r=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(r=await e(n.src)),n.tagName==="VIDEO"&&(r=await e(n.poster)),n.tagName==="CANVAS"&&await new Promise(i=>{n.toBlob(async a=>{r=await t(a),i()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const i=await n.convertToBlob();r=await t(i)}else(n instanceof File||n instanceof Blob)&&(r=await t(n));return new Uint8Array(r)};return NC=e,NC}var IC,hN;function Yse(){if(hN)return IC;hN=1;const t=Fse(),e=Use(),n=Hse(),r=Vse(),i=qse(),a=Gse();return IC={defaultOptions:t,spawnWorker:e,terminateWorker:n,onMessage:r,send:i,loadImage:a},IC}var zC,pN;function $6(){if(pN)return zC;pN=1;const t=Ise(),e=z6(),{log:n}=zP(),r=IP(),i=B6(),{defaultOptions:a,spawnWorker:o,terminateWorker:s,onMessage:c,loadImage:d,send:f}=Yse();let h=0;return zC=async(m="eng",v=i.LSTM_ONLY,b={},x={})=>{const S=r("Worker",h),{logger:C,errorHandler:T,...E}=t({...a,...b}),k={},M=typeof m=="string"?m.split("+"):m;let D=v,j=x;const I=[i.DEFAULT,i.LSTM_ONLY].includes(v)&&!E.legacyCore;let B,G;const V=new Promise((ae,se)=>{G=ae,B=se}),K=ae=>{B(ae.message)};let te=o(E);te.onerror=K,h+=1;const X=({id:ae,action:se,payload:Le})=>new Promise((de,He)=>{n(`[${S}]: Start ${ae}, action=${se}`);const Re=`${se}-${ae}`;k[Re]={resolve:de,reject:He},f(te,{workerId:S,jobId:ae,action:se,payload:Le})}),J=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),L=ae=>X(e({id:ae,action:"load",payload:{options:{lstmOnly:I,corePath:E.corePath,logging:E.logging}}})),U=(ae,se,Le)=>X(e({id:Le,action:"FS",payload:{method:"writeFile",args:[ae,se]}})),F=(ae,se)=>X(e({id:se,action:"FS",payload:{method:"readFile",args:[ae,{encoding:"utf8"}]}})),q=(ae,se)=>X(e({id:se,action:"FS",payload:{method:"unlink",args:[ae]}})),W=(ae,se,Le)=>X(e({id:Le,action:"FS",payload:{method:ae,args:se}})),z=(ae,se)=>X(e({id:se,action:"loadLanguage",payload:{langs:ae,options:{langPath:E.langPath,dataPath:E.dataPath,cachePath:E.cachePath,cacheMethod:E.cacheMethod,gzip:E.gzip,lstmOnly:[i.DEFAULT,i.LSTM_ONLY].includes(D)&&!E.legacyLang}}})),Y=(ae,se,Le,de)=>X(e({id:de,action:"initialize",payload:{langs:ae,oem:se,config:Le}})),ne=(ae="eng",se,Le,de)=>{if(I&&[i.TESSERACT_ONLY,i.TESSERACT_LSTM_COMBINED].includes(se))throw Error("Legacy model requested but code missing.");const He=se||D;D=He;const Re=Le||j;j=Re;const Qe=(typeof ae=="string"?ae.split("+"):ae).filter(Ue=>!M.includes(Ue));return M.push(...Qe),Qe.length>0?z(Qe,de).then(()=>Y(ae,He,Re,de)):Y(ae,He,Re,de)},ie=(ae={},se)=>X(e({id:se,action:"setParameters",payload:{params:ae}})),ue=async(ae,se={},Le={text:!0},de)=>X(e({id:de,action:"recognize",payload:{image:await d(ae),options:se,output:Le}})),we=async(ae,se)=>{if(I)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return X(e({id:se,action:"detect",payload:{image:await d(ae)}}))},be=async()=>(te!==null&&(s(te),te=null),Promise.resolve());c(te,({workerId:ae,jobId:se,status:Le,action:de,data:He})=>{const Re=`${de}-${se}`;if(Le==="resolve")n(`[${ae}]: Complete ${se}`),k[Re].resolve({jobId:se,data:He}),delete k[Re];else if(Le==="reject")if(k[Re].reject(He),delete k[Re],de==="load"&&B(He),T)T(He);else throw Error(He);else Le==="progress"&&C({...He,userJobId:se})});const qe={id:S,worker:te,load:J,writeText:U,readText:F,removeFile:q,FS:W,reinitialize:ne,setParameters:ie,recognize:ue,detect:we,terminate:be};return L().then(()=>z(m)).then(()=>Y(m,v,x)).then(()=>G(qe)).catch(()=>{}),V},zC}var BC,mN;function Kse(){if(mN)return BC;mN=1;const t=$6();return BC={recognize:async(r,i,a)=>{const o=await t(i,1,a);return o.recognize(r).finally(async()=>{await o.terminate()})},detect:async(r,i)=>{const a=await t("osd",0,i);return a.detect(r).finally(async()=>{await a.terminate()})}},BC}var $C,gN;function Wse(){return gN||(gN=1,$C={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),$C}var FC,vN;function Xse(){return vN||(vN=1,FC={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),FC}var UC,yN;function Zse(){if(yN)return UC;yN=1,jse();const t=Rse(),e=$6(),n=Kse(),r=Wse(),i=B6(),a=Xse(),{setLogging:o}=zP();return UC={languages:r,OEM:i,PSM:a,createScheduler:t,createWorker:e,setLogging:o,...n},UC}var F6=Zse();const Qse={AUTO:3};let Lf=null,bN="";async function Jse(t="eng"){return Lf&&bN===t||(Lf&&await Lf.terminate(),Lf=await F6.createWorker(t,void 0,{logger:()=>{}}),bN=t),Lf}async function ele(t,e={}){const n=performance.now(),{language:r="eng",onProgress:i,autoRotate:a=!0,pageSegmentationMode:o=Qse.AUTO}=e,s=Array.isArray(r)?r.join("+"):r,c=await Jse(s);await c.setParameters({tessedit_pageseg_mode:o});const d=i?S=>{S.status&&i({status:S.status,progress:S.progress||0})}:void 0;let f;if(d){const S=await F6.createWorker(s,void 0,{logger:d});await S.setParameters({tessedit_pageseg_mode:o}),f=await S.recognize(t),await S.terminate()}else f=await c.recognize(t);const h=performance.now()-n,m=f.data,v=(m.words||[]).map(S=>({text:S.text,confidence:S.confidence,bbox:S.bbox})),b=m.osd?.rotate||0,x=a&&Math.abs(b)>5;return{text:m.text,confidence:m.confidence,wasRotated:x,rotationAngle:b,processingTime:h,words:v}}const Ir={pdf:"application/pdf",jpeg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",bmp:"image/bmp",tiff:"image/tiff"},tle={".pdf":Ir.pdf,".jpg":Ir.jpeg,".jpeg":Ir.jpeg,".png":Ir.png,".webp":Ir.webp,".gif":Ir.gif,".bmp":Ir.bmp,".tiff":Ir.tiff,".tif":Ir.tiff},U6=new Set([Ir.jpeg,Ir.png,Ir.webp,Ir.gif,Ir.bmp,Ir.tiff]),xN=50*1024*1024;async function nle(t,e={}){const{quickScan:n=!0,maxPagesToScan:r=5}=e,i=rle(t);if(!i.isValid)return{type:"image",mimeType:t.type||"unknown",fileName:t.name,fileSize:t.size,needsOCR:!1,confidence:0,metadata:i};const a=BP(t);return ale(a)?ole(t,a):a===Ir.pdf?sle(t,{quickScan:n,maxPagesToScan:r}):{type:"image",mimeType:a,fileName:t.name,fileSize:t.size,needsOCR:!0,confidence:0,metadata:{isValid:!1,validationError:`Unsupported file type: ${a}`}}}function rle(t){if(!t||!t.name)return{isValid:!1,validationError:"Invalid file: missing file or filename"};if(t.size===0)return{isValid:!1,validationError:"File is empty"};if(t.size>xN)return{isValid:!1,validationError:`File too large: ${Math.round(t.size/1024/1024)}MB exceeds ${xN/1024/1024}MB limit`};const e=BP(t);return H6(e)?{isValid:!0}:{isValid:!1,validationError:`Unsupported file type: ${e}`}}function BP(t){if(t.type&&t.type!=="application/octet-stream")return t.type;const e=ile(t.name);return tle[e]||t.type||"unknown"}function ile(t){const e=t.lastIndexOf(".");return e===-1?"":t.slice(e).toLowerCase()}function H6(t){return t===Ir.pdf||U6.has(t)}function ale(t){return U6.has(t)}async function ole(t,e){let n;try{const r=await createImageBitmap(t);n=r.width>r.height?"landscape":"portrait",r.close()}catch{}return{type:"image",mimeType:e,fileName:t.name,fileSize:t.size,needsOCR:!0,confidence:1,metadata:{isValid:!0,orientation:n}}}async function sle(t,e){try{const n=await bE(t,{quickScan:e.quickScan,maxPages:e.maxPagesToScan}),r=n.isScanned,i=r?"scanned-pdf":"text-pdf",a=n.fullText.slice(0,500);return{type:i,mimeType:Ir.pdf,fileName:t.name,fileSize:t.size,needsOCR:r,confidence:n.textConfidence,pageCount:n.totalPages,previewText:a||void 0,metadata:{isValid:!0,textConfidence:n.textConfidence}}}catch(n){return{type:"scanned-pdf",mimeType:Ir.pdf,fileName:t.name,fileSize:t.size,needsOCR:!0,confidence:0,metadata:{isValid:!1,validationError:`Failed to parse PDF: ${n instanceof Error?n.message:String(n)}`}}}}function lle(t){const e=BP(t);return H6(e)}function cle(t){return t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/(1024*1024)).toFixed(1)} MB`}function ule(){return`upload_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function dle(t){return t.type===Ir.pdf?g.jsx(bne,{size:40,stroke:1.5}):t.type.startsWith("image/")?g.jsx(Vne,{size:40,stroke:1.5}):g.jsx(_ne,{size:40,stroke:1.5})}function fle({onComplete:t,onCancel:e}){const[n,r]=w.useState([]),[i,a]=w.useState(null),o=w.useCallback(f=>{a(null);const h=[],m=[];for(const v of f){if(!lle(v)){m.push(`${v.name}: Unsupported file type`);continue}const b={file:v,id:ule(),formattedSize:cle(v.size)};v.type.startsWith("image/")&&(b.preview=URL.createObjectURL(v)),h.push(b)}m.length>0&&a(m.join(`
`)),r(v=>[...v,...h])},[]),s=w.useCallback(()=>{a("Some files were rejected. Please upload only PDF or image files.")},[]),c=w.useCallback(f=>{r(h=>{const m=h.find(v=>v.id===f);return m?.preview&&URL.revokeObjectURL(m.preview),h.filter(v=>v.id!==f)})},[]),d=w.useCallback(()=>{n.length>0&&t(n)},[n,t]);return g.jsxs(tt,{gap:"lg",children:[g.jsx(gy,{onDrop:o,onReject:s,maxSize:50*1024*1024,accept:[Jp.pdf,Jp.png,Jp.jpeg,Jp.webp,Jp.gif],multiple:!0,children:g.jsxs(ze,{justify:"center",gap:"xl",mih:200,style:{pointerEvents:"none"},children:[g.jsx(gy.Accept,{children:g.jsx(Om,{size:52,stroke:1.5,color:"var(--mantine-color-blue-6)"})}),g.jsx(gy.Reject,{children:g.jsx(Vi,{size:52,stroke:1.5,color:"var(--mantine-color-red-6)"})}),g.jsx(gy.Idle,{children:g.jsx(Om,{size:52,stroke:1.5,color:"var(--mantine-color-dimmed)"})}),g.jsxs("div",{children:[g.jsx(oe,{size:"xl",inline:!0,children:"Drag files here or click to select"}),g.jsx(oe,{size:"sm",c:"dimmed",inline:!0,mt:7,children:"Supported formats: PDF, JPEG, PNG, WebP, GIF"}),g.jsx(oe,{size:"sm",c:"dimmed",inline:!0,mt:4,children:"Maximum file size: 50MB"})]})]})}),i&&g.jsx(It,{icon:g.jsx(la,{size:16}),title:"Upload Error",color:"red",withCloseButton:!0,onClose:()=>a(null),children:i}),n.length>0&&g.jsxs(tt,{gap:"sm",children:[g.jsxs(ze,{justify:"space-between",children:[g.jsxs(oe,{fw:500,children:["Selected Files (",n.length,")"]}),g.jsx(_t,{variant:"subtle",size:"sm",color:"red",onClick:()=>r([]),children:"Remove All"})]}),n.map(f=>g.jsx(Dt,{p:"sm",withBorder:!0,children:g.jsxs(ze,{justify:"space-between",wrap:"nowrap",children:[g.jsxs(ze,{wrap:"nowrap",children:[f.preview?g.jsx(kk,{src:f.preview,alt:f.file.name,w:50,h:50,fit:"cover",radius:"sm"}):dle(f.file),g.jsxs("div",{children:[g.jsx(oe,{size:"sm",fw:500,lineClamp:1,children:f.file.name}),g.jsx(dn,{size:"sm",variant:"light",children:f.formattedSize})]})]}),g.jsx(Mi,{color:"red",variant:"subtle",onClick:()=>c(f.id),"aria-label":`Remove ${f.file.name}`,children:g.jsx(Vi,{size:16})})]})},f.id))]}),g.jsxs(ze,{justify:"flex-end",mt:"xl",children:[e&&g.jsx(_t,{variant:"subtle",onClick:e,children:"Cancel"}),g.jsxs(_t,{onClick:d,disabled:n.length===0,leftSection:g.jsx(Om,{size:16}),children:["Analyze ",n.length>0&&`(${n.length})`]})]})]})}const hle={biomarker:"Glucose",aliases:["Blood Sugar","Fasting Glucose","FBG","Blood Glucose"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.0555},{from:"mmol/L",to:"mg/dL",factor:18.018}]},ple={biomarker:"Cholesterol",aliases:["Total Cholesterol","TC","Chol","LDL Cholesterol","LDL","LDL-C","HDL Cholesterol","HDL","HDL-C","VLDL Cholesterol","VLDL","VLDL-C","Non-HDL Cholesterol","Non-HDL","Non-HDL-C"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.0259},{from:"mmol/L",to:"mg/dL",factor:38.61}]},mle={biomarker:"Triglycerides",aliases:["TG","Trigs","TRIG"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.0113},{from:"mmol/L",to:"mg/dL",factor:88.5}]},gle={biomarker:"Hemoglobin",aliases:["Hgb","Hb","HGB"],conversions:[{from:"g/dL",to:"g/L",factor:10},{from:"g/L",to:"g/dL",factor:.1},{from:"g/dL",to:"mmol/L",factor:.6206},{from:"mmol/L",to:"g/dL",factor:1.611}]},vle={biomarker:"Creatinine",aliases:["Creat","Serum Creatinine"],conversions:[{from:"mg/dL",to:"mol/L",factor:88.4},{from:"mol/L",to:"mg/dL",factor:.0113}]},yle={biomarker:"Blood Urea Nitrogen",aliases:["BUN","Urea Nitrogen","Urea"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.357},{from:"mmol/L",to:"mg/dL",factor:2.8}]},ble={biomarker:"Calcium",aliases:["Ca","Ca++","Serum Calcium","Total Calcium"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.25},{from:"mmol/L",to:"mg/dL",factor:4}]},xle={biomarker:"Vitamin D",aliases:["25-OH Vitamin D","25-Hydroxyvitamin D","Calcidiol","Vitamin D Total"],conversions:[{from:"ng/mL",to:"nmol/L",factor:2.496},{from:"nmol/L",to:"ng/mL",factor:.401}]},wle={biomarker:"Vitamin B12",aliases:["B12","Cobalamin","Cyanocobalamin"],conversions:[{from:"pg/mL",to:"pmol/L",factor:.738},{from:"pmol/L",to:"pg/mL",factor:1.355},{from:"pg/mL",to:"ng/L",factor:1},{from:"ng/L",to:"pg/mL",factor:1}]},Sle={biomarker:"Folate",aliases:["Folic Acid","Vitamin B9","Serum Folate"],conversions:[{from:"ng/mL",to:"nmol/L",factor:2.266},{from:"nmol/L",to:"ng/mL",factor:.441}]},Cle={biomarker:"Thyroid Stimulating Hormone",aliases:["TSH","Thyrotropin"],conversions:[{from:"mIU/L",to:"IU/mL",factor:1},{from:"IU/mL",to:"mIU/L",factor:1},{from:"mIU/L",to:"mU/L",factor:1},{from:"mU/L",to:"mIU/L",factor:1},{from:"UI/mL",to:"mIU/L",factor:1},{from:"mIU/L",to:"UI/mL",factor:1},{from:"UI/mL",to:"IU/mL",factor:1},{from:"IU/mL",to:"UI/mL",factor:1},{from:"UI/mL",to:"mU/L",factor:1},{from:"mU/L",to:"UI/mL",factor:1},{from:"uIU/mL",to:"mIU/L",factor:1},{from:"mIU/L",to:"uIU/mL",factor:1},{from:"uIU/mL",to:"IU/mL",factor:1},{from:"IU/mL",to:"uIU/mL",factor:1}]},Ale={biomarker:"Free T4",aliases:["FT4","Free Thyroxine","Thyroxine Free"],conversions:[{from:"ng/dL",to:"pmol/L",factor:12.87},{from:"pmol/L",to:"ng/dL",factor:.0777}]},_le={biomarker:"Total T4",aliases:["T4","Thyroxine","Serum T4"],conversions:[{from:"g/dL",to:"nmol/L",factor:12.87},{from:"nmol/L",to:"g/dL",factor:.0777}]},Ele={biomarker:"Free T3",aliases:["FT3","Free Triiodothyronine"],conversions:[{from:"pg/mL",to:"pmol/L",factor:1.536},{from:"pmol/L",to:"pg/mL",factor:.651}]},Tle={biomarker:"Total T3",aliases:["T3","Triiodothyronine"],conversions:[{from:"ng/dL",to:"nmol/L",factor:.01536},{from:"nmol/L",to:"ng/dL",factor:65.1}]},kle={biomarker:"Serum Iron",aliases:["Iron","Fe","Iron Level"],conversions:[{from:"g/dL",to:"mol/L",factor:.179},{from:"mol/L",to:"g/dL",factor:5.587}]},Ple={biomarker:"Ferritin",aliases:["Serum Ferritin"],conversions:[{from:"ng/mL",to:"g/L",factor:1},{from:"g/L",to:"ng/mL",factor:1},{from:"ng/mL",to:"pmol/L",factor:2.247},{from:"pmol/L",to:"ng/mL",factor:.445}]},Ole={biomarker:"Bilirubin",aliases:["Total Bilirubin","TBIL","Bilirubin Total","Direct Bilirubin","DBIL"],conversions:[{from:"mg/dL",to:"mol/L",factor:17.1},{from:"mol/L",to:"mg/dL",factor:.0585}]},Mle={biomarker:"Albumin",aliases:["Serum Albumin","ALB"],conversions:[{from:"g/dL",to:"g/L",factor:10},{from:"g/L",to:"g/dL",factor:.1}]},Dle={biomarker:"Hemoglobin A1c",aliases:["HbA1c","A1C","Glycated Hemoglobin","Glycohemoglobin"],conversions:[{from:"%",to:"mmol/mol",factor:10.929},{from:"mmol/mol",to:"%",factor:.0915}]},jle={biomarker:"Uric Acid",aliases:["Urate","Serum Uric Acid"],conversions:[{from:"mg/dL",to:"mol/L",factor:59.48},{from:"mol/L",to:"mg/dL",factor:.0168}]},Rle={biomarker:"White Blood Cell Count",aliases:["WBC","Leukocytes","White Blood Cells","WBC Count"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1},{from:"K/uL",to:"10^9/L",factor:1},{from:"10^9/L",to:"K/uL",factor:1},{from:"10^3/L",to:"k/L",factor:1},{from:"k/L",to:"10^3/L",factor:1},{from:"cells/L",to:"10^9/L",factor:1e-6},{from:"10^9/L",to:"cells/L",factor:1e6},{from:"mil/mL",to:"10^9/L",factor:1},{from:"10^9/L",to:"mil/mL",factor:1}]},Lle={biomarker:"Red Blood Cell Count",aliases:["RBC","Erythrocytes","Red Blood Cells","RBC Count"],conversions:[{from:"10^6/L",to:"10^12/L",factor:1},{from:"10^12/L",to:"10^6/L",factor:1},{from:"10^6/L",to:"10^12/L",factor:1},{from:"10^12/L",to:"10^6/L",factor:1},{from:"M/L",to:"10^12/L",factor:1},{from:"10^12/L",to:"M/L",factor:1},{from:"M/uL",to:"10^12/L",factor:1},{from:"10^12/L",to:"M/uL",factor:1},{from:"10^6/L",to:"M/L",factor:1},{from:"M/L",to:"10^6/L",factor:1}]},Nle={biomarker:"Platelet Count",aliases:["PLT","Platelets","Thrombocytes","PLT Count"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1},{from:"K/uL",to:"10^9/L",factor:1},{from:"10^9/L",to:"K/uL",factor:1},{from:"10^3/L",to:"k/L",factor:1},{from:"k/L",to:"10^3/L",factor:1}]},Ile={biomarker:"Neutrophil Count",aliases:["Neutrophils","Absolute Neutrophil Count","ANC","Neutrophils Absolute"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1},{from:"cells/L",to:"10^9/L",factor:1e-6},{from:"10^9/L",to:"cells/L",factor:1e6}]},zle={biomarker:"Lymphocyte Count",aliases:["Lymphocytes","Absolute Lymphocyte Count","Lymphocytes Absolute"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1},{from:"cells/L",to:"10^9/L",factor:1e-6},{from:"10^9/L",to:"cells/L",factor:1e6}]},Ble={biomarker:"Monocyte Count",aliases:["Monocytes","Absolute Monocyte Count","Monocytes Absolute"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1},{from:"cells/L",to:"10^9/L",factor:1e-6},{from:"10^9/L",to:"cells/L",factor:1e6}]},$le={biomarker:"Eosinophil Count",aliases:["Eosinophils","Absolute Eosinophil Count","Eosinophils Absolute"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1},{from:"cells/L",to:"10^9/L",factor:1e-6},{from:"10^9/L",to:"cells/L",factor:1e6}]},Fle={biomarker:"Basophil Count",aliases:["Basophils","Absolute Basophil Count","Basophils Absolute"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1},{from:"cells/L",to:"10^9/L",factor:1e-6},{from:"10^9/L",to:"cells/L",factor:1e6}]},Ule={biomarker:"Reticulocyte Count",aliases:["Reticulocytes","Retics","Reticulocyte Absolute"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1}]},Hle={biomarker:"Magnesium",aliases:["Mg","Serum Magnesium","Mg++"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.4114},{from:"mmol/L",to:"mg/dL",factor:2.431},{from:"mEq/L",to:"mmol/L",factor:.5},{from:"mmol/L",to:"mEq/L",factor:2},{from:"mg/dL",to:"mEq/L",factor:.8228},{from:"mEq/L",to:"mg/dL",factor:1.215}]},Vle={biomarker:"Potassium",aliases:["K","K+","Serum Potassium"],conversions:[{from:"mEq/L",to:"mmol/L",factor:1},{from:"mmol/L",to:"mEq/L",factor:1}]},qle={biomarker:"Sodium",aliases:["Na","Na+","Serum Sodium"],conversions:[{from:"mEq/L",to:"mmol/L",factor:1},{from:"mmol/L",to:"mEq/L",factor:1}]},Gle={biomarker:"Chloride",aliases:["Cl","Cl-","Serum Chloride"],conversions:[{from:"mEq/L",to:"mmol/L",factor:1},{from:"mmol/L",to:"mEq/L",factor:1}]},Yle={biomarker:"Phosphorus",aliases:["Phosphate","P","Inorganic Phosphorus","Serum Phosphorus"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.3229},{from:"mmol/L",to:"mg/dL",factor:3.097}]},Kle={biomarker:"Testosterone",aliases:["Total Testosterone","Testosterone Total","Free Testosterone","Testosterone Free"],conversions:[{from:"ng/dL",to:"nmol/L",factor:.0347},{from:"nmol/L",to:"ng/dL",factor:28.84},{from:"ng/mL",to:"nmol/L",factor:3.47},{from:"nmol/L",to:"ng/mL",factor:.288}]},Wle={biomarker:"Estradiol",aliases:["E2","Estrogen","17-beta Estradiol"],conversions:[{from:"pg/mL",to:"pmol/L",factor:3.671},{from:"pmol/L",to:"pg/mL",factor:.272}]},Xle={biomarker:"Prostate Specific Antigen",aliases:["PSA","Total PSA","PSA Total","Free PSA"],conversions:[{from:"ng/mL",to:"g/L",factor:1},{from:"g/L",to:"ng/mL",factor:1}]},Zle={biomarker:"C-Reactive Protein",aliases:["CRP","hs-CRP","High Sensitivity CRP"],conversions:[{from:"mg/L",to:"mg/dL",factor:.1},{from:"mg/dL",to:"mg/L",factor:10},{from:"mg/L",to:"nmol/L",factor:9.524},{from:"nmol/L",to:"mg/L",factor:.105}]},Qle={biomarker:"Erythrocyte Sedimentation Rate",aliases:["ESR","Sed Rate","Sedimentation Rate"],conversions:[{from:"mm/hr",to:"mm/h",factor:1},{from:"mm/h",to:"mm/hr",factor:1}]},Jle={biomarker:"Hematocrit",aliases:["Hct","HCT","PCV","Packed Cell Volume","Ematocrito"],conversions:[{from:"%",to:"L/L",factor:.01},{from:"%",to:"ratio",factor:.01},{from:"L/L",to:"%",factor:100},{from:"ratio",to:"%",factor:100},{from:"L/L",to:"ratio",factor:1},{from:"ratio",to:"L/L",factor:1}]},ece={biomarker:"Mean Corpuscular Volume",aliases:["MCV","Volume Globulare Medio","Volume Corpuscolare Medio"],conversions:[{from:"fL",to:"m",factor:1},{from:"m",to:"fL",factor:1}]},tce={biomarker:"Mean Corpuscular Hemoglobin",aliases:["MCH","Contenuto Medio di Hb","Contenuto Emoglobinico Corpuscolare Medio"],conversions:[{from:"pg",to:"fmol",factor:.01552},{from:"fmol",to:"pg",factor:64.458}]},nce={biomarker:"Mean Corpuscular Hemoglobin Concentration",aliases:["MCHC","Concentrazione Media di Hb","Concentrazione Emoglobinica Corpuscolare Media"],conversions:[{from:"g/dL",to:"g/L",factor:10},{from:"g/L",to:"g/dL",factor:.1}]},rce={biomarker:"TPO Antibodies",aliases:["Anti-TPO","Thyroid Peroxidase Antibodies","TPOAb","Anticorpi anti Tireoperossidasi"],conversions:[{from:"IU/mL",to:"UI/mL",factor:1},{from:"IU/mL",to:"U/mL",factor:1},{from:"IU/mL",to:"kIU/L",factor:1},{from:"UI/mL",to:"IU/mL",factor:1},{from:"UI/mL",to:"U/mL",factor:1},{from:"UI/mL",to:"kIU/L",factor:1},{from:"U/mL",to:"IU/mL",factor:1},{from:"U/mL",to:"UI/mL",factor:1},{from:"U/mL",to:"kIU/L",factor:1},{from:"kIU/L",to:"IU/mL",factor:1},{from:"kIU/L",to:"UI/mL",factor:1},{from:"kIU/L",to:"U/mL",factor:1}]},ice={biomarker:"eGFR",aliases:["Estimated GFR","Glomerular Filtration Rate","GFR","Filtrato Glomerulare","VFG"],conversions:[{from:"mL/min/1.73m",to:"mL/min/1,73m",factor:1},{from:"mL/min/1.73m",to:"mL/min/1,73m^2",factor:1},{from:"mL/min/1,73m",to:"mL/min/1.73m",factor:1},{from:"mL/min/1,73m",to:"mL/min/1,73m^2",factor:1},{from:"mL/min/1,73m^2",to:"mL/min/1.73m",factor:1},{from:"mL/min/1,73m^2",to:"mL/min/1,73m",factor:1}]},ace={biomarker:"Alanine Aminotransferase",aliases:["ALT","SGPT","Alanine Transaminase","GPT","ALT (GPT)","Aspartate Aminotransferase","AST","SGOT","Aspartate Transaminase","GOT","AST (GOT)","Alkaline Phosphatase","ALP","Alk Phos","Gamma-Glutamyl Transferase","GGT","Gamma GT","GGTP","Amylase","S-Amilasi","Amilasi"],conversions:[{from:"U/L",to:"IU/L",factor:1},{from:"IU/L",to:"U/L",factor:1}]},oce={biomarker:"Urine Glucose",aliases:["U-Glucosio","Glucosio Urinario","Glucosio (urine)","Glycosuria"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.0555},{from:"mmol/L",to:"mg/dL",factor:18.02}]},sce={biomarker:"Urine Protein",aliases:["U-Proteine","Proteine (urine)","Proteinuria","U-Proteine totali"],conversions:[{from:"mg/dL",to:"g/L",factor:.01},{from:"mg/dL",to:"mg/L",factor:10},{from:"g/L",to:"mg/dL",factor:100},{from:"g/L",to:"mg/L",factor:1e3},{from:"mg/L",to:"mg/dL",factor:.1},{from:"mg/L",to:"g/L",factor:.001}]},lce={biomarker:"Urine Bilirubin",aliases:["U-Bilirubina","Bilirubina (urine)","Bilirubina urinaria"],conversions:[{from:"mg/dL",to:"mol/L",factor:17.1},{from:"mol/L",to:"mg/dL",factor:.0585}]},cce={biomarker:"Urine Urobilinogen",aliases:["U-Urobilinogeno","Urobilinogeno","Urobilinogeno (urine)"],conversions:[{from:"mg/dL",to:"mol/L",factor:16.9},{from:"mg/dL",to:"EU/dL",factor:1},{from:"mol/L",to:"mg/dL",factor:.0592},{from:"mol/L",to:"EU/dL",factor:.0592},{from:"EU/dL",to:"mg/dL",factor:1},{from:"EU/dL",to:"mol/L",factor:16.9}]},uce={biomarker:"Microalbumin",aliases:["Urine Microalbumin","MAU","Microalbumina","U-Albumina","U-ALBUMINA"],conversions:[{from:"mg/L",to:"g/min",factor:1.04},{from:"g/min",to:"mg/L",factor:.96}]},dce={biomarker:"Total Protein",aliases:["Protein Total","TP","Serum Protein","Proteine totali","Protidemia"],conversions:[{from:"g/dL",to:"g/L",factor:10},{from:"g/L",to:"g/dL",factor:.1}]},fce={biomarker:"Total Iron Binding Capacity",aliases:["TIBC","Iron Binding Capacity"],conversions:[{from:"g/dL",to:"mol/L",factor:.179},{from:"mol/L",to:"g/dL",factor:5.587}]},hce={biomarker:"Transferrin",aliases:["Serum Transferrin"],conversions:[{from:"mg/dL",to:"g/L",factor:.01},{from:"g/L",to:"mg/dL",factor:100}]},pce={biomarker:"Vitamin A",aliases:["Retinol","Serum Retinol"],conversions:[{from:"g/dL",to:"mol/L",factor:.0349},{from:"mol/L",to:"g/dL",factor:28.65}]},mce={biomarker:"Urine Creatinine",aliases:["U-Creatinina","Creatinina urinaria","U-Creatinina (urine)"],conversions:[{from:"mg/dL",to:"mol/L",factor:88.4},{from:"mg/dL",to:"g/L",factor:.01},{from:"mg/dL",to:"mmol/L",factor:.0884},{from:"mol/L",to:"mg/dL",factor:.0113},{from:"mol/L",to:"g/L",factor:11312e-8},{from:"mol/L",to:"mmol/L",factor:.001},{from:"g/L",to:"mg/dL",factor:100},{from:"g/L",to:"mol/L",factor:8840},{from:"g/L",to:"mmol/L",factor:8.84},{from:"mmol/L",to:"mg/dL",factor:11.312},{from:"mmol/L",to:"mol/L",factor:1e3},{from:"mmol/L",to:"g/L",factor:.11312}]},gce={biomarker:"Protein Creatinine Ratio",aliases:["PCR","U-Proteine/Creatinina","Proteine/Creatinina"],conversions:[{from:"mg/mmol",to:"mg/g",factor:8.84},{from:"mg/mmolcreat.",to:"mg/g",factor:8.84},{from:"mg/mmol creat.",to:"mg/g",factor:8.84},{from:"mg/g",to:"mg/mmol",factor:.1131},{from:"mg/gcreat.",to:"mg/mmol",factor:.1131},{from:"mg/g creat.",to:"mg/mmol",factor:.1131},{from:"mg/g creat",to:"mg/mmol",factor:.1131},{from:"mg/mmolcreat.",to:"mg/gcreat.",factor:8.84},{from:"mg/gcreat.",to:"mg/mmolcreat.",factor:.1131}]},vce={biomarker:"Albumin Creatinine Ratio",aliases:["ACR","UACR","Albumina/Creatinina","U-Albumina/Creatinina"],conversions:[{from:"mg/mmol",to:"mg/g",factor:8.84},{from:"mg/mmol creat.",to:"mg/g",factor:8.84},{from:"mg/g",to:"mg/mmol",factor:.1131},{from:"mg/g creat.",to:"mg/mmol",factor:.1131},{from:"mg/g creat",to:"mg/mmol",factor:.1131}]},yce={biomarker:"Sexual Abstinence",aliases:["Astinenza sessuale","Abstinence"],conversions:[{from:"giorni",to:"days",factor:1},{from:"days",to:"giorni",factor:1}]},bce={biomarker:"Total Sperm Count",aliases:["Sperm Count","Spermatozoi totali","Conta spermatozoi"],conversions:[{from:"mil.",to:"million",factor:1},{from:"million",to:"mil.",factor:1},{from:"M",to:"million",factor:1},{from:"million",to:"M",factor:1},{from:"mil.",to:"M",factor:1},{from:"M",to:"mil.",factor:1}]},xce={biomarker:"Sperm Concentration",aliases:["Concentrazione spermatozoi","Sperm Density"],conversions:[{from:"mil/mL",to:"M/mL",factor:1},{from:"M/mL",to:"mil/mL",factor:1},{from:"mil/mL",to:"10^6/mL",factor:1},{from:"10^6/mL",to:"mil/mL",factor:1},{from:"M/mL",to:"10^6/mL",factor:1},{from:"10^6/mL",to:"M/mL",factor:1}]},wN=[hle,ple,mle,gle,vle,yle,ble,xle,wle,Sle,Cle,Ale,_le,Ele,Tle,kle,Ple,Ole,Mle,Dle,jle,Rle,Lle,Nle,Ile,zle,Ble,$le,Fle,Ule,Hle,Vle,qle,Gle,Yle,Kle,Wle,Xle,Zle,Qle,Jle,ece,tce,nce,rce,ice,ace,mce,oce,sce,lce,cce,uce,gce,vce,dce,fce,hce,pce,yce,bce,xce];function V6(t){const e=t.toLowerCase().trim(),n=wN.find(i=>i.biomarker.toLowerCase()===e||i.aliases.some(a=>a.toLowerCase()===e));if(n)return n;const r=Bs(t);if(r){const i=r.name.toLowerCase();return wN.find(a=>a.biomarker.toLowerCase()===i||a.aliases.some(o=>o.toLowerCase()===i))}}const SN={"umol/l":"mol/L","umol/L":"mol/L","mol/l":"mol/L","mol/l":"mol/L","mol/L":"mol/L","nmol/l":"nmol/L","pmol/l":"pmol/L","mg/dl":"mg/dL","mmol/l":"mmol/L","g/dl":"g/dL","g/l":"g/L","ng/ml":"ng/mL","pg/ml":"pg/mL","ug/dl":"g/dL","ug/dL":"g/dL","g/dl":"g/dL","g/dl":"g/dL","g/dL":"g/dL","miu/l":"mIU/L","mIU/l":"mIU/L","uiu/ml":"IU/mL","iu/ml":"IU/mL","iu/ml":"IU/mL","IU/mL":"IU/mL","u/l":"U/L","iu/l":"IU/L","meq/l":"mEq/L","ug/min":"g/min","g/min":"g/min","mg/gcreat.":"mg/g","mg/g creat.":"mg/g","mg/g creat":"mg/g","mg/mmolcreat.":"mg/mmol","mg/mmol creat.":"mg/mmol"};function wce(t){return t.replace(//g,"")}function CN(t){const e=t.trim(),n=wce(e),r=n.toLowerCase();return SN[r]??SN[n]??n}function q6(t,e,n){const r=V6(t);if(!r)return;const i=CN(e),a=CN(n);return i.toLowerCase()===a.toLowerCase()?1:r.conversions.find(s=>s.from.toLowerCase()===i.toLowerCase()&&s.to.toLowerCase()===a.toLowerCase())?.factor}class AN extends Error{constructor(e){super(e),this.name="ConversionError"}}const Sce={"mmol/L":2,"mg/dL":0,"g/dL":1,"g/L":0,"%":1,"mol/L":1,"umol/L":1,"nmol/L":1,"pmol/L":1,"ng/mL":1,"pg/mL":0,"mIU/L":2,"IU/mL":2,"U/L":0,"IU/L":0,"mEq/L":1};function _N(t){const e=t.trim();return Sce[e]??2}function EN(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function ib(t,e,n,r,i){const a=n.trim(),o=r.trim();if(a.toLowerCase()===o.toLowerCase()){const f=_N(o);return{originalValue:e,originalUnit:a,convertedValue:EN(e,f),targetUnit:o,precision:f}}const s=q6(t,a,o);if(s===void 0)throw V6(t)?new AN(`Conversion from "${a}" to "${o}" is not supported for "${t}"`):new AN(`No conversion definitions found for biomarker "${t}"`);const c=_N(o),d=EN(e*s,c);return{originalValue:e,originalUnit:a,convertedValue:d,targetUnit:o,precision:c}}function $P(t,e,n){return e.toLowerCase().trim()===n.toLowerCase().trim()?!0:q6(t,e,n)!==void 0}function G6(t){const e={"umol/l":"mol/L","umol/L":"mol/L","mol/l":"mol/L","nmol/l":"nmol/L","pmol/l":"pmol/L","mg/dl":"mg/dL","mmol/l":"mmol/L","g/dl":"g/dL","g/l":"g/L","ng/ml":"ng/mL","pg/ml":"pg/mL","ug/dl":"g/dL","ug/dL":"g/dL","g/dl":"g/dL","miu/l":"mIU/L","mIU/l":"mIU/L","uiu/ml":"IU/mL","iu/ml":"IU/mL","u/l":"U/L","iu/l":"IU/L","meq/l":"mEq/L"},n=t.toLowerCase().trim();return e[n]??t.trim()}class Rc extends Error{stage;cause;constructor(e,n,r){super(e),this.name="AnalysisError",this.stage=n,this.cause=r}}async function Cce(t,e){const n=performance.now(),r=Mce(),i=[],a=[];let o="image",s="",c="ocr";const d=Ey("Document Detection");i.push(d),e.onProgress?.("Detecting document type",.1);try{Ty(d);const C=await nle(t);if(o=C.type,!C.metadata.isValid)throw new Rc(C.metadata.validationError||"Invalid document","Document Detection");ky(d)}catch(C){throw Py(d,C),new Rc(`Document detection failed: ${C instanceof Error?C.message:String(C)}`,"Document Detection",C instanceof Error?C:void 0)}const f=Ey("Text Extraction");i.push(f),e.onProgress?.("Extracting text",.3);try{if(Ty(f),o==="text-pdf"){const C=await bE(t,{onProgress:(T,E)=>{e.onProgress?.(`Extracting page ${T}/${E}`,.3+T/E*.2)}});s=C.fullText,c="pdf-text",C.errors.length>0&&a.push(...C.errors)}else if(o==="scanned-pdf"){const C=await bE(t);C.fullText.length>100?(s=C.fullText,c="pdf-text",a.push("This appears to be a scanned PDF. Some text may be missing or inaccurate.")):(a.push("Scanned PDF detected. Full OCR support requires PDF page rendering."),s=C.fullText||"Unable to extract text from scanned PDF")}else{const C=await ele(t,{language:e.language,onProgress:T=>{e.onProgress?.(`OCR: ${T.status}`,.3+T.progress*.2)}});s=C.text,c="ocr",C.confidence<70&&a.push(`Low OCR confidence (${Math.round(C.confidence)}%). Results may be inaccurate.`)}if(!s||s.trim().length<20)throw new Rc("No readable text found in document","Text Extraction");ky(f)}catch(C){throw Py(f,C),C instanceof Rc?C:new Rc(`Text extraction failed: ${C instanceof Error?C.message:String(C)}`,"Text Extraction",C instanceof Error?C:void 0)}const h=Ey("AI Analysis");i.push(h),e.onProgress?.("Analyzing with AI",.6);let m;try{Ty(h),m=await kre(e.aiProvider,e.aiConfig).analyzeLabReport(s,{language:e.language,extractPatientInfo:e.extractPatientInfo}),m.warnings.length>0&&a.push(...m.warnings),ky(h)}catch(C){throw Py(h,C),C instanceof Rn?new Rc(`AI analysis failed: ${C.message}`,"AI Analysis",C):new Rc(`AI analysis failed: ${C instanceof Error?C.message:String(C)}`,"AI Analysis",C instanceof Error?C:void 0)}const v=Ey("Biomarker Matching");i.push(v),e.onProgress?.("Matching biomarkers",.9);let b,x=[];try{Ty(v);const C=m.biomarkers.map(k=>Ace(k)),T=kce(C);b=T.deduplicated,x=T.conflicts;const E=b.filter(k=>!k.isExactMatch&&!k.suggestedMatch).length;if(E>0&&a.push(`${E} biomarker(s) could not be matched to the dictionary`),x.length>0){const k=x.filter(M=>!M.valuesMatch).length;k>0&&a.push(`${k} biomarker(s) have conflicting duplicate values that need review`)}ky(v)}catch(C){Py(v,C),b=m.biomarkers.map(T=>({...T,isExactMatch:!1,normalizedUnit:G6(T.unit)})),a.push("Biomarker matching encountered errors")}const S=performance.now()-n;return e.onProgress?.("Complete",1),{id:r,fileName:t.name,documentType:o,extractionMethod:c,extractedText:s,aiAnalysis:m,matchedBiomarkers:b,labDate:m.labDate,labName:m.labName,overallConfidence:Oce(b,m),warnings:a,duplicateConflicts:x,stages:i,totalProcessingTime:S}}function Ace(t){const e=G6(t.unit),n=Bs(t.name);if(n&&([n.canonicalUnit,...n.alternativeUnits].some(o=>o.toLowerCase()===e.toLowerCase())||$P(n.name,t.unit,n.canonicalUnit)))return{...t,dictionaryMatch:n,isExactMatch:!0,normalizedUnit:e};const r=Pce(t.name);return r?{...t,suggestedMatch:r,isExactMatch:!1,normalizedUnit:e}:(console.warn(`[HemoIO] Unmatched biomarker: "${t.name}" (unit: ${t.unit}, value: ${t.value})`),{...t,isExactMatch:!1,normalizedUnit:e})}const _ce=.02,Ece=1;function Tce(t,e){if(t===e)return!0;if(t===0||e===0)return!1;const n=Math.abs(t-e);if(n<=Ece)return!0;const r=(Math.abs(t)+Math.abs(e))/2;return n/r<=_ce}function kce(t){const e=[],n=new Map;for(const i of t){const a=i.dictionaryMatch?.name||i.suggestedMatch?.name||i.name.toLowerCase().trim();n.has(a)||n.set(a,[]),n.get(a).push(i)}const r=[];for(const[i,a]of n){if(a.length===1){r.push(a[0]);continue}const s=(a[0].dictionaryMatch||a[0].suggestedMatch)?.canonicalUnit;if(!s){const m={biomarkerName:i,originalValues:a.map(v=>({value:v.value,unit:v.unit})),valuesMatch:!1,message:`Multiple values found for "${i}" but no canonical unit available to compare them.`};e.push(m);for(const v of a)r.push({...v,hasDuplicateConflict:!0,duplicateConflict:m});continue}const c=[];for(const m of a)if(m.unit.toLowerCase()===s.toLowerCase())c.push({biomarker:m,originalValue:m.value,originalUnit:m.unit,convertedValue:m.value,conversionSucceeded:!0});else if($P(i,m.unit,s))try{const v=ib(i,m.value,m.unit,s);c.push({biomarker:m,originalValue:m.value,originalUnit:m.unit,convertedValue:v.convertedValue,conversionSucceeded:!0})}catch{c.push({biomarker:m,originalValue:m.value,originalUnit:m.unit,convertedValue:m.value,conversionSucceeded:!1})}else c.push({biomarker:m,originalValue:m.value,originalUnit:m.unit,convertedValue:m.value,conversionSucceeded:!1});const d=c.filter(m=>m.conversionSucceeded);if(d.length<2){const m={biomarkerName:i,originalValues:c.map(v=>({value:v.originalValue,unit:v.originalUnit,convertedValue:v.conversionSucceeded?v.convertedValue:void 0,convertedUnit:v.conversionSucceeded?s:void 0})),valuesMatch:!1,message:`Multiple values found for "${i}" but unit conversion failed for some entries.`};e.push(m);for(const v of c)r.push({...v.biomarker,hasDuplicateConflict:!0,duplicateConflict:m});continue}const f=d[0].convertedValue;if(d.every(m=>Tce(m.convertedValue,f))){const m=c.find(v=>v.originalUnit.toLowerCase()===s.toLowerCase())||c[0];r.push(m.biomarker),console.info(`[HemoIO] Merged duplicate biomarker "${i}": `+c.map(v=>`${v.originalValue} ${v.originalUnit}`).join(" = "))}else{const m={biomarkerName:i,originalValues:c.map(v=>({value:v.originalValue,unit:v.originalUnit,convertedValue:v.conversionSucceeded?v.convertedValue:void 0,convertedUnit:v.conversionSucceeded?s:void 0})),valuesMatch:!1,message:`Conflicting values found for "${i}": `+c.map(v=>`${v.originalValue} ${v.originalUnit}`+(v.conversionSucceeded?` (=${v.convertedValue} ${s})`:"")).join(" vs ")+". Please review and keep the correct value."};e.push(m);for(const v of c)r.push({...v.biomarker,hasDuplicateConflict:!0,duplicateConflict:m})}}return{deduplicated:r,conflicts:e}}function Pce(t){const e=t.toLowerCase().replace(/[^a-z0-9]/g,""),n=[t,t.replace(/\s+/g,""),t.replace(/[^a-zA-Z0-9\s]/g,""),e];for(const r of n){const i=Bs(r);if(i)return i}}function Oce(t,e){if(t.length===0)return 0;const n=t.reduce((i,a)=>i+a.confidence,0)/t.length,r=t.filter(i=>i.isExactMatch).length/t.length;return r>0?e.overallConfidence*.3+n*.4+r*.3:e.overallConfidence*.4+n*.6}function Mce(){return`analysis_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function Ey(t){return{name:t,status:"pending"}}function Ty(t){t.status="running",t.startTime=performance.now()}function ky(t){t.status="completed",t.endTime=performance.now()}function Py(t,e){t.status="failed",t.endTime=performance.now(),t.error=e instanceof Error?e.message:String(e)}async function Dce(t,e,n){if(n<1)throw new Error("Concurrency must be at least 1");if(t.length===0)return;const r=new Set,i=[];for(let a=0;a<t.length;a++){const o=t[a],s=e(o,a);i.push(s);const c=s.finally(()=>r.delete(c));r.add(c),r.size>=n&&await Promise.race(r).catch(()=>{})}await Promise.all(i)}function jce({files:t,aiProvider:e,getApiKey:n,aiModel:r,onComplete:i,onBack:a}){const[o,s]=w.useState([]),[c,d]=w.useState([]),[f,h]=w.useState(!0),[m,v]=w.useState(0);w.useEffect(()=>{s(t.map(k=>({id:k.id,name:k.file.name,status:"pending",progress:0})))},[t]);const b=w.useCallback((k,M)=>{s(D=>D.map(j=>j.id===k?{...j,...M}:j))},[]);w.useEffect(()=>{if(o.length===0)return;let k=!1;async function M(){const D=new Array(t.length);let j=null;if(e!=="ollama"&&(j=await n(),!j&&!k)){for(const G of t)D.push({fileId:G.id,fileName:G.file.name,success:!1,error:"API key not available",biomarkers:[],confidence:0,warnings:[]}),b(G.id,{status:"error",progress:100,error:"API key not available"});d(D),h(!1),v(100);return}const I=e==="ollama"?1:3;let B=0;await Dce(t,async(G,V)=>{if(!k){b(G.id,{status:"processing",progress:0,stage:"Starting..."});try{const K=await Cce(G.file,{aiProvider:e,aiConfig:{apiKey:j||"",model:r},onProgress:(te,X)=>{if(!k){b(G.id,{progress:X*100,stage:te});const J=B/t.length*100,L=X/t.length*100;v(Math.min(J+L,99))}}});D[V]={fileId:G.id,fileName:G.file.name,success:!0,biomarkers:K.matchedBiomarkers,labDate:K.labDate,labName:K.labName,confidence:K.overallConfidence,warnings:K.warnings,duplicateConflicts:K.duplicateConflicts},b(G.id,{status:"success",progress:100,stage:"Complete"})}catch(K){const te=K instanceof Rc||K instanceof Error?K.message:"Unknown error";D[V]={fileId:G.id,fileName:G.file.name,success:!1,error:te,biomarkers:[],confidence:0,warnings:[]},b(G.id,{status:"error",progress:100,error:te})}B++,k||v(B/t.length*100)}},I),k||(d(D),h(!1),v(100))}return M(),()=>{k=!0}},[t,e,n,r,o.length,b]);const x=c.filter(k=>k.success).length,S=c.filter(k=>!k.success).length,C=c.reduce((k,M)=>k+M.biomarkers.length,0),T=w.useCallback(()=>{const k=c.filter(M=>M.success);k.length>0&&i(k)},[c,i]),E=k=>{switch(k){case"success":return g.jsx(vn,{color:"green",size:24,radius:"xl",children:g.jsx(On,{size:16})});case"error":return g.jsx(vn,{color:"red",size:24,radius:"xl",children:g.jsx(Vi,{size:16})});case"processing":return g.jsx(ji,{size:"sm"});default:return g.jsx(vn,{color:"gray",size:24,radius:"xl",children:g.jsx(mne,{size:16})})}};return g.jsxs(tt,{gap:"lg",children:[g.jsxs(Dt,{p:"md",withBorder:!0,children:[g.jsx(oe,{fw:500,mb:"sm",children:"Overall Progress"}),g.jsx(Ol,{value:m,size:"lg",radius:"xl",animated:f}),g.jsx(oe,{size:"sm",c:"dimmed",mt:"xs",children:f?`Processing ${t.length} file(s)...`:"Processing complete"})]}),g.jsx(Ua,{spacing:"sm",size:"sm",center:!0,children:o.map(k=>g.jsx(Ua.Item,{icon:E(k.status),children:g.jsxs(ze,{justify:"space-between",wrap:"nowrap",children:[g.jsxs("div",{children:[g.jsx(oe,{size:"sm",fw:500,children:k.name}),k.stage&&k.status==="processing"&&g.jsx(oe,{size:"xs",c:"dimmed",children:k.stage}),k.error&&g.jsx(oe,{size:"xs",c:"red",children:k.error})]}),k.status==="processing"&&g.jsx(Ol,{value:k.progress,size:"sm",w:100,radius:"xl"})]})},k.id))}),!f&&g.jsxs(g.Fragment,{children:[x>0&&g.jsxs(It,{icon:g.jsx(On,{size:16}),title:"Analysis Complete",color:"green",children:["Successfully extracted ",C," biomarker values from"," ",x," file(s)."]}),S>0&&g.jsxs(It,{icon:g.jsx(la,{size:16}),title:"Some Files Failed",color:"orange",children:[S," file(s) could not be processed. You can continue with the successful files or go back to try again."]}),x===0&&g.jsx(It,{icon:g.jsx(Vi,{size:16}),title:"Analysis Failed",color:"red",children:"No files could be processed. Please check your files and try again."})]}),g.jsxs(ze,{justify:"space-between",mt:"xl",children:[g.jsx(_t,{variant:"subtle",leftSection:g.jsx(Ax,{size:16}),onClick:a,disabled:f,children:"Back"}),g.jsxs(_t,{onClick:T,disabled:f||x===0,children:["Review Results",x>0&&g.jsx(dn,{ml:"xs",size:"sm",variant:"light",children:x})]})]})]})}const Rce={serum:"Serum",plasma:"Plasma",urine:"Urine","urine-24h":"24h Urine","whole-blood":"Whole Blood",capillary:"Capillary",saliva:"Saliva",csf:"CSF",stool:"Stool",semen:"Semen",other:"Other"};function Lce(t){return t?Rce[t]||t:""}function Nce(t){const e=t.dictionaryMatch;if(!e)return null;const n=[];return e.loincCode&&n.push(`LOINC: ${e.loincCode}`),e.description&&n.push(e.description),n.length>0?n.join(`
`):null}const Ice=[{pattern:/\s*\(urine,?\s*24h?\)\s*$/i,type:"urine-24h"},{pattern:/\s*\(24h?\s*urine\)\s*$/i,type:"urine-24h"},{pattern:/\s*\(urine[^)]*\)\s*$/i,type:"urine"},{pattern:/\s*\(plasma[^)]*\)\s*$/i,type:"plasma"},{pattern:/\s*\(serum[^)]*\)\s*$/i,type:"serum"},{pattern:/\s*\(siero[^)]*\)\s*$/i,type:"serum"},{pattern:/\s*\(sangue[^)]*\)\s*$/i,type:"whole-blood"},{pattern:/\s*\(whole[- ]?blood[^)]*\)\s*$/i,type:"whole-blood"},{pattern:/\s*\(semen[^)]*\)\s*$/i,type:"semen"},{pattern:/\s*\(liquido seminale[^)]*\)\s*$/i,type:"semen"},{pattern:/\s*\(csf[^)]*\)\s*$/i,type:"csf"},{pattern:/\s*\(liquor[^)]*\)\s*$/i,type:"csf"},{pattern:/\s*\(saliva[^)]*\)\s*$/i,type:"saliva"},{pattern:/\s*\(stool[^)]*\)\s*$/i,type:"stool"},{pattern:/\s*\(feci[^)]*\)\s*$/i,type:"stool"}];function Y6(t){for(const{pattern:e,type:n}of Ice)if(e.test(t))return{cleanName:t.replace(e,"").trim(),extractedSpecimen:n};return{cleanName:t}}function zce(t){if(t.dictionaryMatch?.specimenType)return t.dictionaryMatch.specimenType;const{extractedSpecimen:e}=Y6(t.name);return e}function TN(t){const{cleanName:e}=Y6(t.name);return e}function kN(t){return t>=.85?"green":t>=.7?"yellow":"red"}function Bce(t){return t>=.85?"High":t>=.7?"Medium":"Low"}function $ce({reviewedResults:t,onReviewChange:e,onComplete:n,onBack:r}){const[i,a]=w.useState(null),[o,s]=w.useState(null),c=w.useCallback((T,E,k)=>{const M=[...t];M[T]={...M[T],editedBiomarkers:M[T].editedBiomarkers.map((D,j)=>j===E?{...D,...k}:D)},e(M)},[t,e]),d=w.useCallback((T,E)=>{const k=[...t];k[T]={...k[T],editedBiomarkers:k[T].editedBiomarkers.filter((M,D)=>D!==E)},e(k)},[t,e]),f=w.useCallback(T=>{const E=[...t],k={name:"",value:0,unit:"",confidence:1,isExactMatch:!1,normalizedUnit:""};E[T]={...E[T],editedBiomarkers:[...E[T].editedBiomarkers,k]},e(E),a({resultIndex:T,biomarkerIndex:E[T].editedBiomarkers.length-1})},[t,e]),h=w.useCallback((T,E)=>{const k=[...t];k[T]={...k[T],editedLabDate:E},e(k)},[t,e]),m=w.useCallback((T,E)=>{const k=[...t];k[T]={...k[T],editedLabName:E},e(k)},[t,e]),v=t.reduce((T,E)=>T+E.editedBiomarkers.filter(k=>k.confidence<.7).length,0),b=t.reduce((T,E)=>T+E.editedBiomarkers.filter(k=>k.hasDuplicateConflict).length,0),x=t.flatMap(T=>T.duplicateConflicts?.filter(E=>!E.valuesMatch)||[]),S=t.reduce((T,E)=>T+E.editedBiomarkers.length,0),C=w.useCallback(()=>{const T=[];if(t.forEach(E=>{E.editedBiomarkers.forEach((k,M)=>{const D=[];if(k.name||D.push("name"),(k.value===void 0||k.value===null)&&D.push("value"),!k.unit){const j=Bs(k.name||"");(!j||j.canonicalUnit!=="")&&D.push("unit")}if(D.length>0){const j=k.name||`Biomarker #${M+1}`;T.push(`${j} in "${E.fileName}" is missing: ${D.join(", ")}`)}})}),T.length>0){s(`Please fix the following issues:
${T.slice(0,5).join(`
`)}${T.length>5?`
...and ${T.length-5} more`:""}`);return}s(null),n(t)},[t,n]);return g.jsxs(tt,{gap:"lg",children:[g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsxs(ze,{justify:"space-between",children:[g.jsxs("div",{children:[g.jsx(oe,{fw:500,children:"Review Extracted Values"}),g.jsxs(oe,{size:"sm",c:"dimmed",children:[S," biomarker(s) from ",t.length," ","file(s)"]})]}),g.jsxs(ze,{gap:"xs",children:[b>0&&g.jsx(fi,{label:"Duplicate biomarkers with conflicting values",children:g.jsxs(dn,{color:"orange",variant:"light",leftSection:g.jsx(iC,{size:12}),children:[b," conflicts"]})}),v>0&&g.jsx(fi,{label:"Values that may need verification",children:g.jsxs(dn,{color:"yellow",variant:"light",leftSection:g.jsx(Ml,{size:12}),children:[v," low confidence"]})})]})]})}),x.length>0&&g.jsx(It,{icon:g.jsx(iC,{size:16}),title:"Duplicate Biomarkers Detected",color:"orange",variant:"light",children:g.jsxs(tt,{gap:"xs",children:[g.jsx(oe,{size:"sm",children:"The following biomarkers appear multiple times with different values. Please review and remove the incorrect entries:"}),g.jsx("ul",{style:{margin:0,paddingLeft:16},children:x.map((T,E)=>g.jsxs("li",{children:[g.jsxs(oe,{size:"sm",fw:500,children:[T.biomarkerName,":"]}),g.jsx(oe,{size:"xs",c:"dimmed",children:T.message})]},E))})]})}),g.jsx(ki,{variant:"separated",multiple:!0,defaultValue:["0"],children:t.map((T,E)=>g.jsxs(ki.Item,{value:String(E),children:[g.jsx(ki.Control,{children:g.jsxs(ze,{justify:"space-between",wrap:"nowrap",pr:"md",children:[g.jsxs("div",{children:[g.jsx(oe,{fw:500,children:T.fileName}),g.jsxs(oe,{size:"sm",c:"dimmed",children:[T.editedBiomarkers.length," biomarker(s)"]})]}),g.jsxs(dn,{color:kN(T.confidence),children:[Bce(T.confidence)," confidence"]})]})}),g.jsx(ki.Panel,{children:g.jsxs(tt,{gap:"md",children:[g.jsxs(ze,{grow:!0,children:[g.jsx(Cs,{label:"Lab Date",leftSection:g.jsx(gh,{size:16}),placeholder:"YYYY-MM-DD",value:T.editedLabDate||T.labDate||"",onChange:k=>h(E,k.target.value||void 0)}),g.jsx(Cs,{label:"Lab Name",leftSection:g.jsx(oP,{size:16}),placeholder:"Laboratory name",value:T.editedLabName||T.labName||"",onChange:k=>m(E,k.target.value||void 0)})]}),T.warnings.length>0&&g.jsx(It,{icon:g.jsx(cP,{size:16}),title:"Analysis Notes",color:"blue",variant:"light",children:g.jsx("ul",{style:{margin:0,paddingLeft:16},children:T.warnings.map((k,M)=>g.jsx("li",{children:k},M))})}),g.jsxs(ht,{striped:!0,highlightOnHover:!0,withTableBorder:!0,children:[g.jsx(ht.Thead,{children:g.jsxs(ht.Tr,{children:[g.jsx(ht.Th,{children:"Biomarker"}),g.jsx(ht.Th,{children:"Specimen"}),g.jsx(ht.Th,{children:"Value"}),g.jsx(ht.Th,{children:"Unit"}),g.jsx(ht.Th,{children:"Reference Range"}),g.jsx(ht.Th,{children:"Method"}),g.jsx(ht.Th,{children:"Confidence"}),g.jsx(ht.Th,{w:100,children:"Actions"})]})}),g.jsx(ht.Tbody,{children:T.editedBiomarkers.map((k,M)=>{const D=i?.resultIndex===E&&i?.biomarkerIndex===M;let j;k.hasDuplicateConflict?j="var(--mantine-color-orange-light)":k.confidence<.7&&(j="var(--mantine-color-yellow-light)");const I=Nce(k);return g.jsxs(ht.Tr,{bg:j,children:[g.jsx(ht.Td,{children:D?g.jsx(Cs,{size:"xs",value:k.name,onChange:B=>c(E,M,{name:B.target.value}),placeholder:"Biomarker name"}):g.jsxs(ze,{gap:"xs",children:[I?g.jsx(fi,{label:I,multiline:!0,w:300,withArrow:!0,children:g.jsx(oe,{size:"sm",style:{cursor:"help",textDecoration:"underline dotted"},children:TN(k)})}):g.jsx(oe,{size:"sm",children:TN(k)}),k.hasDuplicateConflict&&g.jsx(fi,{label:"Duplicate with conflicting value - please review",children:g.jsx(vn,{size:"xs",color:"orange",variant:"light",children:g.jsx(iC,{size:10})})}),k.dictionaryMatch&&!k.hasDuplicateConflict&&g.jsx(fi,{label:"Matched to dictionary",children:g.jsx(vn,{size:"xs",color:"green",variant:"light",children:g.jsx(On,{size:10})})})]})}),g.jsx(ht.Td,{children:g.jsxs(ze,{gap:4,children:[g.jsx(Tx,{size:14,style:{color:"var(--mantine-color-dimmed)"}}),g.jsx(oe,{size:"sm",c:"dimmed",children:Lce(zce(k))})]})}),g.jsx(ht.Td,{children:D?k.isInterval?g.jsxs(ze,{gap:"xs",wrap:"nowrap",children:[g.jsx(xl,{size:"xs",value:k.intervalLow??"",onChange:B=>c(E,M,{intervalLow:B===""?void 0:Number(B),value:B===""||k.intervalHigh===void 0?k.value:(Number(B)+k.intervalHigh)/2}),decimalScale:2,placeholder:"Low",w:60}),g.jsx(oe,{size:"xs",children:"-"}),g.jsx(xl,{size:"xs",value:k.intervalHigh??"",onChange:B=>c(E,M,{intervalHigh:B===""?void 0:Number(B),value:B===""||k.intervalLow===void 0?k.value:(k.intervalLow+Number(B))/2}),decimalScale:2,placeholder:"High",w:60})]}):g.jsx(xl,{size:"xs",value:k.value,onChange:B=>c(E,M,{value:Number(B)||0}),decimalScale:2,placeholder:"Value"}):g.jsx(oe,{size:"sm",children:k.isInterval&&k.intervalLow!==void 0&&k.intervalHigh!==void 0?`${k.intervalLow}-${k.intervalHigh}`:k.value})}),g.jsx(ht.Td,{children:D?g.jsx(Cs,{size:"xs",value:k.unit,onChange:B=>c(E,M,{unit:B.target.value}),placeholder:"Unit",w:80}):g.jsx(oe,{size:"sm",children:k.unit})}),g.jsx(ht.Td,{children:D?g.jsxs(ze,{gap:"xs",wrap:"nowrap",children:[g.jsx(xl,{size:"xs",value:k.referenceRange?.low??"",onChange:B=>c(E,M,{referenceRange:{...k.referenceRange,low:B===""?void 0:Number(B),high:k.referenceRange?.high,unit:k.referenceRange?.unit||k.unit}}),decimalScale:2,placeholder:"Low",w:70,allowNegative:!1}),g.jsx(oe,{size:"xs",children:"-"}),g.jsx(xl,{size:"xs",value:k.referenceRange?.high??"",onChange:B=>c(E,M,{referenceRange:{...k.referenceRange,low:k.referenceRange?.low,high:B===""?void 0:Number(B),unit:k.referenceRange?.unit||k.unit}}),decimalScale:2,placeholder:"High",w:70,allowNegative:!1})]}):k.referenceRange?g.jsxs(oe,{size:"sm",children:[k.referenceRange.low??"?"," -"," ",k.referenceRange.high??"?"]}):g.jsx(oe,{size:"sm",c:"dimmed",children:""})}),g.jsx(ht.Td,{children:D?g.jsx(Cs,{size:"xs",value:k.method||"",onChange:B=>c(E,M,{method:B.target.value||void 0}),placeholder:"Method",w:100}):k.method?g.jsx(oe,{size:"sm",children:k.method}):g.jsx(oe,{size:"sm",c:"dimmed",children:""})}),g.jsx(ht.Td,{children:g.jsxs(dn,{size:"sm",color:kN(k.confidence),children:[Math.round(k.confidence*100),"%"]})}),g.jsx(ht.Td,{children:g.jsxs(ze,{gap:"xs",children:[D?g.jsx(Mi,{size:"sm",color:"green",variant:"subtle",onClick:()=>a(null),"aria-label":"Save changes",children:g.jsx(On,{size:14})}):g.jsx(Mi,{size:"sm",variant:"subtle",onClick:()=>a({resultIndex:E,biomarkerIndex:M}),"aria-label":"Edit biomarker",children:g.jsx(RF,{size:14})}),g.jsx(Mi,{size:"sm",color:"red",variant:"subtle",onClick:()=>d(E,M),"aria-label":"Remove biomarker",children:g.jsx(kx,{size:14})})]})})]},M)})})]}),g.jsx(_t,{variant:"light",leftSection:g.jsx(dP,{size:16}),onClick:()=>f(E),size:"sm",children:"Add Biomarker"})]})})]},T.fileId))}),o&&g.jsx(It,{icon:g.jsx(Ml,{size:16}),title:"Cannot Continue",color:"red",withCloseButton:!0,onClose:()=>s(null),children:g.jsx(oe,{size:"sm",style:{whiteSpace:"pre-line"},children:o})}),g.jsxs(ze,{justify:"space-between",mt:"xl",children:[g.jsx(_t,{variant:"subtle",leftSection:g.jsx(Ax,{size:16}),onClick:r,children:"Back"}),g.jsx(_t,{onClick:C,disabled:S===0,children:"Continue to Confirm"})]})]})}function Fce(t){return t.isInterval&&t.intervalLow!==void 0&&t.intervalHigh!==void 0?`${t.intervalLow}-${t.intervalHigh}`:String(t.value)}function Uce({results:t,onConfirm:e,onBack:n}){const r=t.length,i=t.reduce((s,c)=>s+c.editedBiomarkers.length,0),a=[...new Set(t.map(s=>s.editedLabDate||s.labDate).filter(Boolean))],o=[...new Set(t.map(s=>s.editedLabName||s.labName).filter(Boolean))];return g.jsxs(tt,{gap:"lg",children:[g.jsxs(Sx,{cols:{base:1,sm:2,md:4},spacing:"md",children:[g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsxs(ze,{children:[g.jsx(vn,{size:"lg",variant:"light",color:"blue",children:g.jsx(Tne,{size:20})}),g.jsxs("div",{children:[g.jsx(oe,{size:"xs",c:"dimmed",tt:"uppercase",children:"Files"}),g.jsx(oe,{fw:700,size:"xl",children:r})]})]})}),g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsxs(ze,{children:[g.jsx(vn,{size:"lg",variant:"light",color:"green",children:g.jsx(Tx,{size:20})}),g.jsxs("div",{children:[g.jsx(oe,{size:"xs",c:"dimmed",tt:"uppercase",children:"Biomarkers"}),g.jsx(oe,{fw:700,size:"xl",children:i})]})]})}),g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsxs(ze,{children:[g.jsx(vn,{size:"lg",variant:"light",color:"violet",children:g.jsx(gh,{size:20})}),g.jsxs("div",{children:[g.jsx(oe,{size:"xs",c:"dimmed",tt:"uppercase",children:"Lab Date(s)"}),g.jsx(oe,{fw:500,size:"sm",lineClamp:1,children:a.length>0?a.join(", "):"Not specified"})]})]})}),g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsxs(ze,{children:[g.jsx(vn,{size:"lg",variant:"light",color:"orange",children:g.jsx(oP,{size:20})}),g.jsxs("div",{children:[g.jsx(oe,{size:"xs",c:"dimmed",tt:"uppercase",children:"Lab(s)"}),g.jsx(oe,{fw:500,size:"sm",lineClamp:1,children:o.length>0?o.join(", "):"Not specified"})]})]})})]}),g.jsxs(Dt,{p:"md",withBorder:!0,children:[g.jsx(oe,{fw:500,mb:"md",children:"Values to Import"}),t.map((s,c)=>g.jsxs("div",{children:[c>0&&g.jsx(Os,{my:"md"}),g.jsxs(ze,{justify:"space-between",mb:"sm",children:[g.jsxs("div",{children:[g.jsx(oe,{fw:500,size:"sm",children:s.fileName}),g.jsxs(ze,{gap:"xs",children:[(s.editedLabDate||s.labDate)&&g.jsx(dn,{size:"xs",variant:"light",children:s.editedLabDate||s.labDate}),(s.editedLabName||s.labName)&&g.jsx(dn,{size:"xs",variant:"light",color:"gray",children:s.editedLabName||s.labName})]})]}),g.jsxs(dn,{children:[s.editedBiomarkers.length," values"]})]}),g.jsxs(ht,{withTableBorder:!0,children:[g.jsx(ht.Thead,{children:g.jsxs(ht.Tr,{children:[g.jsx(ht.Th,{children:"Biomarker"}),g.jsx(ht.Th,{children:"Value"}),g.jsx(ht.Th,{children:"Reference Range"})]})}),g.jsx(ht.Tbody,{children:s.editedBiomarkers.map((d,f)=>g.jsxs(ht.Tr,{children:[g.jsx(ht.Td,{children:g.jsx(oe,{size:"sm",children:d.name})}),g.jsx(ht.Td,{children:g.jsxs(oe,{size:"sm",fw:500,children:[Fce(d)," ",d.unit]})}),g.jsx(ht.Td,{children:d.referenceRange?g.jsxs(oe,{size:"sm",c:"dimmed",children:[d.referenceRange.low??"?"," -"," ",d.referenceRange.high??"?"," ",d.referenceRange.unit]}):g.jsx(oe,{size:"sm",c:"dimmed",children:""})})]},f))})]})]},s.fileId))]}),g.jsx(Dt,{p:"md",bg:"var(--mantine-color-blue-light)",withBorder:!0,children:g.jsxs(ze,{children:[g.jsx(vn,{size:"lg",color:"blue",variant:"filled",children:g.jsx(On,{size:20})}),g.jsxs("div",{children:[g.jsx(oe,{fw:500,children:"Ready to Save"}),g.jsx(oe,{size:"sm",c:"dimmed",children:'Click "Save Results" to add these values to your health timeline.'})]})]})}),g.jsxs(ze,{justify:"space-between",mt:"xl",children:[g.jsx(_t,{variant:"subtle",leftSection:g.jsx(Ax,{size:16}),onClick:n,children:"Back to Review"}),g.jsx(_t,{color:"green",leftSection:g.jsx(On,{size:16}),onClick:e,children:"Save Results"})]})]})}const PN=[{label:"Upload",description:"Select files",icon:Om},{label:"Analyze",description:"Process documents",icon:Rte},{label:"Review",description:"Verify results",icon:nne},{label:"Confirm",description:"Save results",icon:On}];function Hce({onComplete:t,onCancel:e,aiProvider:n,getApiKey:r,aiModel:i}){const[a,o]=w.useState(0),[s,c]=w.useState([]),[d,f]=w.useState([]),[h,m]=w.useState([]),v=w.useCallback(()=>{o(k=>Math.min(k+1,PN.length-1))},[]),b=w.useCallback(()=>{o(k=>Math.max(k-1,0))},[]),x=w.useCallback(k=>{c(k),v()},[v]),S=w.useCallback(k=>{f(k),m(k.map(M=>({...M,editedBiomarkers:[...M.biomarkers]}))),v()},[v]),C=w.useCallback(k=>{m(k),v()},[v]),T=w.useCallback(()=>{t(h)},[t,h]),E=()=>{switch(a){case 0:return g.jsx(fle,{onComplete:x,onCancel:e});case 1:return g.jsx(jce,{files:s,aiProvider:n,getApiKey:r,aiModel:i,onComplete:S,onBack:b});case 2:return g.jsx($ce,{results:d,reviewedResults:h,onReviewChange:m,onComplete:C,onBack:b});case 3:return g.jsx(Uce,{results:h,onConfirm:T,onBack:b});default:return null}};return g.jsx(gg,{size:"lg",py:"xl",children:g.jsxs(Dt,{shadow:"sm",p:"xl",radius:"md",withBorder:!0,children:[g.jsx(Yi,{order:2,mb:"md",children:"Import Lab Results"}),g.jsx(oe,{c:"dimmed",mb:"xl",children:"Upload your lab report documents and we'll extract the values automatically."}),g.jsx(zo,{active:a,onStepClick:o,allowNextStepsSelect:!1,mb:"xl",children:PN.map((k,M)=>g.jsx(zo.Step,{label:k.label,description:k.description,icon:g.jsx(k.icon,{size:18}),allowStepSelect:M<a},k.label))}),E()]})})}function Vce(t){switch(t){case"high":return{icon:g.jsx(aP,{size:14}),color:"red",label:"Above reference range"};case"low":return{icon:g.jsx(iP,{size:14}),color:"orange",label:"Below reference range"};case"normal":return{icon:g.jsx(On,{size:14}),color:"green",label:"Within reference range"};default:return{icon:g.jsx(uP,{size:14}),color:"gray",label:"No reference range available"}}}function qce(t,e,n){if(t===void 0&&e===void 0)return"";const r=t!==void 0?t.toString():"?",i=e!==void 0?e.toString():"?";return`${r} - ${i} ${n}`}function Gce(t){if(t.biomarkerName)return t.biomarkerName;if(t.rawText){const e=Bs(t.rawText);return e?e.name:t.rawText}return`Biomarker #${t.biomarkerId}`}const Yce={serum:"Serum",plasma:"Plasma",urine:"Urine","urine-24h":"24h Urine","whole-blood":"Whole Blood",capillary:"Capillary",saliva:"Saliva",csf:"CSF",stool:"Stool",semen:"Semen",other:"Other"};function Kce(t){return t?Yce[t]||t:""}const Wce=[{pattern:/\s*\(urine,?\s*24h?\)\s*$/i,type:"urine-24h"},{pattern:/\s*\(24h?\s*urine\)\s*$/i,type:"urine-24h"},{pattern:/\s*\(urine[^)]*\)\s*$/i,type:"urine"},{pattern:/\s*\(plasma[^)]*\)\s*$/i,type:"plasma"},{pattern:/\s*\(serum[^)]*\)\s*$/i,type:"serum"},{pattern:/\s*\(siero[^)]*\)\s*$/i,type:"serum"},{pattern:/\s*\(sangue[^)]*\)\s*$/i,type:"whole-blood"},{pattern:/\s*\(whole[- ]?blood[^)]*\)\s*$/i,type:"whole-blood"},{pattern:/\s*\(semen[^)]*\)\s*$/i,type:"semen"},{pattern:/\s*\(liquido seminale[^)]*\)\s*$/i,type:"semen"},{pattern:/\s*\(csf[^)]*\)\s*$/i,type:"csf"},{pattern:/\s*\(liquor[^)]*\)\s*$/i,type:"csf"},{pattern:/\s*\(saliva[^)]*\)\s*$/i,type:"saliva"},{pattern:/\s*\(stool[^)]*\)\s*$/i,type:"stool"},{pattern:/\s*\(feci[^)]*\)\s*$/i,type:"stool"}];function Xce(t){for(const{pattern:e,type:n}of Wce)if(e.test(t))return{cleanName:t.replace(e,"").trim(),extractedSpecimen:n};return{cleanName:t}}function Zce(t){const e=t.biomarkerName||t.rawText,{cleanName:n,extractedSpecimen:r}=Xce(e||"");if(e){const i=Bs(e);if(i)return{specimenType:i.specimenType,loincCode:i.loincCode,description:i.description,cleanName:n}}return{specimenType:r,cleanName:n}}function HC(t){return Number.isInteger(t)?t.toString():t.toFixed(2)}function ON(t){const{value:e,numericValueType:n,intervalLow:r,intervalHigh:i}=t;return n==="interval"&&r!==void 0&&i!==void 0?`${HC(r)}-${HC(i)}`:typeof e=="boolean"?e?"Positive":"Negative":typeof e=="number"?HC(e):String(e)}function Qce({testValues:t}){return t.length===0?g.jsx(oe,{c:"dimmed",ta:"center",py:"md",children:"No test values recorded for this result."}):g.jsxs(ht,{striped:!0,highlightOnHover:!0,withTableBorder:!0,"aria-label":"Test values",children:[g.jsx(ht.Thead,{children:g.jsxs(ht.Tr,{children:[g.jsx(ht.Th,{children:"Status"}),g.jsx(ht.Th,{children:"Biomarker"}),g.jsx(ht.Th,{children:"Specimen"}),g.jsx(ht.Th,{children:"Value"}),g.jsx(ht.Th,{children:"Unit"}),g.jsx(ht.Th,{children:"Reference Range"})]})}),g.jsx(ht.Tbody,{children:t.map(e=>{const n=Vce(e.status),r=Gce(e),i=Zce(e),a=[];i.loincCode&&a.push(`LOINC: ${i.loincCode}`),i.description&&a.push(i.description);const o=a.length>0?a.join(`
`):null;return g.jsxs(ht.Tr,{"data-status":e.status,"aria-label":`${r}: ${ON(e)} ${e.unit}, ${n.label}`,children:[g.jsx(ht.Td,{children:g.jsx(fi,{label:n.label,children:g.jsx(vn,{size:"sm",color:n.color,variant:"light",radius:"xl","aria-label":n.label,children:n.icon})})}),g.jsx(ht.Td,{children:o?g.jsx(fi,{label:o,multiline:!0,w:300,withArrow:!0,children:g.jsx(oe,{size:"sm",fw:500,style:{cursor:"help",textDecoration:"underline dotted"},children:i.cleanName||r})}):g.jsx(oe,{size:"sm",fw:500,children:i.cleanName||r})}),g.jsx(ht.Td,{children:g.jsxs(ze,{gap:4,children:[g.jsx(Tx,{size:14,style:{color:"var(--mantine-color-dimmed)"}}),g.jsx(oe,{size:"sm",c:"dimmed",children:Kce(i.specimenType)})]})}),g.jsx(ht.Td,{children:g.jsx(ze,{gap:4,children:g.jsx(oe,{size:"sm",fw:e.status!=="normal"&&e.status!=="unknown"?600:400,c:e.status==="high"?"red":e.status==="low"?"orange":void 0,children:ON(e)})})}),g.jsx(ht.Td,{children:g.jsx(oe,{size:"sm",c:"dimmed",children:e.unit})}),g.jsx(ht.Td,{children:g.jsx(oe,{size:"sm",c:"dimmed",children:qce(e.referenceRangeLow,e.referenceRangeHigh,e.unit)})})]},e.id)})})]})}const Jce=["symptom","medication","diet","exercise","sleep","stress","fasting","followup"];function K6({initialContent:t="",initialTags:e=[],onSave:n,onCancel:r,isEditing:i=!1,placeholder:a="Add a note about this result...",autoFocus:o=!0,maxLength:s=5e3,isSaving:c=!1}){const[d,f]=w.useState(t),[h,m]=w.useState(e),v=w.useCallback(E=>{const k=E.target.value;k.length<=s&&f(k)},[s]),b=w.useCallback(()=>{const E=d.trim();E.length!==0&&n(E,h)},[d,h,n]),x=w.useCallback(E=>{(E.ctrlKey||E.metaKey)&&E.key==="Enter"&&(E.preventDefault(),b()),E.key==="Escape"&&(E.preventDefault(),r())},[b,r]),S=d.trim().length>0&&!c,C=d.length,T=C>s*.9;return g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsxs(tt,{gap:"sm",children:[g.jsxs(ze,{gap:"xs",children:[g.jsx(Ex,{size:16}),g.jsx(oe,{size:"sm",fw:500,children:i?"Edit Note":"Add Note"})]}),g.jsx(Mk,{value:d,onChange:v,onKeyDown:x,placeholder:a,minRows:3,maxRows:10,autosize:!0,autoFocus:o,"aria-label":i?"Edit note content":"Note content"}),g.jsxs(ze,{justify:"space-between",children:[g.jsxs(oe,{size:"xs",c:T?"orange":"dimmed",children:[C," / ",s]}),g.jsx(oe,{size:"xs",c:"dimmed",children:"Ctrl+Enter to save, Esc to cancel"})]}),g.jsx(Jk,{label:"Tags",placeholder:"Add tags (press Enter)",value:h,onChange:m,data:Jce,clearable:!0,maxTags:10,"aria-label":"Note tags"}),g.jsxs(ze,{justify:"flex-end",gap:"sm",children:[g.jsx(_t,{variant:"subtle",color:"gray",leftSection:g.jsx(Vi,{size:16}),onClick:r,disabled:c,children:"Cancel"}),g.jsx(_t,{leftSection:g.jsx(On,{size:16}),onClick:b,disabled:!S,loading:c,children:i?"Save Changes":"Save Note"})]})]})})}function eue(t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}).format(t)}function tue({note:t,onUpdate:e,onDelete:n,isProcessing:r=!1}){const[i,a]=w.useState(!1),[o,s]=w.useState(!1),[c,d]=w.useState(!1),[f,h]=w.useState(!1),m=()=>{a(!0)},v=()=>{a(!1)},b=async(E,k)=>{if(t.id){d(!0);try{await e(t.id,E,k),a(!1)}finally{d(!1)}}},x=()=>{h(!0)},S=async()=>{if(t.id){s(!0);try{await n(t.id),h(!1)}finally{s(!1)}}},C=()=>{h(!1)};if(i)return g.jsx(K6,{initialContent:t.content,initialTags:t.tags,onSave:b,onCancel:v,isEditing:!0,isSaving:c});const T=t.updatedAt.getTime()!==t.createdAt.getTime();return g.jsxs(g.Fragment,{children:[g.jsx(Dt,{p:"sm",withBorder:!0,children:g.jsxs(tt,{gap:"xs",children:[g.jsxs(ze,{justify:"space-between",align:"flex-start",children:[g.jsxs(ze,{gap:"xs",children:[g.jsx(Ex,{size:14,color:"gray"}),g.jsxs(oe,{size:"xs",c:"dimmed",children:[eue(t.createdAt),T&&" (edited)"]})]}),g.jsxs(ze,{gap:"xs",children:[g.jsx(Mi,{variant:"subtle",color:"gray",size:"sm",onClick:m,disabled:r,"aria-label":"Edit note",children:g.jsx(RF,{size:14})}),g.jsx(Mi,{variant:"subtle",color:"red",size:"sm",onClick:x,disabled:r,"aria-label":"Delete note",children:g.jsx(kx,{size:14})})]})]}),g.jsx(oe,{size:"sm",style:{whiteSpace:"pre-wrap"},children:t.content}),t.tags.length>0&&g.jsx(ze,{gap:"xs",children:t.tags.map(E=>g.jsx(dn,{size:"xs",variant:"light",children:E},E))})]})}),g.jsx($r,{opened:f,onClose:C,title:"Delete Note",centered:!0,size:"sm",children:g.jsxs(tt,{children:[g.jsx(oe,{size:"sm",children:"Are you sure you want to delete this note? This action cannot be undone."}),g.jsxs(ze,{justify:"flex-end",gap:"sm",children:[g.jsx(_t,{variant:"subtle",color:"gray",onClick:C,disabled:o,children:"Cancel"}),g.jsx(_t,{color:"red",onClick:S,loading:o,children:"Delete"})]})]})})]})}function W6({notes:t,onCreateNote:e,onUpdateNote:n,onDeleteNote:r,title:i="Notes",defaultCollapsed:a=!1,isProcessing:o=!1,showEditorByDefault:s=!1,editorPlaceholder:c}){const[d,f]=w.useState(a),[h,m]=w.useState(s),[v,b]=w.useState(!1),x=()=>{f(D=>!D)},S=()=>{m(!0)},C=()=>{m(!1)},T=async(D,j)=>{b(!0);try{await e(D,j),m(!1)}finally{b(!1)}},E=async(D,j,I)=>{await n(D,j,I)},k=async D=>{await r(D)},M=t.length>0;return g.jsxs(tt,{gap:"sm",children:[g.jsxs(ze,{justify:"space-between",onClick:x,style:{cursor:"pointer"},role:"button",tabIndex:0,onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),x())},"aria-expanded":!d,"aria-label":`${i} section, ${d?"collapsed":"expanded"}`,children:[g.jsxs(ze,{gap:"xs",children:[g.jsx(Ex,{size:16}),g.jsx(oe,{fw:500,size:"sm",children:i}),M&&g.jsxs(oe,{size:"xs",c:"dimmed",children:["(",t.length,")"]})]}),d?g.jsx(DF,{size:16}):g.jsx(jF,{size:16})]}),g.jsx(ug,{in:!d,children:g.jsxs(tt,{gap:"sm",children:[t.map(D=>g.jsx(tue,{note:D,onUpdate:E,onDelete:k,isProcessing:o},D.id)),!M&&!h&&g.jsx(oe,{size:"sm",c:"dimmed",ta:"center",py:"sm",children:"No notes yet"}),h?g.jsx(K6,{onSave:T,onCancel:C,isSaving:v,placeholder:c}):g.jsx(_t,{variant:"subtle",size:"xs",leftSection:g.jsx(dP,{size:14}),onClick:S,disabled:o,children:"Add Note"})]})})]})}function VC(t){return t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function nue(t){return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function rue({result:t,onDelete:e,defaultExpanded:n=!1,notes:r=[],onCreateNote:i,onUpdateNote:a,onDeleteNote:o}){const[s,c]=w.useState(n),[d,{open:f,close:h}]=F0(!1),m=w.useCallback(async(k,M)=>{t.id!==void 0&&i&&await i(t.id,k,M)},[t.id,i]),v=w.useCallback(async(k,M,D)=>{a&&await a(k,M,D)},[a]),b=w.useCallback(async k=>{o&&await o(k)},[o]),x=i&&a&&o,S=w.useCallback(()=>{c(k=>!k)},[]),C=w.useCallback(k=>{k.stopPropagation(),f()},[f]),T=w.useCallback(()=>{t.id!==void 0&&e(t.id),h()},[t.id,e,h]),E=t.abnormalCount>0;return g.jsxs(g.Fragment,{children:[g.jsx(Dt,{p:"md",withBorder:!0,radius:"md",shadow:s?"sm":void 0,role:"region","aria-label":`Lab result from ${VC(t.date)}`,"aria-expanded":s,children:g.jsxs(tt,{gap:"sm",children:[g.jsxs(ze,{justify:"space-between",wrap:"nowrap",style:{cursor:"pointer"},onClick:S,onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&(k.preventDefault(),S())},tabIndex:0,role:"button","aria-controls":`lab-result-${t.id}-content`,"aria-label":`${s?"Collapse":"Expand"} lab result from ${VC(t.date)}`,children:[g.jsxs(ze,{gap:"md",wrap:"nowrap",children:[g.jsx(Mi,{variant:"subtle",color:"gray","aria-hidden":"true",tabIndex:-1,children:s?g.jsx(jF,{size:20}):g.jsx(DF,{size:20})}),g.jsxs(tt,{gap:4,children:[g.jsxs(ze,{gap:"xs",children:[g.jsx(gh,{size:16,style:{opacity:.6},"aria-hidden":"true"}),g.jsx(oe,{fw:600,children:nue(t.date)})]}),g.jsxs(ze,{gap:"xs",children:[g.jsx(oP,{size:14,style:{opacity:.5},"aria-hidden":"true"}),g.jsx(oe,{size:"sm",c:"dimmed",children:t.labName})]})]})]}),g.jsxs(ze,{gap:"sm",wrap:"nowrap",children:[g.jsxs(dn,{variant:"light",color:"blue",children:[t.totalCount," test",t.totalCount!==1?"s":""]}),E&&g.jsx(fi,{label:`${t.abnormalCount} value(s) outside reference range`,children:g.jsxs(dn,{variant:"light",color:"orange",leftSection:g.jsx(Ml,{size:12}),"aria-label":`${t.abnormalCount} abnormal value${t.abnormalCount!==1?"s":""}`,children:[t.abnormalCount," abnormal"]})}),r.length>0&&g.jsx(fi,{label:`${r.length} note${r.length!==1?"s":""}`,children:g.jsx(dn,{variant:"light",color:"gray",leftSection:g.jsx(Ex,{size:12}),"aria-label":`${r.length} note${r.length!==1?"s":""}`,children:r.length})}),g.jsx(fi,{label:"Delete result",children:g.jsx(Mi,{variant:"subtle",color:"red",onClick:C,"aria-label":"Delete this lab result",children:g.jsx(kx,{size:18})})})]})]}),g.jsx(ug,{in:s,children:g.jsxs("div",{id:`lab-result-${t.id}-content`,children:[g.jsx(Qce,{testValues:t.testValues}),x&&g.jsxs(g.Fragment,{children:[g.jsx(Os,{my:"md"}),g.jsx(W6,{notes:r,onCreateNote:m,onUpdateNote:v,onDeleteNote:b,defaultCollapsed:r.length===0,editorPlaceholder:"Add a note about this lab result..."})]})]})})]})}),g.jsx($r,{opened:d,onClose:h,title:"Delete Lab Result",centered:!0,children:g.jsxs(tt,{gap:"md",children:[g.jsxs(oe,{children:["Are you sure you want to delete this lab result from"," ",g.jsx("strong",{children:VC(t.date)}),"?"]}),g.jsxs(oe,{c:"dimmed",size:"sm",children:["This will permanently remove the lab result and all ",t.totalCount," ","associated test value",t.totalCount!==1?"s":"",". This action cannot be undone."]}),g.jsxs(ze,{justify:"flex-end",gap:"sm",children:[g.jsx(_t,{variant:"subtle",onClick:h,children:"Cancel"}),g.jsx(_t,{color:"red",onClick:T,children:"Delete"})]})]})})]})}var ab={exports:{}},iue=ab.exports,MN;function aue(){return MN||(MN=1,(function(t,e){(function(n,r){t.exports=r()})(iue,(function(){var n=1e3,r=6e4,i=36e5,a="millisecond",o="second",s="minute",c="hour",d="day",f="week",h="month",m="quarter",v="year",b="date",x="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(X){var J=["th","st","nd","rd"],L=X%100;return"["+X+(J[(L-20)%10]||J[L]||J[0])+"]"}},E=function(X,J,L){var U=String(X);return!U||U.length>=J?X:""+Array(J+1-U.length).join(L)+X},k={s:E,z:function(X){var J=-X.utcOffset(),L=Math.abs(J),U=Math.floor(L/60),F=L%60;return(J<=0?"+":"-")+E(U,2,"0")+":"+E(F,2,"0")},m:function X(J,L){if(J.date()<L.date())return-X(L,J);var U=12*(L.year()-J.year())+(L.month()-J.month()),F=J.clone().add(U,h),q=L-F<0,W=J.clone().add(U+(q?-1:1),h);return+(-(U+(L-F)/(q?F-W:W-F))||0)},a:function(X){return X<0?Math.ceil(X)||0:Math.floor(X)},p:function(X){return{M:h,y:v,w:f,d,D:b,h:c,m:s,s:o,ms:a,Q:m}[X]||String(X||"").toLowerCase().replace(/s$/,"")},u:function(X){return X===void 0}},M="en",D={};D[M]=T;var j="$isDayjsObject",I=function(X){return X instanceof K||!(!X||!X[j])},B=function X(J,L,U){var F;if(!J)return M;if(typeof J=="string"){var q=J.toLowerCase();D[q]&&(F=q),L&&(D[q]=L,F=q);var W=J.split("-");if(!F&&W.length>1)return X(W[0])}else{var z=J.name;D[z]=J,F=z}return!U&&F&&(M=F),F||!U&&M},G=function(X,J){if(I(X))return X.clone();var L=typeof J=="object"?J:{};return L.date=X,L.args=arguments,new K(L)},V=k;V.l=B,V.i=I,V.w=function(X,J){return G(X,{locale:J.$L,utc:J.$u,x:J.$x,$offset:J.$offset})};var K=(function(){function X(L){this.$L=B(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[j]=!0}var J=X.prototype;return J.parse=function(L){this.$d=(function(U){var F=U.date,q=U.utc;if(F===null)return new Date(NaN);if(V.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var W=F.match(S);if(W){var z=W[2]-1||0,Y=(W[7]||"0").substring(0,3);return q?new Date(Date.UTC(W[1],z,W[3]||1,W[4]||0,W[5]||0,W[6]||0,Y)):new Date(W[1],z,W[3]||1,W[4]||0,W[5]||0,W[6]||0,Y)}}return new Date(F)})(L),this.init()},J.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},J.$utils=function(){return V},J.isValid=function(){return this.$d.toString()!==x},J.isSame=function(L,U){var F=G(L);return this.startOf(U)<=F&&F<=this.endOf(U)},J.isAfter=function(L,U){return G(L)<this.startOf(U)},J.isBefore=function(L,U){return this.endOf(U)<G(L)},J.$g=function(L,U,F){return V.u(L)?this[U]:this.set(F,L)},J.unix=function(){return Math.floor(this.valueOf()/1e3)},J.valueOf=function(){return this.$d.getTime()},J.startOf=function(L,U){var F=this,q=!!V.u(U)||U,W=V.p(L),z=function(ae,se){var Le=V.w(F.$u?Date.UTC(F.$y,se,ae):new Date(F.$y,se,ae),F);return q?Le:Le.endOf(d)},Y=function(ae,se){return V.w(F.toDate()[ae].apply(F.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(se)),F)},ne=this.$W,ie=this.$M,ue=this.$D,we="set"+(this.$u?"UTC":"");switch(W){case v:return q?z(1,0):z(31,11);case h:return q?z(1,ie):z(0,ie+1);case f:var be=this.$locale().weekStart||0,qe=(ne<be?ne+7:ne)-be;return z(q?ue-qe:ue+(6-qe),ie);case d:case b:return Y(we+"Hours",0);case c:return Y(we+"Minutes",1);case s:return Y(we+"Seconds",2);case o:return Y(we+"Milliseconds",3);default:return this.clone()}},J.endOf=function(L){return this.startOf(L,!1)},J.$set=function(L,U){var F,q=V.p(L),W="set"+(this.$u?"UTC":""),z=(F={},F[d]=W+"Date",F[b]=W+"Date",F[h]=W+"Month",F[v]=W+"FullYear",F[c]=W+"Hours",F[s]=W+"Minutes",F[o]=W+"Seconds",F[a]=W+"Milliseconds",F)[q],Y=q===d?this.$D+(U-this.$W):U;if(q===h||q===v){var ne=this.clone().set(b,1);ne.$d[z](Y),ne.init(),this.$d=ne.set(b,Math.min(this.$D,ne.daysInMonth())).$d}else z&&this.$d[z](Y);return this.init(),this},J.set=function(L,U){return this.clone().$set(L,U)},J.get=function(L){return this[V.p(L)]()},J.add=function(L,U){var F,q=this;L=Number(L);var W=V.p(U),z=function(ie){var ue=G(q);return V.w(ue.date(ue.date()+Math.round(ie*L)),q)};if(W===h)return this.set(h,this.$M+L);if(W===v)return this.set(v,this.$y+L);if(W===d)return z(1);if(W===f)return z(7);var Y=(F={},F[s]=r,F[c]=i,F[o]=n,F)[W]||1,ne=this.$d.getTime()+L*Y;return V.w(ne,this)},J.subtract=function(L,U){return this.add(-1*L,U)},J.format=function(L){var U=this,F=this.$locale();if(!this.isValid())return F.invalidDate||x;var q=L||"YYYY-MM-DDTHH:mm:ssZ",W=V.z(this),z=this.$H,Y=this.$m,ne=this.$M,ie=F.weekdays,ue=F.months,we=F.meridiem,be=function(se,Le,de,He){return se&&(se[Le]||se(U,q))||de[Le].slice(0,He)},qe=function(se){return V.s(z%12||12,se,"0")},ae=we||function(se,Le,de){var He=se<12?"AM":"PM";return de?He.toLowerCase():He};return q.replace(C,(function(se,Le){return Le||(function(de){switch(de){case"YY":return String(U.$y).slice(-2);case"YYYY":return V.s(U.$y,4,"0");case"M":return ne+1;case"MM":return V.s(ne+1,2,"0");case"MMM":return be(F.monthsShort,ne,ue,3);case"MMMM":return be(ue,ne);case"D":return U.$D;case"DD":return V.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return be(F.weekdaysMin,U.$W,ie,2);case"ddd":return be(F.weekdaysShort,U.$W,ie,3);case"dddd":return ie[U.$W];case"H":return String(z);case"HH":return V.s(z,2,"0");case"h":return qe(1);case"hh":return qe(2);case"a":return ae(z,Y,!0);case"A":return ae(z,Y,!1);case"m":return String(Y);case"mm":return V.s(Y,2,"0");case"s":return String(U.$s);case"ss":return V.s(U.$s,2,"0");case"SSS":return V.s(U.$ms,3,"0");case"Z":return W}return null})(se)||W.replace(":","")}))},J.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},J.diff=function(L,U,F){var q,W=this,z=V.p(U),Y=G(L),ne=(Y.utcOffset()-this.utcOffset())*r,ie=this-Y,ue=function(){return V.m(W,Y)};switch(z){case v:q=ue()/12;break;case h:q=ue();break;case m:q=ue()/3;break;case f:q=(ie-ne)/6048e5;break;case d:q=(ie-ne)/864e5;break;case c:q=ie/i;break;case s:q=ie/r;break;case o:q=ie/n;break;default:q=ie}return F?q:V.a(q)},J.daysInMonth=function(){return this.endOf(h).$D},J.$locale=function(){return D[this.$L]},J.locale=function(L,U){if(!L)return this.$L;var F=this.clone(),q=B(L,U,!0);return q&&(F.$L=q),F},J.clone=function(){return V.w(this.$d,this)},J.toDate=function(){return new Date(this.valueOf())},J.toJSON=function(){return this.isValid()?this.toISOString():null},J.toISOString=function(){return this.$d.toISOString()},J.toString=function(){return this.$d.toUTCString()},X})(),te=K.prototype;return G.prototype=te,[["$ms",a],["$s",o],["$m",s],["$H",c],["$W",d],["$M",h],["$y",v],["$D",b]].forEach((function(X){te[X[1]]=function(J){return this.$g(J,X[0],X[1])}})),G.extend=function(X,J){return X.$i||(X(J,K,G),X.$i=!0),G},G.locale=B,G.isDayjs=I,G.unix=function(X){return G(1e3*X)},G.en=D[M],G.Ls=D,G.p={},G}))})(ab)),ab.exports}var oue=aue();const it=ua(oue);function sue({type:t,date:e,locale:n,format:r,labelSeparator:i}){const a=o=>it(o).locale(n).format(r);return t==="default"?e===null?"":a(e):t==="multiple"?e.map(a).join(", "):t==="range"&&Array.isArray(e)?e[0]&&e[1]?`${a(e[0])} ${i} ${a(e[1])}`:e[0]?`${a(e[0])} ${i} `:"":""}function lue({formatter:t,...e}){return(t||sue)(e)}function cue({direction:t,levelIndex:e,rowIndex:n,cellIndex:r,size:i}){switch(t){case"up":return e===0&&n===0?null:n===0?{levelIndex:e-1,rowIndex:r<=i[e-1][i[e-1].length-1]-1?i[e-1].length-1:i[e-1].length-2,cellIndex:r}:{levelIndex:e,rowIndex:n-1,cellIndex:r};case"down":return n===i[e].length-1?{levelIndex:e+1,rowIndex:0,cellIndex:r}:n===i[e].length-2&&r>=i[e][i[e].length-1]?{levelIndex:e+1,rowIndex:0,cellIndex:r}:{levelIndex:e,rowIndex:n+1,cellIndex:r};case"left":return e===0&&n===0&&r===0?null:n===0&&r===0?{levelIndex:e-1,rowIndex:i[e-1].length-1,cellIndex:i[e-1][i[e-1].length-1]-1}:r===0?{levelIndex:e,rowIndex:n-1,cellIndex:i[e][n-1]-1}:{levelIndex:e,rowIndex:n,cellIndex:r-1};case"right":return n===i[e].length-1&&r===i[e][n]-1?{levelIndex:e+1,rowIndex:0,cellIndex:0}:r===i[e][n]-1?{levelIndex:e,rowIndex:n+1,cellIndex:0}:{levelIndex:e,rowIndex:n,cellIndex:r+1};default:return{levelIndex:e,rowIndex:n,cellIndex:r}}}function X6({controlsRef:t,direction:e,levelIndex:n,rowIndex:r,cellIndex:i,size:a}){const o=cue({direction:e,size:a,rowIndex:r,cellIndex:i,levelIndex:n});if(!o)return;const s=t.current?.[o.levelIndex]?.[o.rowIndex]?.[o.cellIndex];s&&(s.disabled||s.getAttribute("data-hidden")||s.getAttribute("data-outside")?X6({controlsRef:t,direction:e,levelIndex:o.levelIndex,cellIndex:o.cellIndex,rowIndex:o.rowIndex,size:a}):s.focus())}function uue(t){switch(t){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function due(t){return t.current?.map(e=>e.map(n=>n.length))}function FP({controlsRef:t,levelIndex:e,rowIndex:n,cellIndex:r,event:i}){const a=uue(i.key);if(a){i.preventDefault();const o=due(t);X6({controlsRef:t,direction:a,levelIndex:e,rowIndex:n,cellIndex:r,size:o})}}function qi(t){return t==null||t===""?t:it(t).format("YYYY-MM-DD")}function Z6(t){return t==null||t===""?t:it(t).format("YYYY-MM-DD HH:mm:ss")}function fue({minDate:t,maxDate:e}){const n=it();return!t&&!e?qi(n):t&&it(n).isBefore(t)?qi(t):e&&it(n).isAfter(e)?qi(e):qi(n)}const hue={locale:"en",firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"",consistentWeeks:!1},pue=w.createContext(hue);function tu(){const t=w.useContext(pue),e=w.useCallback(a=>a||t.locale,[t.locale]),n=w.useCallback(a=>typeof a=="number"?a:t.firstDayOfWeek,[t.firstDayOfWeek]),r=w.useCallback(a=>Array.isArray(a)?a:t.weekendDays,[t.weekendDays]),i=w.useCallback(a=>typeof a=="string"?a:t.labelSeparator,[t.labelSeparator]);return{...t,getLocale:e,getFirstDayOfWeek:n,getWeekendDays:r,getLabelSeparator:i}}function mue({value:t,type:e,withTime:n}){const r=n?Z6:qi;if(e==="range"&&Array.isArray(t)){const i=r(t[0]),a=r(t[1]);return i?a?`${i}  ${a}`:`${i} `:""}return e==="multiple"&&Array.isArray(t)?t.filter(Boolean).join(", "):!Array.isArray(t)&&t?r(t):""}function Q6({value:t,type:e,name:n,form:r,withTime:i=!1}){return g.jsx("input",{type:"hidden",value:mue({value:t,type:e,withTime:i}),name:n,form:r})}Q6.displayName="@mantine/dates/HiddenDatesInput";var J6={day:"m_396ce5cb"};const gue=(t,{size:e})=>({day:{"--day-size":jt(e,"day-size")}}),UP=Fe((t,e)=>{const n=Pe("Day",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,date:d,disabled:f,__staticSelector:h,weekend:m,outside:v,selected:b,renderDay:x,inRange:S,firstInRange:C,lastInRange:T,hidden:E,static:k,highlightToday:M,attributes:D,...j}=n,I=ut({name:h||"Day",classes:J6,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:D,vars:c,varsResolver:gue,rootSelector:"day"});return g.jsx(Br,{...I("day",{style:E?{display:"none"}:void 0}),component:k?"div":"button",ref:e,disabled:f,"data-today":it(d).isSame(new Date,"day")||void 0,"data-hidden":E||void 0,"data-highlight-today":M||void 0,"data-disabled":f||void 0,"data-weekend":!f&&!v&&m||void 0,"data-outside":!f&&v||void 0,"data-selected":!f&&b||void 0,"data-in-range":S&&!f||void 0,"data-first-in-range":C&&!f||void 0,"data-last-in-range":T&&!f||void 0,"data-static":k||void 0,unstyled:s,...j,children:x?.(d)||it(d).date()})});UP.classes=J6;UP.displayName="@mantine/dates/Day";function vue({locale:t,format:e="dd",firstDayOfWeek:n=1}){const r=it().day(n),i=[];for(let a=0;a<7;a+=1)typeof e=="string"?i.push(it(r).add(a,"days").locale(t).format(e)):i.push(e(it(r).add(a,"days").format("YYYY-MM-DD")));return i}var eU={weekday:"m_18a3eca"};const yue=(t,{size:e})=>({weekdaysRow:{"--wr-fz":cr(e),"--wr-spacing":zr(e)}}),HP=Fe((t,e)=>{const n=Pe("WeekdaysRow",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,locale:d,firstDayOfWeek:f,weekdayFormat:h,cellComponent:m="th",__staticSelector:v,withWeekNumbers:b,attributes:x,...S}=n,C=ut({name:v||"WeekdaysRow",classes:eU,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:x,vars:c,varsResolver:yue,rootSelector:"weekdaysRow"}),T=tu(),E=vue({locale:T.getLocale(d),format:h,firstDayOfWeek:T.getFirstDayOfWeek(f)}).map((k,M)=>g.jsx(m,{...C("weekday"),children:k},M));return g.jsxs(De,{component:"tr",ref:e,...C("weekdaysRow"),...S,children:[b&&g.jsx(m,{...C("weekday"),children:"#"}),E]})});HP.classes=eU;HP.displayName="@mantine/dates/WeekdaysRow";function bue(t,e=1){let n=it(t);if(!n.isValid())return n;const r=e===0?6:e-1;for(;n.day()!==r;)n=n.add(1,"day");return n.format("YYYY-MM-DD")}function xue(t,e=1){let n=it(t);for(;n.day()!==e;)n=n.subtract(1,"day");return n.format("YYYY-MM-DD")}function wue({month:t,firstDayOfWeek:e=1,consistentWeeks:n}){const r=it(t).subtract(it(t).date()-1,"day"),i=it(r.format("YYYY-M-D")),a=i.format("YYYY-MM-DD"),o=i.add(+i.daysInMonth()-1,"day").format("YYYY-MM-DD"),s=bue(o,e),c=[];let d=it(xue(a,e));for(;it(d).isBefore(s,"day");){const f=[];for(let h=0;h<7;h+=1)f.push(d.format("YYYY-MM-DD")),d=d.add(1,"day");c.push(f)}if(n&&c.length<6){const f=c[c.length-1],h=f[f.length-1];let m=it(h).add(1,"day");for(;c.length<6;){const v=[];for(let b=0;b<7;b+=1)v.push(m.format("YYYY-MM-DD")),m=m.add(1,"day");c.push(v)}}return c}function VP(t,e){return it(t).format("YYYY-MM")===it(e).format("YYYY-MM")}function tU(t,e){return e?it(t).isAfter(it(e).subtract(1,"day"),"day"):!0}function nU(t,e){return e?it(t).isBefore(it(e).add(1,"day"),"day"):!0}function Sue({dates:t,minDate:e,maxDate:n,getDayProps:r,excludeDate:i,hideOutsideDates:a,month:o}){const s=t.flat().filter(f=>nU(f,n)&&tU(f,e)&&!i?.(f)&&!r?.(f)?.disabled&&(!a||VP(f,o))),c=s.find(f=>r?.(f)?.selected);if(c)return c;const d=s.find(f=>it().isSame(f,"date"));return d||s[0]}var ob={exports:{}},Cue=ob.exports,DN;function Aue(){return DN||(DN=1,(function(t,e){(function(n,r){t.exports=r()})(Cue,(function(){var n="day";return function(r,i,a){var o=function(d){return d.add(4-d.isoWeekday(),n)},s=i.prototype;s.isoWeekYear=function(){return o(this).year()},s.isoWeek=function(d){if(!this.$utils().u(d))return this.add(7*(d-this.isoWeek()),n);var f,h,m,v,b=o(this),x=(f=this.isoWeekYear(),h=this.$u,m=(h?a.utc:a)().year(f).startOf("year"),v=4-m.isoWeekday(),m.isoWeekday()>4&&(v+=7),m.add(v,n));return b.diff(x,"week")+1},s.isoWeekday=function(d){return this.$utils().u(d)?this.day()||7:this.day(this.day()%7?d:d-7)};var c=s.startOf;s.startOf=function(d,f){var h=this.$utils(),m=!!h.u(f)||f;return h.p(d)==="isoweek"?m?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):c.bind(this)(d,f)}}}))})(ob)),ob.exports}var _ue=Aue();const Eue=ua(_ue);it.extend(Eue);function Tue(t){const e=t.find(n=>it(n).day()===1);return it(e).isoWeek()}var rU={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const kue={withCellSpacing:!0},Pue=(t,{size:e})=>({weekNumber:{"--wn-fz":cr(e),"--wn-size":jt(e,"wn-size")}}),Nx=Fe((t,e)=>{const n=Pe("Month",kue,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,__staticSelector:d,locale:f,firstDayOfWeek:h,weekdayFormat:m,month:v,weekendDays:b,getDayProps:x,excludeDate:S,minDate:C,maxDate:T,renderDay:E,hideOutsideDates:k,hideWeekdays:M,getDayAriaLabel:D,static:j,__getDayRef:I,__onDayKeyDown:B,__onDayClick:G,__onDayMouseEnter:V,__preventFocus:K,__stopPropagation:te,withCellSpacing:X,size:J,highlightToday:L,withWeekNumbers:U,attributes:F,...q}=n,W=ut({name:d||"Month",classes:rU,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:F,vars:c,varsResolver:Pue,rootSelector:"month"}),z=tu(),Y=wue({month:v,firstDayOfWeek:z.getFirstDayOfWeek(h),consistentWeeks:z.consistentWeeks}),ne=Sue({dates:Y,minDate:qi(C),maxDate:qi(T),getDayProps:x,excludeDate:S,hideOutsideDates:k,month:v}),{resolvedClassNames:ie,resolvedStyles:ue}=ka({classNames:r,styles:o,props:n}),we=Y.map((be,qe)=>{const ae=be.map((se,Le)=>{const de=!VP(se,v),He=D?.(se)||it(se).locale(f||z.locale).format("D MMMM YYYY"),Re=x?.(se),ct=it(se).isSame(ne,"date");return g.jsx("td",{...W("monthCell"),"data-with-spacing":X||void 0,children:g.jsx(UP,{__staticSelector:d||"Month",classNames:ie,styles:ue,unstyled:s,"data-mantine-stop-propagation":te||void 0,highlightToday:L,renderDay:E,date:se,size:J,weekend:z.getWeekendDays(b).includes(it(se).get("day")),outside:de,hidden:k?de:!1,"aria-label":He,static:j,disabled:S?.(se)||!nU(se,qi(T))||!tU(se,qi(C)),ref:Qe=>{Qe&&I?.(qe,Le,Qe)},...Re,onKeyDown:Qe=>{Re?.onKeyDown?.(Qe),B?.(Qe,{rowIndex:qe,cellIndex:Le,date:se})},onMouseEnter:Qe=>{Re?.onMouseEnter?.(Qe),V?.(Qe,se)},onClick:Qe=>{Re?.onClick?.(Qe),G?.(Qe,se)},onMouseDown:Qe=>{Re?.onMouseDown?.(Qe),K&&Qe.preventDefault()},tabIndex:K||!ct?-1:0})},se.toString())});return g.jsxs("tr",{...W("monthRow"),children:[U&&g.jsx("td",{...W("weekNumber"),children:Tue(be)}),ae]},qe)});return g.jsxs(De,{component:"table",...W("month"),size:J,ref:e,...q,children:[!M&&g.jsx("thead",{...W("monthThead"),children:g.jsx(HP,{__staticSelector:d||"Month",locale:f,firstDayOfWeek:h,weekdayFormat:m,size:J,classNames:ie,styles:ue,unstyled:s,withWeekNumbers:U})}),g.jsx("tbody",{...W("monthTbody"),children:we})]})});Nx.classes=rU;Nx.displayName="@mantine/dates/Month";var iU={pickerControl:"m_dc6a3c71"};const Oue=(t,{size:e})=>({pickerControl:{"--dpc-fz":cr(e),"--dpc-size":jt(e,"dpc-size")}}),Ix=Fe((t,e)=>{const n=Pe("PickerControl",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,firstInRange:d,lastInRange:f,inRange:h,__staticSelector:m,selected:v,disabled:b,attributes:x,...S}=n,C=ut({name:m||"PickerControl",classes:iU,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:x,vars:c,varsResolver:Oue,rootSelector:"pickerControl"});return g.jsx(Br,{...C("pickerControl"),ref:e,unstyled:s,"data-picker-control":!0,"data-selected":v&&!b||void 0,"data-disabled":b||void 0,"data-in-range":h&&!b&&!v||void 0,"data-first-in-range":d&&!b||void 0,"data-last-in-range":f&&!b||void 0,disabled:b,...S})});Ix.classes=iU;Ix.displayName="@mantine/dates/PickerControl";function aU({year:t,minDate:e,maxDate:n}){return!e&&!n?!1:!!(e&&it(t).isBefore(e,"year")||n&&it(t).isAfter(n,"year"))}function Mue({years:t,minDate:e,maxDate:n,getYearControlProps:r}){const i=t.flat().filter(s=>!aU({year:s,minDate:e,maxDate:n})&&!r?.(s)?.disabled),a=i.find(s=>r?.(s)?.selected);if(a)return a;const o=i.find(s=>it().isSame(s,"year"));return o||i[0]}function oU(t){const e=it(t).year(),n=e-e%10;let r=0;const i=[[],[],[],[]];for(let a=0;a<4;a+=1){const o=a===3?1:3;for(let s=0;s<o;s+=1)i[a].push(it(new Date(n+r,0)).format("YYYY-MM-DD")),r+=1}return i}var sU={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const Due={yearsListFormat:"YYYY",withCellSpacing:!0},zx=Fe((t,e)=>{const n=Pe("YearsList",Due,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,decade:d,yearsListFormat:f,locale:h,minDate:m,maxDate:v,getYearControlProps:b,__staticSelector:x,__getControlRef:S,__onControlKeyDown:C,__onControlClick:T,__onControlMouseEnter:E,__preventFocus:k,__stopPropagation:M,withCellSpacing:D,size:j,attributes:I,...B}=n,G=ut({name:x||"YearsList",classes:sU,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:I,vars:c,rootSelector:"yearsList"}),V=tu(),K=oU(d),te=Mue({years:K,minDate:m,maxDate:v,getYearControlProps:b}),X=K.map((J,L)=>{const U=J.map((F,q)=>{const W=b?.(F),z=it(F).isSame(te,"year");return g.jsx("td",{...G("yearsListCell"),"data-with-spacing":D||void 0,children:g.jsx(Ix,{...G("yearsListControl"),size:j,unstyled:s,"data-mantine-stop-propagation":M||void 0,disabled:aU({year:F,minDate:m,maxDate:v}),ref:Y=>{Y&&S?.(L,q,Y)},...W,onKeyDown:Y=>{W?.onKeyDown?.(Y),C?.(Y,{rowIndex:L,cellIndex:q,date:F})},onClick:Y=>{W?.onClick?.(Y),T?.(Y,F)},onMouseEnter:Y=>{W?.onMouseEnter?.(Y),E?.(Y,F)},onMouseDown:Y=>{W?.onMouseDown?.(Y),k&&Y.preventDefault()},tabIndex:k||!z?-1:0,children:W?.children??it(F).locale(V.getLocale(h)).format(f)})},q)});return g.jsx("tr",{...G("yearsListRow"),children:U},L)});return g.jsx(De,{component:"table",ref:e,size:j,...G("yearsList"),...B,children:g.jsx("tbody",{children:X})})});zx.classes=sU;zx.displayName="@mantine/dates/YearsList";function lU({month:t,minDate:e,maxDate:n}){return!e&&!n?!1:!!(e&&it(t).isBefore(e,"month")||n&&it(t).isAfter(n,"month"))}function jue({months:t,minDate:e,maxDate:n,getMonthControlProps:r}){const i=t.flat().filter(s=>!lU({month:s,minDate:e,maxDate:n})&&!r?.(s)?.disabled),a=i.find(s=>r?.(s)?.selected);if(a)return a;const o=i.find(s=>it().isSame(s,"month"));return o||i[0]}function Rue(t){const e=it(t).startOf("year").toDate(),n=[[],[],[],[]];let r=0;for(let i=0;i<4;i+=1)for(let a=0;a<3;a+=1)n[i].push(it(e).add(r,"months").format("YYYY-MM-DD")),r+=1;return n}var cU={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const Lue={monthsListFormat:"MMM",withCellSpacing:!0},Bx=Fe((t,e)=>{const n=Pe("MonthsList",Lue,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,__staticSelector:d,year:f,monthsListFormat:h,locale:m,minDate:v,maxDate:b,getMonthControlProps:x,__getControlRef:S,__onControlKeyDown:C,__onControlClick:T,__onControlMouseEnter:E,__preventFocus:k,__stopPropagation:M,withCellSpacing:D,size:j,attributes:I,...B}=n,G=ut({name:d||"MonthsList",classes:cU,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:I,vars:c,rootSelector:"monthsList"}),V=tu(),K=Rue(f),te=jue({months:K,minDate:qi(v),maxDate:qi(b),getMonthControlProps:x}),X=K.map((J,L)=>{const U=J.map((F,q)=>{const W=x?.(F),z=it(F).isSame(te,"month");return g.jsx("td",{...G("monthsListCell"),"data-with-spacing":D||void 0,children:g.jsx(Ix,{...G("monthsListControl"),size:j,unstyled:s,__staticSelector:d||"MonthsList","data-mantine-stop-propagation":M||void 0,disabled:lU({month:F,minDate:qi(v),maxDate:qi(b)}),ref:Y=>{Y&&S?.(L,q,Y)},...W,onKeyDown:Y=>{W?.onKeyDown?.(Y),C?.(Y,{rowIndex:L,cellIndex:q,date:F})},onClick:Y=>{W?.onClick?.(Y),T?.(Y,F)},onMouseEnter:Y=>{W?.onMouseEnter?.(Y),E?.(Y,F)},onMouseDown:Y=>{W?.onMouseDown?.(Y),k&&Y.preventDefault()},tabIndex:k||!z?-1:0,children:W?.children??it(F).locale(V.getLocale(m)).format(h)})},q)});return g.jsx("tr",{...G("monthsListRow"),children:U},L)});return g.jsx(De,{component:"table",ref:e,size:j,...G("monthsList"),...B,children:g.jsx("tbody",{children:X})})});Bx.classes=cU;Bx.displayName="@mantine/dates/MonthsList";var uU={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const Nue={hasNextLevel:!0,withNext:!0,withPrevious:!0,headerControlsOrder:["previous","level","next"]},Iue=(t,{size:e})=>({calendarHeader:{"--dch-control-size":jt(e,"dch-control-size"),"--dch-fz":cr(e)}}),nu=Fe((t,e)=>{const n=Pe("CalendarHeader",Nue,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,nextIcon:d,previousIcon:f,nextLabel:h,previousLabel:m,onNext:v,onPrevious:b,onLevelClick:x,label:S,nextDisabled:C,previousDisabled:T,hasNextLevel:E,levelControlAriaLabel:k,withNext:M,withPrevious:D,headerControlsOrder:j,__staticSelector:I,__preventFocus:B,__stopPropagation:G,attributes:V,...K}=n,te=ut({name:I||"CalendarHeader",classes:uU,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:V,vars:c,varsResolver:Iue,rootSelector:"calendarHeader"}),X=B?q=>q.preventDefault():void 0,J=D&&w.createElement(Br,{...te("calendarHeaderControl"),key:"previous","data-direction":"previous","aria-label":m,onClick:b,unstyled:s,onMouseDown:X,disabled:T,"data-disabled":T||void 0,tabIndex:B||T?-1:0,"data-mantine-stop-propagation":G||void 0},f||g.jsx(hh,{...te("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})),L=w.createElement(Br,{component:E?"button":"div",...te("calendarHeaderLevel"),key:"level",onClick:E?x:void 0,unstyled:s,onMouseDown:E?X:void 0,disabled:!E,"data-static":!E||void 0,"aria-label":k,tabIndex:B||!E?-1:0,"data-mantine-stop-propagation":G||void 0},S),U=M&&w.createElement(Br,{...te("calendarHeaderControl"),key:"next","data-direction":"next","aria-label":h,onClick:v,unstyled:s,onMouseDown:X,disabled:C,"data-disabled":C||void 0,tabIndex:B||C?-1:0,"data-mantine-stop-propagation":G||void 0},d||g.jsx(hh,{...te("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})),F=j.map(q=>q==="previous"?J:q==="level"?L:q==="next"?U:null);return g.jsx(De,{...te("calendarHeader"),ref:e,...K,children:F})});nu.classes=uU;nu.displayName="@mantine/dates/CalendarHeader";function zue(t){const e=oU(t);return[e[0][0],e[3][0]]}const Bue={decadeLabelFormat:"YYYY"},$x=Fe((t,e)=>{const n=Pe("DecadeLevel",Bue,t),{decade:r,locale:i,minDate:a,maxDate:o,yearsListFormat:s,getYearControlProps:c,__getControlRef:d,__onControlKeyDown:f,__onControlClick:h,__onControlMouseEnter:m,withCellSpacing:v,__preventFocus:b,nextIcon:x,previousIcon:S,nextLabel:C,previousLabel:T,onNext:E,onPrevious:k,nextDisabled:M,previousDisabled:D,levelControlAriaLabel:j,withNext:I,withPrevious:B,headerControlsOrder:G,decadeLabelFormat:V,classNames:K,styles:te,unstyled:X,__staticSelector:J,__stopPropagation:L,size:U,attributes:F,...q}=n,W=tu(),[z,Y]=zue(r),ne={__staticSelector:J||"DecadeLevel",classNames:K,styles:te,unstyled:X,size:U,attributes:F},ie=typeof M=="boolean"?M:o?!it(Y).endOf("year").isBefore(o):!1,ue=typeof D=="boolean"?D:a?!it(z).startOf("year").isAfter(a):!1,we=(be,qe)=>it(be).locale(i||W.locale).format(qe);return g.jsxs(De,{"data-decade-level":!0,size:U,ref:e,...q,children:[g.jsx(nu,{label:typeof V=="function"?V(z,Y):`${we(z,V)}  ${we(Y,V)}`,__preventFocus:b,__stopPropagation:L,nextIcon:x,previousIcon:S,nextLabel:C,previousLabel:T,onNext:E,onPrevious:k,nextDisabled:ie,previousDisabled:ue,hasNextLevel:!1,levelControlAriaLabel:j,withNext:I,withPrevious:B,headerControlsOrder:G,...ne}),g.jsx(zx,{decade:r,locale:i,minDate:a,maxDate:o,yearsListFormat:s,getYearControlProps:c,__getControlRef:d,__onControlKeyDown:f,__onControlClick:h,__onControlMouseEnter:m,__preventFocus:b,__stopPropagation:L,withCellSpacing:v,...ne})]})});$x.classes={...zx.classes,...nu.classes};$x.displayName="@mantine/dates/DecadeLevel";const $ue={yearLabelFormat:"YYYY"},Fx=Fe((t,e)=>{const n=Pe("YearLevel",$ue,t),{year:r,locale:i,minDate:a,maxDate:o,monthsListFormat:s,getMonthControlProps:c,__getControlRef:d,__onControlKeyDown:f,__onControlClick:h,__onControlMouseEnter:m,withCellSpacing:v,__preventFocus:b,nextIcon:x,previousIcon:S,nextLabel:C,previousLabel:T,onNext:E,onPrevious:k,onLevelClick:M,nextDisabled:D,previousDisabled:j,hasNextLevel:I,levelControlAriaLabel:B,withNext:G,withPrevious:V,headerControlsOrder:K,yearLabelFormat:te,__staticSelector:X,__stopPropagation:J,size:L,classNames:U,styles:F,unstyled:q,attributes:W,...z}=n,Y=tu(),ne={__staticSelector:X||"YearLevel",classNames:U,styles:F,unstyled:q,size:L,attributes:W},ie=typeof D=="boolean"?D:o?!it(r).endOf("year").isBefore(o):!1,ue=typeof j=="boolean"?j:a?!it(r).startOf("year").isAfter(a):!1;return g.jsxs(De,{"data-year-level":!0,size:L,ref:e,...z,children:[g.jsx(nu,{label:typeof te=="function"?te(r):it(r).locale(i||Y.locale).format(te),__preventFocus:b,__stopPropagation:J,nextIcon:x,previousIcon:S,nextLabel:C,previousLabel:T,onNext:E,onPrevious:k,onLevelClick:M,nextDisabled:ie,previousDisabled:ue,hasNextLevel:I,levelControlAriaLabel:B,withNext:G,withPrevious:V,headerControlsOrder:K,...ne}),g.jsx(Bx,{year:r,locale:i,minDate:a,maxDate:o,monthsListFormat:s,getMonthControlProps:c,__getControlRef:d,__onControlKeyDown:f,__onControlClick:h,__onControlMouseEnter:m,__preventFocus:b,__stopPropagation:J,withCellSpacing:v,...ne})]})});Fx.classes={...nu.classes,...Bx.classes};Fx.displayName="@mantine/dates/YearLevel";const Fue={monthLabelFormat:"MMMM YYYY"},Ux=Fe((t,e)=>{const n=Pe("MonthLevel",Fue,t),{month:r,locale:i,firstDayOfWeek:a,weekdayFormat:o,weekendDays:s,getDayProps:c,excludeDate:d,minDate:f,maxDate:h,renderDay:m,hideOutsideDates:v,hideWeekdays:b,getDayAriaLabel:x,__getDayRef:S,__onDayKeyDown:C,__onDayClick:T,__onDayMouseEnter:E,withCellSpacing:k,highlightToday:M,withWeekNumbers:D,__preventFocus:j,__stopPropagation:I,nextIcon:B,previousIcon:G,nextLabel:V,previousLabel:K,onNext:te,onPrevious:X,onLevelClick:J,nextDisabled:L,previousDisabled:U,hasNextLevel:F,levelControlAriaLabel:q,withNext:W,withPrevious:z,headerControlsOrder:Y,monthLabelFormat:ne,classNames:ie,styles:ue,unstyled:we,__staticSelector:be,size:qe,static:ae,attributes:se,...Le}=n,de=tu(),He={__staticSelector:be||"MonthLevel",classNames:ie,styles:ue,unstyled:we,size:qe,attributes:se},Re=typeof L=="boolean"?L:h?!it(r).endOf("month").isBefore(h):!1,ct=typeof U=="boolean"?U:f?!it(r).startOf("month").isAfter(f):!1;return g.jsxs(De,{"data-month-level":!0,size:qe,ref:e,...Le,children:[g.jsx(nu,{label:typeof ne=="function"?ne(r):it(r).locale(i||de.locale).format(ne),__preventFocus:j,__stopPropagation:I,nextIcon:B,previousIcon:G,nextLabel:V,previousLabel:K,onNext:te,onPrevious:X,onLevelClick:J,nextDisabled:Re,previousDisabled:ct,hasNextLevel:F,levelControlAriaLabel:q,withNext:W,withPrevious:z,headerControlsOrder:Y,...He}),g.jsx(Nx,{month:r,locale:i,firstDayOfWeek:a,weekdayFormat:o,weekendDays:s,getDayProps:c,excludeDate:d,minDate:f,maxDate:h,renderDay:m,hideOutsideDates:v,hideWeekdays:b,getDayAriaLabel:x,__getDayRef:S,__onDayKeyDown:C,__onDayClick:T,__onDayMouseEnter:E,__preventFocus:j,__stopPropagation:I,static:ae,withCellSpacing:k,highlightToday:M,withWeekNumbers:D,...He})]})});Ux.classes={...Nx.classes,...nu.classes};Ux.displayName="@mantine/dates/MonthLevel";var dU={levelsGroup:"m_30b26e33"};const ru=Fe((t,e)=>{const n=Pe("LevelsGroup",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,__staticSelector:d,attributes:f,...h}=n,m=ut({name:d||"LevelsGroup",classes:dU,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:f,vars:c,rootSelector:"levelsGroup"});return g.jsx(De,{ref:e,...m("levelsGroup"),...h})});ru.classes=dU;ru.displayName="@mantine/dates/LevelsGroup";const Uue={numberOfColumns:1},Hx=Fe((t,e)=>{const n=Pe("DecadeLevelGroup",Uue,t),{decade:r,locale:i,minDate:a,maxDate:o,yearsListFormat:s,getYearControlProps:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:m,nextIcon:v,previousIcon:b,nextLabel:x,previousLabel:S,onNext:C,onPrevious:T,nextDisabled:E,previousDisabled:k,headerControlsOrder:M,classNames:D,styles:j,unstyled:I,__staticSelector:B,__stopPropagation:G,numberOfColumns:V,levelControlAriaLabel:K,decadeLabelFormat:te,size:X,vars:J,attributes:L,...U}=n,F=w.useRef([]),q=Array(V).fill(0).map((W,z)=>{const Y=it(r).add(z*10,"years").format("YYYY-MM-DD");return g.jsx($x,{size:X,yearsListFormat:s,decade:Y,withNext:z===V-1,withPrevious:z===0,decadeLabelFormat:te,__onControlClick:d,__onControlMouseEnter:f,__onControlKeyDown:(ne,ie)=>FP({levelIndex:z,rowIndex:ie.rowIndex,cellIndex:ie.cellIndex,event:ne,controlsRef:F}),__getControlRef:(ne,ie,ue)=>{Array.isArray(F.current[z])||(F.current[z]=[]),Array.isArray(F.current[z][ne])||(F.current[z][ne]=[]),F.current[z][ne][ie]=ue},levelControlAriaLabel:typeof K=="function"?K(Y):K,locale:i,minDate:a,maxDate:o,__preventFocus:m,__stopPropagation:G,nextIcon:v,previousIcon:b,nextLabel:x,previousLabel:S,onNext:C,onPrevious:T,nextDisabled:E,previousDisabled:k,getYearControlProps:c,__staticSelector:B||"DecadeLevelGroup",classNames:D,styles:j,unstyled:I,withCellSpacing:h,headerControlsOrder:M,attributes:L},z)});return g.jsx(ru,{classNames:D,styles:j,__staticSelector:B||"DecadeLevelGroup",ref:e,size:X,unstyled:I,attributes:L,...U,children:q})});Hx.classes={...ru.classes,...$x.classes};Hx.displayName="@mantine/dates/DecadeLevelGroup";const Hue={numberOfColumns:1},Vx=Fe((t,e)=>{const n=Pe("YearLevelGroup",Hue,t),{year:r,locale:i,minDate:a,maxDate:o,monthsListFormat:s,getMonthControlProps:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:m,nextIcon:v,previousIcon:b,nextLabel:x,previousLabel:S,onNext:C,onPrevious:T,onLevelClick:E,nextDisabled:k,previousDisabled:M,hasNextLevel:D,headerControlsOrder:j,classNames:I,styles:B,unstyled:G,__staticSelector:V,__stopPropagation:K,numberOfColumns:te,levelControlAriaLabel:X,yearLabelFormat:J,size:L,vars:U,attributes:F,...q}=n,W=w.useRef([]),z=Array(te).fill(0).map((Y,ne)=>{const ie=it(r).add(ne,"years").format("YYYY-MM-DD");return g.jsx(Fx,{size:L,monthsListFormat:s,year:ie,withNext:ne===te-1,withPrevious:ne===0,yearLabelFormat:J,__stopPropagation:K,__onControlClick:d,__onControlMouseEnter:f,__onControlKeyDown:(ue,we)=>FP({levelIndex:ne,rowIndex:we.rowIndex,cellIndex:we.cellIndex,event:ue,controlsRef:W}),__getControlRef:(ue,we,be)=>{Array.isArray(W.current[ne])||(W.current[ne]=[]),Array.isArray(W.current[ne][ue])||(W.current[ne][ue]=[]),W.current[ne][ue][we]=be},levelControlAriaLabel:typeof X=="function"?X(ie):X,locale:i,minDate:a,maxDate:o,__preventFocus:m,nextIcon:v,previousIcon:b,nextLabel:x,previousLabel:S,onNext:C,onPrevious:T,onLevelClick:E,nextDisabled:k,previousDisabled:M,hasNextLevel:D,getMonthControlProps:c,classNames:I,styles:B,unstyled:G,__staticSelector:V||"YearLevelGroup",withCellSpacing:h,headerControlsOrder:j,attributes:F},ne)});return g.jsx(ru,{classNames:I,styles:B,__staticSelector:V||"YearLevelGroup",ref:e,size:L,unstyled:G,attributes:F,...q,children:z})});Vx.classes={...Fx.classes,...ru.classes};Vx.displayName="@mantine/dates/YearLevelGroup";const Vue={numberOfColumns:1},qx=Fe((t,e)=>{const n=Pe("MonthLevelGroup",Vue,t),{month:r,locale:i,firstDayOfWeek:a,weekdayFormat:o,weekendDays:s,getDayProps:c,excludeDate:d,minDate:f,maxDate:h,renderDay:m,hideOutsideDates:v,hideWeekdays:b,getDayAriaLabel:x,__onDayClick:S,__onDayMouseEnter:C,withCellSpacing:T,highlightToday:E,withWeekNumbers:k,__preventFocus:M,nextIcon:D,previousIcon:j,nextLabel:I,previousLabel:B,onNext:G,onPrevious:V,onLevelClick:K,nextDisabled:te,previousDisabled:X,hasNextLevel:J,headerControlsOrder:L,classNames:U,styles:F,unstyled:q,numberOfColumns:W,levelControlAriaLabel:z,monthLabelFormat:Y,__staticSelector:ne,__stopPropagation:ie,size:ue,static:we,vars:be,attributes:qe,...ae}=n,se=w.useRef([]),Le=Array(W).fill(0).map((de,He)=>{const Re=it(r).add(He,"months").format("YYYY-MM-DD");return g.jsx(Ux,{month:Re,withNext:He===W-1,withPrevious:He===0,monthLabelFormat:Y,__stopPropagation:ie,__onDayClick:S,__onDayMouseEnter:C,__onDayKeyDown:(ct,Qe)=>FP({levelIndex:He,rowIndex:Qe.rowIndex,cellIndex:Qe.cellIndex,event:ct,controlsRef:se}),__getDayRef:(ct,Qe,Ue)=>{Array.isArray(se.current[He])||(se.current[He]=[]),Array.isArray(se.current[He][ct])||(se.current[He][ct]=[]),se.current[He][ct][Qe]=Ue},levelControlAriaLabel:typeof z=="function"?z(Re):z,locale:i,firstDayOfWeek:a,weekdayFormat:o,weekendDays:s,getDayProps:c,excludeDate:d,minDate:f,maxDate:h,renderDay:m,hideOutsideDates:v,hideWeekdays:b,getDayAriaLabel:x,__preventFocus:M,nextIcon:D,previousIcon:j,nextLabel:I,previousLabel:B,onNext:G,onPrevious:V,onLevelClick:K,nextDisabled:te,previousDisabled:X,hasNextLevel:J,classNames:U,styles:F,unstyled:q,__staticSelector:ne||"MonthLevelGroup",size:ue,static:we,withCellSpacing:T,highlightToday:E,withWeekNumbers:k,headerControlsOrder:L,attributes:qe},He)});return g.jsx(ru,{classNames:U,styles:F,__staticSelector:ne||"MonthLevelGroup",ref:e,size:ue,attributes:qe,...ae,children:Le})});qx.classes={...ru.classes,...Ux.classes};qx.displayName="@mantine/dates/MonthLevelGroup";var fU={input:"m_6fa5e2aa"};const Gx=Fe((t,e)=>{const{inputProps:n,wrapperProps:r,placeholder:i,classNames:a,styles:o,unstyled:s,popoverProps:c,modalProps:d,dropdownType:f,children:h,formattedValue:m,dropdownHandlers:v,dropdownOpened:b,onClick:x,clearable:S,onClear:C,clearButtonProps:T,rightSection:E,shouldClear:k,readOnly:M,disabled:D,value:j,name:I,form:B,type:G,onDropdownClose:V,withTime:K,...te}=f$("PickerInputBase",{size:"sm"},t),X=g.jsx(qn.ClearButton,{onClick:C,unstyled:s,...T}),J=()=>{G==="range"&&Array.isArray(j)&&j[0]&&!j[1]&&C(),v.close()};return g.jsxs(g.Fragment,{children:[f==="modal"&&!M&&g.jsx($r,{opened:b,onClose:J,withCloseButton:!1,size:"auto","data-dates-modal":!0,unstyled:s,...d,children:h}),g.jsx(qn.Wrapper,{...r,children:g.jsxs(Vo,{position:"bottom-start",opened:b,trapFocus:!0,returnFocus:!1,unstyled:s,onClose:V,...c,disabled:c?.disabled||f==="modal"||M,onChange:L=>{L||(c?.onClose?.(),J())},children:[g.jsx(Vo.Target,{children:g.jsx(qn,{"data-dates-input":!0,"data-read-only":M||void 0,disabled:D,component:"button",type:"button",multiline:!0,onClick:L=>{x?.(L),v.toggle()},__clearSection:X,__clearable:S&&k&&!M&&!D,rightSection:E,...n,ref:e,classNames:{...a,input:Ot(fU.input,a?.input)},...te,children:m||g.jsx(qn.Placeholder,{error:n.error,unstyled:s,classNames:a,styles:o,__staticSelector:n.__staticSelector,children:i})})}),g.jsx(Vo.Dropdown,{"data-dates-dropdown":!0,children:h})]})}),g.jsx(Q6,{value:j,name:I,form:B,type:G,withTime:K})]})});Gx.classes=fU;Gx.displayName="@mantine/dates/PickerInputBase";const jN=t=>t==="range"?[null,null]:t==="multiple"?[]:null,RN=(t,e)=>{const n=e?Z6:qi;return Array.isArray(t)?t.map(n):n(t)};function qP({type:t,value:e,defaultValue:n,onChange:r,withTime:i=!1}){const a=w.useRef(t),[o,s,c]=Ur({value:RN(e,i),defaultValue:RN(n,i),finalValue:jN(t),onChange:r});let d=o;return a.current!==t&&(a.current=t,e===void 0&&(d=n!==void 0?n:jN(t),s(d))),[d,s,c]}function qC(t,e){return t?t==="month"?0:t==="year"?1:2:e||0}function que(t){return t===0?"month":t===1?"year":"decade"}function om(t,e,n){return que(_m(qC(t,0),qC(e,0),qC(n,2)))}const Gue={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0,enableKeyboardNavigation:!0},Yx=Fe((t,e)=>{const n=Pe("Calendar",Gue,t),{vars:r,maxLevel:i,minLevel:a,defaultLevel:o,level:s,onLevelChange:c,date:d,defaultDate:f,onDateChange:h,numberOfColumns:m,columnsToScroll:v,ariaLabels:b,nextLabel:x,previousLabel:S,onYearSelect:C,onMonthSelect:T,onYearMouseEnter:E,onMonthMouseEnter:k,headerControlsOrder:M,__updateDateOnYearSelect:D,__updateDateOnMonthSelect:j,__setDateRef:I,__setLevelRef:B,firstDayOfWeek:G,weekdayFormat:V,weekendDays:K,getDayProps:te,excludeDate:X,renderDay:J,hideOutsideDates:L,hideWeekdays:U,getDayAriaLabel:F,monthLabelFormat:q,nextIcon:W,previousIcon:z,__onDayClick:Y,__onDayMouseEnter:ne,withCellSpacing:ie,highlightToday:ue,withWeekNumbers:we,monthsListFormat:be,getMonthControlProps:qe,yearLabelFormat:ae,yearsListFormat:se,getYearControlProps:Le,decadeLabelFormat:de,classNames:He,styles:Re,unstyled:ct,minDate:Qe,maxDate:Ue,locale:We,__staticSelector:rt,size:Je,__preventFocus:St,__stopPropagation:ft,onNextDecade:vt,onPreviousDecade:Be,onNextYear:at,onPreviousYear:Ge,onNextMonth:Ve,onPreviousMonth:Jt,static:bn,enableKeyboardNavigation:Vt,attributes:Tn,...Yt}=n,{resolvedClassNames:Xn,resolvedStyles:xn}=ka({classNames:He,styles:Re,props:n}),[Nt,et]=Ur({value:s?om(s,a,i):void 0,defaultValue:o?om(o,a,i):void 0,finalValue:om(void 0,a,i),onChange:c}),[gr,wn]=qP({type:"default",value:qi(d),defaultValue:qi(f),onChange:h});w.useImperativeHandle(I,()=>lt=>{wn(lt)}),w.useImperativeHandle(B,()=>lt=>{et(lt)});const Jr={__staticSelector:rt||"Calendar",styles:xn,classNames:Xn,unstyled:ct,size:Je,attributes:Tn},nt=v||m||1,un=new Date,ur=Qe&&it(un).isAfter(Qe)?Qe:it(un).format("YYYY-MM-DD"),kn=gr||ur,ha=()=>{const lt=it(kn).add(nt,"month").format("YYYY-MM-DD");Ve?.(lt),wn(lt)},ei=()=>{const lt=it(kn).subtract(nt,"month").format("YYYY-MM-DD");Jt?.(lt),wn(lt)},Oa=()=>{const lt=it(kn).add(nt,"year").format("YYYY-MM-DD");at?.(lt),wn(lt)},Mn=()=>{const lt=it(kn).subtract(nt,"year").format("YYYY-MM-DD");Ge?.(lt),wn(lt)},Hr=()=>{const lt=it(kn).add(10*nt,"year").format("YYYY-MM-DD");vt?.(lt),wn(lt)},hn=()=>{const lt=it(kn).subtract(10*nt,"year").format("YYYY-MM-DD");Be?.(lt),wn(lt)},Xa=w.useRef(null);w.useEffect(()=>{if(!Vt||bn)return;const lt=Rt=>{if(!Xa.current?.contains(document.activeElement))return;const nn=Rt.ctrlKey||Rt.metaKey,Vr=Rt.shiftKey;switch(Rt.key){case"ArrowUp":nn&&Vr?(Rt.preventDefault(),hn()):nn&&(Rt.preventDefault(),Mn());break;case"ArrowDown":nn&&Vr?(Rt.preventDefault(),Hr()):nn&&(Rt.preventDefault(),Oa());break;case"y":case"Y":Nt==="month"&&(Rt.preventDefault(),et("year"));break}};return document.addEventListener("keydown",lt),()=>{document.removeEventListener("keydown",lt)}},[Vt,bn,Nt,Oa,Mn,Hr,hn]);const Za=lt=>{Xa.current=lt,typeof e=="function"?e(lt):e&&(e.current=lt)};return g.jsxs(De,{ref:Za,size:Je,"data-calendar":!0,...Yt,children:[Nt==="month"&&g.jsx(qx,{month:kn,minDate:Qe,maxDate:Ue,firstDayOfWeek:G,weekdayFormat:V,weekendDays:K,getDayProps:te,excludeDate:X,renderDay:J,hideOutsideDates:L,hideWeekdays:U,getDayAriaLabel:F,onNext:ha,onPrevious:ei,hasNextLevel:i!=="month",onLevelClick:()=>et("year"),numberOfColumns:m,locale:We,levelControlAriaLabel:b?.monthLevelControl,nextLabel:b?.nextMonth??x,nextIcon:W,previousLabel:b?.previousMonth??S,previousIcon:z,monthLabelFormat:q,__onDayClick:Y,__onDayMouseEnter:ne,__preventFocus:St,__stopPropagation:ft,static:bn,withCellSpacing:ie,highlightToday:ue,withWeekNumbers:we,headerControlsOrder:M,...Jr}),Nt==="year"&&g.jsx(Vx,{year:kn,numberOfColumns:m,minDate:Qe,maxDate:Ue,monthsListFormat:be,getMonthControlProps:qe,locale:We,onNext:Oa,onPrevious:Mn,hasNextLevel:i!=="month"&&i!=="year",onLevelClick:()=>et("decade"),levelControlAriaLabel:b?.yearLevelControl,nextLabel:b?.nextYear??x,nextIcon:W,previousLabel:b?.previousYear??S,previousIcon:z,yearLabelFormat:ae,__onControlMouseEnter:k,__onControlClick:(lt,Rt)=>{j&&wn(Rt),et(om("month",a,i)),T?.(Rt)},__preventFocus:St,__stopPropagation:ft,withCellSpacing:ie,headerControlsOrder:M,...Jr}),Nt==="decade"&&g.jsx(Hx,{decade:kn,minDate:Qe,maxDate:Ue,yearsListFormat:se,getYearControlProps:Le,locale:We,onNext:Hr,onPrevious:hn,numberOfColumns:m,nextLabel:b?.nextDecade??x,nextIcon:W,previousLabel:b?.previousDecade??S,previousIcon:z,decadeLabelFormat:de,__onControlMouseEnter:E,__onControlClick:(lt,Rt)=>{D&&wn(Rt),et(om("year",a,i)),C?.(Rt)},__preventFocus:St,__stopPropagation:ft,withCellSpacing:ie,headerControlsOrder:M,...Jr})]})});Yx.classes={...Hx.classes,...Vx.classes,...qx.classes};Yx.displayName="@mantine/dates/Calendar";function hU(t){const{maxLevel:e,minLevel:n,defaultLevel:r,level:i,onLevelChange:a,nextIcon:o,previousIcon:s,date:c,defaultDate:d,onDateChange:f,numberOfColumns:h,columnsToScroll:m,ariaLabels:v,nextLabel:b,previousLabel:x,onYearSelect:S,onMonthSelect:C,onYearMouseEnter:T,onMonthMouseEnter:E,onNextMonth:k,onPreviousMonth:M,onNextYear:D,onPreviousYear:j,onNextDecade:I,onPreviousDecade:B,withCellSpacing:G,highlightToday:V,__updateDateOnYearSelect:K,__updateDateOnMonthSelect:te,__setDateRef:X,__setLevelRef:J,withWeekNumbers:L,headerControlsOrder:U,firstDayOfWeek:F,weekdayFormat:q,weekendDays:W,getDayProps:z,excludeDate:Y,renderDay:ne,hideOutsideDates:ie,hideWeekdays:ue,getDayAriaLabel:we,monthLabelFormat:be,monthsListFormat:qe,getMonthControlProps:ae,yearLabelFormat:se,yearsListFormat:Le,getYearControlProps:de,decadeLabelFormat:He,allowSingleDateInRange:Re,allowDeselect:ct,minDate:Qe,maxDate:Ue,locale:We,...rt}=t;return{calendarProps:{maxLevel:e,minLevel:n,defaultLevel:r,level:i,onLevelChange:a,nextIcon:o,previousIcon:s,date:c,defaultDate:d,onDateChange:f,numberOfColumns:h,columnsToScroll:m,ariaLabels:v,nextLabel:b,previousLabel:x,onYearSelect:S,onMonthSelect:C,onYearMouseEnter:T,onMonthMouseEnter:E,onNextMonth:k,onPreviousMonth:M,onNextYear:D,onPreviousYear:j,onNextDecade:I,onPreviousDecade:B,withCellSpacing:G,highlightToday:V,__updateDateOnYearSelect:K,__updateDateOnMonthSelect:te,__setDateRef:X,withWeekNumbers:L,headerControlsOrder:U,firstDayOfWeek:F,weekdayFormat:q,weekendDays:W,getDayProps:z,excludeDate:Y,renderDay:ne,hideOutsideDates:ie,hideWeekdays:ue,getDayAriaLabel:we,monthLabelFormat:be,monthsListFormat:qe,getMonthControlProps:ae,yearLabelFormat:se,yearsListFormat:Le,getYearControlProps:de,decadeLabelFormat:He,allowSingleDateInRange:Re,allowDeselect:ct,minDate:Qe,maxDate:Ue,locale:We},others:rt}}function LN(t,e){const n=[...e].sort((r,i)=>it(r).isAfter(it(i))?1:-1);return it(n[0]).startOf("day").subtract(1,"ms").isBefore(t)&&it(n[1]).endOf("day").add(1,"ms").isAfter(t)}function Yue({type:t,level:e,value:n,defaultValue:r,onChange:i,allowSingleDateInRange:a,allowDeselect:o,onMouseLeave:s}){const[c,d]=qP({type:t,value:n,defaultValue:r,onChange:i}),[f,h]=w.useState(t==="range"&&c[0]&&!c[1]?c[0]:null),[m,v]=w.useState(null),b=M=>{if(t==="range"){if(f&&!c[1]){if(it(M).isSame(f,e)&&!a){h(null),v(null),d([null,null]);return}const D=[M,f];D.sort((j,I)=>it(j).isAfter(it(I))?1:-1),d(D),v(null),h(null);return}if(c[0]&&!c[1]&&it(M).isSame(c[0],e)&&!a){h(null),v(null),d([null,null]);return}d([M,null]),v(null),h(M);return}if(t==="multiple"){c.some(D=>it(D).isSame(M,e))?d(c.filter(D=>!it(D).isSame(M,e))):d([...c,M]);return}c&&o&&it(M).isSame(c,e)?d(null):d(M)},x=M=>f&&m?LN(M,[m,f]):c[0]&&c[1]?LN(M,c):!1,S=t==="range"?M=>{s?.(M),v(null)}:s,C=M=>c[0]&&it(M).isSame(c[0],e)?!(m&&it(m).isBefore(c[0])):!1,T=M=>c[1]?it(M).isSame(c[1],e):!c[0]||!m?!1:it(m).isBefore(c[0])&&it(M).isSame(c[0],e),E=M=>{if(t==="range")return{selected:c.some(j=>j&&it(j).isSame(M,e)),inRange:x(M),firstInRange:C(M),lastInRange:T(M),"data-autofocus":!!c[0]&&it(c[0]).isSame(M,e)||void 0};if(t==="multiple")return{selected:c.some(j=>j&&it(j).isSame(M,e)),"data-autofocus":!!c[0]&&it(c[0]).isSame(M,e)||void 0};const D=it(c).isSame(M,e);return{selected:D,"data-autofocus":D||void 0}},k=t==="range"&&f?v:()=>{};return w.useEffect(()=>{if(t==="range")if(c[0]&&!c[1])h(c[0]);else{const M=c[0]==null&&c[1]==null,D=c[0]!=null&&c[1]!=null;(M||D)&&(h(null),v(null))}},[c]),{onDateChange:b,onRootMouseLeave:S,onHoveredDateChange:k,getControlProps:E,_value:c,setValue:d}}var Kue={datePickerRoot:"m_765a40cf",presetsList:"m_d6a681e1",presetButton:"m_acd30b22"};const Wue=(t,{size:e})=>({datePickerRoot:{"--preset-font-size":cr(e)}}),Xue={type:"default",defaultLevel:"month",numberOfColumns:1,size:"sm"},Kx=Fe((t,e)=>{const n=Pe("DatePicker",Xue,t),{allowDeselect:r,allowSingleDateInRange:i,value:a,defaultValue:o,onChange:s,onMouseLeave:c,classNames:d,styles:f,__staticSelector:h,__onDayClick:m,__onDayMouseEnter:v,__onPresetSelect:b,__stopPropagation:x,presets:S,className:C,style:T,unstyled:E,size:k,vars:M,attributes:D,...j}=n,{calendarProps:I,others:B}=hU(j),G=w.useRef(null),V=w.useRef(null),K=ut({name:h||"DatePicker",classes:Kue,props:n,className:C,style:T,classNames:d,styles:f,unstyled:E,attributes:D,rootSelector:S?"datePickerRoot":void 0,varsResolver:Wue,vars:M}),{onDateChange:te,onRootMouseLeave:X,onHoveredDateChange:J,getControlProps:L,_value:U,setValue:F}=Yue({type:B.type,level:"day",allowDeselect:r,allowSingleDateInRange:i,value:a,defaultValue:o,onChange:s,onMouseLeave:c}),{resolvedClassNames:q,resolvedStyles:W}=ka({classNames:d,styles:f,props:n}),z=g.jsx(Yx,{ref:e,classNames:q,styles:W,__staticSelector:h||"DatePicker",onMouseLeave:X,size:k,...I,...S?{}:B,__stopPropagation:x,__setDateRef:G,__setLevelRef:V,minLevel:I.minLevel||"month",__onDayMouseEnter:(ie,ue)=>{J(ue),v?.(ie,ue)},__onDayClick:(ie,ue)=>{te(ue),m?.(ie,ue)},getDayProps:ie=>({...L(ie),...I.getDayProps?.(ie)}),getMonthControlProps:ie=>({selected:typeof U=="string"?VP(ie,U):!1,...I.getMonthControlProps?.(ie)}),getYearControlProps:ie=>({selected:typeof U=="string"?it(ie).isSame(U,"year"):!1,...I.getYearControlProps?.(ie)}),hideOutsideDates:I.hideOutsideDates??I.numberOfColumns!==1,...S?{}:{className:C,style:T,attributes:D}});if(!S)return z;const Y=ie=>{const ue=Array.isArray(ie)?ie[0]:ie;ue!==void 0&&(G.current?.(ue),V.current?.("month"),b?b(ue):F(ie))},ne=S.map((ie,ue)=>g.jsx(Br,{...K("presetButton"),onClick:()=>Y(ie.value),onMouseDown:we=>we.preventDefault(),"data-mantine-stop-propagation":x||void 0,children:ie.label},ue));return g.jsxs(De,{...K("datePickerRoot"),size:k,...B,children:[g.jsx("div",{...K("presetsList"),children:ne}),z]})});Kx.classes=Yx.classes;Kx.displayName="@mantine/dates/DatePicker";function Zue({type:t,value:e,defaultValue:n,onChange:r,locale:i,format:a,closeOnChange:o,sortDates:s,labelSeparator:c,valueFormatter:d}){const f=tu(),[h,m]=F0(!1),[v,b]=qP({type:t,value:e,defaultValue:n,onChange:r}),x=lue({type:t,date:v,locale:f.getLocale(i),format:a,labelSeparator:f.getLabelSeparator(c),formatter:d}),S=E=>{o&&(t==="default"&&m.close(),t==="range"&&E[0]&&E[1]&&m.close()),b(s&&t==="multiple"?[...E].sort((k,M)=>it(k).isAfter(it(M))?1:-1):E)},C=()=>S(t==="range"?[null,null]:t==="multiple"?[]:null),T=t==="range"?!!v[0]:t==="multiple"?v.length>0:v!==null;return{_value:v,setValue:S,onClear:C,shouldClear:T,formattedValue:x,dropdownOpened:h,dropdownHandlers:m}}const Que={type:"default",valueFormat:"MMMM D, YYYY",closeOnChange:!0,sortDates:!0,dropdownType:"popover"},Kc=Fe((t,e)=>{const n=Pe("DatePickerInput",Que,t),{type:r,value:i,defaultValue:a,onChange:o,valueFormat:s,labelSeparator:c,locale:d,classNames:f,styles:h,unstyled:m,closeOnChange:v,size:b,variant:x,dropdownType:S,sortDates:C,minDate:T,maxDate:E,vars:k,defaultDate:M,valueFormatter:D,presets:j,attributes:I,...B}=n,{resolvedClassNames:G,resolvedStyles:V}=ka({classNames:f,styles:h,props:n}),{calendarProps:K,others:te}=hU(B),{_value:X,setValue:J,formattedValue:L,dropdownHandlers:U,dropdownOpened:F,onClear:q,shouldClear:W}=Zue({type:r,value:i,defaultValue:a,onChange:o,locale:d,format:s,labelSeparator:c,closeOnChange:v,sortDates:C,valueFormatter:D}),z=Array.isArray(X)?X[0]||M:X||M;return g.jsx(Gx,{formattedValue:L,dropdownOpened:F,dropdownHandlers:U,classNames:G,styles:V,unstyled:m,ref:e,onClear:q,shouldClear:W,value:X,size:b,variant:x,dropdownType:S,...te,type:r,__staticSelector:"DatePickerInput",attributes:I,children:g.jsx(Kx,{...K,size:b,variant:x,type:r,value:X,defaultDate:z||fue({maxDate:E,minDate:T}),onChange:J,locale:d,classNames:G,styles:V,unstyled:m,__staticSelector:"DatePickerInput",__stopPropagation:S==="popover",minDate:T,maxDate:E,presets:j,attributes:I})})});Kc.classes={...Gx.classes,...Kx.classes};Kc.displayName="@mantine/dates/DatePickerInput";function NN(t){if(!t)return;if(t instanceof Date)return t;const e=new Date(t);return isNaN(e.getTime())?void 0:e}function Jue({filters:t,onFiltersChange:e}){const n=w.useCallback(s=>{e({...t,searchTerm:s.target.value||void 0})},[t,e]),r=w.useCallback(s=>{e({...t,startDate:NN(s)})},[t,e]),i=w.useCallback(s=>{e({...t,endDate:NN(s)})},[t,e]),a=w.useCallback(()=>{e({})},[e]),o=t.searchTerm||t.startDate||t.endDate;return g.jsx(Dt,{p:"md",withBorder:!0,mb:"md",children:g.jsxs(ze,{gap:"md",align:"flex-end",wrap:"wrap",children:[g.jsx(Cs,{label:"Search",placeholder:"Search by lab name...",leftSection:g.jsx(fP,{size:16}),value:t.searchTerm||"",onChange:n,"aria-label":"Search by lab name",style:{minWidth:200}}),g.jsx(Kc,{label:"From",placeholder:"Start date",leftSection:g.jsx(gh,{size:16}),value:t.startDate||null,onChange:r,maxDate:t.endDate||void 0,clearable:!0,"aria-label":"Filter from date",style:{minWidth:150}}),g.jsx(Kc,{label:"To",placeholder:"End date",leftSection:g.jsx(gh,{size:16}),value:t.endDate||null,onChange:i,minDate:t.startDate||void 0,clearable:!0,"aria-label":"Filter to date",style:{minWidth:150}}),o&&g.jsx(_t,{variant:"subtle",color:"gray",leftSection:g.jsx(Vi,{size:16}),onClick:a,"aria-label":"Clear all filters",children:"Clear"})]})})}function ede({onImportClick:t}){return g.jsx(Dt,{p:"xl",withBorder:!0,radius:"md",children:g.jsxs(tt,{align:"center",gap:"lg",py:"xl",children:[g.jsx(vn,{size:80,variant:"light",radius:"xl",color:"blue",children:g.jsx(NF,{size:40})}),g.jsxs(tt,{align:"center",gap:"xs",children:[g.jsx(oe,{size:"xl",fw:600,children:"No Lab Results Yet"}),g.jsx(oe,{c:"dimmed",ta:"center",maw:400,children:"Import your lab reports to start tracking your health data over time. We support PDF files and images of lab results."})]}),g.jsx(_t,{size:"lg",leftSection:g.jsx(wne,{size:20}),onClick:t,"aria-label":"Import lab results",children:"Import Lab Results"})]})})}function tde({onNavigateToImport:t}){const{results:e,isLoading:n,error:r,filters:i,setFilters:a,deleteResult:o,refresh:s}=yP(),{createNote:c,updateNote:d,deleteNote:f,getNotesForLabResult:h}=HF(),m=w.useCallback(async(C,T,E)=>{await c({labResultId:C,content:T,tags:E})},[c]),v=w.useCallback(async(C,T,E)=>{await d(C,{content:T,tags:E})},[d]),b=w.useCallback(async C=>{await f(C)},[f]);if(n)return g.jsx(qa,{py:"xl",children:g.jsxs(tt,{align:"center",gap:"md",children:[g.jsx(ji,{size:"lg"}),g.jsx(oe,{c:"dimmed",children:"Loading lab results..."})]})});if(r)return g.jsxs(It,{icon:g.jsx(la,{size:16}),title:"Error Loading Results",color:"red",variant:"light",children:[r,g.jsx(oe,{size:"sm",c:"blue",style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>s(),role:"button",tabIndex:0,onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&s()},children:"Try again"})]});if(!(e.length>0||i.searchTerm||i.startDate||i.endDate))return g.jsx(ede,{onImportClick:t});const S=async C=>{try{await o(C)}catch(T){console.error("Failed to delete result:",T)}};return g.jsxs(tt,{gap:"md",children:[g.jsx(Jue,{filters:i,onFiltersChange:a}),e.length===0?g.jsx(qa,{py:"xl",children:g.jsxs(tt,{align:"center",gap:"sm",children:[g.jsx(oe,{c:"dimmed",children:"No lab results match your filters."}),g.jsx(oe,{size:"sm",c:"blue",style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>a({}),role:"button",tabIndex:0,onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&a({})},children:"Clear filters"})]})}):g.jsx(tt,{gap:"sm",children:e.map(C=>g.jsx(rue,{result:C,onDelete:S,notes:C.id!==void 0?h(C.id):[],onCreateNote:m,onUpdateNote:v,onDeleteNote:b},C.id))})]})}var nde=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function GP(t){if(typeof t!="string")return!1;var e=nde;return e.includes(t)}var rde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ide=new Set(rde);function pU(t){return typeof t!="string"?!1:ide.has(t)}function mU(t){return typeof t=="string"&&t.startsWith("data-")}function js(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(pU(n)||mU(n))&&(e[n]=t[n]);return e}function Wx(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return js(e)}return typeof t=="object"&&!Array.isArray(t)?js(t):null}function Ri(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(pU(n)||mU(n)||GP(n))&&(e[n]=t[n]);return e}function ade(t){return t==null?null:w.isValidElement(t)?Ri(t.props):typeof t=="object"&&!Array.isArray(t)?Ri(t):null}var ode=["children","width","height","viewBox","className","style","title","desc"];function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xE.apply(null,arguments)}function sde(t,e){if(t==null)return{};var n,r,i=lde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var YP=w.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:s,title:c,desc:d}=t,f=sde(t,ode),h=a||{width:r,height:i,x:0,y:0},m=Ot("recharts-surface",o);return w.createElement("svg",xE({},Ri(f),{className:m,width:r,height:i,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),w.createElement("title",null,c),w.createElement("desc",null,d),n)}),cde=["children","className"];function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wE.apply(null,arguments)}function ude(t,e){if(t==null)return{};var n,r,i=dde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rs=w.forwardRef((t,e)=>{var{children:n,className:r}=t,i=ude(t,cde),a=Ot("recharts-layer",r);return w.createElement("g",wE({className:a},Ri(i),{ref:e}),n)}),gU=w.createContext(null),fde=()=>w.useContext(gU);function Wn(t){return function(){return t}}const vU=Math.cos,$b=Math.sin,Zo=Math.sqrt,Fb=Math.PI,Xx=2*Fb,SE=Math.PI,CE=2*SE,zu=1e-6,hde=CE-zu;function yU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function pde(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return yU;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class mde{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?yU:pde(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=r-e,d=i-n,f=o-e,h=s-n,m=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>zu)if(!(Math.abs(h*c-d*f)>zu)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-o,b=i-s,x=c*c+d*d,S=v*v+b*b,C=Math.sqrt(x),T=Math.sqrt(m),E=a*Math.tan((SE-Math.acos((x+m-S)/(2*C*T)))/2),k=E/T,M=E/C;Math.abs(k-1)>zu&&this._append`L${e+k*f},${n+k*h}`,this._append`A${a},${a},0,0,${+(h*v>f*b)},${this._x1=e+M*c},${this._y1=n+M*d}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),d=e+s,f=n+c,h=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>zu||Math.abs(this._y1-f)>zu)&&this._append`L${d},${f}`,r&&(m<0&&(m=m%CE+CE),m>hde?this._append`A${r},${r},0,1,${h},${e-s},${n-c}A${r},${r},0,1,${h},${this._x1=d},${this._y1=f}`:m>zu&&this._append`A${r},${r},0,${+(m>=SE)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function KP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new mde(e)}function WP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bU(t){this._context=t}bU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Zx(t){return new bU(t)}function xU(t){return t[0]}function wU(t){return t[1]}function SU(t,e){var n=Wn(!0),r=null,i=Zx,a=null,o=KP(s);t=typeof t=="function"?t:t===void 0?xU:Wn(t),e=typeof e=="function"?e:e===void 0?wU:Wn(e);function s(c){var d,f=(c=WP(c)).length,h,m=!1,v;for(r==null&&(a=i(v=o())),d=0;d<=f;++d)!(d<f&&n(h=c[d],d,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(h,d,c),+e(h,d,c));if(v)return a=null,v+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:Wn(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:Wn(+c),s):e},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Wn(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),s):r},s}function Oy(t,e,n){var r=null,i=Wn(!0),a=null,o=Zx,s=null,c=KP(d);t=typeof t=="function"?t:t===void 0?xU:Wn(+t),e=typeof e=="function"?e:Wn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?wU:Wn(+n);function d(h){var m,v,b,x=(h=WP(h)).length,S,C=!1,T,E=new Array(x),k=new Array(x);for(a==null&&(s=o(T=c())),m=0;m<=x;++m){if(!(m<x&&i(S=h[m],m,h))===C)if(C=!C)v=m,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),b=m-1;b>=v;--b)s.point(E[b],k[b]);s.lineEnd(),s.areaEnd()}C&&(E[m]=+t(S,m,h),k[m]=+e(S,m,h),s.point(r?+r(S,m,h):E[m],n?+n(S,m,h):k[m]))}if(T)return s=null,T+""||null}function f(){return SU().defined(i).curve(o).context(a)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:Wn(+h),r=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Wn(+h),d):t},d.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Wn(+h),d):r},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:Wn(+h),n=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Wn(+h),d):e},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Wn(+h),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Wn(!!h),d):i},d.curve=function(h){return arguments.length?(o=h,a!=null&&(s=o(a)),d):o},d.context=function(h){return arguments.length?(h==null?a=s=null:s=o(a=h),d):a},d}class CU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function gde(t){return new CU(t,!0)}function vde(t){return new CU(t,!1)}const XP={draw(t,e){const n=Zo(e/Fb);t.moveTo(n,0),t.arc(0,0,n,0,Xx)}},yde={draw(t,e){const n=Zo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},AU=Zo(1/3),bde=AU*2,xde={draw(t,e){const n=Zo(e/bde),r=n*AU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},wde={draw(t,e){const n=Zo(e),r=-n/2;t.rect(r,r,n,n)}},Sde=.8908130915292852,_U=$b(Fb/10)/$b(7*Fb/10),Cde=$b(Xx/10)*_U,Ade=-vU(Xx/10)*_U,_de={draw(t,e){const n=Zo(e*Sde),r=Cde*n,i=Ade*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Xx*a/5,s=vU(o),c=$b(o);t.lineTo(c*n,-s*n),t.lineTo(s*r-c*i,c*r+s*i)}t.closePath()}},GC=Zo(3),Ede={draw(t,e){const n=-Zo(e/(GC*3));t.moveTo(0,n*2),t.lineTo(-GC*n,-n),t.lineTo(GC*n,-n),t.closePath()}},ho=-.5,po=Zo(3)/2,AE=1/Zo(12),Tde=(AE/2+1)*3,kde={draw(t,e){const n=Zo(e/Tde),r=n/2,i=n*AE,a=r,o=n*AE+n,s=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,c),t.lineTo(ho*r-po*i,po*r+ho*i),t.lineTo(ho*a-po*o,po*a+ho*o),t.lineTo(ho*s-po*c,po*s+ho*c),t.lineTo(ho*r+po*i,ho*i-po*r),t.lineTo(ho*a+po*o,ho*o-po*a),t.lineTo(ho*s+po*c,ho*c-po*s),t.closePath()}};function Pde(t,e){let n=null,r=KP(i);t=typeof t=="function"?t:Wn(t||XP),e=typeof e=="function"?e:Wn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Wn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Wn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Ub(){}function Hb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function EU(t){this._context=t}EU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ode(t){return new EU(t)}function TU(t){this._context=t}TU.prototype={areaStart:Ub,areaEnd:Ub,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Hb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Mde(t){return new TU(t)}function kU(t){this._context=t}kU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Hb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Dde(t){return new kU(t)}function PU(t){this._context=t}PU.prototype={areaStart:Ub,areaEnd:Ub,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function jde(t){return new PU(t)}function IN(t){return t<0?-1:1}function zN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(IN(a)+IN(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function BN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function YC(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Vb(t){this._context=t}Vb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:YC(this,this._t0,BN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,YC(this,BN(this,n=zN(this,t,e)),n);break;default:YC(this,this._t0,n=zN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function OU(t){this._context=new MU(t)}(OU.prototype=Object.create(Vb.prototype)).point=function(t,e){Vb.prototype.point.call(this,e,t)};function MU(t){this._context=t}MU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Rde(t){return new Vb(t)}function Lde(t){return new OU(t)}function DU(t){this._context=t}DU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=$N(t),i=$N(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $N(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Nde(t){return new DU(t)}function Qx(t,e){this._context=t,this._t=e}Qx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Ide(t){return new Qx(t,.5)}function zde(t){return new Qx(t,0)}function Bde(t){return new Qx(t,1)}function vd(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function _E(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function $de(t,e){return t[e]}function Fde(t){const e=[];return e.key=t,e}function Ude(){var t=Wn([]),e=_E,n=vd,r=$de;function i(a){var o=Array.from(t.apply(this,arguments),Fde),s,c=o.length,d=-1,f;for(const h of a)for(s=0,++d;s<c;++s)(o[s][d]=[0,+r(h,o[s].key,d,a)]).data=h;for(s=0,f=WP(e(o));s<c;++s)o[f[s]].index=s;return n(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Wn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Wn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?_E:typeof a=="function"?a:Wn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??vd,i):n},i}function Hde(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}vd(t,e)}}function Vde(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}vd(t,e)}}function qde(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,c=0,d=0;s<o;++s){for(var f=t[e[s]],h=f[r][1]||0,m=f[r-1][1]||0,v=(h-m)/2,b=0;b<s;++b){var x=t[e[b]],S=x[r][1]||0,C=x[r-1][1]||0;v+=S-C}c+=h,d+=v*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,vd(t,e)}}var KC={},WC={},FN;function Gde(){return FN||(FN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(WC)),WC}var XC={},UN;function jU(){return UN||(UN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(XC)),XC}var ZC={},HN;function ZP(){return HN||(HN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(ZC)),ZC}var QC={},JC={},VN;function Yde(){return VN||(VN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(JC)),JC}var qN;function QP(){return qN||(qN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yde(),n=ZP();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,c="",d="",f=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const h=i[s];d?h==="\\"&&s+1<o?(s++,c+=i[s]):h===d?d="":c+=h:f?h==='"'||h==="'"?d=h:h==="]"?(f=!1,a.push(c),c=""):c+=h:h==="["?(f=!0,c&&(a.push(c),c="")):h==="."?c&&(a.push(c),c=""):c+=h,s++}return c&&a.push(c),a}t.toPath=r})(QC)),QC}var GN;function JP(){return GN||(GN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gde(),n=jU(),r=ZP(),i=QP();function a(s,c,d){if(s==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const f=s[c];return f===void 0?n.isDeepKey(c)?a(s,i.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const f=s[c];return f===void 0?d:f}default:{if(Array.isArray(c))return o(s,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const f=s[c];return f===void 0?d:f}}}function o(s,c,d){if(c.length===0)return d;let f=s;for(let h=0;h<c.length;h++){if(f==null||e.isUnsafeProperty(c[h]))return d;f=f[c[h]]}return f===void 0?d:f}t.get=a})(KC)),KC}var eA,YN;function Kde(){return YN||(YN=1,eA=JP().get),eA}var Wde=Kde();const Jx=ua(Wde);var Xde=4;function Hc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xde,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function xr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,o)=>{var s=n[o-1];return typeof s=="string"?i+s+a:s!==void 0?i+Hc(s)+a:i+a},"")}var wo=t=>t===0?0:t>0?1:-1,Dl=t=>typeof t=="number"&&t!=+t,yd=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Et=t=>(typeof t=="number"||t instanceof Number)&&!Dl(t),Gi=t=>Et(t)||typeof t=="string",Zde=0,Gm=t=>{var e=++Zde;return"".concat(t||"").concat(e)},Wc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Et(e)&&typeof e!="string")return r;var a;if(yd(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Dl(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},RU=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Aa(t,e,n){return Et(t)&&Et(e)?Hc(t+n*(e-t)):e}function LU(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Jx(r,e))===n)}var Li=t=>t===null||typeof t>"u",Tg=t=>Li(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function _a(t){return t!=null}function Bh(){}var Qde=["type","size","sizeType"];function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(null,arguments)}function KN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(n),!0).forEach(function(r){Jde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jde(t,e,n){return(e=efe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function efe(t){var e=tfe(t,"string");return typeof e=="symbol"?e:e+""}function tfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nfe(t,e){if(t==null)return{};var n,r,i=rfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var NU={symbolCircle:XP,symbolCross:yde,symbolDiamond:xde,symbolSquare:wde,symbolStar:_de,symbolTriangle:Ede,symbolWye:kde},ife=Math.PI/180,afe=t=>{var e="symbol".concat(Tg(t));return NU[e]||XP},ofe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*ife;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},sfe=(t,e)=>{NU["symbol".concat(Tg(t))]=e},eO=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=nfe(t,Qde),a=WN(WN({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var s=()=>{var m=afe(o),v=Pde().type(m).size(ofe(n,r,o)),b=v();if(b!==null)return b},{className:c,cx:d,cy:f}=a,h=Ri(a);return Et(d)&&Et(f)&&Et(n)?w.createElement("path",EE({},h,{className:Ot("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:s()})):null};eO.registerSymbol=sfe;var IU=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,tO=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{GP(i)&&(r[i]=(a=>n[i](n,a)))}),r},lfe=(t,e,n)=>r=>(t(e,n,r),null),zU=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];GP(i)&&typeof a=="function"&&(r||(r={}),r[i]=lfe(a,e,n))}),r};function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){ufe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ufe(t,e,n){return(e=dfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dfe(t){var e=ffe(t,"string");return typeof e=="symbol"?e:e+""}function ffe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pi(t,e){var n=cfe({},t),r=e,i=Object.keys(e),a=i.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return a}function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qb.apply(null,arguments)}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){pfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pfe(t,e,n){return(e=mfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mfe(t){var e=gfe(t,"string");return typeof e=="symbol"?e:e+""}function gfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vo=32,vfe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function yfe(t){var{data:e,iconType:n,inactiveColor:r}=t,i=vo/2,a=vo/6,o=vo/3,s=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline"){var d;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(d=e.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:vo,y2:i,className:"recharts-legend-icon"})}if(c==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(vo,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return w.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(vo/8,"h").concat(vo,"v").concat(vo*3/4,"h").concat(-vo,"z"),className:"recharts-legend-icon"});if(w.isValidElement(e.legendIcon)){var f=hfe({},e);return delete f.legendIcon,w.cloneElement(e.legendIcon,f)}return w.createElement(eO,{fill:s,cx:i,cy:i,size:vo,sizeType:"diameter",type:c})}function bfe(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=t,s={x:0,y:0,width:vo,height:vo},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((f,h)=>{var m=f.formatter||i,v=Ot({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:f.inactive});if(f.type==="none")return null;var b=f.inactive?a:f.color,x=m?m(f.value,f,h):f.value;return w.createElement("li",qb({className:v,style:c,key:"legend-item-".concat(h)},zU(t,f,h)),w.createElement(YP,{width:n,height:n,viewBox:s,style:d,"aria-label":"".concat(x," legend icon")},w.createElement(yfe,{data:f,iconType:o,inactiveColor:a})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x))})}var xfe=t=>{var e=pi(t,vfe),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:a},w.createElement(bfe,qb({},e,{payload:n})))},tA={},nA={},QN;function wfe(){return QN||(QN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],s=r(o,a,n);i.has(s)||i.set(s,o)}return Array.from(i.values())}t.uniqBy=e})(nA)),nA}var rA={},JN;function Sfe(){return JN||(JN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(rA)),rA}var iA={},eI;function BU(){return eI||(eI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(iA)),iA}var aA={},oA={},sA={},tI;function Cfe(){return tI||(tI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(sA)),sA}var nI;function nO(){return nI||(nI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cfe();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(oA)),oA}var lA={},rI;function Afe(){return rI||(rI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(lA)),lA}var iI;function _fe(){return iI||(iI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nO(),n=Afe();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(aA)),aA}var cA={},uA={},aI;function Efe(){return aI||(aI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JP();function n(r){return function(i){return e.get(i,r)}}t.property=n})(uA)),uA}var dA={},fA={},hA={},pA={},oI;function $U(){return oI||(oI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(pA)),pA}var mA={},sI;function FU(){return sI||(sI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(mA)),mA}var gA={},lI;function UU(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(gA)),gA}var cI;function Tfe(){return cI||(cI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$U(),n=FU(),r=UU();function i(f,h,m){return typeof m!="function"?i(f,h,()=>{}):a(f,h,function v(b,x,S,C,T,E){const k=m(b,x,S,C,T,E);return k!==void 0?!!k:a(b,x,v,E)},new Map)}function a(f,h,m,v){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,m,v);case"function":return Object.keys(h).length>0?a(f,{...h},m,v):r.isEqualsSameValueZero(f,h);default:return e.isObject(f)?typeof h=="string"?h==="":!0:r.isEqualsSameValueZero(f,h)}}function o(f,h,m,v){if(h==null)return!0;if(Array.isArray(h))return c(f,h,m,v);if(h instanceof Map)return s(f,h,m,v);if(h instanceof Set)return d(f,h,m,v);const b=Object.keys(h);if(f==null||n.isPrimitive(f))return b.length===0;if(b.length===0)return!0;if(v?.has(h))return v.get(h)===f;v?.set(h,f);try{for(let x=0;x<b.length;x++){const S=b[x];if(!n.isPrimitive(f)&&!(S in f)||h[S]===void 0&&f[S]!==void 0||h[S]===null&&f[S]!==null||!m(f[S],h[S],S,f,h,v))return!1}return!0}finally{v?.delete(h)}}function s(f,h,m,v){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,x]of h.entries()){const S=f.get(b);if(m(S,x,b,f,h,v)===!1)return!1}return!0}function c(f,h,m,v){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let x=0;x<h.length;x++){const S=h[x];let C=!1;for(let T=0;T<f.length;T++){if(b.has(T))continue;const E=f[T];let k=!1;if(m(E,S,x,f,h,v)&&(k=!0),k){b.add(T),C=!0;break}}if(!C)return!1}return!0}function d(f,h,m,v){return h.size===0?!0:f instanceof Set?c([...f],[...h],m,v):!1}t.isMatchWith=i,t.isSetMatch=d})(hA)),hA}var uI;function HU(){return uI||(uI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tfe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(fA)),fA}var vA={},yA={},bA={},dI;function kfe(){return dI||(dI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(bA)),bA}var xA={},fI;function rO(){return fI||(fI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(xA)),xA}var wA={},hI;function VU(){return hI||(hI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",h="[object Function]",m="[object ArrayBuffer]",v="[object Object]",b="[object Error]",x="[object DataView]",S="[object Uint8Array]",C="[object Uint8ClampedArray]",T="[object Uint16Array]",E="[object Uint32Array]",k="[object BigUint64Array]",M="[object Int8Array]",D="[object Int16Array]",j="[object Int32Array]",I="[object BigInt64Array]",B="[object Float32Array]",G="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=m,t.arrayTag=f,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=k,t.booleanTag=i,t.dataViewTag=x,t.dateTag=s,t.errorTag=b,t.float32ArrayTag=B,t.float64ArrayTag=G,t.functionTag=h,t.int16ArrayTag=D,t.int32ArrayTag=j,t.int8ArrayTag=M,t.mapTag=c,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=T,t.uint32ArrayTag=E,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=C})(wA)),wA}var SA={},pI;function Pfe(){return pI||(pI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(SA)),SA}var mI;function qU(){return mI||(mI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kfe(),n=rO(),r=VU(),i=FU(),a=Pfe();function o(f,h){return s(f,void 0,f,new Map,h)}function s(f,h,m,v=new Map,b=void 0){const x=b?.(f,h,m,v);if(x!==void 0)return x;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const S=new Array(f.length);v.set(f,S);for(let C=0;C<f.length;C++)S[C]=s(f[C],C,m,v,b);return Object.hasOwn(f,"index")&&(S.index=f.index),Object.hasOwn(f,"input")&&(S.input=f.input),S}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const S=new RegExp(f.source,f.flags);return S.lastIndex=f.lastIndex,S}if(f instanceof Map){const S=new Map;v.set(f,S);for(const[C,T]of f)S.set(C,s(T,C,m,v,b));return S}if(f instanceof Set){const S=new Set;v.set(f,S);for(const C of f)S.add(s(C,void 0,m,v,b));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const S=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,S);for(let C=0;C<f.length;C++)S[C]=s(f[C],C,m,v,b);return S}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const S=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,S),c(S,f,m,v,b),S}if(typeof File<"u"&&f instanceof File){const S=new File([f],f.name,{type:f.type});return v.set(f,S),c(S,f,m,v,b),S}if(typeof Blob<"u"&&f instanceof Blob){const S=new Blob([f],{type:f.type});return v.set(f,S),c(S,f,m,v,b),S}if(f instanceof Error){const S=new f.constructor;return v.set(f,S),S.message=f.message,S.name=f.name,S.stack=f.stack,S.cause=f.cause,c(S,f,m,v,b),S}if(f instanceof Boolean){const S=new Boolean(f.valueOf());return v.set(f,S),c(S,f,m,v,b),S}if(f instanceof Number){const S=new Number(f.valueOf());return v.set(f,S),c(S,f,m,v,b),S}if(f instanceof String){const S=new String(f.valueOf());return v.set(f,S),c(S,f,m,v,b),S}if(typeof f=="object"&&d(f)){const S=Object.create(Object.getPrototypeOf(f));return v.set(f,S),c(S,f,m,v,b),S}return f}function c(f,h,m=f,v,b){const x=[...Object.keys(h),...e.getSymbols(h)];for(let S=0;S<x.length;S++){const C=x[S],T=Object.getOwnPropertyDescriptor(f,C);(T==null||T.writable)&&(f[C]=s(h[C],C,m,v,b))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=s,t.copyProperties=c})(yA)),yA}var gI;function Ofe(){return gI||(gI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qU();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(vA)),vA}var vI;function Mfe(){return vI||(vI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HU(),n=Ofe();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(dA)),dA}var CA={},AA={},_A={},yI;function Dfe(){return yI||(yI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qU(),n=rO(),r=VU();function i(a,o){return e.cloneDeepWith(a,(s,c,d,f)=>{const h=o?.(s,c,d,f);if(h!==void 0)return h;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const m={};return f.set(a,m),e.copyProperties(m,a,d,f),m}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a?.valueOf());return e.copyProperties(m,a),m}case r.argumentsTag:{const m={};return e.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}}})}t.cloneDeepWith=i})(_A)),_A}var bI;function jfe(){return bI||(bI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dfe();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(AA)),AA}var EA={},TA={},xI;function GU(){return xI||(xI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(TA)),TA}var kA={},wI;function Rfe(){return wI||(wI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rO();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(kA)),kA}var SI;function Lfe(){return SI||(SI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jU(),n=GU(),r=Rfe(),i=QP();function a(o,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&e.isDeepKey(s)&&o?.[s]==null?c=i.toPath(s):c=[s],c.length===0)return!1;let d=o;for(let f=0;f<c.length;f++){const h=c[f];if((d==null||!Object.hasOwn(d,h))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(h)&&h<d.length))return!1;d=d[h]}return!0}t.has=a})(EA)),EA}var CI;function Nfe(){return CI||(CI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HU(),n=ZP(),r=jfe(),i=JP(),a=Lfe();function o(s,c){switch(typeof s){case"object":{Object.is(s?.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return c=r.cloneDeep(c),function(d){const f=i.get(d,s);return f===void 0?a.has(d,s):c===void 0?f===void 0:e.isMatch(f,c)}}t.matchesProperty=o})(CA)),CA}var AI;function Ife(){return AI||(AI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BU(),n=Efe(),r=Mfe(),i=Nfe();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(cA)),cA}var _I;function zfe(){return _I||(_I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wfe(),n=Sfe(),r=BU(),i=_fe(),a=Ife();function o(s,c=r.identity){return i.isArrayLikeObject(s)?e.uniqBy(Array.from(s),n.ary(a.iteratee(c),1)):[]}t.uniqBy=o})(tA)),tA}var PA,EI;function Bfe(){return EI||(EI=1,PA=zfe().uniqBy),PA}var $fe=Bfe();const TI=ua($fe);function YU(t,e,n){return e===!0?TI(t,n):typeof e=="function"?TI(t,e):t}var OA={exports:{}},MA={},DA={exports:{}},jA={};var kI;function Ffe(){if(kI)return jA;kI=1;var t=Th();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function s(h,m){var v=m(),b=r({inst:{value:v,getSnapshot:m}}),x=b[0].inst,S=b[1];return a(function(){x.value=v,x.getSnapshot=m,c(x)&&S({inst:x})},[h,v,m]),i(function(){return c(x)&&S({inst:x}),h(function(){c(x)&&S({inst:x})})},[h]),o(v),v}function c(h){var m=h.getSnapshot;h=h.value;try{var v=m();return!n(h,v)}catch{return!0}}function d(h,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:s;return jA.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,jA}var PI;function Ufe(){return PI||(PI=1,DA.exports=Ffe()),DA.exports}var OI;function Hfe(){if(OI)return MA;OI=1;var t=Th(),e=Ufe();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,s=t.useMemo,c=t.useDebugValue;return MA.useSyncExternalStoreWithSelector=function(d,f,h,m,v){var b=a(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=s(function(){function C(D){if(!T){if(T=!0,E=D,D=m(D),v!==void 0&&x.hasValue){var j=x.value;if(v(j,D))return k=j}return k=D}if(j=k,r(E,D))return j;var I=m(D);return v!==void 0&&v(j,I)?(E=D,j):(E=D,k=I)}var T=!1,E,k,M=h===void 0?null:h;return[function(){return C(f())},M===null?void 0:function(){return C(M())}]},[f,h,m,v]);var S=i(d,b[0],b[1]);return o(function(){x.hasValue=!0,x.value=S},[S]),c(S),S},MA}var MI;function Vfe(){return MI||(MI=1,OA.exports=Hfe()),OA.exports}var qfe=Vfe(),iO=w.createContext(null),Gfe=t=>t,Sr=()=>{var t=w.useContext(iO);return t?t.store.dispatch:Gfe},sb=()=>{},Yfe=()=>sb,Kfe=(t,e)=>t===e;function At(t){var e=w.useContext(iO),n=w.useMemo(()=>e?r=>{if(r!=null)return t(r)}:sb,[e,t]);return qfe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Yfe,e?e.store.getState:sb,e?e.store.getState:sb,n,Kfe)}function Wfe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Xfe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Zfe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var DI=t=>Array.isArray(t)?t:[t];function Qfe(t){const e=Array.isArray(t[0])?t[0]:t;return Zfe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Jfe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var ehe=class{constructor(t){this.value=t}deref(){return this.value}},the=typeof WeakRef<"u"?WeakRef:ehe,nhe=0,jI=1;function My(){return{s:nhe,v:void 0,o:null,p:null}}function KU(t,e={}){let n=My();const{resultEqualityCheck:r}=e;let i,a=0;function o(){let s=n;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let b=s.o;b===null&&(s.o=b=new WeakMap);const x=b.get(v);x===void 0?(s=My(),b.set(v,s)):s=x}else{let b=s.p;b===null&&(s.p=b=new Map);const x=b.get(v);x===void 0?(s=My(),b.set(v,s)):s=x}}const d=s;let f;if(s.s===jI)f=s.v;else if(f=t.apply(null,arguments),a++,r){const h=i?.deref?.()??i;h!=null&&r(h,f)&&(f=h,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new the(f):f}return d.s=jI,d.v=f,f}return o.clearCache=()=>{n=My(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function rhe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,s,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),Wfe(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...c},{memoize:h,memoizeOptions:m=[],argsMemoize:v=KU,argsMemoizeOptions:b=[]}=f,x=DI(m),S=DI(b),C=Qfe(i),T=h(function(){return a++,d.apply(null,arguments)},...x),E=v(function(){o++;const M=Jfe(C,arguments);return s=T.apply(null,M),s},...S);return Object.assign(E,{resultFunc:d,memoizedResultFunc:T,dependencies:C,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var je=rhe(KU),ihe=Object.assign((t,e=je)=>{Xfe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,s,c)=>(o[n[c]]=s,o),{}))},{withTypes:()=>ihe}),RA={},LA={},NA={},RI;function ahe(){return RI||(RI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),s=e(i);if(o===s&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};t.compareValues=n})(NA)),NA}var IA={},zA={},LI;function WU(){return LI||(LI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(zA)),zA}var NI;function ohe(){return NI||(NI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WU(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(IA)),IA}var II;function she(){return II||(II=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ahe(),n=ohe(),r=QP();function i(a,o,s,c){if(a==null)return[];s=c?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(v=>String(v));const d=(v,b)=>{let x=v;for(let S=0;S<b.length&&x!=null;++S)x=x[b[S]];return x},f=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:d(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?d(b,v):typeof b=="object"?b[v]:b,h=o.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:h.map(b=>f(b,v))})).slice().sort((v,b)=>{for(let x=0;x<h.length;x++){const S=e.compareValues(v.criteria[x],b.criteria[x],s[x]);if(S!==0)return S}return 0}).map(v=>v.original)}t.orderBy=i})(LA)),LA}var BA={},zI;function lhe(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(s,c)=>{for(let d=0;d<s.length;d++){const f=s[d];Array.isArray(f)&&c<a?o(f,c+1):i.push(f)}};return o(n,0),i}t.flatten=e})(BA)),BA}var $A={},BI;function XU(){return BI||(BI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GU(),n=nO(),r=$U(),i=UU();function a(o,s,c){return r.isObject(c)&&(typeof s=="number"&&n.isArrayLike(c)&&e.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?i.isEqualsSameValueZero(c[s],o):!1}t.isIterateeCall=a})($A)),$A}var $I;function che(){return $I||($I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=she(),n=lhe(),r=XU();function i(a,...o){const s=o.length;return s>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(RA)),RA}var FA,FI;function uhe(){return FI||(FI=1,FA=che().sortBy),FA}var dhe=uhe();const ew=ua(dhe);var ZU=t=>t.legend.settings,fhe=t=>t.legend.size,hhe=t=>t.legend.payload,phe=je([hhe,ZU],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?ew(r,n):r});function mhe(){return At(phe)}var Dy=1;function QU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>Dy||Math.abs(o.left-e.left)>Dy||Math.abs(o.top-e.top)>Dy||Math.abs(o.width-e.width)>Dy)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function _i(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ghe=typeof Symbol=="function"&&Symbol.observable||"@@observable",UI=ghe,UA=()=>Math.random().toString(36).substring(7).split("").join("."),vhe={INIT:`@@redux/INIT${UA()}`,REPLACE:`@@redux/REPLACE${UA()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${UA()}`},Gb=vhe;function aO(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function JU(t,e,n){if(typeof t!="function")throw new Error(_i(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_i(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_i(1));return n(JU)(t,e)}let r=t,i=e,a=new Map,o=a,s=0,c=!1;function d(){o===a&&(o=new Map,a.forEach((S,C)=>{o.set(C,S)}))}function f(){if(c)throw new Error(_i(3));return i}function h(S){if(typeof S!="function")throw new Error(_i(4));if(c)throw new Error(_i(5));let C=!0;d();const T=s++;return o.set(T,S),function(){if(C){if(c)throw new Error(_i(6));C=!1,d(),o.delete(T),a=null}}}function m(S){if(!aO(S))throw new Error(_i(7));if(typeof S.type>"u")throw new Error(_i(8));if(typeof S.type!="string")throw new Error(_i(17));if(c)throw new Error(_i(9));try{c=!0,i=r(i,S)}finally{c=!1}return(a=o).forEach(T=>{T()}),S}function v(S){if(typeof S!="function")throw new Error(_i(10));r=S,m({type:Gb.REPLACE})}function b(){const S=h;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(_i(11));function T(){const k=C;k.next&&k.next(f())}return T(),{unsubscribe:S(T)}},[UI](){return this}}}return m({type:Gb.INIT}),{dispatch:m,subscribe:h,getState:f,replaceReducer:v,[UI]:b}}function yhe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Gb.INIT})>"u")throw new Error(_i(12));if(typeof n(void 0,{type:Gb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_i(13))})}function e8(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{yhe(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let c=!1;const d={};for(let f=0;f<r.length;f++){const h=r[f],m=n[h],v=o[h],b=m(v,s);if(typeof b>"u")throw s&&s.type,new Error(_i(14));d[h]=b,c=c||b!==v}return c=c||r.length!==Object.keys(o).length,c?d:o}}function Yb(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function bhe(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(_i(15))};const o={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},s=t.map(c=>c(o));return a=Yb(...s)(i.dispatch),{...i,dispatch:a}}}function t8(t){return aO(t)&&"type"in t&&typeof t.type=="string"}var n8=Symbol.for("immer-nothing"),HI=Symbol.for("immer-draftable"),ca=Symbol.for("immer-state");function Bo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Va=Object,xh=Va.getPrototypeOf,Kb="constructor",tw="prototype",TE="configurable",Wb="enumerable",lb="writable",Ym="value",jl=t=>!!t&&!!t[ca];function Xo(t){return t?r8(t)||rw(t)||!!t[HI]||!!t[Kb]?.[HI]||iw(t)||aw(t):!1}var xhe=Va[tw][Kb].toString(),VI=new WeakMap;function r8(t){if(!t||!oO(t))return!1;const e=xh(t);if(e===null||e===Va[tw])return!0;const n=Va.hasOwnProperty.call(e,Kb)&&e[Kb];if(n===Object)return!0;if(!qf(n))return!1;let r=VI.get(n);return r===void 0&&(r=Function.toString.call(n),VI.set(n,r)),r===xhe}function nw(t,e,n=!0){kg(t)===0?(n?Reflect.ownKeys(t):Va.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function kg(t){const e=t[ca];return e?e.type_:rw(t)?1:iw(t)?2:aw(t)?3:0}var qI=(t,e,n=kg(t))=>n===2?t.has(e):Va[tw].hasOwnProperty.call(t,e),kE=(t,e,n=kg(t))=>n===2?t.get(e):t[e],Xb=(t,e,n,r=kg(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function whe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var rw=Array.isArray,iw=t=>t instanceof Map,aw=t=>t instanceof Set,oO=t=>typeof t=="object",qf=t=>typeof t=="function",HA=t=>typeof t=="boolean";function She(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var yl=t=>t.copy_||t.base_,sO=t=>t.modified_?t.copy_:t.base_;function PE(t,e){if(iw(t))return new Map(t);if(aw(t))return new Set(t);if(rw(t))return Array[tw].slice.call(t);const n=r8(t);if(e===!0||e==="class_only"&&!n){const r=Va.getOwnPropertyDescriptors(t);delete r[ca];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s[lb]===!1&&(s[lb]=!0,s[TE]=!0),(s.get||s.set)&&(r[o]={[TE]:!0,[lb]:!0,[Wb]:s[Wb],[Ym]:t[o]})}return Va.create(xh(t),r)}else{const r=xh(t);if(r!==null&&n)return{...t};const i=Va.create(r);return Va.assign(i,t)}}function lO(t,e=!1){return ow(t)||jl(t)||!Xo(t)||(kg(t)>1&&Va.defineProperties(t,{set:jy,add:jy,clear:jy,delete:jy}),Va.freeze(t),e&&nw(t,(n,r)=>{lO(r,!0)},!1)),t}function Che(){Bo(2)}var jy={[Ym]:Che};function ow(t){return t===null||!oO(t)?!0:Va.isFrozen(t)}var Zb="MapSet",OE="Patches",GI="ArrayMethods",i8={};function bd(t){const e=i8[t];return e||Bo(0,t),e}var YI=t=>!!i8[t],Km,a8=()=>Km,Ahe=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:YI(Zb)?bd(Zb):void 0,arrayMethodsPlugin_:YI(GI)?bd(GI):void 0});function KI(t,e){e&&(t.patchPlugin_=bd(OE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ME(t){DE(t),t.drafts_.forEach(_he),t.drafts_=null}function DE(t){t===Km&&(Km=t.parent_)}var WI=t=>Km=Ahe(Km,t);function _he(t){const e=t[ca];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function XI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[ca].modified_&&(ME(e),Bo(4)),Xo(t)&&(t=ZI(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[ca].base_,t,e)}else t=ZI(e,n);return Ehe(e,t,!0),ME(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==n8?t:void 0}function ZI(t,e){if(ow(e))return e;const n=e[ca];if(!n)return Qb(e,t.handledSet_,t);if(!sw(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);l8(n,t)}return n.copy_}function Ehe(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&lO(e,n)}function o8(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var sw=(t,e)=>t.scope_===e,The=[];function s8(t,e,n,r){const i=yl(t),a=t.type_;if(r!==void 0&&kE(i,r,a)===e){Xb(i,r,n,a);return}if(!t.draftLocations_){const s=t.draftLocations_=new Map;nw(i,(c,d)=>{if(jl(d)){const f=s.get(d)||[];f.push(c),s.set(d,f)}})}const o=t.draftLocations_.get(e)??The;for(const s of o)Xb(i,s,n,a)}function khe(t,e,n){t.callbacks_.push(function(i){const a=e;if(!a||!sw(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=sO(a);s8(t,a.draft_??a,o,n),l8(a,i)})}function l8(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}o8(t)}}function Phe(t,e,n){const{scope_:r}=t;if(jl(n)){const i=n[ca];sw(i,r)&&i.callbacks_.push(function(){cb(t);const o=sO(i);s8(t,n,o,e)})}else Xo(n)&&t.callbacks_.push(function(){const a=yl(t);t.type_===3?a.has(n)&&Qb(n,r.handledSet_,r):kE(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Qb(kE(t.copy_,e,t.type_),r.handledSet_,r)})}function Qb(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||jl(t)||e.has(t)||!Xo(t)||ow(t)||(e.add(t),nw(t,(r,i)=>{if(jl(i)){const a=i[ca];if(sw(a,n)){const o=sO(a);Xb(t,r,o,t.type_),o8(a)}}else Xo(i)&&Qb(i,e,n)})),t}function Ohe(t,e){const n=rw(t),r={type_:n?1:0,scope_:e?e.scope_:a8(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Jb;n&&(i=[r],a=Wm);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,[s,r]}var Jb={get(t,e){if(e===ca)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=yl(t);if(!qI(i,e,t.type_))return Mhe(t,i,e);const a=i[e];if(t.finalized_||!Xo(a)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&She(e))return a;if(a===VA(t.base_,e)){cb(t);const o=t.type_===1?+e:e,s=RE(t.scope_,a,t,o);return t.copy_[o]=s}return a},has(t,e){return e in yl(t)},ownKeys(t){return Reflect.ownKeys(yl(t))},set(t,e,n){const r=c8(yl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=VA(yl(t),e),a=i?.[ca];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(whe(n,i)&&(n!==void 0||qI(t.base_,e,t.type_)))return!0;cb(t),jE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Phe(t,e,n)),!0},deleteProperty(t,e){return cb(t),VA(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),jE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=yl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[lb]:!0,[TE]:t.type_!==1||e!=="length",[Wb]:r[Wb],[Ym]:n[e]}},defineProperty(){Bo(11)},getPrototypeOf(t){return xh(t.base_)},setPrototypeOf(){Bo(12)}},Wm={};for(let t in Jb){let e=Jb[t];Wm[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Wm.deleteProperty=function(t,e){return Wm.set.call(this,t,e,void 0)};Wm.set=function(t,e,n){return Jb.set.call(this,t[0],e,n,t[0])};function VA(t,e){const n=t[ca];return(n?yl(n):t)[e]}function Mhe(t,e,n){const r=c8(e,n);return r?Ym in r?r[Ym]:r.get?.call(t.draft_):void 0}function c8(t,e){if(!(e in t))return;let n=xh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=xh(n)}}function jE(t){t.modified_||(t.modified_=!0,t.parent_&&jE(t.parent_))}function cb(t){t.copy_||(t.assigned_=new Map,t.copy_=PE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Dhe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(qf(n)&&!qf(r)){const o=r;r=n;const s=this;return function(d=o,...f){return s.produce(d,h=>r.call(this,h,...f))}}qf(r)||Bo(6),i!==void 0&&!qf(i)&&Bo(7);let a;if(Xo(n)){const o=WI(this),s=RE(o,n,void 0);let c=!0;try{a=r(s),c=!1}finally{c?ME(o):DE(o)}return KI(o,i),XI(a,o)}else if(!n||!oO(n)){if(a=r(n),a===void 0&&(a=n),a===n8&&(a=void 0),this.autoFreeze_&&lO(a,!0),i){const o=[],s=[];bd(OE).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:s}),i(o,s)}return a}else Bo(1,n)},this.produceWithPatches=(n,r)=>{if(qf(n))return(s,...c)=>this.produceWithPatches(s,d=>n(d,...c));let i,a;return[this.produce(n,r,(s,c)=>{i=s,a=c}),i,a]},HA(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),HA(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),HA(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Xo(e)||Bo(8),jl(e)&&(e=Go(e));const n=WI(this),r=RE(n,e,void 0);return r[ca].isManual_=!0,DE(n),r}finishDraft(e,n){const r=e&&e[ca];(!r||!r.isManual_)&&Bo(9);const{scope_:i}=r;return KI(i,n),XI(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=bd(OE).applyPatches_;return jl(e)?i(e,n):this.produce(e,a=>i(a,n))}};function RE(t,e,n,r){const[i,a]=iw(e)?bd(Zb).proxyMap_(e,n):aw(e)?bd(Zb).proxySet_(e,n):Ohe(e,n);return(n?.scope_??a8()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?khe(n,a,r):a.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=c;a.modified_&&d&&d.generatePatches_(a,[],c)}),i}function Go(t){return jl(t)||Bo(10,t),u8(t)}function u8(t){if(!Xo(t)||ow(t))return t;const e=t[ca];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=PE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=PE(t,!0);return nw(n,(i,a)=>{Xb(n,i,u8(a))},r),e&&(e.finalized_=!1),n}var jhe=new Dhe,d8=jhe.produce;function f8(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Rhe=f8(),Lhe=f8,Nhe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Yb:Yb.apply(null,arguments)};function _o(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ga(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>t8(r)&&r.type===t,n}var h8=class Sm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Sm.prototype)}static get[Symbol.species](){return Sm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Sm(...e[0].concat(this)):new Sm(...e.concat(this))}};function QI(t){return Xo(t)?d8(t,()=>{}):t}function Ry(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Ihe(t){return typeof t=="boolean"}var zhe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new h8;return n&&(Ihe(n)?o.push(Rhe):o.push(Lhe(n.extraArgument))),o},p8="RTK_autoBatch",or=()=>t=>({payload:t,meta:{[p8]:!0}}),JI=t=>e=>{setTimeout(e,t)},m8=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const s=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:JI(10):t.type==="callback"?t.queueNotification:JI(t.timeout),d=()=>{o=!1,a&&(a=!1,s.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const h=()=>i&&f(),m=r.subscribe(h);return s.add(f),()=>{m(),s.delete(f)}},dispatch(f){try{return i=!f?.meta?.[p8],a=!i,a&&(o||(o=!0,c(d))),r.dispatch(f)}finally{i=!0}}})},Bhe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new h8(t);return r&&i.push(m8(typeof r=="object"?r:void 0)),i};function $he(t){const e=zhe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let s;if(typeof n=="function")s=n;else if(aO(n))s=e8(n);else throw new Error(Ga(1));let c;typeof r=="function"?c=r(e):c=e();let d=Yb;i&&(d=Nhe({trace:!1,...typeof i=="object"&&i}));const f=bhe(...c),h=Bhe(f);let m=typeof o=="function"?o(h):h();const v=d(...m);return JU(s,a,v)}function g8(t){const e={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(Ga(28));if(s in e)throw new Error(Ga(29));return e[s]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Fhe(t){return typeof t=="function"}function Uhe(t,e){let[n,r,i]=g8(e),a;if(Fhe(t))a=()=>QI(t());else{const s=QI(t);a=()=>s}function o(s=a(),c){let d=[n[c.type],...r.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,h)=>{if(h)if(jl(f)){const v=h(f,c);return v===void 0?f:v}else{if(Xo(f))return d8(f,m=>h(m,c));{const m=h(f,c);if(m===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return f},s)}return o.getInitialState=a,o}var Hhe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Vhe=(t=21)=>{let e="",n=t;for(;n--;)e+=Hhe[Math.random()*64|0];return e},qhe=Symbol.for("rtk-slice-createasyncthunk");function Ghe(t,e){return`${t}/${e}`}function Yhe({creators:t}={}){const e=t?.asyncThunk?.[qhe];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Ga(11));const o=(typeof r.reducers=="function"?r.reducers(Whe()):r.reducers)||{},s=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,k){const M=typeof E=="string"?E:E.type;if(!M)throw new Error(Ga(12));if(M in c.sliceCaseReducersByType)throw new Error(Ga(13));return c.sliceCaseReducersByType[M]=k,d},addMatcher(E,k){return c.sliceMatchers.push({matcher:E,reducer:k}),d},exposeAction(E,k){return c.actionCreators[E]=k,d},exposeCaseReducer(E,k){return c.sliceCaseReducersByName[E]=k,d}};s.forEach(E=>{const k=o[E],M={reducerName:E,type:Ghe(i,E),createNotation:typeof r.reducers=="function"};Zhe(k)?Jhe(M,k,d,e):Xhe(M,k,d)});function f(){const[E={},k=[],M=void 0]=typeof r.extraReducers=="function"?g8(r.extraReducers):[r.extraReducers],D={...E,...c.sliceCaseReducersByType};return Uhe(r.initialState,j=>{for(let I in D)j.addCase(I,D[I]);for(let I of c.sliceMatchers)j.addMatcher(I.matcher,I.reducer);for(let I of k)j.addMatcher(I.matcher,I.reducer);M&&j.addDefaultCase(M)})}const h=E=>E,m=new Map,v=new WeakMap;let b;function x(E,k){return b||(b=f()),b(E,k)}function S(){return b||(b=f()),b.getInitialState()}function C(E,k=!1){function M(j){let I=j[E];return typeof I>"u"&&k&&(I=Ry(v,M,S)),I}function D(j=h){const I=Ry(m,k,()=>new WeakMap);return Ry(I,j,()=>{const B={};for(const[G,V]of Object.entries(r.selectors??{}))B[G]=Khe(V,j,()=>Ry(v,j,S),k);return B})}return{reducerPath:E,getSelectors:D,get selectors(){return D(M)},selectSlice:M}}const T={name:i,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:S,...C(a),injectInto(E,{reducerPath:k,...M}={}){const D=k??a;return E.inject({reducerPath:D,reducer:x},M),{...T,...C(D,!0)}}};return T}}function Khe(t,e,n,r){function i(a,...o){let s=e(a);return typeof s>"u"&&r&&(s=n()),t(s,...o)}return i.unwrapped=t,i}var Pa=Yhe();function Whe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Xhe({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!Qhe(r))throw new Error(Ga(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?_o(t,o):_o(t))}function Zhe(t){return t._reducerDefinitionType==="asyncThunk"}function Qhe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Jhe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ga(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:c,settled:d,options:f}=n,h=i(t,a,f);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),s&&r.addCase(h.pending,s),c&&r.addCase(h.rejected,c),d&&r.addMatcher(h.settled,d),r.exposeCaseReducer(e,{fulfilled:o||Ly,pending:s||Ly,rejected:c||Ly,settled:d||Ly})}function Ly(){}var epe="task",v8="listener",y8="completed",cO="cancelled",tpe=`task-${cO}`,npe=`task-${y8}`,LE=`${v8}-${cO}`,rpe=`${v8}-${y8}`,lw=class{constructor(t){this.code=t,this.message=`${epe} ${cO} (reason: ${t})`}name="TaskAbortError";message},uO=(t,e)=>{if(typeof t!="function")throw new TypeError(Ga(32))},e0=()=>{},b8=(t,e=e0)=>(t.catch(e),t),x8=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),id=t=>{if(t.aborted)throw new lw(t.reason)};function w8(t,e){let n=e0;return new Promise((r,i)=>{const a=()=>i(new lw(t.reason));if(t.aborted){a();return}n=x8(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=e0})}var ipe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof lw?"cancelled":"rejected",error:n}}finally{e?.()}},t0=t=>e=>b8(w8(t,e).then(n=>(id(t),n))),S8=t=>{const e=t0(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:ah}=Object,e3={},cw="listenerMiddleware",ape=(t,e)=>{const n=r=>x8(t,()=>r.abort(t.reason));return(r,i)=>{uO(r);const a=new AbortController;n(a);const o=ipe(async()=>{id(t),id(a.signal);const s=await r({pause:t0(a.signal),delay:S8(a.signal),signal:a.signal});return id(a.signal),s},()=>a.abort(npe));return i?.autoJoin&&e.push(o.catch(e0)),{result:t0(t)(o),cancel(){a.abort(tpe)}}}},ope=(t,e)=>{const n=async(r,i)=>{id(e);let a=()=>{};const s=[new Promise((c,d)=>{let f=t({predicate:r,effect:(h,m)=>{m.unsubscribe(),c([h,m.getState(),m.getOriginalState()])}});a=()=>{f(),d()}})];i!=null&&s.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await w8(e,Promise.race(s));return id(e),c}finally{a()}};return(r,i)=>b8(n(r,i))},C8=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=_o(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ga(21));return uO(a),{predicate:i,type:e,effect:a}},A8=ah(t=>{const{type:e,predicate:n,effect:r}=C8(t);return{id:Vhe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ga(22))}}},{withTypes:()=>A8}),t3=(t,e)=>{const{type:n,effect:r,predicate:i}=C8(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},NE=t=>{t.pending.forEach(e=>{e.abort(LE)})},spe=(t,e)=>()=>{for(const n of e.keys())NE(n);t.clear()},n3=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},_8=ah(_o(`${cw}/add`),{withTypes:()=>_8}),lpe=_o(`${cw}/removeAll`),E8=ah(_o(`${cw}/remove`),{withTypes:()=>E8}),cpe=(...t)=>{console.error(`${cw}/error`,...t)},Pg=(t={})=>{const e=new Map,n=new Map,r=v=>{const b=n.get(v)??0;n.set(v,b+1)},i=v=>{const b=n.get(v)??1;b===1?n.delete(v):n.set(v,b-1)},{extra:a,onError:o=cpe}=t;uO(o);const s=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),b=>{v.unsubscribe(),b?.cancelActive&&NE(v)}),c=v=>{const b=t3(e,v)??A8(v);return s(b)};ah(c,{withTypes:()=>c});const d=v=>{const b=t3(e,v);return b&&(b.unsubscribe(),v.cancelActive&&NE(b)),!!b};ah(d,{withTypes:()=>d});const f=async(v,b,x,S)=>{const C=new AbortController,T=ope(c,C.signal),E=[];try{v.pending.add(C),r(v),await Promise.resolve(v.effect(b,ah({},x,{getOriginalState:S,condition:(k,M)=>T(k,M).then(Boolean),take:T,delay:S8(C.signal),pause:t0(C.signal),extra:a,signal:C.signal,fork:ape(C.signal,E),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((k,M,D)=>{k!==C&&(k.abort(LE),D.delete(k))})},cancel:()=>{C.abort(LE),v.pending.delete(C)},throwIfCancelled:()=>{id(C.signal)}})))}catch(k){k instanceof lw||n3(o,k,{raisedBy:"effect"})}finally{await Promise.all(E),C.abort(rpe),i(v),v.pending.delete(C)}},h=spe(e,n);return{middleware:v=>b=>x=>{if(!t8(x))return b(x);if(_8.match(x))return c(x.payload);if(lpe.match(x)){h();return}if(E8.match(x))return d(x.payload);let S=v.getState();const C=()=>{if(S===e3)throw new Error(Ga(23));return S};let T;try{if(T=b(x),e.size>0){const E=v.getState(),k=Array.from(e.values());for(const M of k){let D=!1;try{D=M.predicate(x,E,S)}catch(j){D=!1,n3(o,j,{raisedBy:"predicate"})}D&&f(M,x,v,C)}}}finally{S=e3}return T},startListening:c,stopListening:d,clearListeners:h}};function Ga(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var upe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},T8=Pa({name:"chartLayout",initialState:upe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:dpe,setLayout:fpe,setChartSize:hpe,setScale:ppe}=T8.actions,mpe=T8.reducer;function k8(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Qt(t){return Number.isFinite(t)}function Ls(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function r3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r3(Object(n),!0).forEach(function(r){gpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gpe(t,e,n){return(e=vpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vpe(t){var e=ype(t,"string");return typeof e=="symbol"?e:e+""}function ype(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Di(t,e,n){return Li(t)||Li(e)?n:Gi(e)?Jx(t,e,n):typeof e=="function"?e(t):n}var bpe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=e;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&Et(t[a]))return Wf(Wf({},t),{},{[a]:t[a]+(r||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&Et(t[o]))return Wf(Wf({},t),{},{[o]:t[o]+(i||0)})}return t},Yl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",P8=(t,e,n,r)=>{if(r)return t.map(s=>s.coordinate);var i,a,o=t.map(s=>(s.coordinate===e&&(i=!0),s.coordinate===n&&(a=!0),s.coordinate));return i||o.push(e),a||o.push(n),o},O8=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:d,tickCount:f,ticks:h,niceTicks:m,axisType:v}=t;if(!o)return null;var b=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=i==="category"&&o.bandwidth?o.bandwidth()/b:0;if(x=v==="angleAxis"&&a&&a.length>=2?wo(a[0]-a[1])*2*x:x,h||m){var S=(h||m||[]).map((C,T)=>{var E=r?r.indexOf(C):C,k=o.map(E);return Qt(k)?{coordinate:k+x,value:C,offset:x,index:T}:null}).filter(_a);return S}return c&&d?d.map((C,T)=>{var E=o.map(C);return Qt(E)?{coordinate:E+x,value:C,index:T,offset:x}:null}).filter(_a):o.ticks&&f!=null?o.ticks(f).map((C,T)=>{var E=o.map(C);return Qt(E)?{coordinate:E+x,value:C,index:T,offset:x}:null}).filter(_a):o.domain().map((C,T)=>{var E=o.map(C);return Qt(E)?{coordinate:E+x,value:r?r[C]:C,index:T,offset:x}:null}).filter(_a)},xpe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0,s=0;s<n;++s){var c=t[s],d=c?.[i];if(d!=null){var f=d[1],h=d[0],m=Dl(f)?h:f;m>=0?(d[0]=a,a+=m,d[1]=a):(d[0]=o,o+=m,d[1]=o)}}}},wpe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0;o<n;++o){var s=t[o],c=s?.[i];if(c!=null){var d=Dl(c[1])?c[0]:c[1];d>=0?(c[0]=a,a+=d,c[1]=a):(c[0]=0,c[1]=0)}}}},Spe={sign:xpe,expand:Hde,none:vd,silhouette:Vde,wiggle:qde,positive:wpe},Cpe=(t,e,n)=>{var r,i=(r=Spe[n])!==null&&r!==void 0?r:vd,a=Ude().keys(e).value((s,c)=>Number(Di(s,c,0))).order(_E).offset(i),o=a(t);return o.forEach((s,c)=>{s.forEach((d,f)=>{var h=Di(t[f],e[c],0);Array.isArray(h)&&h.length===2&&Et(h[0])&&Et(h[1])&&(d[0]=h[0],d[1]=h[1])})}),o};function i3(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Li(i[e.dataKey])){var s=LU(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var c=Di(i,Li(o)?e.dataKey:o),d=e.scale.map(c);return Et(d)?d:null}var Ape=t=>{var e=t.flat(2).filter(Et);return[Math.min(...e),Math.max(...e)]},_pe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Epe=(t,e,n)=>{if(t!=null)return _pe(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:o}=a,s=o.reduce((c,d)=>{var f=k8(d,e,n),h=Ape(f);return!Qt(h[0])||!Qt(h[1])?c:[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},a3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,n0=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=ew(e,f=>f.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var c=i[o],d=i[o-1];a=Math.min((c?.coordinate||0)-(d?.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function s3(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Wf(Wf({},e),{},{dataKey:n,payload:r,value:i,name:a})}function M8(t,e){if(t)return String(t);if(typeof e=="string")return e}var Tpe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},kpe=(t,e)=>e==="centric"?t.angle:t.radius,Kl=t=>t.layout.width,Wl=t=>t.layout.height,Ppe=t=>t.layout.scale,D8=t=>t.layout.margin,uw=je(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),dw=je(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Ope="data-recharts-item-index",Mpe="data-recharts-item-id",Og=60;function l3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l3(Object(n),!0).forEach(function(r){Dpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dpe(t,e,n){return(e=jpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jpe(t){var e=Rpe(t,"string");return typeof e=="symbol"?e:e+""}function Rpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lpe=t=>t.brush.height;function Npe(t){var e=dw(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Og;return n+i}return n},0)}function Ipe(t){var e=dw(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Og;return n+i}return n},0)}function zpe(t){var e=uw(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Bpe(t){var e=uw(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ni=je([Kl,Wl,D8,Lpe,Npe,Ipe,zpe,Bpe,ZU,fhe],(t,e,n,r,i,a,o,s,c,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+a},h={top:(n.top||0)+o,bottom:(n.bottom||0)+s},m=Ny(Ny({},h),f),v=m.bottom;m.bottom+=r,m=bpe(m,c,d);var b=t-m.left-m.right,x=e-m.top-m.bottom;return Ny(Ny({brushBottom:v},m),{},{width:Math.max(b,0),height:Math.max(x,0)})}),$pe=je(Ni,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),j8=je(Kl,Wl,(t,e)=>({x:0,y:0,width:t,height:e})),Fpe=w.createContext(null),Xi=()=>w.useContext(Fpe)!=null,fw=t=>t.brush,hw=je([fw,Ni,D8],(t,e,n)=>({height:t.height,x:Et(t.x)?t.x:e.left,y:Et(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Et(t.width)?t.width:e.width})),qA={},GA={},YA={},c3;function Upe(){return c3||(c3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,s=null;const c=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),f=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},h=()=>{d&&f(),x()};let m=null;const v=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,h()},r)},b=()=>{m!==null&&(clearTimeout(m),m=null)},x=()=>{b(),o=void 0,s=null},S=()=>{f()},C=function(...T){if(i?.aborted)return;o=this,s=T;const E=m==null;v(),c&&E&&f()};return C.schedule=v,C.cancel=x,C.flush=S,i?.addEventListener("abort",x,{once:!0}),C}t.debounce=e})(YA)),YA}var u3;function Hpe(){return u3||(u3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Upe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:c}=a,d=Array(2);o&&(d[0]="leading"),s&&(d[1]="trailing");let f,h=null;const m=e.debounce(function(...x){f=r.apply(this,x),h=null},i,{edges:d}),v=function(...x){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(f=r.apply(this,x),h=Date.now(),m.cancel(),m.schedule(),f):(m.apply(this,x),f)},b=()=>(m.flush(),f);return v.cancel=m.cancel,v.flush=b,v}t.debounce=n})(GA)),GA}var d3;function Vpe(){return d3||(d3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hpe();function n(r,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:s})}t.throttle=n})(qA)),qA}var KA,f3;function qpe(){return f3||(f3=1,KA=Vpe().throttle),KA}var Gpe=qpe();const Ype=ua(Gpe);var r0=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},As={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},R8=(t,e,n)=>{var{width:r=As.width,height:i=As.height,aspect:a,maxHeight:o}=n,s=yd(r)?t:Number(r),c=yd(i)?e:Number(i);return a&&a>0&&(s?c=s/a:c&&(s=c*a),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:s,calculatedHeight:c}},Kpe={width:0,height:0,overflow:"visible"},Wpe={width:0,overflowX:"visible"},Xpe={height:0,overflowY:"visible"},Zpe={},Qpe=t=>{var{width:e,height:n}=t,r=yd(e),i=yd(n);return r&&i?Kpe:r?Wpe:i?Xpe:Zpe};function Jpe(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i=As.width,a=As.height):i===void 0?i=r&&r>0?void 0:As.width:a===void 0&&(a=r&&r>0?void 0:As.height),{width:i,height:a}}function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IE.apply(null,arguments)}function h3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h3(Object(n),!0).forEach(function(r){eme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eme(t,e,n){return(e=tme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tme(t){var e=nme(t,"string");return typeof e=="symbol"?e:e+""}function nme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L8=w.createContext(As.initialDimension);function rme(t){return Ls(t.width)&&Ls(t.height)}function N8(t){var{children:e,width:n,height:r}=t,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return rme(i)?w.createElement(L8.Provider,{value:i},e):null}var dO=()=>w.useContext(L8),ime=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=As.initialDimension,width:i,height:a,minWidth:o=As.minWidth,minHeight:s,maxHeight:c,children:d,debounce:f=As.debounce,id:h,className:m,onResize:v,style:b={}}=t,x=w.useRef(null),S=w.useRef();S.current=v,w.useImperativeHandle(e,()=>x.current);var[C,T]=w.useState({containerWidth:r.width,containerHeight:r.height}),E=w.useCallback((I,B)=>{T(G=>{var V=Math.round(I),K=Math.round(B);return G.containerWidth===V&&G.containerHeight===K?G:{containerWidth:V,containerHeight:K}})},[]);w.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return Bh;var I=K=>{var te,X=K[0];if(X!=null){var{width:J,height:L}=X.contentRect;E(J,L),(te=S.current)===null||te===void 0||te.call(S,J,L)}};f>0&&(I=Ype(I,f,{trailing:!0,leading:!1}));var B=new ResizeObserver(I),{width:G,height:V}=x.current.getBoundingClientRect();return E(G,V),B.observe(x.current),()=>{B.disconnect()}},[E,f]);var{containerWidth:k,containerHeight:M}=C;r0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:j}=R8(k,M,{width:i,height:a,aspect:n,maxHeight:c});return r0(D!=null&&D>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,j,i,a,o,s,n),w.createElement("div",{id:h?"".concat(h):void 0,className:Ot("recharts-responsive-container",m),style:p3(p3({},b),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:c}),ref:x},w.createElement("div",{style:Qpe({width:i,height:a})},w.createElement(N8,{width:D,height:j},d)))}),I8=w.forwardRef((t,e)=>{var n=dO();if(Ls(n.width)&&Ls(n.height))return t.children;var{width:r,height:i}=Jpe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:o}=R8(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Et(a)&&Et(o)?w.createElement(N8,{width:a,height:o},t.children):w.createElement(ime,IE({},t,{width:r,height:i,ref:e}))});function fO(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Mg=()=>{var t,e=Xi(),n=At($pe),r=At(hw),i=(t=At(fw))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},ame={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},z8=()=>{var t;return(t=At(Ni))!==null&&t!==void 0?t:ame},hO=()=>At(Kl),pO=()=>At(Wl),ome=()=>At(t=>t.layout.margin),mr=t=>t.layout.layoutType,$h=()=>At(mr),B8=()=>{var t=$h();if(t==="horizontal"||t==="vertical")return t},$8=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},sme=()=>{var t=$h();return t!==void 0},Dg=t=>{var e=Sr(),n=Xi(),{width:r,height:i}=t,a=dO(),o=r,s=i;return a&&(o=a.width>0?a.width:r,s=a.height>0?a.height:i),w.useEffect(()=>{!n&&Ls(o)&&Ls(s)&&e(hpe({width:o,height:s}))},[e,n,o,s]),null},F8=Symbol.for("immer-nothing"),m3=Symbol.for("immer-draftable"),Ka=Symbol.for("immer-state");function $o(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Xm=Object.getPrototypeOf;function wh(t){return!!t&&!!t[Ka]}function xd(t){return t?U8(t)||Array.isArray(t)||!!t[m3]||!!t.constructor?.[m3]||jg(t)||mw(t):!1}var lme=Object.prototype.constructor.toString(),g3=new WeakMap;function U8(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=g3.get(n);return r===void 0&&(r=Function.toString.call(n),g3.set(n,r)),r===lme}function i0(t,e,n=!0){pw(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function pw(t){const e=t[Ka];return e?e.type_:Array.isArray(t)?1:jg(t)?2:mw(t)?3:0}function zE(t,e){return pw(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function H8(t,e,n){const r=pw(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function cme(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function jg(t){return t instanceof Map}function mw(t){return t instanceof Set}function Bu(t){return t.copy_||t.base_}function BE(t,e){if(jg(t))return new Map(t);if(mw(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=U8(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ka];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[o]})}return Object.create(Xm(t),r)}else{const r=Xm(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function mO(t,e=!1){return gw(t)||wh(t)||!xd(t)||(pw(t)>1&&Object.defineProperties(t,{set:Iy,add:Iy,clear:Iy,delete:Iy}),Object.freeze(t),e&&Object.values(t).forEach(n=>mO(n,!0))),t}function ume(){$o(2)}var Iy={value:ume};function gw(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var dme={};function wd(t){const e=dme[t];return e||$o(0,t),e}var Zm;function V8(){return Zm}function fme(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function v3(t,e){e&&(wd("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function $E(t){FE(t),t.drafts_.forEach(hme),t.drafts_=null}function FE(t){t===Zm&&(Zm=t.parent_)}function y3(t){return Zm=fme(Zm,t)}function hme(t){const e=t[Ka];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function b3(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ka].modified_&&($E(e),$o(4)),xd(t)&&(t=a0(e,t),e.parent_||o0(e,t)),e.patches_&&wd("Patches").generateReplacementPatches_(n[Ka].base_,t,e.patches_,e.inversePatches_)):t=a0(e,n,[]),$E(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==F8?t:void 0}function a0(t,e,n){if(gw(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Ka];if(!i)return i0(e,(a,o)=>x3(t,i,e,a,o,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return o0(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),i0(o,(c,d)=>x3(t,i,a,c,d,n,s),r),o0(t,a,!1),n&&t.patches_&&wd("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function x3(t,e,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const s=gw(i);if(!(s&&!o)){if(wh(i)){const c=a&&e&&e.type_!==3&&!zE(e.assigned_,r)?a.concat(r):void 0,d=a0(t,i,c);if(H8(n,r,d),wh(d))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(xd(i)&&!s){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&s)return;a0(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(jg(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&o0(t,i)}}}function o0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&mO(e,n)}function pme(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:V8(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=gO;n&&(i=[r],a=Qm);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var gO={get(t,e){if(e===Ka)return t;const n=Bu(t);if(!zE(n,e))return mme(t,n,e);const r=n[e];return t.finalized_||!xd(r)?r:r===WA(t.base_,e)?(XA(t),t.copy_[e]=HE(r,t)):r},has(t,e){return e in Bu(t)},ownKeys(t){return Reflect.ownKeys(Bu(t))},set(t,e,n){const r=q8(Bu(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=WA(Bu(t),e),a=i?.[Ka];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(cme(n,i)&&(n!==void 0||zE(t.base_,e)))return!0;XA(t),UE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return WA(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,XA(t),UE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Bu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){$o(11)},getPrototypeOf(t){return Xm(t.base_)},setPrototypeOf(){$o(12)}},Qm={};i0(gO,(t,e)=>{Qm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Qm.deleteProperty=function(t,e){return Qm.set.call(this,t,e,void 0)};Qm.set=function(t,e,n){return gO.set.call(this,t[0],e,n,t[0])};function WA(t,e){const n=t[Ka];return(n?Bu(n):t)[e]}function mme(t,e,n){const r=q8(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function q8(t,e){if(!(e in t))return;let n=Xm(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Xm(n)}}function UE(t){t.modified_||(t.modified_=!0,t.parent_&&UE(t.parent_))}function XA(t){t.copy_||(t.copy_=BE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var gme=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(c=a,...d){return o.produce(c,f=>n.call(this,f,...d))}}typeof n!="function"&&$o(6),r!==void 0&&typeof r!="function"&&$o(7);let i;if(xd(e)){const a=y3(this),o=HE(e,void 0);let s=!0;try{i=n(o),s=!1}finally{s?$E(a):FE(a)}return v3(a,r),b3(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===F8&&(i=void 0),this.autoFreeze_&&mO(i,!0),r){const a=[],o=[];wd("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else $o(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...s)=>this.produceWithPatches(o,c=>e(c,...s));let r,i;return[this.produce(e,n,(o,s)=>{r=o,i=s}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){xd(t)||$o(8),wh(t)&&(t=vme(t));const e=y3(this),n=HE(t,void 0);return n[Ka].isManual_=!0,FE(e),n}finishDraft(t,e){const n=t&&t[Ka];(!n||!n.isManual_)&&$o(9);const{scope_:r}=n;return v3(r,e),b3(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=wd("Patches").applyPatches_;return wh(t)?r(t,e):this.produce(t,i=>r(i,e))}};function HE(t,e){const n=jg(t)?wd("MapSet").proxyMap_(t,e):mw(t)?wd("MapSet").proxySet_(t,e):pme(t,e);return(e?e.scope_:V8()).drafts_.push(n),n}function vme(t){return wh(t)||$o(10,t),G8(t)}function G8(t){if(!xd(t)||gw(t))return t;const e=t[Ka];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=BE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=BE(t,!0);return i0(n,(i,a)=>{H8(n,i,G8(a))},r),e&&(e.finalized_=!1),n}var yme=new gme;yme.produce;var bme={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Y8=Pa({name:"legend",initialState:bme,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:or()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Go(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:or()},removeLegendPayload:{reducer(t,e){var n=Go(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:or()}}}),{setLegendSize:w3,setLegendSettings:xme,addLegendPayload:wme,replaceLegendPayload:Sme,removeLegendPayload:Cme}=Y8.actions,Ame=Y8.reducer,_me=["contextPayload"];function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VE.apply(null,arguments)}function S3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S3(Object(n),!0).forEach(function(r){Eme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eme(t,e,n){return(e=Tme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tme(t){var e=kme(t,"string");return typeof e=="symbol"?e:e+""}function kme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pme(t,e){if(t==null)return{};var n,r,i=Ome(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ome(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mme(t){return t.value}function Dme(t){var{contextPayload:e}=t,n=Pme(t,_me),r=YU(e,t.payloadUniqBy,Mme),i=Sh(Sh({},n),{},{payload:r});return w.isValidElement(t.content)?w.cloneElement(t.content,i):typeof t.content=="function"?w.createElement(t.content,i):w.createElement(xfe,i)}function jme(t,e,n,r,i,a){var{layout:o,align:s,verticalAlign:c}=e,d,f;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(s==="center"&&o==="vertical"?d={left:((r||0)-a.width)/2}:d=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?f={top:((i||0)-a.height)/2}:f=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Sh(Sh({},d),f)}function Rme(t){var e=Sr();return w.useEffect(()=>{e(xme(t))},[e,t]),null}function Lme(t){var e=Sr();return w.useEffect(()=>(e(w3(t)),()=>{e(w3({width:0,height:0}))}),[e,t]),null}function Nme(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var Ime={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function vO(t){var e=pi(t,Ime),n=mhe(),r=fde(),i=ome(),{width:a,height:o,wrapperStyle:s,portal:c}=e,[d,f]=QU([n]),h=hO(),m=pO();if(h==null||m==null)return null;var v=h-(i?.left||0)-(i?.right||0),b=Nme(e.layout,o,a,v),x=c?s:Sh(Sh({position:"absolute",width:b?.width||a||"auto",height:b?.height||o||"auto"},jme(s,e,i,h,m,d)),s),S=c??r;if(S==null||n==null)return null;var C=w.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:f},w.createElement(Rme,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!c&&w.createElement(Lme,{width:d.width,height:d.height}),w.createElement(Dme,VE({},e,b,{margin:i,chartWidth:h,chartHeight:m,contextPayload:n})));return Td.createPortal(C,S)}vO.displayName="Legend";function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qE.apply(null,arguments)}function C3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C3(Object(n),!0).forEach(function(r){zme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zme(t,e,n){return(e=Bme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bme(t){var e=$me(t,"string");return typeof e=="symbol"?e:e+""}function $me(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fme(t){return Array.isArray(t)&&Gi(t[0])&&Gi(t[1])?t.join(" ~ "):t}var Nf={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Ume=t=>{var{separator:e=Nf.separator,contentStyle:n,itemStyle:r,labelStyle:i=Nf.labelStyle,payload:a,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:h,accessibilityLayer:m=Nf.accessibilityLayer}=t,v=()=>{if(a&&a.length){var M={padding:0,margin:0},D=(s?ew(a,s):a).map((j,I)=>{if(j.type==="none")return null;var B=j.formatter||o||Fme,{value:G,name:V}=j,K=G,te=V;if(B){var X=B(G,V,j,I,a);if(Array.isArray(X))[K,te]=X;else if(X!=null)K=X;else return null}var J=sm(sm({},Nf.itemStyle),{},{color:j.color||Nf.itemStyle.color},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:J},Gi(te)?w.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Gi(te)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},K),w.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},b=sm(sm({},Nf.contentStyle),n),x=sm({margin:0},i),S=!Li(f),C=S?f:"",T=Ot("recharts-default-tooltip",c),E=Ot("recharts-tooltip-label",d);S&&h&&a!==void 0&&a!==null&&(C=h(f,a));var k=m?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",qE({className:T,style:b},k),w.createElement("p",{className:E,style:x},w.isValidElement(C)?C:"".concat(C)),v())},lm="recharts-tooltip-wrapper",Hme={visibility:"hidden"};function Vme(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ot(lm,{["".concat(lm,"-right")]:Et(n)&&e&&Et(e.x)&&n>=e.x,["".concat(lm,"-left")]:Et(n)&&e&&Et(e.x)&&n<e.x,["".concat(lm,"-bottom")]:Et(r)&&e&&Et(e.y)&&r>=e.y,["".concat(lm,"-top")]:Et(r)&&e&&Et(e.y)&&r<e.y})}function A3(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:d}=t;if(a&&Et(a[r]))return a[r];var f=n[r]-s-(i>0?i:0),h=n[r]+i;if(e[r])return o[r]?f:h;var m=c[r];if(m==null)return 0;if(o[r]){var v=f,b=m;return v<b?Math.max(h,m):Math.max(f,m)}if(d==null)return 0;var x=h+s,S=m+d;return x>S?Math.max(f,m):Math.max(h,m)}function qme(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Gme(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:o,tooltipBox:s,useTranslate3d:c,viewBox:d}=t,f,h,m;return s.height>0&&s.width>0&&n?(h=A3({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:a,reverseDirection:o,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),m=A3({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:a,reverseDirection:o,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),f=qme({translateX:h,translateY:m,useTranslate3d:c})):f=Hme,{cssProperties:f,cssClasses:Vme({translateX:h,translateY:m,coordinate:n})}}function _3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(n),!0).forEach(function(r){GE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GE(t,e,n){return(e=Yme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yme(t){var e=Kme(t,"string");return typeof e=="symbol"?e:e+""}function Kme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Wme extends w.PureComponent{constructor(){super(...arguments),GE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),GE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:c,offset:d,position:f,reverseDirection:h,useTranslate3d:m,viewBox:v,wrapperStyle:b,lastBoundingBox:x,innerRef:S,hasPortalFromProps:C}=this.props,T=typeof d=="number"?d:d.x,E=typeof d=="number"?d:d.y,{cssClasses:k,cssProperties:M}=Gme({allowEscapeViewBox:n,coordinate:o,offsetLeft:T,offsetTop:E,position:f,reverseDirection:h,tooltipBox:{height:x.height,width:x.width},useTranslate3d:m,viewBox:v}),D=C?{}:zy(zy({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),j=zy(zy({},D),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},b);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:j,ref:S},a)}}var K8=()=>{var t;return(t=At(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YE.apply(null,arguments)}function E3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E3(Object(n),!0).forEach(function(r){Xme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xme(t,e,n){return(e=Zme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zme(t){var e=Qme(t,"string");return typeof e=="symbol"?e:e+""}function Qme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k3={curveBasisClosed:Mde,curveBasisOpen:Dde,curveBasis:Ode,curveBumpX:gde,curveBumpY:vde,curveLinearClosed:jde,curveLinear:Zx,curveMonotoneX:Rde,curveMonotoneY:Lde,curveNatural:Nde,curveStep:Ide,curveStepAfter:Bde,curveStepBefore:zde},s0=t=>Qt(t.x)&&Qt(t.y),P3=t=>t.base!=null&&s0(t.base)&&s0(t),cm=t=>t.x,um=t=>t.y,Jme=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Tg(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=k3["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return k3[n]||Zx},O3={connectNulls:!1,type:"linear"},ege=t=>{var{type:e=O3.type,points:n=[],baseLine:r,layout:i,connectNulls:a=O3.connectNulls}=t,o=Jme(e,i),s=a?n.filter(s0):n;if(Array.isArray(r)){var c,d=n.map((b,x)=>T3(T3({},b),{},{base:r[x]}));i==="vertical"?c=Oy().y(um).x1(cm).x0(b=>b.base.x):c=Oy().x(cm).y1(um).y0(b=>b.base.y);var f=c.defined(P3).curve(o),h=a?d.filter(P3):d;return f(h)}var m;i==="vertical"&&Et(r)?m=Oy().y(um).x1(cm).x0(r):Et(r)?m=Oy().x(cm).y1(um).y0(r):m=SU().x(cm).y(um);var v=m.defined(s0).curve(o);return v(s)},W8=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=$h();if((!n||!n.length)&&!r)return null;var o={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},s=n&&n.length?ege(o):r;return w.createElement("path",YE({},js(t),tO(t),{className:Ot("recharts-curve",e),d:s===null?void 0:s,ref:i}))},tge=["x","y","top","left","width","height","className"];function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(null,arguments)}function M3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(n),!0).forEach(function(r){rge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rge(t,e,n){return(e=ige(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ige(t){var e=age(t,"string");return typeof e=="symbol"?e:e+""}function age(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oge(t,e){if(t==null)return{};var n,r,i=sge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lge=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),cge=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:s}=t,c=oge(t,tge),d=nge({x:e,y:n,top:r,left:i,width:a,height:o},c);return!Et(e)||!Et(n)||!Et(a)||!Et(o)||!Et(r)||!Et(i)?null:w.createElement("path",KE({},Ri(d),{className:Ot("recharts-cross",s),d:lge(e,n,a,o,r,i)}))};function uge(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function D3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(n),!0).forEach(function(r){dge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dge(t,e,n){return(e=fge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fge(t){var e=hge(t,"string");return typeof e=="symbol"?e:e+""}function hge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pge=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),X8=(t,e,n)=>t.map(r=>"".concat(pge(r)," ").concat(e,"ms ").concat(n)).join(","),mge=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Jm=(t,e)=>Object.keys(e).reduce((n,r)=>j3(j3({},n),{},{[r]:t(r,e[r])}),{});function R3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(n),!0).forEach(function(r){gge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gge(t,e,n){return(e=vge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vge(t){var e=yge(t,"string");return typeof e=="symbol"?e:e+""}function yge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l0=(t,e,n)=>t+(e-t)*n,WE=t=>{var{from:e,to:n}=t;return e!==n},Z8=(t,e,n)=>{var r=Jm((i,a)=>{if(WE(a)){var[o,s]=t(a.from,a.to,a.velocity);return Kr(Kr({},a),{},{from:o,velocity:s})}return a},e);return n<1?Jm((i,a)=>WE(a)&&r[i]!=null?Kr(Kr({},a),{},{velocity:l0(a.velocity,r[i].velocity,n),from:l0(a.from,r[i].from,n)}):a,e):Z8(t,r,n-1)};function bge(t,e,n,r,i,a){var o,s=r.reduce((m,v)=>Kr(Kr({},m),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),c=()=>Jm((m,v)=>v.from,s),d=()=>!Object.values(s).filter(WE).length,f=null,h=m=>{o||(o=m);var v=m-o,b=v/n.dt;s=Z8(n,s,b),i(Kr(Kr(Kr({},t),e),c())),o=m,d()||(f=a.setTimeout(h))};return()=>(f=a.setTimeout(h),()=>{var m;(m=f)===null||m===void 0||m()})}function xge(t,e,n,r,i,a,o){var s=null,c=i.reduce((h,m)=>{var v=t[m],b=e[m];return v==null||b==null?h:Kr(Kr({},h),{},{[m]:[v,b]})},{}),d,f=h=>{d||(d=h);var m=(h-d)/r,v=Jm((x,S)=>l0(...S,n(m)),c);if(a(Kr(Kr(Kr({},t),e),v)),m<1)s=o.setTimeout(f);else{var b=Jm((x,S)=>l0(...S,n(1)),c);a(Kr(Kr(Kr({},t),e),b))}};return()=>(s=o.setTimeout(f),()=>{var h;(h=s)===null||h===void 0||h()})}const wge=(t,e,n,r,i,a)=>{var o=mge(t,e);return n==null?()=>(i(Kr(Kr({},t),e)),()=>{}):n.isStepper===!0?bge(t,e,n,o,i,a):xge(t,e,n,r,o,i,a)};var c0=1e-4,Q8=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],J8=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),L3=(t,e)=>n=>{var r=Q8(t,e);return J8(r,n)},Sge=(t,e)=>n=>{var r=Q8(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return J8(i,n)},Cge=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},Age=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Cge(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},_ge=(t,e,n,r)=>{var i=L3(t,n),a=L3(e,r),o=Sge(t,n),s=d=>d>1?1:d<0?0:d,c=d=>{for(var f=d>1?1:d,h=f,m=0;m<8;++m){var v=i(h)-f,b=o(h);if(Math.abs(v-f)<c0||b<c0)return a(h);h=s(h-v/b)}return a(h)};return c.isStepper=!1,c},N3=function(){return _ge(...Age(...arguments))},Ege=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,s,c)=>{var d=-(o-s)*n,f=c*r,h=c+(d-f)*i/1e3,m=c*i/1e3+o;return Math.abs(m-s)<c0&&Math.abs(h)<c0?[s,0]:[m,h]};return a.isStepper=!0,a.dt=i,a},Tge=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return N3(t);case"spring":return Ege();default:if(t.split("(")[0]==="cubic-bezier")return N3(t)}return typeof t=="function"?t:null};function kge(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[c,...d]=s;if(typeof c=="number"){i=t.setTimeout(a.bind(null,d),c);return}a(c),i=t.setTimeout(a.bind(null,d));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class Pge{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Oge(){return kge(new Pge)}var Mge=w.createContext(Oge);function Dge(t,e){var n=w.useContext(Mge);return w.useMemo(()=>e??n(t),[t,e,n])}var jge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),vw={isSsr:jge()},Rge={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},I3={t:0},ZA={t:1};function yO(t){var e=pi(t,Rge),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:c,children:d}=e,f=n==="auto"?!vw.isSsr:n,h=Dge(e.animationId,e.animationManager),[m,v]=w.useState(f?I3:ZA),b=w.useRef(null);return w.useEffect(()=>{f||v(ZA)},[f]),w.useEffect(()=>{if(!f||!r)return Bh;var x=wge(I3,ZA,Tge(a),i,v,h.getTimeoutController()),S=()=>{b.current=x()};return h.start([c,o,S,i,s]),()=>{h.stop(),b.current&&b.current(),s()}},[f,r,i,a,o,c,s,h]),d(m.t)}function bO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Gm(e)),r=w.useRef(t);return r.current!==t&&(n.current=Gm(e),r.current=t),n.current}var Lge=["radius"],Nge=["radius"],z3,B3,$3,F3,U3,H3,V3,q3,G3,Y3;function K3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K3(Object(n),!0).forEach(function(r){Ige(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ige(t,e,n){return(e=zge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zge(t){var e=Bge(t,"string");return typeof e=="symbol"?e:e+""}function Bge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u0.apply(null,arguments)}function X3(t,e){if(t==null)return{};var n,r,i=$ge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $ge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ps(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Z3=(t,e,n,r,i)=>{var a=Hc(n),o=Hc(r),s=Math.min(Math.abs(a)/2,Math.abs(o)/2),c=o>=0?1:-1,d=a>=0?1:-1,f=o>=0&&a>=0||o<0&&a<0?1:0,h;if(s>0&&Array.isArray(i)){for(var m=[0,0,0,0],v=0,b=4;v<b;v++){var x,S=(x=i[v])!==null&&x!==void 0?x:0;m[v]=S>s?s:S}h=xr(z3||(z3=ps(["M",",",""])),t,e+c*m[0]),m[0]>0&&(h+=xr(B3||(B3=ps(["A ",",",",0,0,",",",",",""])),m[0],m[0],f,t+d*m[0],e)),h+=xr($3||($3=ps(["L ",",",""])),t+n-d*m[1],e),m[1]>0&&(h+=xr(F3||(F3=ps(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],f,t+n,e+c*m[1])),h+=xr(U3||(U3=ps(["L ",",",""])),t+n,e+r-c*m[2]),m[2]>0&&(h+=xr(H3||(H3=ps(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],f,t+n-d*m[2],e+r)),h+=xr(V3||(V3=ps(["L ",",",""])),t+d*m[3],e+r),m[3]>0&&(h+=xr(q3||(q3=ps(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],f,t,e+r-c*m[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var C=Math.min(s,i);h=xr(G3||(G3=ps(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*C,C,C,f,t+d*C,e,t+n-d*C,e,C,C,f,t+n,e+c*C,t+n,e+r-c*C,C,C,f,t+n-d*C,e+r,t+d*C,e+r,C,C,f,t,e+r-c*C)}else h=xr(Y3||(Y3=ps(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return h},Q3={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xO=t=>{var e=pi(t,Q3),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var U=n.current.getTotalLength();U&&i(U)}catch{}},[]);var{x:a,y:o,width:s,height:c,radius:d,className:f}=e,{animationEasing:h,animationDuration:m,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:x}=e,S=w.useRef(s),C=w.useRef(c),T=w.useRef(a),E=w.useRef(o),k=w.useMemo(()=>({x:a,y:o,width:s,height:c,radius:d}),[a,o,s,c,d]),M=bO(k,"rectangle-");if(a!==+a||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var D=Ot("recharts-rectangle",f);if(!x){var j=Ri(e),{radius:I}=j,B=X3(j,Lge);return w.createElement("path",u0({},B,{x:Hc(a),y:Hc(o),width:Hc(s),height:Hc(c),radius:typeof d=="number"?d:void 0,className:D,d:Z3(a,o,s,c,d)}))}var G=S.current,V=C.current,K=T.current,te=E.current,X="0px ".concat(r===-1?1:r,"px"),J="".concat(r,"px 0px"),L=X8(["strokeDasharray"],m,typeof h=="string"?h:Q3.animationEasing);return w.createElement(yO,{animationId:M,key:M,canBegin:r>0,duration:m,easing:h,isActive:x,begin:v},U=>{var F=Aa(G,s,U),q=Aa(V,c,U),W=Aa(K,a,U),z=Aa(te,o,U);n.current&&(S.current=F,C.current=q,T.current=W,E.current=z);var Y;b?U>0?Y={transition:L,strokeDasharray:J}:Y={strokeDasharray:X}:Y={strokeDasharray:J};var ne=Ri(e),{radius:ie}=ne,ue=X3(ne,Nge);return w.createElement("path",u0({},ue,{radius:typeof d=="number"?d:void 0,className:D,d:Z3(W,z,F,q,d),ref:n,style:W3(W3({},Y),e.style)}))})};function J3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ez(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(n),!0).forEach(function(r){Fge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fge(t,e,n){return(e=Uge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uge(t){var e=Hge(t,"string");return typeof e=="symbol"?e:e+""}function Hge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d0=Math.PI/180,Vge=t=>t*180/Math.PI,Pi=(t,e,n,r)=>({x:t+Math.cos(-d0*r)*n,y:e+Math.sin(-d0*r)*n}),qge=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Gge=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Yge=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=Gge({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,c=Math.acos(s);return r>a&&(c=2*Math.PI-c),{radius:o,angle:Vge(c),angleInRadian:c}},Kge=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Wge=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},Xge=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=Yge({x:n,y:r},e),{innerRadius:o,outerRadius:s}=e;if(i<o||i>s||i===0)return null;var{startAngle:c,endAngle:d}=Kge(e),f=a,h;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;h=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;h=f>=d&&f<=c}return h?ez(ez({},e),{},{radius:i,angle:Wge(f,e)}):null};function eH(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=Pi(e,n,r,i),s=Pi(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var tz,nz,rz,iz,az,oz,sz;function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(null,arguments)}function Wu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Zge=(t,e)=>{var n=wo(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},By=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:c}=t,d=s*(o?1:-1)+r,f=Math.asin(s/d)/d0,h=c?i:i+a*f,m=Pi(e,n,d,h),v=Pi(e,n,r,h),b=c?i-a*f:i,x=Pi(e,n,d*Math.cos(f*d0),b);return{center:m,circleTangency:v,lineTangency:x,theta:f}},tH=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,s=Zge(a,o),c=a+s,d=Pi(e,n,i,a),f=Pi(e,n,i,c),h=xr(tz||(tz=Wu(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(s)>180),+(a>c),f.x,f.y);if(r>0){var m=Pi(e,n,r,a),v=Pi(e,n,r,c);h+=xr(nz||(nz=Wu(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,r,r,+(Math.abs(s)>180),+(a<=c),m.x,m.y)}else h+=xr(rz||(rz=Wu(["L ",","," Z"])),e,n);return h},Qge=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:d}=t,f=wo(d-c),{circleTangency:h,lineTangency:m,theta:v}=By({cx:e,cy:n,radius:i,angle:c,sign:f,cornerRadius:a,cornerIsExternal:s}),{circleTangency:b,lineTangency:x,theta:S}=By({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:s}),C=s?Math.abs(c-d):Math.abs(c-d)-v-S;if(C<0)return o?xr(iz||(iz=Wu(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,a,a,a*2,a,a,-a*2):tH({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var T=xr(az||(az=Wu(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,a,a,+(f<0),h.x,h.y,i,i,+(C>180),+(f<0),b.x,b.y,a,a,+(f<0),x.x,x.y);if(r>0){var{circleTangency:E,lineTangency:k,theta:M}=By({cx:e,cy:n,radius:r,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:D,lineTangency:j,theta:I}=By({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),B=s?Math.abs(c-d):Math.abs(c-d)-M-I;if(B<0&&a===0)return"".concat(T,"L").concat(e,",").concat(n,"Z");T+=xr(oz||(oz=Wu(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,a,a,+(f<0),D.x,D.y,r,r,+(B>180),+(f>0),E.x,E.y,a,a,+(f<0),k.x,k.y)}else T+=xr(sz||(sz=Wu(["L",",","Z"])),e,n);return T},Jge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nH=t=>{var e=pi(t,Jge),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:d,endAngle:f,className:h}=e;if(a<i||d===f)return null;var m=Ot("recharts-sector",h),v=a-i,b=Wc(o,v,0,!0),x;return b>0&&Math.abs(d-f)<360?x=Qge({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,v/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:d,endAngle:f}):x=tH({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:f}),w.createElement("path",XE({},Ri(e),{className:m,d:x}))};function eve(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(IU(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:s}=e,c=Pi(r,i,a,s),d=Pi(r,i,o,s);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return eH(e)}}var QA={},JA={},e_={},lz;function tve(){return lz||(lz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WU();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(e_)),e_}var cz;function nve(){return cz||(cz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tve();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(JA)),JA}var uz;function rve(){return uz||(uz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XU(),n=nve();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(s);for(let d=0;d<s;d++)c[d]=i,i+=o;return c}t.range=r})(QA)),QA}var t_,dz;function ive(){return dz||(dz=1,t_=rve().range),t_}var ave=ive();const rH=ua(ave);function Vc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ove(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wO(t){let e,n,r;t.length!==2?(e=Vc,n=(s,c)=>Vc(t(s),c),r=(s,c)=>t(s)-c):(e=t===Vc||t===ove?t:sve,n=t,r=t);function i(s,c,d=0,f=s.length){if(d<f){if(e(c,c)!==0)return f;do{const h=d+f>>>1;n(s[h],c)<0?d=h+1:f=h}while(d<f)}return d}function a(s,c,d=0,f=s.length){if(d<f){if(e(c,c)!==0)return f;do{const h=d+f>>>1;n(s[h],c)<=0?d=h+1:f=h}while(d<f)}return d}function o(s,c,d=0,f=s.length){const h=i(s,c,d,f-1);return h>d&&r(s[h-1],c)>-r(s[h],c)?h-1:h}return{left:i,center:o,right:a}}function sve(){return 0}function iH(t){return t===null?NaN:+t}function*lve(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const cve=wO(Vc),Rg=cve.right;wO(iH).center;class fz extends Map{constructor(e,n=fve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(hz(this,e))}has(e){return super.has(hz(this,e))}set(e,n){return super.set(uve(this,e),n)}delete(e){return super.delete(dve(this,e))}}function hz({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function uve({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function dve({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function fve(t){return t!==null&&typeof t=="object"?t.valueOf():t}function hve(t=Vc){if(t===Vc)return aH;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function aH(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const pve=Math.sqrt(50),mve=Math.sqrt(10),gve=Math.sqrt(2);function f0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=pve?10:a>=mve?5:a>=gve?2:1;let s,c,d;return i<0?(d=Math.pow(10,-i)/o,s=Math.round(t*d),c=Math.round(e*d),s/d<t&&++s,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*o,s=Math.round(t/d),c=Math.round(e/d),s*d<t&&++s,c*d>e&&--c),c<s&&.5<=n&&n<2?f0(t,e,n*2):[s,c,d]}function ZE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?f0(e,t,n):f0(t,e,n);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(r)if(o<0)for(let d=0;d<s;++d)c[d]=(a-d)/-o;else for(let d=0;d<s;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<s;++d)c[d]=(i+d)/-o;else for(let d=0;d<s;++d)c[d]=(i+d)*o;return c}function QE(t,e,n){return e=+e,t=+t,n=+n,f0(t,e,n)[2]}function JE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?QE(e,t,n):QE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function pz(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function mz(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function oH(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?aH:hve(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,f=Math.log(c),h=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*h*(c-h)/c)*(d-c/2<0?-1:1),v=Math.max(n,Math.floor(e-d*h/c+m)),b=Math.min(r,Math.floor(e+(c-d)*h/c+m));oH(t,e,v,b,i)}const a=t[e];let o=n,s=r;for(dm(t,n,e),i(t[r],a)>0&&dm(t,n,r);o<s;){for(dm(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?dm(t,n,s):(++s,dm(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function dm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function vve(t,e,n){if(t=Float64Array.from(lve(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return mz(t);if(e>=1)return pz(t);var r,i=(r-1)*e,a=Math.floor(i),o=pz(oH(t,a).subarray(0,a+1)),s=mz(t.subarray(a+1));return o+(s-o)*(i-a)}}function yve(t,e,n=iH){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function bve(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Oo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const eT=Symbol("implicit");function SO(){var t=new fz,e=[],n=[],r=eT;function i(a){let o=t.get(a);if(o===void 0){if(r!==eT)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new fz;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return SO(e,n).unknown(r)},Oo.apply(i,arguments),i}function CO(){var t=SO().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,c=0,d=0,f=.5;delete t.unknown;function h(){var m=e().length,v=i<r,b=v?i:r,x=v?r:i;a=(x-b)/Math.max(1,m-c+d*2),s&&(a=Math.floor(a)),b+=(x-b-a*(m-c))*f,o=a*(1-c),s&&(b=Math.round(b),o=Math.round(o));var S=bve(m).map(function(C){return b+a*C});return n(v?S.reverse():S)}return t.domain=function(m){return arguments.length?(e(m),h()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(m){return arguments.length?(s=!!m,h()):s},t.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},t.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},t.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),h()):f},t.copy=function(){return CO(e(),[r,i]).round(s).paddingInner(c).paddingOuter(d).align(f)},Oo.apply(h(),arguments)}function sH(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return sH(e())},t}function xve(){return sH(CO.apply(null,arguments).paddingInner(1))}function AO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function lH(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Lg(){}var eg=.7,h0=1/eg,oh="\\s*([+-]?\\d+)\\s*",tg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ks="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wve=/^#([0-9a-f]{3,8})$/,Sve=new RegExp(`^rgb\\(${oh},${oh},${oh}\\)$`),Cve=new RegExp(`^rgb\\(${ks},${ks},${ks}\\)$`),Ave=new RegExp(`^rgba\\(${oh},${oh},${oh},${tg}\\)$`),_ve=new RegExp(`^rgba\\(${ks},${ks},${ks},${tg}\\)$`),Eve=new RegExp(`^hsl\\(${tg},${ks},${ks}\\)$`),Tve=new RegExp(`^hsla\\(${tg},${ks},${ks},${tg}\\)$`),gz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AO(Lg,ng,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vz,formatHex:vz,formatHex8:kve,formatHsl:Pve,formatRgb:yz,toString:yz});function vz(){return this.rgb().formatHex()}function kve(){return this.rgb().formatHex8()}function Pve(){return cH(this).formatHsl()}function yz(){return this.rgb().formatRgb()}function ng(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wve.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?bz(e):n===3?new Ea(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?$y(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?$y(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Sve.exec(t))?new Ea(e[1],e[2],e[3],1):(e=Cve.exec(t))?new Ea(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ave.exec(t))?$y(e[1],e[2],e[3],e[4]):(e=_ve.exec(t))?$y(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Eve.exec(t))?Sz(e[1],e[2]/100,e[3]/100,1):(e=Tve.exec(t))?Sz(e[1],e[2]/100,e[3]/100,e[4]):gz.hasOwnProperty(t)?bz(gz[t]):t==="transparent"?new Ea(NaN,NaN,NaN,0):null}function bz(t){return new Ea(t>>16&255,t>>8&255,t&255,1)}function $y(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ea(t,e,n,r)}function Ove(t){return t instanceof Lg||(t=ng(t)),t?(t=t.rgb(),new Ea(t.r,t.g,t.b,t.opacity)):new Ea}function tT(t,e,n,r){return arguments.length===1?Ove(t):new Ea(t,e,n,r??1)}function Ea(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}AO(Ea,tT,lH(Lg,{brighter(t){return t=t==null?h0:Math.pow(h0,t),new Ea(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?eg:Math.pow(eg,t),new Ea(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ea(ad(this.r),ad(this.g),ad(this.b),p0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xz,formatHex:xz,formatHex8:Mve,formatRgb:wz,toString:wz}));function xz(){return`#${Xu(this.r)}${Xu(this.g)}${Xu(this.b)}`}function Mve(){return`#${Xu(this.r)}${Xu(this.g)}${Xu(this.b)}${Xu((isNaN(this.opacity)?1:this.opacity)*255)}`}function wz(){const t=p0(this.opacity);return`${t===1?"rgb(":"rgba("}${ad(this.r)}, ${ad(this.g)}, ${ad(this.b)}${t===1?")":`, ${t})`}`}function p0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ad(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xu(t){return t=ad(t),(t<16?"0":"")+t.toString(16)}function Sz(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Fo(t,e,n,r)}function cH(t){if(t instanceof Fo)return new Fo(t.h,t.s,t.l,t.opacity);if(t instanceof Lg||(t=ng(t)),!t)return new Fo;if(t instanceof Fo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new Fo(o,s,c,t.opacity)}function Dve(t,e,n,r){return arguments.length===1?cH(t):new Fo(t,e,n,r??1)}function Fo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}AO(Fo,Dve,lH(Lg,{brighter(t){return t=t==null?h0:Math.pow(h0,t),new Fo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?eg:Math.pow(eg,t),new Fo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ea(n_(t>=240?t-240:t+120,i,r),n_(t,i,r),n_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Fo(Cz(this.h),Fy(this.s),Fy(this.l),p0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=p0(this.opacity);return`${t===1?"hsl(":"hsla("}${Cz(this.h)}, ${Fy(this.s)*100}%, ${Fy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Cz(t){return t=(t||0)%360,t<0?t+360:t}function Fy(t){return Math.max(0,Math.min(1,t||0))}function n_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _O=t=>()=>t;function jve(t,e){return function(n){return t+n*e}}function Rve(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Lve(t){return(t=+t)==1?uH:function(e,n){return n-e?Rve(e,n,t):_O(isNaN(e)?n:e)}}function uH(t,e){var n=e-t;return n?jve(t,n):_O(isNaN(t)?e:t)}const Az=(function t(e){var n=Lve(e);function r(i,a){var o=n((i=tT(i)).r,(a=tT(a)).r),s=n(i.g,a.g),c=n(i.b,a.b),d=uH(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function Nve(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Ive(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zve(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Fh(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Bve(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function m0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function $ve(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Fh(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var nT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r_=new RegExp(nT.source,"g");function Fve(t){return function(){return t}}function Uve(t){return function(e){return t(e)+""}}function Hve(t,e){var n=nT.lastIndex=r_.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(t=t+"",e=e+"";(r=nT.exec(t))&&(i=r_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:m0(r,i)})),n=r_.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?Uve(c[0].x):Fve(e):(e=c.length,function(d){for(var f=0,h;f<e;++f)s[(h=c[f]).i]=h.x(d);return s.join("")})}function Fh(t,e){var n=typeof e,r;return e==null||n==="boolean"?_O(e):(n==="number"?m0:n==="string"?(r=ng(e))?(e=r,Az):Hve:e instanceof ng?Az:e instanceof Date?Bve:Ive(e)?Nve:Array.isArray(e)?zve:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$ve:m0)(t,e)}function EO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Vve(t,e){e===void 0&&(e=t,t=Fh);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function qve(t){return function(){return t}}function g0(t){return+t}var _z=[0,1];function aa(t){return t}function rT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:qve(isNaN(e)?NaN:.5)}function Gve(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Yve(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=rT(i,r),a=n(o,a)):(r=rT(r,i),a=n(a,o)),function(s){return a(r(s))}}function Kve(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=rT(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var c=Rg(t,s,1,r)-1;return a[c](i[c](s))}}function Ng(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function yw(){var t=_z,e=_z,n=Fh,r,i,a,o=aa,s,c,d;function f(){var m=Math.min(t.length,e.length);return o!==aa&&(o=Gve(t[0],t[m-1])),s=m>2?Kve:Yve,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?a:(c||(c=s(t.map(r),e,n)))(r(o(m)))}return h.invert=function(m){return o(i((d||(d=s(e,t.map(r),m0)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,g0),f()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),n=EO,f()},h.clamp=function(m){return arguments.length?(o=m?!0:aa,f()):o!==aa},h.interpolate=function(m){return arguments.length?(n=m,f()):n},h.unknown=function(m){return arguments.length?(a=m,h):a},function(m,v){return r=m,i=v,f()}}function TO(){return yw()(aa,aa)}function Wve(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function v0(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ch(t){return t=v0(Math.abs(t)),t?t[1]:NaN}function Xve(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Zve(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Qve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rg(t){if(!(e=Qve.exec(t)))throw new Error("invalid format: "+t);var e;return new kO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}rg.prototype=kO.prototype;function kO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}kO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jve(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var y0;function eye(t,e){var n=v0(t,e);if(!n)return y0=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(y0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+v0(t,Math.max(0,e+a-1))[0]}function Ez(t,e){var n=v0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Tz={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Wve,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ez(t*100,e),r:Ez,s:eye,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function kz(t){return t}var Pz=Array.prototype.map,Oz=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tye(t){var e=t.grouping===void 0||t.thousands===void 0?kz:Xve(Pz.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?kz:Zve(Pz.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h,m){h=rg(h);var v=h.fill,b=h.align,x=h.sign,S=h.symbol,C=h.zero,T=h.width,E=h.comma,k=h.precision,M=h.trim,D=h.type;D==="n"?(E=!0,D="g"):Tz[D]||(k===void 0&&(k=12),M=!0,D="g"),(C||v==="0"&&b==="=")&&(C=!0,v="0",b="=");var j=(m&&m.prefix!==void 0?m.prefix:"")+(S==="$"?n:S==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():""),I=(S==="$"?r:/[%p]/.test(D)?o:"")+(m&&m.suffix!==void 0?m.suffix:""),B=Tz[D],G=/[defgprs%]/.test(D);k=k===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function V(K){var te=j,X=I,J,L,U;if(D==="c")X=B(K)+X,K="";else{K=+K;var F=K<0||1/K<0;if(K=isNaN(K)?c:B(Math.abs(K),k),M&&(K=Jve(K)),F&&+K==0&&x!=="+"&&(F=!1),te=(F?x==="("?x:s:x==="-"||x==="("?"":x)+te,X=(D==="s"&&!isNaN(K)&&y0!==void 0?Oz[8+y0/3]:"")+X+(F&&x==="("?")":""),G){for(J=-1,L=K.length;++J<L;)if(U=K.charCodeAt(J),48>U||U>57){X=(U===46?i+K.slice(J+1):K.slice(J))+X,K=K.slice(0,J);break}}}E&&!C&&(K=e(K,1/0));var q=te.length+K.length+X.length,W=q<T?new Array(T-q+1).join(v):"";switch(E&&C&&(K=e(W+K,W.length?T-X.length:1/0),W=""),b){case"<":K=te+K+X+W;break;case"=":K=te+W+K+X;break;case"^":K=W.slice(0,q=W.length>>1)+te+K+X+W.slice(q);break;default:K=W+te+K+X;break}return a(K)}return V.toString=function(){return h+""},V}function f(h,m){var v=Math.max(-8,Math.min(8,Math.floor(Ch(m)/3)))*3,b=Math.pow(10,-v),x=d((h=rg(h),h.type="f",h),{suffix:Oz[8+v/3]});return function(S){return x(b*S)}}return{format:d,formatPrefix:f}}var Uy,PO,dH;nye({thousands:",",grouping:[3],currency:["$",""]});function nye(t){return Uy=tye(t),PO=Uy.format,dH=Uy.formatPrefix,Uy}function rye(t){return Math.max(0,-Ch(Math.abs(t)))}function iye(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ch(e)/3)))*3-Ch(Math.abs(t)))}function aye(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ch(e)-Ch(t))+1}function fH(t,e,n,r){var i=JE(t,e,n),a;switch(r=rg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=iye(i,o))&&(r.precision=a),dH(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=aye(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=rye(i))&&(r.precision=a-(r.type==="%")*2);break}}return PO(r)}function iu(t){var e=t.domain;return t.ticks=function(n){var r=e();return ZE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return fH(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],c,d,f=10;for(s<o&&(d=o,o=s,s=d,d=i,i=a,a=d);f-- >0;){if(d=QE(o,s,n),d===c)return r[i]=o,r[a]=s,e(r);if(d>0)o=Math.floor(o/d)*d,s=Math.ceil(s/d)*d;else if(d<0)o=Math.ceil(o*d)/d,s=Math.floor(s*d)/d;else break;c=d}return t},t}function hH(){var t=TO();return t.copy=function(){return Ng(t,hH())},Oo.apply(t,arguments),iu(t)}function pH(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,g0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return pH(t).unknown(e)},t=arguments.length?Array.from(t,g0):[0,1],iu(n)}function mH(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Mz(t){return Math.log(t)}function Dz(t){return Math.exp(t)}function oye(t){return-Math.log(-t)}function sye(t){return-Math.exp(-t)}function lye(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cye(t){return t===10?lye:t===Math.E?Math.exp:e=>Math.pow(t,e)}function uye(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function jz(t){return(e,n)=>-t(-e,n)}function OO(t){const e=t(Mz,Dz),n=e.domain;let r=10,i,a;function o(){return i=uye(r),a=cye(r),n()[0]<0?(i=jz(i),a=jz(a),t(oye,sye)):t(Mz,Dz),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const c=n();let d=c[0],f=c[c.length-1];const h=f<d;h&&([d,f]=[f,d]);let m=i(d),v=i(f),b,x;const S=s==null?10:+s;let C=[];if(!(r%1)&&v-m<S){if(m=Math.floor(m),v=Math.ceil(v),d>0){for(;m<=v;++m)for(b=1;b<r;++b)if(x=m<0?b/a(-m):b*a(m),!(x<d)){if(x>f)break;C.push(x)}}else for(;m<=v;++m)for(b=r-1;b>=1;--b)if(x=m>0?b/a(-m):b*a(m),!(x<d)){if(x>f)break;C.push(x)}C.length*2<S&&(C=ZE(d,f,S))}else C=ZE(m,v,Math.min(v-m,S)).map(a);return h?C.reverse():C},e.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=rg(c)).precision==null&&(c.trim=!0),c=PO(c)),s===1/0)return c;const d=Math.max(1,r*s/e.ticks().length);return f=>{let h=f/a(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=d?c(f):""}},e.nice=()=>n(mH(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function gH(){const t=OO(yw()).domain([1,10]);return t.copy=()=>Ng(t,gH()).base(t.base()),Oo.apply(t,arguments),t}function Rz(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Lz(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function MO(t){var e=1,n=t(Rz(e),Lz(e));return n.constant=function(r){return arguments.length?t(Rz(e=+r),Lz(e)):e},iu(n)}function vH(){var t=MO(yw());return t.copy=function(){return Ng(t,vH()).constant(t.constant())},Oo.apply(t,arguments)}function Nz(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function dye(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function fye(t){return t<0?-t*t:t*t}function DO(t){var e=t(aa,aa),n=1;function r(){return n===1?t(aa,aa):n===.5?t(dye,fye):t(Nz(n),Nz(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},iu(e)}function jO(){var t=DO(yw());return t.copy=function(){return Ng(t,jO()).exponent(t.exponent())},Oo.apply(t,arguments),t}function hye(){return jO.apply(null,arguments).exponent(.5)}function Iz(t){return Math.sign(t)*t*t}function pye(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function yH(){var t=TO(),e=[0,1],n=!1,r;function i(a){var o=pye(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(Iz(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,g0)).map(Iz)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return yH(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Oo.apply(i,arguments),iu(i)}function bH(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=yve(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Rg(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Vc),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return bH().domain(t).range(e).unknown(r)},Oo.apply(a,arguments)}function xH(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Rg(r,c,0,n)]:a}function s(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,s()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return xH().domain([t,e]).range(i).unknown(a)},Oo.apply(iu(o),arguments)}function wH(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Rg(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return wH().domain(t).range(e).unknown(n)},Oo.apply(i,arguments)}const i_=new Date,a_=new Date;function Zr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let d;do c.push(d=new Date(+a)),e(a,s),t(a);while(d<a&&a<o);return c},i.filter=a=>Zr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(i_.setTime(+a),a_.setTime(+o),t(i_),t(a_),Math.floor(n(i_,a_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const b0=Zr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);b0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):b0);b0.range;const Sl=1e3,So=Sl*60,Cl=So*60,Rl=Cl*24,RO=Rl*7,zz=Rl*30,o_=Rl*365,Zu=Zr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Sl)},(t,e)=>(e-t)/Sl,t=>t.getUTCSeconds());Zu.range;const LO=Zr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Sl)},(t,e)=>{t.setTime(+t+e*So)},(t,e)=>(e-t)/So,t=>t.getMinutes());LO.range;const NO=Zr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*So)},(t,e)=>(e-t)/So,t=>t.getUTCMinutes());NO.range;const IO=Zr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Sl-t.getMinutes()*So)},(t,e)=>{t.setTime(+t+e*Cl)},(t,e)=>(e-t)/Cl,t=>t.getHours());IO.range;const zO=Zr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Cl)},(t,e)=>(e-t)/Cl,t=>t.getUTCHours());zO.range;const Ig=Zr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*So)/Rl,t=>t.getDate()-1);Ig.range;const bw=Zr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rl,t=>t.getUTCDate()-1);bw.range;const SH=Zr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rl,t=>Math.floor(t/Rl));SH.range;function Ld(t){return Zr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*So)/RO)}const xw=Ld(0),x0=Ld(1),mye=Ld(2),gye=Ld(3),Ah=Ld(4),vye=Ld(5),yye=Ld(6);xw.range;x0.range;mye.range;gye.range;Ah.range;vye.range;yye.range;function Nd(t){return Zr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/RO)}const ww=Nd(0),w0=Nd(1),bye=Nd(2),xye=Nd(3),_h=Nd(4),wye=Nd(5),Sye=Nd(6);ww.range;w0.range;bye.range;xye.range;_h.range;wye.range;Sye.range;const BO=Zr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());BO.range;const $O=Zr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$O.range;const Ll=Zr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ll.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ll.range;const Nl=Zr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Nl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Nl.range;function CH(t,e,n,r,i,a){const o=[[Zu,1,Sl],[Zu,5,5*Sl],[Zu,15,15*Sl],[Zu,30,30*Sl],[a,1,So],[a,5,5*So],[a,15,15*So],[a,30,30*So],[i,1,Cl],[i,3,3*Cl],[i,6,6*Cl],[i,12,12*Cl],[r,1,Rl],[r,2,2*Rl],[n,1,RO],[e,1,zz],[e,3,3*zz],[t,1,o_]];function s(d,f,h){const m=f<d;m&&([d,f]=[f,d]);const v=h&&typeof h.range=="function"?h:c(d,f,h),b=v?v.range(d,+f+1):[];return m?b.reverse():b}function c(d,f,h){const m=Math.abs(f-d)/h,v=wO(([,,S])=>S).right(o,m);if(v===o.length)return t.every(JE(d/o_,f/o_,h));if(v===0)return b0.every(Math.max(JE(d,f,h),1));const[b,x]=o[m/o[v-1][2]<o[v][2]/m?v-1:v];return b.every(x)}return[s,c]}const[Cye,Aye]=CH(Nl,$O,ww,SH,zO,NO),[_ye,Eye]=CH(Ll,BO,xw,Ig,IO,LO);function s_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function l_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function fm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Tye(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,d=hm(i),f=pm(i),h=hm(a),m=pm(a),v=hm(o),b=pm(o),x=hm(s),S=pm(s),C=hm(c),T=pm(c),E={a:U,A:F,b:q,B:W,c:null,d:Vz,e:Vz,f:Xye,g:obe,G:lbe,H:Yye,I:Kye,j:Wye,L:AH,m:Zye,M:Qye,p:z,q:Y,Q:Yz,s:Kz,S:Jye,u:ebe,U:tbe,V:nbe,w:rbe,W:ibe,x:null,X:null,y:abe,Y:sbe,Z:cbe,"%":Gz},k={a:ne,A:ie,b:ue,B:we,c:null,d:qz,e:qz,f:hbe,g:Cbe,G:_be,H:ube,I:dbe,j:fbe,L:EH,m:pbe,M:mbe,p:be,q:qe,Q:Yz,s:Kz,S:gbe,u:vbe,U:ybe,V:bbe,w:xbe,W:wbe,x:null,X:null,y:Sbe,Y:Abe,Z:Ebe,"%":Gz},M={a:G,A:V,b:K,B:te,c:X,d:Uz,e:Uz,f:Hye,g:Fz,G:$z,H:Hz,I:Hz,j:Bye,L:Uye,m:zye,M:$ye,p:B,q:Iye,Q:qye,s:Gye,S:Fye,u:Dye,U:jye,V:Rye,w:Mye,W:Lye,x:J,X:L,y:Fz,Y:$z,Z:Nye,"%":Vye};E.x=D(n,E),E.X=D(r,E),E.c=D(e,E),k.x=D(n,k),k.X=D(r,k),k.c=D(e,k);function D(ae,se){return function(Le){var de=[],He=-1,Re=0,ct=ae.length,Qe,Ue,We;for(Le instanceof Date||(Le=new Date(+Le));++He<ct;)ae.charCodeAt(He)===37&&(de.push(ae.slice(Re,He)),(Ue=Bz[Qe=ae.charAt(++He)])!=null?Qe=ae.charAt(++He):Ue=Qe==="e"?" ":"0",(We=se[Qe])&&(Qe=We(Le,Ue)),de.push(Qe),Re=He+1);return de.push(ae.slice(Re,He)),de.join("")}}function j(ae,se){return function(Le){var de=fm(1900,void 0,1),He=I(de,ae,Le+="",0),Re,ct;if(He!=Le.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(se&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Re=l_(fm(de.y,0,1)),ct=Re.getUTCDay(),Re=ct>4||ct===0?w0.ceil(Re):w0(Re),Re=bw.offset(Re,(de.V-1)*7),de.y=Re.getUTCFullYear(),de.m=Re.getUTCMonth(),de.d=Re.getUTCDate()+(de.w+6)%7):(Re=s_(fm(de.y,0,1)),ct=Re.getDay(),Re=ct>4||ct===0?x0.ceil(Re):x0(Re),Re=Ig.offset(Re,(de.V-1)*7),de.y=Re.getFullYear(),de.m=Re.getMonth(),de.d=Re.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),ct="Z"in de?l_(fm(de.y,0,1)).getUTCDay():s_(fm(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(ct+5)%7:de.w+de.U*7-(ct+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,l_(de)):s_(de)}}function I(ae,se,Le,de){for(var He=0,Re=se.length,ct=Le.length,Qe,Ue;He<Re;){if(de>=ct)return-1;if(Qe=se.charCodeAt(He++),Qe===37){if(Qe=se.charAt(He++),Ue=M[Qe in Bz?se.charAt(He++):Qe],!Ue||(de=Ue(ae,Le,de))<0)return-1}else if(Qe!=Le.charCodeAt(de++))return-1}return de}function B(ae,se,Le){var de=d.exec(se.slice(Le));return de?(ae.p=f.get(de[0].toLowerCase()),Le+de[0].length):-1}function G(ae,se,Le){var de=v.exec(se.slice(Le));return de?(ae.w=b.get(de[0].toLowerCase()),Le+de[0].length):-1}function V(ae,se,Le){var de=h.exec(se.slice(Le));return de?(ae.w=m.get(de[0].toLowerCase()),Le+de[0].length):-1}function K(ae,se,Le){var de=C.exec(se.slice(Le));return de?(ae.m=T.get(de[0].toLowerCase()),Le+de[0].length):-1}function te(ae,se,Le){var de=x.exec(se.slice(Le));return de?(ae.m=S.get(de[0].toLowerCase()),Le+de[0].length):-1}function X(ae,se,Le){return I(ae,e,se,Le)}function J(ae,se,Le){return I(ae,n,se,Le)}function L(ae,se,Le){return I(ae,r,se,Le)}function U(ae){return o[ae.getDay()]}function F(ae){return a[ae.getDay()]}function q(ae){return c[ae.getMonth()]}function W(ae){return s[ae.getMonth()]}function z(ae){return i[+(ae.getHours()>=12)]}function Y(ae){return 1+~~(ae.getMonth()/3)}function ne(ae){return o[ae.getUTCDay()]}function ie(ae){return a[ae.getUTCDay()]}function ue(ae){return c[ae.getUTCMonth()]}function we(ae){return s[ae.getUTCMonth()]}function be(ae){return i[+(ae.getUTCHours()>=12)]}function qe(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var se=D(ae+="",E);return se.toString=function(){return ae},se},parse:function(ae){var se=j(ae+="",!1);return se.toString=function(){return ae},se},utcFormat:function(ae){var se=D(ae+="",k);return se.toString=function(){return ae},se},utcParse:function(ae){var se=j(ae+="",!0);return se.toString=function(){return ae},se}}}var Bz={"-":"",_:" ",0:"0"},mi=/^\s*\d+/,kye=/^%/,Pye=/[\\^$*+?|[\]().{}]/g;function yn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Oye(t){return t.replace(Pye,"\\$&")}function hm(t){return new RegExp("^(?:"+t.map(Oye).join("|")+")","i")}function pm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Mye(t,e,n){var r=mi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Dye(t,e,n){var r=mi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function jye(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Rye(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Lye(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function $z(t,e,n){var r=mi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Fz(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Nye(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Iye(t,e,n){var r=mi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function zye(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Uz(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Bye(t,e,n){var r=mi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Hz(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function $ye(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Fye(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Uye(t,e,n){var r=mi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Hye(t,e,n){var r=mi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Vye(t,e,n){var r=kye.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function qye(t,e,n){var r=mi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Gye(t,e,n){var r=mi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Vz(t,e){return yn(t.getDate(),e,2)}function Yye(t,e){return yn(t.getHours(),e,2)}function Kye(t,e){return yn(t.getHours()%12||12,e,2)}function Wye(t,e){return yn(1+Ig.count(Ll(t),t),e,3)}function AH(t,e){return yn(t.getMilliseconds(),e,3)}function Xye(t,e){return AH(t,e)+"000"}function Zye(t,e){return yn(t.getMonth()+1,e,2)}function Qye(t,e){return yn(t.getMinutes(),e,2)}function Jye(t,e){return yn(t.getSeconds(),e,2)}function ebe(t){var e=t.getDay();return e===0?7:e}function tbe(t,e){return yn(xw.count(Ll(t)-1,t),e,2)}function _H(t){var e=t.getDay();return e>=4||e===0?Ah(t):Ah.ceil(t)}function nbe(t,e){return t=_H(t),yn(Ah.count(Ll(t),t)+(Ll(t).getDay()===4),e,2)}function rbe(t){return t.getDay()}function ibe(t,e){return yn(x0.count(Ll(t)-1,t),e,2)}function abe(t,e){return yn(t.getFullYear()%100,e,2)}function obe(t,e){return t=_H(t),yn(t.getFullYear()%100,e,2)}function sbe(t,e){return yn(t.getFullYear()%1e4,e,4)}function lbe(t,e){var n=t.getDay();return t=n>=4||n===0?Ah(t):Ah.ceil(t),yn(t.getFullYear()%1e4,e,4)}function cbe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yn(e/60|0,"0",2)+yn(e%60,"0",2)}function qz(t,e){return yn(t.getUTCDate(),e,2)}function ube(t,e){return yn(t.getUTCHours(),e,2)}function dbe(t,e){return yn(t.getUTCHours()%12||12,e,2)}function fbe(t,e){return yn(1+bw.count(Nl(t),t),e,3)}function EH(t,e){return yn(t.getUTCMilliseconds(),e,3)}function hbe(t,e){return EH(t,e)+"000"}function pbe(t,e){return yn(t.getUTCMonth()+1,e,2)}function mbe(t,e){return yn(t.getUTCMinutes(),e,2)}function gbe(t,e){return yn(t.getUTCSeconds(),e,2)}function vbe(t){var e=t.getUTCDay();return e===0?7:e}function ybe(t,e){return yn(ww.count(Nl(t)-1,t),e,2)}function TH(t){var e=t.getUTCDay();return e>=4||e===0?_h(t):_h.ceil(t)}function bbe(t,e){return t=TH(t),yn(_h.count(Nl(t),t)+(Nl(t).getUTCDay()===4),e,2)}function xbe(t){return t.getUTCDay()}function wbe(t,e){return yn(w0.count(Nl(t)-1,t),e,2)}function Sbe(t,e){return yn(t.getUTCFullYear()%100,e,2)}function Cbe(t,e){return t=TH(t),yn(t.getUTCFullYear()%100,e,2)}function Abe(t,e){return yn(t.getUTCFullYear()%1e4,e,4)}function _be(t,e){var n=t.getUTCDay();return t=n>=4||n===0?_h(t):_h.ceil(t),yn(t.getUTCFullYear()%1e4,e,4)}function Ebe(){return"+0000"}function Gz(){return"%"}function Yz(t){return+t}function Kz(t){return Math.floor(+t/1e3)}var If,kH,PH;Tbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tbe(t){return If=Tye(t),kH=If.format,If.parse,PH=If.utcFormat,If.utcParse,If}function kbe(t){return new Date(t)}function Pbe(t){return t instanceof Date?+t:+new Date(+t)}function FO(t,e,n,r,i,a,o,s,c,d){var f=TO(),h=f.invert,m=f.domain,v=d(".%L"),b=d(":%S"),x=d("%I:%M"),S=d("%I %p"),C=d("%a %d"),T=d("%b %d"),E=d("%B"),k=d("%Y");function M(D){return(c(D)<D?v:s(D)<D?b:o(D)<D?x:a(D)<D?S:r(D)<D?i(D)<D?C:T:n(D)<D?E:k)(D)}return f.invert=function(D){return new Date(h(D))},f.domain=function(D){return arguments.length?m(Array.from(D,Pbe)):m().map(kbe)},f.ticks=function(D){var j=m();return t(j[0],j[j.length-1],D??10)},f.tickFormat=function(D,j){return j==null?M:d(j)},f.nice=function(D){var j=m();return(!D||typeof D.range!="function")&&(D=e(j[0],j[j.length-1],D??10)),D?m(mH(j,D)):f},f.copy=function(){return Ng(f,FO(t,e,n,r,i,a,o,s,c,d))},f}function Obe(){return Oo.apply(FO(_ye,Eye,Ll,BO,xw,Ig,IO,LO,Zu,kH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Mbe(){return Oo.apply(FO(Cye,Aye,Nl,$O,ww,bw,zO,NO,Zu,PH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sw(){var t=0,e=1,n,r,i,a,o=aa,s=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(a(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(h){return arguments.length?(s=!!h,d):s},d.interpolator=function(h){return arguments.length?(o=h,d):o};function f(h){return function(m){var v,b;return arguments.length?([v,b]=m,o=h(v,b),d):[o(0),o(1)]}}return d.range=f(Fh),d.rangeRound=f(EO),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),d}}function au(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function OH(){var t=iu(Sw()(aa));return t.copy=function(){return au(t,OH())},Xl.apply(t,arguments)}function MH(){var t=OO(Sw()).domain([1,10]);return t.copy=function(){return au(t,MH()).base(t.base())},Xl.apply(t,arguments)}function DH(){var t=MO(Sw());return t.copy=function(){return au(t,DH()).constant(t.constant())},Xl.apply(t,arguments)}function UO(){var t=DO(Sw());return t.copy=function(){return au(t,UO()).exponent(t.exponent())},Xl.apply(t,arguments)}function Dbe(){return UO.apply(null,arguments).exponent(.5)}function jH(){var t=[],e=aa;function n(r){if(r!=null&&!isNaN(r=+r))return e((Rg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Vc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>vve(t,a/r))},n.copy=function(){return jH(e).domain(t)},Xl.apply(n,arguments)}function Cw(){var t=0,e=.5,n=1,r=1,i,a,o,s,c,d=aa,f,h=!1,m;function v(x){return isNaN(x=+x)?m:(x=.5+((x=+f(x))-a)*(r*x<r*a?s:c),d(h?Math.max(0,Math.min(1,x)):x))}v.domain=function(x){return arguments.length?([t,e,n]=x,i=f(t=+t),a=f(e=+e),o=f(n=+n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,v):[t,e,n]},v.clamp=function(x){return arguments.length?(h=!!x,v):h},v.interpolator=function(x){return arguments.length?(d=x,v):d};function b(x){return function(S){var C,T,E;return arguments.length?([C,T,E]=S,d=Vve(x,[C,T,E]),v):[d(0),d(.5),d(1)]}}return v.range=b(Fh),v.rangeRound=b(EO),v.unknown=function(x){return arguments.length?(m=x,v):m},function(x){return f=x,i=x(t),a=x(e),o=x(n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,v}}function RH(){var t=iu(Cw()(aa));return t.copy=function(){return au(t,RH())},Xl.apply(t,arguments)}function LH(){var t=OO(Cw()).domain([.1,1,10]);return t.copy=function(){return au(t,LH()).base(t.base())},Xl.apply(t,arguments)}function NH(){var t=MO(Cw());return t.copy=function(){return au(t,NH()).constant(t.constant())},Xl.apply(t,arguments)}function HO(){var t=DO(Cw());return t.copy=function(){return au(t,HO()).exponent(t.exponent())},Xl.apply(t,arguments)}function jbe(){return HO.apply(null,arguments).exponent(.5)}const Cm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:CO,scaleDiverging:RH,scaleDivergingLog:LH,scaleDivergingPow:HO,scaleDivergingSqrt:jbe,scaleDivergingSymlog:NH,scaleIdentity:pH,scaleImplicit:eT,scaleLinear:hH,scaleLog:gH,scaleOrdinal:SO,scalePoint:xve,scalePow:jO,scaleQuantile:bH,scaleQuantize:xH,scaleRadial:yH,scaleSequential:OH,scaleSequentialLog:MH,scaleSequentialPow:UO,scaleSequentialQuantile:jH,scaleSequentialSqrt:Dbe,scaleSequentialSymlog:DH,scaleSqrt:hye,scaleSymlog:vH,scaleThreshold:wH,scaleTime:Obe,scaleUtc:Mbe,tickFormat:fH},Symbol.toStringTag,{value:"Module"}));var ou=t=>t.chartData,Rbe=je([ou],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),VO=(t,e,n,r)=>r?Rbe(t):ou(t);function Il(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Qt(e)&&Qt(n))return!0}return!1}function Wz(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function IH(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Qt(n))i=n;else if(typeof n=="function")return;if(Qt(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Il(o))return o}}function Lbe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Il(r))return Wz(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,s;if(i==="auto")e!=null&&(o=Math.min(...e));else if(Et(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&a3.test(i)){var c=a3.exec(i);if(c==null||c[1]==null||e==null)o=void 0;else{var d=+c[1];o=e[0]-d}}else o=e?.[0];if(a==="auto")e!=null&&(s=Math.max(...e));else if(Et(a))s=a;else if(typeof a=="function")try{e!=null&&(s=a(e?.[1]))}catch{}else if(typeof a=="string"&&o3.test(a)){var f=o3.exec(a);if(f==null||f[1]==null||e==null)s=void 0;else{var h=+f[1];s=e[1]+h}}else s=e?.[1];var m=[o,s];if(Il(m))return e==null?m:Wz(m,e,n)}}}var Uh=1e9,Nbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},GO,lr=!0,Eo="[DecimalError] ",od=Eo+"Invalid argument: ",qO=Eo+"Exponent out of range: ",Hh=Math.floor,$u=Math.pow,Ibe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ha,di=1e7,tr=7,zH=9007199254740991,S0=Hh(zH/tr),bt={};bt.absoluteValue=bt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};bt.comparedTo=bt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};bt.decimalPlaces=bt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*tr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};bt.dividedBy=bt.div=function(t){return El(this,new this.constructor(t))};bt.dividedToIntegerBy=bt.idiv=function(t){var e=this,n=e.constructor;return Yn(El(e,new n(t),0,1),n.precision)};bt.equals=bt.eq=function(t){return!this.cmp(t)};bt.exponent=function(){return Fr(this)};bt.greaterThan=bt.gt=function(t){return this.cmp(t)>0};bt.greaterThanOrEqualTo=bt.gte=function(t){return this.cmp(t)>=0};bt.isInteger=bt.isint=function(){return this.e>this.d.length-2};bt.isNegative=bt.isneg=function(){return this.s<0};bt.isPositive=bt.ispos=function(){return this.s>0};bt.isZero=function(){return this.s===0};bt.lessThan=bt.lt=function(t){return this.cmp(t)<0};bt.lessThanOrEqualTo=bt.lte=function(t){return this.cmp(t)<1};bt.logarithm=bt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ha))throw Error(Eo+"NaN");if(n.s<1)throw Error(Eo+(n.s?"NaN":"-Infinity"));return n.eq(Ha)?new r(0):(lr=!1,e=El(ig(n,a),ig(t,a),a),lr=!0,Yn(e,i))};bt.minus=bt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FH(e,t):BH(e,(t.s=-t.s,t))};bt.modulo=bt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Eo+"NaN");return n.s?(lr=!1,e=El(n,t,0,1).times(t),lr=!0,n.minus(e)):Yn(new r(n),i)};bt.naturalExponential=bt.exp=function(){return $H(this)};bt.naturalLogarithm=bt.ln=function(){return ig(this)};bt.negated=bt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};bt.plus=bt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?BH(e,t):FH(e,(t.s=-t.s,t))};bt.precision=bt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(od+t);if(e=Fr(i)+1,r=i.d.length-1,n=r*tr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};bt.squareRoot=bt.sqrt=function(){var t,e,n,r,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(Eo+"NaN")}for(t=Fr(s),lr=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=_s(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Hh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(El(s,a,o+2)).times(.5),_s(a.d).slice(0,o)===(e=_s(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Yn(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return lr=!0,Yn(r,n)};bt.times=bt.mul=function(t){var e,n,r,i,a,o,s,c,d,f=this,h=f.constructor,m=f.d,v=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,n=f.e+t.e,c=m.length,d=v.length,c<d&&(a=m,m=v,v=a,o=c,c=d,d=o),a=[],o=c+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)s=a[i]+v[r]*m[i-r-1]+e,a[i--]=s%di|0,e=s/di|0;a[i]=(a[i]+e)%di|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,lr?Yn(t,h.precision):t};bt.toDecimalPlaces=bt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ns(t,0,Uh),e===void 0?e=r.rounding:Ns(e,0,8),Yn(n,t+Fr(n)+1,e))};bt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Sd(r,!0):(Ns(t,0,Uh),e===void 0?e=i.rounding:Ns(e,0,8),r=Yn(new i(r),t+1,e),n=Sd(r,!0,t+1)),n};bt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Sd(i):(Ns(t,0,Uh),e===void 0?e=a.rounding:Ns(e,0,8),r=Yn(new a(i),t+Fr(i)+1,e),n=Sd(r.abs(),!1,t+Fr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};bt.toInteger=bt.toint=function(){var t=this,e=t.constructor;return Yn(new e(t),Fr(t)+1,e.rounding)};bt.toNumber=function(){return+this};bt.toPower=bt.pow=function(t){var e,n,r,i,a,o,s=this,c=s.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(Ha);if(s=new c(s),!s.s){if(t.s<1)throw Error(Eo+"Infinity");return s}if(s.eq(Ha))return s;if(r=c.precision,t.eq(Ha))return Yn(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=f<0?-f:f)<=zH){for(i=new c(Ha),e=Math.ceil(r/tr+4),lr=!1;n%2&&(i=i.times(s),Zz(i.d,e)),n=Hh(n/2),n!==0;)s=s.times(s),Zz(s.d,e);return lr=!0,t.s<0?new c(Ha).div(i):Yn(i,r)}}else if(a<0)throw Error(Eo+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,lr=!1,i=t.times(ig(s,r+d)),lr=!0,i=$H(i),i.s=a,i};bt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Fr(i),r=Sd(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ns(t,1,Uh),e===void 0?e=a.rounding:Ns(e,0,8),i=Yn(new a(i),t,e),n=Fr(i),r=Sd(i,t<=n||n<=a.toExpNeg,t)),r};bt.toSignificantDigits=bt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ns(t,1,Uh),e===void 0?e=r.rounding:Ns(e,0,8)),Yn(new r(n),t,e)};bt.toString=bt.valueOf=bt.val=bt.toJSON=bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Fr(t),n=t.constructor;return Sd(t,e<=n.toExpNeg||e>=n.toExpPos)};function BH(t,e){var n,r,i,a,o,s,c,d,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),lr?Yn(e,h):e;if(c=t.d,d=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,s=d.length):(r=d,i=o,s=c.length),o=Math.ceil(h/tr),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=c.length,a=d.length,s-a<0&&(a=s,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/di|0,c[a]%=di;for(n&&(c.unshift(n),++i),s=c.length;c[--s]==0;)c.pop();return e.d=c,e.e=i,lr?Yn(e,h):e}function Ns(t,e,n){if(t!==~~t||t<e||t>n)throw Error(od+t)}function _s(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=tr-r.length,n&&(a+=Nc(n)),a+=r;o=t[e],r=o+"",n=tr-r.length,n&&(a+=Nc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var El=(function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%di|0,o=a/di|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(r[s]!=i[s]){c=r[s]>i[s]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*di+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,c,d,f,h,m,v,b,x,S,C,T,E,k,M,D,j,I,B=r.constructor,G=r.s==i.s?1:-1,V=r.d,K=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(Eo+"Division by zero");for(c=r.e-i.e,j=K.length,M=V.length,v=new B(G),b=v.d=[],d=0;K[d]==(V[d]||0);)++d;if(K[d]>(V[d]||0)&&--c,a==null?T=a=B.precision:o?T=a+(Fr(r)-Fr(i))+1:T=a,T<0)return new B(0);if(T=T/tr+2|0,d=0,j==1)for(f=0,K=K[0],T++;(d<M||f)&&T--;d++)E=f*di+(V[d]||0),b[d]=E/K|0,f=E%K|0;else{for(f=di/(K[0]+1)|0,f>1&&(K=t(K,f),V=t(V,f),j=K.length,M=V.length),k=j,x=V.slice(0,j),S=x.length;S<j;)x[S++]=0;I=K.slice(),I.unshift(0),D=K[0],K[1]>=di/2&&++D;do f=0,s=e(K,x,j,S),s<0?(C=x[0],j!=S&&(C=C*di+(x[1]||0)),f=C/D|0,f>1?(f>=di&&(f=di-1),h=t(K,f),m=h.length,S=x.length,s=e(h,x,m,S),s==1&&(f--,n(h,j<m?I:K,m))):(f==0&&(s=f=1),h=K.slice()),m=h.length,m<S&&h.unshift(0),n(x,h,S),s==-1&&(S=x.length,s=e(K,x,j,S),s<1&&(f++,n(x,j<S?I:K,S))),S=x.length):s===0&&(f++,x=[0]),b[d++]=f,s&&x[0]?x[S++]=V[k]||0:(x=[V[k]],S=1);while((k++<M||x[0]!==void 0)&&T--)}return b[0]||b.shift(),v.e=c,Yn(v,o?a+Fr(v)+1:a)}})();function $H(t,e){var n,r,i,a,o,s,c=0,d=0,f=t.constructor,h=f.precision;if(Fr(t)>16)throw Error(qO+Fr(t));if(!t.s)return new f(Ha);for(lr=!1,s=h,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log($u(2,d))/Math.LN10*2+5|0,s+=r,n=i=a=new f(Ha),f.precision=s;;){if(i=Yn(i.times(t),s),n=n.times(++c),o=a.plus(El(i,n,s)),_s(o.d).slice(0,s)===_s(a.d).slice(0,s)){for(;d--;)a=Yn(a.times(a),s);return f.precision=h,e==null?(lr=!0,Yn(a,h)):a}a=o}}function Fr(t){for(var e=t.e*tr,n=t.d[0];n>=10;n/=10)e++;return e}function c_(t,e,n){if(e>t.LN10.sd())throw lr=!0,n&&(t.precision=n),Error(Eo+"LN10 precision limit exceeded");return Yn(new t(t.LN10),e)}function Nc(t){for(var e="";t--;)e+="0";return e}function ig(t,e){var n,r,i,a,o,s,c,d,f,h=1,m=10,v=t,b=v.d,x=v.constructor,S=x.precision;if(v.s<1)throw Error(Eo+(v.s?"NaN":"-Infinity"));if(v.eq(Ha))return new x(0);if(e==null?(lr=!1,d=S):d=e,v.eq(10))return e==null&&(lr=!0),c_(x,d);if(d+=m,x.precision=d,n=_s(b),r=n.charAt(0),a=Fr(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=_s(v.d),r=n.charAt(0),h++;a=Fr(v),r>1?(v=new x("0."+n),a++):v=new x(r+"."+n.slice(1))}else return c=c_(x,d+2,S).times(a+""),v=ig(new x(r+"."+n.slice(1)),d-m).plus(c),x.precision=S,e==null?(lr=!0,Yn(v,S)):v;for(s=o=v=El(v.minus(Ha),v.plus(Ha),d),f=Yn(v.times(v),d),i=3;;){if(o=Yn(o.times(f),d),c=s.plus(El(o,new x(i),d)),_s(c.d).slice(0,d)===_s(s.d).slice(0,d))return s=s.times(2),a!==0&&(s=s.plus(c_(x,d+2,S).times(a+""))),s=El(s,new x(h),d),x.precision=S,e==null?(lr=!0,Yn(s,S)):s;s=c,i+=2}}function Xz(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Hh(n/tr),t.d=[],r=(n+1)%tr,n<0&&(r+=tr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=tr;r<i;)t.d.push(+e.slice(r,r+=tr));e=e.slice(r),r=tr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),lr&&(t.e>S0||t.e<-S0))throw Error(qO+n)}else t.s=0,t.e=0,t.d=[0];return t}function Yn(t,e,n){var r,i,a,o,s,c,d,f,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=tr,i=e,d=h[f=0];else{if(f=Math.ceil((r+1)/tr),a=h.length,f>=a)return t;for(d=a=h[f],o=1;a>=10;a/=10)o++;r%=tr,i=r-tr+o}if(n!==void 0&&(a=$u(10,o-i-1),s=d/a%10|0,c=e<0||h[f+1]!==void 0||d%a,c=n<4?(s||c)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||c||n==6&&(r>0?i>0?d/$u(10,o-i):0:h[f-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return c?(a=Fr(t),h.length=1,e=e-a-1,h[0]=$u(10,(tr-e%tr)%tr),t.e=Hh(-e/tr)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=f,a=1,f--):(h.length=f+1,a=$u(10,tr-r),h[f]=i>0?(d/$u(10,o-i)%$u(10,i)|0)*a:0),c)for(;;)if(f==0){(h[0]+=a)==di&&(h[0]=1,++t.e);break}else{if(h[f]+=a,h[f]!=di)break;h[f--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(lr&&(t.e>S0||t.e<-S0))throw Error(qO+Fr(t));return t}function FH(t,e){var n,r,i,a,o,s,c,d,f,h,m=t.constructor,v=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),lr?Yn(e,v):e;if(c=t.d,h=e.d,r=e.e,d=t.e,c=c.slice(),o=d-r,o){for(f=o<0,f?(n=c,o=-o,s=h.length):(n=h,r=d,s=c.length),i=Math.max(Math.ceil(v/tr),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,s=h.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(c[i]!=h[i]){f=c[i]<h[i];break}o=0}for(f&&(n=c,c=h,h=n,e.s=-e.s),s=c.length,i=h.length-s;i>0;--i)c[s++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=di-1;--c[a],c[i]+=di}c[i]-=h[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,lr?Yn(e,v):e):new m(0)}function Sd(t,e,n){var r,i=Fr(t),a=_s(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Nc(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Nc(-i-1)+a,n&&(r=n-o)>0&&(a+=Nc(r))):i>=o?(a+=Nc(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Nc(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Nc(r))),t.s<0?"-"+a:a}function Zz(t,e){if(t.length>e)return t.length=e,!0}function UH(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(od+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Xz(o,a.toString())}else if(typeof a!="string")throw Error(od+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Ibe.test(a))Xz(o,a);else throw Error(od+a)}if(i.prototype=bt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=UH,i.config=i.set=zbe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function zbe(t){if(!t||typeof t!="object")throw Error(Eo+"Object expected");var e,n,r,i=["precision",1,Uh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Hh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(od+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(od+n+": "+r);return this}var GO=UH(Nbe);Ha=new GO(1);const Ln=GO;function HH(t){var e;return t===0?e=1:e=Math.floor(new Ln(t).abs().log(10).toNumber())+1,e}function VH(t,e,n){for(var r=new Ln(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var qH=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},GH=(t,e,n)=>{if(t.lte(0))return new Ln(0);var r=HH(t.toNumber()),i=new Ln(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new Ln(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=s.mul(i);return e?new Ln(c.toNumber()):new Ln(Math.ceil(c.toNumber()))},Bbe=(t,e,n)=>{var r=new Ln(1),i=new Ln(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ln(10).pow(HH(t)-1),i=new Ln(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ln(Math.floor(t)))}else t===0?i=new Ln(Math.floor((e-1)/2)):n||(i=new Ln(Math.floor(t)));for(var o=Math.floor((e-1)/2),s=[],c=0;c<e;c++)s.push(i.add(new Ln(c-o).mul(r)).toNumber());return s},YH=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ln(0),tickMin:new Ln(0),tickMax:new Ln(0)};var o=GH(new Ln(n).sub(e).div(r-1),i,a),s;e<=0&&n>=0?s=new Ln(0):(s=new Ln(e).add(n).div(2),s=s.sub(new Ln(s).mod(o)));var c=Math.ceil(s.sub(e).div(o).toNumber()),d=Math.ceil(new Ln(n).sub(s).div(o).toNumber()),f=c+d+1;return f>r?YH(e,n,r,i,a+1):(f<r&&(d=n>0?d+(r-f):d,c=n>0?c:c+(r-f)),{step:o,tickMin:s.sub(new Ln(c).mul(o)),tickMax:s.add(new Ln(d).mul(o))})},$be=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,c]=qH([n,r]);if(s===-1/0||c===1/0){var d=c===1/0?[s,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return n>r?d.reverse():d}if(s===c)return Bbe(s,i,a);var{step:f,tickMin:h,tickMax:m}=YH(s,c,o,a,0),v=VH(h,m.add(new Ln(.1).mul(f)),f);return n>r?v.reverse():v},Fbe=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=qH([r,i]);if(o===-1/0||s===1/0)return[r,i];if(o===s)return[o];var c=Math.max(n,2),d=GH(new Ln(s).sub(o).div(c-1),a,0),f=[...VH(new Ln(o),new Ln(s),d),s];return a===!1&&(f=f.map(h=>Math.round(h))),r>i?f.reverse():f},Ube=t=>t.rootProps.barCategoryGap,Aw=t=>t.rootProps.stackOffset,KH=t=>t.rootProps.reverseStackOrder,YO=t=>t.options.chartName,KO=t=>t.rootProps.syncId,WH=t=>t.rootProps.syncMethod,WO=t=>t.options.eventEmitter,Oi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ju={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},ms={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},_w=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function Ew(t,e,n){if(n!=="auto")return n;if(t!=null)return Yl(t,e)?"category":"number"}function Qz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qz(Object(n),!0).forEach(function(r){Hbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hbe(t,e,n){return(e=Vbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vbe(t){var e=qbe(t,"string");return typeof e=="symbol"?e:e+""}function qbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jz={allowDataOverflow:ju.allowDataOverflow,allowDecimals:ju.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ju.angleAxisId,includeHidden:!1,name:void 0,reversed:ju.reversed,scale:ju.scale,tick:ju.tick,tickCount:void 0,ticks:void 0,type:ju.type,unit:void 0},eB={allowDataOverflow:ms.allowDataOverflow,allowDecimals:ms.allowDecimals,allowDuplicatedCategory:ms.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ms.radiusAxisId,includeHidden:ms.includeHidden,name:void 0,reversed:ms.reversed,scale:ms.scale,tick:ms.tick,tickCount:ms.tickCount,ticks:void 0,type:ms.type,unit:void 0},Gbe=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},XO=je([Gbe,$8],(t,e)=>{var n;if(t!=null)return t;var r=(n=Ew(e,"angleAxis",Jz.type))!==null&&n!==void 0?n:"category";return C0(C0({},Jz),{},{type:r})}),Ybe=(t,e)=>t.polarAxis.radiusAxis[e],ZO=je([Ybe,$8],(t,e)=>{var n;if(t!=null)return t;var r=(n=Ew(e,"radiusAxis",eB.type))!==null&&n!==void 0?n:"category";return C0(C0({},eB),{},{type:r})}),Tw=t=>t.polarOptions,QO=je([Kl,Wl,Ni],qge),XH=je([Tw,QO],(t,e)=>{if(t!=null)return Wc(t.innerRadius,e,0)}),ZH=je([Tw,QO],(t,e)=>{if(t!=null)return Wc(t.outerRadius,e,e*.8)}),Kbe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},QH=je([Tw],Kbe);je([XO,QH],_w);var JH=je([QO,XH,ZH],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});je([ZO,JH],_w);var e9=je([mr,Tw,XH,ZH,Kl,Wl],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:s,startAngle:c,endAngle:d}=e;return{cx:Wc(o,i,i/2),cy:Wc(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),gi=(t,e)=>e,kw=(t,e,n)=>n;function t9(t){return t?.id}function n9(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(s=>{var c,d=(c=s.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var f=t9(s);d.forEach((h,m)=>{var v=a==null||i?m:String(Di(h,a,null)),b=Di(h,s.dataKey,0),x;o.has(v)?x=o.get(v):x={},Object.assign(x,{[f]:b}),o.set(v,x)})}}),Array.from(o.values())}function JO(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Pw=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Ow(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Wbe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var vi=t=>{var e=mr(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Vh=t=>t.tooltip.settings.axisId;function Xbe(t){if(t in Cm)return Cm[t]();var e="scale".concat(Tg(t));if(e in Cm)return Cm[e]()}function tB(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(a){function o(){return a.apply(this,arguments)}return o.toString=function(){return a.toString()},o})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var o=i[0],s=i[1];return o<=s?a>=o&&a<=s:a>=s&&a<=o},bandwidth:n?()=>n.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,o)=>{var s=t(a);if(s!=null){if(t.bandwidth&&o!==null&&o!==void 0&&o.position){var c=t.bandwidth();switch(o.position){case"middle":s+=c/2;break;case"end":s+=c;break}}return s}}}}function nB(t,e,n){if(typeof t=="function")return tB(t.copy().domain(e).range(n));if(t!=null){var r=Xbe(t);if(r!=null)return r.domain(e).range(n),tB(r)}}var Zbe=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Il(e)){for(var n,r,i=0;i<e.length;i++){var a=e[i];Qt(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function rB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rB(Object(n),!0).forEach(function(r){Qbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qbe(t,e,n){return(e=Jbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jbe(t){var e=e0e(t,"string");return typeof e=="symbol"?e:e+""}function e0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iT=[0,"auto"],ci={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},r9=(t,e)=>t.cartesianAxis.xAxis[e],$s=(t,e)=>{var n=r9(t,e);return n??ci},ui={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:iT,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Og},i9=(t,e)=>t.cartesianAxis.yAxis[e],Fs=(t,e)=>{var n=i9(t,e);return n??ui},t0e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},e2=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??t0e},fa=(t,e,n)=>{switch(e){case"xAxis":return $s(t,n);case"yAxis":return Fs(t,n);case"zAxis":return e2(t,n);case"angleAxis":return XO(t,n);case"radiusAxis":return ZO(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},n0e=(t,e,n)=>{switch(e){case"xAxis":return $s(t,n);case"yAxis":return Fs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},zg=(t,e,n)=>{switch(e){case"xAxis":return $s(t,n);case"yAxis":return Fs(t,n);case"angleAxis":return XO(t,n);case"radiusAxis":return ZO(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},a9=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function o9(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var s9=t=>t.graphicalItems.cartesianItems,r0e=je([gi,kw],o9),l9=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Bg=je([s9,fa,r0e],l9,{memoizeOptions:{resultEqualityCheck:Ow}}),c9=je([Bg],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(JO)),u9=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),i0e=je([Bg],u9),d9=t=>t.map(e=>e.data).filter(Boolean).flat(1),a0e=je([Bg],d9,{memoizeOptions:{resultEqualityCheck:Ow}}),f9=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},t2=je([a0e,VO],f9),h9=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Di(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Di(i,r)}))):t.map(r=>({value:r})),Mw=je([t2,fa,Bg],h9);function p9(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ub(t){if(Gi(t)||t instanceof Date){var e=Number(t);if(Qt(e))return e}}function iB(t){if(Array.isArray(t)){var e=[ub(t[0]),ub(t[1])];return Il(e)?e:void 0}var n=ub(t);if(n!=null)return[n,n]}function zl(t){return t.map(ub).filter(_a)}function o0e(t,e,n){return!n||typeof e!="number"||Dl(e)?[]:n.length?zl(n.flatMap(r=>{var i=Di(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Qt(a)||!Qt(o)))return[e-a,e+o]})):[]}var Qr=t=>{var e=vi(t),n=Vh(t);return zg(t,e,n)},$g=je([Qr],t=>t?.dataKey),s0e=je([c9,VO,Qr],n9),m9=(t,e,n,r)=>{var i={},a=e.reduce((o,s)=>{if(s.stackId==null)return o;var c=o[s.stackId];return c==null&&(c=[]),c.push(s),o[s.stackId]=c,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,c]=o,d=r?[...c].reverse():c,f=d.map(t9);return[s,{stackedData:Cpe(t,f,n),graphicalItems:d}]}))},l0e=je([s0e,c9,Aw,KH],m9),g9=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var o=Epe(t,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},c0e=je([fa],t=>t.allowDataOverflow),n2=t=>{var e;if(t==null||!("domain"in t))return iT;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=zl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:iT},v9=je([fa],n2),y9=je([v9,c0e],IH),u0e=je([l0e,ou,gi,y9],g9,{memoizeOptions:{resultEqualityCheck:Pw}}),r2=t=>t.errorBars,d0e=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>p9(n,r)),_0=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},b9=(t,e,n,r,i)=>{var a,o;if(n.length>0&&t.forEach(s=>{n.forEach(c=>{var d,f,h=(d=r[c.id])===null||d===void 0?void 0:d.filter(C=>p9(i,C)),m=Di(s,(f=e.dataKey)!==null&&f!==void 0?f:c.dataKey),v=o0e(s,m,h);if(v.length>=2){var b=Math.min(...v),x=Math.max(...v);(a==null||b<a)&&(a=b),(o==null||x>o)&&(o=x)}var S=iB(m);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),o=o==null?S[1]:Math.max(o,S[1]))})}),e?.dataKey!=null&&t.forEach(s=>{var c=iB(Di(s,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),Qt(a)&&Qt(o))return[a,o]},f0e=je([t2,fa,i0e,r2,gi],b9,{memoizeOptions:{resultEqualityCheck:Pw}});function h0e(t){var{value:e}=t;if(Gi(e)||e instanceof Date)return e}var p0e=(t,e,n)=>{var r=t.map(h0e).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&RU(r))?rH(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},x9=t=>t.referenceElements.dots,qh=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),m0e=je([x9,gi,kw],qh),w9=t=>t.referenceElements.areas,g0e=je([w9,gi,kw],qh),S9=t=>t.referenceElements.lines,v0e=je([S9,gi,kw],qh),C9=(t,e)=>{if(t!=null){var n=zl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},y0e=je(m0e,gi,C9),A9=(t,e)=>{if(t!=null){var n=zl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},b0e=je([g0e,gi],A9);function x0e(t){var e;if(t.x!=null)return zl([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:zl(n)}function w0e(t){var e;if(t.y!=null)return zl([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:zl(n)}var _9=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?x0e(r):w0e(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},S0e=je([v0e,gi],_9),C0e=je(y0e,S0e,b0e,(t,e,n)=>_0(t,n,e)),E9=(t,e,n,r,i,a,o,s)=>{if(n!=null)return n;var c=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",d=c?_0(r,a,i):_0(a,i);return Lbe(e,d,t.allowDataOverflow)},A0e=je([fa,v9,y9,u0e,f0e,C0e,mr,gi],E9,{memoizeOptions:{resultEqualityCheck:Pw}}),_0e=[0,1],T9=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:c}=t,d=Yl(e,a);if(d&&s==null){var f;return rH(0,(f=n?.length)!==null&&f!==void 0?f:0)}return c==="category"?p0e(r,t,d):i==="expand"?_0e:o}},i2=je([fa,mr,t2,Mw,Aw,gi,A0e],T9);function E0e(t){return t in Cm}var k9=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(Tg(r));return E0e(a)?a:"point"}}},Gh=je([fa,a9,YO],k9);function a2(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?nB(t.scale,n,r):nB(e,n,r)}var P9=(t,e,n)=>{var r=n2(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Il(t))return $be(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Il(t))return Fbe(t,e.tickCount,e.allowDecimals)}},o2=je([i2,zg,Gh],P9),O9=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Il(e)&&Array.isArray(n)&&n.length>0){var i,a,o=e[0],s=(i=n[0])!==null&&i!==void 0?i:0,c=e[1],d=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(o,s),Math.max(c,d)]}return e},T0e=je([fa,i2,o2,gi],O9),k0e=je(Mw,fa,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(zl(t.map(h=>h.value))).sort((h,m)=>h-m),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var c=r[s],d=r[s+1];if(!(c==null||d==null)){var f=d-c;n=Math.min(n,f)}}return n/o}}),M9=je(k0e,mr,Ube,Ni,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Qt(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=Wc(n,t*a),s=t*a/2;return s-o-(s-o)/a*o}return 0}),P0e=(t,e,n)=>{var r=$s(t,e);return r==null||typeof r.padding!="string"?0:M9(t,"xAxis",e,n,r.padding)},O0e=(t,e,n)=>{var r=Fs(t,e);return r==null||typeof r.padding!="string"?0:M9(t,"yAxis",e,n,r.padding)},M0e=je($s,P0e,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),D0e=je(Fs,O0e,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),j0e=je([Ni,M0e,hw,fw,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),R0e=je([Ni,mr,D0e,hw,fw,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Fg=(t,e,n,r)=>{var i;switch(e){case"xAxis":return j0e(t,n,r);case"yAxis":return R0e(t,n,r);case"zAxis":return(i=e2(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return QH(t);case"radiusAxis":return JH(t,n);default:return}},D9=je([fa,Fg],_w),L0e=je([Gh,T0e],Zbe),Xc=je([fa,Gh,L0e,D9],a2);je([Bg,r2,gi],d0e);function j9(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Dw=(t,e)=>e,jw=(t,e,n)=>n,N0e=je(uw,Dw,jw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(j9)),I0e=je(dw,Dw,jw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(j9)),R9=(t,e)=>({width:t.width,height:e.height}),z0e=(t,e)=>{var n=typeof e.width=="number"?e.width:Og;return{width:n,height:t.height}},B0e=je(Ni,$s,R9),$0e=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},F0e=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},U0e=je(Wl,Ni,N0e,Dw,jw,(t,e,n,r,i)=>{var a={},o;return n.forEach(s=>{var c=R9(e,s);o==null&&(o=$0e(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[s.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),a}),H0e=je(Kl,Ni,I0e,Dw,jw,(t,e,n,r,i)=>{var a={},o;return n.forEach(s=>{var c=z0e(e,s);o==null&&(o=F0e(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[s.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),a}),V0e=(t,e)=>{var n=$s(t,e);if(n!=null)return U0e(t,n.orientation,n.mirror)},q0e=je([Ni,$s,V0e,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),G0e=(t,e)=>{var n=Fs(t,e);if(n!=null)return H0e(t,n.orientation,n.mirror)},Y0e=je([Ni,Fs,G0e,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),K0e=je(Ni,Fs,(t,e)=>{var n=typeof e.width=="number"?e.width:Og;return{width:n,height:t.height}}),L9=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=Yl(t,r),c=e.map(d=>d.value);if(o&&s&&a==="category"&&i&&RU(c))return c}},s2=je([mr,Mw,fa,gi],L9),N9=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Yl(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(s=>s.value)}},l2=je([mr,Mw,zg,gi],N9),aB=je([mr,n0e,Gh,Xc,s2,l2,Fg,o2,gi],(t,e,n,r,i,a,o,s,c)=>{if(e!=null){var d=Yl(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:s,range:o,realScaleType:n,scale:r}}}),W0e=(t,e,n,r,i,a,o,s,c)=>{if(!(e==null||r==null)){var d=Yl(t,c),{type:f,ticks:h,tickCount:m}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=f==="category"&&r.bandwidth?r.bandwidth()/v:0;b=c==="angleAxis"&&a!=null&&a.length>=2?wo(a[0]-a[1])*2*b:b;var x=h||i;return x?x.map((S,C)=>{var T=o?o.indexOf(S):S,E=r.map(T);return Qt(E)?{index:C,coordinate:E+b,value:S,offset:b}:null}).filter(_a):d&&s?s.map((S,C)=>{var T=r.map(S);return Qt(T)?{coordinate:T+b,value:S,index:C,offset:b}:null}).filter(_a):r.ticks?r.ticks(m).map((S,C)=>{var T=r.map(S);return Qt(T)?{coordinate:T+b,value:S,index:C,offset:b}:null}).filter(_a):r.domain().map((S,C)=>{var T=r.map(S);return Qt(T)?{coordinate:T+b,value:o?o[S]:S,index:C,offset:b}:null}).filter(_a)}},I9=je([mr,zg,Gh,Xc,o2,Fg,s2,l2,gi],W0e),X0e=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var s=Yl(t,o),{tickCount:c}=e,d=0;return d=o==="angleAxis"&&r?.length>=2?wo(r[0]-r[1])*2*d:d,s&&a?a.map((f,h)=>{var m=n.map(f);return Qt(m)?{coordinate:m+d,value:f,index:h,offset:d}:null}).filter(_a):n.ticks?n.ticks(c).map((f,h)=>{var m=n.map(f);return Qt(m)?{coordinate:m+d,value:f,index:h,offset:d}:null}).filter(_a):n.domain().map((f,h)=>{var m=n.map(f);return Qt(m)?{coordinate:m+d,value:i?i[f]:f,index:h,offset:d}:null}).filter(_a)}},z9=je([mr,zg,Xc,Fg,s2,l2,gi],X0e),B9=je(fa,Xc,(t,e)=>{if(!(t==null||e==null))return A0(A0({},t),{},{scale:e})}),Z0e=je([fa,Gh,i2,D9],a2);je((t,e,n)=>e2(t,n),Z0e,(t,e)=>{if(!(t==null||e==null))return A0(A0({},t),{},{scale:e})});var Q0e=je([mr,uw,dw],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$9=t=>t.options.defaultTooltipEventType,F9=t=>t.options.validateTooltipEventTypes;function U9(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function c2(t,e){var n=$9(t),r=F9(t);return U9(e,n,r)}function J0e(t){return At(e=>c2(e,t))}var H9=(t,e)=>{var n,r=Number(e);if(!(Dl(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},exe=t=>t.tooltip.settings,$c={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},txe={itemInteraction:{click:$c,hover:$c},axisInteraction:{click:$c,hover:$c},keyboardInteraction:$c,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},V9=Pa({name:"tooltip",initialState:txe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:or()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Go(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:or()},removeTooltipEntrySettings:{reducer(t,e){var n=Go(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:or()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:nxe,replaceTooltipEntrySettings:rxe,removeTooltipEntrySettings:ixe,setTooltipSettingsState:axe,setActiveMouseOverItemIndex:oxe,mouseLeaveItem:ePe,mouseLeaveChart:q9,setActiveClickItemIndex:tPe,setMouseOverAxisIndex:G9,setMouseClickAxisIndex:sxe,setSyncInteraction:aT,setKeyboardInteraction:oT}=V9.actions,lxe=V9.reducer;function oB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(n),!0).forEach(function(r){cxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cxe(t,e,n){return(e=uxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uxe(t){var e=dxe(t,"string");return typeof e=="symbol"?e:e+""}function dxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fxe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function hxe(t){return t.index!=null}var Y9=(t,e,n,r)=>{if(e==null)return $c;var i=fxe(t,e,n);if(i==null)return $c;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(hxe(i)){if(a)return Hy(Hy({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Hy(Hy({},$c),{},{coordinate:i.coordinate})};function pxe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function mxe(t,e){var n=pxe(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function gxe(t,e,n){if(n==null||e==null)return!0;var r=Di(t,e);return r==null||!Il(n)?!0:mxe(r,n)}var u2=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!Qt(a))return i;var o=0,s=1/0;e.length>0&&(s=e.length-1);var c=Math.max(o,Math.min(a,s)),d=e[c];return d==null||gxe(d,n,r)?String(c):null},K9=(t,e,n,r,i,a,o)=>{if(a!=null){var s=o[0],c=s?.getPosition(a);if(c!=null)return c;var d=i?.[Number(a)];if(d)return n==="horizontal"?{x:d.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:d.coordinate}}},W9=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===i})},X9=t=>t.options.tooltipPayloadSearcher,Yh=t=>t.tooltip;function sB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(n),!0).forEach(function(r){vxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vxe(t,e,n){return(e=yxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yxe(t){var e=bxe(t,"string");return typeof e=="symbol"?e:e+""}function bxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xxe(t,e){return t??e}var Z9=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:s,computedData:c,dataStartIndex:d,dataEndIndex:f}=n,h=[];return t.reduce((m,v)=>{var b,{dataDefinedOnItem:x,settings:S}=v,C=xxe(x,s),T=Array.isArray(C)?k8(C,d,f):C,E=(b=S?.dataKey)!==null&&b!==void 0?b:r,k=S?.nameKey,M;if(r&&Array.isArray(T)&&!Array.isArray(T[0])&&o==="axis"?M=LU(T,r,i):M=a(T,e,c,k),Array.isArray(M))M.forEach(j=>{var I=lB(lB({},S),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});m.push(s3({tooltipEntrySettings:I,dataKey:j.dataKey,payload:j.payload,value:Di(j.payload,j.dataKey),name:j.name}))});else{var D;m.push(s3({tooltipEntrySettings:S,dataKey:E,payload:M,value:Di(M,E),name:(D=Di(M,k))!==null&&D!==void 0?D:S?.name}))}return m},h)}},d2=je([Qr,a9,YO],k9),wxe=je([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Sxe=je([vi,Vh],o9),Kh=je([wxe,Qr,Sxe],l9,{memoizeOptions:{resultEqualityCheck:Ow}}),Cxe=je([Kh],t=>t.filter(JO)),Axe=je([Kh],d9,{memoizeOptions:{resultEqualityCheck:Ow}}),Wh=je([Axe,ou],f9),_xe=je([Cxe,ou,Qr],n9),f2=je([Wh,Qr,Kh],h9),Q9=je([Qr],n2),Exe=je([Qr],t=>t.allowDataOverflow),J9=je([Q9,Exe],IH),Txe=je([Kh],t=>t.filter(JO)),kxe=je([_xe,Txe,Aw,KH],m9),Pxe=je([kxe,ou,vi,J9],g9),Oxe=je([Kh],u9),Mxe=je([Wh,Qr,Oxe,r2,vi],b9,{memoizeOptions:{resultEqualityCheck:Pw}}),Dxe=je([x9,vi,Vh],qh),jxe=je([Dxe,vi],C9),Rxe=je([w9,vi,Vh],qh),Lxe=je([Rxe,vi],A9),Nxe=je([S9,vi,Vh],qh),Ixe=je([Nxe,vi],_9),zxe=je([jxe,Ixe,Lxe],_0),Bxe=je([Qr,Q9,J9,Pxe,Mxe,zxe,mr,vi],E9),Ug=je([Qr,mr,Wh,f2,Aw,vi,Bxe],T9),$xe=je([Ug,Qr,d2],P9),Fxe=je([Qr,Ug,$xe,vi],O9),e7=t=>{var e=vi(t),n=Vh(t),r=!1;return Fg(t,e,n,r)},t7=je([Qr,e7],_w),n7=je([Qr,d2,Fxe,t7],a2),Uxe=je([mr,f2,Qr,vi],L9),Hxe=je([mr,f2,Qr,vi],N9),Vxe=(t,e,n,r,i,a,o,s)=>{if(e){var{type:c}=e,d=Yl(t,s);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=c==="category"&&r.bandwidth?r.bandwidth()/f:0;return h=s==="angleAxis"&&i!=null&&i?.length>=2?wo(i[0]-i[1])*2*h:h,d&&o?o.map((m,v)=>{var b=r.map(m);return Qt(b)?{coordinate:b+h,value:m,index:v,offset:h}:null}).filter(_a):r.domain().map((m,v)=>{var b=r.map(m);return Qt(b)?{coordinate:b+h,value:a?a[m]:m,index:v,offset:h}:null}).filter(_a)}}},Zl=je([mr,Qr,d2,n7,e7,Uxe,Hxe,vi],Vxe),h2=je([$9,F9,exe],(t,e,n)=>U9(n.shared,t,e)),r7=t=>t.tooltip.settings.trigger,p2=t=>t.tooltip.settings.defaultIndex,Hg=je([Yh,h2,r7,p2],Y9),ag=je([Hg,Wh,$g,Ug],u2),i7=je([Zl,ag],H9),qxe=je([Hg],t=>{if(t)return t.dataKey});je([Hg],t=>{if(t)return t.graphicalItemId});var a7=je([Yh,h2,r7,p2],W9),Gxe=je([Kl,Wl,mr,Ni,Zl,p2,a7],K9),Yxe=je([Hg,Gxe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Kxe=je([Hg],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),Wxe=je([a7,ag,ou,$g,i7,X9,h2],Z9),Xxe=je([Wxe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function cB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cB(Object(n),!0).forEach(function(r){Zxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zxe(t,e,n){return(e=Qxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qxe(t){var e=Jxe(t,"string");return typeof e=="symbol"?e:e+""}function Jxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ewe=()=>At(Qr),twe=()=>{var t=ewe(),e=At(Zl),n=At(n7);return n0(!t||!n?void 0:uB(uB({},t),{},{scale:n}),e)};function dB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(n),!0).forEach(function(r){nwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nwe(t,e,n){return(e=rwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rwe(t){var e=iwe(t,"string");return typeof e=="symbol"?e:e+""}function iwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var awe=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},owe=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:o}=r;return zf(zf(zf({},r),Pi(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:c}=r;return zf(zf(zf({},r),Pi(r.cx,r.cy,s,c)),{},{angle:c,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function swe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var o7=(t,e,n,r,i)=>{var a,o=(a=e?.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<o;s++){var c,d,f,h,m,v=s>0?(c=n[s-1])===null||c===void 0?void 0:c.coordinate:(d=n[o-1])===null||d===void 0?void 0:d.coordinate,b=(f=n[s])===null||f===void 0?void 0:f.coordinate,x=s>=o-1?(h=n[0])===null||h===void 0?void 0:h.coordinate:(m=n[s+1])===null||m===void 0?void 0:m.coordinate,S=void 0;if(!(v==null||b==null||x==null))if(wo(b-v)!==wo(x-b)){var C=[];if(wo(x-b)===wo(i[1]-i[0])){S=x;var T=b+i[1]-i[0];C[0]=Math.min(T,(T+v)/2),C[1]=Math.max(T,(T+v)/2)}else{S=v;var E=x+i[1]-i[0];C[0]=Math.min(b,(E+b)/2),C[1]=Math.max(b,(E+b)/2)}var k=[Math.min(b,(S+b)/2),Math.max(b,(S+b)/2)];if(t>k[0]&&t<=k[1]||t>=C[0]&&t<=C[1]){var M;return(M=n[s])===null||M===void 0?void 0:M.index}}else{var D=Math.min(v,x),j=Math.max(v,x);if(t>(D+b)/2&&t<=(j+b)/2){var I;return(I=n[s])===null||I===void 0?void 0:I.index}}}else if(e)for(var B=0;B<o;B++){var G=e[B];if(G!=null){var V=e[B+1],K=e[B-1];if(B===0&&V!=null&&t<=(G.coordinate+V.coordinate)/2||B===o-1&&K!=null&&t>(G.coordinate+K.coordinate)/2||B>0&&B<o-1&&K!=null&&V!=null&&t>(G.coordinate+K.coordinate)/2&&t<=(G.coordinate+V.coordinate)/2)return G.index}}return-1},lwe=()=>At(YO),m2=(t,e)=>e,s7=(t,e,n)=>n,g2=(t,e,n,r)=>r,cwe=je(Zl,t=>ew(t,e=>e.coordinate)),v2=je([Yh,m2,s7,g2],Y9),y2=je([v2,Wh,$g,Ug],u2),uwe=(t,e,n)=>{if(e!=null){var r=Yh(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},l7=je([Yh,m2,s7,g2],W9),E0=je([Kl,Wl,mr,Ni,Zl,g2,l7],K9),dwe=je([v2,E0],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),c7=je([Zl,y2],H9),fwe=je([l7,y2,ou,$g,c7,X9,m2],Z9),hwe=je([v2,y2],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),pwe=(t,e,n,r,i,a,o)=>{if(!(!t||!n||!r||!i)&&swe(t,o)){var s=Tpe(t,e),c=o7(s,a,i,n,r),d=awe(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},mwe=(t,e,n,r,i,a,o)=>{if(!(!t||!r||!i||!a||!n)){var s=Xge(t,n);if(s){var c=kpe(s,e),d=o7(c,o,a,r,i),f=owe(e,a,d,s);return{activeIndex:String(d),activeCoordinate:f}}}},gwe=(t,e,n,r,i,a,o,s)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?pwe(t,e,r,i,a,o,s):mwe(t,e,n,r,i,a,o)},vwe=je(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),ywe=je(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Oi)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Wbe}});function fB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fB(Object(n),!0).forEach(function(r){bwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bwe(t,e,n){return(e=xwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xwe(t){var e=wwe(t,"string");return typeof e=="symbol"?e:e+""}function wwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Swe={},Cwe={zIndexMap:Object.values(Oi).reduce((t,e)=>hB(hB({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Swe)},Awe=new Set(Object.values(Oi));function _we(t){return Awe.has(t)}var u7=Pa({name:"zIndex",initialState:Cwe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:or()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!_we(n)&&delete t.zIndexMap[n])},prepare:or()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:or()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:or()}}}),{registerZIndexPortal:Ewe,unregisterZIndexPortal:Twe,registerZIndexPortalElement:kwe,unregisterZIndexPortalElement:Pwe}=u7.actions,Owe=u7.reducer;function Qo(t){var{zIndex:e,children:n}=t,r=sme(),i=r&&e!==void 0&&e!==0,a=Xi(),o=Sr();w.useLayoutEffect(()=>i?(o(Ewe({zIndex:e})),()=>{o(Twe({zIndex:e}))}):Bh,[o,e,i]);var s=At(c=>vwe(c,e,a));return i?s?Td.createPortal(n,s):null:n}function sT(){return sT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sT.apply(null,arguments)}function pB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pB(Object(n),!0).forEach(function(r){Mwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mwe(t,e,n){return(e=Dwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dwe(t){var e=jwe(t,"string");return typeof e=="symbol"?e:e+""}function jwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rwe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function Lwe(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:c,tooltipEventType:d,chartName:f}=t,h=n,m=r,v=i;if(!c||!h||f!=="ScatterChart"&&d!=="axis")return null;var b,x,S;if(f==="ScatterChart")b=h,x=cge,S=Oi.cursorLine;else if(f==="BarChart")b=uge(s,h,a,o),x=xO,S=Oi.cursorRectangle;else if(s==="radial"&&IU(h)){var{cx:C,cy:T,radius:E,startAngle:k,endAngle:M}=eH(h);b={cx:C,cy:T,startAngle:k,endAngle:M,innerRadius:E,outerRadius:E},x=nH,S=Oi.cursorLine}else b={points:eve(s,h,a)},x=W8,S=Oi.cursorLine;var D=typeof c=="object"&&"className"in c?c.className:void 0,j=Vy(Vy(Vy(Vy({stroke:"#ccc",pointerEvents:"none"},a),b),Wx(c)),{},{payload:m,payloadIndex:v,className:Ot("recharts-tooltip-cursor",D)});return w.createElement(Qo,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},w.createElement(Rwe,{cursor:c,cursorComp:x,cursorProps:j}))}function Nwe(t){var e=twe(),n=z8(),r=$h(),i=lwe();return e==null||n==null||r==null||i==null?null:w.createElement(Lwe,sT({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var d7=w.createContext(null),Iwe=()=>w.useContext(d7),u_={exports:{}},mB;function zwe(){return mB||(mB=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function a(c,d,f,h,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,h||c,m),b=n?n+d:d;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],v]:c._events[b].push(v):(c._events[b]=v,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)e.call(f,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},s.prototype.listeners=function(d){var f=n?n+d:d,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,v=h.length,b=new Array(v);m<v;m++)b[m]=h[m].fn;return b},s.prototype.listenerCount=function(d){var f=n?n+d:d,h=this._events[f];return h?h.fn?1:h.length:0},s.prototype.emit=function(d,f,h,m,v,b){var x=n?n+d:d;if(!this._events[x])return!1;var S=this._events[x],C=arguments.length,T,E;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),C){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,f),!0;case 3:return S.fn.call(S.context,f,h),!0;case 4:return S.fn.call(S.context,f,h,m),!0;case 5:return S.fn.call(S.context,f,h,m,v),!0;case 6:return S.fn.call(S.context,f,h,m,v,b),!0}for(E=1,T=new Array(C-1);E<C;E++)T[E-1]=arguments[E];S.fn.apply(S.context,T)}else{var k=S.length,M;for(E=0;E<k;E++)switch(S[E].once&&this.removeListener(d,S[E].fn,void 0,!0),C){case 1:S[E].fn.call(S[E].context);break;case 2:S[E].fn.call(S[E].context,f);break;case 3:S[E].fn.call(S[E].context,f,h);break;case 4:S[E].fn.call(S[E].context,f,h,m);break;default:if(!T)for(M=1,T=new Array(C-1);M<C;M++)T[M-1]=arguments[M];S[E].fn.apply(S[E].context,T)}}return!0},s.prototype.on=function(d,f,h){return a(this,d,f,h,!1)},s.prototype.once=function(d,f,h){return a(this,d,f,h,!0)},s.prototype.removeListener=function(d,f,h,m){var v=n?n+d:d;if(!this._events[v])return this;if(!f)return o(this,v),this;var b=this._events[v];if(b.fn)b.fn===f&&(!m||b.once)&&(!h||b.context===h)&&o(this,v);else{for(var x=0,S=[],C=b.length;x<C;x++)(b[x].fn!==f||m&&!b[x].once||h&&b[x].context!==h)&&S.push(b[x]);S.length?this._events[v]=S.length===1?S[0]:S:o(this,v)}return this},s.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(u_)),u_.exports}var Bwe=zwe();const $we=ua(Bwe);var og=new $we,lT="recharts.syncEvent.tooltip",gB="recharts.syncEvent.brush",Fwe=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Dl(n))return t[n]}},Uwe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},f7=Pa({name:"options",initialState:Uwe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Hwe=f7.reducer,{createEventEmitter:Vwe}=f7.actions;function qwe(t){return t.tooltip.syncInteraction}var Gwe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},h7=Pa({name:"chartData",initialState:Gwe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:vB,setDataStartEndIndexes:Ywe,setComputedData:nPe}=h7.actions,Kwe=h7.reducer,Wwe=["x","y"];function yB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yB(Object(n),!0).forEach(function(r){Xwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xwe(t,e,n){return(e=Zwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zwe(t){var e=Qwe(t,"string");return typeof e=="symbol"?e:e+""}function Qwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jwe(t,e){if(t==null)return{};var n,r,i=e1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function e1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function t1e(){var t=At(KO),e=At(WO),n=Sr(),r=At(WH),i=At(Zl),a=$h(),o=Mg(),s=At(c=>c.rootProps.className);w.useEffect(()=>{if(t==null)return Bh;var c=(d,f,h)=>{if(e!==h&&t===d){if(r==="index"){var m;if(o&&f!==null&&f!==void 0&&(m=f.payload)!==null&&m!==void 0&&m.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x:b,y:x}=v,S=Jwe(v,Wwe),{x:C,y:T,width:E,height:k}=f.payload.sourceViewBox,M=Bf(Bf({},S),{},{x:o.x+(E?(b-C)/E:0)*o.width,y:o.y+(k?(x-T)/k:0)*o.height});n(Bf(Bf({},f),{},{payload:Bf(Bf({},f.payload),{},{coordinate:M})}))}else n(f);return}if(i!=null){var D;if(typeof r=="function"){var j={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},I=r(i,j);D=i[I]}else r==="value"&&(D=i.find(L=>String(L.value)===f.payload.label));var{coordinate:B}=f.payload;if(D==null||f.payload.active===!1||B==null||o==null){n(aT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:V}=B,K=Math.min(G,o.x+o.width),te=Math.min(V,o.y+o.height),X={x:a==="horizontal"?D.coordinate:K,y:a==="horizontal"?te:D.coordinate},J=aT({active:f.payload.active,coordinate:X,dataKey:f.payload.dataKey,index:String(D.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(J)}}};return og.on(lT,c),()=>{og.off(lT,c)}},[s,n,e,t,r,i,a,o])}function n1e(){var t=At(KO),e=At(WO),n=Sr();w.useEffect(()=>{if(t==null)return Bh;var r=(i,a,o)=>{e!==o&&t===i&&n(Ywe(a))};return og.on(gB,r),()=>{og.off(gB,r)}},[n,e,t])}function r1e(){var t=Sr();w.useEffect(()=>{t(Vwe())},[t]),t1e(),n1e()}function i1e(t,e,n,r,i,a){var o=At(v=>uwe(v,t,e)),s=At(WO),c=At(KO),d=At(WH),f=At(qwe),h=f?.active,m=Mg();w.useEffect(()=>{if(!h&&c!=null&&s!=null){var v=aT({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});og.emit(lT,c,v,s)}},[h,n,o,i,r,s,c,d,a,m])}function bB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bB(Object(n),!0).forEach(function(r){a1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a1e(t,e,n){return(e=o1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o1e(t){var e=s1e(t,"string");return typeof e=="symbol"?e:e+""}function s1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l1e(t){return t.dataKey}function c1e(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(Ume,e)}var wB=[],u1e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function p7(t){var e,n,r=pi(t,u1e),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:c,filterNull:d,isAnimationActive:f,offset:h,payloadUniqBy:m,position:v,reverseDirection:b,useTranslate3d:x,wrapperStyle:S,cursor:C,shared:T,trigger:E,defaultIndex:k,portal:M,axisId:D}=r,j=Sr(),I=typeof k=="number"?String(k):k;w.useEffect(()=>{j(axe({shared:T,trigger:E,axisId:D,active:i,defaultIndex:I}))},[j,T,E,D,i,I]);var B=Mg(),G=K8(),V=J0e(T),{activeIndex:K,isActive:te}=(e=At(be=>hwe(be,V,E,I)))!==null&&e!==void 0?e:{},X=At(be=>fwe(be,V,E,I)),J=At(be=>c7(be,V,E,I)),L=At(be=>dwe(be,V,E,I)),U=X,F=Iwe(),q=(n=i??te)!==null&&n!==void 0?n:!1,[W,z]=QU([U,q]),Y=V==="axis"?J:void 0;i1e(V,E,L,Y,K,q);var ne=M??F;if(ne==null||B==null||V==null)return null;var ie=U??wB;q||(ie=wB),d&&ie.length&&(ie=YU(ie.filter(be=>be.value!=null&&(be.hide!==!0||r.includeHidden)),m,l1e));var ue=ie.length>0,we=w.createElement(Wme,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:f,active:q,coordinate:L,hasPayload:ue,offset:h,position:v,reverseDirection:b,useTranslate3d:x,viewBox:B,wrapperStyle:S,lastBoundingBox:W,innerRef:z,hasPortalFromProps:!!M},c1e(c,xB(xB({},r),{},{payload:ie,label:Y,active:q,activeIndex:K,coordinate:L,accessibilityLayer:G})));return w.createElement(w.Fragment,null,Td.createPortal(we,ne),q&&w.createElement(Nwe,{cursor:C,tooltipEventType:V,coordinate:L,payload:ie,index:K}))}function d1e(t,e,n){return(e=f1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f1e(t){var e=h1e(t,"string");return typeof e=="symbol"?e:e+""}function h1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class p1e{constructor(e){d1e(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function SB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SB(Object(n),!0).forEach(function(r){g1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g1e(t,e,n){return(e=v1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v1e(t){var e=y1e(t,"string");return typeof e=="symbol"?e:e+""}function y1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b1e={cacheSize:2e3,enableCache:!0},m7=m1e({},b1e),CB=new p1e(m7.cacheSize),x1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AB="recharts_measurement_span";function w1e(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",s=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var _B=(t,e)=>{try{var n=document.getElementById(AB);n||(n=document.createElement("span"),n.setAttribute("id",AB),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,x1e,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},jm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||vw.isSsr)return{width:0,height:0};if(!m7.enableCache)return _B(e,n);var r=w1e(e,n),i=CB.get(r);if(i)return i;var a=_B(e,n);return CB.set(r,a),a},g7;function S1e(t,e,n){return(e=C1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C1e(t){var e=A1e(t,"string");return typeof e=="symbol"?e:e+""}function A1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,E1e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,T1e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},k1e=["cm","mm","pt","pc","in","Q","px"];function P1e(t){return k1e.includes(t)}var Xf="NaN";function O1e(t,e){return t*T1e[e]}class Ei{static parse(e){var n,[,r,i]=(n=E1e.exec(e))!==null&&n!==void 0?n:[];return r==null?Ei.NaN:new Ei(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Dl(e)&&(this.unit=""),n!==""&&!_1e.test(n)&&(this.num=NaN,this.unit=""),P1e(n)&&(this.num=O1e(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Dl(this.num)}}g7=Ei;S1e(Ei,"NaN",new g7(NaN,""));function v7(t){if(t==null||t.includes(Xf))return Xf;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=EB.exec(e))!==null&&n!==void 0?n:[],o=Ei.parse(r??""),s=Ei.parse(a??""),c=i==="*"?o.multiply(s):o.divide(s);if(c.isNaN())return Xf;e=e.replace(EB,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,h,m]=(d=TB.exec(e))!==null&&d!==void 0?d:[],v=Ei.parse(f??""),b=Ei.parse(m??""),x=h==="+"?v.add(b):v.subtract(b);if(x.isNaN())return Xf;e=e.replace(TB,x.toString())}return e}var kB=/\(([^()]*)\)/;function M1e(t){for(var e=t,n;(n=kB.exec(e))!=null;){var[,r]=n;e=e.replace(kB,v7(r))}return e}function D1e(t){var e=t.replace(/\s+/g,"");return e=M1e(e),e=v7(e),e}function j1e(t){try{return D1e(t)}catch{return Xf}}function d_(t){var e=j1e(t.slice(5,-1));return e===Xf?"":e}var R1e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],L1e=["dx","dy","angle","className","breakAll"];function cT(){return cT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cT.apply(null,arguments)}function PB(t,e){if(t==null)return{};var n,r,i=N1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function N1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var y7=/[ \f\n\r\t\v\u2028\u2029]+/,b7=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Li(e)||(n?i=e.toString().split(""):i=e.toString().split(y7));var a=i.map(s=>({word:s,width:jm(s,r).width})),o=n?0:jm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function I1e(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var x7=(t,e,n,r)=>t.reduce((i,a)=>{var{word:o,width:s}=a,c=i[i.length-1];if(c&&s!=null&&(e==null||r||c.width+s+n<Number(e)))c.words.push(o),c.width+=s+n;else{var d={words:[o],width:s};i.push(d)}return i},[]),w7=t=>t.reduce((e,n)=>e.width>n.width?e:n),z1e="",OB=(t,e,n,r,i,a,o,s)=>{var c=t.slice(0,e),d=b7({breakAll:n,style:r,children:c+z1e});if(!d)return[!1,[]];var f=x7(d.wordsWithComputedWidth,a,o,s),h=f.length>i||w7(f).width>Number(a);return[h,f]},B1e=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:c}=t,d=Et(a),f=String(o),h=x7(e,r,n,i);if(!d||i)return h;var m=h.length>a||w7(h).width>Number(r);if(!m)return h;for(var v=0,b=f.length-1,x=0,S;v<=b&&x<=f.length-1;){var C=Math.floor((v+b)/2),T=C-1,[E,k]=OB(f,T,c,s,a,r,n,i),[M]=OB(f,C,c,s,a,r,n,i);if(!E&&!M&&(v=C+1),E&&M&&(b=C-1),!E&&M){S=k;break}x++}return S||h},MB=t=>{var e=Li(t)?[]:t.toString().split(y7);return[{words:e,width:void 0}]},$1e=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!vw.isSsr){var s,c,d=b7({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:h}=d;s=f,c=h}else return MB(r);return B1e({breakAll:a,children:r,maxLines:o,style:i},s,c,e,!!n)}return MB(r)},S7="#808080",F1e={angle:0,breakAll:!1,capHeight:"0.71em",fill:S7,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},b2=w.forwardRef((t,e)=>{var n=pi(t,F1e),{x:r,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:c,textAnchor:d,verticalAnchor:f}=n,h=PB(n,R1e),m=w.useMemo(()=>$1e({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:v,dy:b,angle:x,className:S,breakAll:C}=h,T=PB(h,L1e);if(!Gi(r)||!Gi(i)||m.length===0)return null;var E=Number(r)+(Et(v)?v:0),k=Number(i)+(Et(b)?b:0);if(!Qt(E)||!Qt(k))return null;var M;switch(f){case"start":M=d_("calc(".concat(o,")"));break;case"middle":M=d_("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:M=d_("calc(".concat(m.length-1," * -").concat(a,")"));break}var D=[],j=m[0];if(c&&j!=null){var I=j.width,{width:B}=h;D.push("scale(".concat(Et(B)&&Et(I)?B/I:1,")"))}return x&&D.push("rotate(".concat(x,", ").concat(E,", ").concat(k,")")),D.length&&(T.transform=D.join(" ")),w.createElement("text",cT({},Ri(T),{ref:e,x:E,y:k,className:Ot("recharts-text",S),textAnchor:d,fill:s.includes("url")?S7:s}),m.map((G,V)=>{var K=G.words.join(C?"":" ");return w.createElement("tspan",{x:E,dy:V===0?M:a,key:"".concat(K,"-").concat(V)},K)}))});b2.displayName="Text";function DB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DB(Object(n),!0).forEach(function(r){U1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U1e(t,e,n){return(e=H1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H1e(t){var e=V1e(t,"string");return typeof e=="symbol"?e:e+""}function V1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q1e=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:a,y:o,height:s,upperWidth:c,lowerWidth:d}=fO(e),f=a,h=a+(c-d)/2,m=(f+h)/2,v=(c+d)/2,b=f+c/2,x=s>=0?1:-1,S=x*r,C=x>0?"end":"start",T=x>0?"start":"end",E=c>=0?1:-1,k=E*r,M=E>0?"end":"start",D=E>0?"start":"end",j=i;if(n==="top"){var I={x:f+c/2,y:o-S,horizontalAnchor:"middle",verticalAnchor:C};return j&&(I.height=Math.max(o-j.y,0),I.width=c),I}if(n==="bottom"){var B={x:h+d/2,y:o+s+S,horizontalAnchor:"middle",verticalAnchor:T};return j&&(B.height=Math.max(j.y+j.height-(o+s),0),B.width=d),B}if(n==="left"){var G={x:m-k,y:o+s/2,horizontalAnchor:M,verticalAnchor:"middle"};return j&&(G.width=Math.max(G.x-j.x,0),G.height=s),G}if(n==="right"){var V={x:m+v+k,y:o+s/2,horizontalAnchor:D,verticalAnchor:"middle"};return j&&(V.width=Math.max(j.x+j.width-V.x,0),V.height=s),V}var K=j?{width:v,height:s}:{};return n==="insideLeft"?gs({x:m+k,y:o+s/2,horizontalAnchor:D,verticalAnchor:"middle"},K):n==="insideRight"?gs({x:m+v-k,y:o+s/2,horizontalAnchor:M,verticalAnchor:"middle"},K):n==="insideTop"?gs({x:f+c/2,y:o+S,horizontalAnchor:"middle",verticalAnchor:T},K):n==="insideBottom"?gs({x:h+d/2,y:o+s-S,horizontalAnchor:"middle",verticalAnchor:C},K):n==="insideTopLeft"?gs({x:f+k,y:o+S,horizontalAnchor:D,verticalAnchor:T},K):n==="insideTopRight"?gs({x:f+c-k,y:o+S,horizontalAnchor:M,verticalAnchor:T},K):n==="insideBottomLeft"?gs({x:h+k,y:o+s-S,horizontalAnchor:D,verticalAnchor:C},K):n==="insideBottomRight"?gs({x:h+d-k,y:o+s-S,horizontalAnchor:M,verticalAnchor:C},K):n&&typeof n=="object"&&(Et(n.x)||yd(n.x))&&(Et(n.y)||yd(n.y))?gs({x:a+Wc(n.x,v),y:o+Wc(n.y,s),horizontalAnchor:"end",verticalAnchor:"end"},K):gs({x:b,y:o+s/2,horizontalAnchor:"middle",verticalAnchor:"middle"},K)},G1e=["labelRef"],Y1e=["content"];function jB(t,e){if(t==null)return{};var n,r,i=K1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function K1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function RB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RB(Object(n),!0).forEach(function(r){W1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W1e(t,e,n){return(e=X1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X1e(t){var e=Z1e(t,"string");return typeof e=="symbol"?e:e+""}function Z1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(null,arguments)}var C7=w.createContext(null),x2=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:s}=t,c=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[e,n,r,i,a,o]);return w.createElement(C7.Provider,{value:c},s)},A7=()=>{var t=w.useContext(C7),e=Mg();return t||(e?fO(e):void 0)},Q1e=w.createContext(null),J1e=()=>{var t=w.useContext(Q1e),e=At(e9);return t||e},eSe=t=>{var{value:e,formatter:n}=t,r=Li(t.children)?e:t.children;return typeof n=="function"?n(r):r},w2=t=>t!=null&&typeof t=="function",tSe=(t,e)=>{var n=wo(e-t),r=Math.min(Math.abs(e-t),360);return n*r},nSe=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:s,cy:c,innerRadius:d,outerRadius:f,startAngle:h,endAngle:m,clockWise:v}=i,b=(d+f)/2,x=tSe(h,m),S=x>=0?1:-1,C,T;switch(e){case"insideStart":C=h+S*a,T=v;break;case"insideEnd":C=m-S*a,T=!v;break;case"end":C=m+S*a,T=v;break;default:throw new Error("Unsupported position ".concat(e))}T=x<=0?T:!T;var E=Pi(s,c,b,C),k=Pi(s,c,b,C+(T?1:-1)*359),M="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(T?0:1,`,
    `).concat(k.x,",").concat(k.y),D=Li(t.id)?Gm("recharts-radial-line-"):t.id;return w.createElement("text",wl({},r,{dominantBaseline:"central",className:Ot("recharts-radial-bar-label",o)}),w.createElement("defs",null,w.createElement("path",{id:D,d:M})),w.createElement("textPath",{xlinkHref:"#".concat(D)},n))},rSe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:c}=t,d=(s+c)/2;if(n==="outside"){var{x:f,y:h}=Pi(r,i,o+e,d);return{x:f,y:h,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+o)/2,{x:v,y:b}=Pi(r,i,m,d);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},db=t=>t!=null&&"cx"in t&&Et(t.cx),iSe={angle:0,offset:5,zIndex:Oi.label,position:"middle",textBreakAll:!1};function aSe(t){if(!db(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Ic(t){var e=pi(t,iSe),{viewBox:n,parentViewBox:r,position:i,value:a,children:o,content:s,className:c="",textBreakAll:d,labelRef:f}=e,h=J1e(),m=A7(),v=i==="center"?m:h??m,b,x,S;n==null?b=v:db(n)?b=n:b=fO(n);var C=aSe(b);if(!b||Li(a)&&Li(o)&&!w.isValidElement(s)&&typeof s!="function")return null;var T=Am(Am({},e),{},{viewBox:b});if(w.isValidElement(s)){var{labelRef:E}=T,k=jB(T,G1e);return w.cloneElement(s,k)}if(typeof s=="function"){var{content:M}=T,D=jB(T,Y1e);if(x=w.createElement(s,D),w.isValidElement(x))return x}else x=eSe(e);var j=Ri(e);if(db(b)){if(i==="insideStart"||i==="insideEnd"||i==="end")return nSe(e,i,x,j,b);S=rSe(b,e.offset,e.position)}else{if(!C)return null;var I=q1e({viewBox:C,position:i,offset:e.offset,parentViewBox:db(r)?void 0:r});S=Am(Am({x:I.x,y:I.y,textAnchor:I.horizontalAnchor,verticalAnchor:I.verticalAnchor},I.width!==void 0?{width:I.width}:{}),I.height!==void 0?{height:I.height}:{})}return w.createElement(Qo,{zIndex:e.zIndex},w.createElement(b2,wl({ref:f,className:Ot("recharts-label",c)},j,S,{textAnchor:I1e(j.textAnchor)?j.textAnchor:S.textAnchor,breakAll:d}),x))}Ic.displayName="Label";var oSe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Ic,wl({key:"label-implicit"},r)):Gi(t)?w.createElement(Ic,wl({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Ic?w.cloneElement(t,Am({key:"label-implicit"},r)):w.createElement(Ic,wl({key:"label-implicit",content:t},r)):w2(t)?w.createElement(Ic,wl({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Ic,wl({},t,{key:"label-implicit"},r)):null};function S2(t){var{label:e,labelRef:n}=t,r=A7();return oSe(e,r,n)||null}var f_={},h_={},LB;function sSe(){return LB||(LB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(h_)),h_}var p_={},NB;function lSe(){return NB||(NB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(p_)),p_}var IB;function cSe(){return IB||(IB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sSe(),n=lSe(),r=nO();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(f_)),f_}var m_,zB;function uSe(){return zB||(zB=1,m_=cSe().last),m_}var dSe=uSe();const fSe=ua(dSe);var hSe=["valueAccessor"],pSe=["dataKey","clockWise","id","textBreakAll","zIndex"];function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T0.apply(null,arguments)}function BB(t,e){if(t==null)return{};var n,r,i=mSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gSe=t=>Array.isArray(t.value)?fSe(t.value):t.value,_7=w.createContext(void 0),vSe=_7.Provider,E7=w.createContext(void 0);E7.Provider;function ySe(){return w.useContext(_7)}function bSe(){return w.useContext(E7)}function fb(t){var{valueAccessor:e=gSe}=t,n=BB(t,hSe),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:s}=n,c=BB(n,pSe),d=ySe(),f=bSe(),h=d||f;return!h||!h.length?null:w.createElement(Qo,{zIndex:s??Oi.label},w.createElement(Rs,{className:"recharts-label-list"},h.map((m,v)=>{var b,x=Li(r)?e(m,v):Di(m.payload,r),S=Li(a)?{}:{id:"".concat(a,"-").concat(v)};return w.createElement(Ic,T0({key:"label-".concat(v)},Ri(m),c,S,{fill:(b=n.fill)!==null&&b!==void 0?b:m.fill,parentViewBox:m.parentViewBox,value:x,textBreakAll:o,viewBox:m.viewBox,index:v,zIndex:0}))})))}fb.displayName="LabelList";function xSe(t){var{label:e}=t;return e?e===!0?w.createElement(fb,{key:"labelList-implicit"}):w.isValidElement(e)||w2(e)?w.createElement(fb,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(fb,T0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function uT(){return uT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uT.apply(null,arguments)}var T7=t=>{var{cx:e,cy:n,r,className:i}=t,a=Ot("recharts-dot",i);return Et(e)&&Et(n)&&Et(r)?w.createElement("circle",uT({},js(t),tO(t),{className:a,cx:e,cy:n,r})):null},wSe={radiusAxis:{},angleAxis:{}},k7=Pa({name:"polarAxis",initialState:wSe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:rPe,removeRadiusAxis:iPe,addAngleAxis:aPe,removeAngleAxis:oPe}=k7.actions,SSe=k7.reducer;function CSe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var P7=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,g_={},$B;function ASe(){return $B||($B=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(g_)),g_}var v_,FB;function _Se(){return FB||(FB=1,v_=ASe().isPlainObject),v_}var ESe=_Se();const TSe=ua(ESe);var UB,HB,VB,qB,GB;function YB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(n),!0).forEach(function(r){kSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kSe(t,e,n){return(e=PSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PSe(t){var e=OSe(t,"string");return typeof e=="symbol"?e:e+""}function OSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k0.apply(null,arguments)}function mm(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var WB=(t,e,n,r,i)=>{var a=n-r,o;return o=xr(UB||(UB=mm(["M ",",",""])),t,e),o+=xr(HB||(HB=mm(["L ",",",""])),t+n,e),o+=xr(VB||(VB=mm(["L ",",",""])),t+n-a/2,e+i),o+=xr(qB||(qB=mm(["L ",",",""])),t+n-a/2-r,e+i),o+=xr(GB||(GB=mm(["L ",","," Z"])),t,e),o},MSe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DSe=t=>{var e=pi(t,MSe),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:s}=e,{animationEasing:c,animationDuration:d,animationBegin:f,isUpdateAnimationActive:h}=e,m=w.useRef(null),[v,b]=w.useState(-1),x=w.useRef(i),S=w.useRef(a),C=w.useRef(o),T=w.useRef(n),E=w.useRef(r),k=bO(t,"trapezoid-");if(w.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var X=m.current.getTotalLength();X&&b(X)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var M=Ot("recharts-trapezoid",s);if(!h)return w.createElement("g",null,w.createElement("path",k0({},Ri(e),{className:M,d:WB(n,r,i,a,o)})));var D=x.current,j=S.current,I=C.current,B=T.current,G=E.current,V="0px ".concat(v===-1?1:v,"px"),K="".concat(v,"px 0px"),te=X8(["strokeDasharray"],d,c);return w.createElement(yO,{animationId:k,key:k,canBegin:v>0,duration:d,easing:c,isActive:h,begin:f},X=>{var J=Aa(D,i,X),L=Aa(j,a,X),U=Aa(I,o,X),F=Aa(B,n,X),q=Aa(G,r,X);m.current&&(x.current=J,S.current=L,C.current=U,T.current=F,E.current=q);var W=X>0?{transition:te,strokeDasharray:K}:{strokeDasharray:V};return w.createElement("path",k0({},Ri(e),{className:M,d:WB(F,q,J,L,U),ref:m,style:KB(KB({},W),e.style)}))})},jSe=["option","shapeType","activeClassName"];function RSe(t,e){if(t==null)return{};var n,r,i=LSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function XB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XB(Object(n),!0).forEach(function(r){NSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NSe(t,e,n){return(e=ISe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ISe(t){var e=zSe(t,"string");return typeof e=="symbol"?e:e+""}function zSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BSe(t,e){return P0(P0({},e),t)}function $Se(t,e){return t==="symbols"}function ZB(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(xO,n);case"trapezoid":return w.createElement(DSe,n);case"sector":return w.createElement(nH,n);case"symbols":if($Se(e))return w.createElement(eO,n);break;case"curve":return w.createElement(W8,n);default:return null}}function FSe(t){return w.isValidElement(t)?t.props:t}function USe(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=RSe(t,jSe),a;if(w.isValidElement(e))a=w.cloneElement(e,P0(P0({},i),FSe(e)));else if(typeof e=="function")a=e(i,i.index);else if(TSe(e)&&typeof e!="boolean"){var o=BSe(e,i);a=w.createElement(ZB,{shapeType:n,elementProps:o})}else{var s=i;a=w.createElement(ZB,{shapeType:n,elementProps:s})}return i.isActive?w.createElement(Rs,{className:r},a):a}function HSe(t){var{tooltipEntrySettings:e}=t,n=Sr(),r=Xi(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(nxe(e)):i.current!==e&&n(rxe({prev:i.current,next:e})),i.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{i.current&&(n(ixe(i.current)),i.current=null)},[n]),null}function VSe(t){var{legendPayload:e}=t,n=Sr(),r=Xi(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(wme(e)):i.current!==e&&n(Sme({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(Cme(i.current)),i.current=null)},[n]),null}var y_,qSe=()=>{var[t]=w.useState(()=>Gm("uid-"));return t},GSe=(y_=bT.useId)!==null&&y_!==void 0?y_:qSe;function YSe(t,e){var n=GSe();return e||(t?"".concat(t,"-").concat(n):n)}var KSe=w.createContext(void 0),WSe=t=>{var{id:e,type:n,children:r}=t,i=YSe("recharts-".concat(n),e);return w.createElement(KSe.Provider,{value:i},r(i))},XSe={cartesianItems:[],polarItems:[]},O7=Pa({name:"graphicalItems",initialState:XSe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:or()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Go(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:or()},removeCartesianGraphicalItem:{reducer(t,e){var n=Go(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:or()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:or()},removePolarGraphicalItem:{reducer(t,e){var n=Go(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:or()}}}),{addCartesianGraphicalItem:ZSe,replaceCartesianGraphicalItem:QSe,removeCartesianGraphicalItem:JSe,addPolarGraphicalItem:sPe,removePolarGraphicalItem:lPe}=O7.actions,eCe=O7.reducer,tCe=t=>{var e=Sr(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(ZSe(t)):n.current!==t&&e(QSe({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(JSe(n.current)),n.current=null)},[e]),null},nCe=w.memo(tCe),rCe=["points"];function QB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QB(Object(n),!0).forEach(function(r){iCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iCe(t,e,n){return(e=aCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aCe(t){var e=oCe(t,"string");return typeof e=="symbol"?e:e+""}function oCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(null,arguments)}function sCe(t,e){if(t==null)return{};var n,r,i=lCe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cCe(t){var{option:e,dotProps:n,className:r}=t;if(w.isValidElement(e))return w.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Ot(r,typeof e!="boolean"?e.className:""),a=n??{},{points:o}=a,s=sCe(a,rCe);return w.createElement(T7,O0({},s,{className:i}))}function uCe(t,e){return t==null?!1:e?!0:t.length===1}function dCe(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:s,clipPathId:c,zIndex:d=Oi.scatter}=t;if(!uCe(e,n))return null;var f=P7(n),h=ade(n),m=e.map((b,x)=>{var S,C,T=b_(b_(b_({r:3},o),h),{},{index:x,cx:(S=b.x)!==null&&S!==void 0?S:void 0,cy:(C=b.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:b.value,payload:b.payload,points:e});return w.createElement(cCe,{key:"dot-".concat(x),option:n,dotProps:T,className:i})}),v={};return s&&c!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(c,")")),w.createElement(Qo,{zIndex:d},w.createElement(Rs,O0({className:r},v),m))}function JB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JB(Object(n),!0).forEach(function(r){fCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fCe(t,e,n){return(e=hCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hCe(t){var e=pCe(t,"string");return typeof e=="symbol"?e:e+""}function pCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mCe={xAxis:{},yAxis:{},zAxis:{}},M7=Pa({name:"cartesianAxis",initialState:mCe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:or()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:or()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:or()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:or()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:or()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:or()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:or()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:or()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:or()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a,o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-((a=o[0])!==null&&a!==void 0?a:0))<=1)return;var s=[...o,r].slice(-3);t.yAxis[n]=e5(e5({},i),{},{width:r,widthHistory:s})}}}}),{addXAxis:gCe,replaceXAxis:vCe,removeXAxis:yCe,addYAxis:bCe,replaceYAxis:xCe,removeYAxis:wCe,addZAxis:cPe,replaceZAxis:uPe,removeZAxis:dPe,updateYAxisWidth:SCe}=M7.actions,CCe=M7.reducer,ACe=je([Ni],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),_Ce=je([ACe,Kl,Wl],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),C2=()=>At(_Ce),ECe=()=>At(Xxe);function t5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(n),!0).forEach(function(r){TCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TCe(t,e,n){return(e=kCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kCe(t){var e=PCe(t,"string");return typeof e=="symbol"?e:e+""}function PCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OCe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=t;if(i===!1||e.x==null||e.y==null)return null;var s={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=x_(x_(x_({},s),Wx(i)),tO(i)),d;return w.isValidElement(i)?d=w.cloneElement(i,c):typeof i=="function"?d=i(c):d=w.createElement(T7,c),w.createElement(Rs,{className:"recharts-active-dot",clipPath:o},d)};function MCe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Oi.activeDot}=t,s=At(ag),c=ECe();if(e==null||c==null)return null;var d=e.find(f=>c.includes(f.payload));return Li(d)?null:w.createElement(Qo,{zIndex:o},w.createElement(OCe,{point:d,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var DCe=t=>{var{chartData:e}=t,n=Sr(),r=Xi();return w.useEffect(()=>r?()=>{}:(n(vB(e)),()=>{n(vB(void 0))}),[e,n,r]),null},n5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},D7=Pa({name:"brush",initialState:n5,reducers:{setBrushSettings(t,e){return e.payload==null?n5:e.payload}}}),{setBrushSettings:fPe}=D7.actions,jCe=D7.reducer,j7=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},RCe=t=>{var{x1:e,y1:n,x2:r,y2:i}=t;return j7({x:e,y:n},{x:r,y:i})};function LCe(t){return(t%180+180)%180}var NCe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=LCe(i),o=a*Math.PI/180,s=Math.atan(r/n),c=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},ICe={dots:[],areas:[],lines:[]},R7=Pa({name:"referenceElements",initialState:ICe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Go(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Go(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Go(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:hPe,removeDot:pPe,addArea:zCe,removeArea:BCe,addLine:$Ce,removeLine:FCe}=R7.actions,UCe=R7.reducer,L7=w.createContext(void 0),HCe=t=>{var{children:e}=t,[n]=w.useState("".concat(Gm("recharts"),"-clip")),r=C2();if(r==null)return null;var{x:i,y:a,width:o,height:s}=r;return w.createElement(L7.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:a,height:s,width:o}))),e)},N7=()=>w.useContext(L7);class I7{constructor(e){var{x:n,y:r}=e;this.xAxisScale=n,this.yAxisScale=r}map(e,n){var r,i,{position:a}=n;return{x:(r=this.xAxisScale.map(e.x,{position:a}))!==null&&r!==void 0?r:0,y:(i=this.yAxisScale.map(e.y,{position:a}))!==null&&i!==void 0?i:0}}mapWithFallback(e,n){var r,i,{position:a,fallback:o}=n,s,c;return o==="rangeMin"?s=this.yAxisScale.rangeMin():o==="rangeMax"?s=this.yAxisScale.rangeMax():s=0,o==="rangeMin"?c=this.xAxisScale.rangeMin():o==="rangeMax"?c=this.xAxisScale.rangeMax():c=0,{x:(r=this.xAxisScale.map(e.x,{position:a}))!==null&&r!==void 0?r:c,y:(i=this.yAxisScale.map(e.y,{position:a}))!==null&&i!==void 0?i:s}}isInRange(e){var{x:n,y:r}=e,i=n==null||this.xAxisScale.isInRange(n),a=r==null||this.yAxisScale.isInRange(r);return i&&a}}function r5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r5(Object(n),!0).forEach(function(r){VCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VCe(t,e,n){return(e=qCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qCe(t){var e=GCe(t,"string");return typeof e=="symbol"?e:e+""}function GCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M0.apply(null,arguments)}var YCe=(t,e)=>{var n;if(w.isValidElement(t))n=w.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{if(!Qt(e.x1)||!Qt(e.y1)||!Qt(e.x2)||!Qt(e.y2))return null;n=w.createElement("line",M0({},e,{className:"recharts-reference-line-line"}))}return n},KCe=(t,e,n,r,i,a)=>{var{x:o,width:s}=a,c=i.map(t,{position:n});if(!Qt(c)||e==="discard"&&!i.isInRange(c))return null;var d=[{x:o+s,y:c},{x:o,y:c}];return r==="left"?d.reverse():d},WCe=(t,e,n,r,i,a)=>{var{y:o,height:s}=a,c=i.map(t,{position:n});if(!Qt(c)||e==="discard"&&!i.isInRange(c))return null;var d=[{x:c,y:o+s},{x:c,y:o}];return r==="top"?d.reverse():d},XCe=(t,e,n,r)=>{var i=[r.mapWithFallback(t[0],{position:n,fallback:"rangeMin"}),r.mapWithFallback(t[1],{position:n,fallback:"rangeMax"})];return e==="discard"&&i.some(a=>!r.isInRange(a))?null:i},ZCe=(t,e,n,r,i,a,o)=>{var{x:s,y:c,segment:d,ifOverflow:f}=o,h=Gi(s),m=Gi(c);return m?KCe(c,f,r,a,e,n):h?WCe(s,f,r,i,t,n):d!=null&&d.length===2?XCe(d,f,r,new I7({x:t,y:e})):null};function QCe(t){var e=Sr();return w.useEffect(()=>(e($Ce(t)),()=>{e(FCe(t))})),null}function JCe(t){var{xAxisId:e,yAxisId:n,shape:r,className:i,ifOverflow:a}=t,o=Xi(),s=N7(),c=At(j=>$s(j,e)),d=At(j=>Fs(j,n)),f=At(j=>Xc(j,"xAxis",e,o)),h=At(j=>Xc(j,"yAxis",n,o)),m=Mg();if(!s||!m||c==null||d==null||f==null||h==null)return null;var v=ZCe(f,h,m,t.position,c.orientation,d.orientation,t);if(!v)return null;var b=v[0],x=v[1];if(b==null||x==null)return null;var{x:S,y:C}=b,{x:T,y:E}=x,k=a==="hidden"?"url(#".concat(s,")"):void 0,M=i5(i5({clipPath:k},Ri(t)),{},{x1:S,y1:C,x2:T,y2:E}),D=RCe({x1:S,y1:C,x2:T,y2:E});return w.createElement(Qo,{zIndex:t.zIndex},w.createElement(Rs,{className:Ot("recharts-reference-line",i)},YCe(r,M),w.createElement(x2,M0({},D,{lowerWidth:D.width,upperWidth:D.width}),w.createElement(S2,{label:t.label}),t.children)))}var eAe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Oi.line};function dT(t){var e=pi(t,eAe);return w.createElement(w.Fragment,null,w.createElement(QCe,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y,segment:e.segment}),w.createElement(JCe,e))}dT.displayName="ReferenceLine";function a5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(n),!0).forEach(function(r){tAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tAe(t,e,n){return(e=nAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nAe(t){var e=rAe(t,"string");return typeof e=="symbol"?e:e+""}function rAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D0.apply(null,arguments)}var iAe=(t,e,n,r,i,a,o)=>{var s,c,d,f,{x1:h,x2:m,y1:v,y2:b}=o;if(i==null||a==null)return null;var x=new I7({x:i,y:a}),S={x:t?(s=i.map(h,{position:"start"}))!==null&&s!==void 0?s:null:i.rangeMin(),y:n?(c=a.map(v,{position:"start"}))!==null&&c!==void 0?c:null:a.rangeMin()},C={x:e?(d=i.map(m,{position:"end"}))!==null&&d!==void 0?d:null:i.rangeMax(),y:r?(f=a.map(b,{position:"end"}))!==null&&f!==void 0?f:null:a.rangeMax()};return o.ifOverflow==="discard"&&(!x.isInRange(S)||!x.isInRange(C))?null:j7(S,C)},aAe=(t,e)=>{var n;return w.isValidElement(t)?n=w.cloneElement(t,e):typeof t=="function"?n=t(e):n=w.createElement(xO,D0({},e,{className:"recharts-reference-area-rect"})),n};function oAe(t){var e=Sr();return w.useEffect(()=>(e(zCe(t)),()=>{e(BCe(t))})),null}function sAe(t){var{x1:e,x2:n,y1:r,y2:i,className:a,shape:o,xAxisId:s,yAxisId:c}=t,d=N7(),f=Xi(),h=At(k=>Xc(k,"xAxis",s,f)),m=At(k=>Xc(k,"yAxis",c,f));if(h==null||m==null)return null;var v=Gi(e),b=Gi(n),x=Gi(r),S=Gi(i);if(!v&&!b&&!x&&!S&&!o)return null;var C=iAe(v,b,x,S,h,m,t);if(!C&&!o)return null;var T=t.ifOverflow==="hidden",E=T?"url(#".concat(d,")"):void 0;return w.createElement(Qo,{zIndex:t.zIndex},w.createElement(Rs,{className:Ot("recharts-reference-area",a)},aAe(o,o5(o5({clipPath:E},Ri(t)),C)),C!=null&&w.createElement(x2,D0({},C,{lowerWidth:C.width,upperWidth:C.width}),w.createElement(S2,{label:t.label}),t.children)))}var lAe={ifOverflow:"discard",xAxisId:0,yAxisId:0,radius:0,fill:"#ccc",label:!1,fillOpacity:.5,stroke:"none",strokeWidth:1,zIndex:Oi.area};function z7(t){var e=pi(t,lAe);return w.createElement(w.Fragment,null,w.createElement(oAe,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}),w.createElement(sAe,e))}z7.displayName="ReferenceArea";function B7(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function cAe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return NCe(r,n)}function uAe(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:s}=t;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function sg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function dAe(t,e){return B7(t,e+1)}function fAe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:s}=e,c=0,d=1,f=o,h=function(){var b=r?.[c];if(b===void 0)return{v:B7(r,d)};var x=c,S,C=()=>(S===void 0&&(S=n(b,x)),S),T=b.coordinate,E=c===0||sg(t,T,C,f,s);E||(c=0,f=o,d+=1),E&&(f=T+t*(C()/2+i),c+=d)},m;d<=a.length;)if(m=h(),m)return m.v;return[]}function hAe(t,e,n,r,i){var a=(r||[]).slice(),o=a.length;if(o===0)return[];for(var{start:s,end:c}=e,d=1;d<=o;d++){for(var f=(o-1)%d,h=s,m=!0,v=function(){var k=r[x];if(k==null)return 0;var M=x,D,j=()=>(D===void 0&&(D=n(k,M)),D),I=k.coordinate,B=x===f||sg(t,I,j,h,c);if(!B)return m=!1,1;B&&(h=I+t*(j()/2+i))},b,x=f;x<o&&(b=v(),!(b!==0&&b===1));x+=d);if(m){for(var S=[],C=f;C<o;C+=d){var T=r[C];T!=null&&S.push(T)}return S}}return[]}function s5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s5(Object(n),!0).forEach(function(r){pAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pAe(t,e,n){return(e=mAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mAe(t){var e=gAe(t,"string");return typeof e=="symbol"?e:e+""}function gAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vAe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=e,{end:c}=e,d=function(m){var v=a[m];if(v==null)return 1;var b=v,x,S=()=>(x===void 0&&(x=n(v,m)),x);if(m===o-1){var C=t*(b.coordinate+t*S()/2-c);a[m]=b=Fi(Fi({},b),{},{tickCoord:C>0?b.coordinate-C*t:b.coordinate})}else a[m]=b=Fi(Fi({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var T=sg(t,b.tickCoord,S,s,c);T&&(c=b.tickCoord-t*(S()/2+i),a[m]=Fi(Fi({},b),{},{isShow:!0}))}},f=o-1;f>=0;f--)d(f);return a}function yAe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:c,end:d}=e;if(a){var f=r[s-1];if(f!=null){var h=n(f,s-1),m=t*(f.coordinate+t*h/2-d);if(o[s-1]=f=Fi(Fi({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate}),f.tickCoord!=null){var v=sg(t,f.tickCoord,()=>h,c,d);v&&(d=f.tickCoord-t*(h/2+i),o[s-1]=Fi(Fi({},f),{},{isShow:!0}))}}}for(var b=a?s-1:s,x=function(T){var E=o[T];if(E==null)return 1;var k=E,M,D=()=>(M===void 0&&(M=n(E,T)),M);if(T===0){var j=t*(k.coordinate-t*D()/2-c);o[T]=k=Fi(Fi({},k),{},{tickCoord:j<0?k.coordinate-j*t:k.coordinate})}else o[T]=k=Fi(Fi({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var I=sg(t,k.tickCoord,D,c,d);I&&(c=k.tickCoord+t*(D()/2+i),o[T]=Fi(Fi({},k),{},{isShow:!0}))}},S=0;S<b;S++)x(S);return o}function A2(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:c,tickFormatter:d,unit:f,angle:h}=t;if(!i||!i.length||!r)return[];if(Et(c)||vw.isSsr){var m;return(m=dAe(i,Et(c)?c:0))!==null&&m!==void 0?m:[]}var v=[],b=s==="top"||s==="bottom"?"width":"height",x=f&&b==="width"?jm(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(M,D)=>{var j=typeof d=="function"?d(M.value,D):M.value;return b==="width"?cAe(jm(j,{fontSize:e,letterSpacing:n}),x,h):jm(j,{fontSize:e,letterSpacing:n})[b]},C=i[0],T=i[1],E=i.length>=2&&C!=null&&T!=null?wo(T.coordinate-C.coordinate):1,k=uAe(a,E,b);return c==="equidistantPreserveStart"?fAe(E,k,S,i,o):c==="equidistantPreserveEnd"?hAe(E,k,S,i,o):(c==="preserveStart"||c==="preserveStartEnd"?v=yAe(E,k,S,i,o,c==="preserveStartEnd"):v=vAe(E,k,S,i,o),v.filter(M=>M.isShow))}var bAe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){Array.from(e).forEach(f=>{if(f){var h=f.getBoundingClientRect();h.width>o&&(o=h.width)}});var s=n?n.getBoundingClientRect().width:0,c=i+a,d=o+c+s+(n?r:0);return Math.round(d)}return 0},xAe=["axisLine","width","height","className","hide","ticks","axisType"];function wAe(t,e){if(t==null)return{};var n,r,i=SAe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SAe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cd.apply(null,arguments)}function l5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(n),!0).forEach(function(r){CAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CAe(t,e,n){return(e=AAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AAe(t){var e=_Ae(t,"string");return typeof e=="symbol"?e:e+""}function _Ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tl={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Oi.axis};function EAe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:c}=t;if(!s)return null;var d=br(br(br({},c),js(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!o||a==="bottom"&&o);d=br(br({},d),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var h=+(a==="left"&&!o||a==="right"&&o);d=br(br({},d),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return w.createElement("line",Cd({},d,{className:Ot("recharts-cartesian-axis-line",Jx(s,"className"))}))}function TAe(t,e,n,r,i,a,o,s,c){var d,f,h,m,v,b,x=s?-1:1,S=t.tickSize||o,C=Et(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,m=n+ +!s*i,h=m-x*S,b=h-x*c,v=C;break;case"left":h=m=t.coordinate,f=e+ +!s*r,d=f-x*S,v=d-x*c,b=C;break;case"right":h=m=t.coordinate,f=e+ +s*r,d=f+x*S,v=d+x*c,b=C;break;default:d=f=t.coordinate,m=n+ +s*i,h=m+x*S,b=h+x*c,v=C;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:v,y:b}}}function kAe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function PAe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function OAe(t){var{option:e,tickProps:n,value:r}=t,i,a=Ot(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,br(br({},n),{},{className:a}));else if(typeof e=="function")i=e(br(br({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=Ot(o,CSe(e))),i=w.createElement(b2,Cd({},n,{className:o}),r)}return i}var MAe=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:c,tickTextProps:d,orientation:f,mirror:h,x:m,y:v,width:b,height:x,tickSize:S,tickMargin:C,fontSize:T,letterSpacing:E,getTicksConfig:k,events:M,axisType:D}=t,j=A2(br(br({},k),{},{ticks:n}),T,E),I=kAe(f,h),B=PAe(f,h),G=js(k),V=Wx(r),K={};typeof i=="object"&&(K=i);var te=br(br({},G),{},{fill:"none"},K),X=j.map(U=>br({entry:U},TAe(U,m,v,b,x,f,S,h,C))),J=X.map(U=>{var{entry:F,line:q}=U;return w.createElement(Rs,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},i&&w.createElement("line",Cd({},te,q,{className:Ot("recharts-cartesian-axis-tick-line",Jx(i,"className"))})))}),L=X.map((U,F)=>{var q,W,{entry:z,tick:Y}=U,ne=br(br(br(br({verticalAnchor:B},G),{},{textAnchor:I,stroke:"none",fill:a},Y),{},{index:F,payload:z,visibleTicksCount:j.length,tickFormatter:o,padding:c},d),{},{angle:(q=(W=d?.angle)!==null&&W!==void 0?W:G.angle)!==null&&q!==void 0?q:0}),ie=br(br({},ne),V);return w.createElement(Rs,Cd({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},zU(M,z,F)),r&&w.createElement(OAe,{option:r,tickProps:ie,value:"".concat(typeof o=="function"?o(z.value,F):z.value).concat(s||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},L.length>0&&w.createElement(Qo,{zIndex:Oi.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},L)),J.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},J))}),DAe=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:s,axisType:c}=t,d=wAe(t,xAe),[f,h]=w.useState(""),[m,v]=w.useState(""),b=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return bAe({ticks:b.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var x=w.useCallback(S=>{if(S){var C=S.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=C;var T=C[0];if(T){var E=window.getComputedStyle(T),k=E.fontSize,M=E.letterSpacing;(k!==f||M!==m)&&(h(k),v(M))}}},[f,m]);return o||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(Qo,{zIndex:t.zIndex},w.createElement(Rs,{className:Ot("recharts-cartesian-axis",a)},w.createElement(EAe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:js(t)}),w.createElement(MAe,{ref:x,axisType:c,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:m,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:s,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(x2,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(S2,{label:t.label,labelRef:t.labelRef}),t.children)))}),_2=w.forwardRef((t,e)=>{var n=pi(t,Tl);return w.createElement(DAe,Cd({},n,{ref:e}))});_2.displayName="CartesianAxis";var jAe=["x1","y1","x2","y2","key"],RAe=["offset"],LAe=["xAxisId","yAxisId"],NAe=["xAxisId","yAxisId"];function c5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c5(Object(n),!0).forEach(function(r){IAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IAe(t,e,n){return(e=zAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zAe(t){var e=BAe(t,"string");return typeof e=="symbol"?e:e+""}function BAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qu(){return Qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qu.apply(null,arguments)}function j0(t,e){if(t==null)return{};var n,r,i=$Ae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $Ae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var FAe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:s}=t;return w.createElement("rect",{x:r,y:i,ry:s,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function $7(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:o,x2:s,y2:c,key:d}=n,f=j0(n,jAe),h=(i=js(f))!==null&&i!==void 0?i:{},{offset:m}=h,v=j0(h,RAe);r=w.createElement("line",Qu({},v,{x1:a,y1:o,x2:s,y2:c,fill:"none",key:d}))}return r}function UAe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,s=j0(t,LAe),c=i.map((d,f)=>{var h=Hi(Hi({},s),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(f),index:f});return w.createElement($7,{key:"line-".concat(f),option:r,lineItemProps:h})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function HAe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,s=j0(t,NAe),c=i.map((d,f)=>{var h=Hi(Hi({},s),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(f),index:f});return w.createElement($7,{option:r,lineItemProps:h,key:"line-".concat(f)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function VAe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:s,horizontal:c=!0}=t;if(!c||!e||!e.length||s==null)return null;var d=s.map(h=>Math.round(h+i-i)).sort((h,m)=>h-m);i!==d[0]&&d.unshift(0);var f=d.map((h,m)=>{var v=d[m+1],b=v==null,x=b?i+o-h:v-h;if(x<=0)return null;var S=m%e.length;return w.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:x,width:a,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function qAe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var d=c.map(h=>Math.round(h+i-i)).sort((h,m)=>h-m);i!==d[0]&&d.unshift(0);var f=d.map((h,m)=>{var v=d[m+1],b=v==null,x=b?i+o-h:v-h;if(x<=0)return null;var S=m%n.length;return w.createElement("rect",{key:"react-".concat(m),x:h,y:a,width:x,height:s,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var GAe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return P8(A2(Hi(Hi(Hi({},Tl),n),{},{ticks:O8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},YAe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return P8(A2(Hi(Hi(Hi({},Tl),n),{},{ticks:O8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},KAe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Oi.grid};function E2(t){var e=hO(),n=pO(),r=z8(),i=Hi(Hi({},pi(t,KAe)),{},{x:Et(t.x)?t.x:r.left,y:Et(t.y)?t.y:r.top,width:Et(t.width)?t.width:r.width,height:Et(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:s,y:c,width:d,height:f,syncWithTicks:h,horizontalValues:m,verticalValues:v}=i,b=Xi(),x=At(B=>aB(B,"xAxis",a,b)),S=At(B=>aB(B,"yAxis",o,b));if(!Ls(d)||!Ls(f)||!Et(s)||!Et(c))return null;var C=i.verticalCoordinatesGenerator||GAe,T=i.horizontalCoordinatesGenerator||YAe,{horizontalPoints:E,verticalPoints:k}=i;if((!E||!E.length)&&typeof T=="function"){var M=m&&m.length,D=T({yAxis:S?Hi(Hi({},S),{},{ticks:M?m:S.ticks}):void 0,width:e??d,height:n??f,offset:r},M?!0:h);r0(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(E=D)}if((!k||!k.length)&&typeof C=="function"){var j=v&&v.length,I=C({xAxis:x?Hi(Hi({},x),{},{ticks:j?v:x.ticks}):void 0,width:e??d,height:n??f,offset:r},j?!0:h);r0(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(k=I)}return w.createElement(Qo,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(FAe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(VAe,Qu({},i,{horizontalPoints:E})),w.createElement(qAe,Qu({},i,{verticalPoints:k})),w.createElement(UAe,Qu({},i,{offset:r,horizontalPoints:E,xAxis:x,yAxis:S})),w.createElement(HAe,Qu({},i,{offset:r,verticalPoints:k,xAxis:x,yAxis:S}))))}E2.displayName="CartesianGrid";var WAe={},F7=Pa({name:"errorBars",initialState:WAe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:mPe,replaceErrorBar:gPe,removeErrorBar:vPe}=F7.actions,XAe=F7.reducer,ZAe=["children"];function QAe(t,e){if(t==null)return{};var n,r,i=JAe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function JAe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var e_e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},t_e=w.createContext(e_e);function n_e(t){var{children:e}=t,n=QAe(t,ZAe);return w.createElement(t_e.Provider,{value:n},e)}function U7(t,e){var n,r,i=At(d=>$s(d,t)),a=At(d=>Fs(d,e)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ci.allowDataOverflow,s=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ui.allowDataOverflow,c=o||s;return{needClip:c,needClipX:o,needClipY:s}}function r_e(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=C2(),{needClipX:a,needClipY:o,needClip:s}=U7(e,n);if(!s||!i)return null;var{x:c,y:d,width:f,height:h}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:a?c:c-f/2,y:o?d:d-h/2,width:a?f:f*2,height:o?h:h*2}))}var H7=(t,e,n,r)=>B9(t,"xAxis",e,r),V7=(t,e,n,r)=>z9(t,"xAxis",e,r),q7=(t,e,n,r)=>B9(t,"yAxis",n,r),G7=(t,e,n,r)=>z9(t,"yAxis",n,r),i_e=je([mr,H7,q7,V7,G7],(t,e,n,r,i)=>Yl(t,"xAxis")?n0(e,r,!1):n0(n,i,!1)),a_e=(t,e,n,r,i)=>i;function o_e(t){return t.type==="line"}var s_e=je([s9,a_e],(t,e)=>t.filter(o_e).find(n=>n.id===e)),l_e=je([mr,H7,q7,V7,G7,s_e,i_e,VO],(t,e,n,r,i,a,o,s)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:f}=s;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:h,data:m}=a,v;if(m!=null&&m.length>0?v=m:v=c?.slice(d,f+1),v!=null)return W_e({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:o,displayedData:v})}});function c_e(t){var e=Wx(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,o=Number(i),s=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}var w_={exports:{}},S_={};var u5;function u_e(){if(u5)return S_;u5=1;var t=Th();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,s=t.useDebugValue;return S_.useSyncExternalStoreWithSelector=function(c,d,f,h,m){var v=i(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=o(function(){function S(M){if(!C){if(C=!0,T=M,M=h(M),m!==void 0&&b.hasValue){var D=b.value;if(m(D,M))return E=D}return E=M}if(D=E,n(T,M))return D;var j=h(M);return m!==void 0&&m(D,j)?(T=M,D):(T=M,E=j)}var C=!1,T,E,k=f===void 0?null:f;return[function(){return S(d())},k===null?void 0:function(){return S(k())}]},[d,f,h,m]);var x=r(c,v[0],v[1]);return a(function(){b.hasValue=!0,b.value=x},[x]),s(x),x},S_}var d5;function d_e(){return d5||(d5=1,w_.exports=u_e()),w_.exports}d_e();function f_e(t){t()}function h_e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){f_e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var f5={notify(){},get:()=>[]};function p_e(t,e){let n,r=f5,i=0,a=!1;function o(x){f();const S=r.subscribe(x);let C=!1;return()=>{C||(C=!0,S(),h())}}function s(){r.notify()}function c(){b.onStateChange&&b.onStateChange()}function d(){return a}function f(){i++,n||(n=t.subscribe(c),r=h_e())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=f5)}function m(){a||(a=!0,f())}function v(){a&&(a=!1,h())}const b={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:v,getListeners:()=>r};return b}var m_e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g_e=m_e(),v_e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",y_e=v_e(),b_e=()=>g_e||y_e?w.useLayoutEffect:w.useEffect,x_e=b_e();function h5(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function w_e(t,e){if(h5(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!h5(t[n[i]],e[n[i]]))return!1;return!0}var S_e=Symbol.for("react-redux-context"),C_e=typeof globalThis<"u"?globalThis:{};function A_e(){if(!w.createContext)return{};const t=C_e[S_e]??=new Map;let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var __e=A_e();function E_e(t){const{children:e,context:n,serverState:r,store:i}=t,a=w.useMemo(()=>{const c=p_e(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=w.useMemo(()=>i.getState(),[i]);x_e(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const s=n||__e;return w.createElement(s.Provider,{value:a},e)}var T_e=E_e,k_e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function P_e(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function T2(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(k_e.has(r)){if(t[r]==null&&e[r]==null)continue;if(!w_e(t[r],e[r]))return!1}else if(!P_e(t[r],e[r]))return!1;return!0}var O_e=["id"],M_e=["type","layout","connectNulls","needClip","shape"],D_e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(null,arguments)}function p5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p5(Object(n),!0).forEach(function(r){j_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j_e(t,e,n){return(e=R_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R_e(t){var e=L_e(t,"string");return typeof e=="symbol"?e:e+""}function L_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k2(t,e){if(t==null)return{};var n,r,i=N_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function N_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var I_e=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:M8(n,e),payload:t}]},z_e=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:c,tooltipType:d,id:f}=t,h={dataDefinedOnItem:n,getPosition:Bh,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:M8(o,e),hide:s,type:d,color:r,unit:c,graphicalItemId:f}};return w.createElement(HSe,{tooltipEntrySettings:h})}),Y7=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function B_e(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var $_e=(t,e,n)=>{var r=n.reduce((v,b)=>v+b);if(!r)return Y7(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,s=[],c=0,d=0;c<n.length;d+=(f=n[c])!==null&&f!==void 0?f:0,++c){var f,h=n[c];if(h!=null&&d+h>a){s=[...n.slice(0,c),a-d];break}}var m=s.length%2===0?[0,o]:[o];return[...B_e(n,i),...s,...m].map(v=>"".concat(v,"px")).join(", ")};function F_e(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r,{id:s}=r,c=k2(r,O_e),d=js(c);return w.createElement(dCe,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:o,clipPathId:e})}function U_e(t){var{showLabels:e,children:n,points:r}=t,i=w.useMemo(()=>r?.map(a=>{var o,s,c={x:(o=a.x)!==null&&o!==void 0?o:0,y:(s=a.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return xs(xs({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(vSe,{value:e?i:void 0},n)}function m5(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:o,layout:s,connectNulls:c,needClip:d,shape:f}=a,h=k2(a,M_e),m=xs(xs({},Ri(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:s,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(USe,lg({shapeType:"curve",option:f},m,{pathRef:n})),w.createElement(F_e,{points:r,clipPathId:e,props:a}))}function H_e(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function V_e(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:s,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:h,animateNewValues:m,width:v,height:b,onAnimationEnd:x,onAnimationStart:S}=n,C=i.current,T=bO(o,"recharts-line-"),E=w.useRef(T),[k,M]=w.useState(!1),D=!k,j=w.useCallback(()=>{typeof x=="function"&&x(),M(!1)},[x]),I=w.useCallback(()=>{typeof S=="function"&&S(),M(!0)},[S]),B=H_e(r.current),G=w.useRef(0);E.current!==T&&(G.current=a.current,E.current=T);var V=G.current;return w.createElement(U_e,{points:o,showLabels:D},n.children,w.createElement(yO,{animationId:T,begin:d,duration:f,isActive:c,easing:h,onAnimationEnd:j,onAnimationStart:I,key:T},K=>{var te=Aa(V,B+V,K),X=Math.min(te,B),J;if(c)if(s){var L="".concat(s).split(/[,\s]+/gim).map(q=>parseFloat(q));J=$_e(X,B,L)}else J=Y7(B,X);else J=s==null?void 0:String(s);if(K>0&&B>0&&(i.current=o,a.current=Math.max(a.current,X)),C){var U=C.length/o.length,F=K===1?o:o.map((q,W)=>{var z=Math.floor(W*U);if(C[z]){var Y=C[z];return xs(xs({},q),{},{x:Aa(Y.x,q.x,K),y:Aa(Y.y,q.y,K)})}return m?xs(xs({},q),{},{x:Aa(v*2,q.x,K),y:Aa(b/2,q.y,K)}):xs(xs({},q),{},{x:q.x,y:q.y})});return i.current=F,w.createElement(m5,{props:n,points:F,clipPathId:e,pathRef:r,strokeDasharray:J})}return w.createElement(m5,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:J})}),w.createElement(xSe,{label:n.label}))}function q_e(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),i=w.useRef(0),a=w.useRef(null);return w.createElement(V_e,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var G_e=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Di(t.payload,e)}};class Y_e extends w.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:o,top:s,left:c,width:d,height:f,id:h,needClip:m,zIndex:v}=this.props;if(e)return null;var b=Ot("recharts-line",i),x=h,{r:S,strokeWidth:C}=c_e(n),T=P7(n),E=S*2+C,k=m?"url(#clipPath-".concat(T?"":"dots-").concat(x,")"):void 0;return w.createElement(Qo,{zIndex:v},w.createElement(Rs,{className:b},m&&w.createElement("defs",null,w.createElement(r_e,{clipPathId:x,xAxisId:a,yAxisId:o}),!T&&w.createElement("clipPath",{id:"clipPath-dots-".concat(x)},w.createElement("rect",{x:c-E/2,y:s-E/2,width:d+E,height:f+E}))),w.createElement(n_e,{xAxisId:a,yAxisId:o,data:r,dataPointFormatter:G_e,errorBarOffset:0},w.createElement(q_e,{props:this.props,clipPathId:x}))),w.createElement(MCe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var K7={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Oi.line,type:"linear"};function K_e(t){var e=pi(t,K7),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:c,hide:d,isAnimationActive:f,label:h,legendType:m,xAxisId:v,yAxisId:b,id:x}=e,S=k2(e,D_e),{needClip:C}=U7(v,b),T=C2(),E=$h(),k=Xi(),M=At(G=>l_e(G,v,b,k,x));if(E!=="horizontal"&&E!=="vertical"||M==null||T==null)return null;var{height:D,width:j,x:I,y:B}=T;return w.createElement(Y_e,lg({},S,{id:x,connectNulls:s,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:f,hide:d,label:h,legendType:m,xAxisId:v,yAxisId:b,points:M,layout:E,height:D,width:j,left:I,top:B,needClip:C}))}function W_e(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:c}=t;return c.map((d,f)=>{var h=Di(d,o);if(e==="horizontal"){var m=i3({axis:n,ticks:i,bandSize:s,entry:d,index:f}),v=Li(h)?null:r.scale.map(h);return{x:m,y:v??null,value:h,payload:d}}var b=Li(h)?null:n.scale.map(h),x=i3({axis:r,ticks:a,bandSize:s,entry:d,index:f});return b==null||x==null?null:{x:b,y:x,value:h,payload:d}}).filter(Boolean)}function X_e(t){var e=pi(t,K7),n=Xi();return w.createElement(WSe,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(VSe,{legendPayload:I_e(e)}),w.createElement(z_e,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(nCe,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(K_e,lg({},e,{id:r}))))}var P2=w.memo(X_e,T2);P2.displayName="Line";var Z_e=["domain","range"],Q_e=["domain","range"];function g5(t,e){if(t==null)return{};var n,r,i=J_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function J_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function v5(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function W7(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=g5(t,Z_e),{domain:a,range:o}=e,s=g5(e,Q_e);return!v5(n,a)||!v5(r,o)?!1:T2(i,s)}var eEe=["type"],tEe=["dangerouslySetInnerHTML","ticks","scale"],nEe=["id","scale"];function fT(){return fT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fT.apply(null,arguments)}function y5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y5(Object(n),!0).forEach(function(r){rEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rEe(t,e,n){return(e=iEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iEe(t){var e=aEe(t,"string");return typeof e=="symbol"?e:e+""}function aEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hT(t,e){if(t==null)return{};var n,r,i=oEe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sEe(t){var e=Sr(),n=w.useRef(null),r=B8(),{type:i}=t,a=hT(t,eEe),o=Ew(r,"xAxis",i),s=w.useMemo(()=>{if(o!=null)return b5(b5({},a),{},{type:o})},[a,o]);return w.useLayoutEffect(()=>{s!=null&&(n.current===null?e(gCe(s)):n.current!==s&&e(vCe({prev:n.current,next:s})),n.current=s)},[s,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(yCe(n.current)),n.current=null)},[e]),null}var lEe=t=>{var{xAxisId:e,className:n}=t,r=At(j8),i=Xi(),a="xAxis",o=At(C=>I9(C,a,e,i)),s=At(C=>B0e(C,e)),c=At(C=>q0e(C,e)),d=At(C=>r9(C,e));if(s==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h,scale:m}=t,v=hT(t,tEe),{id:b,scale:x}=d,S=hT(d,nEe);return w.createElement(_2,fT({},v,S,{x:c.x,y:c.y,width:s.width,height:s.height,className:Ot("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},cEe={allowDataOverflow:ci.allowDataOverflow,allowDecimals:ci.allowDecimals,allowDuplicatedCategory:ci.allowDuplicatedCategory,angle:ci.angle,axisLine:Tl.axisLine,height:ci.height,hide:!1,includeHidden:ci.includeHidden,interval:ci.interval,label:!1,minTickGap:ci.minTickGap,mirror:ci.mirror,orientation:ci.orientation,padding:ci.padding,reversed:ci.reversed,scale:ci.scale,tick:ci.tick,tickCount:ci.tickCount,tickLine:Tl.tickLine,tickSize:Tl.tickSize,type:ci.type,xAxisId:0},uEe=t=>{var e=pi(t,cEe);return w.createElement(w.Fragment,null,w.createElement(sEe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(lEe,e))},O2=w.memo(uEe,W7);O2.displayName="XAxis";var dEe=["type"],fEe=["dangerouslySetInnerHTML","ticks","scale"],hEe=["id","scale"];function pT(){return pT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pT.apply(null,arguments)}function x5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x5(Object(n),!0).forEach(function(r){pEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pEe(t,e,n){return(e=mEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mEe(t){var e=gEe(t,"string");return typeof e=="symbol"?e:e+""}function gEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mT(t,e){if(t==null)return{};var n,r,i=vEe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yEe(t){var e=Sr(),n=w.useRef(null),r=B8(),{type:i}=t,a=mT(t,dEe),o=Ew(r,"yAxis",i),s=w.useMemo(()=>{if(o!=null)return w5(w5({},a),{},{type:o})},[o,a]);return w.useLayoutEffect(()=>{s!=null&&(n.current===null?e(bCe(s)):n.current!==s&&e(xCe({prev:n.current,next:s})),n.current=s)},[s,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(wCe(n.current)),n.current=null)},[e]),null}function bEe(t){var{yAxisId:e,className:n,width:r,label:i}=t,a=w.useRef(null),o=w.useRef(null),s=At(j8),c=Xi(),d=Sr(),f="yAxis",h=At(D=>K0e(D,e)),m=At(D=>Y0e(D,e)),v=At(D=>I9(D,f,e,c)),b=At(D=>i9(D,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!h||w2(i)||w.isValidElement(i)||b==null)){var D=a.current;if(D){var j=D.getCalculatedWidth();Math.round(h.width)!==Math.round(j)&&d(SCe({id:e,width:j}))}}},[v,h,d,i,e,r,b]),h==null||m==null||b==null)return null;var{dangerouslySetInnerHTML:x,ticks:S,scale:C}=t,T=mT(t,fEe),{id:E,scale:k}=b,M=mT(b,hEe);return w.createElement(_2,pT({},T,M,{ref:a,labelRef:o,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:h.width,height:h.height,className:Ot("recharts-".concat(f," ").concat(f),n),viewBox:s,ticks:v,axisType:f}))}var xEe={allowDataOverflow:ui.allowDataOverflow,allowDecimals:ui.allowDecimals,allowDuplicatedCategory:ui.allowDuplicatedCategory,angle:ui.angle,axisLine:Tl.axisLine,hide:!1,includeHidden:ui.includeHidden,interval:ui.interval,label:!1,minTickGap:ui.minTickGap,mirror:ui.mirror,orientation:ui.orientation,padding:ui.padding,reversed:ui.reversed,scale:ui.scale,tick:ui.tick,tickCount:ui.tickCount,tickLine:Tl.tickLine,tickSize:Tl.tickSize,type:ui.type,width:ui.width,yAxisId:0},wEe=t=>{var e=pi(t,xEe);return w.createElement(w.Fragment,null,w.createElement(yEe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(bEe,e))},R0=w.memo(wEe,W7);R0.displayName="YAxis";var SEe=(t,e)=>e,M2=je([SEe,mr,e9,vi,t7,Zl,cwe,Ni],gwe),D2=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},X7=_o("mouseClick"),Z7=Pg();Z7.startListening({actionCreator:X7,effect:(t,e)=>{var n=t.payload,r=M2(e.getState(),D2(n));r?.activeIndex!=null&&e.dispatch(sxe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var gT=_o("mouseMove"),Q7=Pg(),qy=null;Q7.startListening({actionCreator:gT,effect:(t,e)=>{var n=t.payload;qy!==null&&cancelAnimationFrame(qy);var r=D2(n);qy=requestAnimationFrame(()=>{var i=e.getState(),a=c2(i,i.tooltip.settings.shared);if(a==="axis"){var o=M2(i,r);o?.activeIndex!=null?e.dispatch(G9({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(q9())}qy=null})}});function CEe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var S5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},J7=Pa({name:"rootProps",initialState:S5,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:S5.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),AEe=J7.reducer,{updateOptions:_Ee}=J7.actions,EEe=null,TEe={updatePolarOptions:(t,e)=>e.payload},eV=Pa({name:"polarOptions",initialState:EEe,reducers:TEe}),{updatePolarOptions:yPe}=eV.actions,kEe=eV.reducer,tV=_o("keyDown"),nV=_o("focus"),j2=Pg();j2.startListening({actionCreator:tV,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=u2(i,Wh(n),$g(n),Ug(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var c=Zl(n);if(a==="Enter"){var d=E0(n,"axis","hover",String(i.index));e.dispatch(oT({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var f=Q0e(n),h=f==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,v=s+m*h;if(!(c==null||v>=c.length||v<0)){var b=E0(n,"axis","hover",String(v));e.dispatch(oT({active:!0,activeIndex:v.toString(),activeCoordinate:b}))}}}}}});j2.startListening({actionCreator:nV,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=E0(n,"axis","hover",String(a));e.dispatch(oT({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var go=_o("externalEvent"),rV=Pg(),C_=new Map;rV.startListening({actionCreator:go,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=C_.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var s=e.getState(),c={activeCoordinate:Yxe(s),activeDataKey:qxe(s),activeIndex:ag(s),activeLabel:i7(s),activeTooltipIndex:ag(s),isTooltipActive:Kxe(s)};n(c,r)}finally{C_.delete(i)}});C_.set(i,o)}}});var PEe=je([Yh],t=>t.tooltipItemPayloads),OEe=je([PEe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),iV=_o("touchMove"),aV=Pg();aV.startListening({actionCreator:iV,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=c2(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var o=M2(r,D2({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&e.dispatch(G9({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(Ope),h=(s=d.getAttribute(Mpe))!==null&&s!==void 0?s:void 0,m=Kh(r).find(x=>x.id===h);if(f==null||m==null||h==null)return;var{dataKey:v}=m,b=OEe(r,f,h);e.dispatch(oxe({activeDataKey:v,activeIndex:f,activeCoordinate:b,activeGraphicalItemId:h}))}}}});var MEe=e8({brush:jCe,cartesianAxis:CCe,chartData:Kwe,errorBars:XAe,graphicalItems:eCe,layout:mpe,legend:Ame,options:Hwe,polarAxis:SSe,polarOptions:kEe,referenceElements:UCe,rootProps:AEe,tooltip:lxe,zIndex:Owe}),DEe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return $he({reducer:MEe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Z7.middleware,Q7.middleware,j2.middleware,rV.middleware,aV.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(m8({type:"raf"}))},devTools:{serialize:{replacer:CEe},name:"recharts-".concat(n)}})};function jEe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Xi(),a=w.useRef(null);if(i)return n;a.current==null&&(a.current=DEe(e,r));var o=iO;return w.createElement(T_e,{context:o,store:a.current},n)}function REe(t){var{layout:e,margin:n}=t,r=Sr(),i=Xi();return w.useEffect(()=>{i||(r(fpe(e)),r(dpe(n)))},[r,i,e,n]),null}var LEe=w.memo(REe,T2);function NEe(t){var e=Sr();return w.useEffect(()=>{e(_Ee(t))},[e,t]),null}function C5(t){var{zIndex:e,isPanorama:n}=t,r=w.useRef(null),i=Sr();return w.useLayoutEffect(()=>(r.current&&i(kwe({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Pwe({zIndex:e,isPanorama:n}))}),[i,e,n]),w.createElement("g",{tabIndex:-1,ref:r})}function A5(t){var{children:e,isPanorama:n}=t,r=At(ywe);if(!r||r.length===0)return e;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return w.createElement(w.Fragment,null,i.map(o=>w.createElement(C5,{key:o,zIndex:o,isPanorama:n})),e,a.map(o=>w.createElement(C5,{key:o,zIndex:o,isPanorama:n})))}var IEe=["children"];function zEe(t,e){if(t==null)return{};var n,r,i=BEe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L0.apply(null,arguments)}var $Ee={width:"100%",height:"100%",display:"block"},FEe=w.forwardRef((t,e)=>{var n=hO(),r=pO(),i=K8();if(!Ls(n)||!Ls(r))return null;var{children:a,otherAttributes:o,title:s,desc:c}=t,d,f;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?f=o.role:f=i?"application":void 0),w.createElement(YP,L0({},o,{title:s,desc:c,role:f,tabIndex:d,width:n,height:r,style:$Ee,ref:e}),a)}),UEe=t=>{var{children:e}=t,n=At(hw);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return w.createElement(YP,{width:r,height:i,x:o,y:a},e)},_5=w.forwardRef((t,e)=>{var{children:n}=t,r=zEe(t,IEe),i=Xi();return i?w.createElement(UEe,null,w.createElement(A5,{isPanorama:!0},n)):w.createElement(FEe,L0({ref:e},r),w.createElement(A5,{isPanorama:!1},n))});function HEe(){var t=Sr(),[e,n]=w.useState(null),r=At(Ppe);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Qt(a)&&a!==r&&t(ppe(a))}},[e,t,r]),n}function E5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E5(Object(n),!0).forEach(function(r){qEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qEe(t,e,n){return(e=GEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GEe(t){var e=YEe(t,"string");return typeof e=="symbol"?e:e+""}function YEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(null,arguments)}var KEe=()=>(r1e(),null);function N0(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var WEe=w.forwardRef((t,e)=>{var n,r,i=w.useRef(null),[a,o]=w.useState({containerWidth:N0((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:N0((r=t.style)===null||r===void 0?void 0:r.height)}),s=w.useCallback((d,f)=>{o(h=>{var m=Math.round(d),v=Math.round(f);return h.containerWidth===m&&h.containerHeight===v?h:{containerWidth:m,containerHeight:v}})},[]),c=w.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=d.getBoundingClientRect();s(f,h);var m=b=>{var x=b[0];if(x!=null){var{width:S,height:C}=x.contentRect;s(S,C)}},v=new ResizeObserver(m);v.observe(d),i.current=v}},[e,s]);return w.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[s]),w.createElement(w.Fragment,null,w.createElement(Dg,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",qc({ref:c},t)))}),XEe=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=w.useState({containerWidth:N0(n),containerHeight:N0(r)}),o=w.useCallback((c,d)=>{a(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),s=w.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:f}=c.getBoundingClientRect();o(d,f)}},[e,o]);return w.createElement(w.Fragment,null,w.createElement(Dg,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",qc({ref:s},t)))}),ZEe=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(Dg,{width:n,height:r}),w.createElement("div",qc({ref:e},t)))}),QEe=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?w.createElement(XEe,qc({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?w.createElement(ZEe,qc({},t,{width:n,height:r,ref:e})):w.createElement(w.Fragment,null,w.createElement(Dg,{width:n,height:r}),w.createElement("div",qc({ref:e},t)))});function JEe(t){return t?WEe:QEe}var eTe=w.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:h,onMouseUp:m,onTouchEnd:v,onTouchMove:b,onTouchStart:x,style:S,width:C,responsive:T,dispatchTouchEvents:E=!0}=t,k=w.useRef(null),M=Sr(),[D,j]=w.useState(null),[I,B]=w.useState(null),G=HEe(),V=dO(),K=V?.width>0?V.width:C,te=V?.height>0?V.height:i,X=w.useCallback(ae=>{G(ae),typeof e=="function"&&e(ae),j(ae),B(ae),ae!=null&&(k.current=ae)},[G,e,j,B]),J=w.useCallback(ae=>{M(X7(ae)),M(go({handler:a,reactEvent:ae}))},[M,a]),L=w.useCallback(ae=>{M(gT(ae)),M(go({handler:d,reactEvent:ae}))},[M,d]),U=w.useCallback(ae=>{M(q9()),M(go({handler:f,reactEvent:ae}))},[M,f]),F=w.useCallback(ae=>{M(gT(ae)),M(go({handler:h,reactEvent:ae}))},[M,h]),q=w.useCallback(()=>{M(nV())},[M]),W=w.useCallback(ae=>{M(tV(ae.key))},[M]),z=w.useCallback(ae=>{M(go({handler:o,reactEvent:ae}))},[M,o]),Y=w.useCallback(ae=>{M(go({handler:s,reactEvent:ae}))},[M,s]),ne=w.useCallback(ae=>{M(go({handler:c,reactEvent:ae}))},[M,c]),ie=w.useCallback(ae=>{M(go({handler:m,reactEvent:ae}))},[M,m]),ue=w.useCallback(ae=>{M(go({handler:x,reactEvent:ae}))},[M,x]),we=w.useCallback(ae=>{E&&M(iV(ae)),M(go({handler:b,reactEvent:ae}))},[M,E,b]),be=w.useCallback(ae=>{M(go({handler:v,reactEvent:ae}))},[M,v]),qe=JEe(T);return w.createElement(d7.Provider,{value:D},w.createElement(gU.Provider,{value:I},w.createElement(qe,{width:K??S?.width,height:te??S?.height,className:Ot("recharts-wrapper",r),style:VEe({position:"relative",cursor:"default",width:K,height:te},S),onClick:J,onContextMenu:z,onDoubleClick:Y,onFocus:q,onKeyDown:W,onMouseDown:ne,onMouseEnter:L,onMouseLeave:U,onMouseMove:F,onMouseUp:ie,onTouchEnd:be,onTouchMove:we,onTouchStart:ue,ref:X},w.createElement(KEe,null),n)))}),tTe=["width","height","responsive","children","className","style","compact","title","desc"];function nTe(t,e){if(t==null)return{};var n,r,i=rTe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var iTe=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:s,compact:c,title:d,desc:f}=t,h=nTe(t,tTe),m=js(h);return c?w.createElement(w.Fragment,null,w.createElement(Dg,{width:n,height:r}),w.createElement(_5,{otherAttributes:m,title:d,desc:f},a)):w.createElement(eTe,{className:o,style:s,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(_5,{otherAttributes:m,title:d,desc:f,ref:e},w.createElement(HCe,null,a)))});function vT(){return vT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vT.apply(null,arguments)}var aTe={top:5,right:5,bottom:5,left:5},oTe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:aTe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},sTe=w.forwardRef(function(e,n){var r,i=pi(e.categoricalChartProps,oTe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,f={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,eventEmitter:void 0};return w.createElement(jEe,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},w.createElement(DCe,{chartData:d.data}),w.createElement(LEe,{layout:i.layout,margin:i.margin}),w.createElement(NEe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(iTe,vT({},i,{ref:n})))}),lTe=["axis"],oV=w.forwardRef((t,e)=>w.createElement(sTe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lTe,tooltipPayloadSearcher:Fwe,categoricalChartProps:t,ref:e}));function cTe(t){return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"2-digit"})}function uTe({active:t,payload:e,label:n}){if(!t||!e||e.length===0)return null;const r=e[0].payload;return g.jsx(Dt,{shadow:"md",p:"sm",withBorder:!0,children:g.jsxs(tt,{gap:"xs",children:[g.jsx(oe,{size:"sm",fw:500,children:n}),g.jsxs(ze,{gap:"xs",children:[g.jsx(oe,{size:"sm",children:"Value:"}),g.jsxs(oe,{size:"sm",fw:500,children:[r.value," ",r.unit]})]}),r.referenceRange&&g.jsxs(ze,{gap:"xs",children:[g.jsx(oe,{size:"sm",c:"dimmed",children:"Reference:"}),g.jsxs(oe,{size:"sm",c:"dimmed",children:[r.referenceRange.low," - ",r.referenceRange.high]})]}),r.labName&&g.jsx(oe,{size:"xs",c:"dimmed",children:r.labName}),g.jsx(dn,{size:"xs",color:r.status==="high"?"red":r.status==="low"?"orange":r.status==="normal"?"green":"gray",children:r.status||"unknown"})]})})}function dTe({direction:t}){const e=t.direction==="increasing"?g.jsx(IF,{size:16}):t.direction==="decreasing"?g.jsx(lre,{size:16}):t.direction==="stable"?g.jsx(uP,{size:16}):g.jsx(la,{size:16}),n=t.direction==="increasing"?"blue":t.direction==="decreasing"?"orange":t.direction==="stable"?"green":"gray";return g.jsxs(ze,{gap:"xs",children:[g.jsx(dn,{leftSection:e,color:n,variant:"light",children:t.direction==="insufficient_data"?"Need more data":t.direction.charAt(0).toUpperCase()+t.direction.slice(1)}),t.confidence>0&&g.jsxs(oe,{size:"xs",c:"dimmed",children:[Math.round(t.confidence*100),"% confidence"]})]})}function fTe({dataPoints:t,biomarkerName:e,unit:n,referenceRange:r,trendDirection:i,isLoading:a=!1,height:o=300,showLegend:s=!1}){const c=w.useMemo(()=>t.map(f=>({...f,formattedDate:cTe(f.date),timestamp:f.date.getTime()})).sort((f,h)=>f.timestamp-h.timestamp),[t]),d=w.useMemo(()=>{if(c.length===0)return[0,100];const f=c.map(x=>x.value);let h=Math.min(...f),m=Math.max(...f);r?.low!==void 0&&(h=Math.min(h,r.low)),r?.high!==void 0&&(m=Math.max(m,r.high));const b=(m-h||1)*.1;return[Math.max(0,h-b),m+b]},[c,r]);return a?g.jsx(qa,{h:o,children:g.jsx(ji,{})}):c.length===0?g.jsx(qa,{h:o,children:g.jsxs(tt,{align:"center",gap:"xs",children:[g.jsx(la,{size:32,color:"gray"}),g.jsx(oe,{c:"dimmed",children:"No data available for this biomarker"})]})}):c.length===1?g.jsx(tt,{children:g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsxs(tt,{align:"center",gap:"md",children:[g.jsx(oe,{size:"lg",fw:500,children:e}),g.jsxs(ze,{gap:"xs",children:[g.jsx(oe,{size:"xl",fw:700,children:c[0].value}),g.jsx(oe,{size:"lg",c:"dimmed",children:n})]}),g.jsx(oe,{size:"sm",c:"dimmed",children:c[0].formattedDate}),g.jsx(dn,{color:c[0].status==="high"?"red":c[0].status==="low"?"orange":"green",children:c[0].status||"unknown"}),g.jsx(oe,{size:"sm",c:"dimmed",ta:"center",children:"More data needed for trend analysis"})]})})}):g.jsxs(tt,{gap:"sm",children:[g.jsxs(ze,{justify:"space-between",children:[g.jsxs(oe,{size:"lg",fw:500,children:[e," (",n,")"]}),i&&g.jsx(dTe,{direction:i})]}),g.jsx(I8,{width:"100%",height:o,children:g.jsxs(oV,{data:c,margin:{top:10,right:30,left:10,bottom:10},children:[g.jsx(E2,{strokeDasharray:"3 3",opacity:.3}),g.jsx(O2,{dataKey:"formattedDate",tick:{fontSize:12},tickMargin:8}),g.jsx(R0,{domain:d,tick:{fontSize:12},tickMargin:8,label:{value:n,angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:12}}}),r?.low!==void 0&&r?.high!==void 0&&g.jsx(z7,{y1:r.low,y2:r.high,fill:"green",fillOpacity:.1,stroke:"green",strokeOpacity:.3,strokeDasharray:"3 3"}),r?.low!==void 0&&g.jsx(dT,{y:r.low,stroke:"orange",strokeDasharray:"3 3",label:{value:`Low: ${r.low}`,position:"right",fontSize:10,fill:"orange"}}),r?.high!==void 0&&g.jsx(dT,{y:r.high,stroke:"red",strokeDasharray:"3 3",label:{value:`High: ${r.high}`,position:"right",fontSize:10,fill:"red"}}),g.jsx(p7,{content:g.jsx(uTe,{})}),s&&g.jsx(vO,{}),g.jsx(P2,{type:"monotone",dataKey:"value",stroke:"#228be6",strokeWidth:2,dot:f=>{const{cx:h,cy:m,payload:v}=f,b=v.status,x=b==="high"?"#fa5252":b==="low"?"#fd7e14":b==="normal"?"#40c057":"#868e96";return g.jsx("circle",{cx:h,cy:m,r:6,fill:x,stroke:"#fff",strokeWidth:2,"aria-label":`${v.formattedDate}: ${v.value} ${v.unit} (${b})`})},activeDot:{r:8,stroke:"#228be6",strokeWidth:2,fill:"#fff"},name:e})]})})]})}function T5(t){if(!t)return null;if(t instanceof Date)return t;const e=new Date(t);return isNaN(e.getTime())?null:e}function hTe(t){const e=new Map;for(const r of t)e.has(r.category)||e.set(r.category,[]),e.get(r.category).push(r);const n=[];for(const[r,i]of e.entries()){const a=[...i].sort((o,s)=>s.dataPointCount!==o.dataPointCount?s.dataPointCount-o.dataPointCount:o.label.localeCompare(s.label));n.push({group:jb[r]||r,items:a.map(o=>({value:o.value,label:`${o.label} (${o.dataPointCount} ${o.dataPointCount===1?"value":"values"})`,disabled:o.dataPointCount===0}))})}return n.sort((r,i)=>r.group.localeCompare(i.group))}function pTe({biomarkerOptions:t,selectedBiomarkerId:e,onBiomarkerChange:n,startDate:r,endDate:i,onStartDateChange:a,onEndDateChange:o,onReset:s,onCompare:c,showCompareButton:d=!0,disabled:f=!1}){const h=hTe(t),m=t.find(v=>v.value===e);return g.jsxs(tt,{gap:"md",children:[g.jsx(ze,{grow:!0,children:g.jsx(qo,{label:"Select Biomarker",placeholder:"Choose a biomarker to visualize",data:h,value:e,onChange:n,searchable:!0,clearable:!0,disabled:f,nothingFoundMessage:"No biomarkers found","aria-label":"Select biomarker to view trend"})}),g.jsxs(ze,{grow:!0,children:[g.jsx(Kc,{label:"From Date",placeholder:"Start date",value:r,onChange:v=>a(T5(v)),maxDate:i||new Date,clearable:!0,disabled:f,"aria-label":"Filter from date"}),g.jsx(Kc,{label:"To Date",placeholder:"End date",value:i,onChange:v=>o(T5(v)),minDate:r||void 0,maxDate:new Date,clearable:!0,disabled:f,"aria-label":"Filter to date"})]}),g.jsxs(ze,{justify:"space-between",children:[g.jsxs(ze,{gap:"xs",children:[g.jsx(_t,{variant:"subtle",size:"sm",leftSection:g.jsx(rd,{size:16}),onClick:s,disabled:f,children:"Reset"}),d&&c&&g.jsx(_t,{variant:"light",size:"sm",leftSection:g.jsx(Tm,{size:16}),onClick:c,disabled:f||!e,children:"Compare Markers"})]}),m&&g.jsxs(oe,{size:"sm",c:"dimmed",children:["Showing ",m.dataPointCount," ",m.dataPointCount===1?"data point":"data points"]})]})]})}function Ru(t,e=1){return Math.abs(t)<.01?t.toExponential(1):t.toFixed(e)}function gm({label:t,value:e,unit:n,subtitle:r,color:i,icon:a}){return g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsxs(tt,{gap:"xs",children:[g.jsxs(ze,{gap:"xs",children:[a&&g.jsx(vn,{size:"sm",variant:"light",color:i||"blue",children:a}),g.jsx(oe,{size:"xs",c:"dimmed",tt:"uppercase",children:t})]}),g.jsxs(ze,{gap:"xs",align:"baseline",children:[g.jsx(oe,{size:"xl",fw:700,c:i,children:e}),n&&g.jsx(oe,{size:"sm",c:"dimmed",children:n})]}),r&&g.jsx(oe,{size:"xs",c:"dimmed",children:r})]})})}function mTe({statistics:t,rateOfChange:e,referenceRange:n}){const r=n?.low!==void 0&&n?.high!==void 0?t.latest>=n.low&&t.latest<=n.high:null,i=e&&Math.abs(e.percentageChange)>1?e.percentageChange>0?"up":"down":"stable";return g.jsxs(tt,{gap:"md",children:[g.jsxs(ze,{gap:"xs",children:[g.jsx(Qte,{size:20}),g.jsx(oe,{fw:500,children:"Statistics Summary"})]}),g.jsxs(Sx,{cols:{base:2,sm:3,md:5},spacing:"md",children:[g.jsx(gm,{label:"Latest Value",value:Ru(t.latest),unit:t.unit,subtitle:t.latestDate.toLocaleDateString(),color:r===!1?"red":r===!0?"green":void 0,icon:g.jsx(gh,{size:14})}),g.jsx(gm,{label:"Average",value:Ru(t.average),unit:t.unit}),g.jsx(gm,{label:"Minimum",value:Ru(t.min),unit:t.unit}),g.jsx(gm,{label:"Maximum",value:Ru(t.max),unit:t.unit}),g.jsx(gm,{label:"Total Readings",value:t.count,subtitle:`Std Dev: ${Ru(t.standardDeviation)}`})]}),e&&g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsxs(ze,{justify:"space-between",children:[g.jsxs(tt,{gap:"xs",children:[g.jsx(oe,{size:"xs",c:"dimmed",tt:"uppercase",children:"Rate of Change"}),g.jsxs(ze,{gap:"xs",children:[i==="up"?g.jsx(aP,{size:20,color:"var(--mantine-color-blue-6)"}):i==="down"?g.jsx(iP,{size:20,color:"var(--mantine-color-orange-6)"}):g.jsx(uP,{size:20,color:"var(--mantine-color-gray-6)"}),g.jsxs(oe,{size:"lg",fw:500,children:[Math.abs(e.percentageChange).toFixed(1),"%"]}),g.jsx(oe,{size:"sm",c:"dimmed",children:"overall change"})]})]}),g.jsxs(ze,{gap:"lg",children:[g.jsxs(tt,{gap:2,align:"center",children:[g.jsx(oe,{size:"xs",c:"dimmed",children:"Per Month"}),g.jsxs(dn,{color:Math.abs(e.perMonth)<.1?"gray":e.perMonth>0?"blue":"orange",variant:"light",children:[e.perMonth>=0?"+":"",Ru(e.perMonth)," ",e.unit]})]}),g.jsxs(tt,{gap:2,align:"center",children:[g.jsx(oe,{size:"xs",c:"dimmed",children:"Per Week"}),g.jsxs(dn,{color:Math.abs(e.perWeek)<.1?"gray":e.perWeek>0?"blue":"orange",variant:"light",children:[e.perWeek>=0?"+":"",Ru(e.perWeek)," ",e.unit]})]})]})]})}),n&&(n.low!==void 0||n.high!==void 0)&&g.jsx(Dt,{p:"sm",withBorder:!0,bg:"gray.0",children:g.jsxs(ze,{gap:"md",children:[g.jsx(oe,{size:"sm",c:"dimmed",children:"Reference Range:"}),g.jsxs(dn,{variant:"outline",color:"green",children:[n.low!==void 0?n.low:""," -"," ",n.high!==void 0?n.high:""," ",t.unit]})]})})]})}const k5=["#228be6","#40c057","#fa5252","#fab005","#7950f2","#20c997","#fd7e14","#e64980"];function gTe(t){return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"2-digit"})}function vTe({active:t,payload:e,label:n,markers:r}){return!t||!e||e.length===0?null:g.jsx(Dt,{shadow:"md",p:"sm",withBorder:!0,children:g.jsxs(tt,{gap:"xs",children:[g.jsx(oe,{size:"sm",fw:500,children:n}),e.map(i=>{const a=r.find(o=>o.name===i.dataKey);return g.jsxs(ze,{gap:"xs",children:[g.jsx(ox,{color:i.color,size:12}),g.jsxs(oe,{size:"sm",children:[i.dataKey,": ",i.value," ",a?.unit||""]})]},i.dataKey)})]})})}function yTe({markers:t,isLoading:e=!1,height:n=400}){const r=w.useMemo(()=>{const c=new Map;for(const d of t)for(const f of d.dataPoints){const h=gTe(f.date);c.has(h)||c.set(h,{timestamp:f.date.getTime()}),c.get(h)[d.name]=f.value}return Array.from(c.entries()).map(([d,f])=>({formattedDate:d,...f})).sort((d,f)=>d.timestamp-f.timestamp)},[t]),i=w.useMemo(()=>{const c=new Set(t.map(d=>d.unit));return Array.from(c)},[t]),a=i.length===2,o=w.useMemo(()=>{const c={};for(const d of i){const h=t.filter(S=>S.unit===d).flatMap(S=>S.dataPoints.map(C=>C.value));if(h.length===0){c[d]=[0,100];continue}const m=Math.min(...h),v=Math.max(...h),x=(v-m||1)*.1;c[d]=[Math.max(0,m-x),v+x]}return c},[t,i]),s=w.useMemo(()=>t.map((c,d)=>({...c,color:c.color||k5[d%k5.length]})),[t]);return e?g.jsx(qa,{h:n,children:g.jsx(ji,{})}):t.length===0||r.length===0?g.jsx(qa,{h:n,children:g.jsxs(tt,{align:"center",gap:"xs",children:[g.jsx(la,{size:32,color:"gray"}),g.jsx(oe,{c:"dimmed",children:"Select biomarkers to compare"})]})}):g.jsxs(tt,{gap:"md",children:[g.jsxs(ze,{justify:"space-between",children:[g.jsx(oe,{size:"lg",fw:500,children:"Biomarker Comparison"}),g.jsx(ze,{gap:"md",children:s.map(c=>g.jsxs(ze,{gap:"xs",children:[g.jsx(ox,{color:c.color,size:14}),g.jsxs(oe,{size:"sm",children:[c.name," (",c.unit,")"]})]},c.name))})]}),g.jsx(I8,{width:"100%",height:n,children:g.jsxs(oV,{data:r,margin:{top:10,right:a?60:30,left:10,bottom:10},children:[g.jsx(E2,{strokeDasharray:"3 3",opacity:.3}),g.jsx(O2,{dataKey:"formattedDate",tick:{fontSize:12},tickMargin:8}),g.jsx(R0,{yAxisId:"left",orientation:"left",domain:o[i[0]]||[0,100],tick:{fontSize:12},tickMargin:8,label:{value:i[0]||"",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:12}}}),a&&g.jsx(R0,{yAxisId:"right",orientation:"right",domain:o[i[1]]||[0,100],tick:{fontSize:12},tickMargin:8,label:{value:i[1]||"",angle:90,position:"insideRight",style:{textAnchor:"middle",fontSize:12}}}),g.jsx(p7,{content:c=>g.jsx(vTe,{...c,markers:s})}),g.jsx(vO,{}),s.map(c=>g.jsx(P2,{type:"monotone",dataKey:c.name,stroke:c.color,strokeWidth:2,dot:{r:4,fill:c.color},activeDot:{r:6,stroke:c.color,strokeWidth:2,fill:"#fff"},yAxisId:a&&c.unit===i[1]?"right":"left",connectNulls:!0},c.name))]})}),a&&g.jsx(Dt,{p:"sm",withBorder:!0,bg:"gray.0",children:g.jsxs(ze,{gap:"lg",children:[g.jsx(oe,{size:"sm",c:"dimmed",children:"Note: Chart uses dual axes due to different units."}),g.jsxs(ze,{gap:"md",children:[g.jsxs(dn,{variant:"outline",children:["Left: ",i[0]]}),g.jsxs(dn,{variant:"outline",children:["Right: ",i[1]]})]})]})})]})}const P5=["#228be6","#40c057","#fa5252","#fab005","#7950f2","#20c997"];function bTe({onNavigateToImport:t}={}){const{results:e,isLoading:n,error:r}=yP(),{alerts:i}=hie(),{createNote:a,updateNote:o,deleteNote:s,getNotesForBiomarker:c}=HF(),[d,f]=w.useState(null),[h,m]=w.useState(null),[v,b]=w.useState(null),[x,S]=w.useState(!1),[C,T]=w.useState([]),E=w.useMemo(()=>d?c(parseInt(d)):[],[d,c]),k=w.useCallback(async(L,U)=>{d&&await a({biomarkerId:parseInt(d),content:L,tags:U})},[d,a]),M=w.useCallback(async(L,U,F)=>{await o(L,{content:U,tags:F})},[o]),D=w.useCallback(async L=>{await s(L)},[s]),j=w.useMemo(()=>{const L=new Map;for(const U of e)for(const F of U.testValues){if(typeof F.value!="number")continue;const q=F.biomarkerId,W=Bs(F.rawText||"");if(!L.has(q)){const we=W?.canonicalUnit||F.unit;L.set(q,{name:W?.name||F.rawText||`Biomarker ${q}`,unit:we,category:W?.category||"other",dataPoints:[],labInfoMap:new Map})}const z=L.get(q);z.labInfoMap.set(F.labResultId,{date:U.date,labName:U.labName});let Y=F.value,ne=F.referenceRangeLow,ie=F.referenceRangeHigh;const ue=W?.name||F.rawText||"";if(F.unit!==z.unit&&ue)if($P(ue,F.unit,z.unit))try{Y=ib(ue,F.value,F.unit,z.unit).convertedValue,F.referenceRangeLow!==void 0&&(ne=ib(ue,F.referenceRangeLow,F.unit,z.unit).convertedValue),F.referenceRangeHigh!==void 0&&(ie=ib(ue,F.referenceRangeHigh,F.unit,z.unit).convertedValue)}catch(we){console.warn(`[HemoIO] Unit conversion failed for ${ue}: ${F.unit}  ${z.unit}`,we)}else console.debug(`[HemoIO] Cannot convert ${ue} from ${F.unit} to ${z.unit}`);z.dataPoints.push({date:U.date,value:Y,unit:z.unit,status:F.status,referenceRange:{low:ne,high:ie},labName:U.labName})}for(const U of L.values())U.dataPoints.sort((F,q)=>F.date.getTime()-q.date.getTime());return L},[e]),I=w.useMemo(()=>{const L=[];for(const[U,F]of j.entries())L.push({value:U.toString(),label:F.name,category:F.category,dataPointCount:F.dataPoints.length});return L.sort((U,F)=>F.dataPointCount-U.dataPointCount)},[j]),B=w.useMemo(()=>d&&j.get(parseInt(d))||null,[d,j]),G=w.useMemo(()=>{if(!B)return[];let L=[...B.dataPoints];return h&&(L=L.filter(U=>U.date>=h)),v&&(L=L.filter(U=>U.date<=v)),L},[B,h,v]),V=w.useMemo(()=>{if(G.length<2)return null;try{return UF(G)}catch{return null}},[G]),K=w.useMemo(()=>{if(G.length!==0)return G[0].referenceRange},[G]),te=w.useCallback(()=>{f(null),m(null),b(null)},[]),X=w.useCallback(()=>{d&&T([d]),S(!0)},[d]),J=w.useMemo(()=>C.map((L,U)=>{const F=j.get(parseInt(L));if(!F)return null;let q=[...F.dataPoints];return h&&(q=q.filter(W=>W.date>=h)),v&&(q=q.filter(W=>W.date<=v)),{name:F.name,unit:F.unit,dataPoints:q,color:P5[U%P5.length]}}).filter(L=>L!==null),[C,j,h,v]);return n?g.jsx(qa,{h:400,children:g.jsxs(tt,{align:"center",gap:"md",children:[g.jsx(ji,{size:"lg"}),g.jsx(oe,{c:"dimmed",children:"Loading trend data..."})]})}):r?g.jsx(It,{color:"red",icon:g.jsx(la,{size:16}),title:"Error loading data",children:r}):e.length===0?g.jsx(qa,{h:400,children:g.jsxs(tt,{align:"center",gap:"md",children:[g.jsx(IF,{size:48,color:"gray"}),g.jsx(Yi,{order:3,c:"dimmed",children:"No Lab Results Yet"}),g.jsx(oe,{c:"dimmed",ta:"center",children:"Import lab results to see trends and analytics."}),t&&g.jsx(_t,{onClick:t,leftSection:g.jsx(Tm,{size:16}),children:"Import Lab Results"})]})}):g.jsxs(tt,{gap:"lg",children:[g.jsxs(ze,{justify:"space-between",children:[g.jsxs(ze,{gap:"xs",children:[g.jsx(Tm,{size:24}),g.jsx(Yi,{order:2,children:"Trends"})]}),i.length>0&&g.jsxs(oe,{size:"sm",c:"dimmed",children:[i.filter(L=>L.type!=="improvement").length," alerts"]})]}),g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsx(pTe,{biomarkerOptions:I,selectedBiomarkerId:d,onBiomarkerChange:f,startDate:h,endDate:v,onStartDateChange:m,onEndDateChange:b,onReset:te,onCompare:X,showCompareButton:I.length>=2})}),d?B&&G.length===0?g.jsx(It,{color:"yellow",icon:g.jsx(la,{size:16}),children:"No data found for the selected date range. Try adjusting the filters."}):g.jsxs(g.Fragment,{children:[g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsx(fTe,{dataPoints:G,biomarkerName:B?.name||"",unit:B?.unit||"",referenceRange:K,trendDirection:V?.direction,height:350})}),V&&g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsx(mTe,{statistics:V.statistics,rateOfChange:V.rateOfChange,referenceRange:K})}),g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsx(W6,{title:`Notes for ${B?.name||"Biomarker"}`,notes:E,onCreateNote:k,onUpdateNote:M,onDeleteNote:D,editorPlaceholder:`Add a note about ${B?.name||"this biomarker"}...`})})]}):g.jsx(Dt,{p:"xl",withBorder:!0,children:g.jsx(qa,{children:g.jsxs(tt,{align:"center",gap:"md",children:[g.jsx(Tm,{size:48,color:"gray"}),g.jsx(oe,{size:"lg",c:"dimmed",ta:"center",children:"Select a biomarker to view its trend"}),g.jsxs(oe,{size:"sm",c:"dimmed",ta:"center",children:["Choose from ",I.length," available biomarkers"]})]})})}),g.jsx($r,{opened:x,onClose:()=>S(!1),title:"Compare Biomarkers",size:"xl",children:g.jsxs(tt,{gap:"md",children:[g.jsx(gx,{label:"Select biomarkers to compare",placeholder:"Choose up to 4 biomarkers",data:I.map(L=>({value:L.value,label:`${L.label} (${L.dataPointCount} values)`})),value:C,onChange:L=>T(L.slice(0,4)),maxValues:4,searchable:!0,clearable:!0}),J.length>0&&g.jsx(yTe,{markers:J,height:400}),g.jsx(ze,{justify:"flex-end",children:g.jsx(_t,{variant:"subtle",onClick:()=>S(!1),children:"Close"})})]})})]})}function hb(t,e="iso"){switch(e){case"us":return`${t.getMonth()+1}/${t.getDate()}/${t.getFullYear()}`;case"eu":return`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`;default:return t.toISOString().split("T")[0]}}function xTe(t){if(t==null)return"";const e=String(t);return e.includes(",")||e.includes('"')||e.includes(`
`)?`"${e.replace(/"/g,'""')}"`:e}function wTe(t){const e=["Date","Lab Name","Biomarker","Value","Unit"];return t.includeReferenceRanges!==!1&&e.push("Reference Low","Reference High"),t.includeConfidence&&e.push("Confidence"),e}function STe(t,e,n,r){const i=[hb(t.date,r.dateFormat),t.labName,n,String(e.value),e.unit];return r.includeReferenceRanges!==!1&&i.push(e.referenceRangeLow!==void 0?String(e.referenceRangeLow):"",e.referenceRangeHigh!==void 0?String(e.referenceRangeHigh):""),r.includeConfidence&&i.push(e.confidence!==void 0?String(e.confidence):""),i}function CTe(t,e){return t.filter(n=>!(e.startDate&&n.labResult.date<e.startDate||e.endDate&&n.labResult.date>e.endDate))}function ATe(t,e){return!e.biomarkerIds||e.biomarkerIds.length===0?t:t.filter(n=>e.biomarkerIds.includes(n.biomarkerId))}function _Te(t,e={}){const n=CTe(t,e),i=[wTe(e)];for(const a of n){const o=ATe(a.testValues,e);for(const s of o){const c=a.biomarkerNames.get(s.biomarkerId)||"Unknown",d=STe(a.labResult,s,c,e);i.push(d)}}return i.map(a=>a.map(xTe).join(",")).join(`
`)}function ETe(t={}){let r=`hemoio-export-${hb(new Date,"iso")}`;return(t.startDate||t.endDate)&&(t.startDate&&(r+=`-from-${hb(t.startDate,"iso")}`),t.endDate&&(r+=`-to-${hb(t.endDate,"iso")}`)),`${r}.csv`}function TTe(t,e){const n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}const Eh=1;function kTe(){return"1.0.0"}function PTe(t){if(!t)return null;const{aiApiKey:e,...n}=t;return n}function sd(t){return t.toISOString()}function OTe(t){return t.map(e=>({...e,date:sd(e.date),createdAt:sd(e.createdAt),updatedAt:sd(e.updatedAt)}))}function MTe(t){return t.map(e=>({...e,createdAt:sd(e.createdAt),updatedAt:sd(e.updatedAt)}))}function DTe(t){return t.map(e=>({...e,createdAt:sd(e.createdAt),updatedAt:sd(e.updatedAt)}))}function sV(t,e={}){const{includeSettings:n=!0,includePreferences:r=!0,prettyPrint:i=!1}=e,a={schemaVersion:Eh,exportedAt:new Date().toISOString(),appVersion:kTe(),labResults:OTe(t.labResults),testValues:MTe(t.testValues),userNotes:DTe(t.userNotes),userPreferences:r?t.userPreferences:null,settings:n?PTe(t.settings):null};return i?JSON.stringify(a,null,2):JSON.stringify(a)}function lV(){const t=new Date,e=t.toISOString().split("T")[0],n=t.toISOString().split("T")[1].replace(/:/g,"-").split(".")[0];return`hemoio-backup-${e}-${n}.json`}function cV(t,e){const n=new Blob([t],{type:"application/json;charset=utf-8;"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}function jTe(t){return{labResultCount:t.labResults.length,testValueCount:t.testValues.length,noteCount:t.userNotes.length,hasSettings:t.settings!==null,hasPreferences:t.userPreferences!==null}}function R2(t){if(!t||typeof t!="object")return!1;const e=t;return typeof e.schemaVersion=="number"&&typeof e.exportedAt=="string"&&typeof e.appVersion=="string"&&Array.isArray(e.labResults)&&Array.isArray(e.testValues)&&Array.isArray(e.userNotes)}const yT=".hemoio",O5=".json",RTe=2,uV="hemoio-encrypted-backup";function dV(t){if(!t||typeof t!="object")return!1;const e=t;return e.type===uV&&typeof e.version=="number"&&e.version>=2&&e.encryption!==null&&typeof e.encryption=="object"&&e.encryption.algorithm==="AES-GCM"&&e.encryption.keyDerivation==="PBKDF2"&&typeof e.encryption.iterations=="number"&&typeof e.encryption.salt=="string"&&typeof e.payload=="string"}const M5=12,fV=1e5,LTe=256;async function hV(t,e){const r=new TextEncoder().encode(t),i=await crypto.subtle.importKey("raw",r,"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:e.buffer,iterations:fV,hash:"SHA-256"},i,{name:"AES-GCM",length:LTe},!1,["encrypt","decrypt"])}async function NTe(t,e){const n=K_(),r=EF(),i=await hV(e,n),o=new TextEncoder().encode(t),s=await crypto.subtle.encrypt({name:"AES-GCM",iv:r.buffer},i,o),c=new Uint8Array(r.length+s.byteLength);return c.set(r),c.set(new Uint8Array(s),r.length),{payload:Cx(c.buffer),metadata:{algorithm:"AES-GCM",keyDerivation:"PBKDF2",iterations:fV,salt:X_(n)}}}async function ITe(t,e,n){const r=nP(n),i=new Uint8Array(tP(t)),a=i.slice(0,M5),o=i.slice(M5),s=await hV(e,r);try{const c=await crypto.subtle.decrypt({name:"AES-GCM",iv:a.buffer},s,o);return new TextDecoder().decode(c)}catch{throw new Error("Unable to decrypt backup. Please check your password.")}}function Lu(t){return t.toISOString()}function zTe(){return"1.0.0"}function BTe(t){return t?{storageProvider:t.storageProvider,aiProvider:t.aiProvider,aiApiKey:t.aiApiKey,language:t.language}:null}function $Te(t){return{schemaVersion:Eh,exportedAt:new Date().toISOString(),appVersion:zTe(),labResults:t.labResults.map(e=>({...e,date:Lu(e.date),createdAt:Lu(e.createdAt),updatedAt:Lu(e.updatedAt)})),testValues:t.testValues.map(e=>({...e,createdAt:Lu(e.createdAt),updatedAt:Lu(e.updatedAt)})),userNotes:t.userNotes.map(e=>({...e,createdAt:Lu(e.createdAt),updatedAt:Lu(e.updatedAt)})),userPreferences:t.userPreferences,settings:t.settings?{storageProvider:t.settings.storageProvider,aiProvider:t.settings.aiProvider,language:t.settings.language}:null,fullSettings:BTe(t.settings)}}async function FTe(t,e){const{password:n,prettyPrint:r=!1}=e,i=$Te(t),a=r?JSON.stringify(i,null,2):JSON.stringify(i),{payload:o,metadata:s}=await NTe(a,n);return JSON.stringify({type:uV,version:RTe,encryption:s,payload:o},null,2)}function UTe(){const t=new Date,e=t.toISOString().split("T")[0],n=t.toISOString().split("T")[1].replace(/:/g,"-").split(".")[0];return`hemoio-backup-${e}-${n}${yT}`}function HTe(t,e){const n=new Blob([t],{type:"application/json;charset=utf-8;"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}function ld(t){return t instanceof Date?t:new Date(t)}function VTe(t){return{...t,id:t.id,date:ld(t.date),createdAt:ld(t.createdAt),updatedAt:ld(t.updatedAt)}}function qTe(t){return{...t,id:t.id,labResultId:t.labResultId,createdAt:ld(t.createdAt),updatedAt:ld(t.updatedAt)}}function GTe(t){return{...t,id:t.id,labResultId:t.labResultId,createdAt:ld(t.createdAt),updatedAt:ld(t.updatedAt)}}function YTe(t){return{...t}}function KTe(t){let e;try{e=JSON.parse(t)}catch{throw new Error("Invalid JSON format")}if(!R2(e))throw new Error("Invalid backup file structure");if(e.schemaVersion>Eh)throw new Error(`Backup was created with a newer version (v${e.schemaVersion}). Current version supports up to v${Eh}.`);const n=YTe(e);return{labResults:n.labResults.map(r=>VTe(r)),testValues:n.testValues.map(r=>qTe(r)),userNotes:n.userNotes.map(r=>GTe(r)),settings:n.settings,userPreferences:n.userPreferences,schemaVersion:n.schemaVersion,exportedAt:new Date(n.exportedAt)}}async function WTe(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{typeof r.result=="string"?e(r.result):n(new Error("Failed to read file as text"))},r.onerror=()=>{n(new Error("Failed to read file"))},r.readAsText(t)})}function XTe(t){if(!t.name.endsWith(".json"))return{valid:!1,error:"File must be a JSON file"};const e=50*1024*1024;return t.size>e?{valid:!1,error:"File is too large (max 50MB)"}:{valid:!0}}function ZTe(t){return{labResultCount:t.labResults.length,testValueCount:t.testValues.length,noteCount:t.userNotes.length,hasSettings:t.settings!==null,hasPreferences:t.userPreferences!==null,exportedAt:t.exportedAt,schemaVersion:t.schemaVersion}}function QTe(t){try{const e=JSON.parse(t);return dV(e)?{type:"encrypted",success:!0,encryptedBackup:e}:R2(e)?{type:"standard",success:!0}:{type:"standard",success:!1,error:"Unrecognized backup file format"}}catch{return{type:"standard",success:!1,error:"Invalid JSON format"}}}function JTe(t){if(![yT,O5].some(i=>t.name.endsWith(i)))return{valid:!1,error:`File must have ${yT} or ${O5} extension`};const r=50*1024*1024;return t.size>r?{valid:!1,error:"File is too large (max 50MB)"}:{valid:!0}}async function eke(t,e){let n;try{n=JSON.parse(t)}catch{throw new Error("Invalid backup file format")}if(!dV(n))throw new Error("Invalid encrypted backup structure");const r=await ITe(n.payload,e,n.encryption.salt);let i;try{i=JSON.parse(r)}catch{throw new Error("Decrypted data is not valid JSON")}if(!R2(i))throw new Error("Invalid backup data structure");if(i.schemaVersion>Eh)throw new Error(`Backup was created with a newer version (v${i.schemaVersion}). Current version supports up to v${Eh}.`);return{labResults:i.labResults.map(a=>({...a,date:new Date(a.date),createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)})),testValues:i.testValues.map(a=>({...a,createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)})),userNotes:i.userNotes.map(a=>({...a,createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)})),settings:i.settings,userPreferences:i.userPreferences,schemaVersion:i.schemaVersion,exportedAt:new Date(i.exportedAt),fullSettings:i.fullSettings?{storageProvider:i.fullSettings.storageProvider,aiProvider:i.fullSettings.aiProvider,aiApiKey:i.fullSettings.aiApiKey,language:i.fullSettings.language}:null,wasEncrypted:!0}}function tke(t){return{labResultCount:t.labResults.length,testValueCount:t.testValues.length,noteCount:t.userNotes.length,hasSettings:t.settings!==null||t.fullSettings!==null,hasApiKey:t.fullSettings?.aiApiKey!==void 0,hasPreferences:t.userPreferences!==null,exportedAt:t.exportedAt,schemaVersion:t.schemaVersion,wasEncrypted:t.wasEncrypted}}function nke(t){return t<=1?"red":t<=2?"orange":t<=3?"yellow":t<=4?"lime":"green"}function rke(t){return t/5*100}function ike({value:t,onChange:e,confirmValue:n,onConfirmChange:r,onValidChange:i,disabled:a=!1,label:o="Backup Password",confirmLabel:s="Confirm Password",showStrengthIndicator:c=!0,minStrength:d=3}){const[f,h]=w.useState({password:!1,confirm:!1}),m=w.useMemo(()=>t?rP(t):null,[t]);w.useEffect(()=>{if(i){const E=t===n&&t.length>0,k=m?m.score>=d:!1;i(E&&k)}},[t,n,m,d,i]);const v=w.useCallback(E=>{e(E.target.value)},[e]),b=w.useCallback(E=>{r(E.target.value)},[r]),x=w.useCallback(()=>{h(E=>({...E,password:!0}))},[]),S=w.useCallback(()=>{h(E=>({...E,confirm:!0}))},[]),C=t===n,T=f.confirm&&n.length>0&&!C;return g.jsxs(tt,{gap:"sm",children:[g.jsx(Ms,{label:o,value:t,onChange:v,onBlur:x,disabled:a,required:!0,"aria-describedby":c?"password-strength":void 0}),c&&t&&m&&g.jsxs(tt,{gap:"xs",id:"password-strength",children:[g.jsx(Ol,{value:rke(m.score),color:nke(m.score),size:"sm","aria-label":"Password strength"}),g.jsxs(Ua,{size:"xs",spacing:"xs",children:[g.jsx(Ua.Item,{icon:g.jsx(vn,{size:16,radius:"xl",color:m.checks.minLength?"green":"gray",children:m.checks.minLength?g.jsx(On,{size:12}):g.jsx(Vi,{size:12})}),children:g.jsx(oe,{size:"xs",c:m.checks.minLength?"green":"dimmed",children:"At least 8 characters"})}),g.jsx(Ua.Item,{icon:g.jsx(vn,{size:16,radius:"xl",color:m.checks.hasUppercase?"green":"gray",children:m.checks.hasUppercase?g.jsx(On,{size:12}):g.jsx(Vi,{size:12})}),children:g.jsx(oe,{size:"xs",c:m.checks.hasUppercase?"green":"dimmed",children:"Uppercase letter"})}),g.jsx(Ua.Item,{icon:g.jsx(vn,{size:16,radius:"xl",color:m.checks.hasLowercase?"green":"gray",children:m.checks.hasLowercase?g.jsx(On,{size:12}):g.jsx(Vi,{size:12})}),children:g.jsx(oe,{size:"xs",c:m.checks.hasLowercase?"green":"dimmed",children:"Lowercase letter"})}),g.jsx(Ua.Item,{icon:g.jsx(vn,{size:16,radius:"xl",color:m.checks.hasNumber?"green":"gray",children:m.checks.hasNumber?g.jsx(On,{size:12}):g.jsx(Vi,{size:12})}),children:g.jsx(oe,{size:"xs",c:m.checks.hasNumber?"green":"dimmed",children:"Number"})}),g.jsx(Ua.Item,{icon:g.jsx(vn,{size:16,radius:"xl",color:m.checks.hasSpecial?"green":"gray",children:m.checks.hasSpecial?g.jsx(On,{size:12}):g.jsx(Vi,{size:12})}),children:g.jsx(oe,{size:"xs",c:m.checks.hasSpecial?"green":"dimmed",children:"Special character"})})]})]}),g.jsx(Ms,{label:s,value:n,onChange:b,onBlur:S,disabled:a,required:!0,error:T?"Passwords do not match":void 0})]})}function ake({dataSources:t,onRestore:e,isProcessing:n=!1}){const[r,i]=w.useState("standard"),[a,o]=w.useState(!1),[s,c]=w.useState(""),[d,f]=w.useState(""),[h,m]=w.useState(!1),[v,b]=w.useState(!1),[x,S]=w.useState(!1),[C,T]=w.useState(null),[E,k]=w.useState(null),[M,D]=w.useState(!1),[j,I]=w.useState(""),[B,G]=w.useState(!1),[V,K]=w.useState(null),[te,X]=w.useState(!1),[J,L]=w.useState(null),[U,F]=w.useState(null),q=w.useRef(null),W=jTe(t),z=W.labResultCount>0||W.testValueCount>0||W.noteCount>0,Y=w.useCallback(async()=>{o(!0),L(null),F(null);try{const Re=sV(t,{prettyPrint:!0}),ct=lV();cV(Re,ct),F("Standard backup created successfully")}catch(Re){L("Failed to create backup"),console.error("Backup failed:",Re)}finally{o(!1)}},[t]),ne=w.useCallback(()=>{c(""),f(""),m(!1),b(!0)},[]),ie=w.useCallback(async()=>{if(h){b(!1),o(!0),L(null),F(null);try{const Re=await FTe(t,{password:s,prettyPrint:!1}),ct=UTe();HTe(Re,ct),F("Encrypted backup created successfully")}catch(Re){L("Failed to create encrypted backup"),console.error("Encrypted backup failed:",Re)}finally{o(!1),c(""),f("")}}},[t,s,h]),ue=w.useCallback(()=>{r==="encrypted"?ne():Y()},[r,ne,Y]),we=w.useCallback(async Re=>{if(L(null),F(null),T(Re),k(null),K(null),I(""),!Re)return;const ct=JTe(Re);if(!ct.valid){const Qe=XTe(Re);if(!Qe.valid){L(ct.error||Qe.error||"Invalid file");return}}try{const Qe=await WTe(Re),Ue=QTe(Qe);if(!Ue.success){L(Ue.error||"Unable to read backup file");return}if(Ue.type==="encrypted")K(Qe),G(!0);else{const We=KTe(Qe);k(We),D(!0)}}catch(Qe){L(Qe instanceof Error?Qe.message:"Failed to read backup file")}},[]),be=w.useCallback(async()=>{if(!(!V||!j)){X(!0),L(null);try{const Re=await eke(V,j);k(Re),G(!1),D(!0),K(null)}catch(Re){L(Re instanceof Error?Re.message:"Failed to decrypt backup")}finally{X(!1)}}},[V,j]),qe=w.useCallback(async()=>{if(E){S(!0),L(null),D(!1);try{await e(E),F("Data restored successfully"),T(null),k(null),I("")}catch(Re){L(Re instanceof Error?Re.message:"Failed to restore data")}finally{S(!1)}}},[E,e]),ae=w.useCallback(()=>{D(!1),T(null),k(null),I("")},[]),se=w.useCallback(()=>{G(!1),K(null),T(null),I("")},[]),Le=w.useCallback(()=>{b(!1),c(""),f("")},[]),de=E?"wasEncrypted"in E?tke(E):ZTe(E):null,He=n||a||x||te;return g.jsxs(g.Fragment,{children:[g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsxs(tt,{gap:"md",children:[g.jsx(Yi,{order:4,children:"Backup & Restore"}),g.jsx(oe,{size:"sm",c:"dimmed",children:"Create a backup of all your data or restore from a previous backup. Backups include lab results, test values, notes, and settings."}),J&&g.jsx(It,{color:"red",icon:g.jsx(la,{size:16}),onClose:()=>L(null),withCloseButton:!0,children:J}),U&&g.jsx(It,{color:"green",icon:g.jsx(On,{size:16}),onClose:()=>F(null),withCloseButton:!0,children:U}),g.jsx(Os,{}),g.jsxs(tt,{gap:"sm",children:[g.jsx(oe,{fw:500,children:"Create Backup"}),g.jsxs(oe,{size:"sm",c:"dimmed",children:["Download a copy of all your data.",z&&g.jsxs(g.Fragment,{children:[" ","Your backup will include ",W.labResultCount," lab result",W.labResultCount!==1?"s":"",","," ",W.testValueCount," test value",W.testValueCount!==1?"s":"",", and"," ",W.noteCount," note",W.noteCount!==1?"s":"","."]})]}),!z&&g.jsx(It,{color:"yellow",icon:g.jsx(la,{size:16}),children:"You don't have any data to backup yet. Import some lab results first."}),g.jsxs(tt,{gap:"xs",children:[g.jsx(oe,{size:"sm",fw:500,children:"Backup Type"}),g.jsx(wx,{value:r,onChange:Re=>i(Re),disabled:He||!z,data:[{value:"standard",label:g.jsxs(ze,{gap:"xs",children:[g.jsx(Ine,{size:16}),g.jsx("span",{children:"Standard"})]})},{value:"encrypted",label:g.jsxs(ze,{gap:"xs",children:[g.jsx(Io,{size:16}),g.jsx("span",{children:"Encrypted"})]})}],"aria-label":"Select backup type"}),g.jsx(oe,{size:"xs",c:"dimmed",children:r==="standard"?"Standard backup (.json) - Does not include API keys for security.":"Encrypted backup (.hemoio) - Password-protected, includes API keys. Can be restored on any device."})]}),g.jsx(_t,{leftSection:r==="encrypted"?g.jsx(Io,{size:16}):g.jsx(_x,{size:16}),onClick:ue,loading:a,disabled:!z||He,children:r==="encrypted"?"Create Encrypted Backup":"Create Backup"})]}),g.jsx(Os,{}),g.jsxs(tt,{gap:"sm",children:[g.jsx(oe,{fw:500,children:"Restore from Backup"}),g.jsx(oe,{size:"sm",c:"dimmed",children:"Upload a backup file to restore your data. This will replace all existing data with the data from the backup. Supports both standard (.json) and encrypted (.hemoio) backups."}),g.jsx(SQ,{ref:q,value:C,onChange:we,accept:".json,.hemoio",placeholder:"Select backup file (.json or .hemoio)",leftSection:g.jsx(Cne,{size:16}),clearable:!0,disabled:He,"aria-label":"Select backup file to restore"})]})]})}),g.jsx($r,{opened:v,onClose:Le,title:g.jsxs(ze,{gap:"xs",children:[g.jsx(Io,{size:20}),g.jsx("span",{children:"Set Backup Password"})]}),centered:!0,children:g.jsxs(tt,{gap:"md",children:[g.jsx(It,{color:"blue",icon:g.jsx(Pm,{size:16}),children:"This password is used to encrypt your backup. You will need it to restore the backup on any device. The backup will include your API keys."}),g.jsx(ike,{value:s,onChange:c,confirmValue:d,onConfirmChange:f,onValidChange:m,disabled:a,label:"Backup Password",confirmLabel:"Confirm Password",showStrengthIndicator:!0,minStrength:3}),g.jsxs(ze,{justify:"flex-end",gap:"sm",children:[g.jsx(_t,{variant:"subtle",onClick:Le,children:"Cancel"}),g.jsx(_t,{leftSection:g.jsx(Io,{size:16}),onClick:ie,disabled:!h,loading:a,children:"Create Encrypted Backup"})]})]})}),g.jsx($r,{opened:B,onClose:se,title:g.jsxs(ze,{gap:"xs",children:[g.jsx(Io,{size:20}),g.jsx("span",{children:"Enter Backup Password"})]}),centered:!0,children:g.jsxs(tt,{gap:"md",children:[g.jsx(It,{color:"blue",icon:g.jsx(Pm,{size:16}),children:"This backup is encrypted. Enter the password that was used when creating the backup."}),g.jsx(Ms,{label:"Backup Password",value:j,onChange:Re=>I(Re.target.value),disabled:te,required:!0,autoFocus:!0,onKeyDown:Re=>{Re.key==="Enter"&&j&&be()}}),g.jsxs(ze,{justify:"flex-end",gap:"sm",children:[g.jsx(_t,{variant:"subtle",onClick:se,children:"Cancel"}),g.jsx(_t,{onClick:be,disabled:!j,loading:te,children:"Decrypt & Continue"})]})]})}),g.jsx($r,{opened:M,onClose:ae,title:"Restore from Backup",centered:!0,children:g.jsxs(tt,{gap:"md",children:[g.jsx(It,{color:"yellow",icon:g.jsx(la,{size:16}),children:"This will replace all your current data with the data from the backup. This action cannot be undone."}),de&&g.jsx(Dt,{p:"sm",withBorder:!0,children:g.jsxs(tt,{gap:"xs",children:[g.jsxs(ze,{gap:"xs",children:[g.jsx(oe,{size:"sm",fw:500,children:"Backup Contents"}),de.wasEncrypted===!0&&g.jsx(dn,{size:"xs",color:"green",leftSection:g.jsx(Io,{size:10}),children:"Encrypted"})]}),g.jsxs(oe,{size:"sm",c:"dimmed",children:["Created: ",de.exportedAt.toLocaleDateString()]}),g.jsxs(oe,{size:"sm",c:"dimmed",children:[de.labResultCount," lab result",de.labResultCount!==1?"s":"",","," ",de.testValueCount," test value",de.testValueCount!==1?"s":"",","," ",de.noteCount," note",de.noteCount!==1?"s":""]}),de.hasApiKey===!0&&g.jsx(oe,{size:"sm",c:"green",children:g.jsxs(ze,{gap:"xs",children:[g.jsx(Pm,{size:14}),g.jsx("span",{children:"Includes API key"})]})})]})}),g.jsxs(ze,{justify:"flex-end",gap:"sm",children:[g.jsx(_t,{variant:"subtle",onClick:ae,children:"Cancel"}),g.jsx(_t,{color:"red",onClick:qe,loading:x,children:"Restore"})]})]})})]})}const oke=[{value:"MM/DD/YYYY",label:"MM/DD/YYYY (US)"},{value:"DD/MM/YYYY",label:"DD/MM/YYYY (European)"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD (ISO)"}];function ske({theme:t="system",dateFormat:e="MM/DD/YYYY",onThemeChange:n,onDateFormatChange:r,isSaving:i=!1}){const{setColorScheme:a}=s4(),[o,s]=w.useState(t),[c,d]=w.useState(e),[f,h]=w.useState(!1);w.useEffect(()=>{s(t)},[t]),w.useEffect(()=>{d(e)},[e]);const m=w.useCallback(b=>{const x=b;s(x),a(x==="system"?"auto":x),n?.(x),h(!0),setTimeout(()=>h(!1),2e3)},[n,a]),v=w.useCallback(b=>{if(!b)return;const x=b;d(x),r?.(x),h(!0),setTimeout(()=>h(!1),2e3)},[r]);return g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsxs(tt,{gap:"md",children:[g.jsx(Yi,{order:4,children:"Display Preferences"}),g.jsx(oe,{size:"sm",c:"dimmed",children:"Customize how the application looks and displays information."}),f&&g.jsx(It,{color:"green",icon:g.jsx(On,{size:16}),children:"Preferences saved"}),g.jsxs(tt,{gap:"xs",children:[g.jsx(oe,{fw:500,children:"Theme"}),g.jsx(oe,{size:"sm",c:"dimmed",children:"Choose your preferred color scheme"}),g.jsx(wx,{value:o,onChange:m,disabled:i,data:[{value:"light",label:g.jsxs(ze,{gap:"xs",wrap:"nowrap",children:[g.jsx(tre,{size:16}),g.jsx("span",{children:"Light"})]})},{value:"dark",label:g.jsxs(ze,{gap:"xs",wrap:"nowrap",children:[g.jsx(Fne,{size:16}),g.jsx("span",{children:"Dark"})]})},{value:"system",label:g.jsxs(ze,{gap:"xs",wrap:"nowrap",children:[g.jsx(lP,{size:16}),g.jsx("span",{children:"System"})]})}],"aria-label":"Select theme"})]}),g.jsxs(tt,{gap:"xs",children:[g.jsx(oe,{fw:500,children:"Date Format"}),g.jsx(oe,{size:"sm",c:"dimmed",children:"Choose how dates are displayed throughout the application"}),g.jsx(qo,{value:c,onChange:v,data:oke,disabled:i,"aria-label":"Select date format"}),g.jsxs(oe,{size:"xs",c:"dimmed",children:["Example: ",lke(c)]})]})]})})}function lke(t){switch(t){case"MM/DD/YYYY":return"01/15/2024";case"DD/MM/YYYY":return"15/01/2024";case"YYYY-MM-DD":return"2024-01-15";default:return"01/15/2024"}}const D5=[{value:"openai",label:"OpenAI (GPT-5)",requiresApiKey:!0},{value:"anthropic",label:"Anthropic (Claude)",requiresApiKey:!0},{value:"ollama",label:"Ollama (Local)",requiresApiKey:!1}];function cke({provider:t="openai",hasApiKey:e=!1,apiKeyLastFour:n,ollamaModel:r,openaiModel:i,anthropicModel:a,onProviderChange:o,onApiKeyChange:s,onOllamaModelChange:c,onOpenaiModelChange:d,onAnthropicModelChange:f,onTestConnection:h,isSaving:m=!1,getApiKey:v}){const[b,x]=w.useState(t),[S,C]=w.useState(""),[T,E]=w.useState(!1),[k,M]=w.useState(!1),[D,j]=w.useState(null),[I,B]=w.useState(!1),[G,V]=w.useState("checking"),[K,te]=w.useState([]),[X,J]=w.useState(r),[L,U]=w.useState(i||""),[F,q]=w.useState(a||""),[W,z]=w.useState([]),[Y,ne]=w.useState(!1),[ie,ue]=w.useState([]),[we,be]=w.useState(!1);w.useEffect(()=>{x(t)},[t]),w.useEffect(()=>{J(r)},[r]),w.useEffect(()=>{i&&U(i)},[i]),w.useEffect(()=>{a&&q(a)},[a]),w.useEffect(()=>{if(b!=="openai"||!e||!v)return;let Je=!1;return(async()=>{ne(!0);try{const ft=await v();if(!ft||Je)return;const vt=await Mre(ft);!Je&&vt.length>0&&(z(vt),vt.find(Be=>Be.value===L)||(U(vt[0].value),d?.(vt[0].value)))}catch(ft){console.warn("Failed to fetch OpenAI models:",ft)}finally{Je||ne(!1)}})(),()=>{Je=!0}},[b,e,L,d,v]),w.useEffect(()=>{if(b!=="anthropic"||!e||!v)return;let Je=!1;return(async()=>{be(!0);try{const ft=await v();if(!ft||Je)return;const vt=await Rre(ft);!Je&&vt.length>0&&(ue(vt),vt.find(Be=>Be.value===F)||(q(vt[0].value),f?.(vt[0].value)))}catch(ft){console.warn("Failed to fetch Anthropic models:",ft)}finally{Je||be(!1)}})(),()=>{Je=!0}},[b,e,F,f,v]),w.useEffect(()=>{if(b!=="ollama")return;let Je=!1;return(async()=>{V("checking");try{const ft=await Bm();if(Je)return;if(ft){const vt=await vl();if(Je)return;te(vt),V("connected"),vt.length>0&&!X&&(J(vt[0]),c?.(vt[0]))}else V("disconnected"),te([])}catch{Je||(V("disconnected"),te([]))}})(),()=>{Je=!0}},[b,X,c]);const qe=w.useCallback(async()=>{V("checking");try{if(await Bm()){const St=await vl();te(St),V("connected"),St.length>0&&!X&&(J(St[0]),c?.(St[0]))}else V("disconnected"),te([])}catch{V("disconnected"),te([])}},[X,c]),ae=w.useCallback(Je=>{if(!Je)return;const St=Je;x(St),o?.(St),j(null),B(!0),setTimeout(()=>B(!1),2e3)},[o]),se=w.useCallback(Je=>{Je&&(J(Je),c?.(Je),B(!0),setTimeout(()=>B(!1),2e3))},[c]),Le=w.useCallback(Je=>{Je&&(U(Je),d?.(Je),B(!0),setTimeout(()=>B(!1),2e3))},[d]),de=w.useCallback(Je=>{Je&&(q(Je),f?.(Je),B(!0),setTimeout(()=>B(!1),2e3))},[f]),He=w.useCallback(()=>{S.trim()&&(s?.(S.trim()),C(""),E(!1),B(!0),setTimeout(()=>B(!1),2e3))},[S,s]),Re=w.useCallback(async()=>{if(h){M(!0),j(null);try{const Je=await h();j(Je?"success":"error")}catch{j("error")}finally{M(!1)}}},[h]),ct=w.useCallback(()=>{C(""),E(!1)},[]),Qe=D5.find(Je=>Je.value===b),Ue=Qe?.label||b,We=Qe?.requiresApiKey??!0,rt=()=>{switch(G){case"checking":return g.jsxs(ze,{gap:"xs",children:[g.jsx(ji,{size:"xs"}),g.jsx(oe,{size:"sm",c:"dimmed",children:"Checking Ollama connection..."})]});case"connected":return g.jsxs(ze,{gap:"xs",children:[g.jsx(dn,{color:"green",leftSection:g.jsx(On,{size:12}),children:"Connected"}),g.jsxs(oe,{size:"sm",c:"dimmed",children:[K.length," model",K.length!==1?"s":""," available"]})]});case"disconnected":return g.jsxs(It,{variant:"light",color:"yellow",icon:g.jsx(Ml,{size:16}),title:"Ollama not detected",children:[g.jsxs(oe,{size:"sm",children:["Make sure Ollama is running. Start it with: ",g.jsx("code",{children:"ollama serve"})]}),g.jsxs(oe,{size:"sm",mt:"xs",children:["If you don't have Ollama installed, visit"," ",g.jsx(ph,{href:"https://ollama.com",target:"_blank",rel:"noopener noreferrer",children:"ollama.com"})]}),g.jsx(_t,{size:"xs",variant:"light",mt:"sm",leftSection:g.jsx(rd,{size:14}),onClick:qe,children:"Retry Connection"})]})}};return g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsxs(tt,{gap:"md",children:[g.jsx(Yi,{order:4,children:"AI Configuration"}),g.jsxs(oe,{size:"sm",c:"dimmed",children:["Configure your AI provider for document analysis."," ",We?"An API key is required to analyze lab reports.":"Ollama runs locally and does not require an API key."]}),I&&g.jsx(It,{color:"green",icon:g.jsx(On,{size:16}),children:"Settings saved"}),g.jsxs(tt,{gap:"xs",children:[g.jsx(oe,{fw:500,children:"AI Provider"}),g.jsx(qo,{value:b,onChange:ae,data:D5,disabled:m,leftSection:b==="ollama"?g.jsx(Pb,{size:16}):g.jsx(Kte,{size:16}),"aria-label":"Select AI provider"})]}),b==="ollama"&&g.jsxs(tt,{gap:"md",children:[rt(),G==="connected"&&K.length>0&&g.jsxs(tt,{gap:"xs",children:[g.jsx(oe,{fw:500,children:"Model"}),g.jsx(qo,{value:X,onChange:se,data:K.map(Je=>({value:Je,label:Je})),disabled:m,"aria-label":"Select Ollama model"}),g.jsx(oe,{size:"xs",c:"dimmed",children:"Choose which model to use for lab report analysis. Different models may have varying accuracy and speed."})]}),h&&G==="connected"&&g.jsx(De,{children:g.jsx(_t,{variant:"subtle",size:"xs",leftSection:g.jsx(rd,{size:14}),onClick:Re,loading:k,disabled:m,children:"Test Connection"})}),D==="success"&&g.jsx(It,{color:"green",icon:g.jsx(On,{size:16}),children:"Connection successful! Ollama is ready to analyze lab reports."}),D==="error"&&g.jsx(It,{color:"red",icon:g.jsx(la,{size:16}),children:"Connection test failed. Please check that Ollama is running."}),g.jsx(It,{color:"green",icon:g.jsx(Pb,{size:16}),variant:"light",children:g.jsx(oe,{size:"sm",children:"Ollama runs AI models locally on your device. Your health data never leaves your computer, providing complete privacy."})}),!FF()&&g.jsxs(It,{color:"orange",icon:g.jsx(Ml,{size:16}),variant:"light",title:"CORS Configuration Required",children:[g.jsxs(oe,{size:"sm",children:["Since HemoIO is running from ",g.jsx("code",{children:Mb()}),", your browser will block requests to Ollama on localhost due to CORS restrictions."]}),g.jsx(oe,{size:"sm",mt:"xs",fw:500,children:"To use Ollama, choose one of these options:"}),g.jsxs(oe,{size:"sm",component:"div",mt:"xs",children:[g.jsx("strong",{children:"Option 1:"})," Run HemoIO locally instead:",g.jsxs("pre",{style:{margin:"4px 0",padding:"8px",background:"var(--mantine-color-dark-7)",color:"var(--mantine-color-gray-3)",borderRadius:"4px",overflow:"auto"},children:["git clone https://github.com/djonasson/HemoIO",`
`,"npm install && npm run dev"]})]}),g.jsxs(oe,{size:"sm",component:"div",mt:"xs",children:[g.jsx("strong",{children:"Option 2:"})," Configure Ollama to allow this origin:",g.jsxs("pre",{style:{margin:"4px 0",padding:"8px",background:"var(--mantine-color-dark-7)",color:"var(--mantine-color-gray-3)",borderRadius:"4px",overflow:"auto"},children:["OLLAMA_ORIGINS=",Mb()," ollama serve"]})]})]})]}),We&&e&&g.jsxs(tt,{gap:"xs",children:[g.jsxs(ze,{justify:"space-between",children:[g.jsx(oe,{fw:500,children:"Model"}),(b==="openai"&&Y||b==="anthropic"&&we)&&g.jsxs(ze,{gap:"xs",children:[g.jsx(ji,{size:"xs"}),g.jsx(oe,{size:"xs",c:"dimmed",children:"Loading models from API..."})]})]}),b==="openai"&&W.length>0||b==="anthropic"&&ie.length>0?g.jsxs(g.Fragment,{children:[g.jsx(qo,{value:b==="openai"?L:F,onChange:b==="openai"?Le:de,data:b==="openai"?W:ie,disabled:m||b==="openai"&&Y||b==="anthropic"&&we,"aria-label":`Select ${b==="openai"?"OpenAI":"Anthropic"} model`,placeholder:"Select a model",searchable:!0}),g.jsx(oe,{size:"xs",c:"dimmed",children:W.length>0||ie.length>0?`${b==="openai"?W.length:ie.length} models available from your account`:"Loading models..."})]}):!Y&&!we&&g.jsx(oe,{size:"sm",c:"dimmed",children:"No models available. Check your API key or try refreshing."})]}),We&&g.jsxs(tt,{gap:"xs",children:[g.jsx(oe,{fw:500,children:"API Key"}),e&&!T?g.jsxs(De,{children:[g.jsxs(ze,{gap:"sm",children:[g.jsx(dn,{leftSection:g.jsx(Pm,{size:12}),variant:"light",color:"green",children:"Configured"}),n&&g.jsxs(oe,{size:"sm",c:"dimmed",children:["",n]})]}),g.jsxs(ze,{gap:"sm",mt:"sm",children:[g.jsx(_t,{variant:"subtle",size:"xs",onClick:()=>E(!0),disabled:m,children:"Update API Key"}),h&&g.jsx(_t,{variant:"subtle",size:"xs",leftSection:g.jsx(rd,{size:14}),onClick:Re,loading:k,disabled:m,children:"Test Connection"})]})]}):g.jsxs(tt,{gap:"xs",children:[g.jsx(Ms,{value:S,onChange:Je=>C(Je.currentTarget.value),placeholder:`Enter your ${Ue} API key`,disabled:m,"aria-label":"API key"}),g.jsx(oe,{size:"xs",c:"dimmed",children:b==="openai"?"Get your API key from platform.openai.com":"Get your API key from console.anthropic.com"}),g.jsxs(ze,{gap:"sm",children:[g.jsx(_t,{size:"xs",onClick:He,disabled:!S.trim()||m,children:"Save API Key"}),e&&g.jsx(_t,{variant:"subtle",size:"xs",onClick:ct,disabled:m,children:"Cancel"})]})]}),D==="success"&&g.jsx(It,{color:"green",icon:g.jsx(On,{size:16}),children:"Connection successful! Your API key is working."}),D==="error"&&g.jsx(It,{color:"red",icon:g.jsx(la,{size:16}),children:"Connection failed. Please check your API key and try again."})]}),We&&g.jsx(It,{color:"blue",icon:g.jsx(Pm,{size:16}),variant:"light",children:g.jsx(oe,{size:"sm",children:"Your API key is stored securely on your device and is never sent to our servers. It is only used to communicate directly with your chosen AI provider."})})]})})}function uke({targets:t,onSetTarget:e,onClearTarget:n,isSaving:r=!1}){const[i,a]=w.useState(""),[o,s]=w.useState(null),[c,d]=w.useState(""),[f,h]=w.useState(""),[m,v]=w.useState(!1),b=t.filter(M=>M.biomarkerName.toLowerCase().includes(i.toLowerCase())),x=t.filter(M=>M.personalLow!==void 0||M.personalHigh!==void 0).length,S=w.useCallback(M=>{s(M),d(M.personalLow??""),h(M.personalHigh??"")},[]),C=w.useCallback(()=>{if(!o)return;const M=c===""?void 0:c,D=f===""?void 0:f;e(o.biomarkerId,M,D),s(null),v(!0),setTimeout(()=>v(!1),2e3)},[o,c,f,e]),T=w.useCallback(M=>{n(M),v(!0),setTimeout(()=>v(!1),2e3)},[n]),E=w.useCallback(()=>{s(null),d(""),h("")},[]),k=M=>M.personalLow!==void 0||M.personalHigh!==void 0;return g.jsxs(g.Fragment,{children:[g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsxs(tt,{gap:"md",children:[g.jsxs(ze,{justify:"space-between",children:[g.jsx(Yi,{order:4,children:"Personal Target Ranges"}),x>0&&g.jsxs(dn,{color:"blue",variant:"light",children:[x," custom"]})]}),g.jsx(oe,{size:"sm",c:"dimmed",children:"Set personal target ranges for biomarkers that differ from standard reference ranges. Your personal targets will be used to determine if values are within your optimal range."}),m&&g.jsx(It,{color:"green",icon:g.jsx(On,{size:16}),children:"Personal target saved"}),g.jsx(Cs,{placeholder:"Search biomarkers...",leftSection:g.jsx(fP,{size:16}),value:i,onChange:M=>a(M.currentTarget.value),"aria-label":"Search biomarkers"}),b.length===0?g.jsx(oe,{size:"sm",c:"dimmed",ta:"center",py:"md",children:"No biomarkers found matching your search."}):g.jsx(Ul,{h:400,children:g.jsxs(ht,{striped:!0,highlightOnHover:!0,children:[g.jsx(ht.Thead,{children:g.jsxs(ht.Tr,{children:[g.jsx(ht.Th,{children:"Biomarker"}),g.jsx(ht.Th,{children:"Standard Range"}),g.jsx(ht.Th,{children:"Personal Target"}),g.jsx(ht.Th,{w:100,children:"Actions"})]})}),g.jsx(ht.Tbody,{children:b.map(M=>g.jsxs(ht.Tr,{children:[g.jsxs(ht.Td,{children:[g.jsx(oe,{size:"sm",fw:500,children:M.biomarkerName}),g.jsx(oe,{size:"xs",c:"dimmed",children:M.unit})]}),g.jsx(ht.Td,{children:g.jsx(oe,{size:"sm",children:A_(M.standardLow,M.standardHigh)})}),g.jsx(ht.Td,{children:k(M)?g.jsx(dn,{color:"blue",variant:"light",leftSection:g.jsx(Q_,{size:12}),children:A_(M.personalLow,M.personalHigh)}):g.jsx(oe,{size:"sm",c:"dimmed",children:"Using standard"})}),g.jsx(ht.Td,{children:g.jsxs(ze,{gap:"xs",children:[g.jsx(fi,{label:"Set personal target",children:g.jsx(Mi,{variant:"subtle",onClick:()=>S(M),disabled:r,"aria-label":`Set personal target for ${M.biomarkerName}`,children:g.jsx(dP,{size:16})})}),k(M)&&g.jsx(fi,{label:"Clear personal target",children:g.jsx(Mi,{variant:"subtle",color:"red",onClick:()=>T(M.biomarkerId),disabled:r,"aria-label":`Clear personal target for ${M.biomarkerName}`,children:g.jsx(kx,{size:16})})})]})})]},M.biomarkerId))})]})}),g.jsx(It,{color:"blue",icon:g.jsx(Q_,{size:16}),variant:"light",children:g.jsx(oe,{size:"sm",children:"Personal targets help you track your health goals. When set, they will be used instead of standard reference ranges to highlight values outside your optimal range."})})]})}),g.jsx($r,{opened:o!==null,onClose:E,title:`Set Personal Target for ${o?.biomarkerName}`,centered:!0,children:o&&g.jsxs(tt,{gap:"md",children:[g.jsxs(oe,{size:"sm",c:"dimmed",children:["Standard reference range: ",A_(o.standardLow,o.standardHigh)," ",o.unit]}),g.jsxs(ze,{grow:!0,children:[g.jsx(xl,{label:"Low Value",placeholder:"Min",value:c,onChange:M=>d(M===""?"":Number(M)),min:0,decimalScale:2,"aria-label":"Personal target low value"}),g.jsx(xl,{label:"High Value",placeholder:"Max",value:f,onChange:M=>h(M===""?"":Number(M)),min:0,decimalScale:2,"aria-label":"Personal target high value"})]}),g.jsx(oe,{size:"xs",c:"dimmed",children:"Leave a field empty to use only one bound (e.g., only set high value for values that should stay below a certain level)."}),g.jsxs(ze,{justify:"flex-end",gap:"sm",children:[g.jsx(_t,{variant:"subtle",onClick:E,children:"Cancel"}),g.jsx(_t,{onClick:C,disabled:c===""&&f==="",children:"Save Target"})]})]})})]})}function A_(t,e){return t===void 0&&e===void 0?"N/A":t===void 0?`< ${e}`:e===void 0?`> ${t}`:`${t} - ${e}`}const j5="hemoio_storage_provider";function dke({isSaving:t=!1}){const[e,n]=w.useState("local"),[r,i]=w.useState(null),[a,o]=w.useState(null),[s,c]=w.useState(!1),[d,f]=w.useState(!1),[h,m]=w.useState(null),[v,b]=w.useState(!1),[x,S]=w.useState(null),[C,T]=w.useState(!1),E=pP();w.useEffect(()=>{const V=localStorage.getItem(j5);V&&n(V)},[]),w.useEffect(()=>{async function V(){if(e!=="filesystem"||!E)return;const K=new Mm,te=await K.getDirectoryName();if(i(te),te){const X=await K.getPermissionState();o(X)}}V()},[e,E]);const k=w.useCallback(async()=>{c(!0),m(null);try{const K=await new Mm().requestPermission();o(K)}catch(V){V instanceof Error?m(V.message):m("Failed to request permission")}finally{c(!1)}},[]),M=w.useCallback(async()=>{f(!0),m(null);try{const K=await new Mm().selectDirectory();return K?(i(K.name),o("granted"),K.name):null}catch(V){return V instanceof Error?m(V.message):m("Failed to select directory"),null}finally{f(!1)}},[]),D=w.useCallback(V=>{V!==e&&(S(V),T(!0))},[e]),j=w.useCallback(async()=>{if(x){b(!0),m(null);try{if(x==="filesystem"&&!await M()){b(!1),T(!1),S(null);return}localStorage.setItem(j5,x),n(x),x!=="filesystem"&&(i(null),o(null)),T(!1),S(null)}catch(V){V instanceof Error?m(V.message):m("Failed to switch storage provider")}finally{b(!1)}}},[x,M]),I=w.useCallback(()=>{T(!1),S(null)},[]),B=(V,K,te,X,J=!1,L)=>{const U=e===V;return g.jsx(Dt,{withBorder:!0,p:"md",radius:"md",style:{cursor:J?"not-allowed":"pointer",opacity:J?.5:1,borderColor:U?"var(--mantine-color-blue-5)":void 0,backgroundColor:U?"var(--mantine-color-blue-light)":void 0},onClick:()=>!J&&!t&&D(V),role:"radio","aria-checked":U,"aria-disabled":J,tabIndex:J?-1:0,onKeyDown:F=>{!J&&!t&&(F.key==="Enter"||F.key===" ")&&(F.preventDefault(),D(V))},children:g.jsxs(ze,{children:[g.jsx(kd,{checked:U,onChange:()=>D(V),disabled:J||t,"aria-hidden":"true",tabIndex:-1}),g.jsx(vn,{size:"lg",variant:"light",color:J?"gray":"blue",children:X}),g.jsxs("div",{style:{flex:1},children:[g.jsxs(ze,{gap:"xs",children:[g.jsx(oe,{fw:500,children:K}),U&&g.jsx(dn,{color:"green",variant:"light",size:"sm",children:"Active"})]}),g.jsx(oe,{size:"sm",c:"dimmed",children:te}),L]})]})})},G=()=>e!=="filesystem"?null:g.jsxs(tt,{gap:"xs",mt:"sm",onClick:V=>V.stopPropagation(),children:[r&&g.jsx(ze,{gap:"xs",children:a==="granted"?g.jsxs(g.Fragment,{children:[g.jsx(vn,{size:"sm",variant:"light",color:"green",children:g.jsx(On,{size:14})}),g.jsx(oe,{size:"sm",fw:500,children:r}),g.jsx(_t,{size:"xs",variant:"subtle",onClick:M,loading:d,disabled:t,leftSection:g.jsx(km,{size:14}),children:"Change"})]}):a==="prompt"?g.jsxs(g.Fragment,{children:[g.jsx(vn,{size:"sm",variant:"light",color:"yellow",children:g.jsx(Ml,{size:14})}),g.jsx(oe,{size:"sm",c:"dimmed",children:r}),g.jsx(_t,{size:"xs",variant:"light",color:"yellow",onClick:k,loading:s,disabled:t,leftSection:g.jsx(rd,{size:14}),children:"Grant Access"})]}):g.jsxs(g.Fragment,{children:[g.jsx(vn,{size:"sm",variant:"light",color:"red",children:g.jsx(Ml,{size:14})}),g.jsx(oe,{size:"sm",c:"red",children:"Access denied"}),g.jsx(_t,{size:"xs",variant:"light",onClick:M,loading:d,disabled:t,leftSection:g.jsx(km,{size:14}),children:"Select New Folder"})]})}),!r&&g.jsx(_t,{size:"sm",variant:"light",onClick:M,loading:d,disabled:t,leftSection:g.jsx(km,{size:16}),children:"Choose Folder"})]});return g.jsxs(g.Fragment,{children:[g.jsxs(tt,{gap:"md",children:[g.jsx(oe,{fw:500,children:"Storage Location"}),g.jsx(oe,{size:"sm",c:"dimmed",children:"Choose where to store your encrypted data. You can switch between storage providers at any time."}),g.jsxs(tt,{gap:"sm",role:"radiogroup","aria-label":"Storage provider selection",children:[B("local","Local Storage","Store data in your browser. Data stays on this device only.",g.jsx(lP,{size:20})),E&&B("filesystem","Local Directory","Store data in a local folder.",g.jsx(LF,{size:20}),!1,G())]}),h&&g.jsx(It,{color:"red",variant:"light",title:"Error",children:h}),e==="filesystem"&&a==="prompt"&&g.jsx(It,{color:"yellow",variant:"light",title:"Permission Required",children:'Your browser requires permission to access the selected folder. Click "Grant Access" to continue using your data.'}),!E&&g.jsx(oe,{size:"xs",c:"dimmed",children:"Note: Local Directory storage is not supported in this browser. Use Chrome or Edge to enable folder-based storage."})]}),g.jsx($r,{opened:C,onClose:I,title:"Change Storage Location",centered:!0,children:g.jsxs(tt,{gap:"md",children:[g.jsx(It,{color:"yellow",variant:"light",icon:g.jsx(oL,{size:16}),children:g.jsx(oe,{size:"sm",children:"Changing your storage location will affect where new data is saved. Your existing data will remain in the current location."})}),g.jsx(oe,{size:"sm",children:"To migrate your existing data:"}),g.jsxs(oe,{size:"sm",component:"ol",style:{paddingLeft:"1.5rem",margin:0},children:[g.jsx("li",{children:"Export a backup from the current storage (Backup & Restore section)"}),g.jsx("li",{children:"Switch to the new storage location"}),g.jsx("li",{children:"Import your backup into the new location"})]}),g.jsxs(ze,{justify:"flex-end",mt:"md",children:[g.jsx(_t,{variant:"default",onClick:I,disabled:v,children:"Cancel"}),g.jsx(_t,{onClick:j,loading:v,leftSection:g.jsx(oL,{size:16}),children:x==="filesystem"?"Select Folder & Switch":"Switch Storage"})]})]})})]})}function fke({onRestore:t,isRestoring:e=!1}){const{dataSources:n,isLoading:r}=VF(),{db:i,isReady:a}=Dd(),{colorScheme:o}=s4(),{hasApiKey:s,apiKeyLastFour:c,getApiKey:d,setApiKey:f,removeApiKey:h,isLoading:m}=qF(),{aiProvider:v,ollamaModel:b,openaiModel:x,anthropicModel:S,setAiProvider:C,setOllamaModel:T,setOpenaiModel:E,setAnthropicModel:k}=GF(),[M,D]=w.useState(!1),[j,I]=w.useState("system"),[B,G]=w.useState("MM/DD/YYYY"),[V,K]=w.useState([]),[te,X]=w.useState(!1);w.useEffect(()=>{async function z(){if(!(!i||!a))try{const Y=await i.getPreferences(),ne=localStorage.getItem("hemoio_date_format"),ie=localStorage.getItem("hemoio_theme"),ue=Y?.dateFormat??ne??"MM/DD/YYYY",we=Y?.theme??ie??"system";G(ue),I(we),(ne||ie)&&(await i.savePreferences({unitPreferences:Y?.unitPreferences??{},personalTargets:Y?.personalTargets??{},theme:we,dateFormat:ue}),localStorage.removeItem("hemoio_date_format"),localStorage.removeItem("hemoio_theme"))}catch(Y){console.error("Failed to load display settings:",Y),I(o==="auto"?"system":o)}}z()},[i,a,o]),w.useEffect(()=>{async function z(){if(!(!i||!a))try{const ne=(await i.getPreferences())?.personalTargets??{},ie=vh.map((ue,we)=>{const be=ne[we+1];return{biomarkerId:we+1,biomarkerName:ue.name,unit:ue.canonicalUnit,standardLow:ue.defaultReferenceRange?.low,standardHigh:ue.defaultReferenceRange?.high,personalLow:be?.low,personalHigh:be?.high}});K(ie)}catch(Y){console.error("Failed to load personal targets:",Y)}}z()},[i,a]);const J=w.useCallback(async z=>{z?await f(z):h()},[f,h]),L=w.useCallback(async()=>{D(!0);try{const z=await d();return!(!z||v==="openai"&&!z.startsWith("sk-")||v==="anthropic"&&!z.startsWith("sk-ant-"))}catch{return!1}finally{D(!1)}},[v,d]),U=w.useCallback(async z=>{if(I(z),i&&a)try{const Y=await i.getPreferences();await i.savePreferences({unitPreferences:Y?.unitPreferences??{},personalTargets:Y?.personalTargets??{},theme:z,dateFormat:Y?.dateFormat??"MM/DD/YYYY"})}catch(Y){console.error("Failed to save theme:",Y)}},[i,a]),F=w.useCallback(async z=>{if(G(z),i&&a)try{const Y=await i.getPreferences();await i.savePreferences({unitPreferences:Y?.unitPreferences??{},personalTargets:Y?.personalTargets??{},theme:Y?.theme??"system",dateFormat:z})}catch(Y){console.error("Failed to save date format:",Y)}},[i,a]),q=w.useCallback(async(z,Y,ne)=>{if(!(!i||!a)){X(!0);try{const ie=await i.getPreferences(),we={...ie?.personalTargets??{},[z]:{low:Y,high:ne}};await i.savePreferences({unitPreferences:ie?.unitPreferences??{},personalTargets:we,theme:ie?.theme??"system",dateFormat:ie?.dateFormat??"MM/DD/YYYY"}),K(be=>be.map(qe=>qe.biomarkerId===z?{...qe,personalLow:Y,personalHigh:ne}:qe))}catch(ie){console.error("Failed to save personal target:",ie)}finally{X(!1)}}},[i,a]),W=w.useCallback(async z=>{if(!(!i||!a)){X(!0);try{const Y=await i.getPreferences(),ne={...Y?.personalTargets??{}};delete ne[z],await i.savePreferences({unitPreferences:Y?.unitPreferences??{},personalTargets:ne,theme:Y?.theme??"system",dateFormat:Y?.dateFormat??"MM/DD/YYYY"}),K(ie=>ie.map(ue=>ue.biomarkerId===z?{...ue,personalLow:void 0,personalHigh:void 0}:ue))}catch(Y){console.error("Failed to clear personal target:",Y)}finally{X(!1)}}},[i,a]);return g.jsxs(tt,{gap:"lg",children:[g.jsx(Yi,{order:2,children:"Settings"}),g.jsxs(na,{defaultValue:"data",keepMounted:!1,children:[g.jsxs(na.List,{children:[g.jsx(na.Tab,{value:"data",leftSection:g.jsx(sP,{size:16}),children:"Data"}),g.jsx(na.Tab,{value:"ai",leftSection:g.jsx(Kne,{size:16}),children:"AI Configuration"}),g.jsx(na.Tab,{value:"preferences",leftSection:g.jsx(hP,{size:16}),children:"Display"}),g.jsx(na.Tab,{value:"targets",leftSection:g.jsx(Q_,{size:16}),children:"Personal Targets"})]}),g.jsx(na.Panel,{value:"data",pt:"md",children:g.jsxs(tt,{gap:"lg",children:[g.jsx(dke,{}),g.jsx(ake,{dataSources:n,onRestore:t,isProcessing:e||r})]})}),g.jsx(na.Panel,{value:"ai",pt:"md",children:g.jsx(cke,{provider:v,hasApiKey:!m&&s,apiKeyLastFour:c,ollamaModel:b,openaiModel:x,anthropicModel:S,onProviderChange:C,onApiKeyChange:J,onOllamaModelChange:T,onOpenaiModelChange:E,onAnthropicModelChange:k,onTestConnection:L,isSaving:M,getApiKey:d})}),g.jsx(na.Panel,{value:"preferences",pt:"md",children:g.jsx(ske,{theme:j,dateFormat:B,onThemeChange:U,onDateFormatChange:F})}),g.jsx(na.Panel,{value:"targets",pt:"md",children:g.jsx(uke,{targets:V,onSetTarget:q,onClearTarget:W,isSaving:te})})]})]})}const hke=[{value:"all",label:"All Time"},{value:"30",label:"Last 30 Days"},{value:"90",label:"Last 90 Days"},{value:"180",label:"Last 6 Months"},{value:"365",label:"Last Year"},{value:"custom",label:"Custom Range"}];function pke(t){if(t==="all"||t==="custom")return null;const e=parseInt(t,10),n=new Date;return n.setDate(n.getDate()-e),n}function mke({opened:t,onClose:e,labResultsData:n,fullDataSources:r,biomarkerOptions:i}){const[a,o]=w.useState("csv"),[s,c]=w.useState("all"),[d,f]=w.useState(null),[h,m]=w.useState(null),[v,b]=w.useState([]),[x,S]=w.useState(!0),[C,T]=w.useState(!1),E=w.useMemo(()=>s==="custom"?{start:d,end:h}:{start:pke(s),end:null},[s,d,h]),k=n.length>0,M=w.useMemo(()=>{let I=n;E.start&&(I=I.filter(G=>G.labResult.date>=E.start)),E.end&&(I=I.filter(G=>G.labResult.date<=E.end));let B=0;for(const G of I){let V=G.testValues;v.length>0&&(V=V.filter(K=>v.includes(K.biomarkerId.toString()))),B+=V.length}return{labResults:I.length,testValues:B}},[n,E,v]),D=w.useCallback(async()=>{T(!0);try{if(a==="csv"){const I=_Te(n,{startDate:E.start??void 0,endDate:E.end??void 0,biomarkerIds:v.length>0?v.map(G=>parseInt(G,10)):void 0,includeReferenceRanges:x}),B=ETe({startDate:E.start??void 0,endDate:E.end??void 0});TTe(I,B)}else{const I=sV(r,{prettyPrint:!0}),B=lV();cV(I,B)}e()}catch(I){console.error("Export failed:",I)}finally{T(!1)}},[a,n,r,E,v,x,e]),j=w.useCallback(()=>{C||e()},[C,e]);return g.jsx($r,{opened:t,onClose:j,title:"Export Data",size:"md",centered:!0,children:g.jsxs(tt,{gap:"md",children:[!k&&g.jsx(It,{color:"yellow",icon:g.jsx(la,{size:16}),children:"No data to export. Import some lab results first."}),g.jsx(qo,{label:"Export Format",value:a,onChange:I=>o(I),data:[{value:"csv",label:"CSV (Spreadsheet)"},{value:"json",label:"JSON (Full Backup)"}],leftSection:a==="csv"?g.jsx(vne,{size:16}):g.jsx(Rne,{size:16}),"aria-label":"Select export format"}),a==="csv"&&g.jsxs(g.Fragment,{children:[g.jsx(Os,{label:"Filter Options",labelPosition:"center"}),g.jsx(qo,{label:"Date Range",value:s,onChange:I=>c(I||"all"),data:hke,"aria-label":"Select date range"}),s==="custom"&&g.jsxs(ze,{grow:!0,children:[g.jsx(Kc,{label:"Start Date",value:d,onChange:I=>f(I?new Date(I):null),clearable:!0,"aria-label":"Start date"}),g.jsx(Kc,{label:"End Date",value:h,onChange:I=>m(I?new Date(I):null),clearable:!0,"aria-label":"End date"})]}),g.jsx(gx,{label:"Biomarkers",placeholder:"All biomarkers",data:i,value:v,onChange:b,clearable:!0,searchable:!0,"aria-label":"Select biomarkers to include"}),g.jsx(Lh,{label:"Include reference ranges",checked:x,onChange:I=>S(I.currentTarget.checked)})]}),a==="json"&&g.jsx(oe,{size:"sm",c:"dimmed",children:"JSON export includes all lab results, test values, notes, and settings (excluding API keys). Use this for full backup and restore."}),g.jsx(Dt,{p:"sm",withBorder:!0,children:g.jsxs(tt,{gap:"xs",children:[g.jsx(oe,{size:"sm",fw:500,children:"Export Preview"}),a==="csv"?g.jsx(g.Fragment,{children:g.jsxs(oe,{size:"sm",c:"dimmed",children:[M.labResults," lab result",M.labResults!==1?"s":"",","," ",M.testValues," test value",M.testValues!==1?"s":""]})}):g.jsx(g.Fragment,{children:g.jsxs(oe,{size:"sm",c:"dimmed",children:[r.labResults.length," lab result",r.labResults.length!==1?"s":"",","," ",r.testValues.length," test value",r.testValues.length!==1?"s":"",","," ",r.userNotes.length," note",r.userNotes.length!==1?"s":""]})})]})}),g.jsxs(ze,{justify:"flex-end",gap:"sm",children:[g.jsx(_t,{variant:"subtle",onClick:j,disabled:C,children:"Cancel"}),g.jsx(_t,{leftSection:g.jsx(_x,{size:16}),onClick:D,loading:C,disabled:!k,children:"Export"})]})]})})}function gke(){const t={cbc:[],metabolic:[],lipid:[],thyroid:[],iron:[],vitamin:[],urinalysis:[],fertility:[],other:[]};for(const e of vh)t[e.category].push(e);return t}function vke({onSelectBiomarker:t,selectedBiomarker:e}){const[n,r]=w.useState(""),i=w.useMemo(()=>gke(),[]),a=w.useMemo(()=>n.trim()?die(n):null,[n]),o=w.useCallback(c=>{t?.(c)},[t]),s=w.useMemo(()=>Object.keys(jb).filter(c=>i[c].length>0),[i]);return g.jsxs(tt,{gap:"md",children:[g.jsx(Yi,{order:2,children:"Biomarker Dictionary"}),g.jsx(oe,{c:"dimmed",size:"sm",children:"Browse and learn about different biomarkers. Click on a biomarker to see detailed information including reference ranges and what abnormal values may indicate."}),g.jsx(Cs,{placeholder:"Search biomarkers...",leftSection:g.jsx(fP,{size:16}),value:n,onChange:c=>r(c.currentTarget.value),"aria-label":"Search biomarkers"}),a!==null?g.jsxs(tt,{gap:"xs",children:[g.jsxs(oe,{size:"sm",c:"dimmed",children:[a.length," result",a.length!==1?"s":""," found"]}),a.length===0?g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsxs(oe,{c:"dimmed",ta:"center",children:['No biomarkers found matching "',n,'"']})}):g.jsx(Ul,{h:500,children:g.jsx(tt,{gap:"xs",children:a.map(c=>g.jsx(R5,{biomarker:c,isSelected:e===c.name,onClick:()=>o(c)},c.name))})})]}):g.jsx(ki,{variant:"contained",chevronPosition:"right",children:s.map(c=>g.jsxs(ki.Item,{value:c,children:[g.jsx(ki.Control,{children:g.jsxs(ze,{justify:"space-between",children:[g.jsx(oe,{fw:500,children:jb[c]}),g.jsx(dn,{variant:"light",color:"gray",children:i[c].length})]})}),g.jsx(ki.Panel,{children:g.jsx(tt,{gap:"xs",children:i[c].map(d=>g.jsx(R5,{biomarker:d,isSelected:e===d.name,onClick:()=>o(d)},d.name))})})]},c))})]})}function R5({biomarker:t,isSelected:e,onClick:n}){return g.jsx(Dt,{p:"sm",withBorder:!0,style:{cursor:"pointer",backgroundColor:e?"var(--mantine-color-blue-light)":void 0},onClick:n,role:"button",tabIndex:0,onKeyDown:r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),n())},"aria-label":`View details for ${t.name}`,"aria-selected":e,children:g.jsxs(ze,{justify:"space-between",wrap:"nowrap",children:[g.jsxs(De,{style:{flex:1,minWidth:0},children:[g.jsxs(ze,{gap:"xs",wrap:"nowrap",children:[g.jsx(oe,{fw:500,truncate:!0,children:t.name}),t.aliases.length>0&&g.jsxs(oe,{size:"xs",c:"dimmed",truncate:!0,children:["(",t.aliases[0],")"]})]}),g.jsx(oe,{size:"xs",c:"dimmed",lineClamp:1,children:t.description})]}),g.jsx(ane,{size:16,color:"var(--mantine-color-dimmed)"})]})})}const yke={serum:"Serum",plasma:"Plasma",urine:"Urine","urine-24h":"24h Urine","whole-blood":"Whole Blood",capillary:"Capillary",saliva:"Saliva",csf:"CSF",stool:"Stool",semen:"Semen",other:"Other"};function bke(t){return yke[t]||t}function xke({biomarker:t,onClose:e}){return g.jsx(Dt,{p:"md",withBorder:!0,children:g.jsxs(tt,{gap:"md",children:[g.jsxs(ze,{justify:"space-between",align:"flex-start",wrap:"nowrap",children:[g.jsxs(De,{style:{flex:1},children:[g.jsx(Yi,{order:3,children:t.name}),t.aliases.length>0&&g.jsxs(oe,{size:"sm",c:"dimmed",children:["Also known as: ",t.aliases.join(", ")]})]}),e&&g.jsx(zs,{onClick:e,"aria-label":"Close biomarker detail"})]}),g.jsx(ze,{gap:"xs",children:g.jsx(dn,{variant:"light",color:"blue",children:jb[t.category]})}),t.specimenType&&g.jsxs(ze,{gap:"xs",children:[g.jsx(Tx,{size:16,style:{color:"var(--mantine-color-dimmed)"}}),g.jsxs(oe,{size:"sm",c:"dimmed",children:["Specimen: ",bke(t.specimenType)]})]}),t.loincCode&&g.jsx(ze,{gap:"xs",children:g.jsxs(oe,{size:"sm",c:"dimmed",children:["LOINC:"," ",g.jsxs(ph,{href:`https://loinc.org/${t.loincCode}`,target:"_blank",rel:"noopener noreferrer",size:"sm",children:[t.loincCode,g.jsx(hne,{size:12,style:{marginLeft:4,verticalAlign:"middle"}})]})]})}),g.jsx(Os,{}),g.jsxs(De,{children:[g.jsx(oe,{size:"sm",fw:500,mb:"xs",children:"Description"}),g.jsx(oe,{size:"sm",children:t.description})]}),t.defaultReferenceRange&&g.jsxs(De,{children:[g.jsx(oe,{size:"sm",fw:500,mb:"xs",children:"Reference Range"}),g.jsxs(Dt,{p:"sm",withBorder:!0,bg:"var(--mantine-color-gray-light)",children:[g.jsxs(ze,{gap:"xs",align:"center",children:[g.jsx(Pne,{size:16}),g.jsxs(oe,{size:"sm",fw:500,children:[t.defaultReferenceRange.low," - ",t.defaultReferenceRange.high," ",t.defaultReferenceRange.unit]})]}),g.jsx(oe,{size:"xs",c:"dimmed",mt:"xs",children:"Standard reference range for adults. Your lab may use different ranges."})]})]}),g.jsxs(De,{children:[g.jsx(oe,{size:"sm",fw:500,mb:"xs",children:"Units"}),g.jsxs(ze,{gap:"xs",children:[g.jsx(dn,{variant:"outline",color:"gray",children:t.canonicalUnit}),t.alternativeUnits.map(n=>g.jsx(dn,{variant:"light",color:"gray",children:n},n))]})]}),(t.highIndication||t.lowIndication)&&g.jsxs(g.Fragment,{children:[g.jsx(Os,{}),g.jsxs(De,{children:[g.jsx(oe,{size:"sm",fw:500,mb:"xs",children:"What Abnormal Values May Indicate"}),g.jsxs(tt,{gap:"sm",children:[t.highIndication&&g.jsx(It,{variant:"light",color:"red",icon:g.jsx(aP,{size:16}),title:"High Values",children:g.jsx(oe,{size:"sm",children:t.highIndication})}),t.lowIndication&&g.jsx(It,{variant:"light",color:"blue",icon:g.jsx(iP,{size:16}),title:"Low Values",children:g.jsx(oe,{size:"sm",children:t.lowIndication})})]})]})]}),g.jsx(It,{variant:"light",color:"gray",icon:g.jsx(cP,{size:16}),children:g.jsx(oe,{size:"xs",children:"This information is for educational purposes only. Always consult with your healthcare provider for interpretation of your lab results."})})]})})}function wke(t){if(!t)return new Date;const e=t.match(/^(\d{4})-(\d{2})-(\d{2})/);if(e)return new Date(Date.UTC(parseInt(e[1]),parseInt(e[2])-1,parseInt(e[3]),12,0,0));const n=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(n)return new Date(Date.UTC(parseInt(n[3]),parseInt(n[1])-1,parseInt(n[2]),12,0,0));const r=t.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})/);if(r)return new Date(Date.UTC(parseInt(r[3]),parseInt(r[2])-1,parseInt(r[1]),12,0,0));const i=new Date(t);return isNaN(i.getTime())?new Date:i}function Ske(t){if(t.dictionaryMatch){const r=vh.findIndex(i=>i.name===t.dictionaryMatch.name);if(r>=0)return r+1}const e=Bs(t.name);if(e){const r=vh.findIndex(i=>i.name===e.name);if(r>=0)return r+1}let n=0;for(let r=0;r<t.name.length;r++){const i=t.name.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return 1e4+Math.abs(n%9e4)}function Cke(t,e){const n=new Date,r=Ske(t);return{labResultId:e,biomarkerId:r,value:t.value,unit:t.unit,referenceRangeLow:t.referenceRange?.low,referenceRangeHigh:t.referenceRange?.high,rawText:t.name,confidence:t.confidence,createdAt:n,updatedAt:n}}function Ake(t){const e=new Date,n=wke(t.editedLabDate||t.labDate),r=t.editedLabName||t.labName||"Unknown Lab";return{date:n,labName:r,createdAt:e,updatedAt:e}}async function _ke(t,e){const n=[],r=Ake(t),i=await e.addLabResult(r),a=t.editedBiomarkers.map(s=>Cke(s,i)),o=t.editedBiomarkers.filter(s=>!s.dictionaryMatch&&!Bs(s.name));return o.length>0&&n.push(`${o.length} biomarker(s) not found in dictionary: ${o.map(s=>s.name).join(", ")}`),a.length>0&&await e.addTestValues(a),{labResultId:i,testValueCount:a.length,warnings:n}}async function Eke(t,e){const n={results:[],totalLabResults:0,totalTestValues:0,errors:[]};for(const r of t)try{const i=await _ke(r,e);n.results.push(i),n.totalLabResults++,n.totalTestValues+=i.testValueCount}catch(i){const a=i instanceof Error?i.message:String(i);n.errors.push({fileName:r.fileName,error:a})}return n}const pV=[{view:"timeline",label:"Timeline",icon:g.jsx(NF,{size:20}),description:"View your lab results history"},{view:"import",label:"Import",icon:g.jsx(Om,{size:20}),description:"Import new lab results"},{view:"trends",label:"Trends",icon:g.jsx(Tm,{size:20}),description:"Analyze trends over time"},{view:"dictionary",label:"Biomarkers",icon:g.jsx(Fte,{size:20}),description:"Browse biomarker reference"},{view:"settings",label:"Settings",icon:g.jsx(hP,{size:20}),description:"App settings and preferences"}];function Tke({children:t}){const{lock:e}=Md(),{db:n,isReady:r}=Dd(),[i,{toggle:a,close:o}]=F0(),[s,c]=w.useState("timeline"),[d,f]=w.useState(!1),[h,m]=w.useState(!1),{dataSources:v,labResultsData:b,biomarkerOptions:x,refresh:S}=VF(),{syncNow:C}=yie(),T=w.useCallback(B=>{c(B),o()},[o]),E=w.useCallback(()=>{e()},[e]),k=w.useCallback(async B=>{if(!n||!r){bo.show({title:"Error",message:"Database not available. Please try again.",color:"red",icon:g.jsx(Vi,{size:16})});return}try{const G=await Eke(B,n);G.errors.length>0?bo.show({title:"Import Partially Complete",message:`Saved ${G.totalLabResults} lab result(s) with ${G.totalTestValues} test value(s). ${G.errors.length} file(s) failed.`,color:"yellow",icon:g.jsx(On,{size:16})}):bo.show({title:"Import Complete",message:`Successfully saved ${G.totalLabResults} lab result(s) with ${G.totalTestValues} test value(s).`,color:"green",icon:g.jsx(On,{size:16})}),await C(),c("timeline")}catch(G){console.error("Import save error:",G),bo.show({title:"Import Failed",message:G instanceof Error?G.message:"Failed to save import results.",color:"red",icon:g.jsx(Vi,{size:16})})}},[n,r,C]),M=w.useCallback(()=>{c("import")},[]),D=w.useCallback(()=>{f(!0)},[]),j=w.useCallback(()=>{f(!1)},[]),I=w.useCallback(async B=>{if(!n||!r)throw new Error("Database not available");m(!0);try{await n.clearAllData();for(const te of B.labResults){const{id:X,...J}=te;await n.addLabResult(J)}const G=B.labResults,V=await n.getAllLabResults(),K=new Map;for(let te=0;te<G.length;te++){const X=G[te],J=V.find(L=>L.date.getTime()===new Date(X.date).getTime()&&L.labName===X.labName);J&&X.id!==void 0&&K.set(X.id,J.id)}for(const te of B.testValues){const{id:X,labResultId:J,...L}=te,U=K.get(J);U!==void 0&&await n.addTestValue({...L,labResultId:U})}for(const te of B.userNotes){const{id:X,...J}=te;await n.addUserNote(J)}await S(),await C(),bo.show({title:"Restore Complete",message:`Restored ${B.labResults.length} lab result(s), ${B.testValues.length} test value(s), and ${B.userNotes.length} note(s).`,color:"green",icon:g.jsx(On,{size:16})}),c("timeline")}catch(G){throw console.error("Restore error:",G),bo.show({title:"Restore Failed",message:G instanceof Error?G.message:"Failed to restore data.",color:"red",icon:g.jsx(Vi,{size:16})}),G}finally{m(!1)}},[n,r,S,C]);return g.jsxs(g.Fragment,{children:[g.jsxs(xo,{header:{height:60},navbar:{width:260,breakpoint:"sm",collapsed:{mobile:!i}},padding:"md",children:[g.jsx(xo.Header,{children:g.jsxs(ze,{h:"100%",px:"md",justify:"space-between",children:[g.jsxs(ze,{children:[g.jsx(Ak,{opened:i,onClick:a,hiddenFrom:"sm",size:"sm","aria-label":"Toggle navigation"}),g.jsx(Yi,{order:3,children:"HemoIO"})]}),g.jsxs(ze,{children:[g.jsx(fi,{label:"Export data",position:"bottom",children:g.jsx(Mi,{variant:"subtle",onClick:D,"aria-label":"Export data",size:"lg",children:g.jsx(_x,{size:20})})}),g.jsx(fi,{label:"Lock application",position:"bottom",children:g.jsx(Mi,{variant:"subtle",onClick:E,"aria-label":"Lock application",size:"lg",children:g.jsx(Io,{size:20})})})]})]})}),g.jsx(xo.Navbar,{p:"md",children:g.jsxs(tt,{gap:"xs",children:[pV.slice(0,4).map(B=>g.jsx(_b,{label:B.label,description:B.description,leftSection:B.icon,active:s===B.view,onClick:()=>T(B.view),"aria-current":s===B.view?"page":void 0},B.view)),g.jsx(Os,{my:"sm"}),g.jsx(_b,{label:"Settings",description:"App settings and preferences",leftSection:g.jsx(hP,{size:20}),active:s==="settings",onClick:()=>T("settings"),"aria-current":s==="settings"?"page":void 0})]})}),g.jsx(xo.Main,{children:t??g.jsx(kke,{view:s,onImportComplete:k,onNavigateToImport:M,onRestore:I,isRestoring:h})})]}),g.jsx(mke,{opened:d,onClose:j,labResultsData:b,fullDataSources:v,biomarkerOptions:x})]})}function kke({view:t,onImportComplete:e,onNavigateToImport:n,onRestore:r,isRestoring:i}){const a=pV.find(b=>b.view===t),{hasApiKey:o,getApiKey:s,isLoading:c}=qF(),{aiProvider:d,ollamaModel:f,openaiModel:h,anthropicModel:m,isLoading:v}=GF();if(t==="timeline")return g.jsx(tde,{onNavigateToImport:n});if(t==="import"){let b;d==="ollama"?b=f:d==="openai"?b=h:d==="anthropic"&&(b=m);const x=d==="ollama"||o;return c&&d!=="ollama"||v?g.jsx(tt,{align:"center",justify:"center",h:"50vh",gap:"md",children:g.jsx(oe,{size:"xl",fw:500,children:"Loading..."})}):x?g.jsx(Hce,{aiProvider:d,getApiKey:s,aiModel:b,onComplete:e}):g.jsxs(tt,{align:"center",justify:"center",h:"50vh",gap:"md",children:[g.jsx(oe,{size:"xl",fw:500,children:"AI Configuration Required"}),g.jsx(oe,{c:"dimmed",children:"Please configure your AI API key in Settings before importing lab reports."})]})}return t==="trends"?g.jsx(bTe,{onNavigateToImport:n}):t==="settings"?g.jsx(fke,{onRestore:r,isRestoring:i}):t==="dictionary"?g.jsx(Pke,{}):g.jsxs(tt,{align:"center",justify:"center",h:"50vh",gap:"md",children:[g.jsx(oe,{size:"xl",fw:500,children:a?.label??"Unknown"}),g.jsx(oe,{c:"dimmed",children:a?.description??""}),g.jsx(oe,{size:"sm",c:"dimmed",children:"This view will be implemented in a future phase."})]})}function Pke(){const[t,e]=w.useState(null),n=w.useCallback(i=>{e(i)},[]),r=w.useCallback(()=>{e(null)},[]);return g.jsxs(ze,{align:"flex-start",gap:"md",wrap:"nowrap",style:{height:"100%"},children:[g.jsx("div",{style:{flex:1,minWidth:0},children:g.jsx(vke,{onSelectBiomarker:n,selectedBiomarker:t?.name})}),t&&g.jsx("div",{style:{width:400,flexShrink:0},children:g.jsx(xke,{biomarker:t,onClose:r})})]})}const Oke="modulepreload",Mke=function(t){return"/HemoIO/"+t},L5={},Dke=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");i=c(n.map(d=>{if(d=Mke(d),d in L5)return;L5[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":Oke,f||(m.as="script"),m.crossOrigin="",m.href=d,s&&m.setAttribute("nonce",s),document.head.appendChild(m),f)return new Promise((v,b)=>{m.addEventListener("load",v),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};function jke(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:o}=t;let s,c,d;const f=async(m=!0)=>{await c,d?.()};async function h(){if("serviceWorker"in navigator){if(s=await Dke(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:m}},[]).then(({Workbox:m})=>new m("/HemoIO/sw.js",{scope:"/HemoIO/",type:"classic"})).catch(m=>{o?.(m)}),!s)return;d=()=>{s?.messageSkipWaiting()};{let m=!1;const v=()=>{m=!0,s?.addEventListener("controlling",b=>{b.isUpdate&&window.location.reload()}),n?.()};s.addEventListener("installed",b=>{typeof b.isUpdate>"u"?typeof b.isExternal<"u"&&b.isExternal?v():!m&&r?.():b.isUpdate||r?.()}),s.addEventListener("waiting",v)}s.register({immediate:e}).then(m=>{a?a("/HemoIO/sw.js",m):i?.(m)}).catch(m=>{o?.(m)})}}return c=h(),f}function Rke(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:o}=t,[s,c]=w.useState(!1),[d,f]=w.useState(!1),[h]=w.useState(()=>jke({immediate:e,onOfflineReady(){f(!0),r?.()},onNeedRefresh(){c(!0),n?.()},onRegistered:i,onRegisteredSW:a,onRegisterError:o}));return{needRefresh:[s,c],offlineReady:[d,f],updateServiceWorker:h}}function Lke(){const[t,e]=w.useState(!1),{needRefresh:[n,r],updateServiceWorker:i}=Rke({onRegistered(c){c&&(c.update(),setInterval(()=>{c.update()},3600*1e3),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&c.update()}))},onRegisterError(c){console.error("Service worker registration error:",c)}}),a=n&&!t,o=async()=>{await i(!0),window.location.reload()},s=()=>{e(!0),r(!1)};return a?g.jsx("div",{style:{position:"fixed",bottom:20,left:"50%",transform:"translateX(-50%)",zIndex:1e3,maxWidth:400,width:"90%"},children:g.jsx(It,{color:"blue",title:"Update Available",withCloseButton:!0,onClose:s,closeButtonLabel:"Dismiss",icon:g.jsx(rd,{size:20}),children:g.jsxs(ze,{mt:"sm",gap:"sm",children:[g.jsx("span",{children:"A new version of HemoIO is available."}),g.jsxs(ze,{gap:"xs",children:[g.jsx(_t,{size:"xs",onClick:o,leftSection:g.jsx(rd,{size:14}),children:"Update Now"}),g.jsx(_t,{size:"xs",variant:"subtle",color:"gray",onClick:s,leftSection:g.jsx(Vi,{size:14}),children:"Later"})]})]})})}):null}function Nke(){return typeof window>"u"?!1:window.matchMedia("(display-mode: standalone)").matches}function Ike(){if(typeof window>"u")return!1;const t=localStorage.getItem("pwa-install-dismissed");if(t){const e=parseInt(t,10);return(Date.now()-e)/(1e3*60*60*24)<7}return!1}function zke(){const[t,e]=w.useState(null),[n,r]=w.useState(Ike),[i,a]=w.useState(Nke),[o,s]=w.useState(!1);w.useEffect(()=>{if(i)return;const f=m=>{m.preventDefault(),e(m)},h=()=>{a(!0),e(null)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",h),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",h)}},[i]);const c=async()=>{if(!t){console.warn("PWA Install: No install prompt available");return}s(!0);try{await t.prompt();const{outcome:f}=await t.userChoice;f==="accepted"?(console.log("PWA Install: User accepted the install prompt"),e(null)):(console.log("PWA Install: User dismissed the install prompt"),e(null))}catch(f){console.error("PWA Install: Error showing install prompt",f),e(null)}finally{s(!1)}},d=()=>{r(!0),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return i||n||!t?null:g.jsxs(Dt,{shadow:"md",p:"md",radius:"md",withBorder:!0,style:{position:"fixed",bottom:20,left:"50%",transform:"translateX(-50%)",zIndex:1e3,maxWidth:360,width:"90%"},children:[g.jsxs(ze,{justify:"space-between",mb:"xs",children:[g.jsx(oe,{fw:500,size:"sm",children:"Install HemoIO"}),g.jsx(zs,{size:"sm",onClick:d,"aria-label":"Dismiss"})]}),g.jsx(oe,{size:"xs",c:"dimmed",mb:"sm",children:"Install the app for quick access and offline use. Your data stays private on your device."}),g.jsx(_t,{fullWidth:!0,leftSection:g.jsx(_x,{size:16}),onClick:c,size:"sm",loading:o,children:"Install App"})]})}function Bke(){const{status:t}=Md();return t==="loading"?g.jsx(qa,{h:"100vh",children:g.jsxs(tt,{align:"center",gap:"md",children:[g.jsx(sx,{visible:!0,overlayProps:{radius:"sm",blur:2},loaderProps:{type:"dots"}}),g.jsx(oe,{c:"dimmed",children:"Loading..."})]})}):t==="needs_setup"?g.jsx(Eie,{onComplete:()=>{}}):t==="locked"?g.jsx(kie,{}):g.jsx(Tke,{})}function $ke(){return g.jsxs(o4,{children:[g.jsx(Gl,{position:"top-right"}),g.jsx(Pte,{children:g.jsx(Bke,{})}),g.jsx(Lke,{}),g.jsx(zke,{})]})}Uq.createRoot(document.getElementById("root")).render(g.jsx(w.StrictMode,{children:g.jsx($ke,{})}));
