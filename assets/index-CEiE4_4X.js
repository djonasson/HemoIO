var OR=t=>{throw TypeError(t)};var SS=(t,e,n)=>e.has(t)||OR("Cannot "+n);var ir=(t,e,n)=>(SS(t,e,"read from private field"),n?n.call(t):e.get(t)),cs=(t,e,n)=>e.has(t)?OR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),wa=(t,e,n,r)=>(SS(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),us=(t,e,n)=>(SS(t,e,"access private method"),n);var DR=(t,e,n,r)=>({set _(i){wa(t,e,i,n)},get _(){return ir(t,e,r)}});function Sq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Aq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ua(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var AS={exports:{}},Gp={};var MR;function Cq(){if(MR)return Gp;MR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Gp.Fragment=e,Gp.jsx=n,Gp.jsxs=n,Gp}var RR;function _q(){return RR||(RR=1,AS.exports=Cq()),AS.exports}var g=_q(),CS={exports:{}},Bt={};var jR;function Eq(){if(jR)return Bt;jR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),m=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function A($,X,ne){this.props=$,this.context=X,this.refs=S,this.updater=ne||b}A.prototype.isReactComponent={},A.prototype.setState=function($,X){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,X,"setState")},A.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function T(){}T.prototype=A.prototype;function E($,X,ne){this.props=$,this.context=X,this.refs=S,this.updater=ne||b}var k=E.prototype=new T;k.constructor=E,x(k,A.prototype),k.isPureReactComponent=!0;var D=Array.isArray;function M(){}var R={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function z($,X,ne){var ae=ne.ref;return{$$typeof:t,type:$,key:X,ref:ae!==void 0?ae:null,props:ne}}function q($,X){return z($.type,X,$.props)}function Y($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function K($){var X={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ne){return X[ne]})}var te=/\/+/g;function W($,X){return typeof $=="object"&&$!==null&&$.key!=null?K(""+$.key):X.toString(36)}function J($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(M,M):($.status="pending",$.then(function(X){$.status==="pending"&&($.status="fulfilled",$.value=X)},function(X){$.status==="pending"&&($.status="rejected",$.reason=X)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function L($,X,ne,ae,oe){var xe=typeof $;(xe==="undefined"||xe==="boolean")&&($=null);var be=!1;if($===null)be=!0;else switch(xe){case"bigint":case"string":case"number":be=!0;break;case"object":switch($.$$typeof){case t:case e:be=!0;break;case f:return be=$._init,L(be($._payload),X,ne,ae,oe)}}if(be)return oe=oe($),be=ae===""?"."+W($,0):ae,D(oe)?(ne="",be!=null&&(ne=be.replace(te,"$&/")+"/"),L(oe,X,ne,"",function(se){return se})):oe!=null&&(Y(oe)&&(oe=q(oe,ne+(oe.key==null||$&&$.key===oe.key?"":(""+oe.key).replace(te,"$&/")+"/")+be)),X.push(oe)),1;be=0;var ze=ae===""?".":ae+":";if(D($))for(var ie=0;ie<$.length;ie++)ae=$[ie],xe=ze+W(ae,ie),be+=L(ae,X,ne,xe,oe);else if(ie=v($),typeof ie=="function")for($=ie.call($),ie=0;!(ae=$.next()).done;)ae=ae.value,xe=ze+W(ae,ie++),be+=L(ae,X,ne,xe,oe);else if(xe==="object"){if(typeof $.then=="function")return L(J($),X,ne,ae,oe);throw X=String($),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return be}function U($,X,ne){if($==null)return $;var ae=[],oe=0;return L($,ae,"","",function(xe){return X.call(ne,xe,oe++)}),ae}function F($){if($._status===-1){var X=$._result;X=X(),X.then(function(ne){($._status===0||$._status===-1)&&($._status=1,$._result=ne)},function(ne){($._status===0||$._status===-1)&&($._status=2,$._result=ne)}),$._status===-1&&($._status=0,$._result=X)}if($._status===1)return $._result.default;throw $._result}var V=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},G={map:U,forEach:function($,X,ne){U($,function(){X.apply(this,arguments)},ne)},count:function($){var X=0;return U($,function(){X++}),X},toArray:function($){return U($,function(X){return X})||[]},only:function($){if(!Y($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Bt.Activity=h,Bt.Children=G,Bt.Component=A,Bt.Fragment=n,Bt.Profiler=i,Bt.PureComponent=E,Bt.StrictMode=r,Bt.Suspense=c,Bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Bt.__COMPILER_RUNTIME={__proto__:null,c:function($){return R.H.useMemoCache($)}},Bt.cache=function($){return function(){return $.apply(null,arguments)}},Bt.cacheSignal=function(){return null},Bt.cloneElement=function($,X,ne){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ae=x({},$.props),oe=$.key;if(X!=null)for(xe in X.key!==void 0&&(oe=""+X.key),X)!N.call(X,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&X.ref===void 0||(ae[xe]=X[xe]);var xe=arguments.length-2;if(xe===1)ae.children=ne;else if(1<xe){for(var be=Array(xe),ze=0;ze<xe;ze++)be[ze]=arguments[ze+2];ae.children=be}return z($.type,oe,ae)},Bt.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},Bt.createElement=function($,X,ne){var ae,oe={},xe=null;if(X!=null)for(ae in X.key!==void 0&&(xe=""+X.key),X)N.call(X,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(oe[ae]=X[ae]);var be=arguments.length-2;if(be===1)oe.children=ne;else if(1<be){for(var ze=Array(be),ie=0;ie<be;ie++)ze[ie]=arguments[ie+2];oe.children=ze}if($&&$.defaultProps)for(ae in be=$.defaultProps,be)oe[ae]===void 0&&(oe[ae]=be[ae]);return z($,xe,oe)},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function($){return{$$typeof:s,render:$}},Bt.isValidElement=Y,Bt.lazy=function($){return{$$typeof:f,_payload:{_status:-1,_result:$},_init:F}},Bt.memo=function($,X){return{$$typeof:d,type:$,compare:X===void 0?null:X}},Bt.startTransition=function($){var X=R.T,ne={};R.T=ne;try{var ae=$(),oe=R.S;oe!==null&&oe(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(M,V)}catch(xe){V(xe)}finally{X!==null&&ne.types!==null&&(X.types=ne.types),R.T=X}},Bt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Bt.use=function($){return R.H.use($)},Bt.useActionState=function($,X,ne){return R.H.useActionState($,X,ne)},Bt.useCallback=function($,X){return R.H.useCallback($,X)},Bt.useContext=function($){return R.H.useContext($)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function($,X){return R.H.useDeferredValue($,X)},Bt.useEffect=function($,X){return R.H.useEffect($,X)},Bt.useEffectEvent=function($){return R.H.useEffectEvent($)},Bt.useId=function(){return R.H.useId()},Bt.useImperativeHandle=function($,X,ne){return R.H.useImperativeHandle($,X,ne)},Bt.useInsertionEffect=function($,X){return R.H.useInsertionEffect($,X)},Bt.useLayoutEffect=function($,X){return R.H.useLayoutEffect($,X)},Bt.useMemo=function($,X){return R.H.useMemo($,X)},Bt.useOptimistic=function($,X){return R.H.useOptimistic($,X)},Bt.useReducer=function($,X,ne){return R.H.useReducer($,X,ne)},Bt.useRef=function($){return R.H.useRef($)},Bt.useState=function($){return R.H.useState($)},Bt.useSyncExternalStore=function($,X,ne){return R.H.useSyncExternalStore($,X,ne)},Bt.useTransition=function(){return R.H.useTransition()},Bt.version="19.2.4",Bt}var LR;function Ch(){return LR||(LR=1,CS.exports=Eq()),CS.exports}var w=Ch();const sr=ua(w),mT=Sq({__proto__:null,default:sr},[w]);var _S={exports:{}},Yp={},ES={exports:{}},TS={};var NR;function Tq(){return NR||(NR=1,(function(t){function e(L,U){var F=L.length;L.push(U);e:for(;0<F;){var V=F-1>>>1,G=L[V];if(0<i(G,U))L[V]=U,L[F]=G,F=V;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var U=L[0],F=L.pop();if(F!==U){L[0]=F;e:for(var V=0,G=L.length,$=G>>>1;V<$;){var X=2*(V+1)-1,ne=L[X],ae=X+1,oe=L[ae];if(0>i(ne,F))ae<G&&0>i(oe,ne)?(L[V]=oe,L[ae]=F,V=ae):(L[V]=ne,L[X]=F,V=X);else if(ae<G&&0>i(oe,F))L[V]=oe,L[ae]=F,V=ae;else break e}}return U}function i(L,U){var F=L.sortIndex-U.sortIndex;return F!==0?F:L.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var c=[],d=[],f=1,h=null,m=3,v=!1,b=!1,x=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function k(L){for(var U=n(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=L)r(d),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(d)}}function D(L){if(x=!1,k(L),!b)if(n(c)!==null)b=!0,M||(M=!0,K());else{var U=n(d);U!==null&&J(D,U.startTime-L)}}var M=!1,R=-1,N=5,z=-1;function q(){return S?!0:!(t.unstable_now()-z<N)}function Y(){if(S=!1,M){var L=t.unstable_now();z=L;var U=!0;try{e:{b=!1,x&&(x=!1,T(R),R=-1),v=!0;var F=m;try{t:{for(k(L),h=n(c);h!==null&&!(h.expirationTime>L&&q());){var V=h.callback;if(typeof V=="function"){h.callback=null,m=h.priorityLevel;var G=V(h.expirationTime<=L);if(L=t.unstable_now(),typeof G=="function"){h.callback=G,k(L),U=!0;break t}h===n(c)&&r(c),k(L)}else r(c);h=n(c)}if(h!==null)U=!0;else{var $=n(d);$!==null&&J(D,$.startTime-L),U=!1}}break e}finally{h=null,m=F,v=!1}U=void 0}}finally{U?K():M=!1}}}var K;if(typeof E=="function")K=function(){E(Y)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,W=te.port2;te.port1.onmessage=Y,K=function(){W.postMessage(null)}}else K=function(){A(Y,0)};function J(L,U){R=A(function(){L(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var F=m;m=U;try{return L()}finally{m=F}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(L,U){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=m;m=L;try{return U()}finally{m=F}},t.unstable_scheduleCallback=function(L,U,F){var V=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?V+F:V):F=V,L){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=F+G,L={id:f++,callback:U,priorityLevel:L,startTime:F,expirationTime:G,sortIndex:-1},F>V?(L.sortIndex=F,e(d,L),n(c)===null&&L===n(d)&&(x?(T(R),R=-1):x=!0,J(D,F-V))):(L.sortIndex=G,e(c,L),b||v||(b=!0,M||(M=!0,K()))),L},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(L){var U=m;return function(){var F=m;m=U;try{return L.apply(this,arguments)}finally{m=F}}}})(TS)),TS}var IR;function kq(){return IR||(IR=1,ES.exports=Tq()),ES.exports}var kS={exports:{}},$i={};var zR;function Pq(){if(zR)return $i;zR=1;var t=Ch();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:c,containerInfo:d,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return $i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$i.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(c,d,null,f)},$i.flushSync=function(c){var d=o.T,f=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=d,r.p=f,r.d.f()}},$i.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},$i.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},$i.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,h=s(f,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:v}):f==="script"&&r.d.X(c,{crossOrigin:h,integrity:m,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},$i.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=s(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},$i.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,h=s(f,d.crossOrigin);r.d.L(c,f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},$i.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=s(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},$i.requestFormReset=function(c){r.d.r(c)},$i.unstable_batchedUpdates=function(c,d){return c(d)},$i.useFormState=function(c,d,f){return o.H.useFormState(c,d,f)},$i.useFormStatus=function(){return o.H.useHostTransitionStatus()},$i.version="19.2.4",$i}var BR;function k5(){if(BR)return kS.exports;BR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kS.exports=Pq(),kS.exports}var $R;function Oq(){if($R)return Yp;$R=1;var t=kq(),e=Ch(),n=k5();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function s(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(r(188))}function d(l){var u=l.alternate;if(!u){if(u=a(l),u===null)throw Error(r(188));return u!==l?null:l}for(var p=l,y=u;;){var _=p.return;if(_===null)break;var P=_.alternate;if(P===null){if(y=_.return,y!==null){p=y;continue}break}if(_.child===P.child){for(P=_.child;P;){if(P===p)return c(_),l;if(P===y)return c(_),u;P=P.sibling}throw Error(r(188))}if(p.return!==y.return)p=_,y=P;else{for(var B=!1,Q=_.child;Q;){if(Q===p){B=!0,p=_,y=P;break}if(Q===y){B=!0,y=_,p=P;break}Q=Q.sibling}if(!B){for(Q=P.child;Q;){if(Q===p){B=!0,p=P,y=_;break}if(Q===y){B=!0,y=P,p=_;break}Q=Q.sibling}if(!B)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:u}function f(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=f(l),u!==null)return u;l=l.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),E=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function K(l){return l===null||typeof l!="object"?null:(l=Y&&l[Y]||l["@@iterator"],typeof l=="function"?l:null)}var te=Symbol.for("react.client.reference");function W(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===te?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case x:return"Fragment";case A:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList";case z:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case b:return"Portal";case E:return l.displayName||"Context";case T:return(l._context.displayName||"Context")+".Consumer";case k:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case R:return u=l.displayName||null,u!==null?u:W(l.type)||"Memo";case N:u=l._payload,l=l._init;try{return W(l(u))}catch{}}return null}var J=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},V=[],G=-1;function $(l){return{current:l}}function X(l){0>G||(l.current=V[G],V[G]=null,G--)}function ne(l,u){G++,V[G]=l.current,l.current=u}var ae=$(null),oe=$(null),xe=$(null),be=$(null);function ze(l,u){switch(ne(xe,u),ne(oe,l),ne(ae,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?JM(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=JM(u),l=eR(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}X(ae),ne(ae,l)}function ie(){X(ae),X(oe),X(xe)}function se(l){l.memoizedState!==null&&ne(be,l);var u=ae.current,p=eR(u,l.type);u!==p&&(ne(oe,l),ne(ae,p))}function je(l){oe.current===l&&(X(ae),X(oe)),be.current===l&&(X(be),Up._currentValue=F)}var ue,Ve;function Le(l){if(ue===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);ue=u&&u[1]||"",Ve=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+l+Ve}var ct=!1;function Qe(l,u){if(!l||ct)return"";ct=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(De){var ke=De}Reflect.construct(l,[],Ye)}else{try{Ye.call()}catch(De){ke=De}l.call(Ye.prototype)}}else{try{throw Error()}catch(De){ke=De}(Ye=l())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(De){if(De&&ke&&typeof De.stack=="string")return[De.stack,ke.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=y.DetermineComponentFrameRoot(),B=P[0],Q=P[1];if(B&&Q){var le=B.split(`
`),Ee=Q.split(`
`);for(_=y=0;y<le.length&&!le[y].includes("DetermineComponentFrameRoot");)y++;for(;_<Ee.length&&!Ee[_].includes("DetermineComponentFrameRoot");)_++;if(y===le.length||_===Ee.length)for(y=le.length-1,_=Ee.length-1;1<=y&&0<=_&&le[y]!==Ee[_];)_--;for(;1<=y&&0<=_;y--,_--)if(le[y]!==Ee[_]){if(y!==1||_!==1)do if(y--,_--,0>_||le[y]!==Ee[_]){var Ie=`
`+le[y].replace(" at new "," at ");return l.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",l.displayName)),Ie}while(1<=y&&0<=_);break}}}finally{ct=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?Le(p):""}function He(l,u){switch(l.tag){case 26:case 27:case 5:return Le(l.type);case 16:return Le("Lazy");case 13:return l.child!==u&&u!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return Qe(l.type,!1);case 11:return Qe(l.type.render,!1);case 1:return Qe(l.type,!0);case 31:return Le("Activity");default:return""}}function We(l){try{var u="",p=null;do u+=He(l,p),p=l,l=l.return;while(l);return u}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var nt=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,wt=t.unstable_cancelCallback,ft=t.unstable_shouldYield,vt=t.unstable_requestPaint,$e=t.unstable_now,at=t.unstable_getCurrentPriorityLevel,Ge=t.unstable_ImmediatePriority,qe=t.unstable_UserBlockingPriority,Jt=t.unstable_NormalPriority,yn=t.unstable_LowPriority,Ht=t.unstable_IdlePriority,En=t.log,Gt=t.unstable_setDisableYieldValue,Xn=null,bn=null;function Nt(l){if(typeof En=="function"&&Gt(l),bn&&typeof bn.setStrictMode=="function")try{bn.setStrictMode(Xn,l)}catch{}}var et=Math.clz32?Math.clz32:Jr,gr=Math.log,xn=Math.LN2;function Jr(l){return l>>>=0,l===0?32:31-(gr(l)/xn|0)|0}var tt=256,un=262144,ur=4194304;function Tn(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function ha(l,u,p){var y=l.pendingLanes;if(y===0)return 0;var _=0,P=l.suspendedLanes,B=l.pingedLanes;l=l.warmLanes;var Q=y&134217727;return Q!==0?(y=Q&~P,y!==0?_=Tn(y):(B&=Q,B!==0?_=Tn(B):p||(p=Q&~l,p!==0&&(_=Tn(p))))):(Q=y&~P,Q!==0?_=Tn(Q):B!==0?_=Tn(B):p||(p=y&~l,p!==0&&(_=Tn(p)))),_===0?0:u!==0&&u!==_&&(u&P)===0&&(P=_&-_,p=u&-u,P>=p||P===32&&(p&4194048)!==0)?u:_}function ei(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Oa(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pn(){var l=ur;return ur<<=1,(ur&62914560)===0&&(ur=4194304),l}function Ur(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function hn(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Xa(l,u,p,y,_,P){var B=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var Q=l.entanglements,le=l.expirationTimes,Ee=l.hiddenUpdates;for(p=B&~p;0<p;){var Ie=31-et(p),Ye=1<<Ie;Q[Ie]=0,le[Ie]=-1;var ke=Ee[Ie];if(ke!==null)for(Ee[Ie]=null,Ie=0;Ie<ke.length;Ie++){var De=ke[Ie];De!==null&&(De.lane&=-536870913)}p&=~Ye}y!==0&&Za(l,y,0),P!==0&&_===0&&l.tag!==0&&(l.suspendedLanes|=P&~(B&~u))}function Za(l,u,p){l.pendingLanes|=u,l.suspendedLanes&=~u;var y=31-et(u);l.entangledLanes|=u,l.entanglements[y]=l.entanglements[y]|1073741824|p&261930}function lt(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var y=31-et(p),_=1<<y;_&u|l[y]&u&&(l[y]|=u),p&=~_}}function Rt(l,u){var p=u&-u;return p=(p&42)!==0?1:nn(p),(p&(l.suspendedLanes|u))!==0?0:p}function nn(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Hr(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Vr(){var l=U.p;return l!==0?l:(l=window.event,l===void 0?32:AR(l.type))}function Da(l,u){var p=U.p;try{return U.p=l,u()}finally{U.p=p}}var ti=Math.random().toString(36).slice(2),dn="__reactFiber$"+ti,Fn="__reactProps$"+ti,Pr="__reactContainer$"+ti,Qa="__reactEvents$"+ti,ou="__reactListeners$"+ti,pa="__reactHandles$"+ti,It="__reactResources$"+ti,jn="__reactMarker$"+ti;function yi(l){delete l[dn],delete l[Fn],delete l[Qa],delete l[ou],delete l[pa]}function Vt(l){var u=l[dn];if(u)return u;for(var p=l.parentNode;p;){if(u=p[Pr]||p[dn]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=sR(l);l!==null;){if(p=l[dn])return p;l=sR(l)}return u}l=p,p=l.parentNode}return null}function pn(l){if(l=l[dn]||l[Pr]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function Zi(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function ni(l){var u=l[It];return u||(u=l[It]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Ar(l){l[jn]=!0}var Us=new Set,su={};function Do(l,u){Jo(l,u),Jo(l+"Capture",u)}function Jo(l,u){for(su[l]=u,l=0;l<u.length;l++)Us.add(u[l])}var Hs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wh={},lu={};function Ug(l){return nt.call(lu,l)?!0:nt.call(Wh,l)?!1:Hs.test(l)?lu[l]=!0:(Wh[l]=!0,!1)}function Xt(l,u,p){if(Ug(u))if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+p)}}function cu(l,u,p){if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+p)}}function Ja(l,u,p,y){if(y===null)l.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(u,p,""+y)}}function bi(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Zl(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Hg(l,u,p){var y=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var _=y.get,P=y.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return _.call(this)},set:function(B){p=""+B,P.call(this,B)}}),Object.defineProperty(l,u,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(B){p=""+B},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Rd(l){if(!l._valueTracker){var u=Zl(l)?"checked":"value";l._valueTracker=Hg(l,u,""+l[u])}}function Xh(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),y="";return l&&(y=Zl(l)?l.checked?"true":"false":l.value),l=y,l!==p?(u.setValue(l),!0):!1}function wn(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var uu=/[\n"\\]/g;function ri(l){return l.replace(uu,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function es(l,u,p,y,_,P,B,Q){l.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?l.type=B:l.removeAttribute("type"),u!=null?B==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+bi(u)):l.value!==""+bi(u)&&(l.value=""+bi(u)):B!=="submit"&&B!=="reset"||l.removeAttribute("value"),u!=null?du(l,B,bi(u)):p!=null?du(l,B,bi(p)):y!=null&&l.removeAttribute("value"),_==null&&P!=null&&(l.defaultChecked=!!P),_!=null&&(l.checked=_&&typeof _!="function"&&typeof _!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?l.name=""+bi(Q):l.removeAttribute("name")}function jd(l,u,p,y,_,P,B,Q){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(l.type=P),u!=null||p!=null){if(!(P!=="submit"&&P!=="reset"||u!=null)){Rd(l);return}p=p!=null?""+bi(p):"",u=u!=null?""+bi(u):p,Q||u===l.value||(l.value=u),l.defaultValue=u}y=y??_,y=typeof y!="function"&&typeof y!="symbol"&&!!y,l.checked=Q?l.checked:!!y,l.defaultChecked=!!y,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(l.name=B),Rd(l)}function du(l,u,p){u==="number"&&wn(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function Mo(l,u,p,y){if(l=l.options,u){u={};for(var _=0;_<p.length;_++)u["$"+p[_]]=!0;for(p=0;p<l.length;p++)_=u.hasOwnProperty("$"+l[p].value),l[p].selected!==_&&(l[p].selected=_),_&&y&&(l[p].defaultSelected=!0)}else{for(p=""+bi(p),u=null,_=0;_<l.length;_++){if(l[_].value===p){l[_].selected=!0,y&&(l[_].defaultSelected=!0);return}u!==null||l[_].disabled||(u=l[_])}u!==null&&(u.selected=!0)}}function Zh(l,u,p){if(u!=null&&(u=""+bi(u),u!==l.value&&(l.value=u),p==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=p!=null?""+bi(p):""}function fu(l,u,p,y){if(u==null){if(y!=null){if(p!=null)throw Error(r(92));if(J(y)){if(1<y.length)throw Error(r(93));y=y[0]}p=y}p==null&&(p=""),u=p}p=bi(u),l.defaultValue=p,y=l.textContent,y===p&&y!==""&&y!==null&&(l.value=y),Rd(l)}function Vs(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var Dw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function on(l,u,p){var y=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":y?l.setProperty(u,p):typeof p!="number"||p===0||Dw.has(u)?u==="float"?l.cssFloat=p:l[u]=(""+p).trim():l[u]=p+"px"}function Qh(l,u,p){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?l.setProperty(y,""):y==="float"?l.cssFloat="":l[y]="");for(var _ in u)y=u[_],u.hasOwnProperty(_)&&p[_]!==y&&on(l,_,y)}else for(var P in u)u.hasOwnProperty(P)&&on(l,P,u[P])}function Jh(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ro(l){return Qi.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function ma(){}var eo=null;function Ld(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var qs=null,Zn=null;function Ma(l){var u=pn(l);if(u&&(l=u.stateNode)){var p=l[Fn]||null;e:switch(l=u.stateNode,u.type){case"input":if(es(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ri(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var y=p[u];if(y!==l&&y.form===l.form){var _=y[Fn]||null;if(!_)throw Error(r(90));es(y,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(u=0;u<p.length;u++)y=p[u],y.form===l.form&&Xh(y)}break e;case"textarea":Zh(l,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Mo(l,!!p.multiple,u,!1)}}}var Gs=!1;function Ql(l,u,p){if(Gs)return l(u,p);Gs=!0;try{var y=l(u);return y}finally{if(Gs=!1,(qs!==null||Zn!==null)&&(Mv(),qs&&(u=qs,l=Zn,Zn=qs=null,Ma(u),l)))for(u=0;u<l.length;u++)Ma(l[u])}}function Ys(l,u){var p=l.stateNode;if(p===null)return null;var y=p[Fn]||null;if(y===null)return null;p=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ep=!1;if(ii)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){ep=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{ep=!1}var to=null,Nd=null,Jl=null;function ec(){if(Jl)return Jl;var l,u=Nd,p=u.length,y,_="value"in to?to.value:to.textContent,P=_.length;for(l=0;l<p&&u[l]===_[l];l++);var B=p-l;for(y=1;y<=B&&u[p-y]===_[P-y];y++);return Jl=_.slice(l,1<y?1-y:void 0)}function tc(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function hu(){return!0}function Vg(){return!1}function Or(l){function u(p,y,_,P,B){this._reactName=p,this._targetInst=_,this.type=y,this.nativeEvent=P,this.target=B,this.currentTarget=null;for(var Q in l)l.hasOwnProperty(Q)&&(p=l[Q],this[Q]=p?p(P):P[Q]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?hu:Vg,this.isPropagationStopped=Vg,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),u}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Id=Or(Ks),ts=h({},Ks,{view:0,detail:0}),zd=Or(ts),pu,tp,mu,Bd=h({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==mu&&(mu&&l.type==="mousemove"?(pu=l.screenX-mu.screenX,tp=l.screenY-mu.screenY):tp=pu=0,mu=l),pu)},movementY:function(l){return"movementY"in l?l.movementY:tp}}),$d=Or(Bd),np=h({},Bd,{dataTransfer:0}),qg=Or(np),Fd=h({},ts,{relatedTarget:0}),nc=Or(Fd),Ud=h({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Gg=Or(Ud),Rw=h({},Ks,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),rc=Or(Rw),rp=h({},Ks,{data:0}),Hd=Or(rp),ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ap={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ai={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=ai[l])?!!u[l]:!1}function Ws(){return gu}var Yg=h({},ts,{key:function(l){if(l.key){var u=ip[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=tc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?ap[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(l){return l.type==="keypress"?tc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?tc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Vd=Or(Yg),Kg=h({},Bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),op=Or(Kg),qd=h({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),sp=Or(qd),Xs=h({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),lp=Or(Xs),cp=h({},Bd,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Gd=Or(cp),up=h({},Ks,{newState:0,oldState:0}),Wg=Or(up),jw=[9,13,27,32],vu=ii&&"CompositionEvent"in window,ns=null;ii&&"documentMode"in document&&(ns=document.documentMode);var Lw=ii&&"TextEvent"in window&&!ns,Yd=ii&&(!vu||ns&&8<ns&&11>=ns),Kd=" ",Xg=!1;function dp(l,u){switch(l){case"keyup":return jw.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zg(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Zs=!1;function Qg(l,u){switch(l){case"compositionend":return Zg(u);case"keypress":return u.which!==32?null:(Xg=!0,Kd);case"textInput":return l=u.data,l===Kd&&Xg?null:l;default:return null}}function Nw(l,u){if(Zs)return l==="compositionend"||!vu&&dp(l,u)?(l=ec(),Jl=Nd=to=null,Zs=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Yd&&u.locale!=="ko"?null:u.data;default:return null}}var Jg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Jg[l.type]:u==="textarea"}function fp(l,u,p,y){qs?Zn?Zn.push(y):Zn=[y]:qs=y,u=Bv(u,"onChange"),0<u.length&&(p=new Id("onChange","change",null,p,y),l.push({event:p,listeners:u}))}var ic=null,yu=null;function Iw(l){YM(l,0)}function Xd(l){var u=Zi(l);if(Xh(u))return l}function bu(l,u){if(l==="change")return u}var no=!1;if(ii){var Qn;if(ii){var ac="oninput"in document;if(!ac){var Qs=document.createElement("div");Qs.setAttribute("oninput","return;"),ac=typeof Qs.oninput=="function"}Qn=ac}else Qn=!1;no=Qn&&(!document.documentMode||9<document.documentMode)}function ev(){ic&&(ic.detachEvent("onpropertychange",Zd),yu=ic=null)}function Zd(l){if(l.propertyName==="value"&&Xd(yu)){var u=[];fp(u,yu,l,Ld(l)),Ql(Iw,u)}}function tv(l,u,p){l==="focusin"?(ev(),ic=u,yu=p,ic.attachEvent("onpropertychange",Zd)):l==="focusout"&&ev()}function Js(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Xd(yu)}function hp(l,u){if(l==="click")return Xd(u)}function oc(l,u){if(l==="input"||l==="change")return Xd(u)}function rs(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var zi=typeof Object.is=="function"?Object.is:rs;function C(l,u){if(zi(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),y=Object.keys(u);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var _=p[y];if(!nt.call(u,_)||!zi(l[_],u[_]))return!1}return!0}function O(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function j(l,u){var p=O(l);l=0;for(var y;p;){if(p.nodeType===3){if(y=l+p.textContent.length,l<=u&&y>=u)return{node:p,offset:u-l};l=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=O(p)}}function I(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?I(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function H(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=wn(l.document);u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=wn(l.document)}return u}function Z(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var ee=ii&&"documentMode"in document&&11>=document.documentMode,re=null,fe=null,Se=null,he=!1;function de(l,u,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;he||re==null||re!==wn(y)||(y=re,"selectionStart"in y&&Z(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Se&&C(Se,y)||(Se=y,y=Bv(fe,"onSelect"),0<y.length&&(u=new Id("onSelect","select",null,u,p),l.push({event:u,listeners:y}),u.target=re)))}function ge(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var ye={animationend:ge("Animation","AnimationEnd"),animationiteration:ge("Animation","AnimationIteration"),animationstart:ge("Animation","AnimationStart"),transitionrun:ge("Transition","TransitionRun"),transitionstart:ge("Transition","TransitionStart"),transitioncancel:ge("Transition","TransitionCancel"),transitionend:ge("Transition","TransitionEnd")},pe={},me={};ii&&(me=document.createElement("div").style,"AnimationEvent"in window||(delete ye.animationend.animation,delete ye.animationiteration.animation,delete ye.animationstart.animation),"TransitionEvent"in window||delete ye.transitionend.transition);function Ce(l){if(pe[l])return pe[l];if(!ye[l])return l;var u=ye[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in me)return pe[l]=u[p];return l}var Te=Ce("animationend"),Ae=Ce("animationiteration"),Ne=Ce("animationstart"),Ke=Ce("transitionrun"),ot=Ce("transitionstart"),st=Ce("transitioncancel"),Xe=Ce("transitionend"),pt=new Map,dt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dt.push("scrollEnd");function Ze(l,u){pt.set(l,u),Do(u,[l])}var mt=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},jt=[],Zt=0,Et=0;function zt(){for(var l=Zt,u=Et=Zt=0;u<l;){var p=jt[u];jt[u++]=null;var y=jt[u];jt[u++]=null;var _=jt[u];jt[u++]=null;var P=jt[u];if(jt[u++]=null,y!==null&&_!==null){var B=y.pending;B===null?_.next=_:(_.next=B.next,B.next=_),y.pending=_}P!==0&&is(p,_,P)}}function Ln(l,u,p,y){jt[Zt++]=l,jt[Zt++]=u,jt[Zt++]=p,jt[Zt++]=y,Et|=y,l.lanes|=y,l=l.alternate,l!==null&&(l.lanes|=y)}function Bi(l,u,p,y){return Ln(l,u,p,y),sc(l)}function kn(l,u){return Ln(l,null,null,u),sc(l)}function is(l,u,p){l.lanes|=p;var y=l.alternate;y!==null&&(y.lanes|=p);for(var _=!1,P=l.return;P!==null;)P.childLanes|=p,y=P.alternate,y!==null&&(y.childLanes|=p),P.tag===22&&(l=P.stateNode,l===null||l._visibility&1||(_=!0)),l=P,P=P.return;return l.tag===3?(P=l.stateNode,_&&u!==null&&(_=31-et(p),l=P.hiddenUpdates,y=l[_],y===null?l[_]=[u]:y.push(u),u.lane=p|536870912),P):null}function sc(l){if(50<Lp)throw Lp=0,G1=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var Qd={};function aV(l,u,p,y){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ra(l,u,p,y){return new aV(l,u,p,y)}function zw(l){return l=l.prototype,!(!l||!l.isReactComponent)}function el(l,u){var p=l.alternate;return p===null?(p=Ra(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function P2(l,u){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,u=p.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function nv(l,u,p,y,_,P){var B=0;if(y=l,typeof l=="function")zw(l)&&(B=1);else if(typeof l=="string")B=uq(l,p,ae.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case z:return l=Ra(31,p,u,_),l.elementType=z,l.lanes=P,l;case x:return xu(p.children,_,P,u);case S:B=8,_|=24;break;case A:return l=Ra(12,p,u,_|2),l.elementType=A,l.lanes=P,l;case D:return l=Ra(13,p,u,_),l.elementType=D,l.lanes=P,l;case M:return l=Ra(19,p,u,_),l.elementType=M,l.lanes=P,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case E:B=10;break e;case T:B=9;break e;case k:B=11;break e;case R:B=14;break e;case N:B=16,y=null;break e}B=29,p=Error(r(130,l===null?"null":typeof l,"")),y=null}return u=Ra(B,p,u,_),u.elementType=l,u.type=y,u.lanes=P,u}function xu(l,u,p,y){return l=Ra(7,l,y,u),l.lanes=p,l}function Bw(l,u,p){return l=Ra(6,l,null,u),l.lanes=p,l}function O2(l){var u=Ra(18,null,null,0);return u.stateNode=l,u}function $w(l,u,p){return u=Ra(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var D2=new WeakMap;function ro(l,u){if(typeof l=="object"&&l!==null){var p=D2.get(l);return p!==void 0?p:(u={value:l,source:u,stack:We(u)},D2.set(l,u),u)}return{value:l,source:u,stack:We(u)}}var Jd=[],ef=0,rv=null,pp=0,io=[],ao=0,lc=null,as=1,os="";function tl(l,u){Jd[ef++]=pp,Jd[ef++]=rv,rv=l,pp=u}function M2(l,u,p){io[ao++]=as,io[ao++]=os,io[ao++]=lc,lc=l;var y=as;l=os;var _=32-et(y)-1;y&=~(1<<_),p+=1;var P=32-et(u)+_;if(30<P){var B=_-_%5;P=(y&(1<<B)-1).toString(32),y>>=B,_-=B,as=1<<32-et(u)+_|p<<_|y,os=P+l}else as=1<<P|p<<_|y,os=l}function Fw(l){l.return!==null&&(tl(l,1),M2(l,1,0))}function Uw(l){for(;l===rv;)rv=Jd[--ef],Jd[ef]=null,pp=Jd[--ef],Jd[ef]=null;for(;l===lc;)lc=io[--ao],io[ao]=null,os=io[--ao],io[ao]=null,as=io[--ao],io[ao]=null}function R2(l,u){io[ao++]=as,io[ao++]=os,io[ao++]=lc,as=u.id,os=u.overflow,lc=l}var xi=null,Jn=null,sn=!1,cc=null,oo=!1,Hw=Error(r(519));function uc(l){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mp(ro(u,l)),Hw}function j2(l){var u=l.stateNode,p=l.type,y=l.memoizedProps;switch(u[dn]=l,u[Fn]=y,p){case"dialog":tn("cancel",u),tn("close",u);break;case"iframe":case"object":case"embed":tn("load",u);break;case"video":case"audio":for(p=0;p<Ip.length;p++)tn(Ip[p],u);break;case"source":tn("error",u);break;case"img":case"image":case"link":tn("error",u),tn("load",u);break;case"details":tn("toggle",u);break;case"input":tn("invalid",u),jd(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":tn("invalid",u);break;case"textarea":tn("invalid",u),fu(u,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||y.suppressHydrationWarning===!0||ZM(u.textContent,p)?(y.popover!=null&&(tn("beforetoggle",u),tn("toggle",u)),y.onScroll!=null&&tn("scroll",u),y.onScrollEnd!=null&&tn("scrollend",u),y.onClick!=null&&(u.onclick=ma),u=!0):u=!1,u||uc(l,!0)}function L2(l){for(xi=l.return;xi;)switch(xi.tag){case 5:case 31:case 13:oo=!1;return;case 27:case 3:oo=!0;return;default:xi=xi.return}}function tf(l){if(l!==xi)return!1;if(!sn)return L2(l),sn=!0,!1;var u=l.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||sS(l.type,l.memoizedProps)),p=!p),p&&Jn&&uc(l),L2(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Jn=oR(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Jn=oR(l)}else u===27?(u=Jn,Cc(l.type)?(l=fS,fS=null,Jn=l):Jn=u):Jn=xi?lo(l.stateNode.nextSibling):null;return!0}function wu(){Jn=xi=null,sn=!1}function Vw(){var l=cc;return l!==null&&(ba===null?ba=l:ba.push.apply(ba,l),cc=null),l}function mp(l){cc===null?cc=[l]:cc.push(l)}var qw=$(null),Su=null,nl=null;function dc(l,u,p){ne(qw,u._currentValue),u._currentValue=p}function rl(l){l._currentValue=qw.current,X(qw)}function Gw(l,u,p){for(;l!==null;){var y=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),l===p)break;l=l.return}}function Yw(l,u,p,y){var _=l.child;for(_!==null&&(_.return=l);_!==null;){var P=_.dependencies;if(P!==null){var B=_.child;P=P.firstContext;e:for(;P!==null;){var Q=P;P=_;for(var le=0;le<u.length;le++)if(Q.context===u[le]){P.lanes|=p,Q=P.alternate,Q!==null&&(Q.lanes|=p),Gw(P.return,p,l),y||(B=null);break e}P=Q.next}}else if(_.tag===18){if(B=_.return,B===null)throw Error(r(341));B.lanes|=p,P=B.alternate,P!==null&&(P.lanes|=p),Gw(B,p,l),B=null}else B=_.child;if(B!==null)B.return=_;else for(B=_;B!==null;){if(B===l){B=null;break}if(_=B.sibling,_!==null){_.return=B.return,B=_;break}B=B.return}_=B}}function nf(l,u,p,y){l=null;for(var _=u,P=!1;_!==null;){if(!P){if((_.flags&524288)!==0)P=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var B=_.alternate;if(B===null)throw Error(r(387));if(B=B.memoizedProps,B!==null){var Q=_.type;zi(_.pendingProps.value,B.value)||(l!==null?l.push(Q):l=[Q])}}else if(_===be.current){if(B=_.alternate,B===null)throw Error(r(387));B.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(l!==null?l.push(Up):l=[Up])}_=_.return}l!==null&&Yw(u,l,p,y),u.flags|=262144}function iv(l){for(l=l.firstContext;l!==null;){if(!zi(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Au(l){Su=l,nl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function wi(l){return N2(Su,l)}function av(l,u){return Su===null&&Au(l),N2(l,u)}function N2(l,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},nl===null){if(l===null)throw Error(r(308));nl=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else nl=nl.next=u;return p}var oV=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(p,y){l.push(y)}};this.abort=function(){u.aborted=!0,l.forEach(function(p){return p()})}},sV=t.unstable_scheduleCallback,lV=t.unstable_NormalPriority,Dr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kw(){return{controller:new oV,data:new Map,refCount:0}}function gp(l){l.refCount--,l.refCount===0&&sV(lV,function(){l.controller.abort()})}var vp=null,Ww=0,rf=0,af=null;function cV(l,u){if(vp===null){var p=vp=[];Ww=0,rf=Q1(),af={status:"pending",value:void 0,then:function(y){p.push(y)}}}return Ww++,u.then(I2,I2),u}function I2(){if(--Ww===0&&vp!==null){af!==null&&(af.status="fulfilled");var l=vp;vp=null,rf=0,af=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function uV(l,u){var p=[],y={status:"pending",value:null,reason:null,then:function(_){p.push(_)}};return l.then(function(){y.status="fulfilled",y.value=u;for(var _=0;_<p.length;_++)(0,p[_])(u)},function(_){for(y.status="rejected",y.reason=_,_=0;_<p.length;_++)(0,p[_])(void 0)}),y}var z2=L.S;L.S=function(l,u){wM=$e(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&cV(l,u),z2!==null&&z2(l,u)};var Cu=$(null);function Xw(){var l=Cu.current;return l!==null?l:Un.pooledCache}function ov(l,u){u===null?ne(Cu,Cu.current):ne(Cu,u.pool)}function B2(){var l=Xw();return l===null?null:{parent:Dr._currentValue,pool:l}}var of=Error(r(460)),Zw=Error(r(474)),sv=Error(r(542)),lv={then:function(){}};function $2(l){return l=l.status,l==="fulfilled"||l==="rejected"}function F2(l,u,p){switch(p=l[p],p===void 0?l.push(u):p!==u&&(u.then(ma,ma),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,H2(l),l;default:if(typeof u.status=="string")u.then(ma,ma);else{if(l=Un,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(y){if(u.status==="pending"){var _=u;_.status="fulfilled",_.value=y}},function(y){if(u.status==="pending"){var _=u;_.status="rejected",_.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,H2(l),l}throw Eu=u,of}}function _u(l){try{var u=l._init;return u(l._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Eu=p,of):p}}var Eu=null;function U2(){if(Eu===null)throw Error(r(459));var l=Eu;return Eu=null,l}function H2(l){if(l===of||l===sv)throw Error(r(483))}var sf=null,yp=0;function cv(l){var u=yp;return yp+=1,sf===null&&(sf=[]),F2(sf,l,u)}function bp(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function uv(l,u){throw u.$$typeof===m?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function V2(l){function u(we,ve){if(l){var _e=we.deletions;_e===null?(we.deletions=[ve],we.flags|=16):_e.push(ve)}}function p(we,ve){if(!l)return null;for(;ve!==null;)u(we,ve),ve=ve.sibling;return null}function y(we){for(var ve=new Map;we!==null;)we.key!==null?ve.set(we.key,we):ve.set(we.index,we),we=we.sibling;return ve}function _(we,ve){return we=el(we,ve),we.index=0,we.sibling=null,we}function P(we,ve,_e){return we.index=_e,l?(_e=we.alternate,_e!==null?(_e=_e.index,_e<ve?(we.flags|=67108866,ve):_e):(we.flags|=67108866,ve)):(we.flags|=1048576,ve)}function B(we){return l&&we.alternate===null&&(we.flags|=67108866),we}function Q(we,ve,_e,Fe){return ve===null||ve.tag!==6?(ve=Bw(_e,we.mode,Fe),ve.return=we,ve):(ve=_(ve,_e),ve.return=we,ve)}function le(we,ve,_e,Fe){var Tt=_e.type;return Tt===x?Ie(we,ve,_e.props.children,Fe,_e.key):ve!==null&&(ve.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===N&&_u(Tt)===ve.type)?(ve=_(ve,_e.props),bp(ve,_e),ve.return=we,ve):(ve=nv(_e.type,_e.key,_e.props,null,we.mode,Fe),bp(ve,_e),ve.return=we,ve)}function Ee(we,ve,_e,Fe){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==_e.containerInfo||ve.stateNode.implementation!==_e.implementation?(ve=$w(_e,we.mode,Fe),ve.return=we,ve):(ve=_(ve,_e.children||[]),ve.return=we,ve)}function Ie(we,ve,_e,Fe,Tt){return ve===null||ve.tag!==7?(ve=xu(_e,we.mode,Fe,Tt),ve.return=we,ve):(ve=_(ve,_e),ve.return=we,ve)}function Ye(we,ve,_e){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=Bw(""+ve,we.mode,_e),ve.return=we,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case v:return _e=nv(ve.type,ve.key,ve.props,null,we.mode,_e),bp(_e,ve),_e.return=we,_e;case b:return ve=$w(ve,we.mode,_e),ve.return=we,ve;case N:return ve=_u(ve),Ye(we,ve,_e)}if(J(ve)||K(ve))return ve=xu(ve,we.mode,_e,null),ve.return=we,ve;if(typeof ve.then=="function")return Ye(we,cv(ve),_e);if(ve.$$typeof===E)return Ye(we,av(we,ve),_e);uv(we,ve)}return null}function ke(we,ve,_e,Fe){var Tt=ve!==null?ve.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return Tt!==null?null:Q(we,ve,""+_e,Fe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case v:return _e.key===Tt?le(we,ve,_e,Fe):null;case b:return _e.key===Tt?Ee(we,ve,_e,Fe):null;case N:return _e=_u(_e),ke(we,ve,_e,Fe)}if(J(_e)||K(_e))return Tt!==null?null:Ie(we,ve,_e,Fe,null);if(typeof _e.then=="function")return ke(we,ve,cv(_e),Fe);if(_e.$$typeof===E)return ke(we,ve,av(we,_e),Fe);uv(we,_e)}return null}function De(we,ve,_e,Fe,Tt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return we=we.get(_e)||null,Q(ve,we,""+Fe,Tt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case v:return we=we.get(Fe.key===null?_e:Fe.key)||null,le(ve,we,Fe,Tt);case b:return we=we.get(Fe.key===null?_e:Fe.key)||null,Ee(ve,we,Fe,Tt);case N:return Fe=_u(Fe),De(we,ve,_e,Fe,Tt)}if(J(Fe)||K(Fe))return we=we.get(_e)||null,Ie(ve,we,Fe,Tt,null);if(typeof Fe.then=="function")return De(we,ve,_e,cv(Fe),Tt);if(Fe.$$typeof===E)return De(we,ve,_e,av(ve,Fe),Tt);uv(ve,Fe)}return null}function xt(we,ve,_e,Fe){for(var Tt=null,mn=null,St=ve,Yt=ve=0,an=null;St!==null&&Yt<_e.length;Yt++){St.index>Yt?(an=St,St=null):an=St.sibling;var gn=ke(we,St,_e[Yt],Fe);if(gn===null){St===null&&(St=an);break}l&&St&&gn.alternate===null&&u(we,St),ve=P(gn,ve,Yt),mn===null?Tt=gn:mn.sibling=gn,mn=gn,St=an}if(Yt===_e.length)return p(we,St),sn&&tl(we,Yt),Tt;if(St===null){for(;Yt<_e.length;Yt++)St=Ye(we,_e[Yt],Fe),St!==null&&(ve=P(St,ve,Yt),mn===null?Tt=St:mn.sibling=St,mn=St);return sn&&tl(we,Yt),Tt}for(St=y(St);Yt<_e.length;Yt++)an=De(St,we,Yt,_e[Yt],Fe),an!==null&&(l&&an.alternate!==null&&St.delete(an.key===null?Yt:an.key),ve=P(an,ve,Yt),mn===null?Tt=an:mn.sibling=an,mn=an);return l&&St.forEach(function(Pc){return u(we,Pc)}),sn&&tl(we,Yt),Tt}function Ot(we,ve,_e,Fe){if(_e==null)throw Error(r(151));for(var Tt=null,mn=null,St=ve,Yt=ve=0,an=null,gn=_e.next();St!==null&&!gn.done;Yt++,gn=_e.next()){St.index>Yt?(an=St,St=null):an=St.sibling;var Pc=ke(we,St,gn.value,Fe);if(Pc===null){St===null&&(St=an);break}l&&St&&Pc.alternate===null&&u(we,St),ve=P(Pc,ve,Yt),mn===null?Tt=Pc:mn.sibling=Pc,mn=Pc,St=an}if(gn.done)return p(we,St),sn&&tl(we,Yt),Tt;if(St===null){for(;!gn.done;Yt++,gn=_e.next())gn=Ye(we,gn.value,Fe),gn!==null&&(ve=P(gn,ve,Yt),mn===null?Tt=gn:mn.sibling=gn,mn=gn);return sn&&tl(we,Yt),Tt}for(St=y(St);!gn.done;Yt++,gn=_e.next())gn=De(St,we,Yt,gn.value,Fe),gn!==null&&(l&&gn.alternate!==null&&St.delete(gn.key===null?Yt:gn.key),ve=P(gn,ve,Yt),mn===null?Tt=gn:mn.sibling=gn,mn=gn);return l&&St.forEach(function(wq){return u(we,wq)}),sn&&tl(we,Yt),Tt}function zn(we,ve,_e,Fe){if(typeof _e=="object"&&_e!==null&&_e.type===x&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case v:e:{for(var Tt=_e.key;ve!==null;){if(ve.key===Tt){if(Tt=_e.type,Tt===x){if(ve.tag===7){p(we,ve.sibling),Fe=_(ve,_e.props.children),Fe.return=we,we=Fe;break e}}else if(ve.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===N&&_u(Tt)===ve.type){p(we,ve.sibling),Fe=_(ve,_e.props),bp(Fe,_e),Fe.return=we,we=Fe;break e}p(we,ve);break}else u(we,ve);ve=ve.sibling}_e.type===x?(Fe=xu(_e.props.children,we.mode,Fe,_e.key),Fe.return=we,we=Fe):(Fe=nv(_e.type,_e.key,_e.props,null,we.mode,Fe),bp(Fe,_e),Fe.return=we,we=Fe)}return B(we);case b:e:{for(Tt=_e.key;ve!==null;){if(ve.key===Tt)if(ve.tag===4&&ve.stateNode.containerInfo===_e.containerInfo&&ve.stateNode.implementation===_e.implementation){p(we,ve.sibling),Fe=_(ve,_e.children||[]),Fe.return=we,we=Fe;break e}else{p(we,ve);break}else u(we,ve);ve=ve.sibling}Fe=$w(_e,we.mode,Fe),Fe.return=we,we=Fe}return B(we);case N:return _e=_u(_e),zn(we,ve,_e,Fe)}if(J(_e))return xt(we,ve,_e,Fe);if(K(_e)){if(Tt=K(_e),typeof Tt!="function")throw Error(r(150));return _e=Tt.call(_e),Ot(we,ve,_e,Fe)}if(typeof _e.then=="function")return zn(we,ve,cv(_e),Fe);if(_e.$$typeof===E)return zn(we,ve,av(we,_e),Fe);uv(we,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,ve!==null&&ve.tag===6?(p(we,ve.sibling),Fe=_(ve,_e),Fe.return=we,we=Fe):(p(we,ve),Fe=Bw(_e,we.mode,Fe),Fe.return=we,we=Fe),B(we)):p(we,ve)}return function(we,ve,_e,Fe){try{yp=0;var Tt=zn(we,ve,_e,Fe);return sf=null,Tt}catch(St){if(St===of||St===sv)throw St;var mn=Ra(29,St,null,we.mode);return mn.lanes=Fe,mn.return=we,mn}}}var Tu=V2(!0),q2=V2(!1),fc=!1;function Qw(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jw(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function hc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function pc(l,u,p){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(Sn&2)!==0){var _=y.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),y.pending=u,u=sc(l),is(l,null,p),u}return Ln(l,y,u,p),sc(l)}function xp(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var y=u.lanes;y&=l.pendingLanes,p|=y,u.lanes=p,lt(l,p)}}function e1(l,u){var p=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var _=null,P=null;if(p=p.firstBaseUpdate,p!==null){do{var B={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};P===null?_=P=B:P=P.next=B,p=p.next}while(p!==null);P===null?_=P=u:P=P.next=u}else _=P=u;p={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:P,shared:y.shared,callbacks:y.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}var t1=!1;function wp(){if(t1){var l=af;if(l!==null)throw l}}function Sp(l,u,p,y){t1=!1;var _=l.updateQueue;fc=!1;var P=_.firstBaseUpdate,B=_.lastBaseUpdate,Q=_.shared.pending;if(Q!==null){_.shared.pending=null;var le=Q,Ee=le.next;le.next=null,B===null?P=Ee:B.next=Ee,B=le;var Ie=l.alternate;Ie!==null&&(Ie=Ie.updateQueue,Q=Ie.lastBaseUpdate,Q!==B&&(Q===null?Ie.firstBaseUpdate=Ee:Q.next=Ee,Ie.lastBaseUpdate=le))}if(P!==null){var Ye=_.baseState;B=0,Ie=Ee=le=null,Q=P;do{var ke=Q.lane&-536870913,De=ke!==Q.lane;if(De?(rn&ke)===ke:(y&ke)===ke){ke!==0&&ke===rf&&(t1=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var xt=l,Ot=Q;ke=u;var zn=p;switch(Ot.tag){case 1:if(xt=Ot.payload,typeof xt=="function"){Ye=xt.call(zn,Ye,ke);break e}Ye=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Ot.payload,ke=typeof xt=="function"?xt.call(zn,Ye,ke):xt,ke==null)break e;Ye=h({},Ye,ke);break e;case 2:fc=!0}}ke=Q.callback,ke!==null&&(l.flags|=64,De&&(l.flags|=8192),De=_.callbacks,De===null?_.callbacks=[ke]:De.push(ke))}else De={lane:ke,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ie===null?(Ee=Ie=De,le=Ye):Ie=Ie.next=De,B|=ke;if(Q=Q.next,Q===null){if(Q=_.shared.pending,Q===null)break;De=Q,Q=De.next,De.next=null,_.lastBaseUpdate=De,_.shared.pending=null}}while(!0);Ie===null&&(le=Ye),_.baseState=le,_.firstBaseUpdate=Ee,_.lastBaseUpdate=Ie,P===null&&(_.shared.lanes=0),bc|=B,l.lanes=B,l.memoizedState=Ye}}function G2(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function Y2(l,u){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)G2(p[l],u)}var lf=$(null),dv=$(0);function K2(l,u){l=fl,ne(dv,l),ne(lf,u),fl=l|u.baseLanes}function n1(){ne(dv,fl),ne(lf,lf.current)}function r1(){fl=dv.current,X(lf),X(dv)}var ja=$(null),so=null;function mc(l){var u=l.alternate;ne(Cr,Cr.current&1),ne(ja,l),so===null&&(u===null||lf.current!==null||u.memoizedState!==null)&&(so=l)}function i1(l){ne(Cr,Cr.current),ne(ja,l),so===null&&(so=l)}function W2(l){l.tag===22?(ne(Cr,Cr.current),ne(ja,l),so===null&&(so=l)):gc()}function gc(){ne(Cr,Cr.current),ne(ja,ja.current)}function La(l){X(ja),so===l&&(so=null),X(Cr)}var Cr=$(0);function fv(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||uS(p)||dS(p)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var il=0,qt=null,Nn=null,Mr=null,hv=!1,cf=!1,ku=!1,pv=0,Ap=0,uf=null,dV=0;function vr(){throw Error(r(321))}function a1(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!zi(l[p],u[p]))return!1;return!0}function o1(l,u,p,y,_,P){return il=P,qt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,L.H=l===null||l.memoizedState===null?MD:w1,ku=!1,P=p(y,_),ku=!1,cf&&(P=Z2(u,p,y,_)),X2(l),P}function X2(l){L.H=Ep;var u=Nn!==null&&Nn.next!==null;if(il=0,Mr=Nn=qt=null,hv=!1,Ap=0,uf=null,u)throw Error(r(300));l===null||Rr||(l=l.dependencies,l!==null&&iv(l)&&(Rr=!0))}function Z2(l,u,p,y){qt=l;var _=0;do{if(cf&&(uf=null),Ap=0,cf=!1,25<=_)throw Error(r(301));if(_+=1,Mr=Nn=null,l.updateQueue!=null){var P=l.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}L.H=RD,P=u(p,y)}while(cf);return P}function fV(){var l=L.H,u=l.useState()[0];return u=typeof u.then=="function"?Cp(u):u,l=l.useState()[0],(Nn!==null?Nn.memoizedState:null)!==l&&(qt.flags|=1024),u}function s1(){var l=pv!==0;return pv=0,l}function l1(l,u,p){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~p}function c1(l){if(hv){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}hv=!1}il=0,Mr=Nn=qt=null,cf=!1,Ap=pv=0,uf=null}function Ji(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?qt.memoizedState=Mr=l:Mr=Mr.next=l,Mr}function _r(){if(Nn===null){var l=qt.alternate;l=l!==null?l.memoizedState:null}else l=Nn.next;var u=Mr===null?qt.memoizedState:Mr.next;if(u!==null)Mr=u,Nn=l;else{if(l===null)throw qt.alternate===null?Error(r(467)):Error(r(310));Nn=l,l={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Mr===null?qt.memoizedState=Mr=l:Mr=Mr.next=l}return Mr}function mv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cp(l){var u=Ap;return Ap+=1,uf===null&&(uf=[]),l=F2(uf,l,u),u=qt,(Mr===null?u.memoizedState:Mr.next)===null&&(u=u.alternate,L.H=u===null||u.memoizedState===null?MD:w1),l}function gv(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Cp(l);if(l.$$typeof===E)return wi(l)}throw Error(r(438,String(l)))}function u1(l){var u=null,p=qt.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var y=qt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(_){return _.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=mv(),qt.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(l),y=0;y<l;y++)p[y]=q;return u.index++,p}function al(l,u){return typeof u=="function"?u(l):u}function vv(l){var u=_r();return d1(u,Nn,l)}function d1(l,u,p){var y=l.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=p;var _=l.baseQueue,P=y.pending;if(P!==null){if(_!==null){var B=_.next;_.next=P.next,P.next=B}u.baseQueue=_=P,y.pending=null}if(P=l.baseState,_===null)l.memoizedState=P;else{u=_.next;var Q=B=null,le=null,Ee=u,Ie=!1;do{var Ye=Ee.lane&-536870913;if(Ye!==Ee.lane?(rn&Ye)===Ye:(il&Ye)===Ye){var ke=Ee.revertLane;if(ke===0)le!==null&&(le=le.next={lane:0,revertLane:0,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),Ye===rf&&(Ie=!0);else if((il&ke)===ke){Ee=Ee.next,ke===rf&&(Ie=!0);continue}else Ye={lane:0,revertLane:Ee.revertLane,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},le===null?(Q=le=Ye,B=P):le=le.next=Ye,qt.lanes|=ke,bc|=ke;Ye=Ee.action,ku&&p(P,Ye),P=Ee.hasEagerState?Ee.eagerState:p(P,Ye)}else ke={lane:Ye,revertLane:Ee.revertLane,gesture:Ee.gesture,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},le===null?(Q=le=ke,B=P):le=le.next=ke,qt.lanes|=Ye,bc|=Ye;Ee=Ee.next}while(Ee!==null&&Ee!==u);if(le===null?B=P:le.next=Q,!zi(P,l.memoizedState)&&(Rr=!0,Ie&&(p=af,p!==null)))throw p;l.memoizedState=P,l.baseState=B,l.baseQueue=le,y.lastRenderedState=P}return _===null&&(y.lanes=0),[l.memoizedState,y.dispatch]}function f1(l){var u=_r(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var y=p.dispatch,_=p.pending,P=u.memoizedState;if(_!==null){p.pending=null;var B=_=_.next;do P=l(P,B.action),B=B.next;while(B!==_);zi(P,u.memoizedState)||(Rr=!0),u.memoizedState=P,u.baseQueue===null&&(u.baseState=P),p.lastRenderedState=P}return[P,y]}function Q2(l,u,p){var y=qt,_=_r(),P=sn;if(P){if(p===void 0)throw Error(r(407));p=p()}else p=u();var B=!zi((Nn||_).memoizedState,p);if(B&&(_.memoizedState=p,Rr=!0),_=_.queue,m1(tD.bind(null,y,_,l),[l]),_.getSnapshot!==u||B||Mr!==null&&Mr.memoizedState.tag&1){if(y.flags|=2048,df(9,{destroy:void 0},eD.bind(null,y,_,p,u),null),Un===null)throw Error(r(349));P||(il&127)!==0||J2(y,u,p)}return p}function J2(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=qt.updateQueue,u===null?(u=mv(),qt.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function eD(l,u,p,y){u.value=p,u.getSnapshot=y,nD(u)&&rD(l)}function tD(l,u,p){return p(function(){nD(u)&&rD(l)})}function nD(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!zi(l,p)}catch{return!0}}function rD(l){var u=kn(l,2);u!==null&&xa(u,l,2)}function h1(l){var u=Ji();if(typeof l=="function"){var p=l;if(l=p(),ku){Nt(!0);try{p()}finally{Nt(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:l},u}function iD(l,u,p,y){return l.baseState=p,d1(l,Nn,typeof y=="function"?y:al)}function hV(l,u,p,y,_){if(xv(l))throw Error(r(485));if(l=u.action,l!==null){var P={payload:_,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){P.listeners.push(B)}};L.T!==null?p(!0):P.isTransition=!1,y(P),p=u.pending,p===null?(P.next=u.pending=P,aD(u,P)):(P.next=p.next,u.pending=p.next=P)}}function aD(l,u){var p=u.action,y=u.payload,_=l.state;if(u.isTransition){var P=L.T,B={};L.T=B;try{var Q=p(_,y),le=L.S;le!==null&&le(B,Q),oD(l,u,Q)}catch(Ee){p1(l,u,Ee)}finally{P!==null&&B.types!==null&&(P.types=B.types),L.T=P}}else try{P=p(_,y),oD(l,u,P)}catch(Ee){p1(l,u,Ee)}}function oD(l,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){sD(l,u,y)},function(y){return p1(l,u,y)}):sD(l,u,p)}function sD(l,u,p){u.status="fulfilled",u.value=p,lD(u),l.state=p,u=l.pending,u!==null&&(p=u.next,p===u?l.pending=null:(p=p.next,u.next=p,aD(l,p)))}function p1(l,u,p){var y=l.pending;if(l.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=p,lD(u),u=u.next;while(u!==y)}l.action=null}function lD(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function cD(l,u){return u}function uD(l,u){if(sn){var p=Un.formState;if(p!==null){e:{var y=qt;if(sn){if(Jn){t:{for(var _=Jn,P=oo;_.nodeType!==8;){if(!P){_=null;break t}if(_=lo(_.nextSibling),_===null){_=null;break t}}P=_.data,_=P==="F!"||P==="F"?_:null}if(_){Jn=lo(_.nextSibling),y=_.data==="F!";break e}}uc(y)}y=!1}y&&(u=p[0])}}return p=Ji(),p.memoizedState=p.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cD,lastRenderedState:u},p.queue=y,p=PD.bind(null,qt,y),y.dispatch=p,y=h1(!1),P=x1.bind(null,qt,!1,y.queue),y=Ji(),_={state:u,dispatch:null,action:l,pending:null},y.queue=_,p=hV.bind(null,qt,_,P,p),_.dispatch=p,y.memoizedState=l,[u,p,!1]}function dD(l){var u=_r();return fD(u,Nn,l)}function fD(l,u,p){if(u=d1(l,u,cD)[0],l=vv(al)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var y=Cp(u)}catch(B){throw B===of?sv:B}else y=u;u=_r();var _=u.queue,P=_.dispatch;return p!==u.memoizedState&&(qt.flags|=2048,df(9,{destroy:void 0},pV.bind(null,_,p),null)),[y,P,l]}function pV(l,u){l.action=u}function hD(l){var u=_r(),p=Nn;if(p!==null)return fD(u,p,l);_r(),u=u.memoizedState,p=_r();var y=p.queue.dispatch;return p.memoizedState=l,[u,y,!1]}function df(l,u,p,y){return l={tag:l,create:p,deps:y,inst:u,next:null},u=qt.updateQueue,u===null&&(u=mv(),qt.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=l.next=l:(y=p.next,p.next=l,l.next=y,u.lastEffect=l),l}function pD(){return _r().memoizedState}function yv(l,u,p,y){var _=Ji();qt.flags|=l,_.memoizedState=df(1|u,{destroy:void 0},p,y===void 0?null:y)}function bv(l,u,p,y){var _=_r();y=y===void 0?null:y;var P=_.memoizedState.inst;Nn!==null&&y!==null&&a1(y,Nn.memoizedState.deps)?_.memoizedState=df(u,P,p,y):(qt.flags|=l,_.memoizedState=df(1|u,P,p,y))}function mD(l,u){yv(8390656,8,l,u)}function m1(l,u){bv(2048,8,l,u)}function mV(l){qt.flags|=4;var u=qt.updateQueue;if(u===null)u=mv(),qt.updateQueue=u,u.events=[l];else{var p=u.events;p===null?u.events=[l]:p.push(l)}}function gD(l){var u=_r().memoizedState;return mV({ref:u,nextImpl:l}),function(){if((Sn&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function vD(l,u){return bv(4,2,l,u)}function yD(l,u){return bv(4,4,l,u)}function bD(l,u){if(typeof u=="function"){l=l();var p=u(l);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function xD(l,u,p){p=p!=null?p.concat([l]):null,bv(4,4,bD.bind(null,u,l),p)}function g1(){}function wD(l,u){var p=_r();u=u===void 0?null:u;var y=p.memoizedState;return u!==null&&a1(u,y[1])?y[0]:(p.memoizedState=[l,u],l)}function SD(l,u){var p=_r();u=u===void 0?null:u;var y=p.memoizedState;if(u!==null&&a1(u,y[1]))return y[0];if(y=l(),ku){Nt(!0);try{l()}finally{Nt(!1)}}return p.memoizedState=[y,u],y}function v1(l,u,p){return p===void 0||(il&1073741824)!==0&&(rn&261930)===0?l.memoizedState=u:(l.memoizedState=p,l=AM(),qt.lanes|=l,bc|=l,p)}function AD(l,u,p,y){return zi(p,u)?p:lf.current!==null?(l=v1(l,p,y),zi(l,u)||(Rr=!0),l):(il&42)===0||(il&1073741824)!==0&&(rn&261930)===0?(Rr=!0,l.memoizedState=p):(l=AM(),qt.lanes|=l,bc|=l,u)}function CD(l,u,p,y,_){var P=U.p;U.p=P!==0&&8>P?P:8;var B=L.T,Q={};L.T=Q,x1(l,!1,u,p);try{var le=_(),Ee=L.S;if(Ee!==null&&Ee(Q,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var Ie=uV(le,y);_p(l,u,Ie,za(l))}else _p(l,u,y,za(l))}catch(Ye){_p(l,u,{then:function(){},status:"rejected",reason:Ye},za())}finally{U.p=P,B!==null&&Q.types!==null&&(B.types=Q.types),L.T=B}}function gV(){}function y1(l,u,p,y){if(l.tag!==5)throw Error(r(476));var _=_D(l).queue;CD(l,_,u,F,p===null?gV:function(){return ED(l),p(y)})}function _D(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:F},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:p},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function ED(l){var u=_D(l);u.next===null&&(u=l.alternate.memoizedState),_p(l,u.next.queue,{},za())}function b1(){return wi(Up)}function TD(){return _r().memoizedState}function kD(){return _r().memoizedState}function vV(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var p=za();l=hc(p);var y=pc(u,l,p);y!==null&&(xa(y,u,p),xp(y,u,p)),u={cache:Kw()},l.payload=u;return}u=u.return}}function yV(l,u,p){var y=za();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},xv(l)?OD(u,p):(p=Bi(l,u,p,y),p!==null&&(xa(p,l,y),DD(p,u,y)))}function PD(l,u,p){var y=za();_p(l,u,p,y)}function _p(l,u,p,y){var _={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(xv(l))OD(u,_);else{var P=l.alternate;if(l.lanes===0&&(P===null||P.lanes===0)&&(P=u.lastRenderedReducer,P!==null))try{var B=u.lastRenderedState,Q=P(B,p);if(_.hasEagerState=!0,_.eagerState=Q,zi(Q,B))return Ln(l,u,_,0),Un===null&&zt(),!1}catch{}if(p=Bi(l,u,_,y),p!==null)return xa(p,l,y),DD(p,u,y),!0}return!1}function x1(l,u,p,y){if(y={lane:2,revertLane:Q1(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},xv(l)){if(u)throw Error(r(479))}else u=Bi(l,p,y,2),u!==null&&xa(u,l,2)}function xv(l){var u=l.alternate;return l===qt||u!==null&&u===qt}function OD(l,u){cf=hv=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function DD(l,u,p){if((p&4194048)!==0){var y=u.lanes;y&=l.pendingLanes,p|=y,u.lanes=p,lt(l,p)}}var Ep={readContext:wi,use:gv,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useLayoutEffect:vr,useInsertionEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useSyncExternalStore:vr,useId:vr,useHostTransitionStatus:vr,useFormState:vr,useActionState:vr,useOptimistic:vr,useMemoCache:vr,useCacheRefresh:vr};Ep.useEffectEvent=vr;var MD={readContext:wi,use:gv,useCallback:function(l,u){return Ji().memoizedState=[l,u===void 0?null:u],l},useContext:wi,useEffect:mD,useImperativeHandle:function(l,u,p){p=p!=null?p.concat([l]):null,yv(4194308,4,bD.bind(null,u,l),p)},useLayoutEffect:function(l,u){return yv(4194308,4,l,u)},useInsertionEffect:function(l,u){yv(4,2,l,u)},useMemo:function(l,u){var p=Ji();u=u===void 0?null:u;var y=l();if(ku){Nt(!0);try{l()}finally{Nt(!1)}}return p.memoizedState=[y,u],y},useReducer:function(l,u,p){var y=Ji();if(p!==void 0){var _=p(u);if(ku){Nt(!0);try{p(u)}finally{Nt(!1)}}}else _=u;return y.memoizedState=y.baseState=_,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:_},y.queue=l,l=l.dispatch=yV.bind(null,qt,l),[y.memoizedState,l]},useRef:function(l){var u=Ji();return l={current:l},u.memoizedState=l},useState:function(l){l=h1(l);var u=l.queue,p=PD.bind(null,qt,u);return u.dispatch=p,[l.memoizedState,p]},useDebugValue:g1,useDeferredValue:function(l,u){var p=Ji();return v1(p,l,u)},useTransition:function(){var l=h1(!1);return l=CD.bind(null,qt,l.queue,!0,!1),Ji().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,p){var y=qt,_=Ji();if(sn){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),Un===null)throw Error(r(349));(rn&127)!==0||J2(y,u,p)}_.memoizedState=p;var P={value:p,getSnapshot:u};return _.queue=P,mD(tD.bind(null,y,P,l),[l]),y.flags|=2048,df(9,{destroy:void 0},eD.bind(null,y,P,p,u),null),p},useId:function(){var l=Ji(),u=Un.identifierPrefix;if(sn){var p=os,y=as;p=(y&~(1<<32-et(y)-1)).toString(32)+p,u="_"+u+"R_"+p,p=pv++,0<p&&(u+="H"+p.toString(32)),u+="_"}else p=dV++,u="_"+u+"r_"+p.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:b1,useFormState:uD,useActionState:uD,useOptimistic:function(l){var u=Ji();u.memoizedState=u.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=x1.bind(null,qt,!0,p),p.dispatch=u,[l,u]},useMemoCache:u1,useCacheRefresh:function(){return Ji().memoizedState=vV.bind(null,qt)},useEffectEvent:function(l){var u=Ji(),p={impl:l};return u.memoizedState=p,function(){if((Sn&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},w1={readContext:wi,use:gv,useCallback:wD,useContext:wi,useEffect:m1,useImperativeHandle:xD,useInsertionEffect:vD,useLayoutEffect:yD,useMemo:SD,useReducer:vv,useRef:pD,useState:function(){return vv(al)},useDebugValue:g1,useDeferredValue:function(l,u){var p=_r();return AD(p,Nn.memoizedState,l,u)},useTransition:function(){var l=vv(al)[0],u=_r().memoizedState;return[typeof l=="boolean"?l:Cp(l),u]},useSyncExternalStore:Q2,useId:TD,useHostTransitionStatus:b1,useFormState:dD,useActionState:dD,useOptimistic:function(l,u){var p=_r();return iD(p,Nn,l,u)},useMemoCache:u1,useCacheRefresh:kD};w1.useEffectEvent=gD;var RD={readContext:wi,use:gv,useCallback:wD,useContext:wi,useEffect:m1,useImperativeHandle:xD,useInsertionEffect:vD,useLayoutEffect:yD,useMemo:SD,useReducer:f1,useRef:pD,useState:function(){return f1(al)},useDebugValue:g1,useDeferredValue:function(l,u){var p=_r();return Nn===null?v1(p,l,u):AD(p,Nn.memoizedState,l,u)},useTransition:function(){var l=f1(al)[0],u=_r().memoizedState;return[typeof l=="boolean"?l:Cp(l),u]},useSyncExternalStore:Q2,useId:TD,useHostTransitionStatus:b1,useFormState:hD,useActionState:hD,useOptimistic:function(l,u){var p=_r();return Nn!==null?iD(p,Nn,l,u):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:u1,useCacheRefresh:kD};RD.useEffectEvent=gD;function S1(l,u,p,y){u=l.memoizedState,p=p(y,u),p=p==null?u:h({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var A1={enqueueSetState:function(l,u,p){l=l._reactInternals;var y=za(),_=hc(y);_.payload=u,p!=null&&(_.callback=p),u=pc(l,_,y),u!==null&&(xa(u,l,y),xp(u,l,y))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var y=za(),_=hc(y);_.tag=1,_.payload=u,p!=null&&(_.callback=p),u=pc(l,_,y),u!==null&&(xa(u,l,y),xp(u,l,y))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=za(),y=hc(p);y.tag=2,u!=null&&(y.callback=u),u=pc(l,y,p),u!==null&&(xa(u,l,p),xp(u,l,p))}};function jD(l,u,p,y,_,P,B){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,P,B):u.prototype&&u.prototype.isPureReactComponent?!C(p,y)||!C(_,P):!0}function LD(l,u,p,y){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,y),u.state!==l&&A1.enqueueReplaceState(u,u.state,null)}function Pu(l,u){var p=u;if("ref"in u){p={};for(var y in u)y!=="ref"&&(p[y]=u[y])}if(l=l.defaultProps){p===u&&(p=h({},p));for(var _ in l)p[_]===void 0&&(p[_]=l[_])}return p}function ND(l){mt(l)}function ID(l){console.error(l)}function zD(l){mt(l)}function wv(l,u){try{var p=l.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function BD(l,u,p){try{var y=l.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function C1(l,u,p){return p=hc(p),p.tag=3,p.payload={element:null},p.callback=function(){wv(l,u)},p}function $D(l){return l=hc(l),l.tag=3,l}function FD(l,u,p,y){var _=p.type.getDerivedStateFromError;if(typeof _=="function"){var P=y.value;l.payload=function(){return _(P)},l.callback=function(){BD(u,p,y)}}var B=p.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(l.callback=function(){BD(u,p,y),typeof _!="function"&&(xc===null?xc=new Set([this]):xc.add(this));var Q=y.stack;this.componentDidCatch(y.value,{componentStack:Q!==null?Q:""})})}function bV(l,u,p,y,_){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=p.alternate,u!==null&&nf(u,p,_,!0),p=ja.current,p!==null){switch(p.tag){case 31:case 13:return so===null?Rv():p.alternate===null&&yr===0&&(yr=3),p.flags&=-257,p.flags|=65536,p.lanes=_,y===lv?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([y]):u.add(y),W1(l,y,_)),!1;case 22:return p.flags|=65536,y===lv?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([y]):p.add(y)),W1(l,y,_)),!1}throw Error(r(435,p.tag))}return W1(l,y,_),Rv(),!1}if(sn)return u=ja.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=_,y!==Hw&&(l=Error(r(422),{cause:y}),mp(ro(l,p)))):(y!==Hw&&(u=Error(r(423),{cause:y}),mp(ro(u,p))),l=l.current.alternate,l.flags|=65536,_&=-_,l.lanes|=_,y=ro(y,p),_=C1(l.stateNode,y,_),e1(l,_),yr!==4&&(yr=2)),!1;var P=Error(r(520),{cause:y});if(P=ro(P,p),jp===null?jp=[P]:jp.push(P),yr!==4&&(yr=2),u===null)return!0;y=ro(y,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,l=_&-_,p.lanes|=l,l=C1(p.stateNode,y,l),e1(p,l),!1;case 1:if(u=p.type,P=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(xc===null||!xc.has(P))))return p.flags|=65536,_&=-_,p.lanes|=_,_=$D(_),FD(_,l,p,y),e1(p,_),!1}p=p.return}while(p!==null);return!1}var _1=Error(r(461)),Rr=!1;function Si(l,u,p,y){u.child=l===null?q2(u,null,p,y):Tu(u,l.child,p,y)}function UD(l,u,p,y,_){p=p.render;var P=u.ref;if("ref"in y){var B={};for(var Q in y)Q!=="ref"&&(B[Q]=y[Q])}else B=y;return Au(u),y=o1(l,u,p,B,P,_),Q=s1(),l!==null&&!Rr?(l1(l,u,_),ol(l,u,_)):(sn&&Q&&Fw(u),u.flags|=1,Si(l,u,y,_),u.child)}function HD(l,u,p,y,_){if(l===null){var P=p.type;return typeof P=="function"&&!zw(P)&&P.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=P,VD(l,u,P,y,_)):(l=nv(p.type,null,y,u,u.mode,_),l.ref=u.ref,l.return=u,u.child=l)}if(P=l.child,!R1(l,_)){var B=P.memoizedProps;if(p=p.compare,p=p!==null?p:C,p(B,y)&&l.ref===u.ref)return ol(l,u,_)}return u.flags|=1,l=el(P,y),l.ref=u.ref,l.return=u,u.child=l}function VD(l,u,p,y,_){if(l!==null){var P=l.memoizedProps;if(C(P,y)&&l.ref===u.ref)if(Rr=!1,u.pendingProps=y=P,R1(l,_))(l.flags&131072)!==0&&(Rr=!0);else return u.lanes=l.lanes,ol(l,u,_)}return E1(l,u,p,y,_)}function qD(l,u,p,y){var _=y.children,P=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((u.flags&128)!==0){if(P=P!==null?P.baseLanes|p:p,l!==null){for(y=u.child=l.child,_=0;y!==null;)_=_|y.lanes|y.childLanes,y=y.sibling;y=_&~P}else y=0,u.child=null;return GD(l,u,P,p,y)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&ov(u,P!==null?P.cachePool:null),P!==null?K2(u,P):n1(),W2(u);else return y=u.lanes=536870912,GD(l,u,P!==null?P.baseLanes|p:p,p,y)}else P!==null?(ov(u,P.cachePool),K2(u,P),gc(),u.memoizedState=null):(l!==null&&ov(u,null),n1(),gc());return Si(l,u,_,p),u.child}function Tp(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function GD(l,u,p,y,_){var P=Xw();return P=P===null?null:{parent:Dr._currentValue,pool:P},u.memoizedState={baseLanes:p,cachePool:P},l!==null&&ov(u,null),n1(),W2(u),l!==null&&nf(l,u,y,!0),u.childLanes=_,null}function Sv(l,u){return u=Cv({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function YD(l,u,p){return Tu(u,l.child,null,p),l=Sv(u,u.pendingProps),l.flags|=2,La(u),u.memoizedState=null,l}function xV(l,u,p){var y=u.pendingProps,_=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(sn){if(y.mode==="hidden")return l=Sv(u,y),u.lanes=536870912,Tp(null,l);if(i1(u),(l=Jn)?(l=aR(l,oo),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:lc!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},p=O2(l),p.return=u,u.child=p,xi=u,Jn=null)):l=null,l===null)throw uc(u);return u.lanes=536870912,null}return Sv(u,y)}var P=l.memoizedState;if(P!==null){var B=P.dehydrated;if(i1(u),_)if(u.flags&256)u.flags&=-257,u=YD(l,u,p);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(r(558));else if(Rr||nf(l,u,p,!1),_=(p&l.childLanes)!==0,Rr||_){if(y=Un,y!==null&&(B=Rt(y,p),B!==0&&B!==P.retryLane))throw P.retryLane=B,kn(l,B),xa(y,l,B),_1;Rv(),u=YD(l,u,p)}else l=P.treeContext,Jn=lo(B.nextSibling),xi=u,sn=!0,cc=null,oo=!1,l!==null&&R2(u,l),u=Sv(u,y),u.flags|=4096;return u}return l=el(l.child,{mode:y.mode,children:y.children}),l.ref=u.ref,u.child=l,l.return=u,l}function Av(l,u){var p=u.ref;if(p===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(l===null||l.ref!==p)&&(u.flags|=4194816)}}function E1(l,u,p,y,_){return Au(u),p=o1(l,u,p,y,void 0,_),y=s1(),l!==null&&!Rr?(l1(l,u,_),ol(l,u,_)):(sn&&y&&Fw(u),u.flags|=1,Si(l,u,p,_),u.child)}function KD(l,u,p,y,_,P){return Au(u),u.updateQueue=null,p=Z2(u,y,p,_),X2(l),y=s1(),l!==null&&!Rr?(l1(l,u,P),ol(l,u,P)):(sn&&y&&Fw(u),u.flags|=1,Si(l,u,p,P),u.child)}function WD(l,u,p,y,_){if(Au(u),u.stateNode===null){var P=Qd,B=p.contextType;typeof B=="object"&&B!==null&&(P=wi(B)),P=new p(y,P),u.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=A1,u.stateNode=P,P._reactInternals=u,P=u.stateNode,P.props=y,P.state=u.memoizedState,P.refs={},Qw(u),B=p.contextType,P.context=typeof B=="object"&&B!==null?wi(B):Qd,P.state=u.memoizedState,B=p.getDerivedStateFromProps,typeof B=="function"&&(S1(u,p,B,y),P.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(B=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),B!==P.state&&A1.enqueueReplaceState(P,P.state,null),Sp(u,y,P,_),wp(),P.state=u.memoizedState),typeof P.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(l===null){P=u.stateNode;var Q=u.memoizedProps,le=Pu(p,Q);P.props=le;var Ee=P.context,Ie=p.contextType;B=Qd,typeof Ie=="object"&&Ie!==null&&(B=wi(Ie));var Ye=p.getDerivedStateFromProps;Ie=typeof Ye=="function"||typeof P.getSnapshotBeforeUpdate=="function",Q=u.pendingProps!==Q,Ie||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(Q||Ee!==B)&&LD(u,P,y,B),fc=!1;var ke=u.memoizedState;P.state=ke,Sp(u,y,P,_),wp(),Ee=u.memoizedState,Q||ke!==Ee||fc?(typeof Ye=="function"&&(S1(u,p,Ye,y),Ee=u.memoizedState),(le=fc||jD(u,p,le,y,ke,Ee,B))?(Ie||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(u.flags|=4194308)):(typeof P.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=Ee),P.props=y,P.state=Ee,P.context=B,y=le):(typeof P.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{P=u.stateNode,Jw(l,u),B=u.memoizedProps,Ie=Pu(p,B),P.props=Ie,Ye=u.pendingProps,ke=P.context,Ee=p.contextType,le=Qd,typeof Ee=="object"&&Ee!==null&&(le=wi(Ee)),Q=p.getDerivedStateFromProps,(Ee=typeof Q=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(B!==Ye||ke!==le)&&LD(u,P,y,le),fc=!1,ke=u.memoizedState,P.state=ke,Sp(u,y,P,_),wp();var De=u.memoizedState;B!==Ye||ke!==De||fc||l!==null&&l.dependencies!==null&&iv(l.dependencies)?(typeof Q=="function"&&(S1(u,p,Q,y),De=u.memoizedState),(Ie=fc||jD(u,p,Ie,y,ke,De,le)||l!==null&&l.dependencies!==null&&iv(l.dependencies))?(Ee||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(y,De,le),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(y,De,le)),typeof P.componentDidUpdate=="function"&&(u.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof P.componentDidUpdate!="function"||B===l.memoizedProps&&ke===l.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||B===l.memoizedProps&&ke===l.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=De),P.props=y,P.state=De,P.context=le,y=Ie):(typeof P.componentDidUpdate!="function"||B===l.memoizedProps&&ke===l.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||B===l.memoizedProps&&ke===l.memoizedState||(u.flags|=1024),y=!1)}return P=y,Av(l,u),y=(u.flags&128)!==0,P||y?(P=u.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:P.render(),u.flags|=1,l!==null&&y?(u.child=Tu(u,l.child,null,_),u.child=Tu(u,null,p,_)):Si(l,u,p,_),u.memoizedState=P.state,l=u.child):l=ol(l,u,_),l}function XD(l,u,p,y){return wu(),u.flags|=256,Si(l,u,p,y),u.child}var T1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function k1(l){return{baseLanes:l,cachePool:B2()}}function P1(l,u,p){return l=l!==null?l.childLanes&~p:0,u&&(l|=Ia),l}function ZD(l,u,p){var y=u.pendingProps,_=!1,P=(u.flags&128)!==0,B;if((B=P)||(B=l!==null&&l.memoizedState===null?!1:(Cr.current&2)!==0),B&&(_=!0,u.flags&=-129),B=(u.flags&32)!==0,u.flags&=-33,l===null){if(sn){if(_?mc(u):gc(),(l=Jn)?(l=aR(l,oo),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:lc!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},p=O2(l),p.return=u,u.child=p,xi=u,Jn=null)):l=null,l===null)throw uc(u);return dS(l)?u.lanes=32:u.lanes=536870912,null}var Q=y.children;return y=y.fallback,_?(gc(),_=u.mode,Q=Cv({mode:"hidden",children:Q},_),y=xu(y,_,p,null),Q.return=u,y.return=u,Q.sibling=y,u.child=Q,y=u.child,y.memoizedState=k1(p),y.childLanes=P1(l,B,p),u.memoizedState=T1,Tp(null,y)):(mc(u),O1(u,Q))}var le=l.memoizedState;if(le!==null&&(Q=le.dehydrated,Q!==null)){if(P)u.flags&256?(mc(u),u.flags&=-257,u=D1(l,u,p)):u.memoizedState!==null?(gc(),u.child=l.child,u.flags|=128,u=null):(gc(),Q=y.fallback,_=u.mode,y=Cv({mode:"visible",children:y.children},_),Q=xu(Q,_,p,null),Q.flags|=2,y.return=u,Q.return=u,y.sibling=Q,u.child=y,Tu(u,l.child,null,p),y=u.child,y.memoizedState=k1(p),y.childLanes=P1(l,B,p),u.memoizedState=T1,u=Tp(null,y));else if(mc(u),dS(Q)){if(B=Q.nextSibling&&Q.nextSibling.dataset,B)var Ee=B.dgst;B=Ee,y=Error(r(419)),y.stack="",y.digest=B,mp({value:y,source:null,stack:null}),u=D1(l,u,p)}else if(Rr||nf(l,u,p,!1),B=(p&l.childLanes)!==0,Rr||B){if(B=Un,B!==null&&(y=Rt(B,p),y!==0&&y!==le.retryLane))throw le.retryLane=y,kn(l,y),xa(B,l,y),_1;uS(Q)||Rv(),u=D1(l,u,p)}else uS(Q)?(u.flags|=192,u.child=l.child,u=null):(l=le.treeContext,Jn=lo(Q.nextSibling),xi=u,sn=!0,cc=null,oo=!1,l!==null&&R2(u,l),u=O1(u,y.children),u.flags|=4096);return u}return _?(gc(),Q=y.fallback,_=u.mode,le=l.child,Ee=le.sibling,y=el(le,{mode:"hidden",children:y.children}),y.subtreeFlags=le.subtreeFlags&65011712,Ee!==null?Q=el(Ee,Q):(Q=xu(Q,_,p,null),Q.flags|=2),Q.return=u,y.return=u,y.sibling=Q,u.child=y,Tp(null,y),y=u.child,Q=l.child.memoizedState,Q===null?Q=k1(p):(_=Q.cachePool,_!==null?(le=Dr._currentValue,_=_.parent!==le?{parent:le,pool:le}:_):_=B2(),Q={baseLanes:Q.baseLanes|p,cachePool:_}),y.memoizedState=Q,y.childLanes=P1(l,B,p),u.memoizedState=T1,Tp(l.child,y)):(mc(u),p=l.child,l=p.sibling,p=el(p,{mode:"visible",children:y.children}),p.return=u,p.sibling=null,l!==null&&(B=u.deletions,B===null?(u.deletions=[l],u.flags|=16):B.push(l)),u.child=p,u.memoizedState=null,p)}function O1(l,u){return u=Cv({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function Cv(l,u){return l=Ra(22,l,null,u),l.lanes=0,l}function D1(l,u,p){return Tu(u,l.child,null,p),l=O1(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function QD(l,u,p){l.lanes|=u;var y=l.alternate;y!==null&&(y.lanes|=u),Gw(l.return,u,p)}function M1(l,u,p,y,_,P){var B=l.memoizedState;B===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:_,treeForkCount:P}:(B.isBackwards=u,B.rendering=null,B.renderingStartTime=0,B.last=y,B.tail=p,B.tailMode=_,B.treeForkCount=P)}function JD(l,u,p){var y=u.pendingProps,_=y.revealOrder,P=y.tail;y=y.children;var B=Cr.current,Q=(B&2)!==0;if(Q?(B=B&1|2,u.flags|=128):B&=1,ne(Cr,B),Si(l,u,y,p),y=sn?pp:0,!Q&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&QD(l,p,u);else if(l.tag===19)QD(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(_){case"forwards":for(p=u.child,_=null;p!==null;)l=p.alternate,l!==null&&fv(l)===null&&(_=p),p=p.sibling;p=_,p===null?(_=u.child,u.child=null):(_=p.sibling,p.sibling=null),M1(u,!1,_,p,P,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,_=u.child,u.child=null;_!==null;){if(l=_.alternate,l!==null&&fv(l)===null){u.child=_;break}l=_.sibling,_.sibling=p,p=_,_=l}M1(u,!0,p,null,P,y);break;case"together":M1(u,!1,null,null,void 0,y);break;default:u.memoizedState=null}return u.child}function ol(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),bc|=u.lanes,(p&u.childLanes)===0)if(l!==null){if(nf(l,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,p=el(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=el(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function R1(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&iv(l)))}function wV(l,u,p){switch(u.tag){case 3:ze(u,u.stateNode.containerInfo),dc(u,Dr,l.memoizedState.cache),wu();break;case 27:case 5:se(u);break;case 4:ze(u,u.stateNode.containerInfo);break;case 10:dc(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,i1(u),null;break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(mc(u),u.flags|=128,null):(p&u.child.childLanes)!==0?ZD(l,u,p):(mc(u),l=ol(l,u,p),l!==null?l.sibling:null);mc(u);break;case 19:var _=(l.flags&128)!==0;if(y=(p&u.childLanes)!==0,y||(nf(l,u,p,!1),y=(p&u.childLanes)!==0),_){if(y)return JD(l,u,p);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ne(Cr,Cr.current),y)break;return null;case 22:return u.lanes=0,qD(l,u,p,u.pendingProps);case 24:dc(u,Dr,l.memoizedState.cache)}return ol(l,u,p)}function eM(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps)Rr=!0;else{if(!R1(l,p)&&(u.flags&128)===0)return Rr=!1,wV(l,u,p);Rr=(l.flags&131072)!==0}else Rr=!1,sn&&(u.flags&1048576)!==0&&M2(u,pp,u.index);switch(u.lanes=0,u.tag){case 16:e:{var y=u.pendingProps;if(l=_u(u.elementType),u.type=l,typeof l=="function")zw(l)?(y=Pu(l,y),u.tag=1,u=WD(null,u,l,y,p)):(u.tag=0,u=E1(null,u,l,y,p));else{if(l!=null){var _=l.$$typeof;if(_===k){u.tag=11,u=UD(null,u,l,y,p);break e}else if(_===R){u.tag=14,u=HD(null,u,l,y,p);break e}}throw u=W(l)||l,Error(r(306,u,""))}}return u;case 0:return E1(l,u,u.type,u.pendingProps,p);case 1:return y=u.type,_=Pu(y,u.pendingProps),WD(l,u,y,_,p);case 3:e:{if(ze(u,u.stateNode.containerInfo),l===null)throw Error(r(387));y=u.pendingProps;var P=u.memoizedState;_=P.element,Jw(l,u),Sp(u,y,null,p);var B=u.memoizedState;if(y=B.cache,dc(u,Dr,y),y!==P.cache&&Yw(u,[Dr],p,!0),wp(),y=B.element,P.isDehydrated)if(P={element:y,isDehydrated:!1,cache:B.cache},u.updateQueue.baseState=P,u.memoizedState=P,u.flags&256){u=XD(l,u,y,p);break e}else if(y!==_){_=ro(Error(r(424)),u),mp(_),u=XD(l,u,y,p);break e}else for(l=u.stateNode.containerInfo,l.nodeType===9?l=l.body:l=l.nodeName==="HTML"?l.ownerDocument.body:l,Jn=lo(l.firstChild),xi=u,sn=!0,cc=null,oo=!0,p=q2(u,null,y,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(wu(),y===_){u=ol(l,u,p);break e}Si(l,u,y,p)}u=u.child}return u;case 26:return Av(l,u),l===null?(p=dR(u.type,null,u.pendingProps,null))?u.memoizedState=p:sn||(p=u.type,l=u.pendingProps,y=$v(xe.current).createElement(p),y[dn]=u,y[Fn]=l,Ai(y,p,l),Ar(y),u.stateNode=y):u.memoizedState=dR(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return se(u),l===null&&sn&&(y=u.stateNode=lR(u.type,u.pendingProps,xe.current),xi=u,oo=!0,_=Jn,Cc(u.type)?(fS=_,Jn=lo(y.firstChild)):Jn=_),Si(l,u,u.pendingProps.children,p),Av(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&sn&&((_=y=Jn)&&(y=ZV(y,u.type,u.pendingProps,oo),y!==null?(u.stateNode=y,xi=u,Jn=lo(y.firstChild),oo=!1,_=!0):_=!1),_||uc(u)),se(u),_=u.type,P=u.pendingProps,B=l!==null?l.memoizedProps:null,y=P.children,sS(_,P)?y=null:B!==null&&sS(_,B)&&(u.flags|=32),u.memoizedState!==null&&(_=o1(l,u,fV,null,null,p),Up._currentValue=_),Av(l,u),Si(l,u,y,p),u.child;case 6:return l===null&&sn&&((l=p=Jn)&&(p=QV(p,u.pendingProps,oo),p!==null?(u.stateNode=p,xi=u,Jn=null,l=!0):l=!1),l||uc(u)),null;case 13:return ZD(l,u,p);case 4:return ze(u,u.stateNode.containerInfo),y=u.pendingProps,l===null?u.child=Tu(u,null,y,p):Si(l,u,y,p),u.child;case 11:return UD(l,u,u.type,u.pendingProps,p);case 7:return Si(l,u,u.pendingProps,p),u.child;case 8:return Si(l,u,u.pendingProps.children,p),u.child;case 12:return Si(l,u,u.pendingProps.children,p),u.child;case 10:return y=u.pendingProps,dc(u,u.type,y.value),Si(l,u,y.children,p),u.child;case 9:return _=u.type._context,y=u.pendingProps.children,Au(u),_=wi(_),y=y(_),u.flags|=1,Si(l,u,y,p),u.child;case 14:return HD(l,u,u.type,u.pendingProps,p);case 15:return VD(l,u,u.type,u.pendingProps,p);case 19:return JD(l,u,p);case 31:return xV(l,u,p);case 22:return qD(l,u,p,u.pendingProps);case 24:return Au(u),y=wi(Dr),l===null?(_=Xw(),_===null&&(_=Un,P=Kw(),_.pooledCache=P,P.refCount++,P!==null&&(_.pooledCacheLanes|=p),_=P),u.memoizedState={parent:y,cache:_},Qw(u),dc(u,Dr,_)):((l.lanes&p)!==0&&(Jw(l,u),Sp(u,null,null,p),wp()),_=l.memoizedState,P=u.memoizedState,_.parent!==y?(_={parent:y,cache:y},u.memoizedState=_,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=_),dc(u,Dr,y)):(y=P.cache,dc(u,Dr,y),y!==_.cache&&Yw(u,[Dr],p,!0))),Si(l,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function sl(l){l.flags|=4}function j1(l,u,p,y,_){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(_&335544128)===_)if(l.stateNode.complete)l.flags|=8192;else if(TM())l.flags|=8192;else throw Eu=lv,Zw}else l.flags&=-16777217}function tM(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!gR(u))if(TM())l.flags|=8192;else throw Eu=lv,Zw}function _v(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Pn():536870912,l.lanes|=u,mf|=u)}function kp(l,u){if(!sn)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function er(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,y=0;if(u)for(var _=l.child;_!==null;)p|=_.lanes|_.childLanes,y|=_.subtreeFlags&65011712,y|=_.flags&65011712,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)p|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=y,l.childLanes=p,u}function SV(l,u,p){var y=u.pendingProps;switch(Uw(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(u),null;case 1:return er(u),null;case 3:return p=u.stateNode,y=null,l!==null&&(y=l.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),rl(Dr),ie(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(tf(u)?sl(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Vw())),er(u),null;case 26:var _=u.type,P=u.memoizedState;return l===null?(sl(u),P!==null?(er(u),tM(u,P)):(er(u),j1(u,_,null,y,p))):P?P!==l.memoizedState?(sl(u),er(u),tM(u,P)):(er(u),u.flags&=-16777217):(l=l.memoizedProps,l!==y&&sl(u),er(u),j1(u,_,l,y,p)),null;case 27:if(je(u),p=xe.current,_=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==y&&sl(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return er(u),null}l=ae.current,tf(u)?j2(u):(l=lR(_,y,p),u.stateNode=l,sl(u))}return er(u),null;case 5:if(je(u),_=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==y&&sl(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return er(u),null}if(P=ae.current,tf(u))j2(u);else{var B=$v(xe.current);switch(P){case 1:P=B.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:P=B.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":P=B.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":P=B.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":P=B.createElement("div"),P.innerHTML="<script><\/script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof y.is=="string"?B.createElement("select",{is:y.is}):B.createElement("select"),y.multiple?P.multiple=!0:y.size&&(P.size=y.size);break;default:P=typeof y.is=="string"?B.createElement(_,{is:y.is}):B.createElement(_)}}P[dn]=u,P[Fn]=y;e:for(B=u.child;B!==null;){if(B.tag===5||B.tag===6)P.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===u)break e;for(;B.sibling===null;){if(B.return===null||B.return===u)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}u.stateNode=P;e:switch(Ai(P,_,y),_){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&sl(u)}}return er(u),j1(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,p),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==y&&sl(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(l=xe.current,tf(u)){if(l=u.stateNode,p=u.memoizedProps,y=null,_=xi,_!==null)switch(_.tag){case 27:case 5:y=_.memoizedProps}l[dn]=u,l=!!(l.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||ZM(l.nodeValue,p)),l||uc(u,!0)}else l=$v(l).createTextNode(y),l[dn]=u,u.stateNode=l}return er(u),null;case 31:if(p=u.memoizedState,l===null||l.memoizedState!==null){if(y=tf(u),p!==null){if(l===null){if(!y)throw Error(r(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[dn]=u}else wu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;er(u),l=!1}else p=Vw(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=p),l=!0;if(!l)return u.flags&256?(La(u),u):(La(u),null);if((u.flags&128)!==0)throw Error(r(558))}return er(u),null;case 13:if(y=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(_=tf(u),y!==null&&y.dehydrated!==null){if(l===null){if(!_)throw Error(r(318));if(_=u.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[dn]=u}else wu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;er(u),_=!1}else _=Vw(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=_),_=!0;if(!_)return u.flags&256?(La(u),u):(La(u),null)}return La(u),(u.flags&128)!==0?(u.lanes=p,u):(p=y!==null,l=l!==null&&l.memoizedState!==null,p&&(y=u.child,_=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(_=y.alternate.memoizedState.cachePool.pool),P=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(P=y.memoizedState.cachePool.pool),P!==_&&(y.flags|=2048)),p!==l&&p&&(u.child.flags|=8192),_v(u,u.updateQueue),er(u),null);case 4:return ie(),l===null&&nS(u.stateNode.containerInfo),er(u),null;case 10:return rl(u.type),er(u),null;case 19:if(X(Cr),y=u.memoizedState,y===null)return er(u),null;if(_=(u.flags&128)!==0,P=y.rendering,P===null)if(_)kp(y,!1);else{if(yr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(P=fv(l),P!==null){for(u.flags|=128,kp(y,!1),l=P.updateQueue,u.updateQueue=l,_v(u,l),u.subtreeFlags=0,l=p,p=u.child;p!==null;)P2(p,l),p=p.sibling;return ne(Cr,Cr.current&1|2),sn&&tl(u,y.treeForkCount),u.child}l=l.sibling}y.tail!==null&&$e()>Ov&&(u.flags|=128,_=!0,kp(y,!1),u.lanes=4194304)}else{if(!_)if(l=fv(P),l!==null){if(u.flags|=128,_=!0,l=l.updateQueue,u.updateQueue=l,_v(u,l),kp(y,!0),y.tail===null&&y.tailMode==="hidden"&&!P.alternate&&!sn)return er(u),null}else 2*$e()-y.renderingStartTime>Ov&&p!==536870912&&(u.flags|=128,_=!0,kp(y,!1),u.lanes=4194304);y.isBackwards?(P.sibling=u.child,u.child=P):(l=y.last,l!==null?l.sibling=P:u.child=P,y.last=P)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=$e(),l.sibling=null,p=Cr.current,ne(Cr,_?p&1|2:p&1),sn&&tl(u,y.treeForkCount),l):(er(u),null);case 22:case 23:return La(u),r1(),y=u.memoizedState!==null,l!==null?l.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(p&536870912)!==0&&(u.flags&128)===0&&(er(u),u.subtreeFlags&6&&(u.flags|=8192)):er(u),p=u.updateQueue,p!==null&&_v(u,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048),l!==null&&X(Cu),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),rl(Dr),er(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function AV(l,u){switch(Uw(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return rl(Dr),ie(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return je(u),null;case 31:if(u.memoizedState!==null){if(La(u),u.alternate===null)throw Error(r(340));wu()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(La(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));wu()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return X(Cr),null;case 4:return ie(),null;case 10:return rl(u.type),null;case 22:case 23:return La(u),r1(),l!==null&&X(Cu),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return rl(Dr),null;case 25:return null;default:return null}}function nM(l,u){switch(Uw(u),u.tag){case 3:rl(Dr),ie();break;case 26:case 27:case 5:je(u);break;case 4:ie();break;case 31:u.memoizedState!==null&&La(u);break;case 13:La(u);break;case 19:X(Cr);break;case 10:rl(u.type);break;case 22:case 23:La(u),r1(),l!==null&&X(Cu);break;case 24:rl(Dr)}}function Pp(l,u){try{var p=u.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var _=y.next;p=_;do{if((p.tag&l)===l){y=void 0;var P=p.create,B=p.inst;y=P(),B.destroy=y}p=p.next}while(p!==_)}}catch(Q){Dn(u,u.return,Q)}}function vc(l,u,p){try{var y=u.updateQueue,_=y!==null?y.lastEffect:null;if(_!==null){var P=_.next;y=P;do{if((y.tag&l)===l){var B=y.inst,Q=B.destroy;if(Q!==void 0){B.destroy=void 0,_=u;var le=p,Ee=Q;try{Ee()}catch(Ie){Dn(_,le,Ie)}}}y=y.next}while(y!==P)}}catch(Ie){Dn(u,u.return,Ie)}}function rM(l){var u=l.updateQueue;if(u!==null){var p=l.stateNode;try{Y2(u,p)}catch(y){Dn(l,l.return,y)}}}function iM(l,u,p){p.props=Pu(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(y){Dn(l,u,y)}}function Op(l,u){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var y=l.stateNode;break;case 30:y=l.stateNode;break;default:y=l.stateNode}typeof p=="function"?l.refCleanup=p(y):p.current=y}}catch(_){Dn(l,u,_)}}function ss(l,u){var p=l.ref,y=l.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(_){Dn(l,u,_)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(_){Dn(l,u,_)}else p.current=null}function aM(l){var u=l.type,p=l.memoizedProps,y=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(_){Dn(l,l.return,_)}}function L1(l,u,p){try{var y=l.stateNode;qV(y,l.type,p,u),y[Fn]=u}catch(_){Dn(l,l.return,_)}}function oM(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Cc(l.type)||l.tag===4}function N1(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||oM(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Cc(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function I1(l,u,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(l),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=ma));else if(y!==4&&(y===27&&Cc(l.type)&&(p=l.stateNode,u=null),l=l.child,l!==null))for(I1(l,u,p),l=l.sibling;l!==null;)I1(l,u,p),l=l.sibling}function Ev(l,u,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(y!==4&&(y===27&&Cc(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(Ev(l,u,p),l=l.sibling;l!==null;)Ev(l,u,p),l=l.sibling}function sM(l){var u=l.stateNode,p=l.memoizedProps;try{for(var y=l.type,_=u.attributes;_.length;)u.removeAttributeNode(_[0]);Ai(u,y,p),u[dn]=l,u[Fn]=p}catch(P){Dn(l,l.return,P)}}var ll=!1,jr=!1,z1=!1,lM=typeof WeakSet=="function"?WeakSet:Set,oi=null;function CV(l,u){if(l=l.containerInfo,aS=Yv,l=H(l),Z(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var _=y.anchorOffset,P=y.focusNode;y=y.focusOffset;try{p.nodeType,P.nodeType}catch{p=null;break e}var B=0,Q=-1,le=-1,Ee=0,Ie=0,Ye=l,ke=null;t:for(;;){for(var De;Ye!==p||_!==0&&Ye.nodeType!==3||(Q=B+_),Ye!==P||y!==0&&Ye.nodeType!==3||(le=B+y),Ye.nodeType===3&&(B+=Ye.nodeValue.length),(De=Ye.firstChild)!==null;)ke=Ye,Ye=De;for(;;){if(Ye===l)break t;if(ke===p&&++Ee===_&&(Q=B),ke===P&&++Ie===y&&(le=B),(De=Ye.nextSibling)!==null)break;Ye=ke,ke=Ye.parentNode}Ye=De}p=Q===-1||le===-1?null:{start:Q,end:le}}else p=null}p=p||{start:0,end:0}}else p=null;for(oS={focusedElem:l,selectionRange:p},Yv=!1,oi=u;oi!==null;)if(u=oi,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,oi=l;else for(;oi!==null;){switch(u=oi,P=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(p=0;p<l.length;p++)_=l[p],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&P!==null){l=void 0,p=u,_=P.memoizedProps,P=P.memoizedState,y=p.stateNode;try{var xt=Pu(p.type,_);l=y.getSnapshotBeforeUpdate(xt,P),y.__reactInternalSnapshotBeforeUpdate=l}catch(Ot){Dn(p,p.return,Ot)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,p=l.nodeType,p===9)cS(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":cS(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,oi=l;break}oi=u.return}}function cM(l,u,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:ul(l,p),y&4&&Pp(5,p);break;case 1:if(ul(l,p),y&4)if(l=p.stateNode,u===null)try{l.componentDidMount()}catch(B){Dn(p,p.return,B)}else{var _=Pu(p.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(_,u,l.__reactInternalSnapshotBeforeUpdate)}catch(B){Dn(p,p.return,B)}}y&64&&rM(p),y&512&&Op(p,p.return);break;case 3:if(ul(l,p),y&64&&(l=p.updateQueue,l!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{Y2(l,u)}catch(B){Dn(p,p.return,B)}}break;case 27:u===null&&y&4&&sM(p);case 26:case 5:ul(l,p),u===null&&y&4&&aM(p),y&512&&Op(p,p.return);break;case 12:ul(l,p);break;case 31:ul(l,p),y&4&&fM(l,p);break;case 13:ul(l,p),y&4&&hM(l,p),y&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=RV.bind(null,p),JV(l,p))));break;case 22:if(y=p.memoizedState!==null||ll,!y){u=u!==null&&u.memoizedState!==null||jr,_=ll;var P=jr;ll=y,(jr=u)&&!P?dl(l,p,(p.subtreeFlags&8772)!==0):ul(l,p),ll=_,jr=P}break;case 30:break;default:ul(l,p)}}function uM(l){var u=l.alternate;u!==null&&(l.alternate=null,uM(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&yi(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var rr=null,ga=!1;function cl(l,u,p){for(p=p.child;p!==null;)dM(l,u,p),p=p.sibling}function dM(l,u,p){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Xn,p)}catch{}switch(p.tag){case 26:jr||ss(p,u),cl(l,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:jr||ss(p,u);var y=rr,_=ga;Cc(p.type)&&(rr=p.stateNode,ga=!1),cl(l,u,p),Bp(p.stateNode),rr=y,ga=_;break;case 5:jr||ss(p,u);case 6:if(y=rr,_=ga,rr=null,cl(l,u,p),rr=y,ga=_,rr!==null)if(ga)try{(rr.nodeType===9?rr.body:rr.nodeName==="HTML"?rr.ownerDocument.body:rr).removeChild(p.stateNode)}catch(P){Dn(p,u,P)}else try{rr.removeChild(p.stateNode)}catch(P){Dn(p,u,P)}break;case 18:rr!==null&&(ga?(l=rr,rR(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),Af(l)):rR(rr,p.stateNode));break;case 4:y=rr,_=ga,rr=p.stateNode.containerInfo,ga=!0,cl(l,u,p),rr=y,ga=_;break;case 0:case 11:case 14:case 15:vc(2,p,u),jr||vc(4,p,u),cl(l,u,p);break;case 1:jr||(ss(p,u),y=p.stateNode,typeof y.componentWillUnmount=="function"&&iM(p,u,y)),cl(l,u,p);break;case 21:cl(l,u,p);break;case 22:jr=(y=jr)||p.memoizedState!==null,cl(l,u,p),jr=y;break;default:cl(l,u,p)}}function fM(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Af(l)}catch(p){Dn(u,u.return,p)}}}function hM(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Af(l)}catch(p){Dn(u,u.return,p)}}function _V(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new lM),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new lM),u;default:throw Error(r(435,l.tag))}}function Tv(l,u){var p=_V(l);u.forEach(function(y){if(!p.has(y)){p.add(y);var _=jV.bind(null,l,y);y.then(_,_)}})}function va(l,u){var p=u.deletions;if(p!==null)for(var y=0;y<p.length;y++){var _=p[y],P=l,B=u,Q=B;e:for(;Q!==null;){switch(Q.tag){case 27:if(Cc(Q.type)){rr=Q.stateNode,ga=!1;break e}break;case 5:rr=Q.stateNode,ga=!1;break e;case 3:case 4:rr=Q.stateNode.containerInfo,ga=!0;break e}Q=Q.return}if(rr===null)throw Error(r(160));dM(P,B,_),rr=null,ga=!1,P=_.alternate,P!==null&&(P.return=null),_.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)pM(u,l),u=u.sibling}var jo=null;function pM(l,u){var p=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:va(u,l),ya(l),y&4&&(vc(3,l,l.return),Pp(3,l),vc(5,l,l.return));break;case 1:va(u,l),ya(l),y&512&&(jr||p===null||ss(p,p.return)),y&64&&ll&&(l=l.updateQueue,l!==null&&(y=l.callbacks,y!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var _=jo;if(va(u,l),ya(l),y&512&&(jr||p===null||ss(p,p.return)),y&4){var P=p!==null?p.memoizedState:null;if(y=l.memoizedState,p===null)if(y===null)if(l.stateNode===null){e:{y=l.type,p=l.memoizedProps,_=_.ownerDocument||_;t:switch(y){case"title":P=_.getElementsByTagName("title")[0],(!P||P[jn]||P[dn]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=_.createElement(y),_.head.insertBefore(P,_.querySelector("head > title"))),Ai(P,y,p),P[dn]=l,Ar(P),y=P;break e;case"link":var B=pR("link","href",_).get(y+(p.href||""));if(B){for(var Q=0;Q<B.length;Q++)if(P=B[Q],P.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&P.getAttribute("rel")===(p.rel==null?null:p.rel)&&P.getAttribute("title")===(p.title==null?null:p.title)&&P.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){B.splice(Q,1);break t}}P=_.createElement(y),Ai(P,y,p),_.head.appendChild(P);break;case"meta":if(B=pR("meta","content",_).get(y+(p.content||""))){for(Q=0;Q<B.length;Q++)if(P=B[Q],P.getAttribute("content")===(p.content==null?null:""+p.content)&&P.getAttribute("name")===(p.name==null?null:p.name)&&P.getAttribute("property")===(p.property==null?null:p.property)&&P.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&P.getAttribute("charset")===(p.charSet==null?null:p.charSet)){B.splice(Q,1);break t}}P=_.createElement(y),Ai(P,y,p),_.head.appendChild(P);break;default:throw Error(r(468,y))}P[dn]=l,Ar(P),y=P}l.stateNode=y}else mR(_,l.type,l.stateNode);else l.stateNode=hR(_,y,l.memoizedProps);else P!==y?(P===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):P.count--,y===null?mR(_,l.type,l.stateNode):hR(_,y,l.memoizedProps)):y===null&&l.stateNode!==null&&L1(l,l.memoizedProps,p.memoizedProps)}break;case 27:va(u,l),ya(l),y&512&&(jr||p===null||ss(p,p.return)),p!==null&&y&4&&L1(l,l.memoizedProps,p.memoizedProps);break;case 5:if(va(u,l),ya(l),y&512&&(jr||p===null||ss(p,p.return)),l.flags&32){_=l.stateNode;try{Vs(_,"")}catch(xt){Dn(l,l.return,xt)}}y&4&&l.stateNode!=null&&(_=l.memoizedProps,L1(l,_,p!==null?p.memoizedProps:_)),y&1024&&(z1=!0);break;case 6:if(va(u,l),ya(l),y&4){if(l.stateNode===null)throw Error(r(162));y=l.memoizedProps,p=l.stateNode;try{p.nodeValue=y}catch(xt){Dn(l,l.return,xt)}}break;case 3:if(Hv=null,_=jo,jo=Fv(u.containerInfo),va(u,l),jo=_,ya(l),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Af(u.containerInfo)}catch(xt){Dn(l,l.return,xt)}z1&&(z1=!1,mM(l));break;case 4:y=jo,jo=Fv(l.stateNode.containerInfo),va(u,l),ya(l),jo=y;break;case 12:va(u,l),ya(l);break;case 31:va(u,l),ya(l),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,Tv(l,y)));break;case 13:va(u,l),ya(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Pv=$e()),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,Tv(l,y)));break;case 22:_=l.memoizedState!==null;var le=p!==null&&p.memoizedState!==null,Ee=ll,Ie=jr;if(ll=Ee||_,jr=Ie||le,va(u,l),jr=Ie,ll=Ee,ya(l),y&8192)e:for(u=l.stateNode,u._visibility=_?u._visibility&-2:u._visibility|1,_&&(p===null||le||ll||jr||Ou(l)),p=null,u=l;;){if(u.tag===5||u.tag===26){if(p===null){le=p=u;try{if(P=le.stateNode,_)B=P.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{Q=le.stateNode;var Ye=le.memoizedProps.style,ke=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;Q.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(xt){Dn(le,le.return,xt)}}}else if(u.tag===6){if(p===null){le=u;try{le.stateNode.nodeValue=_?"":le.memoizedProps}catch(xt){Dn(le,le.return,xt)}}}else if(u.tag===18){if(p===null){le=u;try{var De=le.stateNode;_?iR(De,!0):iR(le.stateNode,!1)}catch(xt){Dn(le,le.return,xt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=l.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,Tv(l,p))));break;case 19:va(u,l),ya(l),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,Tv(l,y)));break;case 30:break;case 21:break;default:va(u,l),ya(l)}}function ya(l){var u=l.flags;if(u&2){try{for(var p,y=l.return;y!==null;){if(oM(y)){p=y;break}y=y.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var _=p.stateNode,P=N1(l);Ev(l,P,_);break;case 5:var B=p.stateNode;p.flags&32&&(Vs(B,""),p.flags&=-33);var Q=N1(l);Ev(l,Q,B);break;case 3:case 4:var le=p.stateNode.containerInfo,Ee=N1(l);I1(l,Ee,le);break;default:throw Error(r(161))}}catch(Ie){Dn(l,l.return,Ie)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function mM(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;mM(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function ul(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)cM(l,u.alternate,u),u=u.sibling}function Ou(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:vc(4,u,u.return),Ou(u);break;case 1:ss(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&iM(u,u.return,p),Ou(u);break;case 27:Bp(u.stateNode);case 26:case 5:ss(u,u.return),Ou(u);break;case 22:u.memoizedState===null&&Ou(u);break;case 30:Ou(u);break;default:Ou(u)}l=l.sibling}}function dl(l,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,_=l,P=u,B=P.flags;switch(P.tag){case 0:case 11:case 15:dl(_,P,p),Pp(4,P);break;case 1:if(dl(_,P,p),y=P,_=y.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Ee){Dn(y,y.return,Ee)}if(y=P,_=y.updateQueue,_!==null){var Q=y.stateNode;try{var le=_.shared.hiddenCallbacks;if(le!==null)for(_.shared.hiddenCallbacks=null,_=0;_<le.length;_++)G2(le[_],Q)}catch(Ee){Dn(y,y.return,Ee)}}p&&B&64&&rM(P),Op(P,P.return);break;case 27:sM(P);case 26:case 5:dl(_,P,p),p&&y===null&&B&4&&aM(P),Op(P,P.return);break;case 12:dl(_,P,p);break;case 31:dl(_,P,p),p&&B&4&&fM(_,P);break;case 13:dl(_,P,p),p&&B&4&&hM(_,P);break;case 22:P.memoizedState===null&&dl(_,P,p),Op(P,P.return);break;case 30:break;default:dl(_,P,p)}u=u.sibling}}function B1(l,u){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&gp(p))}function $1(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&gp(l))}function Lo(l,u,p,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)gM(l,u,p,y),u=u.sibling}function gM(l,u,p,y){var _=u.flags;switch(u.tag){case 0:case 11:case 15:Lo(l,u,p,y),_&2048&&Pp(9,u);break;case 1:Lo(l,u,p,y);break;case 3:Lo(l,u,p,y),_&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&gp(l)));break;case 12:if(_&2048){Lo(l,u,p,y),l=u.stateNode;try{var P=u.memoizedProps,B=P.id,Q=P.onPostCommit;typeof Q=="function"&&Q(B,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(le){Dn(u,u.return,le)}}else Lo(l,u,p,y);break;case 31:Lo(l,u,p,y);break;case 13:Lo(l,u,p,y);break;case 23:break;case 22:P=u.stateNode,B=u.alternate,u.memoizedState!==null?P._visibility&2?Lo(l,u,p,y):Dp(l,u):P._visibility&2?Lo(l,u,p,y):(P._visibility|=2,ff(l,u,p,y,(u.subtreeFlags&10256)!==0||!1)),_&2048&&B1(B,u);break;case 24:Lo(l,u,p,y),_&2048&&$1(u.alternate,u);break;default:Lo(l,u,p,y)}}function ff(l,u,p,y,_){for(_=_&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var P=l,B=u,Q=p,le=y,Ee=B.flags;switch(B.tag){case 0:case 11:case 15:ff(P,B,Q,le,_),Pp(8,B);break;case 23:break;case 22:var Ie=B.stateNode;B.memoizedState!==null?Ie._visibility&2?ff(P,B,Q,le,_):Dp(P,B):(Ie._visibility|=2,ff(P,B,Q,le,_)),_&&Ee&2048&&B1(B.alternate,B);break;case 24:ff(P,B,Q,le,_),_&&Ee&2048&&$1(B.alternate,B);break;default:ff(P,B,Q,le,_)}u=u.sibling}}function Dp(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=l,y=u,_=y.flags;switch(y.tag){case 22:Dp(p,y),_&2048&&B1(y.alternate,y);break;case 24:Dp(p,y),_&2048&&$1(y.alternate,y);break;default:Dp(p,y)}u=u.sibling}}var Mp=8192;function hf(l,u,p){if(l.subtreeFlags&Mp)for(l=l.child;l!==null;)vM(l,u,p),l=l.sibling}function vM(l,u,p){switch(l.tag){case 26:hf(l,u,p),l.flags&Mp&&l.memoizedState!==null&&dq(p,jo,l.memoizedState,l.memoizedProps);break;case 5:hf(l,u,p);break;case 3:case 4:var y=jo;jo=Fv(l.stateNode.containerInfo),hf(l,u,p),jo=y;break;case 22:l.memoizedState===null&&(y=l.alternate,y!==null&&y.memoizedState!==null?(y=Mp,Mp=16777216,hf(l,u,p),Mp=y):hf(l,u,p));break;default:hf(l,u,p)}}function yM(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function Rp(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];oi=y,xM(y,l)}yM(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)bM(l),l=l.sibling}function bM(l){switch(l.tag){case 0:case 11:case 15:Rp(l),l.flags&2048&&vc(9,l,l.return);break;case 3:Rp(l);break;case 12:Rp(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,kv(l)):Rp(l);break;default:Rp(l)}}function kv(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];oi=y,xM(y,l)}yM(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:vc(8,u,u.return),kv(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,kv(u));break;default:kv(u)}l=l.sibling}}function xM(l,u){for(;oi!==null;){var p=oi;switch(p.tag){case 0:case 11:case 15:vc(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:gp(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,oi=y;else e:for(p=l;oi!==null;){y=oi;var _=y.sibling,P=y.return;if(uM(y),y===p){oi=null;break e}if(_!==null){_.return=P,oi=_;break e}oi=P}}}var EV={getCacheForType:function(l){var u=wi(Dr),p=u.data.get(l);return p===void 0&&(p=l(),u.data.set(l,p)),p},cacheSignal:function(){return wi(Dr).controller.signal}},TV=typeof WeakMap=="function"?WeakMap:Map,Sn=0,Un=null,en=null,rn=0,On=0,Na=null,yc=!1,pf=!1,F1=!1,fl=0,yr=0,bc=0,Du=0,U1=0,Ia=0,mf=0,jp=null,ba=null,H1=!1,Pv=0,wM=0,Ov=1/0,Dv=null,xc=null,qr=0,wc=null,gf=null,hl=0,V1=0,q1=null,SM=null,Lp=0,G1=null;function za(){return(Sn&2)!==0&&rn!==0?rn&-rn:L.T!==null?Q1():Vr()}function AM(){if(Ia===0)if((rn&536870912)===0||sn){var l=un;un<<=1,(un&3932160)===0&&(un=262144),Ia=l}else Ia=536870912;return l=ja.current,l!==null&&(l.flags|=32),Ia}function xa(l,u,p){(l===Un&&(On===2||On===9)||l.cancelPendingCommit!==null)&&(vf(l,0),Sc(l,rn,Ia,!1)),hn(l,p),((Sn&2)===0||l!==Un)&&(l===Un&&((Sn&2)===0&&(Du|=p),yr===4&&Sc(l,rn,Ia,!1)),ls(l))}function CM(l,u,p){if((Sn&6)!==0)throw Error(r(327));var y=!p&&(u&127)===0&&(u&l.expiredLanes)===0||ei(l,u),_=y?OV(l,u):K1(l,u,!0),P=y;do{if(_===0){pf&&!y&&Sc(l,u,0,!1);break}else{if(p=l.current.alternate,P&&!kV(p)){_=K1(l,u,!1),P=!1;continue}if(_===2){if(P=u,l.errorRecoveryDisabledLanes&P)var B=0;else B=l.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){u=B;e:{var Q=l;_=jp;var le=Q.current.memoizedState.isDehydrated;if(le&&(vf(Q,B).flags|=256),B=K1(Q,B,!1),B!==2){if(F1&&!le){Q.errorRecoveryDisabledLanes|=P,Du|=P,_=4;break e}P=ba,ba=_,P!==null&&(ba===null?ba=P:ba.push.apply(ba,P))}_=B}if(P=!1,_!==2)continue}}if(_===1){vf(l,0),Sc(l,u,0,!0);break}e:{switch(y=l,P=_,P){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Sc(y,u,Ia,!yc);break e;case 2:ba=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(_=Pv+300-$e(),10<_)){if(Sc(y,u,Ia,!yc),ha(y,0,!0)!==0)break e;hl=u,y.timeoutHandle=tR(_M.bind(null,y,p,ba,Dv,H1,u,Ia,Du,mf,yc,P,"Throttled",-0,0),_);break e}_M(y,p,ba,Dv,H1,u,Ia,Du,mf,yc,P,null,-0,0)}}break}while(!0);ls(l)}function _M(l,u,p,y,_,P,B,Q,le,Ee,Ie,Ye,ke,De){if(l.timeoutHandle=-1,Ye=u.subtreeFlags,Ye&8192||(Ye&16785408)===16785408){Ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ma},vM(u,P,Ye);var xt=(P&62914560)===P?Pv-$e():(P&4194048)===P?wM-$e():0;if(xt=fq(Ye,xt),xt!==null){hl=P,l.cancelPendingCommit=xt(RM.bind(null,l,u,P,p,y,_,B,Q,le,Ie,Ye,null,ke,De)),Sc(l,P,B,!Ee);return}}RM(l,u,P,p,y,_,B,Q,le)}function kV(l){for(var u=l;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var _=p[y],P=_.getSnapshot;_=_.value;try{if(!zi(P(),_))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Sc(l,u,p,y){u&=~U1,u&=~Du,l.suspendedLanes|=u,l.pingedLanes&=~u,y&&(l.warmLanes|=u),y=l.expirationTimes;for(var _=u;0<_;){var P=31-et(_),B=1<<P;y[P]=-1,_&=~B}p!==0&&Za(l,p,u)}function Mv(){return(Sn&6)===0?(Np(0),!1):!0}function Y1(){if(en!==null){if(On===0)var l=en.return;else l=en,nl=Su=null,c1(l),sf=null,yp=0,l=en;for(;l!==null;)nM(l.alternate,l),l=l.return;en=null}}function vf(l,u){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,KV(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),hl=0,Y1(),Un=l,en=p=el(l.current,null),rn=u,On=0,Na=null,yc=!1,pf=ei(l,u),F1=!1,mf=Ia=U1=Du=bc=yr=0,ba=jp=null,H1=!1,(u&8)!==0&&(u|=u&32);var y=l.entangledLanes;if(y!==0)for(l=l.entanglements,y&=u;0<y;){var _=31-et(y),P=1<<_;u|=l[_],y&=~P}return fl=u,zt(),p}function EM(l,u){qt=null,L.H=Ep,u===of||u===sv?(u=U2(),On=3):u===Zw?(u=U2(),On=4):On=u===_1?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Na=u,en===null&&(yr=1,wv(l,ro(u,l.current)))}function TM(){var l=ja.current;return l===null?!0:(rn&4194048)===rn?so===null:(rn&62914560)===rn||(rn&536870912)!==0?l===so:!1}function kM(){var l=L.H;return L.H=Ep,l===null?Ep:l}function PM(){var l=L.A;return L.A=EV,l}function Rv(){yr=4,yc||(rn&4194048)!==rn&&ja.current!==null||(pf=!0),(bc&134217727)===0&&(Du&134217727)===0||Un===null||Sc(Un,rn,Ia,!1)}function K1(l,u,p){var y=Sn;Sn|=2;var _=kM(),P=PM();(Un!==l||rn!==u)&&(Dv=null,vf(l,u)),u=!1;var B=yr;e:do try{if(On!==0&&en!==null){var Q=en,le=Na;switch(On){case 8:Y1(),B=6;break e;case 3:case 2:case 9:case 6:ja.current===null&&(u=!0);var Ee=On;if(On=0,Na=null,yf(l,Q,le,Ee),p&&pf){B=0;break e}break;default:Ee=On,On=0,Na=null,yf(l,Q,le,Ee)}}PV(),B=yr;break}catch(Ie){EM(l,Ie)}while(!0);return u&&l.shellSuspendCounter++,nl=Su=null,Sn=y,L.H=_,L.A=P,en===null&&(Un=null,rn=0,zt()),B}function PV(){for(;en!==null;)OM(en)}function OV(l,u){var p=Sn;Sn|=2;var y=kM(),_=PM();Un!==l||rn!==u?(Dv=null,Ov=$e()+500,vf(l,u)):pf=ei(l,u);e:do try{if(On!==0&&en!==null){u=en;var P=Na;t:switch(On){case 1:On=0,Na=null,yf(l,u,P,1);break;case 2:case 9:if($2(P)){On=0,Na=null,DM(u);break}u=function(){On!==2&&On!==9||Un!==l||(On=7),ls(l)},P.then(u,u);break e;case 3:On=7;break e;case 4:On=5;break e;case 7:$2(P)?(On=0,Na=null,DM(u)):(On=0,Na=null,yf(l,u,P,7));break;case 5:var B=null;switch(en.tag){case 26:B=en.memoizedState;case 5:case 27:var Q=en;if(B?gR(B):Q.stateNode.complete){On=0,Na=null;var le=Q.sibling;if(le!==null)en=le;else{var Ee=Q.return;Ee!==null?(en=Ee,jv(Ee)):en=null}break t}}On=0,Na=null,yf(l,u,P,5);break;case 6:On=0,Na=null,yf(l,u,P,6);break;case 8:Y1(),yr=6;break e;default:throw Error(r(462))}}DV();break}catch(Ie){EM(l,Ie)}while(!0);return nl=Su=null,L.H=y,L.A=_,Sn=p,en!==null?0:(Un=null,rn=0,zt(),yr)}function DV(){for(;en!==null&&!ft();)OM(en)}function OM(l){var u=eM(l.alternate,l,fl);l.memoizedProps=l.pendingProps,u===null?jv(l):en=u}function DM(l){var u=l,p=u.alternate;switch(u.tag){case 15:case 0:u=KD(p,u,u.pendingProps,u.type,void 0,rn);break;case 11:u=KD(p,u,u.pendingProps,u.type.render,u.ref,rn);break;case 5:c1(u);default:nM(p,u),u=en=P2(u,fl),u=eM(p,u,fl)}l.memoizedProps=l.pendingProps,u===null?jv(l):en=u}function yf(l,u,p,y){nl=Su=null,c1(u),sf=null,yp=0;var _=u.return;try{if(bV(l,_,u,p,rn)){yr=1,wv(l,ro(p,l.current)),en=null;return}}catch(P){if(_!==null)throw en=_,P;yr=1,wv(l,ro(p,l.current)),en=null;return}u.flags&32768?(sn||y===1?l=!0:pf||(rn&536870912)!==0?l=!1:(yc=l=!0,(y===2||y===9||y===3||y===6)&&(y=ja.current,y!==null&&y.tag===13&&(y.flags|=16384))),MM(u,l)):jv(u)}function jv(l){var u=l;do{if((u.flags&32768)!==0){MM(u,yc);return}l=u.return;var p=SV(u.alternate,u,fl);if(p!==null){en=p;return}if(u=u.sibling,u!==null){en=u;return}en=u=l}while(u!==null);yr===0&&(yr=5)}function MM(l,u){do{var p=AV(l.alternate,l);if(p!==null){p.flags&=32767,en=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(l=l.sibling,l!==null)){en=l;return}en=l=p}while(l!==null);yr=6,en=null}function RM(l,u,p,y,_,P,B,Q,le){l.cancelPendingCommit=null;do Lv();while(qr!==0);if((Sn&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(P=u.lanes|u.childLanes,P|=Et,Xa(l,p,P,B,Q,le),l===Un&&(en=Un=null,rn=0),gf=u,wc=l,hl=p,V1=P,q1=_,SM=y,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,LV(Jt,function(){return zM(),null})):(l.callbackNode=null,l.callbackPriority=0),y=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||y){y=L.T,L.T=null,_=U.p,U.p=2,B=Sn,Sn|=4;try{CV(l,u,p)}finally{Sn=B,U.p=_,L.T=y}}qr=1,jM(),LM(),NM()}}function jM(){if(qr===1){qr=0;var l=wc,u=gf,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=L.T,L.T=null;var y=U.p;U.p=2;var _=Sn;Sn|=4;try{pM(u,l);var P=oS,B=H(l.containerInfo),Q=P.focusedElem,le=P.selectionRange;if(B!==Q&&Q&&Q.ownerDocument&&I(Q.ownerDocument.documentElement,Q)){if(le!==null&&Z(Q)){var Ee=le.start,Ie=le.end;if(Ie===void 0&&(Ie=Ee),"selectionStart"in Q)Q.selectionStart=Ee,Q.selectionEnd=Math.min(Ie,Q.value.length);else{var Ye=Q.ownerDocument||document,ke=Ye&&Ye.defaultView||window;if(ke.getSelection){var De=ke.getSelection(),xt=Q.textContent.length,Ot=Math.min(le.start,xt),zn=le.end===void 0?Ot:Math.min(le.end,xt);!De.extend&&Ot>zn&&(B=zn,zn=Ot,Ot=B);var we=j(Q,Ot),ve=j(Q,zn);if(we&&ve&&(De.rangeCount!==1||De.anchorNode!==we.node||De.anchorOffset!==we.offset||De.focusNode!==ve.node||De.focusOffset!==ve.offset)){var _e=Ye.createRange();_e.setStart(we.node,we.offset),De.removeAllRanges(),Ot>zn?(De.addRange(_e),De.extend(ve.node,ve.offset)):(_e.setEnd(ve.node,ve.offset),De.addRange(_e))}}}}for(Ye=[],De=Q;De=De.parentNode;)De.nodeType===1&&Ye.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Ye.length;Q++){var Fe=Ye[Q];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}Yv=!!aS,oS=aS=null}finally{Sn=_,U.p=y,L.T=p}}l.current=u,qr=2}}function LM(){if(qr===2){qr=0;var l=wc,u=gf,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=L.T,L.T=null;var y=U.p;U.p=2;var _=Sn;Sn|=4;try{cM(l,u.alternate,u)}finally{Sn=_,U.p=y,L.T=p}}qr=3}}function NM(){if(qr===4||qr===3){qr=0,vt();var l=wc,u=gf,p=hl,y=SM;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?qr=5:(qr=0,gf=wc=null,IM(l,l.pendingLanes));var _=l.pendingLanes;if(_===0&&(xc=null),Hr(p),u=u.stateNode,bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Xn,u,void 0,(u.current.flags&128)===128)}catch{}if(y!==null){u=L.T,_=U.p,U.p=2,L.T=null;try{for(var P=l.onRecoverableError,B=0;B<y.length;B++){var Q=y[B];P(Q.value,{componentStack:Q.stack})}}finally{L.T=u,U.p=_}}(hl&3)!==0&&Lv(),ls(l),_=l.pendingLanes,(p&261930)!==0&&(_&42)!==0?l===G1?Lp++:(Lp=0,G1=l):Lp=0,Np(0)}}function IM(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,gp(u)))}function Lv(){return jM(),LM(),NM(),zM()}function zM(){if(qr!==5)return!1;var l=wc,u=V1;V1=0;var p=Hr(hl),y=L.T,_=U.p;try{U.p=32>p?32:p,L.T=null,p=q1,q1=null;var P=wc,B=hl;if(qr=0,gf=wc=null,hl=0,(Sn&6)!==0)throw Error(r(331));var Q=Sn;if(Sn|=4,bM(P.current),gM(P,P.current,B,p),Sn=Q,Np(0,!1),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Xn,P)}catch{}return!0}finally{U.p=_,L.T=y,IM(l,u)}}function BM(l,u,p){u=ro(p,u),u=C1(l.stateNode,u,2),l=pc(l,u,2),l!==null&&(hn(l,2),ls(l))}function Dn(l,u,p){if(l.tag===3)BM(l,l,p);else for(;u!==null;){if(u.tag===3){BM(u,l,p);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(xc===null||!xc.has(y))){l=ro(p,l),p=$D(2),y=pc(u,p,2),y!==null&&(FD(p,y,u,l),hn(y,2),ls(y));break}}u=u.return}}function W1(l,u,p){var y=l.pingCache;if(y===null){y=l.pingCache=new TV;var _=new Set;y.set(u,_)}else _=y.get(u),_===void 0&&(_=new Set,y.set(u,_));_.has(p)||(F1=!0,_.add(p),l=MV.bind(null,l,u,p),u.then(l,l))}function MV(l,u,p){var y=l.pingCache;y!==null&&y.delete(u),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,Un===l&&(rn&p)===p&&(yr===4||yr===3&&(rn&62914560)===rn&&300>$e()-Pv?(Sn&2)===0&&vf(l,0):U1|=p,mf===rn&&(mf=0)),ls(l)}function $M(l,u){u===0&&(u=Pn()),l=kn(l,u),l!==null&&(hn(l,u),ls(l))}function RV(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),$M(l,p)}function jV(l,u){var p=0;switch(l.tag){case 31:case 13:var y=l.stateNode,_=l.memoizedState;_!==null&&(p=_.retryLane);break;case 19:y=l.stateNode;break;case 22:y=l.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(u),$M(l,p)}function LV(l,u){return Je(l,u)}var Nv=null,bf=null,X1=!1,Iv=!1,Z1=!1,Ac=0;function ls(l){l!==bf&&l.next===null&&(bf===null?Nv=bf=l:bf=bf.next=l),Iv=!0,X1||(X1=!0,IV())}function Np(l,u){if(!Z1&&Iv){Z1=!0;do for(var p=!1,y=Nv;y!==null;){if(l!==0){var _=y.pendingLanes;if(_===0)var P=0;else{var B=y.suspendedLanes,Q=y.pingedLanes;P=(1<<31-et(42|l)+1)-1,P&=_&~(B&~Q),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(p=!0,VM(y,P))}else P=rn,P=ha(y,y===Un?P:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(P&3)===0||ei(y,P)||(p=!0,VM(y,P));y=y.next}while(p);Z1=!1}}function NV(){FM()}function FM(){Iv=X1=!1;var l=0;Ac!==0&&YV()&&(l=Ac);for(var u=$e(),p=null,y=Nv;y!==null;){var _=y.next,P=UM(y,u);P===0?(y.next=null,p===null?Nv=_:p.next=_,_===null&&(bf=p)):(p=y,(l!==0||(P&3)!==0)&&(Iv=!0)),y=_}qr!==0&&qr!==5||Np(l),Ac!==0&&(Ac=0)}function UM(l,u){for(var p=l.suspendedLanes,y=l.pingedLanes,_=l.expirationTimes,P=l.pendingLanes&-62914561;0<P;){var B=31-et(P),Q=1<<B,le=_[B];le===-1?((Q&p)===0||(Q&y)!==0)&&(_[B]=Oa(Q,u)):le<=u&&(l.expiredLanes|=Q),P&=~Q}if(u=Un,p=rn,p=ha(l,l===u?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y=l.callbackNode,p===0||l===u&&(On===2||On===9)||l.cancelPendingCommit!==null)return y!==null&&y!==null&&wt(y),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||ei(l,p)){if(u=p&-p,u===l.callbackPriority)return u;switch(y!==null&&wt(y),Hr(p)){case 2:case 8:p=qe;break;case 32:p=Jt;break;case 268435456:p=Ht;break;default:p=Jt}return y=HM.bind(null,l),p=Je(p,y),l.callbackPriority=u,l.callbackNode=p,u}return y!==null&&y!==null&&wt(y),l.callbackPriority=2,l.callbackNode=null,2}function HM(l,u){if(qr!==0&&qr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(Lv()&&l.callbackNode!==p)return null;var y=rn;return y=ha(l,l===Un?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y===0?null:(CM(l,y,u),UM(l,$e()),l.callbackNode!=null&&l.callbackNode===p?HM.bind(null,l):null)}function VM(l,u){if(Lv())return null;CM(l,u,!0)}function IV(){WV(function(){(Sn&6)!==0?Je(Ge,NV):FM()})}function Q1(){if(Ac===0){var l=rf;l===0&&(l=tt,tt<<=1,(tt&261888)===0&&(tt=256)),Ac=l}return Ac}function qM(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Ro(""+l)}function GM(l,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,l.id&&p.setAttribute("form",l.id),u.parentNode.insertBefore(p,u),l=new FormData(l),p.parentNode.removeChild(p),l}function zV(l,u,p,y,_){if(u==="submit"&&p&&p.stateNode===_){var P=qM((_[Fn]||null).action),B=y.submitter;B&&(u=(u=B[Fn]||null)?qM(u.formAction):B.getAttribute("formAction"),u!==null&&(P=u,B=null));var Q=new Id("action","action",null,y,_);l.push({event:Q,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Ac!==0){var le=B?GM(_,B):new FormData(_);y1(p,{pending:!0,data:le,method:_.method,action:P},null,le)}}else typeof P=="function"&&(Q.preventDefault(),le=B?GM(_,B):new FormData(_),y1(p,{pending:!0,data:le,method:_.method,action:P},P,le))},currentTarget:_}]})}}for(var J1=0;J1<dt.length;J1++){var eS=dt[J1],BV=eS.toLowerCase(),$V=eS[0].toUpperCase()+eS.slice(1);Ze(BV,"on"+$V)}Ze(Te,"onAnimationEnd"),Ze(Ae,"onAnimationIteration"),Ze(Ne,"onAnimationStart"),Ze("dblclick","onDoubleClick"),Ze("focusin","onFocus"),Ze("focusout","onBlur"),Ze(Ke,"onTransitionRun"),Ze(ot,"onTransitionStart"),Ze(st,"onTransitionCancel"),Ze(Xe,"onTransitionEnd"),Jo("onMouseEnter",["mouseout","mouseover"]),Jo("onMouseLeave",["mouseout","mouseover"]),Jo("onPointerEnter",["pointerout","pointerover"]),Jo("onPointerLeave",["pointerout","pointerover"]),Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Do("onBeforeInput",["compositionend","keypress","textInput","paste"]),Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ip="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ip));function YM(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var y=l[p],_=y.event;y=y.listeners;e:{var P=void 0;if(u)for(var B=y.length-1;0<=B;B--){var Q=y[B],le=Q.instance,Ee=Q.currentTarget;if(Q=Q.listener,le!==P&&_.isPropagationStopped())break e;P=Q,_.currentTarget=Ee;try{P(_)}catch(Ie){mt(Ie)}_.currentTarget=null,P=le}else for(B=0;B<y.length;B++){if(Q=y[B],le=Q.instance,Ee=Q.currentTarget,Q=Q.listener,le!==P&&_.isPropagationStopped())break e;P=Q,_.currentTarget=Ee;try{P(_)}catch(Ie){mt(Ie)}_.currentTarget=null,P=le}}}}function tn(l,u){var p=u[Qa];p===void 0&&(p=u[Qa]=new Set);var y=l+"__bubble";p.has(y)||(KM(u,l,2,!1),p.add(y))}function tS(l,u,p){var y=0;u&&(y|=4),KM(p,l,y,u)}var zv="_reactListening"+Math.random().toString(36).slice(2);function nS(l){if(!l[zv]){l[zv]=!0,Us.forEach(function(p){p!=="selectionchange"&&(FV.has(p)||tS(p,!1,l),tS(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[zv]||(u[zv]=!0,tS("selectionchange",!1,u))}}function KM(l,u,p,y){switch(AR(u)){case 2:var _=mq;break;case 8:_=gq;break;default:_=vS}p=_.bind(null,u,p,l),_=void 0,!ep||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),y?_!==void 0?l.addEventListener(u,p,{capture:!0,passive:_}):l.addEventListener(u,p,!0):_!==void 0?l.addEventListener(u,p,{passive:_}):l.addEventListener(u,p,!1)}function rS(l,u,p,y,_){var P=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var B=y.tag;if(B===3||B===4){var Q=y.stateNode.containerInfo;if(Q===_)break;if(B===4)for(B=y.return;B!==null;){var le=B.tag;if((le===3||le===4)&&B.stateNode.containerInfo===_)return;B=B.return}for(;Q!==null;){if(B=Vt(Q),B===null)return;if(le=B.tag,le===5||le===6||le===26||le===27){y=P=B;continue e}Q=Q.parentNode}}y=y.return}Ql(function(){var Ee=P,Ie=Ld(p),Ye=[];e:{var ke=pt.get(l);if(ke!==void 0){var De=Id,xt=l;switch(l){case"keypress":if(tc(p)===0)break e;case"keydown":case"keyup":De=Vd;break;case"focusin":xt="focus",De=nc;break;case"focusout":xt="blur",De=nc;break;case"beforeblur":case"afterblur":De=nc;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=$d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=sp;break;case Te:case Ae:case Ne:De=Gg;break;case Xe:De=lp;break;case"scroll":case"scrollend":De=zd;break;case"wheel":De=Gd;break;case"copy":case"cut":case"paste":De=rc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=op;break;case"toggle":case"beforetoggle":De=Wg}var Ot=(u&4)!==0,zn=!Ot&&(l==="scroll"||l==="scrollend"),we=Ot?ke!==null?ke+"Capture":null:ke;Ot=[];for(var ve=Ee,_e;ve!==null;){var Fe=ve;if(_e=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||_e===null||we===null||(Fe=Ys(ve,we),Fe!=null&&Ot.push(zp(ve,Fe,_e))),zn)break;ve=ve.return}0<Ot.length&&(ke=new De(ke,xt,null,p,Ie),Ye.push({event:ke,listeners:Ot}))}}if((u&7)===0){e:{if(ke=l==="mouseover"||l==="pointerover",De=l==="mouseout"||l==="pointerout",ke&&p!==eo&&(xt=p.relatedTarget||p.fromElement)&&(Vt(xt)||xt[Pr]))break e;if((De||ke)&&(ke=Ie.window===Ie?Ie:(ke=Ie.ownerDocument)?ke.defaultView||ke.parentWindow:window,De?(xt=p.relatedTarget||p.toElement,De=Ee,xt=xt?Vt(xt):null,xt!==null&&(zn=a(xt),Ot=xt.tag,xt!==zn||Ot!==5&&Ot!==27&&Ot!==6)&&(xt=null)):(De=null,xt=Ee),De!==xt)){if(Ot=$d,Fe="onMouseLeave",we="onMouseEnter",ve="mouse",(l==="pointerout"||l==="pointerover")&&(Ot=op,Fe="onPointerLeave",we="onPointerEnter",ve="pointer"),zn=De==null?ke:Zi(De),_e=xt==null?ke:Zi(xt),ke=new Ot(Fe,ve+"leave",De,p,Ie),ke.target=zn,ke.relatedTarget=_e,Fe=null,Vt(Ie)===Ee&&(Ot=new Ot(we,ve+"enter",xt,p,Ie),Ot.target=_e,Ot.relatedTarget=zn,Fe=Ot),zn=Fe,De&&xt)t:{for(Ot=UV,we=De,ve=xt,_e=0,Fe=we;Fe;Fe=Ot(Fe))_e++;Fe=0;for(var Tt=ve;Tt;Tt=Ot(Tt))Fe++;for(;0<_e-Fe;)we=Ot(we),_e--;for(;0<Fe-_e;)ve=Ot(ve),Fe--;for(;_e--;){if(we===ve||ve!==null&&we===ve.alternate){Ot=we;break t}we=Ot(we),ve=Ot(ve)}Ot=null}else Ot=null;De!==null&&WM(Ye,ke,De,Ot,!1),xt!==null&&zn!==null&&WM(Ye,zn,xt,Ot,!0)}}e:{if(ke=Ee?Zi(Ee):window,De=ke.nodeName&&ke.nodeName.toLowerCase(),De==="select"||De==="input"&&ke.type==="file")var mn=bu;else if(Wd(ke))if(no)mn=oc;else{mn=Js;var St=tv}else De=ke.nodeName,!De||De.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Ee&&Jh(Ee.elementType)&&(mn=bu):mn=hp;if(mn&&(mn=mn(l,Ee))){fp(Ye,mn,p,Ie);break e}St&&St(l,ke,Ee),l==="focusout"&&Ee&&ke.type==="number"&&Ee.memoizedProps.value!=null&&du(ke,"number",ke.value)}switch(St=Ee?Zi(Ee):window,l){case"focusin":(Wd(St)||St.contentEditable==="true")&&(re=St,fe=Ee,Se=null);break;case"focusout":Se=fe=re=null;break;case"mousedown":he=!0;break;case"contextmenu":case"mouseup":case"dragend":he=!1,de(Ye,p,Ie);break;case"selectionchange":if(ee)break;case"keydown":case"keyup":de(Ye,p,Ie)}var Yt;if(vu)e:{switch(l){case"compositionstart":var an="onCompositionStart";break e;case"compositionend":an="onCompositionEnd";break e;case"compositionupdate":an="onCompositionUpdate";break e}an=void 0}else Zs?dp(l,p)&&(an="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(an="onCompositionStart");an&&(Yd&&p.locale!=="ko"&&(Zs||an!=="onCompositionStart"?an==="onCompositionEnd"&&Zs&&(Yt=ec()):(to=Ie,Nd="value"in to?to.value:to.textContent,Zs=!0)),St=Bv(Ee,an),0<St.length&&(an=new Hd(an,l,null,p,Ie),Ye.push({event:an,listeners:St}),Yt?an.data=Yt:(Yt=Zg(p),Yt!==null&&(an.data=Yt)))),(Yt=Lw?Qg(l,p):Nw(l,p))&&(an=Bv(Ee,"onBeforeInput"),0<an.length&&(St=new Hd("onBeforeInput","beforeinput",null,p,Ie),Ye.push({event:St,listeners:an}),St.data=Yt)),zV(Ye,l,Ee,p,Ie)}YM(Ye,u)})}function zp(l,u,p){return{instance:l,listener:u,currentTarget:p}}function Bv(l,u){for(var p=u+"Capture",y=[];l!==null;){var _=l,P=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||P===null||(_=Ys(l,p),_!=null&&y.unshift(zp(l,_,P)),_=Ys(l,u),_!=null&&y.push(zp(l,_,P))),l.tag===3)return y;l=l.return}return[]}function UV(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function WM(l,u,p,y,_){for(var P=u._reactName,B=[];p!==null&&p!==y;){var Q=p,le=Q.alternate,Ee=Q.stateNode;if(Q=Q.tag,le!==null&&le===y)break;Q!==5&&Q!==26&&Q!==27||Ee===null||(le=Ee,_?(Ee=Ys(p,P),Ee!=null&&B.unshift(zp(p,Ee,le))):_||(Ee=Ys(p,P),Ee!=null&&B.push(zp(p,Ee,le)))),p=p.return}B.length!==0&&l.push({event:u,listeners:B})}var HV=/\r\n?/g,VV=/\u0000|\uFFFD/g;function XM(l){return(typeof l=="string"?l:""+l).replace(HV,`
`).replace(VV,"")}function ZM(l,u){return u=XM(u),XM(l)===u}function In(l,u,p,y,_,P){switch(p){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||Vs(l,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&Vs(l,""+y);break;case"className":cu(l,"class",y);break;case"tabIndex":cu(l,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":cu(l,p,y);break;case"style":Qh(l,y,P);break;case"data":if(u!=="object"){cu(l,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||p!=="href")){l.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(p);break}y=Ro(""+y),l.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(p==="formAction"?(u!=="input"&&In(l,u,"name",_.name,_,null),In(l,u,"formEncType",_.formEncType,_,null),In(l,u,"formMethod",_.formMethod,_,null),In(l,u,"formTarget",_.formTarget,_,null)):(In(l,u,"encType",_.encType,_,null),In(l,u,"method",_.method,_,null),In(l,u,"target",_.target,_,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(p);break}y=Ro(""+y),l.setAttribute(p,y);break;case"onClick":y!=null&&(l.onclick=ma);break;case"onScroll":y!=null&&tn("scroll",l);break;case"onScrollEnd":y!=null&&tn("scrollend",l);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(_.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"multiple":l.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":l.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){l.removeAttribute("xlink:href");break}p=Ro(""+y),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,""+y):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":y===!0?l.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,y):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?l.setAttribute(p,y):l.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?l.removeAttribute(p):l.setAttribute(p,y);break;case"popover":tn("beforetoggle",l),tn("toggle",l),Xt(l,"popover",y);break;case"xlinkActuate":Ja(l,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Ja(l,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Ja(l,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Ja(l,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Ja(l,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Ja(l,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Ja(l,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Ja(l,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Ja(l,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Xt(l,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Mw.get(p)||p,Xt(l,p,y))}}function iS(l,u,p,y,_,P){switch(p){case"style":Qh(l,y,P);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(_.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"children":typeof y=="string"?Vs(l,y):(typeof y=="number"||typeof y=="bigint")&&Vs(l,""+y);break;case"onScroll":y!=null&&tn("scroll",l);break;case"onScrollEnd":y!=null&&tn("scrollend",l);break;case"onClick":y!=null&&(l.onclick=ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!su.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(_=p.endsWith("Capture"),u=p.slice(2,_?p.length-7:void 0),P=l[Fn]||null,P=P!=null?P[p]:null,typeof P=="function"&&l.removeEventListener(u,P,_),typeof y=="function")){typeof P!="function"&&P!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(u,y,_);break e}p in l?l[p]=y:y===!0?l.setAttribute(p,""):Xt(l,p,y)}}}function Ai(l,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tn("error",l),tn("load",l);var y=!1,_=!1,P;for(P in p)if(p.hasOwnProperty(P)){var B=p[P];if(B!=null)switch(P){case"src":y=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:In(l,u,P,B,p,null)}}_&&In(l,u,"srcSet",p.srcSet,p,null),y&&In(l,u,"src",p.src,p,null);return;case"input":tn("invalid",l);var Q=P=B=_=null,le=null,Ee=null;for(y in p)if(p.hasOwnProperty(y)){var Ie=p[y];if(Ie!=null)switch(y){case"name":_=Ie;break;case"type":B=Ie;break;case"checked":le=Ie;break;case"defaultChecked":Ee=Ie;break;case"value":P=Ie;break;case"defaultValue":Q=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,u));break;default:In(l,u,y,Ie,p,null)}}jd(l,P,Q,le,Ee,B,_,!1);return;case"select":tn("invalid",l),y=B=P=null;for(_ in p)if(p.hasOwnProperty(_)&&(Q=p[_],Q!=null))switch(_){case"value":P=Q;break;case"defaultValue":B=Q;break;case"multiple":y=Q;default:In(l,u,_,Q,p,null)}u=P,p=B,l.multiple=!!y,u!=null?Mo(l,!!y,u,!1):p!=null&&Mo(l,!!y,p,!0);return;case"textarea":tn("invalid",l),P=_=y=null;for(B in p)if(p.hasOwnProperty(B)&&(Q=p[B],Q!=null))switch(B){case"value":y=Q;break;case"defaultValue":_=Q;break;case"children":P=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:In(l,u,B,Q,p,null)}fu(l,y,_,P);return;case"option":for(le in p)p.hasOwnProperty(le)&&(y=p[le],y!=null)&&(le==="selected"?l.selected=y&&typeof y!="function"&&typeof y!="symbol":In(l,u,le,y,p,null));return;case"dialog":tn("beforetoggle",l),tn("toggle",l),tn("cancel",l),tn("close",l);break;case"iframe":case"object":tn("load",l);break;case"video":case"audio":for(y=0;y<Ip.length;y++)tn(Ip[y],l);break;case"image":tn("error",l),tn("load",l);break;case"details":tn("toggle",l);break;case"embed":case"source":case"link":tn("error",l),tn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in p)if(p.hasOwnProperty(Ee)&&(y=p[Ee],y!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:In(l,u,Ee,y,p,null)}return;default:if(Jh(u)){for(Ie in p)p.hasOwnProperty(Ie)&&(y=p[Ie],y!==void 0&&iS(l,u,Ie,y,p,void 0));return}}for(Q in p)p.hasOwnProperty(Q)&&(y=p[Q],y!=null&&In(l,u,Q,y,p,null))}function qV(l,u,p,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,P=null,B=null,Q=null,le=null,Ee=null,Ie=null;for(De in p){var Ye=p[De];if(p.hasOwnProperty(De)&&Ye!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":le=Ye;default:y.hasOwnProperty(De)||In(l,u,De,null,y,Ye)}}for(var ke in y){var De=y[ke];if(Ye=p[ke],y.hasOwnProperty(ke)&&(De!=null||Ye!=null))switch(ke){case"type":P=De;break;case"name":_=De;break;case"checked":Ee=De;break;case"defaultChecked":Ie=De;break;case"value":B=De;break;case"defaultValue":Q=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,u));break;default:De!==Ye&&In(l,u,ke,De,y,Ye)}}es(l,B,Q,le,Ee,Ie,P,_);return;case"select":De=B=Q=ke=null;for(P in p)if(le=p[P],p.hasOwnProperty(P)&&le!=null)switch(P){case"value":break;case"multiple":De=le;default:y.hasOwnProperty(P)||In(l,u,P,null,y,le)}for(_ in y)if(P=y[_],le=p[_],y.hasOwnProperty(_)&&(P!=null||le!=null))switch(_){case"value":ke=P;break;case"defaultValue":Q=P;break;case"multiple":B=P;default:P!==le&&In(l,u,_,P,y,le)}u=Q,p=B,y=De,ke!=null?Mo(l,!!p,ke,!1):!!y!=!!p&&(u!=null?Mo(l,!!p,u,!0):Mo(l,!!p,p?[]:"",!1));return;case"textarea":De=ke=null;for(Q in p)if(_=p[Q],p.hasOwnProperty(Q)&&_!=null&&!y.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:In(l,u,Q,null,y,_)}for(B in y)if(_=y[B],P=p[B],y.hasOwnProperty(B)&&(_!=null||P!=null))switch(B){case"value":ke=_;break;case"defaultValue":De=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==P&&In(l,u,B,_,y,P)}Zh(l,ke,De);return;case"option":for(var xt in p)ke=p[xt],p.hasOwnProperty(xt)&&ke!=null&&!y.hasOwnProperty(xt)&&(xt==="selected"?l.selected=!1:In(l,u,xt,null,y,ke));for(le in y)ke=y[le],De=p[le],y.hasOwnProperty(le)&&ke!==De&&(ke!=null||De!=null)&&(le==="selected"?l.selected=ke&&typeof ke!="function"&&typeof ke!="symbol":In(l,u,le,ke,y,De));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in p)ke=p[Ot],p.hasOwnProperty(Ot)&&ke!=null&&!y.hasOwnProperty(Ot)&&In(l,u,Ot,null,y,ke);for(Ee in y)if(ke=y[Ee],De=p[Ee],y.hasOwnProperty(Ee)&&ke!==De&&(ke!=null||De!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,u));break;default:In(l,u,Ee,ke,y,De)}return;default:if(Jh(u)){for(var zn in p)ke=p[zn],p.hasOwnProperty(zn)&&ke!==void 0&&!y.hasOwnProperty(zn)&&iS(l,u,zn,void 0,y,ke);for(Ie in y)ke=y[Ie],De=p[Ie],!y.hasOwnProperty(Ie)||ke===De||ke===void 0&&De===void 0||iS(l,u,Ie,ke,y,De);return}}for(var we in p)ke=p[we],p.hasOwnProperty(we)&&ke!=null&&!y.hasOwnProperty(we)&&In(l,u,we,null,y,ke);for(Ye in y)ke=y[Ye],De=p[Ye],!y.hasOwnProperty(Ye)||ke===De||ke==null&&De==null||In(l,u,Ye,ke,y,De)}function QM(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GV(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var _=p[y],P=_.transferSize,B=_.initiatorType,Q=_.duration;if(P&&Q&&QM(B)){for(B=0,Q=_.responseEnd,y+=1;y<p.length;y++){var le=p[y],Ee=le.startTime;if(Ee>Q)break;var Ie=le.transferSize,Ye=le.initiatorType;Ie&&QM(Ye)&&(le=le.responseEnd,B+=Ie*(le<Q?1:(Q-Ee)/(le-Ee)))}if(--y,u+=8*(P+B)/(_.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var aS=null,oS=null;function $v(l){return l.nodeType===9?l:l.ownerDocument}function JM(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eR(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function sS(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var lS=null;function YV(){var l=window.event;return l&&l.type==="popstate"?l===lS?!1:(lS=l,!0):(lS=null,!1)}var tR=typeof setTimeout=="function"?setTimeout:void 0,KV=typeof clearTimeout=="function"?clearTimeout:void 0,nR=typeof Promise=="function"?Promise:void 0,WV=typeof queueMicrotask=="function"?queueMicrotask:typeof nR<"u"?function(l){return nR.resolve(null).then(l).catch(XV)}:tR;function XV(l){setTimeout(function(){throw l})}function Cc(l){return l==="head"}function rR(l,u){var p=u,y=0;do{var _=p.nextSibling;if(l.removeChild(p),_&&_.nodeType===8)if(p=_.data,p==="/$"||p==="/&"){if(y===0){l.removeChild(_),Af(u);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")Bp(l.ownerDocument.documentElement);else if(p==="head"){p=l.ownerDocument.head,Bp(p);for(var P=p.firstChild;P;){var B=P.nextSibling,Q=P.nodeName;P[jn]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&P.rel.toLowerCase()==="stylesheet"||p.removeChild(P),P=B}}else p==="body"&&Bp(l.ownerDocument.body);p=_}while(p);Af(u)}function iR(l,u){var p=l;l=0;do{var y=p.nextSibling;if(p.nodeType===1?u?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(u?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(l===0)break;l--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||l++;p=y}while(p)}function cS(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":cS(p),yi(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function ZV(l,u,p,y){for(;l.nodeType===1;){var _=p;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(y){if(!l[jn])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(P=l.getAttribute("rel"),P==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(P!==_.rel||l.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||l.getAttribute("title")!==(_.title==null?null:_.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(P=l.getAttribute("src"),(P!==(_.src==null?null:_.src)||l.getAttribute("type")!==(_.type==null?null:_.type)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&P&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var P=_.name==null?null:""+_.name;if(_.type==="hidden"&&l.getAttribute("name")===P)return l}else return l;if(l=lo(l.nextSibling),l===null)break}return null}function QV(l,u,p){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=lo(l.nextSibling),l===null))return null;return l}function aR(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=lo(l.nextSibling),l===null))return null;return l}function uS(l){return l.data==="$?"||l.data==="$~"}function dS(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function JV(l,u){var p=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||p.readyState!=="loading")u();else{var y=function(){u(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),l._reactRetry=y}}function lo(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var fS=null;function oR(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"||p==="/&"){if(u===0)return lo(l.nextSibling);u--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||u++}l=l.nextSibling}return null}function sR(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(u===0)return l;u--}else p!=="/$"&&p!=="/&"||u++}l=l.previousSibling}return null}function lR(l,u,p){switch(u=$v(p),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Bp(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);yi(l)}var co=new Map,cR=new Set;function Fv(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var pl=U.d;U.d={f:eq,r:tq,D:nq,C:rq,L:iq,m:aq,X:sq,S:oq,M:lq};function eq(){var l=pl.f(),u=Mv();return l||u}function tq(l){var u=pn(l);u!==null&&u.tag===5&&u.type==="form"?ED(u):pl.r(l)}var xf=typeof document>"u"?null:document;function uR(l,u,p){var y=xf;if(y&&typeof u=="string"&&u){var _=ri(u);_='link[rel="'+l+'"][href="'+_+'"]',typeof p=="string"&&(_+='[crossorigin="'+p+'"]'),cR.has(_)||(cR.add(_),l={rel:l,crossOrigin:p,href:u},y.querySelector(_)===null&&(u=y.createElement("link"),Ai(u,"link",l),Ar(u),y.head.appendChild(u)))}}function nq(l){pl.D(l),uR("dns-prefetch",l,null)}function rq(l,u){pl.C(l,u),uR("preconnect",l,u)}function iq(l,u,p){pl.L(l,u,p);var y=xf;if(y&&l&&u){var _='link[rel="preload"][as="'+ri(u)+'"]';u==="image"&&p&&p.imageSrcSet?(_+='[imagesrcset="'+ri(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(_+='[imagesizes="'+ri(p.imageSizes)+'"]')):_+='[href="'+ri(l)+'"]';var P=_;switch(u){case"style":P=wf(l);break;case"script":P=Sf(l)}co.has(P)||(l=h({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:l,as:u},p),co.set(P,l),y.querySelector(_)!==null||u==="style"&&y.querySelector($p(P))||u==="script"&&y.querySelector(Fp(P))||(u=y.createElement("link"),Ai(u,"link",l),Ar(u),y.head.appendChild(u)))}}function aq(l,u){pl.m(l,u);var p=xf;if(p&&l){var y=u&&typeof u.as=="string"?u.as:"script",_='link[rel="modulepreload"][as="'+ri(y)+'"][href="'+ri(l)+'"]',P=_;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=Sf(l)}if(!co.has(P)&&(l=h({rel:"modulepreload",href:l},u),co.set(P,l),p.querySelector(_)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Fp(P)))return}y=p.createElement("link"),Ai(y,"link",l),Ar(y),p.head.appendChild(y)}}}function oq(l,u,p){pl.S(l,u,p);var y=xf;if(y&&l){var _=ni(y).hoistableStyles,P=wf(l);u=u||"default";var B=_.get(P);if(!B){var Q={loading:0,preload:null};if(B=y.querySelector($p(P)))Q.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":u},p),(p=co.get(P))&&hS(l,p);var le=B=y.createElement("link");Ar(le),Ai(le,"link",l),le._p=new Promise(function(Ee,Ie){le.onload=Ee,le.onerror=Ie}),le.addEventListener("load",function(){Q.loading|=1}),le.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Uv(B,u,y)}B={type:"stylesheet",instance:B,count:1,state:Q},_.set(P,B)}}}function sq(l,u){pl.X(l,u);var p=xf;if(p&&l){var y=ni(p).hoistableScripts,_=Sf(l),P=y.get(_);P||(P=p.querySelector(Fp(_)),P||(l=h({src:l,async:!0},u),(u=co.get(_))&&pS(l,u),P=p.createElement("script"),Ar(P),Ai(P,"link",l),p.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},y.set(_,P))}}function lq(l,u){pl.M(l,u);var p=xf;if(p&&l){var y=ni(p).hoistableScripts,_=Sf(l),P=y.get(_);P||(P=p.querySelector(Fp(_)),P||(l=h({src:l,async:!0,type:"module"},u),(u=co.get(_))&&pS(l,u),P=p.createElement("script"),Ar(P),Ai(P,"link",l),p.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},y.set(_,P))}}function dR(l,u,p,y){var _=(_=xe.current)?Fv(_):null;if(!_)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=wf(p.href),p=ni(_).hoistableStyles,y=p.get(u),y||(y={type:"style",instance:null,count:0,state:null},p.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=wf(p.href);var P=ni(_).hoistableStyles,B=P.get(l);if(B||(_=_.ownerDocument||_,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(l,B),(P=_.querySelector($p(l)))&&!P._p&&(B.instance=P,B.state.loading=5),co.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},co.set(l,p),P||cq(_,l,p,B.state))),u&&y===null)throw Error(r(528,""));return B}if(u&&y!==null)throw Error(r(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Sf(p),p=ni(_).hoistableScripts,y=p.get(u),y||(y={type:"script",instance:null,count:0,state:null},p.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function wf(l){return'href="'+ri(l)+'"'}function $p(l){return'link[rel="stylesheet"]['+l+"]"}function fR(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function cq(l,u,p,y){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=l.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),Ai(u,"link",p),Ar(u),l.head.appendChild(u))}function Sf(l){return'[src="'+ri(l)+'"]'}function Fp(l){return"script[async]"+l}function hR(l,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var y=l.querySelector('style[data-href~="'+ri(p.href)+'"]');if(y)return u.instance=y,Ar(y),y;var _=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(l.ownerDocument||l).createElement("style"),Ar(y),Ai(y,"style",_),Uv(y,p.precedence,l),u.instance=y;case"stylesheet":_=wf(p.href);var P=l.querySelector($p(_));if(P)return u.state.loading|=4,u.instance=P,Ar(P),P;y=fR(p),(_=co.get(_))&&hS(y,_),P=(l.ownerDocument||l).createElement("link"),Ar(P);var B=P;return B._p=new Promise(function(Q,le){B.onload=Q,B.onerror=le}),Ai(P,"link",y),u.state.loading|=4,Uv(P,p.precedence,l),u.instance=P;case"script":return P=Sf(p.src),(_=l.querySelector(Fp(P)))?(u.instance=_,Ar(_),_):(y=p,(_=co.get(P))&&(y=h({},p),pS(y,_)),l=l.ownerDocument||l,_=l.createElement("script"),Ar(_),Ai(_,"link",y),l.head.appendChild(_),u.instance=_);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,Uv(y,p.precedence,l));return u.instance}function Uv(l,u,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=y.length?y[y.length-1]:null,P=_,B=0;B<y.length;B++){var Q=y[B];if(Q.dataset.precedence===u)P=Q;else if(P!==_)break}P?P.parentNode.insertBefore(l,P.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(l,u.firstChild))}function hS(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function pS(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var Hv=null;function pR(l,u,p){if(Hv===null){var y=new Map,_=Hv=new Map;_.set(p,y)}else _=Hv,y=_.get(p),y||(y=new Map,_.set(p,y));if(y.has(l))return y;for(y.set(l,null),p=p.getElementsByTagName(l),_=0;_<p.length;_++){var P=p[_];if(!(P[jn]||P[dn]||l==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var B=P.getAttribute(u)||"";B=l+B;var Q=y.get(B);Q?Q.push(P):y.set(B,[P])}}return y}function mR(l,u,p){l=l.ownerDocument||l,l.head.insertBefore(p,u==="title"?l.querySelector("head > title"):null)}function uq(l,u,p){if(p===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;return u.rel==="stylesheet"?(l=u.disabled,typeof u.precedence=="string"&&l==null):!0;case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function gR(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function dq(l,u,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var _=wf(y.href),P=u.querySelector($p(_));if(P){u=P._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=Vv.bind(l),u.then(l,l)),p.state.loading|=4,p.instance=P,Ar(P);return}P=u.ownerDocument||u,y=fR(y),(_=co.get(_))&&hS(y,_),P=P.createElement("link"),Ar(P);var B=P;B._p=new Promise(function(Q,le){B.onload=Q,B.onerror=le}),Ai(P,"link",y),p.instance=P}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(l.count++,p=Vv.bind(l),u.addEventListener("load",p),u.addEventListener("error",p))}}var mS=0;function fq(l,u){return l.stylesheets&&l.count===0&&Gv(l,l.stylesheets),0<l.count||0<l.imgCount?function(p){var y=setTimeout(function(){if(l.stylesheets&&Gv(l,l.stylesheets),l.unsuspend){var P=l.unsuspend;l.unsuspend=null,P()}},6e4+u);0<l.imgBytes&&mS===0&&(mS=62500*GV());var _=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Gv(l,l.stylesheets),l.unsuspend)){var P=l.unsuspend;l.unsuspend=null,P()}},(l.imgBytes>mS?50:800)+u);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(y),clearTimeout(_)}}:null}function Vv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gv(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var qv=null;function Gv(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,qv=new Map,u.forEach(hq,l),qv=null,Vv.call(l))}function hq(l,u){if(!(u.state.loading&4)){var p=qv.get(l);if(p)var y=p.get(null);else{p=new Map,qv.set(l,p);for(var _=l.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<_.length;P++){var B=_[P];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(p.set(B.dataset.precedence,B),y=B)}y&&p.set(null,y)}_=u.instance,B=_.getAttribute("data-precedence"),P=p.get(B)||y,P===y&&p.set(null,_),p.set(B,_),this.count++,y=Vv.bind(this),_.addEventListener("load",y),_.addEventListener("error",y),P?P.parentNode.insertBefore(_,P.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(_,l.firstChild)),u.state.loading|=4}}var Up={$$typeof:E,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function pq(l,u,p,y,_,P,B,Q,le){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ur(0),this.hiddenUpdates=Ur(null),this.identifierPrefix=y,this.onUncaughtError=_,this.onCaughtError=P,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function vR(l,u,p,y,_,P,B,Q,le,Ee,Ie,Ye){return l=new pq(l,u,p,B,le,Ee,Ie,Ye,Q),u=1,P===!0&&(u|=24),P=Ra(3,null,null,u),l.current=P,P.stateNode=l,u=Kw(),u.refCount++,l.pooledCache=u,u.refCount++,P.memoizedState={element:y,isDehydrated:p,cache:u},Qw(P),l}function yR(l){return l?(l=Qd,l):Qd}function bR(l,u,p,y,_,P){_=yR(_),y.context===null?y.context=_:y.pendingContext=_,y=hc(u),y.payload={element:p},P=P===void 0?null:P,P!==null&&(y.callback=P),p=pc(l,y,u),p!==null&&(xa(p,l,u),xp(p,l,u))}function xR(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function gS(l,u){xR(l,u),(l=l.alternate)&&xR(l,u)}function wR(l){if(l.tag===13||l.tag===31){var u=kn(l,67108864);u!==null&&xa(u,l,67108864),gS(l,67108864)}}function SR(l){if(l.tag===13||l.tag===31){var u=za();u=nn(u);var p=kn(l,u);p!==null&&xa(p,l,u),gS(l,u)}}var Yv=!0;function mq(l,u,p,y){var _=L.T;L.T=null;var P=U.p;try{U.p=2,vS(l,u,p,y)}finally{U.p=P,L.T=_}}function gq(l,u,p,y){var _=L.T;L.T=null;var P=U.p;try{U.p=8,vS(l,u,p,y)}finally{U.p=P,L.T=_}}function vS(l,u,p,y){if(Yv){var _=yS(y);if(_===null)rS(l,u,y,Kv,p),CR(l,y);else if(yq(_,l,u,p,y))y.stopPropagation();else if(CR(l,y),u&4&&-1<vq.indexOf(l)){for(;_!==null;){var P=pn(_);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var B=Tn(P.pendingLanes);if(B!==0){var Q=P;for(Q.pendingLanes|=2,Q.entangledLanes|=2;B;){var le=1<<31-et(B);Q.entanglements[1]|=le,B&=~le}ls(P),(Sn&6)===0&&(Ov=$e()+500,Np(0))}}break;case 31:case 13:Q=kn(P,2),Q!==null&&xa(Q,P,2),Mv(),gS(P,2)}if(P=yS(y),P===null&&rS(l,u,y,Kv,p),P===_)break;_=P}_!==null&&y.stopPropagation()}else rS(l,u,y,null,p)}}function yS(l){return l=Ld(l),bS(l)}var Kv=null;function bS(l){if(Kv=null,l=Vt(l),l!==null){var u=a(l);if(u===null)l=null;else{var p=u.tag;if(p===13){if(l=o(u),l!==null)return l;l=null}else if(p===31){if(l=s(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return Kv=l,null}function AR(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case Ge:return 2;case qe:return 8;case Jt:case yn:return 32;case Ht:return 268435456;default:return 32}default:return 32}}var xS=!1,_c=null,Ec=null,Tc=null,Hp=new Map,Vp=new Map,kc=[],vq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CR(l,u){switch(l){case"focusin":case"focusout":_c=null;break;case"dragenter":case"dragleave":Ec=null;break;case"mouseover":case"mouseout":Tc=null;break;case"pointerover":case"pointerout":Hp.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vp.delete(u.pointerId)}}function qp(l,u,p,y,_,P){return l===null||l.nativeEvent!==P?(l={blockedOn:u,domEventName:p,eventSystemFlags:y,nativeEvent:P,targetContainers:[_]},u!==null&&(u=pn(u),u!==null&&wR(u)),l):(l.eventSystemFlags|=y,u=l.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),l)}function yq(l,u,p,y,_){switch(u){case"focusin":return _c=qp(_c,l,u,p,y,_),!0;case"dragenter":return Ec=qp(Ec,l,u,p,y,_),!0;case"mouseover":return Tc=qp(Tc,l,u,p,y,_),!0;case"pointerover":var P=_.pointerId;return Hp.set(P,qp(Hp.get(P)||null,l,u,p,y,_)),!0;case"gotpointercapture":return P=_.pointerId,Vp.set(P,qp(Vp.get(P)||null,l,u,p,y,_)),!0}return!1}function _R(l){var u=Vt(l.target);if(u!==null){var p=a(u);if(p!==null){if(u=p.tag,u===13){if(u=o(p),u!==null){l.blockedOn=u,Da(l.priority,function(){SR(p)});return}}else if(u===31){if(u=s(p),u!==null){l.blockedOn=u,Da(l.priority,function(){SR(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Wv(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=yS(l.nativeEvent);if(p===null){p=l.nativeEvent;var y=new p.constructor(p.type,p);eo=y,p.target.dispatchEvent(y),eo=null}else return u=pn(p),u!==null&&wR(u),l.blockedOn=p,!1;u.shift()}return!0}function ER(l,u,p){Wv(l)&&p.delete(u)}function bq(){xS=!1,_c!==null&&Wv(_c)&&(_c=null),Ec!==null&&Wv(Ec)&&(Ec=null),Tc!==null&&Wv(Tc)&&(Tc=null),Hp.forEach(ER),Vp.forEach(ER)}function Xv(l,u){l.blockedOn===u&&(l.blockedOn=null,xS||(xS=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bq)))}var Zv=null;function TR(l){Zv!==l&&(Zv=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Zv===l&&(Zv=null);for(var u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],_=l[u+2];if(typeof y!="function"){if(bS(y||p)===null)continue;break}var P=pn(p);P!==null&&(l.splice(u,3),u-=3,y1(P,{pending:!0,data:_,method:p.method,action:y},y,_))}}))}function Af(l){function u(le){return Xv(le,l)}_c!==null&&Xv(_c,l),Ec!==null&&Xv(Ec,l),Tc!==null&&Xv(Tc,l),Hp.forEach(u),Vp.forEach(u);for(var p=0;p<kc.length;p++){var y=kc[p];y.blockedOn===l&&(y.blockedOn=null)}for(;0<kc.length&&(p=kc[0],p.blockedOn===null);)_R(p),p.blockedOn===null&&kc.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var _=p[y],P=p[y+1],B=_[Fn]||null;if(typeof P=="function")B||TR(p);else if(B){var Q=null;if(P&&P.hasAttribute("formAction")){if(_=P,B=P[Fn]||null)Q=B.formAction;else if(bS(_)!==null)continue}else Q=B.action;typeof Q=="function"?p[y+1]=Q:(p.splice(y,3),y-=3),TR(p)}}}function kR(){function l(P){P.canIntercept&&P.info==="react-transition"&&P.intercept({handler:function(){return new Promise(function(B){return _=B})},focusReset:"manual",scroll:"manual"})}function u(){_!==null&&(_(),_=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var P=navigation.currentEntry;P&&P.url!=null&&navigation.navigate(P.url,{state:P.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,_=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),_!==null&&(_(),_=null)}}}function wS(l){this._internalRoot=l}Qv.prototype.render=wS.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var p=u.current,y=za();bR(p,y,l,u,null,null)},Qv.prototype.unmount=wS.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;bR(l.current,2,null,l,null,null),Mv(),u[Pr]=null}};function Qv(l){this._internalRoot=l}Qv.prototype.unstable_scheduleHydration=function(l){if(l){var u=Vr();l={blockedOn:null,target:l,priority:u};for(var p=0;p<kc.length&&u!==0&&u<kc[p].priority;p++);kc.splice(p,0,l),p===0&&_R(l)}};var PR=e.version;if(PR!=="19.2.4")throw Error(r(527,PR,"19.2.4"));U.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=d(u),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var xq={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jv.isDisabled&&Jv.supportsFiber)try{Xn=Jv.inject(xq),bn=Jv}catch{}}return Yp.createRoot=function(l,u){if(!i(l))throw Error(r(299));var p=!1,y="",_=ND,P=ID,B=zD;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(P=u.onCaughtError),u.onRecoverableError!==void 0&&(B=u.onRecoverableError)),u=vR(l,1,!1,null,null,p,y,null,_,P,B,kR),l[Pr]=u.current,nS(l),new wS(u)},Yp.hydrateRoot=function(l,u,p){if(!i(l))throw Error(r(299));var y=!1,_="",P=ND,B=ID,Q=zD,le=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(_=p.identifierPrefix),p.onUncaughtError!==void 0&&(P=p.onUncaughtError),p.onCaughtError!==void 0&&(B=p.onCaughtError),p.onRecoverableError!==void 0&&(Q=p.onRecoverableError),p.formState!==void 0&&(le=p.formState)),u=vR(l,1,!0,u,p??null,y,_,le,P,B,Q,kR),u.context=yR(null),p=u.current,y=za(),y=nn(y),_=hc(y),_.callback=null,pc(p,_,y),p=y,u.current.lanes=p,hn(u,p),ls(u),l[Pr]=u.current,nS(l),new Qv(u)},Yp.version="19.2.4",Yp}var FR;function Dq(){if(FR)return _S.exports;FR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_S.exports=Oq(),_S.exports}var Mq=Dq(),ws=function(){return ws=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ws.apply(this,arguments)};function P5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ad(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?a(f.value):i(f.value).then(s,c)}d((r=r.apply(t,e||[])).next())})}function Rq(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Hy="right-scroll-bar-position",Vy="width-before-scroll-bar",jq="with-scroll-bars-hidden",Lq="--removed-body-scroll-bar-size";function PS(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Nq(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Iq=typeof window<"u"?w.useLayoutEffect:w.useEffect,UR=new WeakMap;function zq(t,e){var n=Nq(null,function(r){return t.forEach(function(i){return PS(i,r)})});return Iq(function(){var r=UR.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(s){a.has(s)||PS(s,null)}),a.forEach(function(s){i.has(s)||PS(s,o)})}UR.set(n,t)},[t]),n}function Bq(t){return t}function $q(t,e){e===void 0&&(e=Bq);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var s=n;n=[],s.forEach(a),o=n}var c=function(){var f=o;o=[],f.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return i}function Fq(t){t===void 0&&(t={});var e=$q(null);return e.options=ws({async:!0,ssr:!1},t),e}var O5=function(t){var e=t.sideCar,n=P5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,ws({},n))};O5.isSideCarExport=!0;function Uq(t,e){return t.useMedium(e),O5}var D5=Fq(),OS=function(){},L0=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:OS,onWheelCapture:OS,onTouchMoveCapture:OS}),i=r[0],a=r[1],o=t.forwardProps,s=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,h=t.shards,m=t.sideCar,v=t.noRelative,b=t.noIsolation,x=t.inert,S=t.allowPinchZoom,A=t.as,T=A===void 0?"div":A,E=t.gapMode,k=P5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,M=zq([n,e]),R=ws(ws({},k),i);return w.createElement(w.Fragment,null,f&&w.createElement(D,{sideCar:D5,removeScrollBar:d,shards:h,noRelative:v,noIsolation:b,inert:x,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:E}),o?w.cloneElement(w.Children.only(s),ws(ws({},R),{ref:M})):w.createElement(T,ws({},R,{className:c,ref:M}),s))});L0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};L0.classNames={fullWidth:Vy,zeroRight:Hy};var Hq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Vq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Hq();return e&&t.setAttribute("nonce",e),t}function qq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Gq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Yq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Vq())&&(qq(e,n),Gq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Kq=function(){var t=Yq();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},M5=function(){var t=Kq(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Wq={left:0,top:0,right:0,gap:0},DS=function(t){return parseInt(t||"",10)||0},Xq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[DS(n),DS(r),DS(i)]},Zq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Wq;var e=Xq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Qq=M5(),Yf="data-scroll-locked",Jq=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,s=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(jq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Yf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hy,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Vy,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Hy," .").concat(Hy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vy," .").concat(Vy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Yf,`] {
    `).concat(Lq,": ").concat(s,`px;
  }
`)},HR=function(){var t=parseInt(document.body.getAttribute(Yf)||"0",10);return isFinite(t)?t:0},eG=function(){w.useEffect(function(){return document.body.setAttribute(Yf,(HR()+1).toString()),function(){var t=HR()-1;t<=0?document.body.removeAttribute(Yf):document.body.setAttribute(Yf,t.toString())}},[])},tG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;eG();var a=w.useMemo(function(){return Zq(i)},[i]);return w.createElement(Qq,{styles:Jq(a,!e,i,n?"":"!important")})},w_=!1;if(typeof window<"u")try{var ey=Object.defineProperty({},"passive",{get:function(){return w_=!0,!0}});window.addEventListener("test",ey,ey),window.removeEventListener("test",ey,ey)}catch{w_=!1}var Cf=w_?{passive:!1}:!1,nG=function(t){return t.tagName==="TEXTAREA"},R5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!nG(t)&&n[e]==="visible")},rG=function(t){return R5(t,"overflowY")},iG=function(t){return R5(t,"overflowX")},VR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=j5(t,r);if(i){var a=L5(t,r),o=a[1],s=a[2];if(o>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},aG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},oG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},j5=function(t,e){return t==="v"?rG(e):iG(e)},L5=function(t,e){return t==="v"?aG(e):oG(e)},sG=function(t,e){return t==="h"&&e==="rtl"?-1:1},lG=function(t,e,n,r,i){var a=sG(t,window.getComputedStyle(e).direction),o=a*r,s=n.target,c=e.contains(s),d=!1,f=o>0,h=0,m=0;do{if(!s)break;var v=L5(t,s),b=v[0],x=v[1],S=v[2],A=x-S-a*b;(b||A)&&j5(t,s)&&(h+=A,m+=b);var T=s.parentNode;s=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!c&&s!==document.body||c&&(e.contains(s)||e===s));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(d=!0),d},ty=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},qR=function(t){return[t.deltaX,t.deltaY]},GR=function(t){return t&&"current"in t?t.current:t},cG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},uG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},dG=0,_f=[];function fG(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(dG++)[0],a=w.useState(M5)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=Rq([t.lockRef.current],(t.shards||[]).map(GR),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=w.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var A=ty(x),T=n.current,E="deltaX"in x?x.deltaX:T[0]-A[0],k="deltaY"in x?x.deltaY:T[1]-A[1],D,M=x.target,R=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in x&&R==="h"&&M.type==="range")return!1;var N=window.getSelection(),z=N&&N.anchorNode,q=z?z===M||z.contains(M):!1;if(q)return!1;var Y=VR(R,M);if(!Y)return!0;if(Y?D=R:(D=R==="v"?"h":"v",Y=VR(R,M)),!Y)return!1;if(!r.current&&"changedTouches"in x&&(E||k)&&(r.current=D),!D)return!0;var K=r.current||D;return lG(K,S,x,K==="h"?E:k)},[]),c=w.useCallback(function(x){var S=x;if(!(!_f.length||_f[_f.length-1]!==a)){var A="deltaY"in S?qR(S):ty(S),T=e.current.filter(function(D){return D.name===S.type&&(D.target===S.target||S.target===D.shadowParent)&&cG(D.delta,A)})[0];if(T&&T.should){S.cancelable&&S.preventDefault();return}if(!T){var E=(o.current.shards||[]).map(GR).filter(Boolean).filter(function(D){return D.contains(S.target)}),k=E.length>0?s(S,E[0]):!o.current.noIsolation;k&&S.cancelable&&S.preventDefault()}}},[]),d=w.useCallback(function(x,S,A,T){var E={name:x,delta:S,target:A,should:T,shadowParent:hG(A)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(k){return k!==E})},1)},[]),f=w.useCallback(function(x){n.current=ty(x),r.current=void 0},[]),h=w.useCallback(function(x){d(x.type,qR(x),x.target,s(x,t.lockRef.current))},[]),m=w.useCallback(function(x){d(x.type,ty(x),x.target,s(x,t.lockRef.current))},[]);w.useEffect(function(){return _f.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Cf),document.addEventListener("touchmove",c,Cf),document.addEventListener("touchstart",f,Cf),function(){_f=_f.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Cf),document.removeEventListener("touchmove",c,Cf),document.removeEventListener("touchstart",f,Cf)}},[]);var v=t.removeScrollBar,b=t.inert;return w.createElement(w.Fragment,null,b?w.createElement(a,{styles:uG(i)}):null,v?w.createElement(tG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function hG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const pG=Uq(D5,fG);var sd=w.forwardRef(function(t,e){return w.createElement(L0,ws({},t,{ref:e,sideCar:pG}))});sd.classNames=L0.classNames;function Tr(t){return Object.keys(t)}function MS(t){return t&&typeof t=="object"&&!Array.isArray(t)}function gT(t,e){const n={...t},r=e;return MS(t)&&MS(e)&&Object.keys(e).forEach(i=>{MS(r[i])&&i in t?n[i]=gT(n[i],r[i]):n[i]=r[i]}),n}function mG(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function gG(t){return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:t.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function Dm(t){const e=gG(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function YR(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function N5(t,{shouldScale:e=!1}={}){function n(r){if(r===0||r==="0")return`0${t}`;if(typeof r=="number"){const i=`${r/16}${t}`;return e?YR(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(a=>n(a)).join(",");if(r.includes(" "))return r.split(" ").map(a=>n(a)).join(" ");const i=r.replace("px","");if(!Number.isNaN(Number(i))){const a=`${Number(i)/16}${t}`;return e?YR(a):a}}return r}return n}const Oe=N5("rem",{shouldScale:!0}),db=N5("em");function og(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function I5(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(r=>e.test(r))}return!1}function vT(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==w.Fragment:!1}function da(t){const e=w.createContext(null);return[({children:i,value:a})=>g.jsx(e.Provider,{value:a,children:i}),()=>{const i=w.useContext(e);if(i===null)throw new Error(t);return i}]}function Xc(t=null){const e=w.createContext(t);return[({children:i,value:a})=>g.jsx(e.Provider,{value:a,children:i}),()=>w.useContext(e)]}function fb(t,e){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(e);return`${t}-${n}`}}function S_(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function vG(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].disabled)return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].disabled)return r}return t}function yG(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].disabled)return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].disabled)return r}return t}function bG(t,e,n){return S_(t,n)===S_(e,n)}function z5({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:a="rtl",orientation:o}){return s=>{n?.(s);const c=Array.from(S_(s.currentTarget,t)?.querySelectorAll(e)||[]).filter(b=>bG(s.currentTarget,b,t)),d=c.findIndex(b=>s.currentTarget===b),f=yG(d,c,r),h=vG(d,c,r),m=a==="rtl"?h:f,v=a==="rtl"?f:h;switch(s.key){case"ArrowRight":{o==="horizontal"&&(s.stopPropagation(),s.preventDefault(),c[m].focus(),i&&c[m].click());break}case"ArrowLeft":{o==="horizontal"&&(s.stopPropagation(),s.preventDefault(),c[v].focus(),i&&c[v].click());break}case"ArrowUp":{o==="vertical"&&(s.stopPropagation(),s.preventDefault(),c[h].focus(),i&&c[h].click());break}case"ArrowDown":{o==="vertical"&&(s.stopPropagation(),s.preventDefault(),c[f].focus(),i&&c[f].click());break}case"Home":{s.stopPropagation(),s.preventDefault(),!c[0].disabled&&c[0].focus();break}case"End":{s.stopPropagation(),s.preventDefault();const b=c.length-1;!c[b].disabled&&c[b].focus();break}}}}const xG={app:100,modal:200,popover:300,overlay:400,max:9999};function Wa(t){return xG[t]}const hb=()=>{};function wG(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||hb:n=>{n.key==="Escape"&&(t(n),e.onTrigger?.())}}function Mt(t,e="size",n=!0){if(t!==void 0)return I5(t)?n?Oe(t):t:`var(--${e}-${t})`}function zr(t){return Mt(t,"mantine-spacing")}function _n(t){return t===void 0?"var(--mantine-radius-default)":Mt(t,"mantine-radius")}function cr(t){return Mt(t,"mantine-font-size")}function B5(t){return Mt(t,"mantine-line-height",!1)}function yT(t){if(t)return Mt(t,"mantine-shadow",!1)}function bT(t,e){return t in e?Dm(e[t]):Dm(t)}function A_(t,e){const n=t.map(r=>({value:r,px:bT(r,e)}));return n.sort((r,i)=>r.px-i.px),n}function Kf(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function Cm(t,e,n){return e===void 0&&n===void 0?t:e!==void 0&&n===void 0?Math.max(t,e):Math.min(e===void 0&&n!==void 0?t:Math.max(t,e),n)}function pb(t="mantine-"){return`${t}${Math.random().toString(36).slice(2,11)}`}function SG(t,e){if(t===e||Number.isNaN(t)&&Number.isNaN(e))return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;const n=Object.keys(t),{length:r}=n;if(r!==Object.keys(e).length)return!1;for(let i=0;i<r;i+=1){const a=n[i];if(!(a in e)||t[a]!==e[a]&&!(Number.isNaN(t[a])&&Number.isNaN(e[a])))return!1}return!0}function KR(t){return typeof t!="string"?"":t.charAt(0).toUpperCase()+t.slice(1)}function $u(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>((...n)=>e.current?.(...n)),[])}function N0(t,e){const{delay:n,flushOnUnmount:r,leading:i}=typeof e=="number"?{delay:e,flushOnUnmount:!1,leading:!1}:e,a=$u(t),o=w.useRef(0),s=w.useMemo(()=>{const c=Object.assign((...d)=>{window.clearTimeout(o.current);const f=c._isFirstCall;c._isFirstCall=!1;function h(){window.clearTimeout(o.current),o.current=0,c._isFirstCall=!0}if(i&&f){a(...d);const b=()=>{h()},x=()=>{o.current!==0&&(h(),a(...d))},S=()=>{h()};c.flush=x,c.cancel=S,o.current=window.setTimeout(b,n);return}if(i&&!f){const b=()=>{o.current!==0&&(h(),a(...d))},x=()=>{h()};c.flush=b,c.cancel=x;const S=()=>{h()};o.current=window.setTimeout(S,n);return}const m=()=>{o.current!==0&&(h(),a(...d))},v=()=>{h()};c.flush=m,c.cancel=v,o.current=window.setTimeout(m,n)},{flush:()=>{},cancel:()=>{},_isFirstCall:!0});return c},[a,n,i]);return w.useEffect(()=>()=>{r?s.flush():s.cancel()},[s,r]),s}const AG=["mousedown","touchstart"];function CG(t,e,n){const r=w.useRef(null),i=e||AG;return w.useEffect(()=>{const a=o=>{const{target:s}=o??{};if(Array.isArray(n)){const c=!document.body.contains(s)&&s?.tagName!=="HTML";n.every(f=>!!f&&!o.composedPath().includes(f))&&!c&&t(o)}else r.current&&!r.current.contains(s)&&t(o)};return i.forEach(o=>document.addEventListener(o,a)),()=>{i.forEach(o=>document.removeEventListener(o,a))}},[r,t,n]),r}function _G(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function EG(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function Fu(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=w.useState(n?e:EG(t));return w.useEffect(()=>{try{const a=window.matchMedia(t);return i(a.matches),_G(a,o=>i(o.matches))}catch{return}},[t]),r||!1}function TG(t,e){return Fu("(prefers-color-scheme: dark)",t==="dark",e)?"dark":"light"}const Cd=typeof document<"u"?w.useLayoutEffect:w.useEffect;function ld(t,e){const n=w.useRef(!1);w.useEffect(()=>()=>{n.current=!1},[]),w.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function $5({opened:t,shouldReturnFocus:e=!0}){const n=w.useRef(null),r=()=>{n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&n.current?.focus({preventScroll:!0})};return ld(()=>{let i=-1;const a=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",a),t?n.current=document.activeElement:e&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",a)}},[t,e]),r}const kG=/input|select|textarea|button|object/,F5="a, input, select, textarea, button, object, [tabindex]";function PG(t){return t.style.display==="none"}function OG(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(PG(n))return!1;n=n.parentNode}return!0}function U5(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function C_(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(U5(t));return(kG.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&OG(t)}function H5(t){const e=U5(t);return(Number.isNaN(e)||e>=0)&&C_(t)}function DG(t){return Array.from(t.querySelectorAll(F5)).filter(H5)}function MG(t,e){const n=DG(t);if(!n.length){e.preventDefault();return}const r=n[e.shiftKey?0:n.length-1],i=t.getRootNode();let a=r===i.activeElement||t===i.activeElement;const o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(a=n.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===o.getAttribute("name")).includes(r)),!a)return;e.preventDefault();const c=n[e.shiftKey?n.length-1:0];c&&c.focus()}function RG(t=!0){const e=w.useRef(null),n=i=>{let a=i.querySelector("[data-autofocus]");if(!a){const o=Array.from(i.querySelectorAll(F5));a=o.find(H5)||o.find(C_)||null,!a&&C_(i)&&(a=i)}a&&a.focus({preventScroll:!0})},r=w.useCallback(i=>{t&&i!==null&&e.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),e.current=i):e.current=null)},[t]);return w.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>n(e.current));const i=a=>{a.key==="Tab"&&e.current&&MG(e.current,a)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[t]),r}const jG=t=>(t+1)%1e6;function LG(){const[,t]=w.useReducer(jG,0);return t}const NG=sr.useId||(()=>{});function IG(){const t=NG();return t?`mantine-${t.replace(/:/g,"")}`:""}function hi(t){const e=IG(),[n,r]=w.useState(e);return Cd(()=>{r(pb())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function V5(t,e,n){w.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}function ah(t,e){if(typeof t=="function")return t(e);typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function q5(...t){const e=new Map;return n=>{if(t.forEach(r=>{const i=ah(r,n);i&&e.set(r,i)}),e.size>0)return()=>{t.forEach(r=>{const i=e.get(r);i&&typeof i=="function"?i():ah(r,null)}),e.clear()}}}function kr(...t){return w.useCallback(q5(...t),t)}function Fr({value:t,defaultValue:e,finalValue:n,onChange:r=()=>{}}){const[i,a]=w.useState(e!==void 0?e:n),o=(s,...c)=>{a(s),r?.(s,...c)};return t!==void 0?[t,r,!0]:[i,o,!1]}function I0(t,e){return Fu("(prefers-reduced-motion: reduce)",t,e)}function zG(t,e){if(!t||!e)return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(!SG(t[n],e[n]))return!1;return!0}function BG(t){const e=w.useRef([]),n=w.useRef(0);return zG(e.current,t)||(e.current=t,n.current+=1),[n.current]}function $G(t,e){w.useEffect(t,BG(e))}function z0(t=!1,e={}){const[n,r]=w.useState(t),i=w.useCallback(()=>{r(s=>s||(e.onOpen?.(),!0))},[e.onOpen]),a=w.useCallback(()=>{r(s=>s&&(e.onClose?.(),!1))},[e.onClose]),o=w.useCallback(()=>{n?a():i()},[a,i,n]);return[n,{open:i,close:a,toggle:o}]}function FG(t,e,n={autoInvoke:!1}){const r=w.useRef(null),i=w.useCallback((...o)=>{r.current||(r.current=window.setTimeout(()=>{t(o),r.current=null},e))},[e]),a=w.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return w.useEffect(()=>(n.autoInvoke&&i(),a),[a,i]),{start:i,clear:a}}function UG(t){const e=w.useRef(void 0);return w.useEffect(()=>{e.current=t},[t]),e.current}function HG(t,e,n){const r=w.useRef(null),i=w.useRef(null);return w.useEffect(()=>{const a=typeof n=="function"?n():n;return(a||i.current)&&(r.current=new MutationObserver(t),r.current.observe(a||i.current,e)),()=>{r.current?.disconnect()}},[t,e]),i}function VG(){const[t,e]=w.useState(!1);return w.useEffect(()=>e(!0),[]),t}var qG={};function G5(){return typeof process<"u"&&qG?"production":"development"}function B0(t){const e=sr.version;return typeof sr.version!="string"||e.startsWith("18.")?t?.ref:t?.props?.ref}function qy(t,e=document){const n=e.querySelector(t);if(n)return n;const r=e.querySelectorAll("*");for(let i=0;i<r.length;i+=1){const a=r[i];if(a.shadowRoot){const o=qy(t,a.shadowRoot);if(o)return o}}return null}function Mc(t,e=document){const n=[],r=e.querySelectorAll(t);n.push(...Array.from(r));const i=e.querySelectorAll("*");for(let a=0;a<i.length;a+=1){const o=i[a];if(o.shadowRoot){const s=Mc(t,o.shadowRoot);n.push(...s)}}return n}function Oc(t){if(!t)return document;const e=t.getRootNode();return e instanceof ShadowRoot||e instanceof Document?e:document}function _h(t){const e=w.Children.toArray(t);return e.length!==1||!vT(e[0])?null:e[0]}function Y5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Y5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Y5(t))&&(r&&(r+=" "),r+=e);return r}const GG={};function YG(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([r,i])=>{e[r]?e[r]=Pt(e[r],i):e[r]=i})}),e}function $0({theme:t,classNames:e,props:n,stylesCtx:r}){const a=(Array.isArray(e)?e:[e]).map(o=>typeof o=="function"?o(t,n,r):o||GG);return YG(a)}function mb({theme:t,styles:e,props:n,stylesCtx:r}){return(Array.isArray(e)?e:[e]).reduce((a,o)=>typeof o=="function"?{...a,...o(t,n,r)}:{...a,...o},{})}const xT=w.createContext(null);function zl(){const t=w.useContext(xT);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function KG(){return zl().cssVariablesResolver}function WG(){return zl().classNamesPrefix}function F0(){return zl().getStyleNonce}function XG(){return zl().withStaticClasses}function ZG(){return zl().headless}function QG(){return zl().stylesTransform?.sx}function JG(){return zl().stylesTransform?.styles}function U0(){return zl().env||"default"}function eY(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function tY(t){let e=t.replace("#","");if(e.length===3){const o=e.split("");e=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(e.length===8){const o=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:o}}const n=parseInt(e,16),r=n>>16&255,i=n>>8&255,a=n&255;return{r,g:i,b:a,a:1}}function nY(t){const[e,n,r,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:r,a:i===void 0?1:i}}function rY(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,a=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,s=(1-Math.abs(2*a-1))*i,c=r/60,d=s*(1-Math.abs(c%2-1)),f=a-s/2;let h,m,v;return c>=0&&c<1?(h=s,m=d,v=0):c>=1&&c<2?(h=d,m=s,v=0):c>=2&&c<3?(h=0,m=s,v=d):c>=3&&c<4?(h=0,m=d,v=s):c>=4&&c<5?(h=d,m=0,v=s):(h=s,m=0,v=d),{r:Math.round((h+f)*255),g:Math.round((m+f)*255),b:Math.round((v+f)*255),a:o||1}}function wT(t){return eY(t)?tY(t):t.startsWith("rgb")?nY(t):t.startsWith("hsl")?rY(t):{r:0,g:0,b:0,a:1}}function ny(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:r,b:i,a}=wT(t),o=1-e,s=c=>Math.round(c*o);return`rgba(${s(n)}, ${s(r)}, ${s(i)}, ${a})`}function Mm(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function RS(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function iY(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function aY(t){if(t.startsWith("oklch("))return(iY(t)||0)/100;const{r:e,g:n,b:r}=wT(t),i=e/255,a=n/255,o=r/255,s=RS(i),c=RS(a),d=RS(o);return .2126*s+.7152*c+.0722*d}function Kp(t,e=.179){return t.startsWith("var(")?!1:aY(t)>e}function Bl({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Kp(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Kp(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Kp(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[r,i]=t.split("."),a=i?Number(i):void 0,o=r in e.colors;if(o){const s=a!==void 0?e.colors[r][a]:e.colors[r][Mm(e,n||"light")];return{color:r,value:s,shade:a,isThemeColor:o,isLight:Kp(s,e.luminanceThreshold),variable:i?`--mantine-color-${r}-${a}`:`--mantine-color-${r}-filled`}}return{color:t,value:t,isThemeColor:o,isLight:Kp(t,e.luminanceThreshold),shade:a,variable:void 0}}function Kn(t,e){const n=Bl({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function __(t,e){const n={from:t?.from||e.defaultGradient.from,to:t?.to||e.defaultGradient.to,deg:t?.deg??e.defaultGradient.deg??0},r=Kn(n.from,e),i=Kn(n.to,e);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function vs(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const a=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${a}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:r,b:i}=wT(t);return`rgba(${n}, ${r}, ${i}, ${e})`}const Ef=vs,oY=({color:t,theme:e,variant:n,gradient:r,autoContrast:i})=>{const a=Bl({color:t,theme:e}),o=typeof i=="boolean"?i:e.autoContrast;if(n==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(n==="filled"){const s=o&&a.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return a.isThemeColor?a.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:s,border:`${Oe(1)} solid transparent`}:{background:`var(--mantine-color-${a.color}-${a.shade})`,hover:`var(--mantine-color-${a.color}-${a.shade===9?8:a.shade+1})`,color:s,border:`${Oe(1)} solid transparent`}:{background:t,hover:ny(t,.1),color:s,border:`${Oe(1)} solid transparent`}}if(n==="light"){if(a.isThemeColor){if(a.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${Oe(1)} solid transparent`};const s=e.colors[a.color][a.shade];return{background:vs(s,.1),hover:vs(s,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${Oe(1)} solid transparent`}}return{background:vs(t,.1),hover:vs(t,.12),color:t,border:`${Oe(1)} solid transparent`}}if(n==="outline")return a.isThemeColor?a.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${Oe(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:vs(e.colors[a.color][a.shade],.05),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${Oe(1)} solid var(--mantine-color-${a.color}-${a.shade})`}:{background:"transparent",hover:vs(t,.05),color:t,border:`${Oe(1)} solid ${t}`};if(n==="subtle"){if(a.isThemeColor){if(a.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${Oe(1)} solid transparent`};const s=e.colors[a.color][a.shade];return{background:"transparent",hover:vs(s,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${Oe(1)} solid transparent`}}return{background:"transparent",hover:vs(t,.12),color:t,border:`${Oe(1)} solid transparent`}}return n==="transparent"?a.isThemeColor?a.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${Oe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${Oe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${Oe(1)} solid transparent`}:n==="white"?a.isThemeColor?a.shade===void 0?{background:"var(--mantine-color-white)",hover:ny(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${Oe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:ny(e.white,.01),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${Oe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:ny(e.white,.01),color:t,border:`${Oe(1)} solid transparent`}:n==="gradient"?{background:__(r,e),hover:__(r,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Oe(1)} solid var(--mantine-color-default-border)`}:{}},sY={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},WR="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",ST={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:sY,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:oY,autoContrast:!1,luminanceThreshold:.3,fontFamily:WR,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:WR,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Oe(34),lineHeight:"1.3"},h2:{fontSize:Oe(26),lineHeight:"1.35"},h3:{fontSize:Oe(22),lineHeight:"1.4"},h4:{fontSize:Oe(18),lineHeight:"1.45"},h5:{fontSize:Oe(16),lineHeight:"1.5"},h6:{fontSize:Oe(14),lineHeight:"1.5"}}},fontSizes:{xs:Oe(12),sm:Oe(14),md:Oe(16),lg:Oe(18),xl:Oe(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Oe(2),sm:Oe(4),md:Oe(8),lg:Oe(16),xl:Oe(32)},spacing:{xs:Oe(10),sm:Oe(12),md:Oe(16),lg:Oe(20),xl:Oe(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Oe(1)} ${Oe(3)} rgba(0, 0, 0, 0.05), 0 ${Oe(1)} ${Oe(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Oe(1)} ${Oe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Oe(10)} ${Oe(15)} ${Oe(-5)}, rgba(0, 0, 0, 0.04) 0 ${Oe(7)} ${Oe(7)} ${Oe(-5)}`,md:`0 ${Oe(1)} ${Oe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Oe(20)} ${Oe(25)} ${Oe(-5)}, rgba(0, 0, 0, 0.04) 0 ${Oe(10)} ${Oe(10)} ${Oe(-5)}`,lg:`0 ${Oe(1)} ${Oe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Oe(28)} ${Oe(23)} ${Oe(-7)}, rgba(0, 0, 0, 0.04) 0 ${Oe(12)} ${Oe(12)} ${Oe(-7)}`,xl:`0 ${Oe(1)} ${Oe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Oe(36)} ${Oe(28)} ${Oe(-7)}, rgba(0, 0, 0, 0.04) 0 ${Oe(17)} ${Oe(17)} ${Oe(-7)}`},other:{},components:{}};function XR(t){return t==="auto"||t==="dark"||t==="light"}function lY({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(t);return XR(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{e=r=>{r.storageArea===window.localStorage&&r.key===t&&XR(r.newValue)&&n(r.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const cY="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",ZR="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function jS(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function QR(t){if(!(t.primaryColor in t.colors))throw new Error(cY);if(typeof t.primaryShade=="object"&&(!jS(t.primaryShade.dark)||!jS(t.primaryShade.light)))throw new Error(ZR);if(typeof t.primaryShade=="number"&&!jS(t.primaryShade))throw new Error(ZR)}function uY(t,e){if(!e)return QR(t),t;const n=gT(t,e);return e.fontFamily&&!e.headings?.fontFamily&&(n.headings.fontFamily=e.fontFamily),QR(n),n}const AT=w.createContext(null),dY=()=>w.useContext(AT)||ST;function Xr(){const t=w.useContext(AT);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function K5({theme:t,children:e,inherit:n=!0}){const r=dY(),i=w.useMemo(()=>uY(n?r:ST,t),[t,r,n]);return g.jsx(AT.Provider,{value:i,children:e})}K5.displayName="@mantine/core/MantineThemeProvider";function fY(){const t=Xr(),e=F0(),n=Tr(t.breakpoints).reduce((r,i)=>{const a=t.breakpoints[i].includes("px"),o=Dm(t.breakpoints[i]),s=a?`${o-.1}px`:db(o-.1),c=a?`${o}px`:db(o);return`${r}@media (max-width: ${s}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${c}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return g.jsx("style",{"data-mantine-styles":"classes",nonce:e?.(),dangerouslySetInnerHTML:{__html:n}})}function LS(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function W5(t,e){const n=e?[e]:[":root",":host"],r=LS(t.variables),i=r?`${n.join(", ")}{${r}}`:"",a=LS(t.dark),o=LS(t.light),s=f=>n.map(h=>h===":host"?`${h}([data-mantine-color-scheme="${f}"])`:`${h}[data-mantine-color-scheme="${f}"]`).join(", "),c=a?`${s("dark")}{${a}}`:"",d=o?`${s("light")}{${o}}`:"";return`${i}

${c}

${d}`}function $l({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&Bl({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function JR(t,e){return $l({color:t.colors[t.primaryColor][Mm(t,e)],theme:t,autoContrast:null})}function ry({theme:t,color:e,colorScheme:n,name:r=e,withColorValues:i=!0}){if(!t.colors[e])return{};if(n==="light"){const s=Mm(t,"light"),c={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:Ef(t.colors[e][s],.1),[`--mantine-color-${r}-light-hover`]:Ef(t.colors[e][s],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-outline-hover`]:Ef(t.colors[e][s],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...c}:c}const a=Mm(t,"dark"),o={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:Ef(t.colors[e][Math.max(0,a-2)],.15),[`--mantine-color-${r}-light-hover`]:Ef(t.colors[e][Math.max(0,a-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(a-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(a-4,0)})`,[`--mantine-color-${r}-outline-hover`]:Ef(t.colors[e][Math.max(a-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...o}:o}function hY(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function Tf(t,e,n){Tr(e).forEach(r=>Object.assign(t,{[`--mantine-${n}-${r}`]:e[r]}))}const X5=t=>{const e=Mm(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:Oe(t.defaultRadius),r={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":JR(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":JR(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};Tf(r.variables,t.breakpoints,"breakpoint"),Tf(r.variables,t.spacing,"spacing"),Tf(r.variables,t.fontSizes,"font-size"),Tf(r.variables,t.lineHeights,"line-height"),Tf(r.variables,t.shadows,"shadow"),Tf(r.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((a,o)=>{r.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${t.primaryColor}-${o})`}),Tr(t.colors).forEach(a=>{const o=t.colors[a];if(hY(o)){Object.assign(r.light,ry({theme:t,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,ry({theme:t,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((s,c)=>{r.variables[`--mantine-color-${a}-${c}`]=s}),Object.assign(r.light,ry({theme:t,color:a,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,ry({theme:t,color:a,colorScheme:"dark",withColorValues:!1}))});const i=t.headings.sizes;return Tr(i).forEach(a=>{r.variables[`--mantine-${a}-font-size`]=i[a].fontSize,r.variables[`--mantine-${a}-line-height`]=i[a].lineHeight,r.variables[`--mantine-${a}-font-weight`]=i[a].fontWeight||t.headings.fontWeight}),r};function pY({theme:t,generator:e}){const n=X5(t),r=e?.(t);return r?gT(n,r):n}const NS=X5(ST);function mY(t){const e={variables:{},light:{},dark:{}};return Tr(t.variables).forEach(n=>{NS.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),Tr(t.light).forEach(n=>{NS.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),Tr(t.dark).forEach(n=>{NS.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function gY(t){return W5({variables:{},dark:{"--mantine-color-scheme":"dark"},light:{"--mantine-color-scheme":"light"}},t)}function Z5({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=Xr(),r=F0(),i=KG(),a=pY({theme:n,generator:i}),o=(t===void 0||t===":root"||t===":host")&&e,s=o?mY(a):a,c=W5(s,t);return c?g.jsx("style",{"data-mantine-styles":!0,nonce:r?.(),dangerouslySetInnerHTML:{__html:`${c}${o?"":gY(t)}`}}):null}Z5.displayName="@mantine/CssVariables";function kf(t,e){const n=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,r=t!=="auto"?t:n?"dark":"light";e()?.setAttribute("data-mantine-color-scheme",r)}function vY({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:r}){const i=w.useRef(null),[a,o]=w.useState(()=>t.get(e)),s=r||a,c=w.useCallback(f=>{r||(kf(f,n),o(f),t.set(f))},[t.set,s,r]),d=w.useCallback(()=>{o(e),kf(e,n),t.clear()},[t.clear,e]);return w.useEffect(()=>(t.subscribe(c),t.unsubscribe),[t.subscribe,t.unsubscribe]),Cd(()=>{kf(t.get(e),n)},[]),w.useEffect(()=>{if(r)return kf(r,n),()=>{};r===void 0&&kf(a,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const f=h=>{a==="auto"&&kf(h.matches?"dark":"light",n)};return i.current?.addEventListener("change",f),()=>i.current?.removeEventListener("change",f)},[a,r]),{colorScheme:s,setColorScheme:c,clearColorScheme:d}}function yY({respectReducedMotion:t,getRootElement:e}){Cd(()=>{t&&e()?.setAttribute("data-respect-reduced-motion","true")},[t])}function Q5({theme:t,children:e,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:a=!0,withCssVariables:o=!0,cssVariablesSelector:s,classNamesPrefix:c="mantine",colorSchemeManager:d=lY(),defaultColorScheme:f="light",getRootElement:h=()=>document.documentElement,cssVariablesResolver:m,forceColorScheme:v,stylesTransform:b,env:x}){const{colorScheme:S,setColorScheme:A,clearColorScheme:T}=vY({defaultColorScheme:f,forceColorScheme:v,manager:d,getRootElement:h});return yY({respectReducedMotion:t?.respectReducedMotion||!1,getRootElement:h}),g.jsx(xT.Provider,{value:{colorScheme:S,setColorScheme:A,clearColorScheme:T,getRootElement:h,classNamesPrefix:c,getStyleNonce:n,cssVariablesResolver:m,cssVariablesSelector:s??":root",withStaticClasses:r,stylesTransform:b,env:x},children:g.jsxs(K5,{theme:t,children:[o&&g.jsx(Z5,{cssVariablesSelector:s,deduplicateCssVariables:a}),i&&g.jsx(fY,{}),e]})})}Q5.displayName="@mantine/core/MantineProvider";function ka({classNames:t,styles:e,props:n,stylesCtx:r}){const i=Xr();return{resolvedClassNames:$0({theme:i,classNames:t,props:n,stylesCtx:r||void 0}),resolvedStyles:mb({theme:i,styles:e,props:n,stylesCtx:r||void 0})}}const bY={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function xY({theme:t,options:e,unstyled:n}){return Pt(e?.focusable&&!n&&(t.focusClassName||bY[t.focusRing]),e?.active&&!n&&t.activeClassName)}function wY({selector:t,stylesCtx:e,options:n,props:r,theme:i}){return $0({theme:i,classNames:n?.classNames,props:n?.props||r,stylesCtx:e})[t]}function ej({selector:t,stylesCtx:e,theme:n,classNames:r,props:i}){return $0({theme:n,classNames:r,props:i,stylesCtx:e})[t]}function SY({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function AY({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function CY({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:r}){return r===!1?[]:t.map(i=>`${e}-${i}-${n}`)}function _Y({themeName:t,theme:e,selector:n,props:r,stylesCtx:i}){return t.map(a=>$0({theme:e,classNames:e.components[a]?.classNames,props:r,stylesCtx:i})?.[n])}function EY({options:t,classes:e,selector:n,unstyled:r}){return t?.variant&&!r?e[`${n}--${t.variant}`]:void 0}function TY({theme:t,options:e,themeName:n,selector:r,classNamesPrefix:i,classNames:a,classes:o,unstyled:s,className:c,rootSelector:d,props:f,stylesCtx:h,withStaticClasses:m,headless:v,transformedStyles:b}){return Pt(xY({theme:t,options:e,unstyled:s||v}),_Y({theme:t,themeName:n,selector:r,props:f,stylesCtx:h}),EY({options:e,classes:o,selector:r,unstyled:s}),ej({selector:r,stylesCtx:h,theme:t,classNames:a,props:f}),ej({selector:r,stylesCtx:h,theme:t,classNames:b,props:f}),wY({selector:r,stylesCtx:h,options:e,props:f,theme:t}),SY({rootSelector:d,selector:r,className:c}),AY({selector:r,classes:o,unstyled:s||v}),m&&!v&&CY({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:e?.withStaticClass}),e?.className)}function kY({theme:t,themeName:e,props:n,stylesCtx:r,selector:i}){return e.map(a=>mb({theme:t,styles:t.components[a]?.styles,props:n,stylesCtx:r})[i]).reduce((a,o)=>({...a,...o}),{})}function E_({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...E_({style:r,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function PY(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(r=>{e[r]={...e[r],...og(n[r])}}),e),{})}function OY({vars:t,varsResolver:e,theme:n,props:r,stylesCtx:i,selector:a,themeName:o,headless:s}){return PY([s?{}:e?.(n,r,i),...o.map(c=>n.components?.[c]?.vars?.(n,r,i)),t?.(n,r,i)])?.[a]}function DY({theme:t,themeName:e,selector:n,options:r,props:i,stylesCtx:a,rootSelector:o,styles:s,style:c,vars:d,varsResolver:f,headless:h,withStylesTransform:m}){return{...!m&&kY({theme:t,themeName:e,props:i,stylesCtx:a,selector:n}),...!m&&mb({theme:t,styles:s,props:i,stylesCtx:a})[n],...!m&&mb({theme:t,styles:r?.styles,props:r?.props||i,stylesCtx:a})[n],...OY({theme:t,props:i,stylesCtx:a,vars:d,varsResolver:f,selector:n,themeName:e,headless:h}),...o===n?E_({style:c,theme:t}):null,...E_({style:r?.style,theme:t})}}function MY({props:t,stylesCtx:e,themeName:n}){const r=Xr(),i=JG()?.();return{getTransformedStyles:o=>i?[...o.map(c=>i(c,{props:t,theme:r,ctx:e})),...n.map(c=>i(r.components[c]?.styles,{props:t,theme:r,ctx:e}))].filter(Boolean):[],withStylesTransform:!!i}}function ut({name:t,classes:e,props:n,stylesCtx:r,className:i,style:a,rootSelector:o="root",unstyled:s,classNames:c,styles:d,vars:f,varsResolver:h,attributes:m}){const v=Xr(),b=WG(),x=XG(),S=ZG(),A=(Array.isArray(t)?t:[t]).filter(k=>k),{withStylesTransform:T,getTransformedStyles:E}=MY({props:n,stylesCtx:r,themeName:A});return(k,D)=>({className:TY({theme:v,options:D,themeName:A,selector:k,classNamesPrefix:b,classNames:c,classes:e,unstyled:s,className:i,rootSelector:o,props:n,stylesCtx:r,withStaticClasses:x,headless:S,transformedStyles:E([D?.styles,d])}),style:DY({theme:v,themeName:A,selector:k,options:D,props:n,stylesCtx:r,rootSelector:o,styles:d,style:a,vars:f,varsResolver:h,headless:S,withStylesTransform:T}),...m?.[k]})}function _d(t,e){return typeof t=="boolean"?t:e.autoContrast}function tj(t){const e=document.createElement("style");return e.setAttribute("data-mantine-styles","inline"),e.innerHTML="*, *::before, *::after {transition: none !important;}",e.setAttribute("data-mantine-disable-transition","true"),t&&e.setAttribute("nonce",t),document.head.appendChild(e),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function J5({keepTransitions:t}={}){const e=w.useRef(hb),n=w.useRef(-1),r=w.useContext(xT),i=F0(),a=w.useRef(i?.());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const o=h=>{r.setColorScheme(h),e.current=t?()=>{}:tj(a.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{e.current?.()},10)},s=()=>{r.clearColorScheme(),e.current=t?()=>{}:tj(a.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{e.current?.()},10)},c=TG("light",{getInitialValueInEffect:!1}),d=r.colorScheme==="auto"?c:r.colorScheme,f=w.useCallback(()=>o(d==="light"?"dark":"light"),[o,d]);return w.useEffect(()=>()=>{e.current?.(),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:o,clearColorScheme:s,toggleColorScheme:f}}function Pe(t,e,n){const r=Xr(),i=r.components[t]?.defaultProps,a=typeof i=="function"?i(r):i;return{...e,...a,...og(n)}}const Gy=["xs","sm","md","lg","xl"];function RY(t,e){if(!e)return t.base;let n=Gy.indexOf(e);for(;n>=0;){if(Gy[n]in t)return t[Gy[n]];n-=1}return t.base}function jY(t){return t.findLastIndex(e=>e)}function LY(t,e){const n=Xr(),r=Fu(`(min-width: ${n.breakpoints.xs})`,!1,e),i=Fu(`(min-width: ${n.breakpoints.sm})`,!1,e),a=Fu(`(min-width: ${n.breakpoints.md})`,!1,e),o=Fu(`(min-width: ${n.breakpoints.lg})`,!1,e),s=Fu(`(min-width: ${n.breakpoints.xl})`,!1,e),d=jY([r,i,a,o,s]);return RY(t,Gy[d])}function IS(t){return Tr(t).reduce((e,n)=>t[n]!==void 0?`${e}${mG(n)}:${t[n]};`:e,"").trim()}function NY({selector:t,styles:e,media:n,container:r}){const i=e?IS(e):"",a=Array.isArray(n)?n.map(s=>`@media${s.query}{${t}{${IS(s.styles)}}}`):[],o=Array.isArray(r)?r.map(s=>`@container ${s.query}{${t}{${IS(s.styles)}}}`):[];return`${i?`${t}{${i}}`:""}${a.join("")}${o.join("")}`.trim()}function H0(t){const e=F0();return g.jsx("style",{"data-mantine-styles":"inline",nonce:e?.(),dangerouslySetInnerHTML:{__html:NY(t)}})}function Zc(t){const{m:e,mx:n,my:r,mt:i,mb:a,ml:o,mr:s,me:c,ms:d,p:f,px:h,py:m,pt:v,pb:b,pl:x,pr:S,pe:A,ps:T,bd:E,bdrs:k,bg:D,c:M,opacity:R,ff:N,fz:z,fw:q,lts:Y,ta:K,lh:te,fs:W,tt:J,td:L,w:U,miw:F,maw:V,h:G,mih:$,mah:X,bgsz:ne,bgp:ae,bgr:oe,bga:xe,pos:be,top:ze,left:ie,bottom:se,right:je,inset:ue,display:Ve,flex:Le,hiddenFrom:ct,visibleFrom:Qe,lightHidden:He,darkHidden:We,sx:nt,...Je}=t;return{styleProps:og({m:e,mx:n,my:r,mt:i,mb:a,ml:o,mr:s,me:c,ms:d,p:f,px:h,py:m,pt:v,pb:b,pl:x,pr:S,pe:A,ps:T,bd:E,bg:D,c:M,opacity:R,ff:N,fz:z,fw:q,lts:Y,ta:K,lh:te,fs:W,tt:J,td:L,w:U,miw:F,maw:V,h:G,mih:$,mah:X,bgsz:ne,bgp:ae,bgr:oe,bga:xe,pos:be,top:ze,left:ie,bottom:se,right:je,inset:ue,display:Ve,flex:Le,bdrs:k,hiddenFrom:ct,visibleFrom:Qe,lightHidden:He,darkHidden:We,sx:nt}),rest:Je}}const IY={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function CT(t,e){const n=Bl({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function zY(t,e){const n=Bl({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:CT(t,e)}function BY(t,e){if(typeof t=="number")return Oe(t);if(typeof t=="string"){const[n,r,...i]=t.split(" ").filter(o=>o.trim()!=="");let a=`${Oe(n)}`;return r&&(a+=` ${r}`),i.length>0&&(a+=` ${CT(i.join(" "),e)}`),a.trim()}return t}const nj={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function $Y(t){return typeof t=="string"&&t in nj?nj[t]:t}const FY=["h1","h2","h3","h4","h5","h6"];function UY(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&FY.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?Oe(t):t}function HY(t){return t}const VY=["h1","h2","h3","h4","h5","h6"];function qY(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&VY.includes(t)?`var(--mantine-${t}-line-height)`:t}function GY(t,e){return typeof t=="string"&&t in e.radius?`var(--mantine-radius-${t})`:typeof t=="number"||typeof t=="string"?Oe(t):t}function YY(t){return typeof t=="number"?Oe(t):t}function KY(t,e){if(typeof t=="number")return Oe(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return Oe(t);const r=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return t}const zS={color:CT,textColor:zY,fontSize:UY,spacing:KY,radius:GY,identity:HY,size:YY,lineHeight:qY,fontFamily:$Y,border:BY};function rj(t){return t.replace("(min-width: ","").replace("em)","")}function WY({media:t,...e}){const r=Object.keys(t).sort((i,a)=>Number(rj(i))-Number(rj(a))).map(i=>({query:i,styles:t[i]}));return{...e,media:r}}function XY(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function ZY(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function QY(t){return typeof t=="object"&&t!==null?Tr(t).filter(e=>e!=="base"):[]}function JY(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function eK({styleProps:t,data:e,theme:n}){return WY(Tr(t).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const a=e[i],o=Array.isArray(a.property)?a.property:[a.property],s=ZY(t[i]);if(!XY(t[i]))return o.forEach(d=>{r.inlineStyles[d]=zS[a.type](s,n)}),r;r.hasResponsiveStyles=!0;const c=QY(t[i]);return o.forEach(d=>{s!=null&&(r.styles[d]=zS[a.type](s,n)),c.forEach(f=>{const h=`(min-width: ${n.breakpoints[f]})`;r.media[h]={...r.media[h],[d]:zS[a.type](JY(t[i],f),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function e$(){return`__m__-${w.useId().replace(/[:]/g,"")}`}function _T(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,..._T(r,e)}),{}):typeof t=="function"?t(e):t??{}}function t$(t){return t.startsWith("data-")?t:`data-${t}`}function tK(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r===void 0||r===""||r===!1||r===null||(e[t$(n)]=t[n]),e},{})}function n$(t){return t?typeof t=="string"?{[t$(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...n$(n)}),{}):tK(t):null}function T_(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...T_(r,e)}),{}):typeof t=="function"?t(e):t??{}}function nK({theme:t,style:e,vars:n,styleProps:r}){const i=T_(e,t),a=T_(n,t);return{...i,...a,...r}}const r$=w.forwardRef(({component:t,style:e,__vars:n,className:r,variant:i,mod:a,size:o,hiddenFrom:s,visibleFrom:c,lightHidden:d,darkHidden:f,renderRoot:h,__size:m,...v},b)=>{const x=Xr(),S=t||"div",{styleProps:A,rest:T}=Zc(v),k=QG()?.()?.(A.sx),D=e$(),M=eK({styleProps:A,theme:x,data:IY}),R={ref:b,style:nK({theme:x,style:e,vars:n,styleProps:M.inlineStyles}),className:Pt(r,k,{[D]:M.hasResponsiveStyles,"mantine-light-hidden":d,"mantine-dark-hidden":f,[`mantine-hidden-from-${s}`]:s,[`mantine-visible-from-${c}`]:c}),"data-variant":i,"data-size":I5(o)?void 0:o||void 0,size:m,...n$(a),...T};return g.jsxs(g.Fragment,{children:[M.hasResponsiveStyles&&g.jsx(H0,{selector:`.${D}`,styles:M.styles,media:M.media}),typeof h=="function"?h(R):g.jsx(S,{...R})]})});r$.displayName="@mantine/core/Box";const Me=r$;function i$(t){return t}function rK(t){const e=t;return n=>{const r=w.forwardRef((i,a)=>g.jsx(e,{...n,...i,ref:a}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r}}function Ue(t){const e=w.forwardRef(t);return e.extend=i$,e.withProps=n=>{const r=w.forwardRef((i,a)=>g.jsx(e,{...n,...i,ref:a}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e}function Ki(t){const e=w.forwardRef(t);return e.withProps=n=>{const r=w.forwardRef((i,a)=>g.jsx(e,{...n,...i,ref:a}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e.extend=i$,e}const iK=w.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Eh(){return w.useContext(iK)}var Ed=k5();const gm=ua(Ed);function aK(t){if(!t||typeof t=="string")return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function BS(t){return t?.current?t.current.scrollHeight:"auto"}const Wp=typeof window<"u"&&window.requestAnimationFrame,ij=0,oK=t=>({height:0,overflow:"hidden",...t?{}:{display:"none"}});function sK({transitionDuration:t,transitionTimingFunction:e="ease",onTransitionEnd:n=()=>{},opened:r,keepMounted:i=!1}){const a=w.useRef(null),o=oK(i),[s,c]=w.useState(r?{}:o),d=b=>{Ed.flushSync(()=>c(b))},f=b=>{d(x=>({...x,...b}))};function h(b){const x=t||aK(b);return{transition:`height ${x}ms ${e}, opacity ${x}ms ${e}`}}ld(()=>{typeof Wp=="function"&&Wp(r?()=>{f({willChange:"height",display:"block",overflow:"hidden"}),Wp(()=>{const b=BS(a);f({...h(b),height:b})})}:()=>{const b=BS(a);f({...h(b),willChange:"height",height:b}),Wp(()=>f({height:ij,overflow:"hidden"}))})},[r]);const m=b=>{if(!(b.target!==a.current||b.propertyName!=="height"))if(r){const x=BS(a);x===s.height?d({}):f({height:x}),n()}else s.height===ij&&(d(o),n())};function v({style:b={},refKey:x="ref",...S}={}){const A=S[x],T={"aria-hidden":!r,...S,[x]:q5(a,A),onTransitionEnd:m,style:{boxSizing:"border-box",...b,...s}};return sr.version.startsWith("18")?r||(T.inert=""):T.inert=!r,T}return v}const lK={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},sg=Ue((t,e)=>{const{children:n,in:r,transitionDuration:i,transitionTimingFunction:a,style:o,onTransitionEnd:s,animateOpacity:c,keepMounted:d,...f}=Pe("Collapse",lK,t),h=Xr(),m=I0(),b=(h.respectReducedMotion?m:!1)?0:i,x=sK({opened:r,transitionDuration:b,transitionTimingFunction:a,onTransitionEnd:s,keepMounted:d});return b===0?r?g.jsx(Me,{...f,children:n}):null:g.jsx(Me,{...x({style:{opacity:r||!c?1:0,transition:c?`opacity ${b}ms ${a}`:"none",..._T(o,h)},ref:e,...f}),children:n})});sg.displayName="@mantine/core/Collapse";function V0(){return typeof window<"u"}function Th(t){return a$(t)?(t.nodeName||"").toLowerCase():"#document"}function Ta(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Is(t){var e;return(e=(a$(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function a$(t){return V0()?t instanceof Node||t instanceof Ta(t).Node:!1}function nr(t){return V0()?t instanceof Element||t instanceof Ta(t).Element:!1}function Ya(t){return V0()?t instanceof HTMLElement||t instanceof Ta(t).HTMLElement:!1}function k_(t){return!V0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ta(t).ShadowRoot}const cK=new Set(["inline","contents"]);function lg(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ao(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!cK.has(i)}const uK=new Set(["table","td","th"]);function dK(t){return uK.has(Th(t))}const fK=[":popover-open",":modal"];function q0(t){return fK.some(e=>{try{return t.matches(e)}catch{return!1}})}const hK=["transform","translate","scale","rotate","perspective"],pK=["transform","translate","scale","rotate","perspective","filter"],mK=["paint","layout","strict","content"];function ET(t){const e=G0(),n=nr(t)?Ao(t):t;return hK.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||pK.some(r=>(n.willChange||"").includes(r))||mK.some(r=>(n.contain||"").includes(r))}function gK(t){let e=kl(t);for(;Ya(e)&&!Cl(e);){if(ET(e))return e;if(q0(e))return null;e=kl(e)}return null}function G0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vK=new Set(["html","body","#document"]);function Cl(t){return vK.has(Th(t))}function Ao(t){return Ta(t).getComputedStyle(t)}function Y0(t){return nr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function kl(t){if(Th(t)==="html")return t;const e=t.assignedSlot||t.parentNode||k_(t)&&t.host||Is(t);return k_(e)?e.host:e}function o$(t){const e=kl(t);return Cl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ya(e)&&lg(e)?e:o$(e)}function _l(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=o$(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ta(i);if(a){const s=P_(o);return e.concat(o,o.visualViewport||[],lg(i)?i:[],s&&n?_l(s):[])}return e.concat(i,_l(i,[],n))}function P_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const yK=["top","right","bottom","left"],Yo=Math.min,Ui=Math.max,gb=Math.round,iy=Math.floor,Es=t=>({x:t,y:t}),bK={left:"right",right:"left",bottom:"top",top:"bottom"},xK={start:"end",end:"start"};function O_(t,e,n){return Ui(t,Yo(e,n))}function Ps(t,e){return typeof t=="function"?t(e):t}function Ko(t){return t.split("-")[0]}function kh(t){return t.split("-")[1]}function TT(t){return t==="x"?"y":"x"}function kT(t){return t==="y"?"height":"width"}const wK=new Set(["top","bottom"]);function Uo(t){return wK.has(Ko(t))?"y":"x"}function PT(t){return TT(Uo(t))}function SK(t,e,n){n===void 0&&(n=!1);const r=kh(t),i=PT(t),a=kT(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=vb(o)),[o,vb(o)]}function AK(t){const e=vb(t);return[D_(t),e,D_(e)]}function D_(t){return t.replace(/start|end/g,e=>xK[e])}const aj=["left","right"],oj=["right","left"],CK=["top","bottom"],_K=["bottom","top"];function EK(t,e,n){switch(t){case"top":case"bottom":return n?e?oj:aj:e?aj:oj;case"left":case"right":return e?CK:_K;default:return[]}}function TK(t,e,n,r){const i=kh(t);let a=EK(Ko(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(D_)))),a}function vb(t){return t.replace(/left|right|bottom|top/g,e=>bK[e])}function kK(t){return{top:0,right:0,bottom:0,left:0,...t}}function OT(t){return typeof t!="number"?kK(t):{top:t,right:t,bottom:t,left:t}}function oh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function PK(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function OK(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function DK(){return/apple/i.test(navigator.vendor)}function MK(){return PK().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function RK(){return OK().includes("jsdom/")}const sj="data-floating-ui-focusable",jK="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function lj(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function Rm(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&k_(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function Nf(t){return"composedPath"in t?t.composedPath()[0]:t.target}function $S(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function LK(t){return t.matches("html,body")}function Vu(t){return t?.ownerDocument||document}function NK(t){return Ya(t)&&t.matches(jK)}function IK(t){if(!t||RK())return!0;try{return t.matches(":focus-visible")}catch{return!0}}function zK(t){return t?t.hasAttribute(sj)?t:t.querySelector("["+sj+"]")||t:null}function Yy(t,e,n){return n===void 0&&(n=!0),t.filter(i=>{var a;return i.parentId===e&&(!n||((a=i.context)==null?void 0:a.open))}).flatMap(i=>[i,...Yy(t,i.id,n)])}function BK(t){return"nativeEvent"in t}function M_(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}var $K=typeof document<"u",FK=function(){},Ts=$K?w.useLayoutEffect:FK;const UK={...mT};function ay(t){const e=w.useRef(t);return Ts(()=>{e.current=t}),e}const HK=UK.useInsertionEffect,VK=HK||(t=>t());function Ss(t){const e=w.useRef(()=>{});return VK(()=>{e.current=t}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function cj(t,e,n){let{reference:r,floating:i}=t;const a=Uo(e),o=PT(e),s=kT(o),c=Ko(e),d=a==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[s]/2-i[s]/2;let v;switch(c){case"top":v={x:f,y:r.y-i.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-i.width,y:h};break;default:v={x:r.x,y:r.y}}switch(kh(e)){case"start":v[o]-=m*(n&&d?-1:1);break;case"end":v[o]+=m*(n&&d?-1:1);break}return v}async function qK(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:v=0}=Ps(e,t),b=OT(v),S=s[m?h==="floating"?"reference":"floating":h],A=oh(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:d,rootBoundary:f,strategy:c})),T=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),k=await(a.isElement==null?void 0:a.isElement(E))?await(a.getScale==null?void 0:a.getScale(E))||{x:1,y:1}:{x:1,y:1},D=oh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:T,offsetParent:E,strategy:c}):T);return{top:(A.top-D.top+b.top)/k.y,bottom:(D.bottom-A.bottom+b.bottom)/k.y,left:(A.left-D.left+b.left)/k.x,right:(D.right-A.right+b.right)/k.x}}const GK=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=cj(d,r,c),m=r,v={},b=0;for(let S=0;S<s.length;S++){var x;const{name:A,fn:T}=s[S],{x:E,y:k,data:D,reset:M}=await T({x:f,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:v,rects:d,platform:{...o,detectOverflow:(x=o.detectOverflow)!=null?x:qK},elements:{reference:t,floating:e}});f=E??f,h=k??h,v={...v,[A]:{...v[A],...D}},M&&b<=50&&(b++,typeof M=="object"&&(M.placement&&(m=M.placement),M.rects&&(d=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:f,y:h}=cj(d,m,c)),S=-1)}return{x:f,y:h,placement:m,strategy:i,middlewareData:v}},YK=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=e,{element:d,padding:f=0}=Ps(t,e)||{};if(d==null)return{};const h=OT(f),m={x:n,y:r},v=PT(i),b=kT(v),x=await o.getDimensions(d),S=v==="y",A=S?"top":"left",T=S?"bottom":"right",E=S?"clientHeight":"clientWidth",k=a.reference[b]+a.reference[v]-m[v]-a.floating[b],D=m[v]-a.reference[v],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let R=M?M[E]:0;(!R||!await(o.isElement==null?void 0:o.isElement(M)))&&(R=s.floating[E]||a.floating[b]);const N=k/2-D/2,z=R/2-x[b]/2-1,q=Yo(h[A],z),Y=Yo(h[T],z),K=q,te=R-x[b]-Y,W=R/2-x[b]/2+N,J=O_(K,W,te),L=!c.arrow&&kh(i)!=null&&W!==J&&a.reference[b]/2-(W<K?q:Y)-x[b]/2<0,U=L?W<K?W-K:W-te:0;return{[v]:m[v]+U,data:{[v]:J,centerOffset:W-J-U,...L&&{alignmentOffset:U}},reset:L}}}),KK=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...S}=Ps(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const A=Ko(i),T=Uo(s),E=Ko(s)===s,k=await(c.isRTL==null?void 0:c.isRTL(d.floating)),D=m||(E||!x?[vb(s)]:AK(s)),M=b!=="none";!m&&M&&D.push(...TK(s,x,b,k));const R=[s,...D],N=await c.detectOverflow(e,S),z=[];let q=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&z.push(N[A]),h){const W=SK(i,o,k);z.push(N[W[0]],N[W[1]])}if(q=[...q,{placement:i,overflows:z}],!z.every(W=>W<=0)){var Y,K;const W=(((Y=a.flip)==null?void 0:Y.index)||0)+1,J=R[W];if(J&&(!(h==="alignment"?T!==Uo(J):!1)||q.every(F=>Uo(F.placement)===T?F.overflows[0]>0:!0)))return{data:{index:W,overflows:q},reset:{placement:J}};let L=(K=q.filter(U=>U.overflows[0]<=0).sort((U,F)=>U.overflows[1]-F.overflows[1])[0])==null?void 0:K.placement;if(!L)switch(v){case"bestFit":{var te;const U=(te=q.filter(F=>{if(M){const V=Uo(F.placement);return V===T||V==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(V=>V>0).reduce((V,G)=>V+G,0)]).sort((F,V)=>F[1]-V[1])[0])==null?void 0:te[0];U&&(L=U);break}case"initialPlacement":L=s;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function uj(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function dj(t){return yK.some(e=>t[e]>=0)}const WK=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n,platform:r}=e,{strategy:i="referenceHidden",...a}=Ps(t,e);switch(i){case"referenceHidden":{const o=await r.detectOverflow(e,{...a,elementContext:"reference"}),s=uj(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:dj(s)}}}case"escaped":{const o=await r.detectOverflow(e,{...a,altBoundary:!0}),s=uj(o,n.floating);return{data:{escapedOffsets:s,escaped:dj(s)}}}default:return{}}}}};function s$(t){const e=Yo(...t.map(a=>a.left)),n=Yo(...t.map(a=>a.top)),r=Ui(...t.map(a=>a.right)),i=Ui(...t.map(a=>a.bottom));return{x:e,y:n,width:r-e,height:i-n}}function XK(t){const e=t.slice().sort((i,a)=>i.y-a.y),n=[];let r=null;for(let i=0;i<e.length;i++){const a=e[i];!r||a.y-r.y>r.height/2?n.push([a]):n[n.length-1].push(a),r=a}return n.map(i=>oh(s$(i)))}const ZK=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:r,rects:i,platform:a,strategy:o}=e,{padding:s=2,x:c,y:d}=Ps(t,e),f=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(r.reference))||[]),h=XK(f),m=oh(s$(f)),v=OT(s);function b(){if(h.length===2&&h[0].left>h[1].right&&c!=null&&d!=null)return h.find(S=>c>S.left-v.left&&c<S.right+v.right&&d>S.top-v.top&&d<S.bottom+v.bottom)||m;if(h.length>=2){if(Uo(n)==="y"){const q=h[0],Y=h[h.length-1],K=Ko(n)==="top",te=q.top,W=Y.bottom,J=K?q.left:Y.left,L=K?q.right:Y.right,U=L-J,F=W-te;return{top:te,bottom:W,left:J,right:L,width:U,height:F,x:J,y:te}}const S=Ko(n)==="left",A=Ui(...h.map(q=>q.right)),T=Yo(...h.map(q=>q.left)),E=h.filter(q=>S?q.left===T:q.right===A),k=E[0].top,D=E[E.length-1].bottom,M=T,R=A,N=R-M,z=D-k;return{top:k,bottom:D,left:M,right:R,width:N,height:z,x:M,y:k}}return m}const x=await a.getElementRects({reference:{getBoundingClientRect:b},floating:r.floating,strategy:o});return i.reference.x!==x.reference.x||i.reference.y!==x.reference.y||i.reference.width!==x.reference.width||i.reference.height!==x.reference.height?{reset:{rects:x}}:{}}}},l$=new Set(["left","top"]);async function QK(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ko(n),s=kh(n),c=Uo(n)==="y",d=l$.has(o)?-1:1,f=a&&c?-1:1,h=Ps(e,t);let{mainAxis:m,crossAxis:v,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&typeof b=="number"&&(v=s==="end"?b*-1:b),c?{x:v*f,y:m*d}:{x:m*d,y:v*f}}const JK=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=e,c=await QK(e,t);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},eW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i,platform:a}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:c={fn:A=>{let{x:T,y:E}=A;return{x:T,y:E}}},...d}=Ps(t,e),f={x:n,y:r},h=await a.detectOverflow(e,d),m=Uo(Ko(i)),v=TT(m);let b=f[v],x=f[m];if(o){const A=v==="y"?"top":"left",T=v==="y"?"bottom":"right",E=b+h[A],k=b-h[T];b=O_(E,b,k)}if(s){const A=m==="y"?"top":"left",T=m==="y"?"bottom":"right",E=x+h[A],k=x-h[T];x=O_(E,x,k)}const S=c.fn({...e,[v]:b,[m]:x});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[v]:o,[m]:s}}}}}},tW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:s=0,mainAxis:c=!0,crossAxis:d=!0}=Ps(t,e),f={x:n,y:r},h=Uo(i),m=TT(h);let v=f[m],b=f[h];const x=Ps(s,e),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const E=m==="y"?"height":"width",k=a.reference[m]-a.floating[E]+S.mainAxis,D=a.reference[m]+a.reference[E]-S.mainAxis;v<k?v=k:v>D&&(v=D)}if(d){var A,T;const E=m==="y"?"width":"height",k=l$.has(Ko(i)),D=a.reference[h]-a.floating[E]+(k&&((A=o.offset)==null?void 0:A[h])||0)+(k?0:S.crossAxis),M=a.reference[h]+a.reference[E]+(k?0:((T=o.offset)==null?void 0:T[h])||0)-(k?S.crossAxis:0);b<D?b=D:b>M&&(b=M)}return{[m]:v,[h]:b}}}},nW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:s}=e,{apply:c=()=>{},...d}=Ps(t,e),f=await o.detectOverflow(e,d),h=Ko(i),m=kh(i),v=Uo(i)==="y",{width:b,height:x}=a.floating;let S,A;h==="top"||h==="bottom"?(S=h,A=m===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(A=h,S=m==="end"?"top":"bottom");const T=x-f.top-f.bottom,E=b-f.left-f.right,k=Yo(x-f[S],T),D=Yo(b-f[A],E),M=!e.middlewareData.shift;let R=k,N=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=T),M&&!m){const q=Ui(f.left,0),Y=Ui(f.right,0),K=Ui(f.top,0),te=Ui(f.bottom,0);v?N=b-2*(q!==0||Y!==0?q+Y:Ui(f.left,f.right)):R=x-2*(K!==0||te!==0?K+te:Ui(f.top,f.bottom))}await c({...e,availableWidth:N,availableHeight:R});const z=await o.getDimensions(s.floating);return b!==z.width||x!==z.height?{reset:{rects:!0}}:{}}}};function c$(t){const e=Ao(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ya(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,s=gb(n)!==a||gb(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function DT(t){return nr(t)?t:t.contextElement}function Wf(t){const e=DT(t);if(!Ya(e))return Es(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=c$(e);let o=(a?gb(n.width):n.width)/r,s=(a?gb(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const rW=Es(0);function u$(t){const e=Ta(t);return!G0()||!e.visualViewport?rW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function iW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ta(t)?!1:e}function cd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=DT(t);let o=Es(1);e&&(r?nr(r)&&(o=Wf(r)):o=Wf(t));const s=iW(a,n,r)?u$(a):Es(0);let c=(i.left+s.x)/o.x,d=(i.top+s.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(a){const m=Ta(a),v=r&&nr(r)?Ta(r):r;let b=m,x=P_(b);for(;x&&r&&v!==b;){const S=Wf(x),A=x.getBoundingClientRect(),T=Ao(x),E=A.left+(x.clientLeft+parseFloat(T.paddingLeft))*S.x,k=A.top+(x.clientTop+parseFloat(T.paddingTop))*S.y;c*=S.x,d*=S.y,f*=S.x,h*=S.y,c+=E,d+=k,b=Ta(x),x=P_(b)}}return oh({width:f,height:h,x:c,y:d})}function K0(t,e){const n=Y0(t).scrollLeft;return e?e.left+n:cd(Is(t)).left+n}function d$(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-K0(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function aW(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Is(r),s=e?q0(e.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},d=Es(1);const f=Es(0),h=Ya(r);if((h||!h&&!a)&&((Th(r)!=="body"||lg(o))&&(c=Y0(r)),Ya(r))){const v=cd(r);d=Wf(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const m=o&&!h&&!a?d$(o,c):Es(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+m.x,y:n.y*d.y-c.scrollTop*d.y+f.y+m.y}}function oW(t){return Array.from(t.getClientRects())}function sW(t){const e=Is(t),n=Y0(t),r=t.ownerDocument.body,i=Ui(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Ui(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+K0(t);const s=-n.scrollTop;return Ao(r).direction==="rtl"&&(o+=Ui(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}const fj=25;function lW(t,e){const n=Ta(t),r=Is(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;const f=G0();(!f||f&&e==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}const d=K0(r);if(d<=0){const f=r.ownerDocument,h=f.body,m=getComputedStyle(h),v=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(r.clientWidth-h.clientWidth-v);b<=fj&&(a-=b)}else d<=fj&&(a+=d);return{width:a,height:o,x:s,y:c}}const cW=new Set(["absolute","fixed"]);function uW(t,e){const n=cd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Ya(t)?Wf(t):Es(1),o=t.clientWidth*a.x,s=t.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:s,x:c,y:d}}function hj(t,e,n){let r;if(e==="viewport")r=lW(t,n);else if(e==="document")r=sW(Is(t));else if(nr(e))r=uW(e,n);else{const i=u$(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return oh(r)}function f$(t,e){const n=kl(t);return n===e||!nr(n)||Cl(n)?!1:Ao(n).position==="fixed"||f$(n,e)}function dW(t,e){const n=e.get(t);if(n)return n;let r=_l(t,[],!1).filter(s=>nr(s)&&Th(s)!=="body"),i=null;const a=Ao(t).position==="fixed";let o=a?kl(t):t;for(;nr(o)&&!Cl(o);){const s=Ao(o),c=ET(o);!c&&s.position==="fixed"&&(i=null),(a?!c&&!i:!c&&s.position==="static"&&!!i&&cW.has(i.position)||lg(o)&&!c&&f$(t,o))?r=r.filter(f=>f!==o):i=s,o=kl(o)}return e.set(t,r),r}function fW(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?q0(e)?[]:dW(e,this._c):[].concat(n),r],s=o[0],c=o.reduce((d,f)=>{const h=hj(e,f,i);return d.top=Ui(h.top,d.top),d.right=Yo(h.right,d.right),d.bottom=Yo(h.bottom,d.bottom),d.left=Ui(h.left,d.left),d},hj(e,s,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function hW(t){const{width:e,height:n}=c$(t);return{width:e,height:n}}function pW(t,e,n){const r=Ya(e),i=Is(e),a=n==="fixed",o=cd(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const c=Es(0);function d(){c.x=K0(i)}if(r||!r&&!a)if((Th(e)!=="body"||lg(i))&&(s=Y0(e)),r){const v=cd(e,!0,a,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else i&&d();a&&!r&&i&&d();const f=i&&!r&&!a?d$(i,s):Es(0),h=o.left+s.scrollLeft-c.x-f.x,m=o.top+s.scrollTop-c.y-f.y;return{x:h,y:m,width:o.width,height:o.height}}function FS(t){return Ao(t).position==="static"}function pj(t,e){if(!Ya(t)||Ao(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Is(t)===n&&(n=n.ownerDocument.body),n}function h$(t,e){const n=Ta(t);if(q0(t))return n;if(!Ya(t)){let i=kl(t);for(;i&&!Cl(i);){if(nr(i)&&!FS(i))return i;i=kl(i)}return n}let r=pj(t,e);for(;r&&dK(r)&&FS(r);)r=pj(r,e);return r&&Cl(r)&&FS(r)&&!ET(r)?n:r||gK(t)||n}const mW=async function(t){const e=this.getOffsetParent||h$,n=this.getDimensions,r=await n(t.floating);return{reference:pW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gW(t){return Ao(t).direction==="rtl"}const vW={convertOffsetParentRelativeRectToViewportRelativeRect:aW,getDocumentElement:Is,getClippingRect:fW,getOffsetParent:h$,getElementRects:mW,getClientRects:oW,getDimensions:hW,getScale:Wf,isElement:nr,isRTL:gW};function p$(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yW(t,e){let n=null,r;const i=Is(t);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:f,top:h,width:m,height:v}=d;if(s||e(),!m||!v)return;const b=iy(h),x=iy(i.clientWidth-(f+m)),S=iy(i.clientHeight-(h+v)),A=iy(f),E={rootMargin:-b+"px "+-x+"px "+-S+"px "+-A+"px",threshold:Ui(0,Yo(1,c))||1};let k=!0;function D(M){const R=M[0].intersectionRatio;if(R!==c){if(!k)return o();R?o(!1,R):r=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!p$(d,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(D,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,E)}n.observe(t)}return o(!0),a}function R_(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=DT(t),f=i||a?[...d?_l(d):[],..._l(e)]:[];f.forEach(A=>{i&&A.addEventListener("scroll",n,{passive:!0}),a&&A.addEventListener("resize",n)});const h=d&&s?yW(d,n):null;let m=-1,v=null;o&&(v=new ResizeObserver(A=>{let[T]=A;T&&T.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=v)==null||E.observe(e)})),n()}),d&&!c&&v.observe(d),v.observe(e));let b,x=c?cd(t):null;c&&S();function S(){const A=cd(t);x&&!p$(x,A)&&n(),x=A,b=requestAnimationFrame(S)}return n(),()=>{var A;f.forEach(T=>{i&&T.removeEventListener("scroll",n),a&&T.removeEventListener("resize",n)}),h?.(),(A=v)==null||A.disconnect(),v=null,c&&cancelAnimationFrame(b)}}const bW=JK,xW=eW,wW=KK,SW=nW,AW=WK,mj=YK,CW=ZK,_W=tW,EW=(t,e,n)=>{const r=new Map,i={platform:vW,...n},a={...i.platform,_c:r};return GK(t,e,{...i,platform:a})};var TW=typeof document<"u",kW=function(){},Ky=TW?w.useLayoutEffect:kW;function yb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!yb(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!yb(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function m$(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function gj(t,e){const n=m$(t);return Math.round(e*n)/n}function US(t){const e=w.useRef(t);return Ky(()=>{e.current=t}),e}function PW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:d}=t,[f,h]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=w.useState(r);yb(m,r)||v(r);const[b,x]=w.useState(null),[S,A]=w.useState(null),T=w.useCallback(F=>{F!==M.current&&(M.current=F,x(F))},[]),E=w.useCallback(F=>{F!==R.current&&(R.current=F,A(F))},[]),k=a||b,D=o||S,M=w.useRef(null),R=w.useRef(null),N=w.useRef(f),z=c!=null,q=US(c),Y=US(i),K=US(d),te=w.useCallback(()=>{if(!M.current||!R.current)return;const F={placement:e,strategy:n,middleware:m};Y.current&&(F.platform=Y.current),EW(M.current,R.current,F).then(V=>{const G={...V,isPositioned:K.current!==!1};W.current&&!yb(N.current,G)&&(N.current=G,Ed.flushSync(()=>{h(G)}))})},[m,e,n,Y,K]);Ky(()=>{d===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[d]);const W=w.useRef(!1);Ky(()=>(W.current=!0,()=>{W.current=!1}),[]),Ky(()=>{if(k&&(M.current=k),D&&(R.current=D),k&&D){if(q.current)return q.current(k,D,te);te()}},[k,D,te,q,z]);const J=w.useMemo(()=>({reference:M,floating:R,setReference:T,setFloating:E}),[T,E]),L=w.useMemo(()=>({reference:k,floating:D}),[k,D]),U=w.useMemo(()=>{const F={position:n,left:0,top:0};if(!L.floating)return F;const V=gj(L.floating,f.x),G=gj(L.floating,f.y);return s?{...F,transform:"translate("+V+"px, "+G+"px)",...m$(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:G}},[n,s,L.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:te,refs:J,elements:L,floatingStyles:U}),[f,te,J,L,U])}const OW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?mj({element:r.current,padding:i}).fn(n):{}:r?mj({element:r,padding:i}).fn(n):{}}}},g$=(t,e)=>({...bW(t),options:[t,e]}),MT=(t,e)=>({...xW(t),options:[t,e]}),vj=(t,e)=>({..._W(t),options:[t,e]}),bb=(t,e)=>({...wW(t),options:[t,e]}),DW=(t,e)=>({...SW(t),options:[t,e]}),MW=(t,e)=>({...AW(t),options:[t,e]}),_m=(t,e)=>({...CW(t),options:[t,e]}),v$=(t,e)=>({...OW(t),options:[t,e]});function y$(t){const e=w.useRef(void 0),n=w.useCallback(r=>{const i=t.map(a=>{if(a!=null){if(typeof a=="function"){const o=a,s=o(r);return typeof s=="function"?s:()=>{o(null)}}return a.current=r,()=>{a.current=null}}});return()=>{i.forEach(a=>a?.())}},t);return w.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}const RW="data-floating-ui-focusable",yj="active",bj="selected",jW={...mT};let xj=!1,LW=0;const wj=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+LW++;function NW(){const[t,e]=w.useState(()=>xj?wj():void 0);return Ts(()=>{t==null&&e(wj())},[]),w.useEffect(()=>{xj=!0},[]),t}const IW=jW.useId,b$=IW||NW;function zW(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var r;(r=t.get(e))==null||r.delete(n)}}}const BW=w.createContext(null),$W=w.createContext(null),RT=()=>{var t;return((t=w.useContext(BW))==null?void 0:t.id)||null},jT=()=>w.useContext($W);function LT(t){return"data-floating-ui-"+t}function mo(t){t.current!==-1&&(clearTimeout(t.current),t.current=-1)}const Sj=LT("safe-polygon");function Wy(t,e,n){if(n&&!M_(n))return 0;if(typeof t=="number")return t;if(typeof t=="function"){const r=t();return typeof r=="number"?r:r?.[e]}return t?.[e]}function HS(t){return typeof t=="function"?t():t}function FW(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:a,elements:o}=t,{enabled:s=!0,delay:c=0,handleClose:d=null,mouseOnly:f=!1,restMs:h=0,move:m=!0}=e,v=jT(),b=RT(),x=ay(d),S=ay(c),A=ay(n),T=ay(h),E=w.useRef(),k=w.useRef(-1),D=w.useRef(),M=w.useRef(-1),R=w.useRef(!0),N=w.useRef(!1),z=w.useRef(()=>{}),q=w.useRef(!1),Y=Ss(()=>{var U;const F=(U=i.current.openEvent)==null?void 0:U.type;return F?.includes("mouse")&&F!=="mousedown"});w.useEffect(()=>{if(!s)return;function U(F){let{open:V}=F;V||(mo(k),mo(M),R.current=!0,q.current=!1)}return a.on("openchange",U),()=>{a.off("openchange",U)}},[s,a]),w.useEffect(()=>{if(!s||!x.current||!n)return;function U(V){Y()&&r(!1,V,"hover")}const F=Vu(o.floating).documentElement;return F.addEventListener("mouseleave",U),()=>{F.removeEventListener("mouseleave",U)}},[o.floating,n,r,s,x,Y]);const K=w.useCallback(function(U,F,V){F===void 0&&(F=!0),V===void 0&&(V="hover");const G=Wy(S.current,"close",E.current);G&&!D.current?(mo(k),k.current=window.setTimeout(()=>r(!1,U,V),G)):F&&(mo(k),r(!1,U,V))},[S,r]),te=Ss(()=>{z.current(),D.current=void 0}),W=Ss(()=>{if(N.current){const U=Vu(o.floating).body;U.style.pointerEvents="",U.removeAttribute(Sj),N.current=!1}}),J=Ss(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);w.useEffect(()=>{if(!s)return;function U(X){if(mo(k),R.current=!1,f&&!M_(E.current)||HS(T.current)>0&&!Wy(S.current,"open"))return;const ne=Wy(S.current,"open",E.current);ne?k.current=window.setTimeout(()=>{A.current||r(!0,X,"hover")},ne):n||r(!0,X,"hover")}function F(X){if(J()){W();return}z.current();const ne=Vu(o.floating);if(mo(M),q.current=!1,x.current&&i.current.floatingContext){n||mo(k),D.current=x.current({...i.current.floatingContext,tree:v,x:X.clientX,y:X.clientY,onClose(){W(),te(),J()||K(X,!0,"safe-polygon")}});const oe=D.current;ne.addEventListener("mousemove",oe),z.current=()=>{ne.removeEventListener("mousemove",oe)};return}(E.current!=="touch"||!Rm(o.floating,X.relatedTarget))&&K(X)}function V(X){J()||i.current.floatingContext&&(x.current==null||x.current({...i.current.floatingContext,tree:v,x:X.clientX,y:X.clientY,onClose(){W(),te(),J()||K(X)}})(X))}function G(){mo(k)}function $(X){J()||K(X,!1)}if(nr(o.domReference)){const X=o.domReference,ne=o.floating;return n&&X.addEventListener("mouseleave",V),m&&X.addEventListener("mousemove",U,{once:!0}),X.addEventListener("mouseenter",U),X.addEventListener("mouseleave",F),ne&&(ne.addEventListener("mouseleave",V),ne.addEventListener("mouseenter",G),ne.addEventListener("mouseleave",$)),()=>{n&&X.removeEventListener("mouseleave",V),m&&X.removeEventListener("mousemove",U),X.removeEventListener("mouseenter",U),X.removeEventListener("mouseleave",F),ne&&(ne.removeEventListener("mouseleave",V),ne.removeEventListener("mouseenter",G),ne.removeEventListener("mouseleave",$))}}},[o,s,t,f,m,K,te,W,r,n,A,v,S,x,i,J,T]),Ts(()=>{var U;if(s&&n&&(U=x.current)!=null&&(U=U.__options)!=null&&U.blockPointerEvents&&Y()){N.current=!0;const V=o.floating;if(nr(o.domReference)&&V){var F;const G=Vu(o.floating).body;G.setAttribute(Sj,"");const $=o.domReference,X=v==null||(F=v.nodesRef.current.find(ne=>ne.id===b))==null||(F=F.context)==null?void 0:F.elements.floating;return X&&(X.style.pointerEvents=""),G.style.pointerEvents="none",$.style.pointerEvents="auto",V.style.pointerEvents="auto",()=>{G.style.pointerEvents="",$.style.pointerEvents="",V.style.pointerEvents=""}}}},[s,n,b,o,v,x,Y]),Ts(()=>{n||(E.current=void 0,q.current=!1,te(),W())},[n,te,W]),w.useEffect(()=>()=>{te(),mo(k),mo(M),W()},[s,o.domReference,te,W]);const L=w.useMemo(()=>{function U(F){E.current=F.pointerType}return{onPointerDown:U,onPointerEnter:U,onMouseMove(F){const{nativeEvent:V}=F;function G(){!R.current&&!A.current&&r(!0,V,"hover")}f&&!M_(E.current)||n||HS(T.current)===0||q.current&&F.movementX**2+F.movementY**2<2||(mo(M),E.current==="touch"?G():(q.current=!0,M.current=window.setTimeout(G,HS(T.current))))}}},[f,r,n,A,T]);return w.useMemo(()=>s?{reference:L}:{},[s,L])}const j_=()=>{},x$=w.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:j_,setState:j_,isInstantPhase:!1}),UW=()=>w.useContext(x$);function HW(t){const{children:e,delay:n,timeoutMs:r=0}=t,[i,a]=w.useReducer((c,d)=>({...c,...d}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=w.useRef(null),s=w.useCallback(c=>{a({currentId:c})},[]);return Ts(()=>{i.currentId?o.current===null?o.current=i.currentId:i.isInstantPhase||a({isInstantPhase:!0}):(i.isInstantPhase&&a({isInstantPhase:!1}),o.current=null)},[i.currentId,i.isInstantPhase]),g.jsx(x$.Provider,{value:w.useMemo(()=>({...i,setState:a,setCurrentId:s}),[i,s]),children:e})}function VW(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,floatingId:i}=t,{id:a,enabled:o=!0}=e,s=a??i,c=UW(),{currentId:d,setCurrentId:f,initialDelay:h,setState:m,timeoutMs:v}=c;return Ts(()=>{o&&d&&(m({delay:{open:1,close:Wy(h,"close")}}),d!==s&&r(!1))},[o,s,r,m,d,h]),Ts(()=>{function b(){r(!1),m({delay:h,currentId:null})}if(o&&d&&!n&&d===s){if(v){const x=window.setTimeout(b,v);return()=>{clearTimeout(x)}}b()}},[o,n,m,d,s,r,h,v]),Ts(()=>{o&&(f===j_||!n||f(s))},[o,n,f,s]),c}const qW={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},GW={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Aj=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function YW(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:a}=t,{enabled:o=!0,escapeKey:s=!0,outsidePress:c=!0,outsidePressEvent:d="pointerdown",referencePress:f=!1,referencePressEvent:h="pointerdown",ancestorScroll:m=!1,bubbles:v,capture:b}=e,x=jT(),S=Ss(typeof c=="function"?c:()=>!1),A=typeof c=="function"?S:c,T=w.useRef(!1),{escapeKey:E,outsidePress:k}=Aj(v),{escapeKey:D,outsidePress:M}=Aj(b),R=w.useRef(!1),N=Ss(W=>{var J;if(!n||!o||!s||W.key!=="Escape"||R.current)return;const L=(J=a.current.floatingContext)==null?void 0:J.nodeId,U=x?Yy(x.nodesRef.current,L):[];if(!E&&(W.stopPropagation(),U.length>0)){let F=!0;if(U.forEach(V=>{var G;if((G=V.context)!=null&&G.open&&!V.context.dataRef.current.__escapeKeyBubbles){F=!1;return}}),!F)return}r(!1,BK(W)?W.nativeEvent:W,"escape-key")}),z=Ss(W=>{var J;const L=()=>{var U;N(W),(U=Nf(W))==null||U.removeEventListener("keydown",L)};(J=Nf(W))==null||J.addEventListener("keydown",L)}),q=Ss(W=>{var J;const L=a.current.insideReactTree;a.current.insideReactTree=!1;const U=T.current;if(T.current=!1,d==="click"&&U||L||typeof A=="function"&&!A(W))return;const F=Nf(W),V="["+LT("inert")+"]",G=Vu(i.floating).querySelectorAll(V);let $=nr(F)?F:null;for(;$&&!Cl($);){const oe=kl($);if(Cl(oe)||!nr(oe))break;$=oe}if(G.length&&nr(F)&&!LK(F)&&!Rm(F,i.floating)&&Array.from(G).every(oe=>!Rm($,oe)))return;if(Ya(F)&&te){const oe=Cl(F),xe=Ao(F),be=/auto|scroll/,ze=oe||be.test(xe.overflowX),ie=oe||be.test(xe.overflowY),se=ze&&F.clientWidth>0&&F.scrollWidth>F.clientWidth,je=ie&&F.clientHeight>0&&F.scrollHeight>F.clientHeight,ue=xe.direction==="rtl",Ve=je&&(ue?W.offsetX<=F.offsetWidth-F.clientWidth:W.offsetX>F.clientWidth),Le=se&&W.offsetY>F.clientHeight;if(Ve||Le)return}const X=(J=a.current.floatingContext)==null?void 0:J.nodeId,ne=x&&Yy(x.nodesRef.current,X).some(oe=>{var xe;return $S(W,(xe=oe.context)==null?void 0:xe.elements.floating)});if($S(W,i.floating)||$S(W,i.domReference)||ne)return;const ae=x?Yy(x.nodesRef.current,X):[];if(ae.length>0){let oe=!0;if(ae.forEach(xe=>{var be;if((be=xe.context)!=null&&be.open&&!xe.context.dataRef.current.__outsidePressBubbles){oe=!1;return}}),!oe)return}r(!1,W,"outside-press")}),Y=Ss(W=>{var J;const L=()=>{var U;q(W),(U=Nf(W))==null||U.removeEventListener(d,L)};(J=Nf(W))==null||J.addEventListener(d,L)});w.useEffect(()=>{if(!n||!o)return;a.current.__escapeKeyBubbles=E,a.current.__outsidePressBubbles=k;let W=-1;function J(G){r(!1,G,"ancestor-scroll")}function L(){window.clearTimeout(W),R.current=!0}function U(){W=window.setTimeout(()=>{R.current=!1},G0()?5:0)}const F=Vu(i.floating);s&&(F.addEventListener("keydown",D?z:N,D),F.addEventListener("compositionstart",L),F.addEventListener("compositionend",U)),A&&F.addEventListener(d,M?Y:q,M);let V=[];return m&&(nr(i.domReference)&&(V=_l(i.domReference)),nr(i.floating)&&(V=V.concat(_l(i.floating))),!nr(i.reference)&&i.reference&&i.reference.contextElement&&(V=V.concat(_l(i.reference.contextElement)))),V=V.filter(G=>{var $;return G!==(($=F.defaultView)==null?void 0:$.visualViewport)}),V.forEach(G=>{G.addEventListener("scroll",J,{passive:!0})}),()=>{s&&(F.removeEventListener("keydown",D?z:N,D),F.removeEventListener("compositionstart",L),F.removeEventListener("compositionend",U)),A&&F.removeEventListener(d,M?Y:q,M),V.forEach(G=>{G.removeEventListener("scroll",J)}),window.clearTimeout(W)}},[a,i,s,A,d,n,r,m,o,E,k,N,D,z,q,M,Y]),w.useEffect(()=>{a.current.insideReactTree=!1},[a,A,d]);const K=w.useMemo(()=>({onKeyDown:N,...f&&{[qW[h]]:W=>{r(!1,W.nativeEvent,"reference-press")},...h!=="click"&&{onClick(W){r(!1,W.nativeEvent,"reference-press")}}}}),[N,r,f,h]),te=w.useMemo(()=>({onKeyDown:N,onMouseDown(){T.current=!0},onMouseUp(){T.current=!0},[GW[d]]:()=>{a.current.insideReactTree=!0}}),[N,d,a]);return w.useMemo(()=>o?{reference:K,floating:te}:{},[o,K,te])}function KW(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=b$(),a=w.useRef({}),[o]=w.useState(()=>zW()),s=RT()!=null,[c,d]=w.useState(r.reference),f=Ss((v,b,x)=>{a.current.openEvent=v?b:void 0,o.emit("openchange",{open:v,event:b,reason:x,nested:s}),n?.(v,b,x)}),h=w.useMemo(()=>({setPositionReference:d}),[]),m=w.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return w.useMemo(()=>({dataRef:a,open:e,onOpenChange:f,elements:m,events:o,floatingId:i,refs:h}),[e,f,m,o,i,h])}function NT(t){t===void 0&&(t={});const{nodeId:e}=t,n=KW({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[a,o]=w.useState(null),[s,c]=w.useState(null),f=i?.domReference||a,h=w.useRef(null),m=jT();Ts(()=>{f&&(h.current=f)},[f]);const v=PW({...t,elements:{...i,...s&&{reference:s}}}),b=w.useCallback(E=>{const k=nr(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),getClientRects:()=>E.getClientRects(),contextElement:E}:E;c(k),v.refs.setReference(k)},[v.refs]),x=w.useCallback(E=>{(nr(E)||E===null)&&(h.current=E,o(E)),(nr(v.refs.reference.current)||v.refs.reference.current===null||E!==null&&!nr(E))&&v.refs.setReference(E)},[v.refs]),S=w.useMemo(()=>({...v.refs,setReference:x,setPositionReference:b,domReference:h}),[v.refs,x,b]),A=w.useMemo(()=>({...v.elements,domReference:f}),[v.elements,f]),T=w.useMemo(()=>({...v,...r,refs:S,elements:A,nodeId:e}),[v,S,A,e,r]);return Ts(()=>{r.dataRef.current.floatingContext=T;const E=m?.nodesRef.current.find(k=>k.id===e);E&&(E.context=T)}),w.useMemo(()=>({...v,context:T,refs:S,elements:A}),[v,S,A,T])}function VS(){return MK()&&DK()}function WW(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:a,elements:o}=t,{enabled:s=!0,visibleOnly:c=!0}=e,d=w.useRef(!1),f=w.useRef(-1),h=w.useRef(!0);w.useEffect(()=>{if(!s)return;const v=Ta(o.domReference);function b(){!n&&Ya(o.domReference)&&o.domReference===lj(Vu(o.domReference))&&(d.current=!0)}function x(){h.current=!0}function S(){h.current=!1}return v.addEventListener("blur",b),VS()&&(v.addEventListener("keydown",x,!0),v.addEventListener("pointerdown",S,!0)),()=>{v.removeEventListener("blur",b),VS()&&(v.removeEventListener("keydown",x,!0),v.removeEventListener("pointerdown",S,!0))}},[o.domReference,n,s]),w.useEffect(()=>{if(!s)return;function v(b){let{reason:x}=b;(x==="reference-press"||x==="escape-key")&&(d.current=!0)}return i.on("openchange",v),()=>{i.off("openchange",v)}},[i,s]),w.useEffect(()=>()=>{mo(f)},[]);const m=w.useMemo(()=>({onMouseLeave(){d.current=!1},onFocus(v){if(d.current)return;const b=Nf(v.nativeEvent);if(c&&nr(b)){if(VS()&&!v.relatedTarget){if(!h.current&&!NK(b))return}else if(!IK(b))return}r(!0,v.nativeEvent,"focus")},onBlur(v){d.current=!1;const b=v.relatedTarget,x=v.nativeEvent,S=nr(b)&&b.hasAttribute(LT("focus-guard"))&&b.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var A;const T=lj(o.domReference?o.domReference.ownerDocument:document);!b&&T===o.domReference||Rm((A=a.current.floatingContext)==null?void 0:A.refs.floating.current,T)||Rm(o.domReference,T)||S||r(!1,x,"focus")})}}),[a,o.domReference,r,c]);return w.useMemo(()=>s?{reference:m}:{},[s,m])}function qS(t,e,n){const r=new Map,i=n==="item";let a=t;if(i&&t){const{[yj]:o,[bj]:s,...c}=t;a=c}return{...n==="floating"&&{tabIndex:-1,[RW]:""},...a,...e.map(o=>{const s=o?o[n]:null;return typeof s=="function"?t?s(t):null:s}).concat(t).reduce((o,s)=>(s&&Object.entries(s).forEach(c=>{let[d,f]=c;if(!(i&&[yj,bj].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof f=="function"){var h;(h=r.get(d))==null||h.push(f),o[d]=function(){for(var m,v=arguments.length,b=new Array(v),x=0;x<v;x++)b[x]=arguments[x];return(m=r.get(d))==null?void 0:m.map(S=>S(...b)).find(S=>S!==void 0)}}}else o[d]=f}),o),{})}}function XW(t){t===void 0&&(t=[]);const e=t.map(s=>s?.reference),n=t.map(s=>s?.floating),r=t.map(s=>s?.item),i=w.useCallback(s=>qS(s,t,"reference"),e),a=w.useCallback(s=>qS(s,t,"floating"),n),o=w.useCallback(s=>qS(s,t,"item"),r);return w.useMemo(()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:o}),[i,a,o])}const ZW=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function QW(t,e){var n,r;e===void 0&&(e={});const{open:i,elements:a,floatingId:o}=t,{enabled:s=!0,role:c="dialog"}=e,d=b$(),f=((n=a.domReference)==null?void 0:n.id)||d,h=w.useMemo(()=>{var T;return((T=zK(a.floating))==null?void 0:T.id)||o},[a.floating,o]),m=(r=ZW.get(c))!=null?r:c,b=RT()!=null,x=w.useMemo(()=>m==="tooltip"||c==="label"?{["aria-"+(c==="label"?"labelledby":"describedby")]:i?h:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":m==="alertdialog"?"dialog":m,"aria-controls":i?h:void 0,...m==="listbox"&&{role:"combobox"},...m==="menu"&&{id:f},...m==="menu"&&b&&{role:"menuitem"},...c==="select"&&{"aria-autocomplete":"none"},...c==="combobox"&&{"aria-autocomplete":"list"}},[m,h,b,i,f,c]),S=w.useMemo(()=>{const T={id:h,...m&&{role:m}};return m==="tooltip"||c==="label"?T:{...T,...m==="menu"&&{"aria-labelledby":f}}},[m,h,f,c]),A=w.useCallback(T=>{let{active:E,selected:k}=T;const D={role:"option",...E&&{id:h+"-fui-option"}};switch(c){case"select":case"combobox":return{...D,"aria-selected":k}}return{}},[h,c]);return w.useMemo(()=>s?{reference:x,floating:S,item:A}:{},[s,x,S,A])}var IT={root:"m_d57069b5",content:"m_b1336c6",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const[JW,To]=da("ScrollArea.Root component was not found in tree");function sh(t,e){const n=$u(e);Cd(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}const eX=w.forwardRef((t,e)=>{const{style:n,...r}=t,i=To(),[a,o]=w.useState(0),[s,c]=w.useState(0),d=!!(a&&s);return sh(i.scrollbarX,()=>{const f=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(f),c(f)}),sh(i.scrollbarY,()=>{const f=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(f),o(f)}),d?g.jsx("div",{...r,ref:e,style:{...n,width:a,height:s}}):null}),tX=w.forwardRef((t,e)=>{const n=To(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(eX,{...t,ref:e}):null}),nX={scrollHideDelay:1e3,type:"hover"},w$=w.forwardRef((t,e)=>{const{type:n,scrollHideDelay:r,scrollbars:i,getStyles:a,...o}=Pe("ScrollAreaRoot",nX,t),[s,c]=w.useState(null),[d,f]=w.useState(null),[h,m]=w.useState(null),[v,b]=w.useState(null),[x,S]=w.useState(null),[A,T]=w.useState(0),[E,k]=w.useState(0),[D,M]=w.useState(!1),[R,N]=w.useState(!1),z=kr(e,q=>c(q));return g.jsx(JW,{value:{type:n,scrollHideDelay:r,scrollArea:s,viewport:d,onViewportChange:f,content:h,onContentChange:m,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:D,onScrollbarXEnabledChange:M,scrollbarY:x,onScrollbarYChange:S,scrollbarYEnabled:R,onScrollbarYEnabledChange:N,onCornerWidthChange:T,onCornerHeightChange:k,getStyles:a},children:g.jsx(Me,{...o,ref:z,__vars:{"--sa-corner-width":i!=="xy"?"0px":`${A}px`,"--sa-corner-height":i!=="xy"?"0px":`${E}px`}})})});w$.displayName="@mantine/core/ScrollAreaRoot";function S$(t,e){const n=t/e;return Number.isNaN(n)?0:n}function W0(t){const e=S$(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function A$(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function rX(t,[e,n]){return Math.min(n,Math.max(e,t))}function Cj(t,e,n="ltr"){const r=W0(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,s=a-r,c=n==="ltr"?[0,o]:[o*-1,0],d=rX(t,c);return A$([0,o],[0,s])(d)}function iX(t,e,n,r="ltr"){const i=W0(n),a=i/2,o=e||a,s=i-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-s,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return A$([c,d],h)(t)}function C$(t,e){return t>0&&t<e}function Fc(t){return t?parseInt(t,10):0}function td(t,e,{checkForDefaultPrevented:n=!0}={}){return r=>{t?.(r),(n===!1||!r.defaultPrevented)&&e?.(r)}}const[aX,_$]=da("ScrollAreaScrollbar was not found in tree"),E$=w.forwardRef((t,e)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:s,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=t,m=To(),[v,b]=w.useState(null),x=kr(e,N=>b(N)),S=w.useRef(null),A=w.useRef(""),{viewport:T}=m,E=n.content-n.viewport,k=$u(d),D=$u(s),M=N0(f,10),R=N=>{if(S.current){const z=N.clientX-S.current.left,q=N.clientY-S.current.top;c({x:z,y:q})}};return w.useEffect(()=>{const N=z=>{const q=z.target;v?.contains(q)&&k(z,E)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[T,v,E,k]),w.useEffect(D,[n,D]),sh(v,M),sh(m.content,M),g.jsx(aX,{value:{scrollbar:v,hasThumb:r,onThumbChange:$u(i),onThumbPointerUp:$u(a),onThumbPositionChange:D,onThumbPointerDown:$u(o)},children:g.jsx("div",{...h,ref:x,"data-mantine-scrollbar":!0,style:{position:"absolute",...h.style},onPointerDown:td(t.onPointerDown,N=>{N.preventDefault(),N.button===0&&(N.target.setPointerCapture(N.pointerId),S.current=v.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",R(N))}),onPointerMove:td(t.onPointerMove,R),onPointerUp:td(t.onPointerUp,N=>{const z=N.target;z.hasPointerCapture(N.pointerId)&&(N.preventDefault(),z.releasePointerCapture(N.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=A.current,S.current=null}})})}),T$=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...a}=t,o=To(),[s,c]=w.useState(),d=w.useRef(null),f=kr(e,d,o.onScrollbarXChange);return w.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),g.jsx(E$,{"data-orientation":"horizontal",...a,ref:f,sizes:n,style:{...i,"--sa-thumb-width":`${W0(n)}px`},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(o.viewport){const v=o.viewport.scrollLeft+h.deltaX;t.onWheelScroll(v),C$(v,m)&&h.preventDefault()}},onResize:()=>{d.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Fc(s.paddingLeft),paddingEnd:Fc(s.paddingRight)}})}})});T$.displayName="@mantine/core/ScrollAreaScrollbarX";const k$=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...a}=t,o=To(),[s,c]=w.useState(),d=w.useRef(null),f=kr(e,d,o.onScrollbarYChange);return w.useEffect(()=>{d.current&&c(window.getComputedStyle(d.current))},[]),g.jsx(E$,{...a,"data-orientation":"vertical",ref:f,sizes:n,style:{"--sa-thumb-height":`${W0(n)}px`,...i},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(o.viewport){const v=o.viewport.scrollTop+h.deltaY;t.onWheelScroll(v),C$(v,m)&&h.preventDefault()}},onResize:()=>{d.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Fc(s.paddingTop),paddingEnd:Fc(s.paddingBottom)}})}})});k$.displayName="@mantine/core/ScrollAreaScrollbarY";const X0=w.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,{dir:i}=Eh(),a=To(),o=w.useRef(null),s=w.useRef(0),[c,d]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=S$(c.viewport,c.content),h={...r,sizes:c,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:v=>{o.current=v},onThumbPointerUp:()=>{s.current=0},onThumbPointerDown:v=>{s.current=v}},m=(v,b)=>iX(v,s.current,c,b);return n==="horizontal"?g.jsx(T$,{...h,ref:e,onThumbPositionChange:()=>{if(a.viewport&&o.current){const v=a.viewport.scrollLeft,b=Cj(v,c,i);o.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollLeft=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollLeft=m(v,i))}}):n==="vertical"?g.jsx(k$,{...h,ref:e,onThumbPositionChange:()=>{if(a.viewport&&o.current){const v=a.viewport.scrollTop,b=Cj(v,c);c.scrollbar.size===0?o.current.style.setProperty("--thumb-opacity","0"):o.current.style.setProperty("--thumb-opacity","1"),o.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollTop=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollTop=m(v))}}):null});X0.displayName="@mantine/core/ScrollAreaScrollbarVisible";const zT=w.forwardRef((t,e)=>{const n=To(),{forceMount:r,...i}=t,[a,o]=w.useState(!1),s=t.orientation==="horizontal",c=N0(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(s?d:f)}},10);return sh(n.viewport,c),sh(n.content,c),r||a?g.jsx(X0,{"data-state":a?"visible":"hidden",...i,ref:e}):null});zT.displayName="@mantine/core/ScrollAreaScrollbarAuto";const P$=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=To(),[a,o]=w.useState(!1);return w.useEffect(()=>{const{scrollArea:s}=i;let c=0;if(s){const d=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",d),s.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),s.removeEventListener("pointerenter",d),s.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),n||a?g.jsx(zT,{"data-state":a?"visible":"hidden",...r,ref:e}):null});P$.displayName="@mantine/core/ScrollAreaScrollbarHover";const oX=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=To(),a=t.orientation==="horizontal",[o,s]=w.useState("hidden"),c=N0(()=>s("idle"),100);return w.useEffect(()=>{if(o==="idle"){const d=window.setTimeout(()=>s("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[o,i.scrollHideDelay]),w.useEffect(()=>{const{viewport:d}=i,f=a?"scrollLeft":"scrollTop";if(d){let h=d[f];const m=()=>{const v=d[f];h!==v&&(s("scrolling"),c()),h=v};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,a,c]),n||o!=="hidden"?g.jsx(X0,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:td(t.onPointerEnter,()=>s("interacting")),onPointerLeave:td(t.onPointerLeave,()=>s("idle"))}):null}),L_=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=To(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=t.orientation==="horizontal";return w.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?g.jsx(P$,{...r,ref:e,forceMount:n}):i.type==="scroll"?g.jsx(oX,{...r,ref:e,forceMount:n}):i.type==="auto"?g.jsx(zT,{...r,ref:e,forceMount:n}):i.type==="always"?g.jsx(X0,{...r,ref:e}):null});L_.displayName="@mantine/core/ScrollAreaScrollbar";function sX(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=n.left!==a.left,s=n.top!==a.top;(o||s)&&e(),n=a,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)}const O$=w.forwardRef((t,e)=>{const{style:n,...r}=t,i=To(),a=_$(),{onThumbPositionChange:o}=a,s=kr(e,f=>a.onThumbChange(f)),c=w.useRef(void 0),d=N0(()=>{c.current&&(c.current(),c.current=void 0)},100);return w.useEffect(()=>{const{viewport:f}=i;if(f){const h=()=>{if(d(),!c.current){const m=sX(f,o);c.current=m,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,o]),g.jsx("div",{"data-state":a.hasThumb?"visible":"hidden",...r,ref:s,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:td(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,b=f.clientY-m.top;a.onThumbPointerDown({x:v,y:b})}),onPointerUp:td(t.onPointerUp,a.onThumbPointerUp)})});O$.displayName="@mantine/core/ScrollAreaThumb";const N_=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=_$();return n||i.hasThumb?g.jsx(O$,{ref:e,...r}):null});N_.displayName="@mantine/core/ScrollAreaThumb";const D$=w.forwardRef(({children:t,style:e,onWheel:n,...r},i)=>{const a=To(),o=kr(i,a.onViewportChange),s=c=>{if(n?.(c),a.scrollbarXEnabled&&a.viewport&&c.shiftKey){const{scrollTop:d,scrollHeight:f,clientHeight:h,scrollWidth:m,clientWidth:v}=a.viewport,b=d<1,x=d>=f-h-1;m>v&&(b||x)&&c.stopPropagation()}};return g.jsx(Me,{...r,ref:o,onWheel:s,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e},children:g.jsx("div",{...a.getStyles("content"),ref:a.onContentChange,children:t})})});D$.displayName="@mantine/core/ScrollAreaViewport";const M$={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},lX=(t,{scrollbarSize:e,overscrollBehavior:n,scrollbars:r})=>{let i=n;return n&&r&&(r==="x"?i=`${n} auto`:r==="y"&&(i=`auto ${n}`)),{root:{"--scrollarea-scrollbar-size":Oe(e),"--scrollarea-over-scroll-behavior":i}}},Fl=Ue((t,e)=>{const n=Pe("ScrollArea",M$,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,scrollbarSize:c,vars:d,type:f,scrollHideDelay:h,viewportProps:m,viewportRef:v,onScrollPositionChange:b,children:x,offsetScrollbars:S,scrollbars:A,onBottomReached:T,onTopReached:E,overscrollBehavior:k,attributes:D,...M}=n,[R,N]=w.useState(!1),[z,q]=w.useState(!1),[Y,K]=w.useState(!1),te=ut({name:"ScrollArea",props:n,classes:IT,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:D,vars:d,varsResolver:lX}),W=w.useRef(null),J=y$([v,W]);return w.useEffect(()=>{if(!W.current||S!=="present")return;const L=W.current,U=new ResizeObserver(()=>{const{scrollHeight:F,clientHeight:V,scrollWidth:G,clientWidth:$}=L;q(F>V),K(G>$)});return U.observe(L),()=>U.disconnect()},[W,S]),g.jsxs(w$,{getStyles:te,type:f==="never"?"always":f,scrollHideDelay:h,ref:e,scrollbars:A,...te("root"),...M,children:[g.jsx(D$,{...m,...te("viewport",{style:m?.style}),ref:J,"data-offset-scrollbars":S===!0?"xy":S||void 0,"data-scrollbars":A||void 0,"data-horizontal-hidden":S==="present"&&!Y?"true":void 0,"data-vertical-hidden":S==="present"&&!z?"true":void 0,onScroll:L=>{m?.onScroll?.(L),b?.({x:L.currentTarget.scrollLeft,y:L.currentTarget.scrollTop});const{scrollTop:U,scrollHeight:F,clientHeight:V}=L.currentTarget;U-(F-V)>=-.8&&T?.(),U===0&&E?.()},children:x}),(A==="xy"||A==="x")&&g.jsx(L_,{...te("scrollbar"),orientation:"horizontal","data-hidden":f==="never"||S==="present"&&!Y?!0:void 0,forceMount:!0,onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),children:g.jsx(N_,{...te("thumb")})}),(A==="xy"||A==="y")&&g.jsx(L_,{...te("scrollbar"),orientation:"vertical","data-hidden":f==="never"||S==="present"&&!z?!0:void 0,forceMount:!0,onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),children:g.jsx(N_,{...te("thumb")})}),g.jsx(tX,{...te("corner"),"data-hovered":R||void 0,"data-hidden":f==="never"||void 0})]})});Fl.displayName="@mantine/core/ScrollArea";const BT=Ue((t,e)=>{const{children:n,classNames:r,styles:i,scrollbarSize:a,scrollHideDelay:o,type:s,dir:c,offsetScrollbars:d,overscrollBehavior:f,viewportRef:h,onScrollPositionChange:m,unstyled:v,variant:b,viewportProps:x,scrollbars:S,style:A,vars:T,onBottomReached:E,onTopReached:k,onOverflowChange:D,...M}=Pe("ScrollAreaAutosize",M$,t),R=w.useRef(null),N=y$([h,R]),[z,q]=w.useState(!1),Y=w.useRef(!1);return w.useEffect(()=>{if(!D)return;const K=R.current;if(!K)return;const te=()=>{const J=K.scrollHeight>K.clientHeight;J!==z&&(Y.current?D?.(J):(Y.current=!0,J&&D?.(!0)),q(J))};te();const W=new ResizeObserver(te);return W.observe(K),()=>W.disconnect()},[D,z]),g.jsx(Me,{...M,ref:e,style:[{display:"flex",overflow:"hidden"},A],children:g.jsx(Me,{style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",...S==="y"&&{minWidth:0},...S==="x"&&{minHeight:0},...S==="xy"&&{minWidth:0,minHeight:0},...S===!1&&{minWidth:0,minHeight:0}},children:g.jsx(Fl,{classNames:r,styles:i,scrollHideDelay:o,scrollbarSize:a,type:s,dir:c,offsetScrollbars:d,overscrollBehavior:f,viewportRef:N,onScrollPositionChange:m,unstyled:v,variant:b,viewportProps:x,vars:T,scrollbars:S,onBottomReached:E,onTopReached:k,"data-autosize":"true",children:n})})})});Fl.classes=IT;BT.displayName="@mantine/core/ScrollAreaAutosize";BT.classes=IT;Fl.Autosize=BT;var R$={root:"m_87cf2631"};const cX={__staticSelector:"UnstyledButton"},Br=Ki((t,e)=>{const n=Pe("UnstyledButton",cX,t),{className:r,component:i="button",__staticSelector:a,unstyled:o,classNames:s,styles:c,style:d,attributes:f,...h}=n,m=ut({name:a,props:n,classes:R$,className:r,style:d,classNames:s,styles:c,unstyled:o,attributes:f});return g.jsx(Me,{...m("root",{focusable:!0}),component:i,ref:e,type:i==="button"?"button":void 0,...h})});Br.classes=R$;Br.displayName="@mantine/core/UnstyledButton";var j$={root:"m_515a97f8"};const $T=Ue((t,e)=>{const n=Pe("VisuallyHidden",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,attributes:d,...f}=n,h=ut({name:"VisuallyHidden",classes:j$,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:d});return g.jsx(Me,{component:"span",ref:e,...h("root"),...f})});$T.classes=j$;$T.displayName="@mantine/core/VisuallyHidden";var L$={root:"m_1b7284a3"};const uX=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:_n(e),"--paper-shadow":yT(n)}}),Lt=Ki((t,e)=>{const n=Pe("Paper",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,withBorder:c,vars:d,radius:f,shadow:h,variant:m,mod:v,attributes:b,...x}=n,S=ut({name:"Paper",props:n,classes:L$,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:b,vars:d,varsResolver:uX});return g.jsx(Me,{ref:e,mod:[{"data-with-border":c},v],...S("root"),variant:m,...x})});Lt.classes=L$;Lt.displayName="@mantine/core/Paper";function _j(t,e,n,r){return t==="center"||r==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function Ej(t,e,n,r,i){return t==="center"||r==="center"?{left:e}:t==="end"?{[i==="ltr"?"right":"left"]:n}:t==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const dX={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function fX({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:a,arrowY:o,dir:s}){const[c,d="center"]=t.split("-"),f={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[dX[c]]:r},h=-e/2;return c==="left"?{...f,..._j(d,o,n,i),right:h,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:c==="right"?{...f,..._j(d,o,n,i),left:h,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:c==="top"?{...f,...Ej(d,a,n,i,s),bottom:h,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:c==="bottom"?{...f,...Ej(d,a,n,i,s),top:h,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const xb=w.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:a,arrowX:o,arrowY:s,style:c,...d},f)=>{const{dir:h}=Eh();return a?g.jsx("div",{...d,ref:f,style:{...c,...fX({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:h,arrowX:o,arrowY:s})}}):null});xb.displayName="@mantine/core/FloatingArrow";function N$(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,r]=e.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return e}var I$={root:"m_9814e45f"};const hX={zIndex:Wa("modal")},pX=(t,{gradient:e,color:n,backgroundOpacity:r,blur:i,radius:a,zIndex:o})=>({root:{"--overlay-bg":e||(n!==void 0||r!==void 0)&&vs(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${Oe(i)})`:void 0,"--overlay-radius":a===void 0?void 0:_n(a),"--overlay-z-index":o?.toString()}}),lh=Ki((t,e)=>{const n=Pe("Overlay",hX,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,fixed:d,center:f,children:h,radius:m,zIndex:v,gradient:b,blur:x,color:S,backgroundOpacity:A,mod:T,attributes:E,...k}=n,D=ut({name:"Overlay",props:n,classes:I$,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:E,vars:c,varsResolver:pX});return g.jsx(Me,{ref:e,...D("root"),mod:[{center:f,fixed:d},T],...k,children:h})});lh.classes=I$;lh.displayName="@mantine/core/Overlay";function GS(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}function mX({target:t,reuseTargetNode:e,...n}){if(t)return typeof t=="string"?document.querySelector(t)||GS(n):t;if(e){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const i=GS(n);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return GS(n)}const gX={reuseTargetNode:!0},z$=Ue((t,e)=>{const{children:n,target:r,reuseTargetNode:i,...a}=Pe("Portal",gX,t),[o,s]=w.useState(!1),c=w.useRef(null);return Cd(()=>(s(!0),c.current=mX({target:r,reuseTargetNode:i,...a}),ah(e,c.current),!r&&!i&&c.current&&document.body.appendChild(c.current),()=>{!r&&!i&&c.current&&document.body.removeChild(c.current)}),[r]),!o||!c.current?null:Ed.createPortal(g.jsx(g.Fragment,{children:n}),c.current)});z$.displayName="@mantine/core/Portal";const Pl=Ue(({withinPortal:t=!0,children:e,...n},r)=>U0()==="test"||!t?g.jsx(g.Fragment,{children:e}):g.jsx(z$,{ref:r,...n,children:e}));Pl.displayName="@mantine/core/OptionalPortal";const Xp=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),oy={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Xp("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Xp("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Xp("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Xp("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Xp("top"),common:{transformOrigin:"top right"}}},Tj={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function vX({transition:t,state:e,duration:n,timingFunction:r}){const i={WebkitBackfaceVisibility:"hidden",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof t=="string"?t in oy?{transitionProperty:oy[t].transitionProperty,...i,...oy[t].common,...oy[t][Tj[e]]}:{}:{transitionProperty:t.transitionProperty,...i,...t.common,...t[Tj[e]]}}function yX({duration:t,exitDuration:e,timingFunction:n,mounted:r,onEnter:i,onExit:a,onEntered:o,onExited:s,enterDelay:c,exitDelay:d}){const f=Xr(),h=I0(),m=f.respectReducedMotion?h:!1,[v,b]=w.useState(m?0:t),[x,S]=w.useState(r?"entered":"exited"),A=w.useRef(-1),T=w.useRef(-1),E=w.useRef(-1);function k(){window.clearTimeout(A.current),window.clearTimeout(T.current),cancelAnimationFrame(E.current)}const D=R=>{k();const N=R?i:a,z=R?o:s,q=m?0:R?t:e;b(q),q===0?(typeof N=="function"&&N(),typeof z=="function"&&z(),S(R?"entered":"exited")):E.current=requestAnimationFrame(()=>{gm.flushSync(()=>{S(R?"pre-entering":"pre-exiting")}),E.current=requestAnimationFrame(()=>{typeof N=="function"&&N(),S(R?"entering":"exiting"),A.current=window.setTimeout(()=>{typeof z=="function"&&z(),S(R?"entered":"exited")},q)})})},M=R=>{if(k(),typeof(R?c:d)!="number"){D(R);return}T.current=window.setTimeout(()=>{D(R)},R?c:d)};return ld(()=>{M(r)},[r]),w.useEffect(()=>()=>{k()},[]),{transitionDuration:v,transitionStatus:x,transitionTimingFunction:n||"ease"}}function Wo({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:r=n,mounted:i,children:a,timingFunction:o="ease",onExit:s,onEntered:c,onEnter:d,onExited:f,enterDelay:h,exitDelay:m}){const v=U0(),{transitionDuration:b,transitionStatus:x,transitionTimingFunction:S}=yX({mounted:i,exitDuration:r,duration:n,timingFunction:o,onExit:s,onEntered:c,onEnter:d,onExited:f,enterDelay:h,exitDelay:m});return b===0||v==="test"?i?g.jsx(g.Fragment,{children:a({})}):t?a({display:"none"}):null:x==="exited"?t?a({display:"none"}):null:g.jsx(g.Fragment,{children:a(vX({transition:e,duration:b,state:x,timingFunction:S}))})}Wo.displayName="@mantine/core/Transition";const[bX,B$]=da("Popover component was not found in the tree");var $$={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};function Z0({children:t,active:e=!0,refProp:n="ref",innerRef:r}){const i=RG(e),a=kr(i,r),o=_h(t);return o?w.cloneElement(o,{[n]:a}):t}function F$(t){return g.jsx($T,{tabIndex:-1,"data-autofocus":!0,...t})}Z0.displayName="@mantine/core/FocusTrap";F$.displayName="@mantine/core/FocusTrapInitialFocus";Z0.InitialFocus=F$;const FT=Ue((t,e)=>{const n=Pe("PopoverDropdown",null,t),{className:r,style:i,vars:a,children:o,onKeyDownCapture:s,variant:c,classNames:d,styles:f,...h}=n,m=B$(),v=$5({opened:m.opened,shouldReturnFocus:m.returnFocus}),b=m.withRoles?{"aria-labelledby":m.getTargetId(),id:m.getDropdownId(),role:"dialog",tabIndex:-1}:{},x=kr(e,m.floating);return m.disabled?null:g.jsx(Pl,{...m.portalProps,withinPortal:m.withinPortal,children:g.jsx(Wo,{mounted:m.opened,...m.transitionProps,transition:m.transitionProps?.transition||"fade",duration:m.transitionProps?.duration??150,keepMounted:m.keepMounted,exitDuration:typeof m.transitionProps?.exitDuration=="number"?m.transitionProps.exitDuration:m.transitionProps?.duration,children:S=>g.jsx(Z0,{active:m.trapFocus&&m.opened,innerRef:x,children:g.jsxs(Me,{...b,...h,variant:c,onKeyDownCapture:wG(()=>{m.onClose?.(),m.onDismiss?.()},{active:m.closeOnEscape,onTrigger:v,onKeyDown:s}),"data-position":m.placement,"data-fixed":m.floatingStrategy==="fixed"||void 0,...m.getStyles("dropdown",{className:r,props:n,classNames:d,styles:f,style:[{...S,zIndex:m.zIndex,top:m.y??0,left:m.x??0,width:m.width==="target"?void 0:Oe(m.width),...m.referenceHidden?{display:"none"}:null},m.resolvedStyles.dropdown,f?.dropdown,i]}),children:[o,g.jsx(xb,{ref:m.arrowRef,arrowX:m.arrowX,arrowY:m.arrowY,visible:m.withArrow,position:m.placement,arrowSize:m.arrowSize,arrowRadius:m.arrowRadius,arrowOffset:m.arrowOffset,arrowPosition:m.arrowPosition,...m.getStyles("arrow",{props:n,classNames:d,styles:f})})]})})})})});FT.classes=$$;FT.displayName="@mantine/core/PopoverDropdown";const xX={refProp:"ref",popupType:"dialog"},U$=Ue((t,e)=>{const{children:n,refProp:r,popupType:i,...a}=Pe("PopoverTarget",xX,t),o=_h(n);if(!o)throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=a,c=B$(),d=kr(c.reference,B0(o),e),f=c.withRoles?{"aria-haspopup":i,"aria-expanded":c.opened,"aria-controls":c.opened?c.getDropdownId():void 0,id:c.getTargetId()}:{},h=o.props;return w.cloneElement(o,{...s,...f,...c.targetProps,className:Pt(c.targetProps.className,s.className,h.className),[r]:d,...c.controlled?null:{onClick:()=>{c.onToggle(),h.onClick?.()}}})});U$.displayName="@mantine/core/PopoverTarget";function wX(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function SX(t,e,n){const r=wX(t.middlewares),i=[g$(t.offset),MW()];return t.dropdownVisible&&n!=="test"&&t.preventPositionChangeWhenVisible&&(r.flip=!1),r.flip&&i.push(typeof r.flip=="boolean"?bb():bb(r.flip)),r.shift&&i.push(MT(typeof r.shift=="boolean"?{limiter:vj(),padding:5}:{limiter:vj(),padding:5,...r.shift})),r.inline&&i.push(typeof r.inline=="boolean"?_m():_m(r.inline)),i.push(v$({element:t.arrowRef,padding:t.arrowOffset})),(r.size||t.width==="target")&&i.push(DW({...typeof r.size=="boolean"?{}:r.size,apply({rects:a,availableWidth:o,availableHeight:s,...c}){const f=e().refs.floating.current?.style??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:a,availableWidth:o,availableHeight:s,...c}):Object.assign(f,{maxWidth:`${o}px`,maxHeight:`${s}px`})),t.width==="target"&&Object.assign(f,{width:`${a.reference.width}px`})}})),i}function AX(t){const e=U0(),[n,r]=Fr({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),i=w.useRef(n),a=()=>{n&&!t.disabled&&r(!1)},o=()=>{t.disabled||r(!n)},s=NT({strategy:t.strategy,placement:t.preventPositionChangeWhenVisible?t.positionRef.current:t.position,middleware:SX(t,()=>s,e),whileElementsMounted:t.keepMounted?void 0:R_});return w.useEffect(()=>{if(!(!s.refs.reference.current||!s.refs.floating.current)&&n)return R_(s.refs.reference.current,s.refs.floating.current,s.update)},[n,s.update]),ld(()=>{t.onPositionChange?.(s.placement),t.positionRef.current=s.placement},[s.placement,t.preventPositionChangeWhenVisible]),ld(()=>{n!==i.current&&(n?t.onOpen?.():t.onClose?.()),i.current=n},[n,t.onClose,t.onOpen]),Cd(()=>{let c=-1;return n&&(c=window.setTimeout(()=>t.setDropdownVisible(!0),4)),()=>{window.clearTimeout(c)}},[n,t.position]),{floating:s,controlled:typeof t.opened=="boolean",opened:n,onClose:a,onToggle:o}}const CX={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:Wa("popover"),__staticSelector:"Popover",width:"max-content"},_X=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:_n(e),"--popover-shadow":yT(n)}});function Vo(t){const e=Pe("Popover",CX,t),{children:n,position:r,offset:i,onPositionChange:a,positionDependencies:o,opened:s,transitionProps:c,onExitTransitionEnd:d,onEnterTransitionEnd:f,width:h,middlewares:m,withArrow:v,arrowSize:b,arrowOffset:x,arrowRadius:S,arrowPosition:A,unstyled:T,classNames:E,styles:k,closeOnClickOutside:D,withinPortal:M,portalProps:R,closeOnEscape:N,clickOutsideEvents:z,trapFocus:q,onClose:Y,onDismiss:K,onOpen:te,onChange:W,zIndex:J,radius:L,shadow:U,id:F,defaultOpened:V,__staticSelector:G,withRoles:$,disabled:X,returnFocus:ne,variant:ae,keepMounted:oe,vars:xe,floatingStrategy:be,withOverlay:ze,overlayProps:ie,hideDetached:se,attributes:je,preventPositionChangeWhenVisible:ue,...Ve}=e,Le=ut({name:G,props:e,classes:$$,classNames:E,styles:k,unstyled:T,attributes:je,rootSelector:"dropdown",vars:xe,varsResolver:_X}),{resolvedStyles:ct}=ka({classNames:E,styles:k,props:e}),[Qe,He]=w.useState(s??V??!1),We=w.useRef(r),nt=w.useRef(null),[Je,wt]=w.useState(null),[ft,vt]=w.useState(null),{dir:$e}=Eh(),at=U0(),Ge=hi(F),qe=AX({middlewares:m,width:h,position:N$($e,r),offset:typeof i=="number"?i+(v?b/2:0):i,arrowRef:nt,arrowOffset:x,onPositionChange:a,positionDependencies:o,opened:s,defaultOpened:V,onChange:W,onOpen:te,onClose:Y,onDismiss:K,strategy:be,dropdownVisible:Qe,setDropdownVisible:He,positionRef:We,disabled:X,preventPositionChangeWhenVisible:ue,keepMounted:oe});CG(()=>{D&&(qe.onClose(),K?.())},z,[Je,ft]);const Jt=w.useCallback(Gt=>{wt(Gt),qe.floating.refs.setReference(Gt)},[qe.floating.refs.setReference]),yn=w.useCallback(Gt=>{vt(Gt),qe.floating.refs.setFloating(Gt)},[qe.floating.refs.setFloating]),Ht=w.useCallback(()=>{c?.onExited?.(),d?.(),He(!1),ue||(We.current=r)},[c?.onExited,d,ue,r]),En=w.useCallback(()=>{c?.onEntered?.(),f?.()},[c?.onEntered,f]);return g.jsxs(bX,{value:{returnFocus:ne,disabled:X,controlled:qe.controlled,reference:Jt,floating:yn,x:qe.floating.x,y:qe.floating.y,arrowX:qe.floating?.middlewareData?.arrow?.x,arrowY:qe.floating?.middlewareData?.arrow?.y,opened:qe.opened,arrowRef:nt,transitionProps:{...c,onExited:Ht,onEntered:En},width:h,withArrow:v,arrowSize:b,arrowOffset:x,arrowRadius:S,arrowPosition:A,placement:qe.floating.placement,trapFocus:q,withinPortal:M,portalProps:R,zIndex:J,radius:L,shadow:U,closeOnEscape:N,onDismiss:K,onClose:qe.onClose,onToggle:qe.onToggle,getTargetId:()=>`${Ge}-target`,getDropdownId:()=>`${Ge}-dropdown`,withRoles:$,targetProps:Ve,__staticSelector:G,classNames:E,styles:k,unstyled:T,variant:ae,keepMounted:oe,getStyles:Le,resolvedStyles:ct,floatingStrategy:be,referenceHidden:se&&at!=="test"?qe.floating.middlewareData.hide?.referenceHidden:!1},children:[n,ze&&g.jsx(Wo,{transition:"fade",mounted:qe.opened,duration:c?.duration||250,exitDuration:c?.exitDuration||250,children:Gt=>g.jsx(Pl,{withinPortal:M,children:g.jsx(lh,{...ie,...Le("overlay",{className:ie?.className,style:[Gt,ie?.style]})})})})]})}Vo.Target=U$;Vo.Dropdown=FT;Vo.displayName="@mantine/core/Popover";Vo.extend=t=>t;var Ho={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const H$=w.forwardRef(({className:t,...e},n)=>g.jsxs(Me,{component:"span",className:Pt(Ho.barsLoader,t),...e,ref:n,children:[g.jsx("span",{className:Ho.bar}),g.jsx("span",{className:Ho.bar}),g.jsx("span",{className:Ho.bar})]}));H$.displayName="@mantine/core/Bars";const V$=w.forwardRef(({className:t,...e},n)=>g.jsxs(Me,{component:"span",className:Pt(Ho.dotsLoader,t),...e,ref:n,children:[g.jsx("span",{className:Ho.dot}),g.jsx("span",{className:Ho.dot}),g.jsx("span",{className:Ho.dot})]}));V$.displayName="@mantine/core/Dots";const q$=w.forwardRef(({className:t,...e},n)=>g.jsx(Me,{component:"span",className:Pt(Ho.ovalLoader,t),...e,ref:n}));q$.displayName="@mantine/core/Oval";const G$={bars:H$,oval:q$,dots:V$},EX={loaders:G$,type:"oval"},TX=(t,{size:e,color:n})=>({root:{"--loader-size":Mt(e,"loader-size"),"--loader-color":n?Kn(n,t):void 0}}),Ri=Ue((t,e)=>{const n=Pe("Loader",EX,t),{size:r,color:i,type:a,vars:o,className:s,style:c,classNames:d,styles:f,unstyled:h,loaders:m,variant:v,children:b,attributes:x,...S}=n,A=ut({name:"Loader",props:n,classes:Ho,className:s,style:c,classNames:d,styles:f,unstyled:h,attributes:x,vars:o,varsResolver:TX});return b?g.jsx(Me,{...A("root"),ref:e,...S,children:b}):g.jsx(Me,{...A("root"),ref:e,component:m[a],variant:v,size:r,...S})});Ri.defaultLoaders=G$;Ri.classes=Ho;Ri.displayName="@mantine/core/Loader";var Ph={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const kj={orientation:"horizontal"},kX=(t,{borderWidth:e})=>({group:{"--ai-border-width":Oe(e)}}),UT=Ue((t,e)=>{const n=Pe("ActionIconGroup",kj,t),{className:r,style:i,classNames:a,styles:o,unstyled:s,orientation:c,vars:d,borderWidth:f,variant:h,mod:m,attributes:v,...b}=Pe("ActionIconGroup",kj,t),x=ut({name:"ActionIconGroup",props:n,classes:Ph,className:r,style:i,classNames:a,styles:o,unstyled:s,attributes:v,vars:d,varsResolver:kX,rootSelector:"group"});return g.jsx(Me,{...x("group"),ref:e,variant:h,mod:[{"data-orientation":c},m],role:"group",...b})});UT.classes=Ph;UT.displayName="@mantine/core/ActionIconGroup";const PX=(t,{radius:e,color:n,gradient:r,variant:i,autoContrast:a,size:o})=>{const s=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:a});return{groupSection:{"--section-height":Mt(o,"section-height"),"--section-padding-x":Mt(o,"section-padding-x"),"--section-fz":cr(o),"--section-radius":e===void 0?void 0:_n(e),"--section-bg":n||i?s.background:void 0,"--section-color":s.color,"--section-bd":n||i?s.border:void 0}}},HT=Ue((t,e)=>{const n=Pe("ActionIconGroupSection",null,t),{className:r,style:i,classNames:a,styles:o,unstyled:s,vars:c,variant:d,gradient:f,radius:h,autoContrast:m,attributes:v,...b}=n,x=ut({name:"ActionIconGroupSection",props:n,classes:Ph,className:r,style:i,classNames:a,styles:o,unstyled:s,attributes:v,vars:c,varsResolver:PX,rootSelector:"groupSection"});return g.jsx(Me,{...x("groupSection"),ref:e,variant:d,...b})});HT.classes=Ph;HT.displayName="@mantine/core/ActionIconGroupSection";const OX=(t,{size:e,radius:n,variant:r,gradient:i,color:a,autoContrast:o})=>{const s=t.variantColorResolver({color:a||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:o});return{root:{"--ai-size":Mt(e,"ai-size"),"--ai-radius":n===void 0?void 0:_n(n),"--ai-bg":a||r?s.background:void 0,"--ai-hover":a||r?s.hover:void 0,"--ai-hover-color":a||r?s.hoverColor:void 0,"--ai-color":s.color,"--ai-bd":a||r?s.border:void 0}}},Di=Ki((t,e)=>{const n=Pe("ActionIcon",null,t),{className:r,unstyled:i,variant:a,classNames:o,styles:s,style:c,loading:d,loaderProps:f,size:h,color:m,radius:v,__staticSelector:b,gradient:x,vars:S,children:A,disabled:T,"data-disabled":E,autoContrast:k,mod:D,attributes:M,...R}=n,N=ut({name:["ActionIcon",b],props:n,className:r,style:c,classes:Ph,classNames:o,styles:s,unstyled:i,attributes:M,vars:S,varsResolver:OX});return g.jsxs(Br,{...N("root",{active:!T&&!d&&!E}),...R,unstyled:i,variant:a,size:h,disabled:T||d,ref:e,mod:[{loading:d,disabled:T||E},D],children:[typeof d=="boolean"&&g.jsx(Wo,{mounted:d,transition:"slide-down",duration:150,children:z=>g.jsx(Me,{component:"span",...N("loader",{style:z}),"aria-hidden":!0,children:g.jsx(Ri,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...f})})}),g.jsx(Me,{component:"span",mod:{loading:d},...N("icon"),children:A})]})});Di.classes=Ph;Di.displayName="@mantine/core/ActionIcon";Di.Group=UT;Di.GroupSection=HT;const Y$=w.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},r)=>g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:r,...n,children:g.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));Y$.displayName="@mantine/core/CloseIcon";var K$={root:"m_86a44da5","root--subtle":"m_220c80f2"};const DX={variant:"subtle"},MX=(t,{size:e,radius:n,iconSize:r})=>({root:{"--cb-size":Mt(e,"cb-size"),"--cb-radius":n===void 0?void 0:_n(n),"--cb-icon-size":Oe(r)}}),zs=Ki((t,e)=>{const n=Pe("CloseButton",DX,t),{iconSize:r,children:i,vars:a,radius:o,className:s,classNames:c,style:d,styles:f,unstyled:h,"data-disabled":m,disabled:v,variant:b,icon:x,mod:S,attributes:A,__staticSelector:T,...E}=n,k=ut({name:T||"CloseButton",props:n,className:s,style:d,classes:K$,classNames:c,styles:f,unstyled:h,attributes:A,vars:a,varsResolver:MX});return g.jsxs(Br,{ref:e,...E,unstyled:h,variant:b,disabled:v,mod:[{disabled:v||m},S],...k("root",{variant:b,active:!v&&!m}),children:[x||g.jsx(Y$,{}),i]})});zs.classes=K$;zs.displayName="@mantine/core/CloseButton";function RX(t){return w.Children.toArray(t).filter(Boolean)}var W$={root:"m_4081bf90"};const jX={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},LX=(t,{grow:e,preventGrowOverflow:n,gap:r,align:i,justify:a,wrap:o},{childWidth:s})=>({root:{"--group-child-width":e&&n?s:void 0,"--group-gap":zr(r),"--group-align":i,"--group-justify":a,"--group-wrap":o}}),Be=Ue((t,e)=>{const n=Pe("Group",jX,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,children:c,gap:d,align:f,justify:h,wrap:m,grow:v,preventGrowOverflow:b,vars:x,variant:S,__size:A,mod:T,attributes:E,...k}=n,D=RX(c),M=D.length,R=zr(d??"md"),z={childWidth:`calc(${100/M}% - (${R} - ${R} / ${M}))`},q=ut({name:"Group",props:n,stylesCtx:z,className:i,style:a,classes:W$,classNames:r,styles:o,unstyled:s,attributes:E,vars:x,varsResolver:LX});return g.jsx(Me,{...q("root"),ref:e,variant:S,mod:[{grow:v},T],size:A,...k,children:D})});Be.classes=W$;Be.displayName="@mantine/core/Group";const[NX,Ul]=da("ModalBase component was not found in tree");function IX({opened:t,transitionDuration:e}){const[n,r]=w.useState(t),i=w.useRef(-1),o=I0()?0:e;return w.useEffect(()=>(t?(r(!0),window.clearTimeout(i.current)):o===0?r(!1):i.current=window.setTimeout(()=>r(!1),o),()=>window.clearTimeout(i.current)),[t,o]),n}function zX({id:t,transitionProps:e,opened:n,trapFocus:r,closeOnEscape:i,onClose:a,returnFocus:o}){const s=hi(t),[c,d]=w.useState(!1),[f,h]=w.useState(!1),m=typeof e?.duration=="number"?e?.duration:200,v=IX({opened:n,transitionDuration:m});return V5("keydown",b=>{b.key==="Escape"&&i&&!b.isComposing&&n&&b.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&a()},{capture:!0}),$5({opened:n,shouldReturnFocus:r&&o}),{_id:s,titleMounted:c,bodyMounted:f,shouldLockScroll:v,setTitleMounted:d,setBodyMounted:h}}const X$=w.forwardRef(({keepMounted:t,opened:e,onClose:n,id:r,transitionProps:i,onExitTransitionEnd:a,onEnterTransitionEnd:o,trapFocus:s,closeOnEscape:c,returnFocus:d,closeOnClickOutside:f,withinPortal:h,portalProps:m,lockScroll:v,children:b,zIndex:x,shadow:S,padding:A,__vars:T,unstyled:E,removeScrollProps:k,...D},M)=>{const{_id:R,titleMounted:N,bodyMounted:z,shouldLockScroll:q,setTitleMounted:Y,setBodyMounted:K}=zX({id:r,transitionProps:i,opened:e,trapFocus:s,closeOnEscape:c,onClose:n,returnFocus:d}),{key:te,...W}=k||{};return g.jsx(Pl,{...m,withinPortal:h,children:g.jsx(NX,{value:{opened:e,onClose:n,closeOnClickOutside:f,onExitTransitionEnd:a,onEnterTransitionEnd:o,transitionProps:{...i,keepMounted:t},getTitleId:()=>`${R}-title`,getBodyId:()=>`${R}-body`,titleMounted:N,bodyMounted:z,setTitleMounted:Y,setBodyMounted:K,trapFocus:s,closeOnEscape:c,zIndex:x,unstyled:E},children:g.jsx(sd,{enabled:q&&v,...W,children:g.jsx(Me,{ref:M,...D,__vars:{...T,"--mb-z-index":(x||Wa("modal")).toString(),"--mb-shadow":yT(S),"--mb-padding":zr(A)},children:b})},te)})})});X$.displayName="@mantine/core/ModalBase";var ch={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};function BX(){const t=Ul();return w.useEffect(()=>(t.setBodyMounted(!0),()=>t.setBodyMounted(!1)),[]),t.getBodyId()}const Z$=w.forwardRef(({className:t,...e},n)=>{const r=BX(),i=Ul();return g.jsx(Me,{ref:n,...e,id:r,className:Pt({[ch.body]:!i.unstyled},t)})});Z$.displayName="@mantine/core/ModalBaseBody";const Q$=w.forwardRef(({className:t,onClick:e,...n},r)=>{const i=Ul();return g.jsx(zs,{ref:r,...n,onClick:a=>{i.onClose(),e?.(a)},className:Pt({[ch.close]:!i.unstyled},t),unstyled:i.unstyled})});Q$.displayName="@mantine/core/ModalBaseCloseButton";const J$=w.forwardRef(({transitionProps:t,className:e,innerProps:n,onKeyDown:r,style:i,...a},o)=>{const s=Ul();return g.jsx(Wo,{mounted:s.opened,transition:"pop",...s.transitionProps,onExited:()=>{s.onExitTransitionEnd?.(),s.transitionProps?.onExited?.()},onEntered:()=>{s.onEnterTransitionEnd?.(),s.transitionProps?.onEntered?.()},...t,children:c=>g.jsx("div",{...n,className:Pt({[ch.inner]:!s.unstyled},n.className),children:g.jsx(Z0,{active:s.opened&&s.trapFocus,innerRef:o,children:g.jsx(Lt,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":s.bodyMounted?s.getBodyId():void 0,"aria-labelledby":s.titleMounted?s.getTitleId():void 0,style:[i,c],className:Pt({[ch.content]:!s.unstyled},e),unstyled:s.unstyled,children:a.children})})})})});J$.displayName="@mantine/core/ModalBaseContent";const e4=w.forwardRef(({className:t,...e},n)=>{const r=Ul();return g.jsx(Me,{component:"header",ref:n,className:Pt({[ch.header]:!r.unstyled},t),...e})});e4.displayName="@mantine/core/ModalBaseHeader";const $X={duration:200,timingFunction:"ease",transition:"fade"};function FX(t){const e=Ul();return{...$X,...e.transitionProps,...t}}const t4=w.forwardRef(({onClick:t,transitionProps:e,style:n,visible:r,...i},a)=>{const o=Ul(),s=FX(e);return g.jsx(Wo,{mounted:r!==void 0?r:o.opened,...s,transition:"fade",children:c=>g.jsx(lh,{ref:a,fixed:!0,style:[n,c],zIndex:o.zIndex,unstyled:o.unstyled,onClick:d=>{t?.(d),o.closeOnClickOutside&&o.onClose()},...i})})});t4.displayName="@mantine/core/ModalBaseOverlay";function UX(){const t=Ul();return w.useEffect(()=>(t.setTitleMounted(!0),()=>t.setTitleMounted(!1)),[]),t.getTitleId()}const n4=w.forwardRef(({className:t,...e},n)=>{const r=UX(),i=Ul();return g.jsx(Me,{component:"h2",ref:n,className:Pt({[ch.title]:!i.unstyled},t),...e,id:r})});n4.displayName="@mantine/core/ModalBaseTitle";function HX({children:t}){return g.jsx(g.Fragment,{children:t})}const[VX,qX]=Xc({size:"sm"});var ko={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const r4=Ue((t,e)=>{const n=Pe("InputClearButton",null,t),{size:r,variant:i,vars:a,classNames:o,styles:s,...c}=n,d=qX(),{resolvedClassNames:f,resolvedStyles:h}=ka({classNames:o,styles:s,props:n});return g.jsx(zs,{variant:i||"transparent",ref:e,size:r||d?.size||"sm",classNames:f,styles:h,__staticSelector:"InputClearButton",style:{pointerEvents:"all",background:"var(--input-bg)",...c.style},...c})});r4.displayName="@mantine/core/InputClearButton";const GX={xs:7,sm:8,md:10,lg:12,xl:15};function YX({__clearable:t,__clearSection:e,rightSection:n,__defaultRightSection:r,size:i="sm"}){const a=t&&e;return a&&(n||r)?g.jsxs("div",{"data-combined-clear-section":!0,style:{display:"flex",gap:2,alignItems:"center",paddingInlineEnd:GX[i]},children:[a,n||r]}):n===null?null:n||a||r}const[KX,Oh]=Xc({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0}),WX=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${cr(e)} - ${Oe(2)})`}}),Q0=Ue((t,e)=>{const n=Pe("InputDescription",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,size:d,__staticSelector:f,__inheritStyles:h=!0,attributes:m,variant:v,...b}=Pe("InputDescription",null,n),x=Oh(),S=ut({name:["InputWrapper",f],props:n,classes:ko,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:m,rootSelector:"description",vars:c,varsResolver:WX}),A=h&&x?.getStyles||S;return g.jsx(Me,{component:"p",ref:e,variant:v,size:d,...A("description",x?.getStyles?{className:i,style:a}:void 0),...b})});Q0.classes=ko;Q0.displayName="@mantine/core/InputDescription";const XX=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${cr(e)} - ${Oe(2)})`}}),J0=Ue((t,e)=>{const n=Pe("InputError",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,size:d,attributes:f,__staticSelector:h,__inheritStyles:m=!0,variant:v,...b}=n,x=ut({name:["InputWrapper",h],props:n,classes:ko,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:f,rootSelector:"error",vars:c,varsResolver:XX}),S=Oh(),A=m&&S?.getStyles||x;return g.jsx(Me,{component:"p",ref:e,variant:v,size:d,...A("error",S?.getStyles?{className:i,style:a}:void 0),...b})});J0.classes=ko;J0.displayName="@mantine/core/InputError";const Pj={labelElement:"label"},ZX=(t,{size:e})=>({label:{"--input-label-size":cr(e),"--input-asterisk-color":void 0}}),ex=Ue((t,e)=>{const n=Pe("InputLabel",Pj,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,labelElement:d,size:f,required:h,htmlFor:m,onMouseDown:v,children:b,__staticSelector:x,variant:S,mod:A,attributes:T,...E}=Pe("InputLabel",Pj,n),k=ut({name:["InputWrapper",x],props:n,classes:ko,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:T,rootSelector:"label",vars:c,varsResolver:ZX}),D=Oh(),M=D?.getStyles||k;return g.jsxs(Me,{...M("label",D?.getStyles?{className:i,style:a}:void 0),component:d,variant:S,size:f,ref:e,htmlFor:d==="label"?m:void 0,mod:[{required:h},A],onMouseDown:R=>{v?.(R),!R.defaultPrevented&&R.detail>1&&R.preventDefault()},...E,children:[b,h&&g.jsx("span",{...M("required"),"aria-hidden":!0,children:" *"})]})});ex.classes=ko;ex.displayName="@mantine/core/InputLabel";const VT=Ue((t,e)=>{const n=Pe("InputPlaceholder",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,__staticSelector:d,variant:f,error:h,mod:m,attributes:v,...b}=n,x=ut({name:["InputPlaceholder",d],props:n,classes:ko,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:v,rootSelector:"placeholder"});return g.jsx(Me,{...x("placeholder"),mod:[{error:!!h},m],component:"span",variant:f,ref:e,...b})});VT.classes=ko;VT.displayName="@mantine/core/InputPlaceholder";function QX(t,{hasDescription:e,hasError:n}){const r=t.findIndex(c=>c==="input"),i=t.slice(0,r),a=t.slice(r+1),o=e&&i.includes("description")||n&&i.includes("error");return{offsetBottom:e&&a.includes("description")||n&&a.includes("error"),offsetTop:o}}const JX={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},eZ=(t,{size:e})=>({label:{"--input-label-size":cr(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${cr(e)} - ${Oe(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${cr(e)} - ${Oe(2)})`}}),qT=Ue((t,e)=>{const n=Pe("InputWrapper",JX,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,size:d,variant:f,__staticSelector:h,inputContainer:m,inputWrapperOrder:v,label:b,error:x,description:S,labelProps:A,descriptionProps:T,errorProps:E,labelElement:k,children:D,withAsterisk:M,id:R,required:N,__stylesApiProps:z,mod:q,attributes:Y,...K}=n,te=ut({name:["InputWrapper",h],props:z||n,classes:ko,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:Y,vars:c,varsResolver:eZ}),W={size:d,variant:f,__staticSelector:h},J=hi(R),L=typeof M=="boolean"?M:N,U=E?.id||`${J}-error`,F=T?.id||`${J}-description`,V=J,G=!!x&&typeof x!="boolean",$=!!S,X=`${G?U:""} ${$?F:""}`,ne=X.trim().length>0?X.trim():void 0,ae=A?.id||`${J}-label`,oe=b&&g.jsx(ex,{labelElement:k,id:ae,htmlFor:V,required:L,...W,...A,children:b},"label"),xe=$&&g.jsx(Q0,{...T,...W,size:T?.size||W.size,id:T?.id||F,children:S},"description"),be=g.jsx(w.Fragment,{children:m(D)},"input"),ze=G&&w.createElement(J0,{...E,...W,size:E?.size||W.size,key:"error",id:E?.id||U},x),ie=v.map(se=>{switch(se){case"label":return oe;case"input":return be;case"description":return xe;case"error":return ze;default:return null}});return g.jsx(KX,{value:{getStyles:te,describedBy:ne,inputId:V,labelId:ae,...QX(v,{hasDescription:$,hasError:G})},children:g.jsx(Me,{ref:e,variant:f,size:d,mod:[{error:!!x},q],...te("root"),...K,children:ie})})});qT.classes=ko;qT.displayName="@mantine/core/InputWrapper";const tZ={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},nZ=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Mt(e.size,"input-height"),"--input-fz":cr(e.size),"--input-radius":e.radius===void 0?void 0:_n(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?Oe(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?Oe(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?Mt(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),qn=Ki((t,e)=>{const n=Pe("Input",tZ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,required:c,__staticSelector:d,__stylesApiProps:f,size:h,wrapperProps:m,error:v,disabled:b,leftSection:x,leftSectionProps:S,leftSectionWidth:A,rightSection:T,rightSectionProps:E,rightSectionWidth:k,rightSectionPointerEvents:D,leftSectionPointerEvents:M,variant:R,vars:N,pointer:z,multiline:q,radius:Y,id:K,withAria:te,withErrorStyles:W,mod:J,inputSize:L,attributes:U,__clearSection:F,__clearable:V,__defaultRightSection:G,...$}=n,{styleProps:X,rest:ne}=Zc($),ae=Oh(),oe={offsetBottom:ae?.offsetBottom,offsetTop:ae?.offsetTop},xe=ut({name:["Input",d],props:f||n,classes:ko,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:U,stylesCtx:oe,rootSelector:"wrapper",vars:N,varsResolver:nZ}),be=te?{required:c,disabled:b,"aria-invalid":!!v,"aria-describedby":ae?.describedBy,id:ae?.inputId||K}:{},ze=YX({__clearable:V,__clearSection:F,rightSection:T,__defaultRightSection:G,size:h});return g.jsx(VX,{value:{size:h||"sm"},children:g.jsxs(Me,{...xe("wrapper"),...X,...m,mod:[{error:!!v&&W,pointer:z,disabled:b,multiline:q,"data-with-right-section":!!ze,"data-with-left-section":!!x},J],variant:R,size:h,children:[x&&g.jsx("div",{...S,"data-position":"left",...xe("section",{className:S?.className,style:S?.style}),children:x}),g.jsx(Me,{component:"input",...ne,...be,ref:e,required:c,mod:{disabled:b,error:!!v&&W},variant:R,__size:L,...xe("input")}),ze&&g.jsx("div",{...E,"data-position":"right",...xe("section",{className:E?.className,style:E?.style}),children:ze})]})})});qn.classes=ko;qn.Wrapper=qT;qn.Label=ex;qn.Error=J0;qn.Description=Q0;qn.Placeholder=VT;qn.ClearButton=r4;qn.displayName="@mantine/core/Input";function i4(t,e,n){const r=Pe(t,e,n),{label:i,description:a,error:o,required:s,classNames:c,styles:d,className:f,unstyled:h,__staticSelector:m,__stylesApiProps:v,errorProps:b,labelProps:x,descriptionProps:S,wrapperProps:A,id:T,size:E,style:k,inputContainer:D,inputWrapperOrder:M,withAsterisk:R,variant:N,vars:z,mod:q,attributes:Y,...K}=r,{styleProps:te,rest:W}=Zc(K),J={label:i,description:a,error:o,required:s,classNames:c,className:f,__staticSelector:m,__stylesApiProps:v||r,errorProps:b,labelProps:x,descriptionProps:S,unstyled:h,styles:d,size:E,style:k,inputContainer:D,inputWrapperOrder:M,withAsterisk:R,variant:N,id:T,mod:q,attributes:Y,...A};return{...W,classNames:c,styles:d,unstyled:h,wrapperProps:{...J,...te},inputProps:{required:s,classNames:c,styles:d,unstyled:h,size:E,__staticSelector:m,__stylesApiProps:v||r,error:o,variant:N,id:T,attributes:Y}}}const rZ={__staticSelector:"InputBase",withAria:!0,size:"sm"},Wi=Ki((t,e)=>{const{inputProps:n,wrapperProps:r,...i}=i4("InputBase",rZ,t);return g.jsx(qn.Wrapper,{...r,children:g.jsx(qn,{...n,...i,ref:e})})});Wi.classes={...qn.classes,...qn.Wrapper.classes};Wi.displayName="@mantine/core/InputBase";var a4={root:"m_96b553a6"};function iZ(t,e){if(!e||!t)return!1;let n=e.parentNode;for(;n!=null;){if(n===t)return!0;n=n.parentNode}return!1}function aZ({target:t,parent:e,ref:n,displayAfterTransitionEnd:r}){const i=w.useRef(-1),[a,o]=w.useState(!1),[s,c]=w.useState(typeof r=="boolean"?r:!1),d=()=>{if(!t||!e||!n.current)return;const v=t.getBoundingClientRect(),b=e.getBoundingClientRect(),x=window.getComputedStyle(t),S=window.getComputedStyle(e),A=Fc(x.borderTopWidth)+Fc(S.borderTopWidth),T=Fc(x.borderLeftWidth)+Fc(S.borderLeftWidth),E={top:v.top-b.top-A,left:v.left-b.left-T,width:v.width,height:v.height};n.current.style.transform=`translateY(${E.top}px) translateX(${E.left}px)`,n.current.style.width=`${E.width}px`,n.current.style.height=`${E.height}px`},f=()=>{window.clearTimeout(i.current),n.current&&(n.current.style.transitionDuration="0ms"),d(),i.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},h=w.useRef(null),m=w.useRef(null);return w.useEffect(()=>{if(d(),t)return h.current=new ResizeObserver(f),h.current.observe(t),e&&(m.current=new ResizeObserver(f),m.current.observe(e)),()=>{h.current?.disconnect(),m.current?.disconnect()}},[e,t]),w.useEffect(()=>{if(e){const v=b=>{iZ(b.target,e)&&(f(),c(!1))};return e.addEventListener("transitionend",v),()=>{e.removeEventListener("transitionend",v)}}},[e]),FG(()=>{G5()!=="test"&&o(!0)},20,{autoInvoke:!0}),HG(v=>{v.forEach(b=>{b.type==="attributes"&&b.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:a,hidden:s}}const oZ=(t,{transitionDuration:e})=>({root:{"--transition-duration":typeof e=="number"?`${e}ms`:e}}),GT=Ue((t,e)=>{const n=Pe("FloatingIndicator",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,target:d,parent:f,transitionDuration:h,mod:m,displayAfterTransitionEnd:v,attributes:b,...x}=n,S=ut({name:"FloatingIndicator",classes:a4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:b,vars:c,varsResolver:oZ}),A=w.useRef(null),{initialized:T,hidden:E}=aZ({target:d,parent:f,ref:A,displayAfterTransitionEnd:v}),k=kr(e,A);return!d||!f?null:g.jsx(Me,{ref:k,mod:[{initialized:T,hidden:E},m],...S("root"),...x})});GT.displayName="@mantine/core/FloatingIndicator";GT.classes=a4;const[sZ,YT]=da("Accordion component was not found in the tree");var cg={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};function uh({style:t,size:e=16,...n}){return g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:Oe(e),height:Oe(e),display:"block"},...n,children:g.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}uh.displayName="@mantine/core/AccordionChevron";const[lZ,o4]=da("Accordion.Item component was not found in the tree"),KT=Ue((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,chevron:s,icon:c,onClick:d,onKeyDown:f,children:h,disabled:m,mod:v,...b}=Pe("AccordionControl",null,t),{value:x}=o4(),S=YT(),A=S.isItemActive(x),T=typeof S.order=="number",E=`h${S.order}`,k=g.jsxs(Br,{...b,...S.getStyles("control",{className:r,classNames:n,style:i,styles:a,variant:S.variant}),unstyled:S.unstyled,mod:["accordion-control",{active:A,"chevron-position":S.chevronPosition,disabled:m},v],ref:e,onClick:D=>{d?.(D),S.onChange(x)},type:"button",disabled:m,"aria-expanded":A,"aria-controls":S.getRegionId(x),id:S.getControlId(x),onKeyDown:z5({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:S.loop,orientation:"vertical",onKeyDown:f}),children:[g.jsx(Me,{component:"span",mod:{rotate:!S.disableChevronRotation&&A,position:S.chevronPosition},...S.getStyles("chevron",{classNames:n,styles:a}),children:s||S.chevron}),g.jsx("span",{...S.getStyles("label",{classNames:n,styles:a}),children:h}),c&&g.jsx(Me,{component:"span",mod:{"chevron-position":S.chevronPosition},...S.getStyles("icon",{classNames:n,styles:a}),children:c})]});return T?g.jsx(E,{...S.getStyles("itemTitle",{classNames:n,styles:a}),children:k}):k});KT.displayName="@mantine/core/AccordionControl";KT.classes=cg;const WT=Ue((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,value:s,mod:c,...d}=Pe("AccordionItem",null,t),f=YT();return g.jsx(lZ,{value:{value:s},children:g.jsx(Me,{ref:e,mod:[{active:f.isItemActive(s)},c],...f.getStyles("item",{className:r,classNames:n,styles:a,style:i,variant:f.variant}),...d})})});WT.displayName="@mantine/core/AccordionItem";WT.classes=cg;const XT=Ue((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,children:s,...c}=Pe("AccordionPanel",null,t),{value:d}=o4(),f=YT();return g.jsx(sg,{ref:e,...f.getStyles("panel",{className:r,classNames:n,style:i,styles:a}),...c,in:f.isItemActive(d),transitionDuration:f.transitionDuration??200,role:"region",id:f.getRegionId(d),"aria-labelledby":f.getControlId(d),children:g.jsx("div",{...f.getStyles("content",{classNames:n,styles:a}),children:s})})});XT.displayName="@mantine/core/AccordionPanel";XT.classes=cg;const cZ={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevronSize:"auto",chevronIconSize:16},uZ=(t,{transitionDuration:e,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":e===void 0?void 0:`${e}ms`,"--accordion-chevron-size":n===void 0?void 0:Oe(n),"--accordion-radius":r===void 0?void 0:_n(r)}});function ki(t){const e=Pe("Accordion",cZ,t),{classNames:n,className:r,style:i,styles:a,unstyled:o,vars:s,children:c,multiple:d,value:f,defaultValue:h,onChange:m,id:v,loop:b,transitionDuration:x,disableChevronRotation:S,chevronPosition:A,chevronSize:T,order:E,chevron:k,variant:D,radius:M,chevronIconSize:R,attributes:N,...z}=e,q=hi(v),[Y,K]=Fr({value:f,defaultValue:h,finalValue:d?[]:null,onChange:m}),te=L=>Array.isArray(Y)?Y.includes(L):L===Y,W=L=>{const U=Array.isArray(Y)?Y.includes(L)?Y.filter(F=>F!==L):[...Y,L]:L===Y?null:L;K(U)},J=ut({name:"Accordion",classes:cg,props:e,className:r,style:i,classNames:n,styles:a,unstyled:o,attributes:N,vars:s,varsResolver:uZ});return g.jsx(sZ,{value:{isItemActive:te,onChange:W,getControlId:fb(`${q}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:fb(`${q}-panel`,"Accordion.Item component was rendered with invalid value or without value"),chevron:k===null?null:k||g.jsx(uh,{size:R}),transitionDuration:x,disableChevronRotation:S,chevronPosition:A,order:E,loop:b,getStyles:J,variant:D,unstyled:o},children:g.jsx(Me,{...J("root"),id:q,...z,variant:D,"data-accordion":!0,children:c})})}const dZ=t=>t;ki.extend=dZ;ki.withProps=rK(ki);ki.classes=cg;ki.displayName="@mantine/core/Accordion";ki.Item=WT;ki.Panel=XT;ki.Control=KT;ki.Chevron=uh;var s4={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const fZ=(t,{radius:e,color:n,variant:r,autoContrast:i})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,variant:r||"light",autoContrast:i});return{root:{"--alert-radius":e===void 0?void 0:_n(e),"--alert-bg":n||r?a.background:void 0,"--alert-color":a.color,"--alert-bd":n||r?a.border:void 0}}},Kt=Ue((t,e)=>{const n=Pe("Alert",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,radius:d,color:f,title:h,children:m,id:v,icon:b,withCloseButton:x,onClose:S,closeButtonLabel:A,variant:T,autoContrast:E,role:k,attributes:D,...M}=n,R=ut({name:"Alert",classes:s4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:D,vars:c,varsResolver:fZ}),N=hi(v),z=h&&`${N}-title`||void 0,q=`${N}-body`;return g.jsx(Me,{id:N,...R("root",{variant:T}),variant:T,ref:e,role:k||"alert",...M,"aria-describedby":m?q:void 0,"aria-labelledby":h?z:void 0,children:g.jsxs("div",{...R("wrapper"),children:[b&&g.jsx("div",{...R("icon"),children:b}),g.jsxs("div",{...R("body"),children:[h&&g.jsx("div",{...R("title"),"data-with-close-button":x||void 0,children:g.jsx("span",{id:z,...R("label"),children:h})}),m&&g.jsx("div",{id:q,...R("message"),"data-variant":T,children:m})]}),x&&g.jsx(zs,{...R("closeButton"),onClick:S,variant:"transparent",size:16,iconSize:16,"aria-label":A,unstyled:s})]})})});Kt.classes=s4;Kt.displayName="@mantine/core/Alert";var l4={root:"m_b6d8b162"};function hZ(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const pZ={inherit:!1},mZ=(t,{variant:e,lineClamp:n,gradient:r,size:i,color:a})=>({root:{"--text-fz":cr(i),"--text-lh":B5(i),"--text-gradient":e==="gradient"?__(r,t):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":a?Kn(a,t):void 0}}),ce=Ki((t,e)=>{const n=Pe("Text",pZ,t),{lineClamp:r,truncate:i,inline:a,inherit:o,gradient:s,span:c,__staticSelector:d,vars:f,className:h,style:m,classNames:v,styles:b,unstyled:x,variant:S,mod:A,size:T,attributes:E,...k}=n,D=ut({name:["Text",d],props:n,classes:l4,className:h,style:m,classNames:v,styles:b,unstyled:x,attributes:E,vars:f,varsResolver:mZ});return g.jsx(Me,{...D("root",{focusable:!0}),ref:e,component:c?"span":"p",variant:S,mod:[{"data-truncate":hZ(i),"data-line-clamp":typeof r=="number","data-inline":a,"data-inherit":o},A],size:T,...k})});ce.classes=l4;ce.displayName="@mantine/core/Text";var c4={root:"m_849cf0da"};const gZ={underline:"hover"},dh=Ki((t,e)=>{const{underline:n,className:r,unstyled:i,mod:a,...o}=Pe("Anchor",gZ,t);return g.jsx(ce,{component:"a",ref:e,className:Pt({[c4.root]:!i},r),...o,mod:[{underline:n},a],__staticSelector:"Anchor",unstyled:i})});dh.classes=c4;dh.displayName="@mantine/core/Anchor";const[vZ,Dh]=da("AppShell was not found in tree");var Qc={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const ZT=Ue((t,e)=>{const{classNames:n,className:r,style:i,styles:a,unstyled:o,vars:s,withBorder:c,zIndex:d,mod:f,...h}=Pe("AppShellAside",null,t),m=Dh();return m.disabled?null:g.jsx(Me,{component:"aside",ref:e,mod:[{"with-border":c??m.withBorder},f],...m.getStyles("aside",{className:Pt({[sd.classNames.zeroRight]:m.offsetScrollbars},r),classNames:n,styles:a,style:i}),...h,__vars:{"--app-shell-aside-z-index":`calc(${d??m.zIndex} + 1)`}})});ZT.classes=Qc;ZT.displayName="@mantine/core/AppShellAside";const QT=Ue((t,e)=>{const{classNames:n,className:r,style:i,styles:a,unstyled:o,vars:s,withBorder:c,zIndex:d,mod:f,...h}=Pe("AppShellFooter",null,t),m=Dh();return m.disabled?null:g.jsx(Me,{component:"footer",ref:e,mod:[{"with-border":c??m.withBorder},f],...m.getStyles("footer",{className:Pt({[sd.classNames.zeroRight]:m.offsetScrollbars},r),classNames:n,styles:a,style:i}),...h,__vars:{"--app-shell-footer-z-index":(d??m.zIndex)?.toString()}})});QT.classes=Qc;QT.displayName="@mantine/core/AppShellFooter";const JT=Ue((t,e)=>{const{classNames:n,className:r,style:i,styles:a,unstyled:o,vars:s,withBorder:c,zIndex:d,mod:f,...h}=Pe("AppShellHeader",null,t),m=Dh();return m.disabled?null:g.jsx(Me,{component:"header",ref:e,mod:[{"with-border":c??m.withBorder},f],...m.getStyles("header",{className:Pt({[sd.classNames.zeroRight]:m.offsetScrollbars},r),classNames:n,styles:a,style:i}),...h,__vars:{"--app-shell-header-z-index":(d??m.zIndex)?.toString()}})});JT.classes=Qc;JT.displayName="@mantine/core/AppShellHeader";const ek=Ue((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Pe("AppShellMain",null,t),c=Dh();return g.jsx(Me,{component:"main",ref:e,...c.getStyles("main",{className:r,style:i,classNames:n,styles:a}),...s})});ek.classes=Qc;ek.displayName="@mantine/core/AppShellMain";function ug(t){return typeof t=="object"?t.base:t}function dg(t){const e=typeof t=="object"&&t!==null&&typeof t.base<"u"&&Object.keys(t).length===1;return typeof t=="number"||typeof t=="string"||e}function fg(t){return!(typeof t!="object"||t===null||Object.keys(t).length===1&&"base"in t)}function yZ({baseStyles:t,minMediaStyles:e,maxMediaStyles:n,aside:r,theme:i,mode:a}){const o=r?.width,s="translateX(var(--app-shell-aside-width))",c="translateX(calc(var(--app-shell-aside-width) * -1))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},a==="fixed"?(n[r?.breakpoint]["--app-shell-aside-width"]="100%",n[r?.breakpoint]["--app-shell-aside-offset"]="0px"):(n[r?.breakpoint]["--app-shell-aside-width"]="0px",n[r?.breakpoint]["--app-shell-aside-offset"]="0px")),dg(o)){const d=Oe(ug(o));t["--app-shell-aside-width"]=d,t["--app-shell-aside-offset"]=d}if(fg(o)&&(typeof o.base<"u"&&(t["--app-shell-aside-width"]=Oe(o.base),t["--app-shell-aside-offset"]=Oe(o.base)),Tr(o).forEach(d=>{d!=="base"&&(e[d]=e[d]||{},e[d]["--app-shell-aside-width"]=Oe(o[d]),e[d]["--app-shell-aside-offset"]=Oe(o[d]))})),r?.breakpoint&&a==="static"&&(e[r.breakpoint]=e[r.breakpoint]||{},e[r.breakpoint]["--app-shell-aside-position"]="sticky",e[r.breakpoint]["--app-shell-aside-grid-row"]="2",e[r.breakpoint]["--app-shell-aside-grid-column"]="3",e[r.breakpoint]["--app-shell-main-column-end"]="3"),r?.collapsed?.desktop){const d=r.breakpoint;e[d]=e[d]||{},e[d]["--app-shell-aside-transform"]=s,e[d]["--app-shell-aside-transform-rtl"]=c,a==="fixed"?e[d]["--app-shell-aside-offset"]="0px !important":(e[d]["--app-shell-aside-width"]="0px",e[d]["--app-shell-aside-display"]="none",e[d]["--app-shell-main-column-end"]="-1"),e[d]["--app-shell-aside-scroll-locked-visibility"]="hidden"}if(r?.collapsed?.mobile){const d=bT(r.breakpoint,i.breakpoints)-.1;n[d]=n[d]||{},a==="fixed"?(n[d]["--app-shell-aside-width"]="100%",n[d]["--app-shell-aside-offset"]="0px"):n[d]["--app-shell-aside-width"]="0px",n[d]["--app-shell-aside-transform"]=s,n[d]["--app-shell-aside-transform-rtl"]=c,n[d]["--app-shell-aside-scroll-locked-visibility"]="hidden"}}function bZ({baseStyles:t,minMediaStyles:e,footer:n,mode:r}){const i=n?.height,a="translateY(var(--app-shell-footer-height))",o=r==="static"?!0:n?.offset??!0;if(r==="static"&&n&&(t["--app-shell-footer-position"]="sticky",t["--app-shell-footer-grid-column"]="1 / -1",t["--app-shell-footer-grid-row"]="3"),dg(i)){const s=Oe(ug(i));t["--app-shell-footer-height"]=s,o&&(t["--app-shell-footer-offset"]=s)}fg(i)&&(typeof i.base<"u"&&(t["--app-shell-footer-height"]=Oe(i.base),o&&(t["--app-shell-footer-offset"]=Oe(i.base))),Tr(i).forEach(s=>{s!=="base"&&(e[s]=e[s]||{},e[s]["--app-shell-footer-height"]=Oe(i[s]),o&&(e[s]["--app-shell-footer-offset"]=Oe(i[s])))})),n?.collapsed&&(t["--app-shell-footer-transform"]=a,r==="fixed"&&(t["--app-shell-footer-offset"]="0px !important"))}function xZ({baseStyles:t,minMediaStyles:e,header:n,mode:r}){const i=n?.height,a="translateY(calc(var(--app-shell-header-height) * -1))",o=r==="static"?!0:n?.offset??!0;if(r==="static"&&n&&(t["--app-shell-header-position"]="sticky",t["--app-shell-header-grid-column"]="1 / -1",t["--app-shell-header-grid-row"]="1"),dg(i)){const s=Oe(ug(i));t["--app-shell-header-height"]=s,o&&(t["--app-shell-header-offset"]=s)}fg(i)&&(typeof i.base<"u"&&(t["--app-shell-header-height"]=Oe(i.base),o&&(t["--app-shell-header-offset"]=Oe(i.base))),Tr(i).forEach(s=>{s!=="base"&&(e[s]=e[s]||{},e[s]["--app-shell-header-height"]=Oe(i[s]),o&&(e[s]["--app-shell-header-offset"]=Oe(i[s])))})),n?.collapsed&&(t["--app-shell-header-transform"]=a,r==="fixed"&&(t["--app-shell-header-offset"]="0px !important"))}function wZ({baseStyles:t,minMediaStyles:e,maxMediaStyles:n,navbar:r,theme:i,mode:a}){const o=r?.width,s="translateX(calc(var(--app-shell-navbar-width) * -1))",c="translateX(var(--app-shell-navbar-width))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},n[r?.breakpoint]["--app-shell-navbar-offset"]="0px",n[r?.breakpoint]["--app-shell-navbar-width"]="100%",a==="static"&&(n[r?.breakpoint]["--app-shell-navbar-grid-width"]="0px")),dg(o)){const d=Oe(ug(o));t["--app-shell-navbar-width"]=d,t["--app-shell-navbar-offset"]=d,a==="static"&&(t["--app-shell-navbar-grid-width"]=d)}if(fg(o)&&(typeof o.base<"u"&&(t["--app-shell-navbar-width"]=Oe(o.base),t["--app-shell-navbar-offset"]=Oe(o.base),a==="static"&&(t["--app-shell-navbar-grid-width"]=Oe(o.base))),Tr(o).forEach(d=>{d!=="base"&&(e[d]=e[d]||{},e[d]["--app-shell-navbar-width"]=Oe(o[d]),e[d]["--app-shell-navbar-offset"]=Oe(o[d]),a==="static"&&(e[d]["--app-shell-navbar-grid-width"]=Oe(o[d])))})),r?.breakpoint&&a==="static"&&(e[r.breakpoint]=e[r.breakpoint]||{},e[r.breakpoint]["--app-shell-navbar-position"]="sticky",e[r.breakpoint]["--app-shell-navbar-grid-row"]="2",e[r.breakpoint]["--app-shell-navbar-grid-column"]="1",e[r.breakpoint]["--app-shell-main-column-start"]="2"),r?.collapsed?.desktop){const d=r.breakpoint;e[d]=e[d]||{},e[d]["--app-shell-navbar-transform"]=s,e[d]["--app-shell-navbar-transform-rtl"]=c,a==="fixed"?e[d]["--app-shell-navbar-offset"]="0px !important":(e[d]["--app-shell-navbar-width"]="0px",e[d]["--app-shell-navbar-display"]="none",e[d]["--app-shell-main-column-start"]="1")}if(r?.collapsed?.mobile){const d=bT(r.breakpoint,i.breakpoints)-.1;n[d]=n[d]||{},n[d]["--app-shell-navbar-width"]="100%",n[d]["--app-shell-navbar-offset"]="0px",a==="static"&&(n[d]["--app-shell-navbar-grid-width"]="0px"),n[d]["--app-shell-navbar-transform"]=s,n[d]["--app-shell-navbar-transform-rtl"]=c}}function YS(t){return Number(t)===0?"0px":zr(t)}function SZ({padding:t,baseStyles:e,minMediaStyles:n}){dg(t)&&(e["--app-shell-padding"]=YS(ug(t))),fg(t)&&(t.base&&(e["--app-shell-padding"]=YS(t.base)),Tr(t).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=YS(t[r]))}))}function AZ({navbar:t,header:e,footer:n,aside:r,padding:i,theme:a,mode:o}){const s={},c={},d={};o==="static"&&(d["--app-shell-main-grid-column"]="1 / -1",d["--app-shell-main-grid-row"]="2"),wZ({baseStyles:d,minMediaStyles:s,maxMediaStyles:c,navbar:t,theme:a,mode:o}),yZ({baseStyles:d,minMediaStyles:s,maxMediaStyles:c,aside:r,theme:a,mode:o}),xZ({baseStyles:d,minMediaStyles:s,header:e,mode:o}),bZ({baseStyles:d,minMediaStyles:s,footer:n,mode:o}),SZ({baseStyles:d,minMediaStyles:s,padding:i});const f=A_(Tr(s),a.breakpoints).map(v=>({query:`(min-width: ${db(v.px)})`,styles:s[v.value]})),h=A_(Tr(c),a.breakpoints).map(v=>({query:`(max-width: ${db(v.px)})`,styles:c[v.value]})),m=[...f,...h];return{baseStyles:d,media:m}}function CZ({navbar:t,header:e,aside:n,footer:r,padding:i,mode:a,selector:o}){const s=Xr(),c=zl(),{media:d,baseStyles:f}=AZ({navbar:t,header:e,footer:r,aside:n,padding:i,theme:s,mode:a});return g.jsx(H0,{media:d,styles:f,selector:o||c.cssVariablesSelector})}const tk=Ue((t,e)=>{const{classNames:n,className:r,style:i,styles:a,unstyled:o,vars:s,withBorder:c,zIndex:d,mod:f,...h}=Pe("AppShellNavbar",null,t),m=Dh();return m.disabled?null:g.jsx(Me,{component:"nav",ref:e,mod:[{"with-border":c??m.withBorder},f],...m.getStyles("navbar",{className:r,classNames:n,styles:a,style:i}),...h,__vars:{"--app-shell-navbar-z-index":`calc(${d??m.zIndex} + 1)`}})});tk.classes=Qc;tk.displayName="@mantine/core/AppShellNavbar";const nk=Ki((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,grow:s,mod:c,...d}=Pe("AppShellSection",null,t),f=Dh();return g.jsx(Me,{ref:e,mod:[{grow:s},c],...f.getStyles("section",{className:r,style:i,classNames:n,styles:a}),...d})});nk.classes=Qc;nk.displayName="@mantine/core/AppShellSection";function _Z({transitionDuration:t,disabled:e}){const[n,r]=w.useState(!0),i=w.useRef(-1),a=w.useRef(-1);return V5("resize",()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>w.startTransition(()=>{r(!1)}),200)}),Cd(()=>{r(!0),clearTimeout(a.current),a.current=window.setTimeout(()=>w.startTransition(()=>{r(!1)}),t||0)},[e,t]),n}const EZ={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:Wa("app"),mode:"fixed"},TZ=(t,{transitionDuration:e,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${e}ms`,"--app-shell-transition-timing-function":n}}),xo=Ue((t,e)=>{const n=Pe("AppShell",EZ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,navbar:d,withBorder:f,padding:h,transitionDuration:m,transitionTimingFunction:v,header:b,zIndex:x,layout:S,disabled:A,aside:T,footer:E,offsetScrollbars:k=!0,mode:D,mod:M,attributes:R,id:N,...z}=n,q=ut({name:"AppShell",classes:Qc,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:R,vars:c,varsResolver:TZ}),Y=_Z({disabled:A,transitionDuration:m}),K=hi(N);return g.jsxs(vZ,{value:{getStyles:q,withBorder:f,zIndex:x,disabled:A,offsetScrollbars:k,mode:D},children:[g.jsx(CZ,{navbar:d,header:b,aside:T,footer:E,padding:h,mode:D,selector:D==="static"?`#${K}`:void 0}),g.jsx(Me,{ref:e,...q("root"),mod:[{resizing:Y,layout:S,disabled:A,mode:D},M],id:K,...z})]})});xo.classes=Qc;xo.displayName="@mantine/core/AppShell";xo.Navbar=tk;xo.Header=JT;xo.Main=ek;xo.Aside=ZT;xo.Footer=QT;xo.Section=nk;function u4(t){return typeof t=="string"?{value:t,label:t}:"value"in t&&!("label"in t)?{value:t.value,label:t.value,disabled:t.disabled}:typeof t=="number"?{value:t.toString(),label:t.toString()}:"group"in t?{group:t.group,items:t.items.map(e=>u4(e))}:t}function rk(t){return t?t.map(e=>u4(e)):[]}function tx(t){return t.reduce((e,n)=>"group"in n?{...e,...tx(n.items)}:(e[n.value]=n,e),{})}var sa={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2",optionsDropdownCheckPlaceholder:"m_a530ee0a"};const kZ={error:null},PZ=(t,{size:e,color:n})=>({chevron:{"--combobox-chevron-size":Mt(e,"combobox-chevron-size"),"--combobox-chevron-color":n?Kn(n,t):void 0}}),ik=Ue((t,e)=>{const n=Pe("ComboboxChevron",kZ,t),{size:r,error:i,style:a,className:o,classNames:s,styles:c,unstyled:d,vars:f,mod:h,...m}=n,v=ut({name:"ComboboxChevron",classes:sa,props:n,style:a,className:o,classNames:s,styles:c,unstyled:d,vars:f,varsResolver:PZ,rootSelector:"chevron"});return g.jsx(Me,{component:"svg",...m,...v("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},h],ref:e,children:g.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});ik.classes=sa;ik.displayName="@mantine/core/ComboboxChevron";const[OZ,Po]=da("Combobox component was not found in tree"),d4=w.forwardRef(({size:t,onMouseDown:e,onClick:n,onClear:r,...i},a)=>g.jsx(qn.ClearButton,{ref:a,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:o=>{o.preventDefault(),e?.(o)},onClick:o=>{r(),n?.(o)}}));d4.displayName="@mantine/core/ComboboxClearButton";const ak=Ue((t,e)=>{const{classNames:n,styles:r,className:i,style:a,hidden:o,...s}=Pe("ComboboxDropdown",null,t),c=Po();return g.jsx(Vo.Dropdown,{...s,ref:e,role:"presentation","data-hidden":o||void 0,...c.getStyles("dropdown",{className:i,style:a,classNames:n,styles:r})})});ak.classes=sa;ak.displayName="@mantine/core/ComboboxDropdown";const DZ={refProp:"ref"},f4=Ue((t,e)=>{const{children:n,refProp:r}=Pe("ComboboxDropdownTarget",DZ,t);if(Po(),!vT(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return g.jsx(Vo.Target,{ref:e,refProp:r,children:n})});f4.displayName="@mantine/core/ComboboxDropdownTarget";const ok=Ue((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Pe("ComboboxEmpty",null,t),c=Po();return g.jsx(Me,{ref:e,...c.getStyles("empty",{className:r,classNames:n,styles:a,style:i}),...s})});ok.classes=sa;ok.displayName="@mantine/core/ComboboxEmpty";function sk({onKeyDown:t,withKeyboardNavigation:e,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:a}){const o=Po(),[s,c]=w.useState(null),d=h=>{if(t?.(h),!o.readOnly&&e){if(h.nativeEvent.isComposing)return;if(h.nativeEvent.code==="ArrowDown"&&(h.preventDefault(),o.store.dropdownOpened?c(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),c(o.store.selectActiveOption()),o.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),h.nativeEvent.code==="ArrowUp"&&(h.preventDefault(),o.store.dropdownOpened?c(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),c(o.store.selectActiveOption()),o.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),h.nativeEvent.code==="Enter"||h.nativeEvent.code==="NumpadEnter"){if(h.nativeEvent.keyCode===229)return;const m=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&m!==-1?(h.preventDefault(),o.store.clickSelectedOption()):i==="button"&&(h.preventDefault(),o.store.openDropdown("keyboard"))}h.key==="Escape"&&o.store.closeDropdown("keyboard"),h.nativeEvent.code==="Space"&&i==="button"&&(h.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r?!!(o.store.listId&&o.store.dropdownOpened):void 0,"aria-controls":o.store.dropdownOpened&&o.store.listId?o.store.listId:void 0,"aria-activedescendant":o.store.dropdownOpened&&s||void 0,autoComplete:a,"data-expanded":o.store.dropdownOpened||void 0,"data-mantine-stop-propagation":o.store.dropdownOpened||void 0}:{},onKeyDown:d}}const MZ={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},h4=Ue((t,e)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:o,targetType:s,autoComplete:c,...d}=Pe("ComboboxEventsTarget",MZ,t),f=_h(n);if(!f)throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const h=Po(),m=sk({targetType:s,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:f.props.onKeyDown,autoComplete:c});return w.cloneElement(f,{...m,...d,[r]:kr(e,h.store.targetRef,B0(f))})});h4.displayName="@mantine/core/ComboboxEventsTarget";const lk=Ue((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Pe("ComboboxFooter",null,t),c=Po();return g.jsx(Me,{ref:e,...c.getStyles("footer",{className:r,classNames:n,style:i,styles:a}),...s,onMouseDown:d=>{d.preventDefault()}})});lk.classes=sa;lk.displayName="@mantine/core/ComboboxFooter";const ck=Ue((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,children:s,label:c,id:d,...f}=Pe("ComboboxGroup",null,t),h=Po(),m=hi(d);return g.jsxs(Me,{ref:e,role:"group","aria-labelledby":c?m:void 0,...h.getStyles("group",{className:r,classNames:n,style:i,styles:a}),...f,children:[c&&g.jsx("div",{id:m,...h.getStyles("groupLabel",{classNames:n,styles:a}),children:c}),s]})});ck.classes=sa;ck.displayName="@mantine/core/ComboboxGroup";const uk=Ue((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Pe("ComboboxHeader",null,t),c=Po();return g.jsx(Me,{ref:e,...c.getStyles("header",{className:r,classNames:n,style:i,styles:a}),...s,onMouseDown:d=>{d.preventDefault()}})});uk.classes=sa;uk.displayName="@mantine/core/ComboboxHeader";function p4({value:t,valuesDivider:e=",",...n}){return g.jsx("input",{type:"hidden",value:Array.isArray(t)?t.join(e):t||"",...n})}p4.displayName="@mantine/core/ComboboxHiddenInput";const dk=Ue((t,e)=>{const n=Pe("ComboboxOption",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,onClick:c,id:d,active:f,onMouseDown:h,onMouseOver:m,disabled:v,selected:b,mod:x,...S}=n,A=Po(),T=w.useId(),E=d||T;return g.jsx(Me,{...A.getStyles("option",{className:i,classNames:r,styles:o,style:a}),...S,ref:e,id:E,mod:["combobox-option",{"combobox-active":f,"combobox-disabled":v,"combobox-selected":b},x],role:"option",onClick:k=>{v?k.preventDefault():(A.onOptionSubmit?.(n.value,n),c?.(k))},onMouseDown:k=>{k.preventDefault(),h?.(k)},onMouseOver:k=>{A.resetSelectionOnOptionHover&&A.store.resetSelectedOption(),m?.(k)}})});dk.classes=sa;dk.displayName="@mantine/core/ComboboxOption";const fk=Ue((t,e)=>{const n=Pe("ComboboxOptions",null,t),{classNames:r,className:i,style:a,styles:o,id:s,onMouseDown:c,labelledBy:d,...f}=n,h=Po(),m=hi(s);return w.useEffect(()=>{h.store.setListId(m)},[m]),g.jsx(Me,{ref:e,...h.getStyles("options",{className:i,style:a,classNames:r,styles:o}),...f,id:m,role:"listbox","aria-labelledby":d,onMouseDown:v=>{v.preventDefault(),c?.(v)}})});fk.classes=sa;fk.displayName="@mantine/core/ComboboxOptions";const RZ={withAriaAttributes:!0,withKeyboardNavigation:!0},hk=Ue((t,e)=>{const n=Pe("ComboboxSearch",RZ,t),{classNames:r,styles:i,unstyled:a,vars:o,withAriaAttributes:s,onKeyDown:c,withKeyboardNavigation:d,size:f,...h}=n,m=Po(),v=m.getStyles("search"),b=sk({targetType:"input",withAriaAttributes:s,withKeyboardNavigation:d,withExpandedAttribute:!1,onKeyDown:c,autoComplete:"off"});return g.jsx(qn,{ref:kr(e,m.store.searchRef),classNames:[{input:v.className},r],styles:[{input:v.style},i],size:f||m.size,...b,...h,__staticSelector:"Combobox"})});hk.classes=sa;hk.displayName="@mantine/core/ComboboxSearch";const jZ={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},m4=Ue((t,e)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:o,targetType:s,autoComplete:c,...d}=Pe("ComboboxTarget",jZ,t),f=_h(n);if(!f)throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const h=Po(),m=sk({targetType:s,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:f.props.onKeyDown,autoComplete:c}),v=w.cloneElement(f,{...m,...d});return g.jsx(Vo.Target,{ref:kr(e,h.store.targetRef),children:v})});m4.displayName="@mantine/core/ComboboxTarget";function LZ(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return t}function NZ(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return t}function IZ(t){for(let e=0;e<t.length;e+=1)if(!t[e].hasAttribute("data-combobox-disabled"))return e;return-1}function nx({defaultOpened:t,opened:e,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:a=!0,scrollBehavior:o="instant"}={}){const[s,c]=Fr({value:e,defaultValue:t,finalValue:!1,onChange:n}),d=w.useRef(null),f=w.useRef(-1),h=w.useRef(null),m=w.useRef(null),v=w.useRef(-1),b=w.useRef(-1),x=w.useRef(-1),S=w.useCallback((L="unknown")=>{s||(c(!0),i?.(L))},[c,i,s]),A=w.useCallback((L="unknown")=>{s&&(c(!1),r?.(L))},[c,r,s]),T=w.useCallback((L="unknown")=>{s?A(L):S(L)},[A,S,s]),E=w.useCallback(()=>{const L=Oc(m.current),U=qy(`#${d.current} [data-combobox-selected]`,L);U?.removeAttribute("data-combobox-selected"),U?.removeAttribute("aria-selected")},[]),k=w.useCallback(L=>{const U=Oc(m.current),F=qy(`#${d.current}`,U),V=F?Mc("[data-combobox-option]",F):null;if(!V)return null;const G=L>=V.length?0:L<0?V.length-1:L;return f.current=G,V?.[G]&&!V[G].hasAttribute("data-combobox-disabled")?(E(),V[G].setAttribute("data-combobox-selected","true"),V[G].setAttribute("aria-selected","true"),V[G].scrollIntoView({block:"nearest",behavior:o}),V[G].id):null},[o,E]),D=w.useCallback(()=>{const L=Oc(m.current),U=qy(`#${d.current} [data-combobox-active]`,L);if(U){const V=Mc(`#${d.current} [data-combobox-option]`,L).findIndex(G=>G===U);return k(V)}return k(0)},[k]),M=w.useCallback(()=>{const L=Oc(m.current),U=Mc(`#${d.current} [data-combobox-option]`,L);return k(NZ(f.current,U,a))},[k,a]),R=w.useCallback(()=>{const L=Oc(m.current),U=Mc(`#${d.current} [data-combobox-option]`,L);return k(LZ(f.current,U,a))},[k,a]),N=w.useCallback(()=>{const L=Oc(m.current),U=Mc(`#${d.current} [data-combobox-option]`,L);return k(IZ(U))},[k]),z=w.useCallback((L="selected",U)=>{x.current=window.setTimeout(()=>{const F=Oc(m.current),V=Mc(`#${d.current} [data-combobox-option]`,F),G=V.findIndex($=>$.hasAttribute(`data-combobox-${L}`));f.current=G,U?.scrollIntoView&&V[G]?.scrollIntoView({block:"nearest",behavior:o})},0)},[]),q=w.useCallback(()=>{f.current=-1,E()},[E]),Y=w.useCallback(()=>{const L=Oc(m.current);Mc(`#${d.current} [data-combobox-option]`,L)?.[f.current]?.click()},[]),K=w.useCallback(L=>{d.current=L},[]),te=w.useCallback(()=>{v.current=window.setTimeout(()=>h.current?.focus(),0)},[]),W=w.useCallback(()=>{b.current=window.setTimeout(()=>m.current?.focus(),0)},[]),J=w.useCallback(()=>f.current,[]);return w.useEffect(()=>()=>{window.clearTimeout(v.current),window.clearTimeout(b.current),window.clearTimeout(x.current)},[]),{dropdownOpened:s,openDropdown:S,closeDropdown:A,toggleDropdown:T,selectedOptionIndex:f.current,getSelectedOptionIndex:J,selectOption:k,selectFirstOption:N,selectActiveOption:D,selectNextOption:M,selectPreviousOption:R,resetSelectedOption:q,updateSelectedOptionIndex:z,listId:d.current,setListId:K,clickSelectedOption:Y,searchRef:h,focusSearchInput:te,targetRef:m,focusTarget:W}}const zZ={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},BZ=(t,{size:e,dropdownPadding:n})=>({options:{"--combobox-option-fz":cr(e),"--combobox-option-padding":Mt(e,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Oe(n),"--combobox-option-fz":cr(e),"--combobox-option-padding":Mt(e,"combobox-option-padding")}});function Wt(t){const e=Pe("Combobox",zZ,t),{classNames:n,styles:r,unstyled:i,children:a,store:o,vars:s,onOptionSubmit:c,onClose:d,size:f,dropdownPadding:h,resetSelectionOnOptionHover:m,__staticSelector:v,readOnly:b,attributes:x,...S}=e,A=nx(),T=o||A,E=ut({name:v||"Combobox",classes:sa,props:e,classNames:n,styles:r,unstyled:i,attributes:x,vars:s,varsResolver:BZ}),k=()=>{d?.(),T.closeDropdown()};return g.jsx(OZ,{value:{getStyles:E,store:T,onOptionSubmit:c,size:f,resetSelectionOnOptionHover:m,readOnly:b},children:g.jsx(Vo,{opened:T.dropdownOpened,preventPositionChangeWhenVisible:!1,...S,onChange:D=>!D&&k(),withRoles:!1,unstyled:i,children:a})})}const $Z=t=>t;Wt.extend=$Z;Wt.classes=sa;Wt.displayName="@mantine/core/Combobox";Wt.Target=m4;Wt.Dropdown=ak;Wt.Options=fk;Wt.Option=dk;Wt.Search=hk;Wt.Empty=ok;Wt.Chevron=ik;Wt.Footer=lk;Wt.Header=uk;Wt.EventsTarget=h4;Wt.DropdownTarget=f4;Wt.Group=ck;Wt.ClearButton=d4;Wt.HiddenInput=p4;var g4={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const FZ=g4,pk=w.forwardRef(({__staticSelector:t,__stylesApiProps:e,className:n,classNames:r,styles:i,unstyled:a,children:o,label:s,description:c,id:d,disabled:f,error:h,size:m,labelPosition:v="left",bodyElement:b="div",labelElement:x="label",variant:S,style:A,vars:T,mod:E,attributes:k,...D},M)=>{const R=ut({name:t,props:e,className:n,style:A,classes:g4,classNames:r,styles:i,unstyled:a,attributes:k});return g.jsx(Me,{...R("root"),ref:M,__vars:{"--label-fz":cr(m),"--label-lh":Mt(m,"label-lh")},mod:[{"label-position":v},E],variant:S,size:m,...D,children:g.jsxs(Me,{component:b,htmlFor:b==="label"?d:void 0,...R("body"),children:[o,g.jsxs("div",{...R("labelWrapper"),"data-disabled":f||void 0,children:[s&&g.jsx(Me,{component:x,htmlFor:x==="label"?d:void 0,...R("label"),"data-disabled":f||void 0,children:s}),c&&g.jsx(qn.Description,{size:m,__inheritStyles:!1,...R("description"),children:c}),h&&typeof h!="boolean"&&g.jsx(qn.Error,{size:m,__inheritStyles:!1,...R("error"),children:h})]})]})})});pk.displayName="@mantine/core/InlineInput";var v4={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const y4=w.createContext(null),UZ=y4.Provider,b4=()=>w.useContext(y4),[HZ,VZ]=Xc();var x4={card:"m_26775b0a"};const qZ={withBorder:!0},GZ=(t,{radius:e})=>({card:{"--card-radius":_n(e)}}),mk=Ue((t,e)=>{const n=Pe("CheckboxCard",qZ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,checked:d,mod:f,withBorder:h,value:m,onClick:v,defaultChecked:b,onChange:x,attributes:S,...A}=n,T=ut({name:"CheckboxCard",classes:x4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:S,vars:c,varsResolver:GZ,rootSelector:"card"}),E=b4(),k=typeof d=="boolean"?d:E?E.value.includes(m||""):void 0,[D,M]=Fr({value:k,defaultValue:b,finalValue:!1,onChange:x});return g.jsx(HZ,{value:{checked:D},children:g.jsx(Br,{ref:e,mod:[{"with-border":h,checked:D},f],...T("card"),...A,role:"checkbox","aria-checked":D,onClick:R=>{v?.(R),E?.onChange(m||""),M(!D)}})})});mk.displayName="@mantine/core/CheckboxCard";mk.classes=x4;function w4({children:t,role:e}){const n=Oh();return n?g.jsx("div",{role:e,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:t}):g.jsx(g.Fragment,{children:t})}const gk=Ue((t,e)=>{const{value:n,defaultValue:r,onChange:i,size:a,wrapperProps:o,children:s,readOnly:c,disabled:d,...f}=Pe("CheckboxGroup",null,t),[h,m]=Fr({value:n,defaultValue:r,finalValue:[],onChange:i}),v=b=>{const x=typeof b=="string"?b:b.currentTarget.value;!c&&m(h.includes(x)?h.filter(S=>S!==x):[...h,x])};return g.jsx(UZ,{value:{value:h,onChange:v,size:a,disabled:d},children:g.jsx(qn.Wrapper,{size:a,ref:e,...o,...f,labelElement:"div",__staticSelector:"CheckboxGroup",children:g.jsx(w4,{role:"group",children:s})})})});gk.classes=qn.Wrapper.classes;gk.displayName="@mantine/core/CheckboxGroup";function vk({size:t,style:e,...n}){const r=t!==void 0?{width:Oe(t),height:Oe(t),...e}:e;return g.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:g.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function S4({indeterminate:t,...e}){return t?g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...e,children:g.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):g.jsx(vk,{...e})}var A4={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const YZ={icon:S4,variant:"filled"},KZ=(t,{radius:e,color:n,size:r,iconColor:i,variant:a,autoContrast:o})=>{const s=Bl({color:n||t.primaryColor,theme:t}),c=s.isThemeColor&&s.shade===void 0?`var(--mantine-color-${s.color}-outline)`:s.color;return{indicator:{"--checkbox-size":Mt(r,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:_n(e),"--checkbox-color":a==="outline"?c:Kn(n,t),"--checkbox-icon-color":i?Kn(i,t):_d(o,t)?$l({color:n,theme:t,autoContrast:o}):void 0}}},yk=Ue((t,e)=>{const n=Pe("CheckboxIndicator",YZ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,icon:d,indeterminate:f,radius:h,color:m,iconColor:v,autoContrast:b,checked:x,mod:S,variant:A,disabled:T,attributes:E,...k}=n,D=ut({name:"CheckboxIndicator",classes:A4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:E,vars:c,varsResolver:KZ,rootSelector:"indicator"}),M=VZ(),R=typeof x=="boolean"||typeof f=="boolean"?x||f:M?.checked||!1;return g.jsx(Me,{ref:e,...D("indicator",{variant:A}),variant:A,mod:[{checked:R,disabled:T},S],...k,children:g.jsx(d,{indeterminate:f,...D("icon")})})});yk.displayName="@mantine/core/CheckboxIndicator";yk.classes=A4;const WZ={labelPosition:"right",icon:S4,variant:"filled"},XZ=(t,{radius:e,color:n,size:r,iconColor:i,variant:a,autoContrast:o})=>{const s=Bl({color:n||t.primaryColor,theme:t}),c=s.isThemeColor&&s.shade===void 0?`var(--mantine-color-${s.color}-outline)`:s.color;return{root:{"--checkbox-size":Mt(r,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:_n(e),"--checkbox-color":a==="outline"?c:Kn(n,t),"--checkbox-icon-color":i?Kn(i,t):_d(o,t)?$l({color:n,theme:t,autoContrast:o}):void 0}}},Mh=Ue((t,e)=>{const n=Pe("Checkbox",WZ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,color:d,label:f,id:h,size:m,radius:v,wrapperProps:b,checked:x,labelPosition:S,description:A,error:T,disabled:E,variant:k,indeterminate:D,icon:M,rootRef:R,iconColor:N,onChange:z,autoContrast:q,mod:Y,attributes:K,...te}=n,W=b4(),J=m||W?.size,L=ut({name:"Checkbox",props:n,classes:v4,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:K,vars:c,varsResolver:XZ}),{styleProps:U,rest:F}=Zc(te),V=hi(h),G={checked:W?.value.includes(F.value)??x,onChange:ne=>{W?.onChange(ne),z?.(ne)},disabled:W?.disabled??E},$=w.useRef(null),X=e||$;return w.useEffect(()=>{X&&"current"in X&&X.current&&(X.current.indeterminate=D||!1,D?X.current.setAttribute("data-indeterminate","true"):X.current.removeAttribute("data-indeterminate"))},[D,X]),g.jsx(pk,{...L("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:V,size:J,labelPosition:S,label:f,description:A,error:T,disabled:G.disabled,classNames:r,styles:o,unstyled:s,"data-checked":G.checked||x||void 0,variant:k,ref:R,mod:Y,...U,...b,children:g.jsxs(Me,{...L("inner"),mod:{"data-label-position":S},children:[g.jsx(Me,{component:"input",id:V,ref:X,mod:{error:!!T},...L("input",{focusable:!0,variant:k}),...F,...G,type:"checkbox"}),g.jsx(M,{indeterminate:D,...L("icon")})]})})});Mh.classes={...v4,...FZ};Mh.displayName="@mantine/core/Checkbox";Mh.Group=gk;Mh.Indicator=yk;Mh.Card=mk;function ud(t){return"group"in t}function C4({options:t,search:e,limit:n}){const r=e.trim().toLowerCase(),i=[];for(let a=0;a<t.length;a+=1){const o=t[a];if(i.length===n)return i;ud(o)&&i.push({group:o.group,items:C4({options:o.items,search:e,limit:n-i.length})}),ud(o)||o.label.toLowerCase().includes(r)&&i.push(o)}return i}function ZZ(t){if(t.length===0)return!0;for(const e of t)if(!("group"in e)||e.items.length>0)return!1;return!0}function _4(t,e=new Set){if(Array.isArray(t))for(const n of t)if(ud(n))_4(n.items,e);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(e.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);e.add(n.value)}}function QZ(t,e){return Array.isArray(t)?t.includes(e):t===e}function E4({data:t,withCheckIcon:e,withAlignedLabels:n,value:r,checkIconPosition:i,unstyled:a,renderOption:o}){if(!ud(t)){const c=QZ(r,t.value),d=e&&(c?g.jsx(vk,{className:sa.optionsDropdownCheckIcon}):n?g.jsx("div",{className:sa.optionsDropdownCheckPlaceholder}):null),f=g.jsxs(g.Fragment,{children:[i==="left"&&d,g.jsx("span",{children:t.label}),i==="right"&&d]});return g.jsx(Wt.Option,{value:t.value,disabled:t.disabled,className:Pt({[sa.optionsDropdownOption]:!a}),"data-reverse":i==="right"||void 0,"data-checked":c||void 0,"aria-selected":c,active:c,children:typeof o=="function"?o({option:t,checked:c}):f})}const s=t.items.map(c=>g.jsx(E4,{data:c,value:r,unstyled:a,withCheckIcon:e,withAlignedLabels:n,checkIconPosition:i,renderOption:o},c.value));return g.jsx(Wt.Group,{label:t.group,children:s})}function bk({data:t,hidden:e,hiddenWhenEmpty:n,filter:r,search:i,limit:a,maxDropdownHeight:o,withScrollArea:s=!0,filterOptions:c=!0,withCheckIcon:d=!1,withAlignedLabels:f=!1,value:h,checkIconPosition:m,nothingFoundMessage:v,unstyled:b,labelId:x,renderOption:S,scrollAreaProps:A,"aria-label":T}){_4(t);const k=typeof i=="string"?(r||C4)({options:t,search:c?i:"",limit:a??1/0}):t,D=ZZ(k),M=k.map(R=>g.jsx(E4,{data:R,withCheckIcon:d,withAlignedLabels:f,value:h,checkIconPosition:m,unstyled:b,renderOption:S},ud(R)?R.group:R.value));return g.jsx(Wt.Dropdown,{hidden:e||n&&D,"data-composed":!0,children:g.jsxs(Wt.Options,{labelledBy:x,"aria-label":T,children:[s?g.jsx(Fl.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...A,children:M}):M,D&&v&&g.jsx(Wt.Empty,{children:v})]})})}var T4={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const JZ=(t,{radius:e,color:n,gradient:r,variant:i,size:a,autoContrast:o,circle:s})=>{const c=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:o});return{root:{"--badge-height":Mt(a,"badge-height"),"--badge-padding-x":Mt(a,"badge-padding-x"),"--badge-fz":Mt(a,"badge-fz"),"--badge-radius":s||e===void 0?void 0:_n(e),"--badge-bg":n||i?c.background:void 0,"--badge-color":n||i?c.color:void 0,"--badge-bd":n||i?c.border:void 0,"--badge-dot-color":i==="dot"?Kn(n,t):void 0}}},fn=Ki((t,e)=>{const n=Pe("Badge",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,radius:d,color:f,gradient:h,leftSection:m,rightSection:v,children:b,variant:x,fullWidth:S,autoContrast:A,circle:T,mod:E,attributes:k,...D}=n,M=ut({name:"Badge",props:n,classes:T4,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:k,vars:c,varsResolver:JZ});return g.jsxs(Me,{variant:x,mod:[{block:S,circle:T,"with-right-section":!!v,"with-left-section":!!m},E],...M("root",{variant:x}),ref:e,...D,children:[m&&g.jsx("span",{...M("section"),"data-position":"left",children:m}),g.jsx("span",{...M("label"),children:b}),v&&g.jsx("span",{...M("section"),"data-position":"right",children:v})]})});fn.classes=T4;fn.displayName="@mantine/core/Badge";var k4={root:"m_fea6bf1a",burger:"m_d4fb9cad"};const eQ=(t,{color:e,size:n,lineSize:r,transitionDuration:i,transitionTimingFunction:a})=>({root:{"--burger-color":e?Kn(e,t):void 0,"--burger-size":Mt(n,"burger-size"),"--burger-line-size":r?Oe(r):void 0,"--burger-transition-duration":i===void 0?void 0:`${i}ms`,"--burger-transition-timing-function":a}}),xk=Ue((t,e)=>{const n=Pe("Burger",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,opened:d,children:f,transitionDuration:h,transitionTimingFunction:m,lineSize:v,attributes:b,...x}=n,S=ut({name:"Burger",classes:k4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:b,vars:c,varsResolver:eQ});return g.jsxs(Br,{...S("root"),ref:e,...x,children:[g.jsx(Me,{mod:["reduce-motion",{opened:d}],...S("burger")}),f]})});xk.classes=k4;xk.displayName="@mantine/core/Burger";var Rh={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const Oj={orientation:"horizontal"},tQ=(t,{borderWidth:e})=>({group:{"--button-border-width":Oe(e)}}),wk=Ue((t,e)=>{const n=Pe("ButtonGroup",Oj,t),{className:r,style:i,classNames:a,styles:o,unstyled:s,orientation:c,vars:d,borderWidth:f,variant:h,mod:m,attributes:v,...b}=Pe("ButtonGroup",Oj,t),x=ut({name:"ButtonGroup",props:n,classes:Rh,className:r,style:i,classNames:a,styles:o,unstyled:s,attributes:v,vars:d,varsResolver:tQ,rootSelector:"group"});return g.jsx(Me,{...x("group"),ref:e,variant:h,mod:[{"data-orientation":c},m],role:"group",...b})});wk.classes=Rh;wk.displayName="@mantine/core/ButtonGroup";const nQ=(t,{radius:e,color:n,gradient:r,variant:i,autoContrast:a,size:o})=>{const s=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:a});return{groupSection:{"--section-height":Mt(o,"section-height"),"--section-padding-x":Mt(o,"section-padding-x"),"--section-fz":o?.includes("compact")?cr(o.replace("compact-","")):cr(o),"--section-radius":e===void 0?void 0:_n(e),"--section-bg":n||i?s.background:void 0,"--section-color":s.color,"--section-bd":n||i?s.border:void 0}}},Sk=Ue((t,e)=>{const n=Pe("ButtonGroupSection",null,t),{className:r,style:i,classNames:a,styles:o,unstyled:s,vars:c,variant:d,gradient:f,radius:h,autoContrast:m,attributes:v,...b}=n,x=ut({name:"ButtonGroupSection",props:n,classes:Rh,className:r,style:i,classNames:a,styles:o,unstyled:s,attributes:v,vars:c,varsResolver:nQ,rootSelector:"groupSection"});return g.jsx(Me,{...x("groupSection"),ref:e,variant:d,...b})});Sk.classes=Rh;Sk.displayName="@mantine/core/ButtonGroupSection";const rQ={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Oe(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},iQ=(t,{radius:e,color:n,gradient:r,variant:i,size:a,justify:o,autoContrast:s})=>{const c=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:s});return{root:{"--button-justify":o,"--button-height":Mt(a,"button-height"),"--button-padding-x":Mt(a,"button-padding-x"),"--button-fz":a?.includes("compact")?cr(a.replace("compact-","")):cr(a),"--button-radius":e===void 0?void 0:_n(e),"--button-bg":n||i?c.background:void 0,"--button-hover":n||i?c.hover:void 0,"--button-color":c.color,"--button-bd":n||i?c.border:void 0,"--button-hover-color":n||i?c.hoverColor:void 0}}},Dt=Ki((t,e)=>{const n=Pe("Button",null,t),{style:r,vars:i,className:a,color:o,disabled:s,children:c,leftSection:d,rightSection:f,fullWidth:h,variant:m,radius:v,loading:b,loaderProps:x,gradient:S,classNames:A,styles:T,unstyled:E,"data-disabled":k,autoContrast:D,mod:M,attributes:R,...N}=n,z=ut({name:"Button",props:n,classes:Rh,className:a,style:r,classNames:A,styles:T,unstyled:E,attributes:R,vars:i,varsResolver:iQ}),q=!!d,Y=!!f;return g.jsxs(Br,{ref:e,...z("root",{active:!s&&!b&&!k}),unstyled:E,variant:m,disabled:s||b,mod:[{disabled:s||k,loading:b,block:h,"with-left-section":q,"with-right-section":Y},M],...N,children:[typeof b=="boolean"&&g.jsx(Wo,{mounted:b,transition:rQ,duration:150,children:K=>g.jsx(Me,{component:"span",...z("loader",{style:K}),"aria-hidden":!0,children:g.jsx(Ri,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...x})})}),g.jsxs("span",{...z("inner"),children:[d&&g.jsx(Me,{component:"span",...z("section"),mod:{position:"left"},children:d}),g.jsx(Me,{component:"span",mod:{loading:b},...z("label"),children:c}),f&&g.jsx(Me,{component:"span",...z("section"),mod:{position:"right"},children:f})]})]})});Dt.classes=Rh;Dt.displayName="@mantine/core/Button";Dt.Group=wk;Dt.GroupSection=Sk;var P4={root:"m_4451eb3a"};const qa=Ki((t,e)=>{const n=Pe("Center",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,inline:d,mod:f,attributes:h,...m}=n,v=ut({name:"Center",props:n,classes:P4,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:h,vars:c});return g.jsx(Me,{ref:e,mod:[{inline:d},f],...v("root"),...m})});qa.classes=P4;qa.displayName="@mantine/core/Center";var O4={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const Dj={withShadow:!0},aQ=(t,{radius:e,size:n})=>({root:{"--cs-radius":e===void 0?void 0:_n(e),"--cs-size":Oe(n)}}),rx=Ki((t,e)=>{const n=Pe("ColorSwatch",Dj,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,color:d,size:f,radius:h,withShadow:m,children:v,variant:b,attributes:x,...S}=Pe("ColorSwatch",Dj,n),A=ut({name:"ColorSwatch",props:n,classes:O4,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:x,vars:c,varsResolver:aQ});return g.jsxs(Me,{ref:e,variant:b,size:f,...A("root",{focusable:!0}),...S,children:[g.jsx("span",{...A("alphaOverlay")}),m&&g.jsx("span",{...A("shadowOverlay")}),g.jsx("span",{...A("colorOverlay",{style:{backgroundColor:d}})}),g.jsx("span",{...A("childrenOverlay"),children:v})]})});rx.classes=O4;rx.displayName="@mantine/core/ColorSwatch";var D4={root:"m_7485cace"};const oQ=(t,{size:e,fluid:n})=>({root:{"--container-size":n?void 0:Mt(e,"container-size")}}),hg=Ue((t,e)=>{const n=Pe("Container",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,fluid:d,mod:f,attributes:h,strategy:m,...v}=n,b=ut({name:"Container",classes:D4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:h,vars:c,varsResolver:oQ});return g.jsx(Me,{ref:e,mod:[{fluid:d,strategy:m||"block"},f],...b("root"),...v})});hg.classes=D4;hg.displayName="@mantine/core/Container";var M4={root:"m_3eebeb36",label:"m_9e365f20"};const sQ={orientation:"horizontal"},lQ=(t,{color:e,variant:n,size:r})=>({root:{"--divider-color":e?Kn(e,t):void 0,"--divider-border-style":n,"--divider-size":Mt(r,"divider-size")}}),Os=Ue((t,e)=>{const n=Pe("Divider",sQ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,color:d,orientation:f,label:h,labelPosition:m,mod:v,attributes:b,...x}=n,S=ut({name:"Divider",classes:M4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:b,vars:c,varsResolver:lQ});return g.jsx(Me,{ref:e,mod:[{orientation:f,"with-label":!!h},v],...S("root"),...x,role:"separator",children:h&&g.jsx(Me,{component:"span",mod:{position:m},...S("label"),children:h})})});Os.classes=M4;Os.displayName="@mantine/core/Divider";const cQ={multiple:!1},R4=w.forwardRef((t,e)=>{const{onChange:n,children:r,multiple:i,accept:a,name:o,form:s,resetRef:c,disabled:d,capture:f,inputProps:h,...m}=Pe("FileButton",cQ,t),v=w.useRef(null),b=()=>{!d&&v.current?.click()},x=A=>{if(A.currentTarget.files===null)return n(i?[]:null);n(i?Array.from(A.currentTarget.files):A.currentTarget.files[0]||null)};return ah(c,()=>{v.current&&(v.current.value="")}),g.jsxs(g.Fragment,{children:[g.jsx("input",{style:{display:"none"},type:"file",accept:a,multiple:i,onChange:x,ref:kr(e,v),name:o,form:s,capture:f,...h}),r({onClick:b,...m})]})});R4.displayName="@mantine/core/FileButton";const uQ=({value:t})=>g.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(t)?t.map(e=>e.name).join(", "):t?.name}),dQ={valueComponent:uQ,size:"sm"},Ak=Ue((t,e)=>{const n=Pe("FileInput",dQ,t),{unstyled:r,vars:i,onChange:a,value:o,defaultValue:s,multiple:c,accept:d,name:f,form:h,valueComponent:m,clearable:v,clearButtonProps:b,readOnly:x,capture:S,fileInputProps:A,rightSection:T,size:E,placeholder:k,component:D,resetRef:M,classNames:R,styles:N,attributes:z,...q}=n,Y=w.useRef(null),{resolvedClassNames:K,resolvedStyles:te}=ka({classNames:R,styles:N,props:n}),[W,J]=Fr({value:o,defaultValue:s,onChange:a,finalValue:c?[]:null}),L=Array.isArray(W)?W.length!==0:W!==null,U=T||(v&&L&&!x?g.jsx(zs,{...b,variant:"subtle",onClick:()=>J(c?[]:null),size:E,unstyled:r}):null);return w.useEffect(()=>{(Array.isArray(W)&&W.length===0||W===null)&&Y.current?.()},[W]),g.jsx(R4,{onChange:J,multiple:c,accept:d,name:f,form:h,resetRef:kr(Y,M),disabled:x,capture:S,inputProps:A,children:F=>g.jsx(Wi,{component:D||"button",ref:e,rightSection:U,...F,...q,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:n,unstyled:r,size:E,classNames:R,styles:N,attributes:z,children:L?g.jsx(m,{value:W}):g.jsx(qn.Placeholder,{__staticSelector:"FileInput",classNames:K,styles:te,attributes:z,children:k})})})});Ak.classes=Wi.classes;Ak.displayName="@mantine/core/FileInput";const fQ=Ak;var j4={root:"m_9e117634"};const hQ=(t,{radius:e,fit:n})=>({root:{"--image-radius":e===void 0?void 0:_n(e),"--image-object-fit":n}}),Ck=Ki((t,e)=>{const n=Pe("Image",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,onError:d,src:f,radius:h,fit:m,fallbackSrc:v,mod:b,attributes:x,...S}=n,[A,T]=w.useState(!f);w.useEffect(()=>T(!f),[f]);const E=ut({name:"Image",classes:j4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:x,vars:c,varsResolver:hQ});return A&&v?g.jsx(Me,{component:"img",ref:e,src:v,...E("root"),onError:d,mod:["fallback",b],...S}):g.jsx(Me,{component:"img",ref:e,...E("root"),src:f,onError:k=>{d?.(k),T(!0)},mod:b,...S})});Ck.classes=j4;Ck.displayName="@mantine/core/Image";function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wb.apply(null,arguments)}function _k(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pQ=w.useLayoutEffect,mQ=function(e){var n=sr.useRef(e);return pQ(function(){n.current=e}),n},Mj=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},gQ=function(e,n){var r=sr.useRef();return sr.useCallback(function(i){e.current=i,r.current&&Mj(r.current,null),r.current=n,n&&Mj(n,i)},[n])},Rj={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},vQ=function(e){Object.keys(Rj).forEach(function(n){e.style.setProperty(n,Rj[n],"important")})},jj=vQ,ea=null,Lj=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function yQ(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),ea||(ea=document.createElement("textarea"),ea.setAttribute("tabindex","-1"),ea.setAttribute("aria-hidden","true"),jj(ea)),ea.parentNode===null&&document.body.appendChild(ea);var i=t.paddingSize,a=t.borderSize,o=t.sizingStyle,s=o.boxSizing;Object.keys(o).forEach(function(m){var v=m;ea.style[v]=o[v]}),jj(ea),ea.value=e;var c=Lj(ea,t);ea.value=e,c=Lj(ea,t),ea.value="x";var d=ea.scrollHeight-i,f=d*n;s==="border-box"&&(f=f+i+a),c=Math.max(f,c);var h=d*r;return s==="border-box"&&(h=h+i+a),c=Math.min(h,c),[c,d]}var Nj=function(){},bQ=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},xQ=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],wQ=!!document.documentElement.currentStyle,SQ=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=bQ(xQ,n),i=r.boxSizing;if(i==="")return null;wQ&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var a=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:a,borderSize:o}},AQ=SQ;function Ek(t,e,n){var r=mQ(n);w.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(t)return t.addEventListener(e,i),function(){return t.removeEventListener(e,i)}},[])}var CQ=function(e,n){Ek(document.body,"reset",function(r){e.current.form===r.target&&n(r)})},_Q=function(e){Ek(window,"resize",e)},EQ=function(e){Ek(document.fonts,"loadingdone",e)},TQ=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],kQ=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,a=e.minRows,o=e.onChange,s=o===void 0?Nj:o,c=e.onHeightChange,d=c===void 0?Nj:c,f=_k(e,TQ),h=f.value!==void 0,m=w.useRef(null),v=gQ(m,n),b=w.useRef(0),x=w.useRef(),S=function(){var E=m.current,k=r&&x.current?x.current:AQ(E);if(k){x.current=k;var D=yQ(k,E.value||E.placeholder||"x",a,i),M=D[0],R=D[1];b.current!==M&&(b.current=M,E.style.setProperty("height",M+"px","important"),d(M,{rowHeight:R}))}},A=function(E){h||S(),s(E)};return w.useLayoutEffect(S),CQ(m,function(){if(!h){var T=m.current.value;requestAnimationFrame(function(){var E=m.current;E&&T!==E.value&&S()})}}),_Q(S),EQ(S),w.createElement("textarea",wb({},f,{onChange:A,ref:v}))},PQ=w.forwardRef(kQ);const OQ={size:"sm"},Tk=Ue((t,e)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:a,resize:o,...s}=Pe("Textarea",OQ,t),c=n&&G5()!=="test",d=c?{maxRows:r,minRows:i}:{};return g.jsx(Wi,{component:c?PQ:"textarea",ref:e,...s,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":o},...d})});Tk.classes=Wi.classes;Tk.displayName="@mantine/core/Textarea";const[DQ,MQ]=da("List component was not found in tree");var kk={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const Pk=Ue((t,e)=>{const n=Pe("ListItem",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,icon:c,children:d,mod:f,...h}=n,m=MQ(),v=c||m.icon,b={classNames:r,styles:o};return g.jsx(Me,{...m.getStyles("item",{...b,className:i,style:a}),component:"li",mod:[{"with-icon":!!v,centered:m.center},f],ref:e,...h,children:g.jsxs("div",{...m.getStyles("itemWrapper",b),children:[v&&g.jsx("span",{...m.getStyles("itemIcon",b),children:v}),g.jsx("span",{...m.getStyles("itemLabel",b),children:d})]})})});Pk.classes=kk;Pk.displayName="@mantine/core/ListItem";const RQ={type:"unordered"},jQ=(t,{size:e,spacing:n})=>({root:{"--list-fz":cr(e),"--list-lh":B5(e),"--list-spacing":zr(n)}}),Ua=Ue((t,e)=>{const n=Pe("List",RQ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,children:d,type:f,withPadding:h,icon:m,spacing:v,center:b,listStyleType:x,mod:S,attributes:A,...T}=n,E=ut({name:"List",classes:kk,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:A,vars:c,varsResolver:jQ});return g.jsx(DQ,{value:{center:b,icon:m,getStyles:E},children:g.jsx(Me,{...E("root",{style:{listStyleType:x}}),component:f==="unordered"?"ul":"ol",mod:[{"with-padding":h,type:m?"none":x},S],ref:e,...T,children:d})})});Ua.classes=kk;Ua.displayName="@mantine/core/List";Ua.Item=Pk;var L4={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const Ij={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Wa("overlay")},LQ=(t,{zIndex:e})=>({root:{"--lo-z-index":e?.toString()}}),ix=Ue((t,e)=>{const n=Pe("LoadingOverlay",Ij,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,transitionProps:d,loaderProps:f,overlayProps:h,visible:m,zIndex:v,attributes:b,...x}=n,S=Xr(),A=ut({name:"LoadingOverlay",classes:L4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:b,vars:c,varsResolver:LQ}),T={...Ij.overlayProps,...h};return g.jsx(Wo,{transition:"fade",...d,mounted:!!m,children:E=>g.jsxs(Me,{...A("root",{style:E}),ref:e,...x,children:[g.jsx(Ri,{...A("loader"),unstyled:s,...f}),g.jsx(lh,{...T,...A("overlay"),darkHidden:!0,unstyled:s,color:h?.color||S.white}),g.jsx(lh,{...T,...A("overlay"),lightHidden:!0,unstyled:s,color:h?.color||S.colors.dark[5]})]})})});ix.classes=L4;ix.displayName="@mantine/core/LoadingOverlay";var Hl={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const[NQ,jh]=da("Modal component was not found in tree"),ax=Ue((t,e)=>{const n=Pe("ModalBody",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,...c}=n,d=jh();return g.jsx(Z$,{ref:e,...d.getStyles("body",{classNames:r,style:a,styles:o,className:i}),...c})});ax.classes=Hl;ax.displayName="@mantine/core/ModalBody";const ox=Ue((t,e)=>{const n=Pe("ModalCloseButton",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,...c}=n,d=jh();return g.jsx(Q$,{ref:e,...d.getStyles("close",{classNames:r,style:a,styles:o,className:i}),...c})});ox.classes=Hl;ox.displayName="@mantine/core/ModalCloseButton";const sx=Ue((t,e)=>{const n=Pe("ModalContent",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,children:c,__hidden:d,...f}=n,h=jh(),m=h.scrollAreaComponent||HX;return g.jsx(J$,{...h.getStyles("content",{className:i,style:a,styles:o,classNames:r}),innerProps:h.getStyles("inner",{className:i,style:a,styles:o,classNames:r}),"data-full-screen":h.fullScreen||void 0,"data-modal-content":!0,"data-hidden":d||void 0,ref:e,...f,children:g.jsx(m,{style:{maxHeight:h.fullScreen?"100dvh":`calc(100dvh - (${Oe(h.yOffset)} * 2))`},children:c})})});sx.classes=Hl;sx.displayName="@mantine/core/ModalContent";const lx=Ue((t,e)=>{const n=Pe("ModalHeader",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,...c}=n,d=jh();return g.jsx(e4,{ref:e,...d.getStyles("header",{classNames:r,style:a,styles:o,className:i}),...c})});lx.classes=Hl;lx.displayName="@mantine/core/ModalHeader";const cx=Ue((t,e)=>{const n=Pe("ModalOverlay",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,...c}=n,d=jh();return g.jsx(t4,{ref:e,...d.getStyles("overlay",{classNames:r,style:a,styles:o,className:i}),...c})});cx.classes=Hl;cx.displayName="@mantine/core/ModalOverlay";const IQ={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Wa("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},zQ=(t,{radius:e,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":e===void 0?void 0:_n(e),"--modal-size":Mt(n,"modal-size"),"--modal-y-offset":Oe(r),"--modal-x-offset":Oe(i)}}),ux=Ue((t,e)=>{const n=Pe("ModalRoot",IQ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,yOffset:d,scrollAreaComponent:f,radius:h,fullScreen:m,centered:v,xOffset:b,__staticSelector:x,attributes:S,...A}=n,T=ut({name:x,classes:Hl,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:S,vars:c,varsResolver:zQ});return g.jsx(NQ,{value:{yOffset:d,scrollAreaComponent:f,getStyles:T,fullScreen:m},children:g.jsx(X$,{ref:e,...T("root"),"data-full-screen":m||void 0,"data-centered":v||void 0,"data-offset-scrollbars":f===Fl.Autosize||void 0,unstyled:s,...A})})});ux.classes=Hl;ux.displayName="@mantine/core/ModalRoot";const[BQ,$Q]=Xc();function N4({children:t}){const[e,n]=w.useState([]),[r,i]=w.useState(Wa("modal"));return g.jsx(BQ,{value:{stack:e,addModal:(a,o)=>{n(s=>[...new Set([...s,a])]),i(s=>typeof o=="number"&&typeof s=="number"?Math.max(s,o):s)},removeModal:a=>n(o=>o.filter(s=>s!==a)),getZIndex:a=>`calc(${r} + ${e.indexOf(a)} + 1)`,currentId:e[e.length-1],maxZIndex:r},children:t})}N4.displayName="@mantine/core/ModalStack";const dx=Ue((t,e)=>{const n=Pe("ModalTitle",null,t),{classNames:r,className:i,style:a,styles:o,vars:s,...c}=n,d=jh();return g.jsx(n4,{ref:e,...d.getStyles("title",{classNames:r,style:a,styles:o,className:i}),...c})});dx.classes=Hl;dx.displayName="@mantine/core/ModalTitle";const FQ={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Wa("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Kr=Ue((t,e)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:a,closeButtonProps:o,children:s,radius:c,opened:d,stackId:f,zIndex:h,...m}=Pe("Modal",FQ,t),v=$Q(),b=!!n||a,x=v&&f?{closeOnEscape:v.currentId===f,trapFocus:v.currentId===f,zIndex:v.getZIndex(f)}:{},S=r===!1?!1:f&&v?v.currentId===f:d;return w.useEffect(()=>{v&&f&&(d?v.addModal(f,h||Wa("modal")):v.removeModal(f))},[d,f,h]),g.jsxs(ux,{ref:e,radius:c,opened:d,zIndex:v&&f?v.getZIndex(f):h,...m,...x,children:[r&&g.jsx(cx,{visible:S,transitionProps:v&&f?{duration:0}:void 0,...i}),g.jsxs(sx,{radius:c,__hidden:v&&f&&d?f!==v.currentId:!1,children:[b&&g.jsxs(lx,{children:[n&&g.jsx(dx,{children:n}),a&&g.jsx(ox,{...o})]}),g.jsx(ax,{children:s})]})]})});Kr.classes=Hl;Kr.displayName="@mantine/core/Modal";Kr.Root=ux;Kr.Overlay=cx;Kr.Content=sx;Kr.Body=ax;Kr.Header=lx;Kr.Title=dx;Kr.CloseButton=ox;Kr.Stack=N4;const[UQ,Ok]=Xc();var fx={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const[HQ,VQ]=Xc(),qQ=(t,{gap:e},{size:n})=>({group:{"--pg-gap":e!==void 0?Mt(e):Mt(n,"pg-gap")}}),Dk=Ue((t,e)=>{const n=Pe("PillGroup",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,size:d,disabled:f,attributes:h,...m}=n,b=Ok()?.size||d||void 0,x=ut({name:"PillGroup",classes:fx,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:h,vars:c,varsResolver:qQ,stylesCtx:{size:b},rootSelector:"group"});return g.jsx(HQ,{value:{size:b,disabled:f},children:g.jsx(Me,{ref:e,size:b,...x("group"),...m})})});Dk.classes=fx;Dk.displayName="@mantine/core/PillGroup";const GQ={variant:"default"},YQ=(t,{radius:e},{size:n})=>({root:{"--pill-fz":Mt(n,"pill-fz"),"--pill-height":Mt(n,"pill-height"),"--pill-radius":e===void 0?void 0:_n(e)}}),dd=Ue((t,e)=>{const n=Pe("Pill",GQ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,variant:d,children:f,withRemoveButton:h,onRemove:m,removeButtonProps:v,radius:b,size:x,disabled:S,mod:A,attributes:T,...E}=n,k=VQ(),D=Ok(),M=x||k?.size||void 0,R=D?.variant==="filled"?"contrast":d||"default",N=ut({name:"Pill",classes:fx,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:T,vars:c,varsResolver:YQ,stylesCtx:{size:M}});return g.jsxs(Me,{component:"span",ref:e,variant:R,size:M,...N("root",{variant:R}),mod:[{"with-remove":h&&!S,disabled:S||k?.disabled},A],...E,children:[g.jsx("span",{...N("label"),children:f}),h&&g.jsx(zs,{variant:"transparent",radius:b,tabIndex:-1,"aria-hidden":!0,unstyled:s,...v,...N("remove",{className:v?.className,style:v?.style}),onMouseDown:z=>{z.preventDefault(),z.stopPropagation(),v?.onMouseDown?.(z)},onClick:z=>{z.stopPropagation(),m?.(),v?.onClick?.(z)}})]})});dd.classes=fx;dd.displayName="@mantine/core/Pill";dd.Group=Dk;var I4={field:"m_45c4369d"};const KQ={type:"visible"},Mk=Ue((t,e)=>{const n=Pe("PillsInputField",KQ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,type:d,disabled:f,id:h,pointer:m,mod:v,attributes:b,...x}=n,S=Ok(),A=Oh(),T=ut({name:"PillsInputField",classes:I4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:b,rootSelector:"field"}),E=f||S?.disabled;return g.jsx(Me,{component:"input",ref:kr(e,S?.fieldRef),"data-type":d,disabled:E,mod:[{disabled:E,pointer:m},v],...T("field"),...x,id:A?.inputId||h,"aria-invalid":S?.hasError,"aria-describedby":A?.describedBy,type:"text",onMouseDown:k=>!m&&k.stopPropagation()})});Mk.classes=I4;Mk.displayName="@mantine/core/PillsInputField";const WQ={size:"sm"},fh=Ue((t,e)=>{const n=Pe("PillsInput",WQ,t),{children:r,onMouseDown:i,onClick:a,size:o,disabled:s,__staticSelector:c,error:d,variant:f,...h}=n,m=w.useRef(null);return g.jsx(UQ,{value:{fieldRef:m,size:o,disabled:s,hasError:!!d,variant:f},children:g.jsx(Wi,{size:o,error:d,variant:f,component:"div",ref:e,"data-no-overflow":!0,onMouseDown:v=>{v.preventDefault(),i?.(v),m.current?.focus()},onClick:v=>{v.preventDefault(),v.currentTarget.closest("fieldset")?.disabled||(m.current?.focus(),a?.(v))},...h,multiline:!0,disabled:s,__staticSelector:c||"PillsInput",withAria:!1,children:r})})});fh.displayName="@mantine/core/PillsInput";fh.Field=Mk;function XQ({data:t,value:e}){const n=e.map(i=>i.trim().toLowerCase());return t.reduce((i,a)=>(ud(a)?i.push({group:a.group,items:a.items.filter(o=>n.indexOf(o.value.toLowerCase().trim())===-1)}):n.indexOf(a.value.toLowerCase().trim())===-1&&i.push(a),i),[])}const zj={xs:41,sm:50,md:60,lg:72,xl:89},ZQ={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:",",clearSearchOnChange:!0,openOnFocus:!0,size:"sm"},hx=Ue((t,e)=>{const n=Pe("MultiSelect",ZQ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,size:d,value:f,defaultValue:h,onChange:m,onKeyDown:v,variant:b,data:x,dropdownOpened:S,defaultDropdownOpened:A,onDropdownOpen:T,onDropdownClose:E,selectFirstOptionOnChange:k,selectFirstOptionOnDropdownOpen:D,onOptionSubmit:M,comboboxProps:R,filter:N,limit:z,withScrollArea:q,maxDropdownHeight:Y,searchValue:K,defaultSearchValue:te,onSearchChange:W,readOnly:J,disabled:L,onFocus:U,onBlur:F,radius:V,rightSection:G,rightSectionWidth:$,rightSectionPointerEvents:X,rightSectionProps:ne,leftSection:ae,leftSectionWidth:oe,leftSectionPointerEvents:xe,leftSectionProps:be,inputContainer:ze,inputWrapperOrder:ie,withAsterisk:se,labelProps:je,descriptionProps:ue,errorProps:Ve,wrapperProps:Le,description:ct,label:Qe,error:He,maxValues:We,searchable:nt,nothingFoundMessage:Je,withCheckIcon:wt,withAlignedLabels:ft,checkIconPosition:vt,hidePickedOptions:$e,withErrorStyles:at,name:Ge,form:qe,id:Jt,clearable:yn,clearButtonProps:Ht,hiddenInputProps:En,placeholder:Gt,hiddenInputValuesDivider:Xn,required:bn,mod:Nt,renderOption:et,onRemove:gr,onClear:xn,scrollAreaProps:Jr,chevronColor:tt,attributes:un,clearSearchOnChange:ur,openOnFocus:Tn,...ha}=n,ei=hi(Jt),Oa=rk(x),Pn=tx(Oa),Ur=w.useRef({}),hn=nx({opened:S,defaultOpened:A,onDropdownOpen:()=>{T?.(),D&&hn.selectFirstOption()},onDropdownClose:()=>{E?.(),hn.resetSelectedOption()}}),{styleProps:Xa,rest:{type:Za,autoComplete:lt,...Rt}}=Zc(ha),[nn,Hr]=Fr({value:f,defaultValue:h,finalValue:[],onChange:m}),[Vr,Da]=Fr({value:K,defaultValue:te,finalValue:"",onChange:W}),ti=Vt=>{Da(Vt),hn.resetSelectedOption()},dn=ut({name:"MultiSelect",classes:{},props:n,classNames:r,styles:o,unstyled:s,attributes:un}),{resolvedClassNames:Fn,resolvedStyles:Pr}=ka({props:n,styles:o,classNames:r}),Qa=Vt=>{v?.(Vt),Vt.key===" "&&!nt&&(Vt.preventDefault(),hn.toggleDropdown()),Vt.key==="Backspace"&&Vr.length===0&&nn.length>0&&(gr?.(nn[nn.length-1]),Hr(nn.slice(0,nn.length-1)))},ou=nn.map((Vt,pn)=>{const Zi=Pn[Vt]||Ur.current[Vt];return g.jsx(dd,{withRemoveButton:!J&&!Pn[Vt]?.disabled,onRemove:()=>{Hr(nn.filter(ni=>Vt!==ni)),gr?.(Vt)},unstyled:s,disabled:L,...dn("pill"),children:Zi?.label||Vt},`${Vt}-${pn}`)});w.useEffect(()=>{k&&hn.selectFirstOption()},[k,Vr]),w.useEffect(()=>{nn.forEach(Vt=>{Vt in Pn&&(Ur.current[Vt]=Pn[Vt])})},[Pn,nn]);const pa=g.jsx(Wt.ClearButton,{...Ht,onClear:()=>{xn?.(),Hr([]),ti("")}}),It=XQ({data:Oa,value:nn}),jn=yn&&nn.length>0&&!L&&!J,yi=jn?{paddingInlineEnd:zj[d]??zj.sm}:void 0;return g.jsxs(g.Fragment,{children:[g.jsxs(Wt,{store:hn,classNames:Fn,styles:Pr,unstyled:s,size:d,readOnly:J,__staticSelector:"MultiSelect",attributes:un,onOptionSubmit:Vt=>{M?.(Vt),ur&&ti(""),hn.updateSelectedOptionIndex("selected"),nn.includes(Pn[Vt].value)?(Hr(nn.filter(pn=>pn!==Pn[Vt].value)),gr?.(Pn[Vt].value)):nn.length<We&&Hr([...nn,Pn[Vt].value])},...R,children:[g.jsx(Wt.DropdownTarget,{children:g.jsx(fh,{...Xa,__staticSelector:"MultiSelect",classNames:Fn,styles:Pr,unstyled:s,size:d,className:i,style:a,variant:b,disabled:L,radius:V,__defaultRightSection:g.jsx(Wt.Chevron,{size:d,error:He,unstyled:s,color:tt}),__clearSection:pa,__clearable:jn,rightSection:G,rightSectionPointerEvents:X||"none",rightSectionWidth:$,rightSectionProps:ne,leftSection:ae,leftSectionWidth:oe,leftSectionPointerEvents:xe,leftSectionProps:be,inputContainer:ze,inputWrapperOrder:ie,withAsterisk:se,labelProps:je,descriptionProps:ue,errorProps:Ve,wrapperProps:Le,description:ct,label:Qe,error:He,withErrorStyles:at,__stylesApiProps:{...n,rightSectionPointerEvents:X||"none",multiline:!0},pointer:!nt,onClick:()=>nt?hn.openDropdown():hn.toggleDropdown(),"data-expanded":hn.dropdownOpened||void 0,id:ei,required:bn,mod:Nt,attributes:un,children:g.jsxs(dd.Group,{attributes:un,disabled:L,unstyled:s,...dn("pillsList",{style:yi}),children:[ou,g.jsx(Wt.EventsTarget,{autoComplete:lt,children:g.jsx(fh.Field,{...Rt,ref:e,id:ei,placeholder:Gt,type:!nt&&!Gt?"hidden":"visible",...dn("inputField"),unstyled:s,onFocus:Vt=>{U?.(Vt),Tn&&nt&&hn.openDropdown()},onBlur:Vt=>{F?.(Vt),hn.closeDropdown(),ti("")},onKeyDown:Qa,value:Vr,onChange:Vt=>{ti(Vt.currentTarget.value),nt&&hn.openDropdown(),k&&hn.selectFirstOption()},disabled:L,readOnly:J||!nt,pointer:!nt})})]})})}),g.jsx(bk,{data:$e?It:Oa,hidden:J||L,filter:N,search:Vr,limit:z,hiddenWhenEmpty:!Je,withScrollArea:q,maxDropdownHeight:Y,filterOptions:nt,value:nn,checkIconPosition:vt,withCheckIcon:wt,withAlignedLabels:ft,nothingFoundMessage:Je,unstyled:s,labelId:Qe?`${ei}-label`:void 0,"aria-label":Qe?void 0:ha["aria-label"],renderOption:et,scrollAreaProps:Jr})]}),g.jsx(Wt.HiddenInput,{name:Ge,valuesDivider:Xn,value:nn,form:qe,disabled:L,...En})]})});hx.classes={...Wi.classes,...Wt.classes};hx.displayName="@mantine/core/MultiSelect";var z4={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const QQ=(t,{variant:e,color:n,childrenOffset:r,autoContrast:i})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,variant:e||"light",autoContrast:i});return{root:{"--nl-bg":n||e?a.background:void 0,"--nl-hover":n||e?a.hover:void 0,"--nl-color":n||e?a.color:void 0},children:{"--nl-offset":zr(r)}}},Sb=Ki((t,e)=>{const n=Pe("NavLink",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,opened:d,defaultOpened:f,onChange:h,children:m,active:v,disabled:b,leftSection:x,rightSection:S,label:A,description:T,disableRightSectionRotation:E,noWrap:k,childrenOffset:D,autoContrast:M,mod:R,attributes:N,onClick:z,onKeyDown:q,...Y}=n,K=ut({name:"NavLink",props:n,classes:z4,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:N,vars:c,varsResolver:QQ}),[te,W]=Fr({value:d,defaultValue:f,finalValue:!1,onChange:h}),J=!!m,L=U=>{z?.(U),J&&(U.preventDefault(),W(!te))};return g.jsxs(g.Fragment,{children:[g.jsxs(Br,{...K("root"),component:"a",ref:e,onClick:L,onKeyDown:U=>{q?.(U),U.nativeEvent.code==="Space"&&J&&(U.preventDefault(),W(!te))},unstyled:s,mod:[{disabled:b,active:v,expanded:te},R],...Y,children:[x&&g.jsx(Me,{component:"span",...K("section"),mod:{position:"left"},children:x}),g.jsxs(Me,{...K("body"),mod:{"no-wrap":k},children:[g.jsx(Me,{component:"span",...K("label"),children:A}),g.jsx(Me,{component:"span",mod:{active:v},...K("description"),children:T})]}),(J||S!==void 0)&&g.jsx(Me,{...K("section"),component:"span",mod:{rotate:te&&!E,position:"right"},children:J?S!==void 0?S:g.jsx(uh,{...K("chevron")}):S})]}),J&&g.jsx(sg,{in:te,...K("collapse"),children:g.jsx("div",{...K("children"),children:m})})]})});Sb.classes=z4;Sb.displayName="@mantine/core/NavLink";var B4={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const JQ={withCloseButton:!0},eJ=(t,{radius:e,color:n})=>({root:{"--notification-radius":e===void 0?void 0:_n(e),"--notification-color":n?Kn(n,t):void 0}}),Rk=Ue((t,e)=>{const n=Pe("Notification",JQ,t),{className:r,color:i,radius:a,loading:o,withCloseButton:s,withBorder:c,title:d,icon:f,children:h,onClose:m,closeButtonProps:v,classNames:b,style:x,styles:S,unstyled:A,vars:T,mod:E,loaderProps:k,role:D,attributes:M,...R}=n,N=ut({name:"Notification",classes:B4,props:n,className:r,style:x,classNames:b,styles:S,unstyled:A,attributes:M,vars:T,varsResolver:eJ});return g.jsxs(Me,{...N("root"),mod:[{"data-with-icon":!!f||o,"data-with-border":c},E],ref:e,role:D||"alert",...R,children:[f&&!o&&g.jsx("div",{...N("icon"),children:f}),o&&g.jsx(Ri,{size:28,color:i,...k,...N("loader")}),g.jsxs("div",{...N("body"),children:[d&&g.jsx("div",{...N("title"),children:d}),g.jsx(Me,{...N("description"),mod:{"data-with-title":!!d},children:h})]}),s&&g.jsx(zs,{iconSize:16,color:"gray",...v,unstyled:A,onClick:m,...N("closeButton")})]})});Rk.classes=B4;Rk.displayName="@mantine/core/Notification";function $4(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var jm;(function(t){t.event="event",t.props="prop"})(jm||(jm={}));function Ic(){}function tJ(t){var e,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return e&&r.length===e.length&&r.every(function(a,o){return a===e[o]})||(e=r,n=t.apply(void 0,r)),n}}function Lm(t){return!!(t||"").match(/\d/)}function Xf(t){return t==null}function nJ(t){return typeof t=="number"&&isNaN(t)}function F4(t){return Xf(t)||nJ(t)||typeof t=="number"&&!isFinite(t)}function U4(t){return t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function rJ(t){switch(t){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;default:return/(\d)(?=(\d{3})+(?!\d))/g}}function iJ(t,e,n){var r=rJ(n),i=t.search(/[1-9]/);return i=i===-1?t.length:i,t.substring(0,i)+t.substring(i,t.length).replace(r,"$1"+e)}function aJ(t){var e=w.useRef(t);e.current=t;var n=w.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return e.current.apply(e,r)});return n.current}function jk(t,e){e===void 0&&(e=!0);var n=t[0]==="-",r=n&&e;t=t.replace("-","");var i=t.split("."),a=i[0],o=i[1]||"";return{beforeDecimal:a,afterDecimal:o,hasNegation:n,addNegation:r}}function oJ(t){if(!t)return t;var e=t[0]==="-";e&&(t=t.substring(1,t.length));var n=t.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(e?"-":"")+r+(i?"."+i:"")}function H4(t,e,n){for(var r="",i=n?"0":"",a=0;a<=e-1;a++)r+=t[a]||i;return r}function Bj(t,e){return Array(e+1).join(t)}function V4(t){var e=t+"",n=e[0]==="-"?"-":"";n&&(e=e.substring(1));var r=e.split(/[eE]/g),i=r[0],a=r[1];if(a=Number(a),!a)return n+i;i=i.replace(".","");var o=1+a,s=i.length;return o<0?i="0."+Bj("0",Math.abs(o))+i:o>=s?i=i+Bj("0",o-s):i=(i.substring(0,o)||"0")+"."+i.substring(o),n+i}function $j(t,e,n){if(["","-"].indexOf(t)!==-1)return t;var r=(t.indexOf(".")!==-1||n)&&e,i=jk(t),a=i.beforeDecimal,o=i.afterDecimal,s=i.hasNegation,c=parseFloat("0."+(o||"0")),d=o.length<=e?"0."+o:c.toFixed(e),f=d.split("."),h=a;a&&Number(f[0])&&(h=a.split("").reverse().reduce(function(x,S,A){return x.length>A?(Number(x[0])+Number(S)).toString()+x.substring(1,x.length):S+x},f[0]));var m=H4(f[1]||"",e,n),v=s?"-":"",b=r?".":"";return""+v+h+b+m}function Uu(t,e){if(t.value=t.value,t!==null){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select(),!0}return t.selectionStart||t.selectionStart===0?(t.focus(),t.setSelectionRange(e,e),!0):(t.focus(),!1)}}var q4=tJ(function(t,e){for(var n=0,r=0,i=t.length,a=e.length;t[n]===e[n]&&n<i;)n++;for(;t[i-1-r]===e[a-1-r]&&a-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:a-r}}}),sJ=function(t,e){var n=Math.min(t.selectionStart,e);return{from:{start:n,end:t.selectionEnd},to:{start:n,end:e}}};function lJ(t,e,n){return Math.min(Math.max(t,e),n)}function KS(t){return Math.max(t.selectionStart,t.selectionEnd)}function cJ(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function uJ(t){return{from:{start:0,end:0},to:{start:0,end:t.length},lastValue:""}}function dJ(t){var e=t.currentValue,n=t.formattedValue,r=t.currentValueIndex,i=t.formattedValueIndex;return e[r]===n[i]}function fJ(t,e,n,r,i,a,o){o===void 0&&(o=dJ);var s=i.findIndex(function(k){return k}),c=t.slice(0,s);!e&&!n.startsWith(c)&&(e=c,n=c+n,r=r+c.length);for(var d=n.length,f=t.length,h={},m=new Array(d),v=0;v<d;v++){m[v]=-1;for(var b=0,x=f;b<x;b++){var S=o({currentValue:n,lastValue:e,formattedValue:t,currentValueIndex:v,formattedValueIndex:b});if(S&&h[b]!==!0){m[v]=b,h[b]=!0;break}}}for(var A=r;A<d&&(m[A]===-1||!a(n[A]));)A++;var T=A===d||m[A]===-1?f:m[A];for(A=r-1;A>0&&m[A]===-1;)A--;var E=A===-1||m[A]===-1?0:m[A]+1;return E>T?T:r-E<T-r?E:T}function Fj(t,e,n,r){var i=t.length;if(e=lJ(e,0,i),r==="left"){for(;e>=0&&!n[e];)e--;e===-1&&(e=n.indexOf(!0))}else{for(;e<=i&&!n[e];)e++;e>i&&(e=n.lastIndexOf(!0))}return e===-1&&(e=i),e}function hJ(t){for(var e=Array.from({length:t.length+1}).map(function(){return!0}),n=0,r=e.length;n<r;n++)e[n]=!!(Lm(t[n])||Lm(t[n-1]));return e}function G4(t,e,n,r,i,a){a===void 0&&(a=Ic);var o=aJ(function(b,x){var S,A;return F4(b)?(A="",S=""):typeof b=="number"||x?(A=typeof b=="number"?V4(b):b,S=r(A)):(A=i(b,void 0),S=r(A)),{formattedValue:S,numAsString:A}}),s=w.useState(function(){return o(Xf(t)?e:t,n)}),c=s[0],d=s[1],f=function(b,x){b.formattedValue!==c.formattedValue&&d({formattedValue:b.formattedValue,numAsString:b.value}),a(b,x)},h=t,m=n;Xf(t)&&(h=c.numAsString,m=!0);var v=o(h,m);return w.useMemo(function(){d(v)},[v.formattedValue]),[c,f]}function pJ(t){return t.replace(/[^0-9]/g,"")}function mJ(t){return t}function gJ(t){var e=t.type;e===void 0&&(e="text");var n=t.displayType;n===void 0&&(n="input");var r=t.customInput,i=t.renderText,a=t.getInputRef,o=t.format;o===void 0&&(o=mJ);var s=t.removeFormatting;s===void 0&&(s=pJ);var c=t.defaultValue,d=t.valueIsNumericString,f=t.onValueChange,h=t.isAllowed,m=t.onChange;m===void 0&&(m=Ic);var v=t.onKeyDown;v===void 0&&(v=Ic);var b=t.onMouseUp;b===void 0&&(b=Ic);var x=t.onFocus;x===void 0&&(x=Ic);var S=t.onBlur;S===void 0&&(S=Ic);var A=t.value,T=t.getCaretBoundary;T===void 0&&(T=hJ);var E=t.isValidInputCharacter;E===void 0&&(E=Lm);var k=t.isCharacterSame,D=$4(t,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),M=G4(A,c,!!d,o,s,f),R=M[0],N=R.formattedValue,z=R.numAsString,q=M[1],Y=w.useRef(),K=w.useRef({formattedValue:N,numAsString:z}),te=function(He,We){K.current={formattedValue:He.formattedValue,numAsString:He.value},q(He,We)},W=w.useState(!1),J=W[0],L=W[1],U=w.useRef(null),F=w.useRef({setCaretTimeout:null,focusTimeout:null});w.useEffect(function(){return L(!0),function(){clearTimeout(F.current.setCaretTimeout),clearTimeout(F.current.focusTimeout)}},[]);var V=o,G=function(He,We){var nt=parseFloat(We);return{formattedValue:He,value:We,floatValue:isNaN(nt)?void 0:nt}},$=function(He,We,nt){He.selectionStart===0&&He.selectionEnd===He.value.length||(Uu(He,We),F.current.setCaretTimeout=setTimeout(function(){He.value===nt&&He.selectionStart!==We&&Uu(He,We)},0))},X=function(He,We,nt){return Fj(He,We,T(He),nt)},ne=function(He,We,nt){var Je=T(We),wt=fJ(We,N,He,nt,Je,E,k);return wt=Fj(We,wt,Je),wt},ae=function(He){var We=He.formattedValue;We===void 0&&(We="");var nt=He.input,Je=He.source,wt=He.event,ft=He.numAsString,vt;if(nt){var $e=He.inputValue||nt.value,at=KS(nt);nt.value=We,vt=ne($e,We,at),vt!==void 0&&$(nt,vt,We)}We!==N&&te(G(We,ft),{event:wt,source:Je})};w.useEffect(function(){var He=K.current,We=He.formattedValue,nt=He.numAsString;(N!==We||z!==nt)&&te(G(N,z),{event:void 0,source:jm.props})},[N,z]);var oe=U.current?KS(U.current):void 0,xe=typeof window<"u"?w.useLayoutEffect:w.useEffect;xe(function(){var He=U.current;if(N!==K.current.formattedValue&&He){var We=ne(K.current.formattedValue,N,oe);He.value=N,$(He,We,N)}},[N]);var be=function(He,We,nt){var Je=We.target,wt=Y.current?sJ(Y.current,Je.selectionEnd):q4(N,He),ft=Object.assign(Object.assign({},wt),{lastValue:N}),vt=s(He,ft),$e=V(vt);if(vt=s($e,void 0),h&&!h(G($e,vt))){var at=We.target,Ge=KS(at),qe=ne(He,N,Ge);return at.value=N,$(at,qe,N),!1}return ae({formattedValue:$e,numAsString:vt,inputValue:He,event:We,source:nt,input:We.target}),!0},ze=function(He,We){We===void 0&&(We=0);var nt=He.selectionStart,Je=He.selectionEnd;Y.current={selectionStart:nt,selectionEnd:Je+We}},ie=function(He){var We=He.target,nt=We.value,Je=be(nt,He,jm.event);Je&&m(He),Y.current=void 0},se=function(He){var We=He.target,nt=He.key,Je=We.selectionStart,wt=We.selectionEnd,ft=We.value;ft===void 0&&(ft="");var vt;nt==="ArrowLeft"||nt==="Backspace"?vt=Math.max(Je-1,0):nt==="ArrowRight"?vt=Math.min(Je+1,ft.length):nt==="Delete"&&(vt=Je);var $e=0;nt==="Delete"&&Je===wt&&($e=1);var at=nt==="ArrowLeft"||nt==="ArrowRight";if(vt===void 0||Je!==wt&&!at){v(He),ze(We,$e);return}var Ge=vt;if(at){var qe=nt==="ArrowLeft"?"left":"right";Ge=X(ft,vt,qe),Ge!==vt&&He.preventDefault()}else nt==="Delete"&&!E(ft[vt])?Ge=X(ft,vt,"right"):nt==="Backspace"&&!E(ft[vt])&&(Ge=X(ft,vt,"left"));Ge!==vt&&$(We,Ge,ft),v(He),ze(We,$e)},je=function(He){var We=He.target,nt=function(){var Je=We.selectionStart,wt=We.selectionEnd,ft=We.value;if(ft===void 0&&(ft=""),Je===wt){var vt=X(ft,Je);vt!==Je&&$(We,vt,ft)}};nt(),requestAnimationFrame(function(){nt()}),b(He),ze(We)},ue=function(He){He.persist&&He.persist();var We=He.target,nt=He.currentTarget;U.current=We,F.current.focusTimeout=setTimeout(function(){var Je=We.selectionStart,wt=We.selectionEnd,ft=We.value;ft===void 0&&(ft="");var vt=X(ft,Je);vt!==Je&&!(Je===0&&wt===ft.length)&&$(We,vt,ft),x(Object.assign(Object.assign({},He),{currentTarget:nt}))},0)},Ve=function(He){U.current=null,clearTimeout(F.current.focusTimeout),clearTimeout(F.current.setCaretTimeout),S(He)},Le=J&&cJ()?"numeric":void 0,ct=Object.assign({inputMode:Le},D,{type:e,value:N,onChange:ie,onKeyDown:se,onMouseUp:je,onFocus:ue,onBlur:Ve});if(n==="text")return i?sr.createElement(sr.Fragment,null,i(N,D)||null):sr.createElement("span",Object.assign({},D,{ref:a}),N);if(r){var Qe=r;return sr.createElement(Qe,Object.assign({},ct,{ref:a}))}return sr.createElement("input",Object.assign({},ct,{ref:a}))}function Uj(t,e){var n=e.decimalScale,r=e.fixedDecimalScale,i=e.prefix;i===void 0&&(i="");var a=e.suffix;a===void 0&&(a="");var o=e.allowNegative,s=e.thousandsGroupStyle;if(s===void 0&&(s="thousand"),t===""||t==="-")return t;var c=px(e),d=c.thousandSeparator,f=c.decimalSeparator,h=n!==0&&t.indexOf(".")!==-1||n&&r,m=jk(t,o),v=m.beforeDecimal,b=m.afterDecimal,x=m.addNegation;return n!==void 0&&(b=H4(b,n,!!r)),d&&(v=iJ(v,d,s)),i&&(v=i+v),a&&(b=b+a),x&&(v="-"+v),t=v+(h&&f||"")+b,t}function px(t){var e=t.decimalSeparator;e===void 0&&(e=".");var n=t.thousandSeparator,r=t.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[e,"."]),{decimalSeparator:e,thousandSeparator:n,allowedDecimalSeparators:r}}function vJ(t,e){t===void 0&&(t="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(t),a=r.test(t);return t=t.replace(/-/g,""),i&&!a&&e&&(t="-"+t),t}function yJ(t,e){return new RegExp("(^-)|[0-9]|"+U4(t),"g")}function bJ(t,e,n){return t===""?!0:!e?.match(/\d/)&&!n?.match(/\d/)&&typeof t=="string"&&!isNaN(Number(t))}function xJ(t,e,n){var r;e===void 0&&(e=uJ(t));var i=n.allowNegative,a=n.prefix;a===void 0&&(a="");var o=n.suffix;o===void 0&&(o="");var s=n.decimalScale,c=e.from,d=e.to,f=d.start,h=d.end,m=px(n),v=m.allowedDecimalSeparators,b=m.decimalSeparator,x=t[h]===b;if(Lm(t)&&(t===a||t===o)&&e.lastValue==="")return t;if(h-f===1&&v.indexOf(t[f])!==-1){var S=s===0?"":b;t=t.substring(0,f)+S+t.substring(f+1,t.length)}var A=function(U,F,V){var G=!1,$=!1;a.startsWith("-")?G=!1:U.startsWith("--")?(G=!1,$=!0):o.startsWith("-")&&U.length===o.length?G=!1:U[0]==="-"&&(G=!0);var X=G?1:0;return $&&(X=2),X&&(U=U.substring(X),F-=X,V-=X),{value:U,start:F,end:V,hasNegation:G}},T=A(t,f,h),E=T.hasNegation;r=T,t=r.value,f=r.start,h=r.end;var k=A(e.lastValue,c.start,c.end),D=k.start,M=k.end,R=k.value,N=t.substring(f,h);t.length&&R.length&&(D>R.length-o.length||M<a.length)&&!(N&&o.startsWith(N))&&(t=R);var z=0;t.startsWith(a)?z+=a.length:f<a.length&&(z=f),t=t.substring(z),h-=z;var q=t.length,Y=t.length-o.length;t.endsWith(o)?q=Y:(h>Y||h>t.length-o.length)&&(q=h),t=t.substring(0,q),t=vJ(E?"-"+t:t,i),t=(t.match(yJ(b))||[]).join("");var K=t.indexOf(b);t=t.replace(new RegExp(U4(b),"g"),function(U,F){return F===K?".":""});var te=jk(t,i),W=te.beforeDecimal,J=te.afterDecimal,L=te.addNegation;return d.end-d.start<c.end-c.start&&W===""&&x&&!parseFloat(J)&&(t=L?"-":""),t}function wJ(t,e){var n=e.prefix;n===void 0&&(n="");var r=e.suffix;r===void 0&&(r="");var i=Array.from({length:t.length+1}).map(function(){return!0}),a=t[0]==="-";i.fill(!1,0,n.length+(a?1:0));var o=t.length;return i.fill(!1,o-r.length+1,o+1),i}function SJ(t){var e=px(t),n=e.thousandSeparator,r=e.decimalSeparator,i=t.prefix;i===void 0&&(i="");var a=t.allowNegative;if(a===void 0&&(a=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&a&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+a+`
    `),a=!1),Object.assign(Object.assign({},t),{allowNegative:a})}function AJ(t){t=SJ(t),t.decimalSeparator,t.allowedDecimalSeparators,t.thousandsGroupStyle;var e=t.suffix,n=t.allowNegative,r=t.allowLeadingZeros,i=t.onKeyDown;i===void 0&&(i=Ic);var a=t.onBlur;a===void 0&&(a=Ic);var o=t.thousandSeparator,s=t.decimalScale,c=t.fixedDecimalScale,d=t.prefix;d===void 0&&(d="");var f=t.defaultValue,h=t.value,m=t.valueIsNumericString,v=t.onValueChange,b=$4(t,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),x=px(t),S=x.decimalSeparator,A=x.allowedDecimalSeparators,T=function(L){return Uj(L,t)},E=function(L,U){return xJ(L,U,t)},k=Xf(h)?f:h,D=m??bJ(k,d,e);Xf(h)?Xf(f)||(D=D||typeof f=="number"):D=D||typeof h=="number";var M=function(L){return F4(L)?L:(typeof L=="number"&&(L=V4(L)),D&&typeof s=="number"?$j(L,s,!!c):L)},R=G4(M(h),M(f),!!D,T,E,v),N=R[0],z=N.numAsString,q=N.formattedValue,Y=R[1],K=function(L){var U=L.target,F=L.key,V=U.selectionStart,G=U.selectionEnd,$=U.value;if($===void 0&&($=""),(F==="Backspace"||F==="Delete")&&G<d.length){L.preventDefault();return}if(V!==G){i(L);return}F==="Backspace"&&$[0]==="-"&&V===d.length+1&&n&&Uu(U,1),s&&c&&(F==="Backspace"&&$[V-1]===S?(Uu(U,V-1),L.preventDefault()):F==="Delete"&&$[V]===S&&L.preventDefault()),A?.includes(F)&&$[V]===S&&Uu(U,V+1);var X=o===!0?",":o;F==="Backspace"&&$[V-1]===X&&Uu(U,V-1),F==="Delete"&&$[V]===X&&Uu(U,V+1),i(L)},te=function(L){var U=z;if(U.match(/\d/g)||(U=""),r||(U=oJ(U)),c&&s&&(U=$j(U,s,c)),U!==z){var F=Uj(U,t);Y({formattedValue:F,value:U,floatValue:parseFloat(U)},{event:L,source:jm.event})}a(L)},W=function(L){return L===S?!0:Lm(L)},J=function(L){var U=L.currentValue,F=L.lastValue,V=L.formattedValue,G=L.currentValueIndex,$=L.formattedValueIndex,X=U[G],ne=V[$],ae=q4(F,U),oe=ae.to,xe=function(be){return E(be).indexOf(".")+d.length};return h===0&&c&&s&&U[oe.start]===S&&xe(U)<G&&xe(V)>$?!1:G>=oe.start&&G<oe.end&&A&&A.includes(X)&&ne===S?!0:X===ne};return Object.assign(Object.assign({},b),{value:q,valueIsNumericString:!1,isValidInputCharacter:W,isCharacterSame:J,onValueChange:Y,format:T,removeFormatting:E,getCaretBoundary:function(L){return wJ(L,t)},onKeyDown:K,onBlur:te})}function CJ(t){var e=AJ(t);return sr.createElement(gJ,Object.assign({},e))}var I_={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};function Hj({direction:t,style:e,...n}){return g.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:t==="up"?"rotate(180deg)":void 0,...e},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:g.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}const _J=/^(0\.0*|-0(\.0*)?)$/,EJ=/^-?0\d+(\.\d+)?\.?$/,TJ=/\.\d*0$/,Y4=/^-?\d+\.$/;function z_(t){return typeof t=="string"&&t!==""&&!Number.isNaN(Number(t))}function WS(t){return typeof t=="number"?t<Number.MAX_SAFE_INTEGER:t===""||z_(t)&&Number(t)<Number.MAX_SAFE_INTEGER}function kJ(t){return t.toString().replace(".","").length}function PJ(t,e){return(typeof t=="number"?t<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(t)))&&!Number.isNaN(t)&&kJ(e)<14&&e!==""}function Vj(t,e,n){if(t===void 0)return!0;const r=e===void 0||t>=e,i=n===void 0||t<=n;return r&&i}const OJ={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0,allowedDecimalSeparators:[".",","]},DJ=(t,{size:e})=>({controls:{"--ni-chevron-size":Mt(e,"ni-chevron-size")}});function MJ(t,e,n){const r=t.toString(),i=Y4.test(r),a=r.replace(/^0+(?=\d)/,""),o=parseFloat(a);if(Number.isNaN(o))return a;if(o>Number.MAX_SAFE_INTEGER)return e!==void 0?e:a;const s=Cm(o,n,e);return i?`${s.toString().replace(/^0+(?=\d)/,"")}.`:s}const xl=Ue((t,e)=>{const n=Pe("NumberInput",OJ,t),{className:r,classNames:i,styles:a,unstyled:o,vars:s,onChange:c,onValueChange:d,value:f,defaultValue:h,max:m,min:v,step:b,hideControls:x,rightSection:S,isAllowed:A,clampBehavior:T,onBlur:E,allowDecimal:k,decimalScale:D,onKeyDown:M,onKeyDownCapture:R,handlersRef:N,startValue:z,disabled:q,rightSectionPointerEvents:Y,allowNegative:K,readOnly:te,size:W,rightSectionWidth:J,stepHoldInterval:L,stepHoldDelay:U,allowLeadingZeros:F,withKeyboardEvents:V,trimLeadingZeroesOnBlur:G,allowedDecimalSeparators:$,attributes:X,...ne}=n,ae=ut({name:"NumberInput",classes:I_,props:n,classNames:i,styles:a,unstyled:o,attributes:X,vars:s,varsResolver:DJ}),{resolvedClassNames:oe,resolvedStyles:xe}=ka({classNames:i,styles:a,props:n}),[be,ze]=Fr({value:f,defaultValue:h,finalValue:"",onChange:c}),ie=U!==void 0&&L!==void 0,se=w.useRef(null),je=w.useRef(null),ue=w.useRef(0),Ve=(Ge,qe)=>{qe.source==="event"&&ze(PJ(Ge.floatValue,Ge.value)&&!_J.test(Ge.value)&&!(F&&EJ.test(Ge.value))&&!TJ.test(Ge.value)&&!Y4.test(Ge.value)?Ge.floatValue:Ge.value),d?.(Ge,qe)},Le=Ge=>{const qe=String(Ge).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return qe?Math.max(0,(qe[1]?qe[1].length:0)-(qe[2]?+qe[2]:0)):0},ct=Ge=>{se.current&&typeof Ge<"u"&&se.current.setSelectionRange(Ge,Ge)},Qe=w.useRef(hb);Qe.current=()=>{if(!WS(be))return;let Ge;const qe=Le(be),Jt=Le(b),yn=Math.max(qe,Jt),Ht=10**yn;if(!z_(be)&&(typeof be!="number"||Number.isNaN(be)))Ge=Cm(z,v,m);else if(m!==void 0){const Gt=(Math.round(Number(be)*Ht)+Math.round(b*Ht))/Ht;Ge=Gt<=m?Gt:m}else Ge=(Math.round(Number(be)*Ht)+Math.round(b*Ht))/Ht;const En=Ge.toFixed(yn);ze(parseFloat(En)),d?.({floatValue:parseFloat(En),formattedValue:En,value:En},{source:"increment"}),setTimeout(()=>ct(se.current?.value.length),0)};const He=w.useRef(hb);He.current=()=>{if(!WS(be))return;let Ge;const qe=v!==void 0?v:K?Number.MIN_SAFE_INTEGER:0,Jt=Le(be),yn=Le(b),Ht=Math.max(Jt,yn),En=10**Ht;if(!z_(be)&&typeof be!="number"||Number.isNaN(be))Ge=Cm(z,qe,m);else{const Xn=(Math.round(Number(be)*En)-Math.round(b*En))/En;Ge=qe!==void 0&&Xn<qe?qe:Xn}const Gt=Ge.toFixed(Ht);ze(parseFloat(Gt)),d?.({floatValue:parseFloat(Gt),formattedValue:Gt,value:Gt},{source:"decrement"}),setTimeout(()=>ct(se.current?.value.length),0)};const We=Ge=>{M?.(Ge),!(te||!V)&&(Ge.key==="ArrowUp"&&(Ge.preventDefault(),Qe.current?.()),Ge.key==="ArrowDown"&&(Ge.preventDefault(),He.current?.()))},nt=Ge=>{if(R?.(Ge),Ge.key==="Backspace"){const qe=se.current;qe&&qe.selectionStart===0&&qe.selectionStart===qe.selectionEnd&&(Ge.preventDefault(),window.setTimeout(()=>ct(0),0))}},Je=Ge=>{let qe=be;T==="blur"&&typeof qe=="number"&&(qe=Cm(qe,v,m)),G&&typeof qe=="string"&&Le(qe)<15&&(qe=MJ(qe,m,v)),be!==qe&&ze(qe),E?.(Ge)};ah(N,{increment:Qe.current,decrement:He.current});const wt=Ge=>{Ge?Qe.current?.():He.current?.(),ue.current+=1},ft=Ge=>{if(wt(Ge),ie){const qe=typeof L=="number"?L:L(ue.current);je.current=window.setTimeout(()=>ft(Ge),qe)}},vt=(Ge,qe)=>{Ge.preventDefault(),se.current?.focus(),wt(qe),ie&&(je.current=window.setTimeout(()=>ft(qe),U))},$e=()=>{je.current&&window.clearTimeout(je.current),je.current=null,ue.current=0},at=g.jsxs("div",{...ae("controls"),children:[g.jsx(Br,{...ae("control"),tabIndex:-1,"aria-hidden":!0,disabled:q||typeof be=="number"&&m!==void 0&&be>=m,mod:{direction:"up"},onMouseDown:Ge=>Ge.preventDefault(),onPointerDown:Ge=>{vt(Ge,!0)},onPointerUp:$e,onPointerLeave:$e,children:g.jsx(Hj,{direction:"up"})}),g.jsx(Br,{...ae("control"),tabIndex:-1,"aria-hidden":!0,disabled:q||typeof be=="number"&&v!==void 0&&be<=v,mod:{direction:"down"},onMouseDown:Ge=>Ge.preventDefault(),onPointerDown:Ge=>{vt(Ge,!1)},onPointerUp:$e,onPointerLeave:$e,children:g.jsx(Hj,{direction:"down"})})]});return g.jsx(Wi,{component:CJ,allowNegative:K,className:Pt(I_.root,r),size:W,inputMode:"decimal",...ne,readOnly:te,disabled:q,value:be,getInputRef:kr(e,se),onValueChange:Ve,rightSection:x||te||!WS(be)?S:S||at,classNames:oe,styles:xe,unstyled:o,__staticSelector:"NumberInput",decimalScale:k?D:0,onKeyDown:We,onKeyDownCapture:nt,rightSectionPointerEvents:Y??(q?"none":void 0),rightSectionWidth:J??`var(--ni-right-section-width-${W||"sm"})`,allowLeadingZeros:F,allowedDecimalSeparators:$,onBlur:Je,attributes:X,isAllowed:Ge=>T==="strict"?A?A(Ge)&&Vj(Ge.floatValue,v,m):Vj(Ge.floatValue,v,m):A?A(Ge):!0})});xl.classes={...Wi.classes,...I_};xl.displayName="@mantine/core/NumberInput";var B_={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const RJ=({reveal:t})=>g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:g.jsx("path",{d:t?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),jJ={visibilityToggleIcon:RJ},LJ=(t,{size:e})=>({root:{"--psi-icon-size":Mt(e,"psi-icon-size"),"--psi-button-size":Mt(e,"psi-button-size")}}),Ds=Ue((t,e)=>{const n=Pe("PasswordInput",jJ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,required:d,error:f,leftSection:h,disabled:m,id:v,variant:b,inputContainer:x,description:S,label:A,size:T,errorProps:E,descriptionProps:k,labelProps:D,withAsterisk:M,inputWrapperOrder:R,wrapperProps:N,radius:z,rightSection:q,rightSectionWidth:Y,rightSectionPointerEvents:K,leftSectionWidth:te,visible:W,defaultVisible:J,onVisibilityChange:L,visibilityToggleIcon:U,visibilityToggleButtonProps:F,rightSectionProps:V,leftSectionProps:G,leftSectionPointerEvents:$,withErrorStyles:X,mod:ne,attributes:ae,...oe}=n,xe=hi(v),[be,ze]=Fr({value:W,defaultValue:J,finalValue:!1,onChange:L}),ie=()=>ze(!be),se=ut({name:"PasswordInput",classes:B_,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:ae,vars:c,varsResolver:LJ}),{resolvedClassNames:je,resolvedStyles:ue}=ka({classNames:r,styles:o,props:n}),{styleProps:Ve,rest:Le}=Zc(oe),ct=E?.id||`${xe}-error`,Qe=k?.id||`${xe}-description`,nt=`${!!f&&typeof f!="boolean"?ct:""} ${!!S?Qe:""}`,Je=nt.trim().length>0?nt.trim():void 0,wt=g.jsx(Di,{...se("visibilityToggle"),disabled:m,radius:z,"aria-hidden":!F,"aria-pressed":be,tabIndex:-1,...F,variant:F?.variant??"subtle",color:"gray",unstyled:s,onTouchEnd:ft=>{ft.preventDefault(),F?.onTouchEnd?.(ft),ie()},onMouseDown:ft=>{ft.preventDefault(),F?.onMouseDown?.(ft),ie()},onKeyDown:ft=>{F?.onKeyDown?.(ft),ft.key===" "&&(ft.preventDefault(),ie())},children:g.jsx(U,{reveal:be})});return g.jsx(qn.Wrapper,{required:d,id:xe,label:A,error:f,description:S,size:T,classNames:je,styles:ue,__staticSelector:"PasswordInput",unstyled:s,withAsterisk:M,inputWrapperOrder:R,inputContainer:x,variant:b,labelProps:{...D,htmlFor:xe},descriptionProps:{...k,id:Qe},errorProps:{...E,id:ct},mod:ne,attributes:ae,...se("root"),...Ve,...N,children:g.jsx(qn,{component:"div",error:f,leftSection:h,size:T,classNames:{...je,input:Pt(B_.input,je.input)},styles:ue,radius:z,disabled:m,__staticSelector:"PasswordInput",rightSectionWidth:Y,rightSection:q??wt,variant:b,unstyled:s,leftSectionWidth:te,rightSectionPointerEvents:K||"all",rightSectionProps:V,leftSectionProps:G,leftSectionPointerEvents:$,withAria:!1,withErrorStyles:X,attributes:ae,children:g.jsx("input",{required:d,"data-invalid":!!f||void 0,"data-with-left-section":!!h||void 0,...se("innerInput"),disabled:m,id:xe,ref:e,...Le,"aria-describedby":Je,autoComplete:Le.autoComplete||"off",type:be?"text":"password"})})})});Ds.classes={...Wi.classes,...B_};Ds.displayName="@mantine/core/PasswordInput";var pg={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd","stripes-animation-vertical":"m_e0fb7a86",label:"m_91e40b74"};const[NJ,K4]=da("Progress.Root component was not found in tree"),Lk=Ue((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Pe("ProgressLabel",null,t),c=K4();return g.jsx(Me,{ref:e,...c.getStyles("label",{className:r,style:i,classNames:n,styles:a}),...s})});Lk.classes=pg;Lk.displayName="@mantine/core/ProgressLabel";const IJ=(t,{size:e,radius:n,transitionDuration:r})=>({root:{"--progress-size":Mt(e,"progress-size"),"--progress-radius":n===void 0?void 0:_n(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),mx=Ue((t,e)=>{const n=Pe("ProgressRoot",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,autoContrast:d,transitionDuration:f,orientation:h,attributes:m,mod:v,...b}=n,x=ut({name:"Progress",classes:pg,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:m,vars:c,varsResolver:IJ});return g.jsx(NJ,{value:{getStyles:x,autoContrast:d},children:g.jsx(Me,{ref:e,mod:[{orientation:h},v],...x("root"),...b})})});mx.classes=pg;mx.displayName="@mantine/core/ProgressRoot";const zJ={withAria:!0},gx=Ue((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,value:s,withAria:c,color:d,striped:f,animated:h,mod:m,...v}=Pe("ProgressSection",zJ,t),b=K4(),x=Xr(),S=c?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":s,"aria-valuetext":`${s}%`}:{};return g.jsx(Me,{ref:e,...b.getStyles("section",{className:r,classNames:n,styles:a,style:i}),...v,...S,mod:[{striped:f||h,animated:h},m],__vars:{"--progress-section-size":`${s}%`,"--progress-section-color":Kn(d,x),"--progress-label-color":_d(b.autoContrast,x)?$l({color:d,theme:x,autoContrast:b.autoContrast}):void 0}})});gx.classes=pg;gx.displayName="@mantine/core/ProgressSection";const Ol=Ue((t,e)=>{const n=Pe("Progress",null,t),{value:r,classNames:i,styles:a,vars:o,color:s,striped:c,animated:d,"aria-label":f,...h}=n,{resolvedClassNames:m,resolvedStyles:v}=ka({classNames:i,styles:a,props:n});return g.jsx(mx,{ref:e,classNames:m,styles:v,vars:o,...h,children:g.jsx(gx,{value:r,color:s,striped:c,animated:d,"aria-label":f})})});Ol.classes=pg;Ol.displayName="@mantine/core/Progress";Ol.Section=gx;Ol.Root=mx;Ol.Label=Lk;var W4={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const[BJ,X4]=Xc(),[$J,FJ]=Xc();var Z4={card:"m_9dc8ae12"};const UJ={withBorder:!0},HJ=(t,{radius:e})=>({card:{"--card-radius":_n(e)}}),Nk=Ue((t,e)=>{const n=Pe("RadioCard",UJ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,checked:d,mod:f,withBorder:h,value:m,onClick:v,name:b,onKeyDown:x,attributes:S,...A}=n,T=ut({name:"RadioCard",classes:Z4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:S,vars:c,varsResolver:HJ,rootSelector:"card"}),{dir:E}=Eh(),k=X4(),D=typeof d=="boolean"?d:k?.value===m||!1,M=b||k?.name,R=N=>{if(x?.(N),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(N.nativeEvent.code)){N.preventDefault();const z=Array.from(document.querySelectorAll(`[role="radio"][name="${M||"__mantine"}"]`)),q=z.findIndex(te=>te===N.target),Y=q+1>=z.length?0:q+1,K=q-1<0?z.length-1:q-1;N.nativeEvent.code==="ArrowDown"&&(z[Y].focus(),z[Y].click()),N.nativeEvent.code==="ArrowUp"&&(z[K].focus(),z[K].click()),N.nativeEvent.code==="ArrowLeft"&&(z[E==="ltr"?K:Y].focus(),z[E==="ltr"?K:Y].click()),N.nativeEvent.code==="ArrowRight"&&(z[E==="ltr"?Y:K].focus(),z[E==="ltr"?Y:K].click())}};return g.jsx($J,{value:{checked:D},children:g.jsx(Br,{ref:e,mod:[{"with-border":h,checked:D},f],...T("card"),...A,role:"radio","aria-checked":D,name:M,onClick:N=>{v?.(N),k?.onChange(m||"")},onKeyDown:R})})});Nk.displayName="@mantine/core/RadioCard";Nk.classes=Z4;const Ik=Ue((t,e)=>{const{value:n,defaultValue:r,onChange:i,size:a,wrapperProps:o,children:s,name:c,readOnly:d,disabled:f,...h}=Pe("RadioGroup",null,t),m=hi(c),[v,b]=Fr({value:n,defaultValue:r,finalValue:"",onChange:i}),x=S=>!d&&b(typeof S=="string"?S:S.currentTarget.value);return g.jsx(BJ,{value:{value:v,onChange:x,size:a,name:m,disabled:f},children:g.jsx(qn.Wrapper,{size:a,ref:e,...o,...h,labelElement:"div",__staticSelector:"RadioGroup",children:g.jsx(w4,{role:"radiogroup",children:s})})})});Ik.classes=qn.Wrapper.classes;Ik.displayName="@mantine/core/RadioGroup";function Q4({size:t,style:e,...n}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:Oe(t),height:Oe(t),...e},"aria-hidden":!0,...n,children:g.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var J4={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const VJ={icon:Q4},qJ=(t,{radius:e,color:n,size:r,iconColor:i,variant:a,autoContrast:o})=>{const s=Bl({color:n||t.primaryColor,theme:t}),c=s.isThemeColor&&s.shade===void 0?`var(--mantine-color-${s.color}-outline)`:s.color;return{indicator:{"--radio-size":Mt(r,"radio-size"),"--radio-radius":e===void 0?void 0:_n(e),"--radio-color":a==="outline"?c:Kn(n,t),"--radio-icon-size":Mt(r,"radio-icon-size"),"--radio-icon-color":i?Kn(i,t):_d(o,t)?$l({color:n,theme:t,autoContrast:o}):void 0}}},zk=Ue((t,e)=>{const n=Pe("RadioIndicator",VJ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,icon:d,radius:f,color:h,iconColor:m,autoContrast:v,checked:b,mod:x,variant:S,disabled:A,attributes:T,...E}=n,k=ut({name:"RadioIndicator",classes:J4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:T,vars:c,varsResolver:qJ,rootSelector:"indicator"}),D=FJ(),M=typeof b=="boolean"?b:D?.checked||!1;return g.jsx(Me,{ref:e,...k("indicator",{variant:S}),variant:S,mod:[{checked:M,disabled:A},x],...E,children:g.jsx(d,{...k("icon")})})});zk.displayName="@mantine/core/RadioIndicator";zk.classes=J4;const GJ={labelPosition:"right"},YJ=(t,{size:e,radius:n,color:r,iconColor:i,variant:a,autoContrast:o})=>{const s=Bl({color:r||t.primaryColor,theme:t}),c=s.isThemeColor&&s.shade===void 0?`var(--mantine-color-${s.color}-outline)`:s.color;return{root:{"--radio-size":Mt(e,"radio-size"),"--radio-radius":n===void 0?void 0:_n(n),"--radio-color":a==="outline"?c:Kn(r,t),"--radio-icon-color":i?Kn(i,t):_d(o,t)?$l({color:r,theme:t,autoContrast:o}):void 0,"--radio-icon-size":Mt(e,"radio-icon-size")}}},Lh=Ue((t,e)=>{const n=Pe("Radio",GJ,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,id:d,size:f,label:h,labelPosition:m,description:v,error:b,radius:x,color:S,variant:A,disabled:T,wrapperProps:E,icon:k=Q4,rootRef:D,iconColor:M,onChange:R,mod:N,attributes:z,checked:q,...Y}=n,K=ut({name:"Radio",classes:W4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:z,vars:c,varsResolver:YJ}),te=X4(),W=te?.size??f,J=n.size?f:W,{styleProps:L,rest:U}=Zc(Y),F=hi(d),V=te?te.value===U.value:void 0,G={checked:V??q,name:te?.name??U.name,onChange:$=>{te?.onChange($),R?.($)},disabled:te?.disabled??T};return g.jsx(pk,{...K("root"),__staticSelector:"Radio",__stylesApiProps:n,id:F,size:J,labelPosition:m,label:h,description:v,error:b,disabled:G.disabled,classNames:r,styles:o,unstyled:s,"data-checked":(V??q)||void 0,variant:A,ref:D,mod:N,...L,...E,children:g.jsxs(Me,{...K("inner"),mod:{"label-position":m},children:[g.jsx(Me,{...K("radio",{focusable:!0,variant:A}),...U,...G,component:"input",mod:{error:!!b},ref:e,id:F,type:"radio"}),g.jsx(k,{...K("icon"),"aria-hidden":!0})]})})});Lh.classes=W4;Lh.displayName="@mantine/core/Radio";Lh.Group=Ik;Lh.Card=Nk;Lh.Indicator=zk;const KJ={duration:100,transition:"fade"};function qj(t,e){return{...KJ,...e,...t}}var vx={tooltip:"m_1b3c8819",arrow:"m_f898399f"};function WJ({offset:t,position:e,defaultOpened:n}){const[r,i]=w.useState(n),a=w.useRef(null),{x:o,y:s,elements:c,refs:d,update:f,placement:h}=NT({placement:e,middleware:[MT({crossAxis:!0,padding:5,rootBoundary:"document"})]}),m=h.includes("right")?t:e.includes("left")?t*-1:0,v=h.includes("bottom")?t:e.includes("top")?t*-1:0,b=w.useCallback(({clientX:x,clientY:S})=>{d.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x,y:S,left:x+m,top:S+v,right:x,bottom:S}}})},[c.reference]);return w.useEffect(()=>{if(d.floating.current){const x=a.current;x.addEventListener("mousemove",b);const S=_l(d.floating.current);return S.forEach(A=>{A.addEventListener("scroll",f)}),()=>{x.removeEventListener("mousemove",b),S.forEach(A=>{A.removeEventListener("scroll",f)})}}},[c.reference,d.floating.current,f,b,r]),{handleMouseMove:b,x:o,y:s,opened:r,setOpened:i,boundaryRef:a,floating:d.setFloating}}const XJ={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Wa("popover")},ZJ=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:_n(e),"--tooltip-bg":n?Kn(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Bk=Ue((t,e)=>{const n=Pe("TooltipFloating",XJ,t),{children:r,refProp:i,withinPortal:a,style:o,className:s,classNames:c,styles:d,unstyled:f,radius:h,color:m,label:v,offset:b,position:x,multiline:S,zIndex:A,disabled:T,defaultOpened:E,variant:k,vars:D,portalProps:M,attributes:R,...N}=n,z=Xr(),q=ut({name:"TooltipFloating",props:n,classes:vx,className:s,style:o,classNames:c,styles:d,unstyled:f,attributes:R,rootSelector:"tooltip",vars:D,varsResolver:ZJ}),{handleMouseMove:Y,x:K,y:te,opened:W,boundaryRef:J,floating:L,setOpened:U}=WJ({offset:b,position:x,defaultOpened:E}),F=_h(r);if(!F)throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const V=kr(J,B0(F),e),G=F.props,$=ne=>{G.onMouseEnter?.(ne),Y(ne),U(!0)},X=ne=>{G.onMouseLeave?.(ne),U(!1)};return g.jsxs(g.Fragment,{children:[g.jsx(Pl,{...M,withinPortal:a,children:g.jsx(Me,{...N,...q("tooltip",{style:{..._T(o,z),zIndex:A,display:!T&&W?"block":"none",top:(te&&Math.round(te))??"",left:(K&&Math.round(K))??""}}),variant:k,ref:L,mod:{multiline:S},children:v})}),w.cloneElement(F,{...G,[i]:V,onMouseEnter:$,onMouseLeave:X})]})});Bk.classes=vx;Bk.displayName="@mantine/core/TooltipFloating";const eF=w.createContext(!1),QJ=eF.Provider,JJ=()=>w.useContext(eF),eee={openDelay:0,closeDelay:0};function $k(t){const{openDelay:e,closeDelay:n,children:r}=Pe("TooltipGroup",eee,t);return g.jsx(QJ,{value:!0,children:g.jsx(HW,{delay:{open:e,close:n},children:r})})}$k.displayName="@mantine/core/TooltipGroup";$k.extend=t=>t;function tee(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function nee(t){const e=tee(t.middlewares),n=[g$(t.offset)];return e.shift&&n.push(MT(typeof e.shift=="boolean"?{padding:8}:{padding:8,...e.shift})),e.flip&&n.push(typeof e.flip=="boolean"?bb():bb(e.flip)),n.push(v$({element:t.arrowRef,padding:t.arrowOffset})),e.inline?n.push(typeof e.inline=="boolean"?_m():_m(e.inline)):t.inline&&n.push(_m()),n}function ree(t){const[e,n]=w.useState(t.defaultOpened),i=typeof t.opened=="boolean"?t.opened:e,a=JJ(),o=hi(),s=w.useCallback(D=>{n(D),D&&A(o)},[o]),{x:c,y:d,context:f,refs:h,placement:m,middlewareData:{arrow:{x:v,y:b}={}}}=NT({strategy:t.strategy,placement:t.position,open:i,onOpenChange:s,middleware:nee(t),whileElementsMounted:R_}),{delay:x,currentId:S,setCurrentId:A}=VW(f,{id:o}),{getReferenceProps:T,getFloatingProps:E}=XW([FW(f,{enabled:t.events?.hover,delay:a?x:{open:t.openDelay,close:t.closeDelay},mouseOnly:!t.events?.touch}),WW(f,{enabled:t.events?.focus,visibleOnly:!0}),QW(f,{role:"tooltip"}),YW(f,{enabled:typeof t.opened>"u"})]);ld(()=>{t.onPositionChange?.(m)},[m]);const k=i&&S&&S!==o;return{x:c,y:d,arrowX:v,arrowY:b,reference:h.setReference,floating:h.setFloating,getFloatingProps:E,getReferenceProps:T,isGroupPhase:k,opened:i,placement:m}}const Gj={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Wa("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},iee=(t,{radius:e,color:n,variant:r,autoContrast:i})=>{const a=t.variantColorResolver({theme:t,color:n||t.primaryColor,autoContrast:i,variant:r||"filled"});return{tooltip:{"--tooltip-radius":e===void 0?void 0:_n(e),"--tooltip-bg":n?a.background:void 0,"--tooltip-color":n?a.color:void 0}}},fi=Ue((t,e)=>{const n=Pe("Tooltip",Gj,t),{children:r,position:i,refProp:a,label:o,openDelay:s,closeDelay:c,onPositionChange:d,opened:f,defaultOpened:h,withinPortal:m,radius:v,color:b,classNames:x,styles:S,unstyled:A,style:T,className:E,withArrow:k,arrowSize:D,arrowOffset:M,arrowRadius:R,arrowPosition:N,offset:z,transitionProps:q,multiline:Y,events:K,zIndex:te,disabled:W,positionDependencies:J,onClick:L,onMouseEnter:U,onMouseLeave:F,inline:V,variant:G,keepMounted:$,vars:X,portalProps:ne,mod:ae,floatingStrategy:oe,middlewares:xe,autoContrast:be,attributes:ze,target:ie,...se}=Pe("Tooltip",Gj,n),{dir:je}=Eh(),ue=w.useRef(null),Ve=ree({position:N$(je,i),closeDelay:c,openDelay:s,onPositionChange:d,opened:f,defaultOpened:h,events:K,arrowRef:ue,arrowOffset:M,offset:typeof z=="number"?z+(k?D/2:0):z,positionDependencies:[...J,ie??r],inline:V,strategy:oe,middlewares:xe});w.useEffect(()=>{const nt=ie instanceof HTMLElement?ie:typeof ie=="string"?document.querySelector(ie):ie?.current||null;nt&&Ve.reference(nt)},[ie,Ve]);const Le=ut({name:"Tooltip",props:n,classes:vx,className:E,style:T,classNames:x,styles:S,unstyled:A,attributes:ze,rootSelector:"tooltip",vars:X,varsResolver:iee}),ct=_h(r);if(!ie&&!ct)return null;if(ie){const nt=qj(q,{duration:100,transition:"fade"});return g.jsx(g.Fragment,{children:g.jsx(Pl,{...ne,withinPortal:m,children:g.jsx(Wo,{...nt,keepMounted:$,mounted:!W&&!!Ve.opened,duration:Ve.isGroupPhase?10:nt.duration,children:Je=>g.jsxs(Me,{...se,"data-fixed":oe==="fixed"||void 0,variant:G,mod:[{multiline:Y},ae],...Ve.getFloatingProps({ref:Ve.floating,className:Le("tooltip").className,style:{...Le("tooltip").style,...Je,zIndex:te,top:Ve.y??0,left:Ve.x??0}}),children:[o,g.jsx(xb,{ref:ue,arrowX:Ve.arrowX,arrowY:Ve.arrowY,visible:k,position:Ve.placement,arrowSize:D,arrowOffset:M,arrowRadius:R,arrowPosition:N,...Le("arrow")})]})})})})}const Qe=ct.props,He=kr(Ve.reference,B0(ct),e),We=qj(q,{duration:100,transition:"fade"});return g.jsxs(g.Fragment,{children:[g.jsx(Pl,{...ne,withinPortal:m,children:g.jsx(Wo,{...We,keepMounted:$,mounted:!W&&!!Ve.opened,duration:Ve.isGroupPhase?10:We.duration,children:nt=>g.jsxs(Me,{...se,"data-fixed":oe==="fixed"||void 0,variant:G,mod:[{multiline:Y},ae],...Ve.getFloatingProps({ref:Ve.floating,className:Le("tooltip").className,style:{...Le("tooltip").style,...nt,zIndex:te,top:Ve.y??0,left:Ve.x??0}}),children:[o,g.jsx(xb,{ref:ue,arrowX:Ve.arrowX,arrowY:Ve.arrowY,visible:k,position:Ve.placement,arrowSize:D,arrowOffset:M,arrowRadius:R,arrowPosition:N,...Le("arrow")})]})})}),w.cloneElement(ct,Ve.getReferenceProps({onClick:L,onMouseEnter:U,onMouseLeave:F,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,...Qe,className:Pt(E,Qe.className),[a]:He}))]})});fi.classes=vx;fi.displayName="@mantine/core/Tooltip";fi.Floating=Bk;fi.Group=$k;var tF={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const aee={withItemsBorders:!0},oee=(t,{radius:e,color:n,transitionDuration:r,size:i,transitionTimingFunction:a})=>({root:{"--sc-radius":e===void 0?void 0:_n(e),"--sc-color":n?Kn(n,t):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":a,"--sc-padding":Mt(i,"sc-padding"),"--sc-font-size":cr(i)}}),yx=Ue((t,e)=>{const n=Pe("SegmentedControl",aee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,data:d,value:f,defaultValue:h,onChange:m,size:v,name:b,disabled:x,readOnly:S,fullWidth:A,orientation:T,radius:E,color:k,transitionDuration:D,transitionTimingFunction:M,variant:R,autoContrast:N,withItemsBorders:z,mod:q,attributes:Y,...K}=n,te=ut({name:"SegmentedControl",props:n,classes:tF,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:Y,vars:c,varsResolver:oee}),W=Xr(),J=d.map(ie=>typeof ie=="string"?{label:ie,value:ie}:ie),L=VG(),[U,F]=w.useState(pb()),[V,G]=w.useState(null),[$,X]=w.useState({}),ne=(ie,se)=>{$[se]=ie,X($)},[ae,oe]=Fr({value:f,defaultValue:h,finalValue:Array.isArray(d)?J.find(ie=>!ie.disabled)?.value??d[0]?.value??null:null,onChange:m}),xe=hi(b),be=J.map(ie=>w.createElement(Me,{...te("control"),mod:{active:ae===ie.value,orientation:T},key:ie.value},w.createElement("input",{...te("input"),disabled:x||ie.disabled,type:"radio",name:xe,value:ie.value,id:`${xe}-${ie.value}`,checked:ae===ie.value,onChange:()=>!S&&oe(ie.value),"data-focus-ring":W.focusRing,key:`${ie.value}-input`}),w.createElement(Me,{component:"label",...te("label"),mod:{active:ae===ie.value&&!(x||ie.disabled),disabled:x||ie.disabled,"read-only":S},htmlFor:`${xe}-${ie.value}`,ref:se=>ne(se,ie.value),__vars:{"--sc-label-color":k!==void 0?$l({color:k,theme:W,autoContrast:N}):void 0},key:`${ie.value}-label`},g.jsx("span",{...te("innerLabel"),children:ie.label})))),ze=kr(e,ie=>G(ie));return $G(()=>{F(pb())},[d.length]),d.length===0?null:g.jsxs(Me,{...te("root"),variant:R,size:v,ref:ze,mod:[{"full-width":A,orientation:T,initialized:L,"with-items-borders":z},q],...K,role:"radiogroup","data-disabled":x,children:[typeof ae=="string"&&g.jsx(GT,{target:$[ae],parent:V,component:"span",transitionDuration:"var(--sc-transition-duration)",...te("indicator")},U),be]})});yx.classes=tF;yx.displayName="@mantine/core/SegmentedControl";const see={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left",openOnFocus:!0},qo=Ue((t,e)=>{const n=Pe("Select",see,t),{classNames:r,styles:i,unstyled:a,vars:o,dropdownOpened:s,defaultDropdownOpened:c,onDropdownClose:d,onDropdownOpen:f,onFocus:h,onBlur:m,onClick:v,onChange:b,data:x,value:S,defaultValue:A,selectFirstOptionOnChange:T,selectFirstOptionOnDropdownOpen:E,onOptionSubmit:k,comboboxProps:D,readOnly:M,disabled:R,filter:N,limit:z,withScrollArea:q,maxDropdownHeight:Y,size:K,searchable:te,rightSection:W,checkIconPosition:J,withCheckIcon:L,withAlignedLabels:U,nothingFoundMessage:F,name:V,form:G,searchValue:$,defaultSearchValue:X,onSearchChange:ne,allowDeselect:ae,error:oe,rightSectionPointerEvents:xe,id:be,clearable:ze,clearButtonProps:ie,hiddenInputProps:se,renderOption:je,onClear:ue,autoComplete:Ve,scrollAreaProps:Le,__defaultRightSection:ct,__clearSection:Qe,__clearable:He,chevronColor:We,autoSelectOnBlur:nt,openOnFocus:Je,attributes:wt,...ft}=n,vt=w.useMemo(()=>rk(x),[x]),$e=w.useRef({}),at=w.useMemo(()=>tx(vt),[vt]),Ge=hi(be),[qe,Jt,yn]=Fr({value:S,defaultValue:A,finalValue:null,onChange:b}),Ht=typeof qe=="string"?qe in at?at[qe]:$e.current[qe]:void 0,En=UG(Ht),[Gt,Xn,bn]=Fr({value:$,defaultValue:X,finalValue:Ht?Ht.label:"",onChange:ne}),Nt=nx({opened:s,defaultOpened:c,onDropdownOpen:()=>{f?.(),E?Nt.selectFirstOption():Nt.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{d?.(),setTimeout(Nt.resetSelectedOption,0)}}),et=un=>{Xn(un),Nt.resetSelectedOption()},{resolvedClassNames:gr,resolvedStyles:xn}=ka({props:n,styles:i,classNames:r});w.useEffect(()=>{T&&Nt.selectFirstOption()},[T,Gt]),w.useEffect(()=>{S===null&&et(""),typeof S=="string"&&Ht&&(En?.value!==Ht.value||En?.label!==Ht.label)&&et(Ht.label)},[S,Ht]),w.useEffect(()=>{!yn&&!bn&&et(typeof qe=="string"?qe in at?at[qe]?.label:$e.current[qe]?.label||"":"")},[at,qe]),w.useEffect(()=>{qe&&qe in at&&($e.current[qe]=at[qe])},[at,qe]);const Jr=g.jsx(Wt.ClearButton,{...ie,onClear:()=>{Jt(null,null),et(""),ue?.()}}),tt=ze&&!!qe&&!R&&!M;return g.jsxs(g.Fragment,{children:[g.jsxs(Wt,{store:Nt,__staticSelector:"Select",classNames:gr,styles:xn,unstyled:a,readOnly:M,size:K,attributes:wt,keepMounted:nt,onOptionSubmit:un=>{k?.(un);const ur=ae&&at[un].value===qe?null:at[un],Tn=ur?ur.value:null;Tn!==qe&&Jt(Tn,ur),!yn&&et(typeof Tn=="string"&&ur?.label||""),Nt.closeDropdown()},...D,children:[g.jsx(Wt.Target,{targetType:te?"input":"button",autoComplete:Ve,children:g.jsx(Wi,{id:Ge,ref:e,__defaultRightSection:g.jsx(Wt.Chevron,{size:K,error:oe,unstyled:a,color:We}),__clearSection:Jr,__clearable:tt,rightSection:W,rightSectionPointerEvents:xe||"none",...ft,size:K,__staticSelector:"Select",disabled:R,readOnly:M||!te,value:Gt,onChange:un=>{et(un.currentTarget.value),Nt.openDropdown(),T&&Nt.selectFirstOption()},onFocus:un=>{Je&&te&&Nt.openDropdown(),h?.(un)},onBlur:un=>{nt&&Nt.clickSelectedOption(),te&&Nt.closeDropdown();const ur=typeof qe=="string"&&(qe in at?at[qe]:$e.current[qe]);et(ur&&ur.label||""),m?.(un)},onClick:un=>{te?Nt.openDropdown():Nt.toggleDropdown(),v?.(un)},classNames:gr,styles:xn,unstyled:a,pointer:!te,error:oe,attributes:wt})}),g.jsx(bk,{data:vt,hidden:M||R,filter:N,search:Gt,limit:z,hiddenWhenEmpty:!F,withScrollArea:q,maxDropdownHeight:Y,filterOptions:!!te&&Ht?.label!==Gt,value:qe,checkIconPosition:J,withCheckIcon:L,withAlignedLabels:U,nothingFoundMessage:F,unstyled:a,labelId:ft.label?`${Ge}-label`:void 0,"aria-label":ft.label?void 0:ft["aria-label"],renderOption:je,scrollAreaProps:Le})]}),g.jsx(Wt.HiddenInput,{value:qe,name:V,form:G,disabled:R,...se})]})});qo.classes={...Wi.classes,...Wt.classes};qo.displayName="@mantine/core/Select";var nF={container:"m_925c2d2c",root:"m_2415a157"};function lee({spacing:t,verticalSpacing:e,cols:n,selector:r}){const i=Xr(),a=e===void 0?t:e,o=og({"--sg-spacing-x":zr(Kf(t)),"--sg-spacing-y":zr(Kf(a)),"--sg-cols":Kf(n)?.toString()}),s=Tr(i.breakpoints).reduce((f,h)=>(f[h]||(f[h]={}),typeof t=="object"&&t[h]!==void 0&&(f[h]["--sg-spacing-x"]=zr(t[h])),typeof a=="object"&&a[h]!==void 0&&(f[h]["--sg-spacing-y"]=zr(a[h])),typeof n=="object"&&n[h]!==void 0&&(f[h]["--sg-cols"]=n[h]),f),{}),d=A_(Tr(s),i.breakpoints).filter(f=>Tr(s[f.value]).length>0).map(f=>({query:`(min-width: ${i.breakpoints[f.value]})`,styles:s[f.value]}));return g.jsx(H0,{styles:o,media:d,selector:r})}function XS(t){return typeof t=="object"&&t!==null?Tr(t):[]}function cee(t){return t.sort((e,n)=>Dm(e)-Dm(n))}function uee({spacing:t,verticalSpacing:e,cols:n}){const r=Array.from(new Set([...XS(t),...XS(e),...XS(n)]));return cee(r)}function dee({spacing:t,verticalSpacing:e,cols:n,selector:r}){const i=e===void 0?t:e,a=og({"--sg-spacing-x":zr(Kf(t)),"--sg-spacing-y":zr(Kf(i)),"--sg-cols":Kf(n)?.toString()}),o=uee({spacing:t,verticalSpacing:e,cols:n}),s=o.reduce((d,f)=>(d[f]||(d[f]={}),typeof t=="object"&&t[f]!==void 0&&(d[f]["--sg-spacing-x"]=zr(t[f])),typeof i=="object"&&i[f]!==void 0&&(d[f]["--sg-spacing-y"]=zr(i[f])),typeof n=="object"&&n[f]!==void 0&&(d[f]["--sg-cols"]=n[f]),d),{}),c=o.map(d=>({query:`simple-grid (min-width: ${d})`,styles:s[d]}));return g.jsx(H0,{styles:a,container:c,selector:r})}const fee={cols:1,spacing:"md",type:"media"},bx=Ue((t,e)=>{const n=Pe("SimpleGrid",fee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,cols:d,verticalSpacing:f,spacing:h,type:m,attributes:v,...b}=n,x=ut({name:"SimpleGrid",classes:nF,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:v,vars:c}),S=e$();return m==="container"?g.jsxs(g.Fragment,{children:[g.jsx(dee,{...n,selector:`.${S}`}),g.jsx("div",{...x("container"),children:g.jsx(Me,{ref:e,...x("root",{className:S}),...b})})]}):g.jsxs(g.Fragment,{children:[g.jsx(lee,{...n,selector:`.${S}`}),g.jsx(Me,{ref:e,...x("root",{className:S}),...b})]})});bx.classes=nF;bx.displayName="@mantine/core/SimpleGrid";var rF={root:"m_6d731127"};const hee={gap:"md",align:"stretch",justify:"flex-start"},pee=(t,{gap:e,align:n,justify:r})=>({root:{"--stack-gap":zr(e),"--stack-align":n,"--stack-justify":r}}),it=Ue((t,e)=>{const n=Pe("Stack",hee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,align:d,justify:f,gap:h,variant:m,attributes:v,...b}=n,x=ut({name:"Stack",props:n,classes:rF,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:v,vars:c,varsResolver:pee});return g.jsx(Me,{ref:e,...x("root"),variant:m,...b})});it.classes=rF;it.displayName="@mantine/core/Stack";const[mee,gee]=da("Stepper component was not found in tree");var Fk={root:"m_cbb4ea7e",steps:"m_aaf89d0b",separator:"m_2a371ac9",content:"m_78da155d",step:"m_cbb57068","step--horizontal":"m_f56b1e2c","step--vertical":"m_833edb7e",verticalSeparator:"m_6496b3f3",stepWrapper:"m_818e70b",stepIcon:"m_1959ad01",stepCompletedIcon:"m_a79331dc",stepBody:"m_1956aa2a",stepLabel:"m_12051f6c",stepDescription:"m_164eea74"};const Ab=()=>null;Ab.displayName="@mantine/core/StepperCompleted";const sy=(t,e)=>typeof t=="function"?g.jsx(t,{step:e||0}):t,vee={withIcon:!0,allowStepClick:!0,iconPosition:"left"},Uk=Ue((t,e)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,step:s,state:c,color:d,icon:f,completedIcon:h,progressIcon:m,label:v,description:b,withIcon:x,iconSize:S,loading:A,allowStepClick:T,allowStepSelect:E,iconPosition:k,orientation:D,mod:M,...R}=Pe("StepperStep",vee,t),N=gee(),z=Xr(),q={classNames:n,styles:a},Y=c==="stepCompleted"?null:c==="stepProgress"?m:f,K={"data-progress":c==="stepProgress"||void 0,"data-completed":c==="stepCompleted"||void 0};return g.jsxs(Br,{...N.getStyles("step",{className:r,style:i,variant:N.orientation,...q}),mod:[{"icon-position":k||N.iconPosition,"allow-click":T},M],ref:e,...K,...R,__vars:{"--step-color":d?Kn(d,z):void 0},tabIndex:T?0:-1,children:[x&&g.jsxs("span",{...N.getStyles("stepWrapper",q),children:[g.jsxs("span",{...N.getStyles("stepIcon",q),...K,children:[g.jsx(Wo,{mounted:c==="stepCompleted",transition:"pop",duration:200,children:te=>g.jsx("span",{...N.getStyles("stepCompletedIcon",{style:te,...q}),children:A?g.jsx(Ri,{color:"var(--mantine-color-white)",size:"calc(var(--stepper-icon-size) / 2)",...N.getStyles("stepLoader",q)}):sy(h,s)||g.jsx(vk,{size:"60%"})})}),c!=="stepCompleted"?A?g.jsx(Ri,{...N.getStyles("stepLoader",q),size:"calc(var(--stepper-icon-size) / 2)",color:d}):sy(Y||f,s):null]}),D==="vertical"&&g.jsx("span",{...N.getStyles("verticalSeparator",q),"data-active":c==="stepCompleted"||void 0})]}),(v||b)&&g.jsxs("span",{...N.getStyles("stepBody",q),"data-orientation":N.orientation,"data-icon-position":k||N.iconPosition,children:[v&&g.jsx("span",{...N.getStyles("stepLabel",q),children:sy(v,s)}),b&&g.jsx("span",{...N.getStyles("stepDescription",q),children:sy(b,s)})]})]})});Uk.classes=Fk;Uk.displayName="@mantine/core/StepperStep";const yee={orientation:"horizontal",iconPosition:"left",allowNextStepsSelect:!0,wrap:!0},bee=(t,{color:e,iconSize:n,size:r,contentPadding:i,radius:a,autoContrast:o})=>({root:{"--stepper-color":e?Kn(e,t):void 0,"--stepper-icon-color":_d(o,t)?$l({color:e,theme:t,autoContrast:o}):void 0,"--stepper-icon-size":n===void 0?Mt(r,"stepper-icon-size"):Oe(n),"--stepper-content-padding":zr(i),"--stepper-radius":a===void 0?void 0:_n(a),"--stepper-fz":cr(r),"--stepper-spacing":zr(r)}}),zo=Ue((t,e)=>{const n=Pe("Stepper",yee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,children:d,onStepClick:f,active:h,icon:m,completedIcon:v,progressIcon:b,color:x,iconSize:S,contentPadding:A,orientation:T,iconPosition:E,size:k,radius:D,allowNextStepsSelect:M,wrap:R,autoContrast:N,attributes:z,...q}=n,Y=ut({name:"Stepper",classes:Fk,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:z,vars:c,varsResolver:bee}),K=w.Children.toArray(d),te=K.filter(V=>V.type!==Ab),W=K.find(V=>V.type===Ab),J=te.reduce((V,G,$)=>{const X=h===$?"stepProgress":h>$?"stepCompleted":"stepInactive",ae=typeof f!="function"?!1:typeof G.props.allowStepSelect=="boolean"?G.props.allowStepSelect:X==="stepCompleted"||M;return V.push(w.cloneElement(G,{icon:G.props.icon||m||$+1,key:$,step:$,state:X,onClick:()=>ae&&f?.($),allowStepClick:ae,completedIcon:G.props.completedIcon||v,progressIcon:G.props.progressIcon||b,color:G.props.color||x,iconSize:S,iconPosition:G.props.iconPosition||E,orientation:T})),T==="horizontal"&&$!==te.length-1&&V.push(w.createElement("div",{...Y("separator"),"data-active":$<h||void 0,"data-orientation":T,key:`separator-${$}`})),V},[]),L=te[h]?.props?.children,U=W?.props?.children,F=h>te.length-1?U:L;return g.jsx(mee,{value:{getStyles:Y,orientation:T,iconPosition:E},children:g.jsxs(Me,{...Y("root"),ref:e,size:k,...q,children:[g.jsx(Me,{...Y("steps"),mod:{orientation:T,"icon-position":E,wrap:R&&T!=="vertical"},children:J}),F&&g.jsx("div",{...Y("content"),children:F})]})})});zo.classes=Fk;zo.displayName="@mantine/core/Stepper";zo.Completed=Ab;zo.Step=Uk;const[xee,wee]=da("Table component was not found in the tree");var mg={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function See(t,e){if(!e)return;const n={};return e.columnBorder&&t.withColumnBorders&&(n["data-with-column-border"]=!0),e.rowBorder&&t.withRowBorders&&(n["data-with-row-border"]=!0),e.striped&&t.striped&&(n["data-striped"]=t.striped),e.highlightOnHover&&t.highlightOnHover&&(n["data-hover"]=!0),e.captionSide&&t.captionSide&&(n["data-side"]=t.captionSide),e.stickyHeader&&t.stickyHeader&&(n["data-sticky"]=!0),n}function Td(t,e){const n=`Table${t.charAt(0).toUpperCase()}${t.slice(1)}`,r=Ue((i,a)=>{const o=Pe(n,{},i),{classNames:s,className:c,style:d,styles:f,...h}=o,m=wee();return g.jsx(Me,{component:t,ref:a,...See(m,e),...m.getStyles(t,{className:c,classNames:s,style:d,styles:f,props:o}),...h})});return r.displayName=`@mantine/core/${n}`,r.classes=mg,r}const $_=Td("th",{columnBorder:!0}),iF=Td("td",{columnBorder:!0}),Xy=Td("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),aF=Td("thead",{stickyHeader:!0}),oF=Td("tbody"),sF=Td("tfoot"),lF=Td("caption",{captionSide:!0});function Hk({data:t}){return g.jsxs(g.Fragment,{children:[t.caption&&g.jsx(lF,{children:t.caption}),t.head&&g.jsx(aF,{children:g.jsx(Xy,{children:t.head.map((e,n)=>g.jsx($_,{children:e},n))})}),t.body&&g.jsx(oF,{children:t.body.map((e,n)=>g.jsx(Xy,{children:e.map((r,i)=>g.jsx(iF,{children:r},i))},n))}),t.foot&&g.jsx(sF,{children:g.jsx(Xy,{children:t.foot.map((e,n)=>g.jsx($_,{children:e},n))})})]})}Hk.displayName="@mantine/core/TableDataRenderer";const Aee={type:"scrollarea"},Cee=(t,{minWidth:e,maxHeight:n,type:r})=>({scrollContainer:{"--table-min-width":Oe(e),"--table-max-height":Oe(n),"--table-overflow":r==="native"?"auto":void 0}}),Vk=Ue((t,e)=>{const n=Pe("TableScrollContainer",Aee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,children:d,minWidth:f,maxHeight:h,type:m,scrollAreaProps:v,attributes:b,...x}=n,S=ut({name:"TableScrollContainer",classes:mg,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:b,vars:c,varsResolver:Cee,rootSelector:"scrollContainer"});return g.jsx(Me,{component:m==="scrollarea"?Fl:"div",...m==="scrollarea"?h?{offsetScrollbars:"xy",...v}:{offsetScrollbars:"x",...v}:{},ref:e,...S("scrollContainer"),...x,children:g.jsx("div",{...S("scrollContainerInner"),children:d})})});Vk.classes=mg;Vk.displayName="@mantine/core/TableScrollContainer";const _ee={withRowBorders:!0,verticalSpacing:7},Eee=(t,{layout:e,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:a,stripedColor:o,highlightOnHoverColor:s,striped:c,highlightOnHover:d,stickyHeaderOffset:f,stickyHeader:h})=>({table:{"--table-layout":e,"--table-caption-side":n,"--table-horizontal-spacing":zr(r),"--table-vertical-spacing":zr(i),"--table-border-color":a?Kn(a,t):void 0,"--table-striped-color":c&&o?Kn(o,t):void 0,"--table-highlight-on-hover-color":d&&s?Kn(s,t):void 0,"--table-sticky-header-offset":h?Oe(f):void 0}}),ht=Ue((t,e)=>{const n=Pe("Table",_ee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,horizontalSpacing:d,verticalSpacing:f,captionSide:h,stripedColor:m,highlightOnHoverColor:v,striped:b,highlightOnHover:x,withColumnBorders:S,withRowBorders:A,withTableBorder:T,borderColor:E,layout:k,variant:D,data:M,children:R,stickyHeader:N,stickyHeaderOffset:z,mod:q,tabularNums:Y,attributes:K,...te}=n,W=ut({name:"Table",props:n,className:i,style:a,classes:mg,classNames:r,styles:o,unstyled:s,attributes:K,rootSelector:"table",vars:c,varsResolver:Eee});return g.jsx(xee,{value:{getStyles:W,stickyHeader:N,striped:b===!0?"odd":b||void 0,highlightOnHover:x,withColumnBorders:S,withRowBorders:A,captionSide:h||"bottom"},children:g.jsx(Me,{component:"table",variant:D,ref:e,mod:[{"data-with-table-border":T,"data-tabular-nums":Y},q],...W("table"),...te,children:R||!!M&&g.jsx(Hk,{data:M})})})});ht.classes=mg;ht.displayName="@mantine/core/Table";ht.Td=iF;ht.Th=$_;ht.Tr=Xy;ht.Thead=aF;ht.Tbody=oF;ht.Tfoot=sF;ht.Caption=lF;ht.ScrollContainer=Vk;ht.DataRenderer=Hk;const[Tee,qk]=da("Tabs component was not found in the tree");var gg={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",tab:"m_4ec4dce6",panel:"m_b0c91715",tabSection:"m_fc420b1f",tabLabel:"m_42bbd1ae","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const Gk=Ue((t,e)=>{const n=Pe("TabsList",null,t),{children:r,className:i,grow:a,justify:o,classNames:s,styles:c,style:d,mod:f,...h}=n,m=qk();return g.jsx(Me,{...h,...m.getStyles("list",{className:i,style:d,classNames:s,styles:c,props:n,variant:m.variant}),ref:e,role:"tablist",variant:m.variant,mod:[{grow:a,orientation:m.orientation,placement:m.orientation==="vertical"&&m.placement,inverted:m.inverted},f],"aria-orientation":m.orientation,__vars:{"--tabs-justify":o},children:r})});Gk.classes=gg;Gk.displayName="@mantine/core/TabsList";const Yk=Ue((t,e)=>{const n=Pe("TabsPanel",null,t),{children:r,className:i,value:a,classNames:o,styles:s,style:c,mod:d,keepMounted:f,...h}=n,m=qk(),v=m.value===a,b=m.keepMounted||f||v?r:null;return g.jsx(Me,{...m.getStyles("panel",{className:i,classNames:o,styles:s,style:[c,v?void 0:{display:"none"}],props:n}),ref:e,mod:[{orientation:m.orientation},d],role:"tabpanel",id:m.getPanelId(a),"aria-labelledby":m.getTabId(a),...h,children:b})});Yk.classes=gg;Yk.displayName="@mantine/core/TabsPanel";const Kk=Ue((t,e)=>{const n=Pe("TabsTab",null,t),{className:r,children:i,rightSection:a,leftSection:o,value:s,onClick:c,onKeyDown:d,disabled:f,color:h,style:m,classNames:v,styles:b,vars:x,mod:S,tabIndex:A,...T}=n,E=Xr(),{dir:k}=Eh(),D=qk(),M=s===D.value,R=z=>{D.onChange(D.allowTabDeactivation&&s===D.value?null:s),c?.(z)},N={classNames:v,styles:b,props:n};return g.jsxs(Br,{...D.getStyles("tab",{className:r,style:m,variant:D.variant,...N}),disabled:f,unstyled:D.unstyled,variant:D.variant,mod:[{active:M,disabled:f,orientation:D.orientation,inverted:D.inverted,placement:D.orientation==="vertical"&&D.placement},S],ref:e,role:"tab",id:D.getTabId(s),"aria-selected":M,tabIndex:A!==void 0?A:M||D.value===null?0:-1,"aria-controls":D.getPanelId(s),onClick:R,__vars:{"--tabs-color":h?Kn(h,E):void 0},onKeyDown:z5({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:D.activateTabWithKeyboard,loop:D.loop,orientation:D.orientation||"horizontal",dir:k,onKeyDown:d}),...T,children:[o&&g.jsx("span",{...D.getStyles("tabSection",N),"data-position":"left",children:o}),i&&g.jsx("span",{...D.getStyles("tabLabel",N),children:i}),a&&g.jsx("span",{...D.getStyles("tabSection",N),"data-position":"right",children:a})]})});Kk.classes=gg;Kk.displayName="@mantine/core/TabsTab";const Yj="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",kee={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,variant:"default",placement:"left"},Pee=(t,{radius:e,color:n,autoContrast:r})=>({root:{"--tabs-radius":_n(e),"--tabs-color":Kn(n,t),"--tabs-text-color":_d(r,t)?$l({color:n,theme:t,autoContrast:r}):void 0}}),na=Ue((t,e)=>{const n=Pe("Tabs",kee,t),{defaultValue:r,value:i,onChange:a,orientation:o,children:s,loop:c,id:d,activateTabWithKeyboard:f,allowTabDeactivation:h,variant:m,color:v,radius:b,inverted:x,placement:S,keepMounted:A,classNames:T,styles:E,unstyled:k,className:D,style:M,vars:R,autoContrast:N,mod:z,attributes:q,...Y}=n,K=hi(d),[te,W]=Fr({value:i,defaultValue:r,finalValue:null,onChange:a}),J=ut({name:"Tabs",props:n,classes:gg,className:D,style:M,classNames:T,styles:E,unstyled:k,attributes:q,vars:R,varsResolver:Pee});return g.jsx(Tee,{value:{placement:S,value:te,orientation:o,id:K,loop:c,activateTabWithKeyboard:f,getTabId:fb(`${K}-tab`,Yj),getPanelId:fb(`${K}-panel`,Yj),onChange:W,allowTabDeactivation:h,variant:m,color:v,radius:b,inverted:x,keepMounted:A,unstyled:k,getStyles:J},children:g.jsx(Me,{ref:e,id:K,variant:m,mod:[{orientation:o,inverted:o==="horizontal"&&x,placement:o==="vertical"&&S},z],...J("root"),...Y,children:s})})});na.classes=gg;na.displayName="@mantine/core/Tabs";na.Tab=Kk;na.Panel=Yk;na.List=Gk;function Oee({data:t,value:e}){const n=e.map(i=>i.trim().toLowerCase());return t.reduce((i,a)=>(ud(a)?i.push({group:a.group,items:a.items.filter(o=>n.indexOf(o.label.toLowerCase().trim())===-1)}):n.indexOf(a.label.toLowerCase().trim())===-1&&i.push(a),i),[])}function Dee(t,e){return t?e.split(new RegExp(`[${t.join("")}]`)).map(n=>n.trim()).filter(n=>n!==""):[e]}function Kj({splitChars:t,allowDuplicates:e,maxTags:n,value:r,currentTags:i}){const a=Dee(t,r),o=e?[...i,...a]:[...new Set([...i,...a])];return n?o.slice(0,n):o}const Mee={maxTags:1/0,acceptValueOnBlur:!0,splitChars:[","],hiddenInputValuesDivider:",",openOnFocus:!0,size:"sm"},Wk=Ue((t,e)=>{const n=Pe("TagsInput",Mee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,size:d,value:f,defaultValue:h,onChange:m,onKeyDown:v,maxTags:b,allowDuplicates:x,onDuplicate:S,variant:A,data:T,dropdownOpened:E,defaultDropdownOpened:k,onDropdownOpen:D,onDropdownClose:M,selectFirstOptionOnChange:R,selectFirstOptionOnDropdownOpen:N,onOptionSubmit:z,comboboxProps:q,filter:Y,limit:K,withScrollArea:te,maxDropdownHeight:W,searchValue:J,defaultSearchValue:L,onSearchChange:U,readOnly:F,disabled:V,splitChars:G,onFocus:$,onBlur:X,onPaste:ne,radius:ae,rightSection:oe,rightSectionWidth:xe,rightSectionPointerEvents:be,rightSectionProps:ze,leftSection:ie,leftSectionWidth:se,leftSectionPointerEvents:je,leftSectionProps:ue,inputContainer:Ve,inputWrapperOrder:Le,withAsterisk:ct,required:Qe,labelProps:He,descriptionProps:We,errorProps:nt,wrapperProps:Je,description:wt,label:ft,error:vt,withErrorStyles:$e,name:at,form:Ge,id:qe,clearable:Jt,clearButtonProps:yn,hiddenInputProps:Ht,hiddenInputValuesDivider:En,mod:Gt,renderOption:Xn,onRemove:bn,onClear:Nt,scrollAreaProps:et,acceptValueOnBlur:gr,isDuplicate:xn,openOnFocus:Jr,attributes:tt,...un}=n,ur=hi(qe),Tn=rk(T),ha=tx(Tn),ei=w.useRef(null),Oa=kr(ei,e),Pn=nx({opened:E,defaultOpened:k,onDropdownOpen:()=>{D?.(),N&&Pn.selectFirstOption()},onDropdownClose:()=>{M?.(),Pn.resetSelectedOption()}}),{styleProps:Ur,rest:{type:hn,autoComplete:Xa,...Za}}=Zc(un),[lt,Rt]=Fr({value:f,defaultValue:h,finalValue:[],onChange:m}),[nn,Hr]=Fr({value:J,defaultValue:L,finalValue:"",onChange:U}),Vr=It=>{Hr(It),Pn.resetSelectedOption()},Da=ut({name:"TagsInput",classes:{},props:n,classNames:r,styles:o,unstyled:s}),{resolvedClassNames:ti,resolvedStyles:dn}=ka({props:n,styles:o,classNames:r}),Fn=It=>{const jn=xn?xn(It,lt):lt.some(yi=>yi.toLowerCase()===It.toLowerCase());jn&&S?.(It),(!jn||jn&&x)&&lt.length<b&&(z?.(It),Vr(""),It.length>0&&Rt([...lt,It]))},Pr=It=>{if(v?.(It),It.isPropagationStopped())return;const jn=nn.trim(),{length:yi}=jn;if(G.includes(It.key)&&yi>0&&(Rt(Kj({splitChars:G,allowDuplicates:x,maxTags:b,value:nn,currentTags:lt})),Vr(""),It.preventDefault()),It.key==="Enter"&&yi>0&&!It.nativeEvent.isComposing){if(It.preventDefault(),!!document.querySelector(`#${Pn.listId} [data-combobox-option][data-combobox-selected]`))return;Fn(jn)}It.key==="Backspace"&&yi===0&&lt.length>0&&!It.nativeEvent.isComposing&&!F&&(bn?.(lt[lt.length-1]),Rt(lt.slice(0,lt.length-1)))},Qa=It=>{if(ne?.(It),It.preventDefault(),It.clipboardData){const jn=It.clipboardData.getData("text/plain");Rt(Kj({splitChars:G,allowDuplicates:x,maxTags:b,value:`${nn}${jn}`,currentTags:lt})),Vr("")}},ou=lt.map((It,jn)=>g.jsx(dd,{withRemoveButton:!F,onRemove:()=>{const yi=lt.slice();yi.splice(jn,1),Rt(yi),bn?.(It)},unstyled:s,disabled:V,attributes:tt,...Da("pill"),children:It},`${It}-${jn}`));w.useEffect(()=>{R&&Pn.selectFirstOption()},[R,lt,nn]);const pa=g.jsx(Wt.ClearButton,{...yn,onClear:()=>{Rt([]),Vr(""),ei.current?.focus(),Pn.openDropdown(),Nt?.()}});return g.jsxs(g.Fragment,{children:[g.jsxs(Wt,{store:Pn,classNames:ti,styles:dn,unstyled:s,size:d,readOnly:F,__staticSelector:"TagsInput",attributes:tt,onOptionSubmit:It=>{z?.(It),Vr(""),lt.length<b&&Rt([...lt,ha[It].label]),Pn.resetSelectedOption()},...q,children:[g.jsx(Wt.DropdownTarget,{children:g.jsx(fh,{...Ur,__staticSelector:"TagsInput",classNames:ti,styles:dn,unstyled:s,size:d,className:i,style:a,variant:A,disabled:V,radius:ae,rightSection:oe,__clearSection:pa,__clearable:Jt&&lt.length>0&&!V&&!F,rightSectionWidth:xe,rightSectionPointerEvents:be,rightSectionProps:ze,leftSection:ie,leftSectionWidth:se,leftSectionPointerEvents:je,leftSectionProps:ue,inputContainer:Ve,inputWrapperOrder:Le,withAsterisk:ct,required:Qe,labelProps:He,descriptionProps:We,errorProps:nt,wrapperProps:Je,description:wt,label:ft,error:vt,withErrorStyles:$e,__stylesApiProps:{...n,multiline:!0},id:ur,mod:Gt,attributes:tt,children:g.jsxs(dd.Group,{disabled:V,unstyled:s,...Da("pillsList"),children:[ou,g.jsx(Wt.EventsTarget,{autoComplete:Xa,children:g.jsx(fh.Field,{...Za,ref:Oa,...Da("inputField"),unstyled:s,onKeyDown:Pr,onFocus:It=>{$?.(It),Jr&&Pn.openDropdown()},onBlur:It=>{X?.(It),gr&&Fn(nn),Pn.closeDropdown()},onPaste:Qa,value:nn,onChange:It=>Vr(It.currentTarget.value),required:Qe&&lt.length===0,disabled:V,readOnly:F,id:ur})})]})})}),g.jsx(bk,{data:Oee({data:Tn,value:lt}),hidden:F||V,filter:Y,search:nn,limit:K,hiddenWhenEmpty:!0,withScrollArea:te,maxDropdownHeight:W,unstyled:s,labelId:ft?`${ur}-label`:void 0,"aria-label":ft?void 0:un["aria-label"],renderOption:Xn,scrollAreaProps:et})]}),g.jsx(Wt.HiddenInput,{name:at,form:Ge,value:lt,valuesDivider:En,disabled:V,...Ht})]})});Wk.classes={...Wi.classes,...Wt.classes};Wk.displayName="@mantine/core/TagsInput";const As=Ue((t,e)=>{const n=Pe("TextInput",null,t);return g.jsx(Wi,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});As.classes=Wi.classes;As.displayName="@mantine/core/TextInput";var cF={root:"m_7341320d"};const Ree=(t,{size:e,radius:n,variant:r,gradient:i,color:a,autoContrast:o})=>{const s=t.variantColorResolver({color:a||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:o});return{root:{"--ti-size":Mt(e,"ti-size"),"--ti-radius":n===void 0?void 0:_n(n),"--ti-bg":a||r?s.background:void 0,"--ti-color":a||r?s.color:void 0,"--ti-bd":a||r?s.border:void 0}}},Vn=Ue((t,e)=>{const n=Pe("ThemeIcon",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,autoContrast:d,attributes:f,...h}=n,m=ut({name:"ThemeIcon",classes:cF,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:f,vars:c,varsResolver:Ree});return g.jsx(Me,{ref:e,...m("root"),...h})});Vn.classes=cF;Vn.displayName="@mantine/core/ThemeIcon";const jee=["h1","h2","h3","h4","h5","h6"],Lee=["xs","sm","md","lg","xl"];function Nee(t,e){const n=e!==void 0?e:`h${t}`;return jee.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:Lee.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}:{fontSize:Oe(n),fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}}var uF={root:"m_8a5d1357"};const Iee={order:1},zee=(t,{order:e,size:n,lineClamp:r,textWrap:i})=>{const a=Nee(e||1,n);return{root:{"--title-fw":a.fontWeight,"--title-lh":a.lineHeight,"--title-fz":a.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},Yi=Ue((t,e)=>{const n=Pe("Title",Iee,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,order:c,vars:d,size:f,variant:h,lineClamp:m,textWrap:v,mod:b,attributes:x,...S}=n,A=ut({name:"Title",props:n,classes:uF,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:x,vars:d,varsResolver:zee});return[1,2,3,4,5,6].includes(c)?g.jsx(Me,{...A("root"),component:`h${c}`,variant:h,ref:e,mod:[{order:c,"data-line-clamp":typeof m=="number"},b],size:f,...S}):null});Yi.classes=uF;Yi.displayName="@mantine/core/Title";function Bee(t){let e=t,n=!1;const r=new Set;return{getState(){return e},updateState(i){e=typeof i=="function"?i(e):i},setState(i){this.updateState(i),r.forEach(a=>a(e))},initialize(i){n||(e=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function $ee(t){return w.useSyncExternalStore(t.subscribe,()=>t.getState(),()=>t.getState())}function Fee(t,e,n){const r=[],i=[],a={};for(const o of t){const s=o.position||e;a[s]=a[s]||0,a[s]+=1,a[s]<=n?i.push(o):r.push(o)}return{notifications:i,queue:r}}const Uee=()=>Bee({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),kd=Uee(),Hee=(t=kd)=>$ee(t);function Nh(t,e){const n=t.getState(),r=e([...n.notifications,...n.queue]),i=Fee(r,n.defaultPosition,n.limit);t.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function Vee(t,e=kd){const n=t.id||pb();return Nh(e,r=>t.id&&r.some(i=>i.id===t.id)?r:[...r,{...t,id:n}]),n}function dF(t,e=kd){return Nh(e,n=>n.filter(r=>r.id===t?(r.onClose?.(r),!1):!0)),t}function qee(t,e=kd){return Nh(e,n=>n.map(r=>r.id===t.id?{...r,...t}:r)),t.id}function Gee(t=kd){Nh(t,()=>[])}function Yee(t=kd){Nh(t,e=>e.slice(0,t.getState().limit))}const bo={show:Vee,hide:dF,update:qee,clean:Gee,cleanQueue:Yee,updateState:Nh};function F_(t,e){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},F_(t,e)}function fF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,F_(t,e)}var ZS={exports:{}},QS,Wj;function Kee(){if(Wj)return QS;Wj=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return QS=t,QS}var JS,Xj;function Wee(){if(Xj)return JS;Xj=1;var t=Kee();function e(){}function n(){}return n.resetWarningCache=e,JS=function(){function r(o,s,c,d,f,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},JS}var Zj;function Xee(){return Zj||(Zj=1,ZS.exports=Wee()()),ZS.exports}var Zee=Xee();const Hn=ua(Zee),Qj={disabled:!1},Cb=sr.createContext(null);var Qee=function(e){return e.scrollTop},vm="unmounted",Lu="exited",Nu="entering",If="entered",U_="exiting",Vl=(function(t){fF(e,t);function e(r,i){var a;a=t.call(this,r,i)||this;var o=i,s=o&&!o.isMounting?r.enter:r.appear,c;return a.appearStatus=null,r.in?s?(c=Lu,a.appearStatus=Nu):c=If:r.unmountOnExit||r.mountOnEnter?c=vm:c=Lu,a.state={status:c},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var o=i.in;return o&&a.status===vm?{status:Lu}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Nu&&o!==If&&(a=Nu):(o===Nu||o===If)&&(a=U_)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a,o,s;return a=o=s=i,i!=null&&typeof i!="number"&&(a=i.exit,o=i.enter,s=i.appear!==void 0?i.appear:o),{exit:a,enter:o,appear:s}},n.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===Nu){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:gm.findDOMNode(this);o&&Qee(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Lu&&this.setState({status:vm})},n.performEnter=function(i){var a=this,o=this.props.enter,s=this.context?this.context.isMounting:i,c=this.props.nodeRef?[s]:[gm.findDOMNode(this),s],d=c[0],f=c[1],h=this.getTimeouts(),m=s?h.appear:h.enter;if(!i&&!o||Qj.disabled){this.safeSetState({status:If},function(){a.props.onEntered(d)});return}this.props.onEnter(d,f),this.safeSetState({status:Nu},function(){a.props.onEntering(d,f),a.onTransitionEnd(m,function(){a.safeSetState({status:If},function(){a.props.onEntered(d,f)})})})},n.performExit=function(){var i=this,a=this.props.exit,o=this.getTimeouts(),s=this.props.nodeRef?void 0:gm.findDOMNode(this);if(!a||Qj.disabled){this.safeSetState({status:Lu},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:U_},function(){i.props.onExiting(s),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Lu},function(){i.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,o=!0;return this.nextCallback=function(s){o&&(o=!1,a.nextCallback=null,i(s))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:gm.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!o||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],d=c[0],f=c[1];this.props.addEndListener(d,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===vm)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var s=_k(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return sr.createElement(Cb.Provider,{value:null},typeof o=="function"?o(i,s):sr.cloneElement(sr.Children.only(o),s))},e})(sr.Component);Vl.contextType=Cb;Vl.propTypes={};function Pf(){}Vl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Pf,onEntering:Pf,onEntered:Pf,onExit:Pf,onExiting:Pf,onExited:Pf};Vl.UNMOUNTED=vm;Vl.EXITED=Lu;Vl.ENTERING=Nu;Vl.ENTERED=If;Vl.EXITING=U_;function Jee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xk(t,e){var n=function(a){return e&&w.isValidElement(a)?e(a):a},r=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function ete(t,e){t=t||{},e=e||{};function n(f){return f in e?e[f]:t[f]}var r=Object.create(null),i=[];for(var a in t)a in e?i.length&&(r[a]=i,i=[]):i.push(a);var o,s={};for(var c in e){if(r[c])for(o=0;o<r[c].length;o++){var d=r[c][o];s[r[c][o]]=n(d)}s[c]=n(c)}for(o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s}function qu(t,e,n){return n[e]!=null?n[e]:t.props[e]}function tte(t,e){return Xk(t.children,function(n){return w.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:qu(n,"appear",t),enter:qu(n,"enter",t),exit:qu(n,"exit",t)})})}function nte(t,e,n){var r=Xk(t.children),i=ete(e,r);return Object.keys(i).forEach(function(a){var o=i[a];if(w.isValidElement(o)){var s=a in e,c=a in r,d=e[a],f=w.isValidElement(d)&&!d.props.in;c&&(!s||f)?i[a]=w.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:qu(o,"exit",t),enter:qu(o,"enter",t)}):!c&&s&&!f?i[a]=w.cloneElement(o,{in:!1}):c&&s&&w.isValidElement(d)&&(i[a]=w.cloneElement(o,{onExited:n.bind(null,o),in:d.props.in,exit:qu(o,"exit",t),enter:qu(o,"enter",t)}))}}),i}var rte=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},ite={component:"div",childFactory:function(e){return e}},jc=(function(t){fF(e,t);function e(r,i){var a;a=t.call(this,r,i)||this;var o=a.handleExited.bind(Jee(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,a){var o=a.children,s=a.handleExited,c=a.firstRender;return{children:c?tte(i,s):nte(i,o,s),firstRender:!1}},n.handleExited=function(i,a){var o=Xk(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(s){var c=wb({},s.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,a=i.component,o=i.childFactory,s=_k(i,["component","childFactory"]),c=this.state.contextValue,d=rte(this.state.children).map(o);return delete s.appear,delete s.enter,delete s.exit,a===null?sr.createElement(Cb.Provider,{value:c},d):sr.createElement(Cb.Provider,{value:c},sr.createElement(a,s,d))},e})(sr.Component);jc.propTypes={};jc.defaultProps=ite;const hF=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function ate(t,e){return t.reduce((n,r)=>(n[r.position||e].push(r),n),hF.reduce((n,r)=>(n[r]=[],n),{}))}const Jj={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},ote={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function ste({state:t,maxHeight:e,position:n,transitionDuration:r}){const[i,a]=n.split("-"),o=a==="center"?`${i}-center`:a,s={opacity:0,maxHeight:e,transform:Jj[o],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},c={opacity:1,transform:ote[o]},d={opacity:0,maxHeight:0,transform:Jj[o]};return{...s,...{entering:c,entered:c,exiting:d,exited:d}[t]}}function lte(t,e){return typeof e=="number"?e:e===!1||t===!1?!1:t}const pF=w.forwardRef(({data:t,onHide:e,autoClose:n,...r},i)=>{const{autoClose:a,message:o,...s}=t,c=lte(n,t.autoClose),d=w.useRef(-1),f=()=>window.clearTimeout(d.current),h=()=>{e(t.id),f()},m=()=>{typeof c=="number"&&(d.current=window.setTimeout(h,c))};return w.useEffect(()=>{t.onOpen?.(t)},[]),w.useEffect(()=>(m(),f),[c]),g.jsx(Rk,{...r,...s,onClose:h,ref:i,onMouseEnter:f,onMouseLeave:m,children:o})});pF.displayName="@mantine/notifications/NotificationContainer";var mF={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const cte=Vl,ute={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Wa("overlay"),store:kd,withinPortal:!0},dte=(t,{zIndex:e,containerWidth:n})=>({root:{"--notifications-z-index":e?.toString(),"--notifications-container-width":Oe(n)}}),ql=Ue((t,e)=>{const n=Pe("Notifications",ute,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,position:d,autoClose:f,transitionDuration:h,containerWidth:m,notificationMaxHeight:v,limit:b,zIndex:x,store:S,portalProps:A,withinPortal:T,...E}=n,k=Xr(),D=Hee(S),M=LG(),R=I0(),N=w.useRef({}),z=w.useRef(0),Y=(k.respectReducedMotion?R:!1)?1:h,K=ut({name:"Notifications",classes:mF,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:c,varsResolver:dte});w.useEffect(()=>{S?.updateState(J=>({...J,limit:b||5,defaultPosition:d}))},[b,d]),ld(()=>{D.notifications.length>z.current&&setTimeout(()=>M(),0),z.current=D.notifications.length},[D.notifications]);const te=ate(D.notifications,d),W=hF.reduce((J,L)=>(J[L]=te[L].map(({style:U,...F})=>g.jsx(cte,{timeout:Y,onEnter:()=>N.current[F.id].offsetHeight,nodeRef:{current:N.current[F.id]},children:V=>g.jsx(pF,{ref:G=>{G&&(N.current[F.id]=G)},data:F,onHide:G=>dF(G,S),autoClose:f,...K("notification",{style:{...ste({state:V,position:L,transitionDuration:Y,maxHeight:v}),...U}})})},F.id)),J),{});return g.jsxs(Pl,{withinPortal:T,...A,children:[g.jsx(Me,{...K("root"),"data-position":"top-center",ref:e,...E,children:g.jsx(jc,{children:W["top-center"]})}),g.jsx(Me,{...K("root"),"data-position":"top-left",...E,children:g.jsx(jc,{children:W["top-left"]})}),g.jsx(Me,{...K("root",{className:sd.classNames.fullWidth}),"data-position":"top-right",...E,children:g.jsx(jc,{children:W["top-right"]})}),g.jsx(Me,{...K("root",{className:sd.classNames.fullWidth}),"data-position":"bottom-right",...E,children:g.jsx(jc,{children:W["bottom-right"]})}),g.jsx(Me,{...K("root"),"data-position":"bottom-left",...E,children:g.jsx(jc,{children:W["bottom-left"]})}),g.jsx(Me,{...K("root"),"data-position":"bottom-center",...E,children:g.jsx(jc,{children:W["bottom-center"]})})]})});ql.classes=mF;ql.displayName="@mantine/notifications/Notifications";ql.show=bo.show;ql.hide=bo.hide;ql.update=bo.update;ql.clean=bo.clean;ql.cleanQueue=bo.cleanQueue;ql.updateState=bo.updateState;const fte=16,H_=12,gF=1e5,hte=256;function vF(t){return crypto.getRandomValues(new Uint8Array(t))}function V_(){return vF(fte)}function yF(){return vF(H_)}async function pte(t,e){const r=new TextEncoder().encode(t),i=await crypto.subtle.importKey("raw",r,"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:e.buffer,iterations:gF,hash:"SHA-256"},i,{name:"AES-GCM",length:hte},!1,["encrypt","decrypt"])}async function bF(t,e){const r=new TextEncoder().encode(t),i=await crypto.subtle.importKey("raw",r,"PBKDF2",!1,["deriveBits"]),a=await crypto.subtle.deriveBits({name:"PBKDF2",salt:e.buffer,iterations:gF,hash:"SHA-256"},i,256);return xx(a)}async function mte(t,e){const n=yF(),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n.buffer},e,t),i=new Uint8Array(n.length+r.byteLength);return i.set(n),i.set(new Uint8Array(r),n.length),i.buffer}async function _b(t,e){const r=new TextEncoder().encode(t),i=await mte(r.buffer,e);return xx(i)}async function gte(t,e){const n=new Uint8Array(t),r=n.slice(0,H_),i=n.slice(H_);return crypto.subtle.decrypt({name:"AES-GCM",iv:r.buffer},e,i)}async function q_(t,e){const n=Zk(t),r=await gte(n,e);return new TextDecoder().decode(r)}function xx(t){const e=new Uint8Array(t);let n="";for(let r=0;r<e.byteLength;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function Zk(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n.buffer}function G_(t){return xx(t.buffer)}function Qk(t){return new Uint8Array(Zk(t))}function Jk(t){const e={minLength:t.length>=8,hasUppercase:/[A-Z]/.test(t),hasLowercase:/[a-z]/.test(t),hasNumber:/[0-9]/.test(t),hasSpecial:/[^A-Za-z0-9]/.test(t)},n=Object.values(e).filter(Boolean).length;return{isStrong:n>=4&&e.minLength,score:n,checks:e}}async function vte(t){const e=V_(),n=V_(),r=await bF(t,n);return{salt:G_(e),verificationSalt:G_(n),verificationHash:r}}async function yte(t,e){const n=Qk(e.verificationSalt);return await bF(t,n)===e.verificationHash}async function Y_(t,e){const n=Qk(e.salt);return pte(t,n)}const xF="hemoio_credentials",wF=w.createContext(null);function eA(){try{const t=localStorage.getItem(xF);return t?JSON.parse(t):null}catch{return null}}function bte(t){localStorage.setItem(xF,JSON.stringify(t))}function xte({children:t}){const e=eA(),[n,r]=w.useState(e?"locked":"needs_setup"),[i,a]=w.useState(null),[o,s]=w.useState(e),c=w.useCallback(()=>o!==null||eA()!==null,[o]),d=w.useCallback(async v=>{const b=await vte(v);bte(b),s(b);const x=await Y_(v,b);a(x),r("unlocked")},[]),f=w.useCallback(async v=>{const b=o??eA();if(!b||!await yte(v,b))return!1;const S=await Y_(v,b);return a(S),s(b),r("unlocked"),!0},[o]),h=w.useCallback(()=>{a(null),r("locked")},[]),m={status:n,encryptionKey:i,unlock:f,lock:h,setupPassword:d,isSetupComplete:c};return g.jsx(wF.Provider,{value:m,children:t})}function Ih(){const t=w.useContext(wF);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}var wte={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const Ct=(t,e,n,r)=>{const i=w.forwardRef(({color:a="currentColor",size:o=24,stroke:s=2,title:c,className:d,children:f,...h},m)=>w.createElement("svg",{ref:m,...wte[t],width:o,height:o,className:["tabler-icon",`tabler-icon-${e}`,d].join(" "),strokeWidth:s,stroke:a,...h},[c&&w.createElement("title",{key:"svg-title"},c),...r.map(([v,b])=>w.createElement(v,b)),...Array.isArray(f)?f:[f]]));return i.displayName=`${n}`,i};const Ste=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],la=Ct("outline","alert-circle","AlertCircle",Ste);const Ate=[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],fd=Ct("outline","alert-triangle","AlertTriangle",Ate);const Cte=[["path",{d:"M20 11a8.1 8.1 0 0 0 -6.986 -6.918a8.095 8.095 0 0 0 -8.019 3.918",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15 3",key:"svg-1"}],["path",{d:"M18 16a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M4 8a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-4"}]],_te=Ct("outline","analyze","Analyze",Cte);const Ete=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 13l-6 6",key:"svg-1"}],["path",{d:"M6 13l6 6",key:"svg-2"}]],eP=Ct("outline","arrow-down","ArrowDown",Ete);const Tte=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]],wx=Ct("outline","arrow-left","ArrowLeft",Tte);const kte=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],Pte=Ct("outline","arrow-right","ArrowRight",kte);const Ote=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]],tP=Ct("outline","arrow-up","ArrowUp",Ote);const Dte=[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]],Mte=Ct("outline","book","Book",Dte);const Rte=[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]],SF=Ct("outline","brain","Brain",Rte);const jte=[["path",{d:"M7.5 10.625l-4.5 -2.813l4.5 -2.812l4.5 2.813m-4.5 2.812l4.5 -2.813m-4.5 2.813l-4.5 2.823l4.5 2.802m0 -5.625l4.5 2.823m0 -5.636l4.5 2.791l4.5 -2.812l-4.5 -2.791l-4.5 2.813m-4.5 8.438l4.5 -2.802m-4.5 2.802v1.123l4.5 2.627l4.5 -2.627v-1.123m-4.5 -2.802l4.5 -2.823l4.5 2.823l-4.5 2.802m-4.5 -2.802l4.5 2.802",key:"svg-0"}]],Lte=Ct("outline","brand-dropbox","BrandDropbox",jte);const Nte=[["path",{d:"M12 10l-6 10l-3 -5l6 -10l3 5",key:"svg-0"}],["path",{d:"M9 15h12l-3 5h-12",key:"svg-1"}],["path",{d:"M15 15l-6 -10h6l6 10l-6 0",key:"svg-2"}]],Ite=Ct("outline","brand-google-drive","BrandGoogleDrive",Nte);const zte=[["path",{d:"M11.217 19.384a3.501 3.501 0 0 0 6.783 -1.217v-5.167l-6 -3.35",key:"svg-0"}],["path",{d:"M5.214 15.014a3.501 3.501 0 0 0 4.446 5.266l4.34 -2.534v-6.946",key:"svg-1"}],["path",{d:"M6 7.63c-1.391 -.236 -2.787 .395 -3.534 1.689a3.474 3.474 0 0 0 1.271 4.745l4.263 2.514l6 -3.348",key:"svg-2"}],["path",{d:"M12.783 4.616a3.501 3.501 0 0 0 -6.783 1.217v5.067l6 3.45",key:"svg-3"}],["path",{d:"M18.786 8.986a3.501 3.501 0 0 0 -4.446 -5.266l-4.34 2.534v6.946",key:"svg-4"}],["path",{d:"M18 16.302c1.391 .236 2.787 -.395 3.534 -1.689a3.474 3.474 0 0 0 -1.271 -4.745l-4.308 -2.514l-5.955 3.42",key:"svg-5"}]],Bte=Ct("outline","brand-openai","BrandOpenai",zte);const $te=[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M9 8l1 0",key:"svg-1"}],["path",{d:"M9 12l1 0",key:"svg-2"}],["path",{d:"M9 16l1 0",key:"svg-3"}],["path",{d:"M14 8l1 0",key:"svg-4"}],["path",{d:"M14 12l1 0",key:"svg-5"}],["path",{d:"M14 16l1 0",key:"svg-6"}],["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16",key:"svg-7"}]],nP=Ct("outline","building","Building",$te);const Fte=[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]],hh=Ct("outline","calendar","Calendar",Fte);const Ute=[["path",{d:"M3 13a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -6",key:"svg-0"}],["path",{d:"M15 9a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -10",key:"svg-1"}],["path",{d:"M9 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -14",key:"svg-2"}],["path",{d:"M4 20h14",key:"svg-3"}]],Hte=Ct("outline","chart-bar","ChartBar",Ute);const Vte=[["path",{d:"M4 19l16 0",key:"svg-0"}],["path",{d:"M4 15l4 -6l4 2l4 -5l4 4",key:"svg-1"}]],Em=Ct("outline","chart-line","ChartLine",Vte);const qte=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],$n=Ct("outline","check","Check",qte);const Gte=[["path",{d:"M9.615 20h-2.615a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8",key:"svg-0"}],["path",{d:"M14 19l2 2l4 -4",key:"svg-1"}],["path",{d:"M9 8h4",key:"svg-2"}],["path",{d:"M9 12h2",key:"svg-3"}]],Yte=Ct("outline","checklist","Checklist",Gte);const Kte=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],AF=Ct("outline","chevron-down","ChevronDown",Kte);const Wte=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],Xte=Ct("outline","chevron-right","ChevronRight",Wte);const Zte=[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]],CF=Ct("outline","chevron-up","ChevronUp",Zte);const Qte=[["path",{d:"M7 9.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667l0 -8.666",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]],tA=Ct("outline","copy","Copy",Qte);const Jte=[["path",{d:"M4 6a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]],rP=Ct("outline","database","Database",Jte);const ene=[["path",{d:"M3 5a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1v-10",key:"svg-0"}],["path",{d:"M7 20h10",key:"svg-1"}],["path",{d:"M9 16v4",key:"svg-2"}],["path",{d:"M15 16v4",key:"svg-3"}]],_F=Ct("outline","device-desktop","DeviceDesktop",ene);const tne=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],Sx=Ct("outline","download","Download",tne);const nne=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]],EF=Ct("outline","edit","Edit",nne);const rne=[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]],ine=Ct("outline","external-link","ExternalLink",rne);const ane=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2",key:"svg-1"}],["path",{d:"M9 17l0 -5",key:"svg-2"}],["path",{d:"M12 17l0 -1",key:"svg-3"}],["path",{d:"M15 17l0 -3",key:"svg-4"}]],one=Ct("outline","file-analytics","FileAnalytics",ane);const sne=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-1"}],["path",{d:"M7 16.5a1.5 1.5 0 0 0 -3 0v3a1.5 1.5 0 0 0 3 0",key:"svg-2"}],["path",{d:"M10 20.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75",key:"svg-3"}],["path",{d:"M16 15l2 6l2 -6",key:"svg-4"}]],lne=Ct("outline","file-type-csv","FileTypeCsv",sne);const cne=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-1"}],["path",{d:"M5 18h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6",key:"svg-2"}],["path",{d:"M17 18h2",key:"svg-3"}],["path",{d:"M20 15h-3v6",key:"svg-4"}],["path",{d:"M11 15v6h1a2 2 0 0 0 2 -2v-2a2 2 0 0 0 -2 -2h-1",key:"svg-5"}]],une=Ct("outline","file-type-pdf","FileTypePdf",cne);const dne=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2",key:"svg-1"}],["path",{d:"M12 11v6",key:"svg-2"}],["path",{d:"M9.5 13.5l2.5 -2.5l2.5 2.5",key:"svg-3"}]],fne=Ct("outline","file-upload","FileUpload",dne);const hne=[["path",{d:"M6 20.735a2 2 0 0 1 -1 -1.735v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-1",key:"svg-0"}],["path",{d:"M11 17a2 2 0 0 1 2 2v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1v-2a2 2 0 0 1 2 -2",key:"svg-1"}],["path",{d:"M11 5l-1 0",key:"svg-2"}],["path",{d:"M13 7l-1 0",key:"svg-3"}],["path",{d:"M11 9l-1 0",key:"svg-4"}],["path",{d:"M13 11l-1 0",key:"svg-5"}],["path",{d:"M11 13l-1 0",key:"svg-6"}],["path",{d:"M13 15l-1 0",key:"svg-7"}]],pne=Ct("outline","file-zip","FileZip",hne);const mne=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2",key:"svg-1"}]],gne=Ct("outline","file","File",mne);const vne=[["path",{d:"M15 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M18 17h-7a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h4l5 5v7a2 2 0 0 1 -2 2",key:"svg-1"}],["path",{d:"M16 17v2a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-2"}]],yne=Ct("outline","files","Files",vne);const bne=[["path",{d:"M9 3l6 0",key:"svg-0"}],["path",{d:"M10 9l4 0",key:"svg-1"}],["path",{d:"M10 3v6l-4 11a.7 .7 0 0 0 .5 1h11a.7 .7 0 0 0 .5 -1l-4 -11v-6",key:"svg-2"}]],xne=Ct("outline","flask","Flask",bne);const wne=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]],iP=Ct("outline","info-circle","InfoCircle",wne);const Sne=[["path",{d:"M20 16v-8l3 8v-8",key:"svg-0"}],["path",{d:"M15 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2",key:"svg-1"}],["path",{d:"M1 8h3v6.5a1.5 1.5 0 0 1 -3 0v-.5",key:"svg-2"}],["path",{d:"M7 15a1 1 0 0 0 1 1h1a1 1 0 0 0 1 -1v-2a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1h1a1 1 0 0 1 1 1",key:"svg-3"}]],Ane=Ct("outline","json","Json",Sne);const Cne=[["path",{d:"M16.555 3.843l3.602 3.602a2.877 2.877 0 0 1 0 4.069l-2.643 2.643a2.877 2.877 0 0 1 -4.069 0l-.301 -.301l-6.558 6.558a2 2 0 0 1 -1.239 .578l-.175 .008h-1.172a1 1 0 0 1 -.993 -.883l-.007 -.117v-1.172a2 2 0 0 1 .467 -1.284l.119 -.13l.414 -.414h2v-2h2v-2l2.144 -2.144l-.301 -.301a2.877 2.877 0 0 1 0 -4.069l2.643 -2.643a2.877 2.877 0 0 1 4.069 0",key:"svg-0"}],["path",{d:"M15 9h.01",key:"svg-1"}]],Tm=Ct("outline","key","Key",Cne);const _ne=[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2l0 -6",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-5a4 4 0 0 1 8 0",key:"svg-2"}]],Ene=Ct("outline","lock-open","LockOpen",_ne);const Tne=[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]],Io=Ct("outline","lock","Lock",Tne);const kne=[["path",{d:"M5 12l14 0",key:"svg-0"}]],aP=Ct("outline","minus","Minus",kne);const Pne=[["path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454l0 .008",key:"svg-0"}]],One=Ct("outline","moon","Moon",Pne);const Dne=[["path",{d:"M13 20l7 -7",key:"svg-0"}],["path",{d:"M13 20v-6a1 1 0 0 1 1 -1h6v-7a2 2 0 0 0 -2 -2h-12a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7",key:"svg-1"}]],Ax=Ct("outline","note","Note",Dne);const Mne=[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]],Rne=Ct("outline","photo","Photo",Mne);const jne=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]],oP=Ct("outline","plus","Plus",jne);const Lne=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],Zf=Ct("outline","refresh","Refresh",Lne);const Nne=[["path",{d:"M6 6a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2l0 -4",key:"svg-0"}],["path",{d:"M12 2v2",key:"svg-1"}],["path",{d:"M9 12v9",key:"svg-2"}],["path",{d:"M15 12v9",key:"svg-3"}],["path",{d:"M5 16l4 -2",key:"svg-4"}],["path",{d:"M15 14l4 2",key:"svg-5"}],["path",{d:"M9 18h6",key:"svg-6"}],["path",{d:"M10 8v.01",key:"svg-7"}],["path",{d:"M14 8v.01",key:"svg-8"}]],Ine=Ct("outline","robot","Robot",Nne);const zne=[["path",{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3",key:"svg-0"}],["path",{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3",key:"svg-1"}],["path",{d:"M14 9a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],Bne=Ct("outline","rocket","Rocket",zne);const $ne=[["path",{d:"M3 10a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],sP=Ct("outline","search","Search",$ne);const Fne=[["path",{d:"M3 7a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3",key:"svg-0"}],["path",{d:"M3 15a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3l0 -2",key:"svg-1"}],["path",{d:"M7 8l0 .01",key:"svg-2"}],["path",{d:"M7 16l0 .01",key:"svg-3"}]],Eb=Ct("outline","server","Server",Fne);const Une=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],lP=Ct("outline","settings","Settings",Une);const Hne=[["path",{d:"M8 12a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7",key:"svg-1"}]],Vne=Ct("outline","sun","Sun",Hne);const qne=[["path",{d:"M11 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M7 12a5 5 0 1 0 10 0a5 5 0 1 0 -10 0",key:"svg-1"}],["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]],K_=Ct("outline","target","Target",qne);const Gne=[["path",{d:"M20 8.04l-12.122 12.124a2.857 2.857 0 1 1 -4.041 -4.04l12.122 -12.124",key:"svg-0"}],["path",{d:"M7 13h8",key:"svg-1"}],["path",{d:"M19 15l1.5 1.6a2 2 0 1 1 -3 0l1.5 -1.6",key:"svg-2"}],["path",{d:"M15 3l6 6",key:"svg-3"}]],Cx=Ct("outline","test-pipe","TestPipe",Gne);const Yne=[["path",{d:"M4 16l6 -7l5 5l5 -6",key:"svg-0"}],["path",{d:"M14 14a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M9 9a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M3 16a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M19 8a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}]],TF=Ct("outline","timeline","Timeline",Yne);const Kne=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]],_x=Ct("outline","trash","Trash",Kne);const Wne=[["path",{d:"M3 7l6 6l4 -4l8 8",key:"svg-0"}],["path",{d:"M21 10l0 7l-7 0",key:"svg-1"}]],Xne=Ct("outline","trending-down","TrendingDown",Wne);const Zne=[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]],kF=Ct("outline","trending-up","TrendingUp",Zne);const Qne=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],km=Ct("outline","upload","Upload",Qne);const Jne=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],Vi=Ct("outline","x","X",Jne);function ere({password:t,confirmPassword:e,onPasswordChange:n,onConfirmPasswordChange:r}){const[i,a]=w.useState(!1),[o,s]=w.useState(!1),c=x=>x<=1?"red":x<=2?"orange":x<=3?"yellow":"green",d=x=>x<=1?"Weak":x<=2?"Fair":x<=3?"Good":"Strong",f=Jk(t),h=t===e&&t.length>0,m=e.length>0&&!h,v=w.useCallback(x=>{n(x.target.value)},[n]),b=w.useCallback(x=>{r(x.target.value)},[r]);return g.jsxs(it,{gap:"lg",children:[g.jsx(ce,{size:"sm",c:"dimmed",children:"Create a strong password to protect your health data. This password will be used to encrypt all your lab results locally."}),g.jsx(Ds,{label:"Password",placeholder:"Enter your password",value:t,onChange:v,visible:i,onVisibilityChange:a,"aria-describedby":"password-requirements",autoFocus:!0,required:!0}),t.length>0&&g.jsxs(it,{gap:"xs",children:[g.jsx(Be,{justify:"space-between",children:g.jsxs(ce,{size:"sm",c:"dimmed",children:["Password strength: ",d(f.score)]})}),g.jsx(Ol,{value:f.score/5*100,color:c(f.score),size:"sm","aria-label":`Password strength: ${d(f.score)}`})]}),g.jsxs("div",{id:"password-requirements",children:[g.jsx(ce,{size:"sm",fw:500,mb:"xs",children:"Password requirements:"}),g.jsx(tre,{strength:f})]}),g.jsx(Ds,{label:"Confirm password",placeholder:"Confirm your password",value:e,onChange:b,visible:o,onVisibilityChange:s,error:m?"Passwords do not match":void 0,required:!0})]})}function tre({strength:t}){const e=[{label:"At least 8 characters",met:t.checks.minLength},{label:"At least one uppercase letter",met:t.checks.hasUppercase},{label:"At least one lowercase letter",met:t.checks.hasLowercase},{label:"At least one number",met:t.checks.hasNumber},{label:"At least one special character",met:t.checks.hasSpecial}];return g.jsx(Ua,{spacing:"xs",size:"sm",center:!0,children:e.map(n=>g.jsx(Ua.Item,{icon:g.jsx(Vn,{color:n.met?"green":"gray",size:"sm",radius:"xl","aria-hidden":"true",children:n.met?g.jsx($n,{size:12}):g.jsx(Vi,{size:12})}),children:g.jsx(ce,{size:"sm",c:n.met?"green":"dimmed",children:n.label})},n.label))})}function nA({value:t,label:e,description:n,icon:r,disabled:i=!1,selected:a,onChange:o}){return g.jsx(Lt,{withBorder:!0,p:"md",radius:"md",style:{cursor:i?"not-allowed":"pointer",opacity:i?.5:1,borderColor:a?"var(--mantine-color-blue-5)":void 0,backgroundColor:a?"var(--mantine-color-blue-light)":void 0},onClick:()=>!i&&o(t),role:"radio","aria-checked":a,"aria-disabled":i,tabIndex:i?-1:0,onKeyDown:s=>{!i&&(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),o(t))},children:g.jsxs(Be,{children:[g.jsx(Lh,{checked:a,onChange:()=>o(t),disabled:i,"aria-hidden":"true",tabIndex:-1}),g.jsx(Vn,{size:"lg",variant:"light",color:i?"gray":"blue",children:r}),g.jsxs("div",{style:{flex:1},children:[g.jsxs(ce,{fw:500,children:[e,i&&g.jsx(ce,{span:!0,size:"xs",c:"dimmed",ml:"xs",children:"(Coming soon)"})]}),g.jsx(ce,{size:"sm",c:"dimmed",children:n})]})]})})}function nre({selectedStorage:t,onStorageChange:e}){return g.jsxs(it,{gap:"lg",children:[g.jsx(ce,{size:"sm",c:"dimmed",children:"Choose where to store your encrypted lab data. All data is encrypted before being stored, regardless of the storage location."}),g.jsxs(it,{gap:"sm",role:"radiogroup","aria-label":"Storage provider selection",children:[g.jsx(nA,{value:"local",label:"Local Storage",description:"Store data in your browser. Data stays on this device only.",icon:g.jsx(_F,{size:20}),selected:t==="local",onChange:e}),g.jsx(nA,{value:"dropbox",label:"Dropbox",description:"Sync encrypted data across devices via Dropbox.",icon:g.jsx(Lte,{size:20}),disabled:!0,selected:t==="dropbox",onChange:e}),g.jsx(nA,{value:"googledrive",label:"Google Drive",description:"Sync encrypted data across devices via Google Drive.",icon:g.jsx(Ite,{size:20}),disabled:!0,selected:t==="googledrive",onChange:e})]}),g.jsx(ce,{size:"xs",c:"dimmed",children:"Note: Cloud storage options will be available in a future update. Your data will always be encrypted before upload."})]})}class Mn extends Error{provider;code;constructor(e,n,r){super(e),this.name="AIAnalysisError",this.provider=n,this.code=r}}class PF extends Error{provider;constructor(e,n){super(e),this.name="AIConfigurationError",this.provider=n}}const rre=`You are a medical lab report data extraction assistant. Your task is to accurately extract biomarker values, reference ranges, and metadata from lab report text.

IMPORTANT GUIDELINES:
1. Extract ONLY values that are clearly present in the text
2. Do not infer or calculate values that are not explicitly stated
3. Preserve exact units as they appear in the report
4. Include reference ranges when available
5. Note any abnormal flags (H, L, High, Low, etc.)
6. Assign confidence scores based on clarity of the text
7. If a value is ambiguous, lower the confidence score

OUTPUT FORMAT:
Respond with a JSON object containing:
- biomarkers: Array of extracted biomarker objects
- labDate: Date of the lab test (ISO format if possible, otherwise as found)
- labName: Name of the laboratory or healthcare facility
- patientName: Patient name (only if explicitly requested)
- warnings: Array of any issues or ambiguities found

Each biomarker object should have:
- name: Biomarker name as found in report
- value: Numeric value OR interval/range string. For single values use a number (e.g., 5.5). For ranges like "5-10" or "5 - 10" in microscopy results (e.g., "5-10 eritrociti per campo"), use the range STRING as-is (e.g., "5-10")
- unit: Unit of measurement
- referenceRange: { low, high, unit } if available - IMPORTANT: extract numeric values only
- method: Analytical method if specified (e.g., "Enzymatic", "HPLC", "Immunoassay", "Colorimetric", "Turbidimetric")
- confidence: 0-1 score based on extraction certainty
- notes: Any flags or additional notes
- flaggedAbnormal: boolean if marked as abnormal

VALUE PARSING:
- Most values are single numbers: 100, 5.5, 0.75
- Some values (especially in microscopy/morphology exams) are ranges: "5-10", "0-2", "1-3"
- For range values, extract the RANGE as a string (e.g., "5-10"), not just the first number

IMPORTANT - DIPSTICK vs MICROSCOPY VALUES:
- DIPSTICK tests (urinalysis): Values like "< 5", "< 10", "< 0.2" mean "below detection threshold"
  Use the detection limit as the value and add a note indicating it's below detection
  - "Glucosio < 10 mg/dL"  value: 10, notes: "< 10 (below detection)"
  - "Proteine < 5 mg/dL"  value: 5, notes: "< 5 (below detection)"
  - "Bilirubina < 0,2 mg/dL"  value: 0.2, notes: "< 0.2 (below detection)"
- MICROSCOPY (morphological exam): Values like "5-10 per campo" are actual counted RANGES
  Extract as string to preserve the interval
  - "Eritrociti 5-10 per campo"  value: "5-10"
  - "Leucociti 0-2 per campo"  value: "0-2"

The key distinction: dipstick "< X" = below detection (use X as value + note), microscopy "X-Y" = actual range (use string)

BIOMARKER NAMING:
- Extract the SPECIFIC biomarker name, NOT the section header
- Do NOT include section prefixes like "U-Esame standard", "S-Elettroforesi", etc. in the biomarker name
- For urinalysis (urine) tests, append "(urine)" to distinguish from serum tests
- Examples:
  - Section "U-Esame standard" with test "Glucosio"  name: "Glucosio (urine)"
  - Section "U-Esame standard" with test "Proteine"  name: "Proteine (urine)"
  - Section "S-Elettroforesi" with test "albumina"  name: "albumina (elettroforesi)" or just "S-Elettroforesi albumina"
  - "Esame morfologico: 5-10 eritrociti per campo"  name: "Eritrociti (urine, per campo)"

QUALITATIVE URINALYSIS VALUES:
Some urinalysis tests have qualitative (text) results. Convert these to numeric values:
- Nitriti/Nitrites: "assenti"/"absent"/"negativi"/"negative"  value: 0, "presenti"/"present"/"positivi"/"positive"  value: 1
- Esterasi leucocitaria/Leukocyte esterase: "assente"/"absent"/"negativa"/"negative"  value: 0, "presente"/"present"/"positiva"/"positive"  value: 1
- For these qualitative tests, use empty string "" as the unit
- Add the original text value in notes (e.g., notes: "assenti (negative)")
- Skip purely descriptive items like Colore (color) and Aspetto (appearance) - these are observations, not measurable biomarkers

Examples:
  - "Nitriti assenti [assenti]"  name: "Nitriti (urine)", value: 0, unit: "", notes: "assenti (negative)"
  - "Esterasi leucocitaria assente [assente]"  name: "Esterasi leucocitaria (urine)", value: 0, unit: "", notes: "assente (negative)"
  - "Glucosio 100 mg/dL"  value: 100
  - "Glucosio < 10 mg/dL" (in U-Esame standard)  name: "Glucosio (urine)", value: 10, notes: "< 10 (below detection)"
  - "Eritrociti 5-10 per campo"  name: "Eritrociti (urine, per campo)", value: "5-10" (microscopy range)
  - "Leucociti 0-2 per campo"  value: "0-2" (microscopy range)

REFERENCE RANGE PARSING:
Reference ranges appear in many formats across languages. Always extract just the numeric low and high values:
- "5-34" or "5 - 34"  { low: 5, high: 34 }
- "Da 5 a 34" (Italian: from 5 to 34)  { low: 5, high: 34 }
- "De 5  34" (French: from 5 to 34)  { low: 5, high: 34 }
- "Von 5 bis 34" (German: from 5 to 34)  { low: 5, high: 34 }
- "< 5.0" or "fino a 5" (up to, for most biomarkers)  { high: 5 }
- "> 5.0" or "oltre 5" (above)  { low: 5 }
- "(5.0 - 34.0)"  { low: 5, high: 34 }
Never include text like "Da", "a", "to", "from" in the numeric values.

IMPORTANT - THRESHOLD REFERENCES (especially for eGFR, kidney function):
When the reference shows "<X: abnormal_description" (e.g., "<60: ridotto", "<60: reduced"), this means values BELOW X are abnormal.
Therefore X is the LOWER limit of normal, not the upper limit:
- "<60: ridotto" (eGFR)  { low: 60 } (normal is 60, no upper limit)
- "<60: insufficienza renale"  { low: 60 }
- ">150: alto" (e.g., triglycerides)  { high: 150 } (normal is 150)
The key is understanding whether the description indicates the abnormal condition (below/above threshold).

CONFIDENCE SCORING:
- 0.9-1.0: Clear, unambiguous value with standard format
- 0.7-0.9: Clear value but unusual format or minor ambiguity
- 0.5-0.7: Value present but some uncertainty about name/unit
- Below 0.5: High uncertainty, may need verification`;function cP(t,e={}){const{additionalInstructions:n,language:r="English",extractPatientInfo:i=!1}=e;let a=`Analyze the following lab report text and extract all biomarker values.

REPORT LANGUAGE: ${r}
EXTRACT PATIENT INFO: ${i?"Yes":"No"}
`;return n&&(a+=`
ADDITIONAL INSTRUCTIONS: ${n}
`),a+=`
LAB REPORT TEXT:
---
${t}
---

Respond with ONLY a valid JSON object, no additional text or explanation.`,a}const OF='Respond with exactly: "OK"',ire=`
COMMON BIOMARKER ALIASES:
- Glucose: Blood Sugar, FBS, Fasting Glucose, Blood Glucose
- Hemoglobin: Hb, Hgb, HGB
- Hematocrit: Hct, HCT
- WBC: White Blood Cells, Leukocytes
- RBC: Red Blood Cells, Erythrocytes
- Platelets: PLT, Thrombocytes
- Total Cholesterol: TC, Cholesterol
- LDL: LDL-C, LDL Cholesterol, Bad Cholesterol
- HDL: HDL-C, HDL Cholesterol, Good Cholesterol
- Triglycerides: TG, Trigs
- TSH: Thyroid Stimulating Hormone, Thyrotropin
- T3: Triiodothyronine
- T4: Thyroxine
- Free T4: FT4
- HbA1c: Hemoglobin A1c, Glycated Hemoglobin, A1C
- Creatinine: Cr, CREA
- BUN: Blood Urea Nitrogen, Urea
- Sodium: Na
- Potassium: K
- Chloride: Cl
- CO2: Carbon Dioxide, Bicarbonate
- Calcium: Ca
- Iron: Fe, Serum Iron
- Ferritin: Ferr
- TIBC: Total Iron Binding Capacity
- Vitamin D: 25-OH Vitamin D, 25-Hydroxyvitamin D
- Vitamin B12: B12, Cobalamin
- ALT: SGPT, Alanine Aminotransferase
- AST: SGOT, Aspartate Aminotransferase
- ALP: Alkaline Phosphatase
- GGT: Gamma-GT, Gamma Glutamyl Transferase
- Bilirubin: Total Bilirubin, TBIL
`,Tb=`${rre}

${ire}`,are=[/^(\d+(?:[.,]\d+)?)\s*[-]\s*(\d+(?:[.,]\d+)?)$/,/^(\d+(?:[.,]\d+)?)\s+to\s+(\d+(?:[.,]\d+)?)$/i,/^(\d+(?:[.,]\d+)?)\s+a\s+(\d+(?:[.,]\d+)?)$/i];function uP(t){if(typeof t=="number")return{value:t,isInterval:!1};const e=String(t).trim();for(const a of are){const o=e.match(a);if(o){const s=parseFloat(o[1].replace(",",".")),c=parseFloat(o[2].replace(",","."));if(!isNaN(s)&&!isNaN(c)&&s<=c)return{value:(s+c)/2,isInterval:!0,intervalLow:s,intervalHigh:c,rawValue:e}}}const n=e.match(/^<\s*(\d+(?:[.,]\d+)?)$/);if(n){const a=parseFloat(n[1].replace(",","."));if(!isNaN(a))return{value:a,isInterval:!1,rawValue:e}}const r=e.match(/^>\s*(\d+(?:[.,]\d+)?)$/);if(r){const a=parseFloat(r[1].replace(",","."));if(!isNaN(a))return{value:a,isInterval:!1,rawValue:e}}const i=parseFloat(e.replace(",","."));return isNaN(i)?{value:0,isInterval:!1,rawValue:e}:{value:i,isInterval:!1}}const ly={model:"gpt-5-mini",maxTokens:4096,temperature:.1,baseUrl:"https://api.openai.com/v1"},ore=16384;class sre{type="openai";name="OpenAI";config;constructor(e){if(!e.apiKey)throw new PF("API key is required","openai");this.config={apiKey:e.apiKey,model:e.model||ly.model,maxTokens:e.maxTokens||ly.maxTokens,temperature:e.temperature??ly.temperature,baseUrl:e.baseUrl||ly.baseUrl}}async analyzeLabReport(e,n={}){const r=performance.now();if(!e||e.trim().length===0)throw new Mn("Lab report text is empty","openai");const i=[{role:"system",content:Tb},{role:"user",content:cP(e,n)}];try{const o=(await this.makeRequest(i)).choices[0]?.message?.content;if(!o)throw new Mn("Empty response from OpenAI","openai");const s=this.parseResponse(o),c=performance.now()-r;return{biomarkers:s.biomarkers,labDate:s.labDate,labName:s.labName,patientName:n.extractPatientInfo?s.patientName:void 0,overallConfidence:this.calculateOverallConfidence(s.biomarkers),analyzedText:e,warnings:s.warnings||[],modelUsed:this.config.model,processingTime:c}}catch(a){throw a instanceof Mn?a:new Mn(`OpenAI analysis failed: ${a instanceof Error?a.message:String(a)}`,"openai")}}async validateConfiguration(){return!(!this.config.apiKey||!this.config.apiKey.startsWith("sk-"))}async testConnection(){try{const e=[{role:"user",content:OF}];return(await this.makeRequest(e,{maxTokens:10})).choices[0]?.message?.content?.trim()==="OK"}catch{return!1}}useMaxCompletionTokens(){const e=this.config.model.toLowerCase();return e.startsWith("gpt-5")||e.startsWith("o1")||e.startsWith("o3")||e.startsWith("o4")}supportsCustomTemperature(){const e=this.config.model.toLowerCase();return!(e.startsWith("gpt-5")||e.startsWith("o1")||e.startsWith("o3")||e.startsWith("o4"))}isReasoningModel(){const e=this.config.model.toLowerCase();return e.startsWith("gpt-5")||e.startsWith("o1")||e.startsWith("o3")||e.startsWith("o4")}async makeRequest(e,n={}){const r=`${this.config.baseUrl}/chat/completions`;let i=n.maxTokens||this.config.maxTokens;!n.maxTokens&&this.isReasoningModel()&&(i=ore);const a={model:this.config.model,messages:e,response_format:{type:"json_object"}};this.supportsCustomTemperature()&&(a.temperature=this.config.temperature),this.useMaxCompletionTokens()?a.max_completion_tokens=i:a.max_tokens=i;const o=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.config.apiKey}`},body:JSON.stringify(a)});if(!o.ok){const s=await o.json().catch(()=>({})),c=s.error?.message||`HTTP ${o.status}`;throw new Mn(`OpenAI API error: ${c}`,"openai",s.error?.code)}return o.json()}parseResponse(e){try{const n=e.match(/\{[\s\S]*\}/);if(!n)throw new Error("No JSON object found in response");const r=JSON.parse(n[0]);return{biomarkers:(r.biomarkers||[]).map(a=>{const o=uP(a.value);return{name:String(a.name||""),value:o.value,unit:String(a.unit||""),referenceRange:a.referenceRange?{low:typeof a.referenceRange.low=="number"?a.referenceRange.low:void 0,high:typeof a.referenceRange.high=="number"?a.referenceRange.high:void 0,unit:String(a.referenceRange.unit||a.unit||"")}:void 0,method:a.method?String(a.method):void 0,confidence:Math.max(0,Math.min(1,Number(a.confidence)||.5)),notes:a.notes?String(a.notes):void 0,flaggedAbnormal:!!a.flaggedAbnormal,isInterval:o.isInterval,intervalLow:o.intervalLow,intervalHigh:o.intervalHigh,rawValue:o.rawValue}}),labDate:r.labDate?String(r.labDate):void 0,labName:r.labName?String(r.labName):void 0,patientName:r.patientName?String(r.patientName):void 0,warnings:Array.isArray(r.warnings)?r.warnings.map(a=>String(a)):[]}}catch(n){throw new Mn(`Failed to parse OpenAI response: ${n instanceof Error?n.message:String(n)}`,"openai")}}calculateOverallConfidence(e){return e.length===0?0:e.reduce((r,i)=>r+i.confidence,0)/e.length}}const cy={model:"claude-sonnet-4-20250514",maxTokens:4096,temperature:.1,baseUrl:"https://api.anthropic.com/v1"};class lre{type="anthropic";name="Anthropic Claude";config;constructor(e){if(!e.apiKey)throw new PF("API key is required","anthropic");this.config={apiKey:e.apiKey,model:e.model||cy.model,maxTokens:e.maxTokens||cy.maxTokens,temperature:e.temperature??cy.temperature,baseUrl:e.baseUrl||cy.baseUrl}}async analyzeLabReport(e,n={}){const r=performance.now();if(!e||e.trim().length===0)throw new Mn("Lab report text is empty","anthropic");const i=[{role:"user",content:cP(e,n)}];try{const o=(await this.makeRequest(i,Tb)).content[0]?.text;if(!o)throw new Mn("Empty response from Anthropic","anthropic");const s=this.parseResponse(o),c=performance.now()-r;return{biomarkers:s.biomarkers,labDate:s.labDate,labName:s.labName,patientName:n.extractPatientInfo?s.patientName:void 0,overallConfidence:this.calculateOverallConfidence(s.biomarkers),analyzedText:e,warnings:s.warnings||[],modelUsed:this.config.model,processingTime:c}}catch(a){throw a instanceof Mn?a:new Mn(`Anthropic analysis failed: ${a instanceof Error?a.message:String(a)}`,"anthropic")}}async validateConfiguration(){return!(!this.config.apiKey||!this.config.apiKey.startsWith("sk-ant-"))}async testConnection(){try{const e=[{role:"user",content:OF}];return(await this.makeRequest(e,"You are a helpful assistant.",{maxTokens:10})).content[0]?.text?.trim()==="OK"}catch{return!1}}async makeRequest(e,n,r={}){const i=`${this.config.baseUrl}/messages`,a=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.config.apiKey,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:this.config.model,system:n,messages:e,max_tokens:r.maxTokens||this.config.maxTokens,temperature:this.config.temperature})});if(!a.ok){const o=await a.json().catch(()=>({})),s=o.error?.message||`HTTP ${a.status}`;throw new Mn(`Anthropic API error: ${s}`,"anthropic",o.error?.type)}return a.json()}parseResponse(e){try{const n=e.match(/\{[\s\S]*\}/);if(!n)throw new Error("No JSON object found in response");const r=JSON.parse(n[0]);return{biomarkers:(r.biomarkers||[]).map(a=>{const o=uP(a.value);return{name:String(a.name||""),value:o.value,unit:String(a.unit||""),referenceRange:a.referenceRange?{low:typeof a.referenceRange.low=="number"?a.referenceRange.low:void 0,high:typeof a.referenceRange.high=="number"?a.referenceRange.high:void 0,unit:String(a.referenceRange.unit||a.unit||"")}:void 0,method:a.method?String(a.method):void 0,confidence:Math.max(0,Math.min(1,Number(a.confidence)||.5)),notes:a.notes?String(a.notes):void 0,flaggedAbnormal:!!a.flaggedAbnormal,isInterval:o.isInterval,intervalLow:o.intervalLow,intervalHigh:o.intervalHigh,rawValue:o.rawValue}}),labDate:r.labDate?String(r.labDate):void 0,labName:r.labName?String(r.labName):void 0,patientName:r.patientName?String(r.patientName):void 0,warnings:Array.isArray(r.warnings)?r.warnings.map(a=>String(a)):[]}}catch(n){throw new Mn(`Failed to parse Anthropic response: ${n instanceof Error?n.message:String(n)}`,"anthropic")}}calculateOverallConfidence(e){return e.length===0?0:e.reduce((r,i)=>r+i.confidence,0)/e.length}}const Gu={baseUrl:"http://localhost:11434",timeout:6e5,temperature:.1,maxTokens:4096},cre=["llama3.2:8b","llama3.1:8b","qwen2.5:7b","mistral:7b","llama3.2:3b","llama3.1:3b","mixtral:8x7b","llama2:13b","llama2:7b"],DF=["llama3.2-vision:11b","llama3.2-vision:90b","llava:13b","llava:34b","llava-llama3:8b","bakllava:7b","moondream:1.8b"];function dP(t){const e=t.toLowerCase();return DF.some(n=>e.startsWith(n.split(":")[0]))||e.includes("vision")||e.includes("llava")}async function Nm(t=Gu.baseUrl,e=5e3){try{const n=new AbortController,r=setTimeout(()=>n.abort(),e),i=await fetch(`${t}/api/tags`,{method:"GET",signal:n.signal});return clearTimeout(r),i.ok}catch{return!1}}async function ure(t=Gu.baseUrl,e=5e3){try{const n=new AbortController,r=setTimeout(()=>n.abort(),e),i=await fetch(`${t}/api/tags`,{method:"GET",signal:n.signal});return clearTimeout(r),i.ok?(await i.json()).models||[]:[]}catch{return[]}}async function vl(t=Gu.baseUrl,e=5e3){return(await ure(t,e)).map(r=>r.name)}function eL(t){for(const n of cre){const r=t.find(i=>{const a=n.split(":")[0];return i===n||i.startsWith(`${a}:`)});if(r)return r}return t.filter(n=>!dP(n))[0]}function rA(t){for(const e of DF){const n=t.find(r=>{const i=e.split(":")[0];return r===e||r.startsWith(`${i}:`)});if(n)return n}return t.find(e=>dP(e))}async function dre(t){try{const e=await t.json();if(typeof e=="object"&&e!==null&&"error"in e)return String(e.error)}catch{}return`HTTP ${t.status}: ${t.statusText}`}const fre=[{pattern:/^UL$/i,replacement:"U/L"},{pattern:/^U\/L$/i,replacement:"U/L"},{pattern:/^IU\/L$/i,replacement:"IU/L"},{pattern:/^mg\/dL$/i,replacement:"mg/dL"},{pattern:/^mmol\/L$/i,replacement:"mmol/L"},{pattern:/^mEq\/L$/i,replacement:"mEq/L"},{pattern:/^mIU\/L$/i,replacement:"mIU/L"},{pattern:/^ng\/mL$/i,replacement:"ng/mL"},{pattern:/^pg\/mL$/i,replacement:"pg/mL"},{pattern:/^g\/dL$/i,replacement:"g/dL"},{pattern:/^g\/dL$/i,replacement:"g/dL"},{pattern:/^g\/L$/i,replacement:"g/L"}];function hre(t){if(!t)return{unit:""};let e=t.trim(),n;const r=/^([A-Za-z/]+)\s*Da\s*(\d+(?:[.,]\d+)?)\s*a\s*(\d+(?:[.,]\d+)?)/i,i=e.match(r);i&&(e=i[1],n={low:parseFloat(i[2].replace(",",".")),high:parseFloat(i[3].replace(",","."))});const a=/^([A-Za-z/%^0-9]+)\s*\((\d+(?:[.,]\d+)?)\s*[-]\s*(\d+(?:[.,]\d+)?)\)/,o=e.match(a);o&&!n&&(e=o[1].trim(),n={low:parseFloat(o[2].replace(",",".")),high:parseFloat(o[3].replace(",","."))});const s=/^([A-Za-z/%^0-9]+)\s+(\d+(?:[.,]\d+)?)\s*[-]\s*(\d+(?:[.,]\d+)?)\s*$/,c=e.match(s);c&&!n&&(e=c[1].trim(),n={low:parseFloat(c[2].replace(",",".")),high:parseFloat(c[3].replace(",","."))});const d=/^([<>])\s*(\d+(?:[.,]\d+)?)\s+([A-Za-z/%^0-9]+)$/,f=e.match(d);if(f&&!n){const v=parseFloat(f[2].replace(",","."));e=f[3].trim(),n=f[1]==="<"?{high:v}:{low:v}}for(const{pattern:v,replacement:b}of fre)if(v.test(e)){e=b;break}const h=/^([A-Za-z/%^0-9]+)\s+(fino\s+a|oltre)\s+(\d+(?:[.,]\d+)?)/i,m=e.match(h);if(m&&!n){e=m[1].trim();const v=parseFloat(m[3].replace(",","."));n=m[2].toLowerCase().includes("fino")?{high:v}:{low:v}}return{unit:e,extractedRange:n}}class pre{type="ollama";name="Ollama (Local)";baseUrl;model;visionModel;enableVision;timeout;temperature;maxTokens;constructor(e={}){this.baseUrl=e.baseUrl||Gu.baseUrl,this.model=e.model||"llama3.2:8b",this.visionModel=e.visionModel,this.enableVision=e.enableVision??!0,this.timeout=e.timeout||Gu.timeout,this.temperature=e.temperature??Gu.temperature,this.maxTokens=e.maxTokens||Gu.maxTokens}async analyzeLabReport(e,n={}){const r=performance.now();if(!e||e.trim().length===0)throw new Mn("Lab report text is empty","ollama");const i=await this.ensureModel(),a=[{role:"system",content:Tb},{role:"user",content:cP(e,n)}];try{const s=(await this.makeChatRequest(a,i)).choices[0]?.message?.content;if(!s)throw new Mn("Empty response from Ollama","ollama");const c=this.parseResponse(s),d=performance.now()-r;return{biomarkers:c.biomarkers,labDate:c.labDate,labName:c.labName,patientName:n.extractPatientInfo?c.patientName:void 0,overallConfidence:this.calculateOverallConfidence(c.biomarkers),analyzedText:e,warnings:c.warnings||[],modelUsed:i,processingTime:d}}catch(o){throw o instanceof Mn?o:new Mn(`Ollama analysis failed: ${o instanceof Error?o.message:String(o)}`,"ollama")}}async analyzeImage(e,n,r={}){const i=performance.now();if(!e)throw new Mn("Image data is empty","ollama");const a=await this.ensureVisionModel();if(!a)throw new Mn("No vision model available. Install a vision model like llava:13b or llama3.2-vision:11b","ollama");const o=[{type:"text",text:this.createVisionPrompt(r)},{type:"image_url",image_url:{url:`data:${n};base64,${e}`}}],s=[{role:"system",content:Tb},{role:"user",content:o}];try{const d=(await this.makeChatRequest(s,a)).choices[0]?.message?.content;if(!d)throw new Mn("Empty response from Ollama vision model","ollama");const f=this.parseResponse(d),h=performance.now()-i;return{biomarkers:f.biomarkers,labDate:f.labDate,labName:f.labName,patientName:r.extractPatientInfo?f.patientName:void 0,overallConfidence:this.calculateOverallConfidence(f.biomarkers),analyzedText:"[Image analysis - no text extracted]",warnings:f.warnings||[],modelUsed:a,processingTime:h}}catch(c){throw c instanceof Mn?c:new Mn(`Ollama vision analysis failed: ${c instanceof Error?c.message:String(c)}`,"ollama")}}supportsVision(){return this.enableVision&&this.visionModel!==void 0}async validateConfiguration(){return await Nm(this.baseUrl)?(await vl(this.baseUrl)).length>0:!1}async testConnection(){return Nm(this.baseUrl,5e3)}async getAvailableModels(){return vl(this.baseUrl)}async isVisionModelAvailable(){const e=await vl(this.baseUrl);return rA(e)!==void 0}getModel(){return this.model}getVisionModel(){return this.visionModel}setModel(e){this.model=e}setVisionModel(e){this.visionModel=e}async autoConfigureModels(){const e=await vl(this.baseUrl),n=eL(e),r=this.enableVision?rA(e):void 0;return n&&(this.model=n),r&&(this.visionModel=r),{textModel:n,visionModel:r}}async ensureModel(){const e=await vl(this.baseUrl);if(e.length===0)throw new Mn("No models available in Ollama. Please install a model (e.g., ollama pull llama3.2:8b)","ollama");if(e.includes(this.model))return this.model;const n=eL(e);if(n)return this.model=n,n;const r=e.find(i=>!dP(i));if(r)return this.model=r,r;throw new Mn(`Configured model "${this.model}" not found and no suitable alternative available`,"ollama")}async ensureVisionModel(){if(!this.enableVision)return;const e=await vl(this.baseUrl);if(this.visionModel&&e.includes(this.visionModel))return this.visionModel;const n=rA(e);if(n)return this.visionModel=n,n}async makeChatRequest(e,n){const r=new AbortController,i=setTimeout(()=>r.abort(),this.timeout);try{const a=`${this.baseUrl}/v1/chat/completions`,o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:n,messages:e,max_tokens:this.maxTokens,temperature:this.temperature,stream:!1}),signal:r.signal});if(clearTimeout(i),!o.ok){const s=await dre(o);throw new Mn(`Ollama API error: ${s}`,"ollama")}return o.json()}catch(a){throw clearTimeout(i),a instanceof Mn?a:a instanceof Error&&a.name==="AbortError"?new Mn(`Ollama request timed out after ${this.timeout/1e3} seconds. Try a smaller model or increase timeout.`,"ollama"):new Mn(`Failed to connect to Ollama: ${a instanceof Error?a.message:String(a)}`,"ollama")}}createVisionPrompt(e={}){const{language:n="English",extractPatientInfo:r=!1}=e;let i=`Analyze this lab report image and extract all biomarker values.

REPORT LANGUAGE: ${n}
EXTRACT PATIENT INFO: ${r?"Yes":"No"}

Extract the following information:
- All biomarker names and their numeric values
- Units of measurement
- Reference ranges when shown
- Lab date and laboratory name if visible
- Any abnormal flags (High, Low, H, L, etc.)

Respond with ONLY a valid JSON object containing:
- biomarkers: Array of {name, value, unit, referenceRange?, confidence, notes?, flaggedAbnormal?}
- labDate: Date string if found
- labName: Laboratory name if found
- warnings: Array of any issues or uncertainties`;return e.additionalInstructions&&(i+=`

ADDITIONAL INSTRUCTIONS: ${e.additionalInstructions}`),i}parseResponse(e){try{const r=e.replace(/^```(?:json)?\s*\n?/gm,"").replace(/\n?```\s*$/gm,"").trim().match(/\{[\s\S]*\}/);if(!r)throw new Error("No JSON object found in response");let i=r[0];i=i.replace(/([{,]\s*)(\w+)(\s*:)/g,'$1"$2"$3');const a=JSON.parse(i);return{biomarkers:(a.biomarkers||[]).map(s=>{const c=String(s.unit||""),{unit:d,extractedRange:f}=hre(c),h=s.referenceRange,m=typeof h?.low=="number"?h.low:void 0,v=typeof h?.high=="number"?h.high:void 0,b=m??f?.low,x=v??f?.high,S=b!==void 0||x!==void 0,A=uP(s.value);return{name:String(s.name||""),value:A.value,unit:d,referenceRange:S?{low:b,high:x,unit:String(h?.unit||d||"")}:void 0,method:s.method?String(s.method):void 0,confidence:Math.max(0,Math.min(1,Number(s.confidence)||.5)),notes:s.notes?String(s.notes):void 0,flaggedAbnormal:!!s.flaggedAbnormal,isInterval:A.isInterval,intervalLow:A.intervalLow,intervalHigh:A.intervalHigh,rawValue:A.rawValue}}),labDate:a.labDate?String(a.labDate):void 0,labName:a.labName?String(a.labName):void 0,patientName:a.patientName?String(a.patientName):void 0,warnings:Array.isArray(a.warnings)?a.warnings.map(s=>String(s)):[]}}catch(n){throw new Mn(`Failed to parse Ollama response: ${n instanceof Error?n.message:String(n)}`,"ollama")}}calculateOverallConfidence(e){return e.length===0?0:e.reduce((r,i)=>r+i.confidence,0)/e.length}}const tL=new Map;function mre(t,e){return t==="ollama"?`${t}:${e.baseUrl||"localhost"}:${e.model||"default"}`:`${t}:${e.apiKey||""}:${e.model||"default"}`}function gre(t,e){const n=mre(t,e),r=tL.get(n);if(r)return r;let i;switch(t){case"openai":i=new sre(e);break;case"anthropic":i=new lre(e);break;case"ollama":i=new pre(e);break;default:throw new Error(`Unknown AI provider type: ${t}`)}return tL.set(n,i),i}let iA=null,nL=null;const vre=[/realtime/i,/audio/i,/whisper/i,/tts/i,/dall-e/i,/embedding/i,/davinci/i,/curie/i,/babbage/i,/ada/i,/moderation/i,/instruct/i,/transcribe/i,/sora/i,/image/i,/search/i,/codex/i];function yre(t){return t.startsWith("gpt-")||t.startsWith("o1")||t.startsWith("o3")||t.startsWith("o4")||t==="chatgpt-4o-latest"?!vre.some(r=>r.test(t)):!1}async function bre(t,e="https://api.openai.com/v1",n=1e4){if(!t)return[];if(iA&&nL===t)return iA;try{const r=new AbortController,i=setTimeout(()=>r.abort(),n),a=await fetch(`${e}/models`,{method:"GET",headers:{Authorization:`Bearer ${t}`},signal:r.signal});if(clearTimeout(i),!a.ok)return console.warn("Failed to fetch OpenAI models:",a.status),[];const s=(await a.json()).data.filter(c=>yre(c.id)).map(c=>({value:c.id,label:c.id})).sort((c,d)=>c.value.localeCompare(d.value));return iA=s,nL=t,s}catch(r){return console.warn("Error fetching OpenAI models:",r),[]}}let aA=null,rL=null;const xre=[/instant/i];function wre(t){return t.startsWith("claude")?!xre.some(n=>n.test(t)):!1}async function Sre(t,e=1e4){if(!t)return[];if(aA&&rL===t)return aA;try{const n=new AbortController,r=setTimeout(()=>n.abort(),e),i=await fetch("https://api.anthropic.com/v1/models",{method:"GET",headers:{"x-api-key":t,"anthropic-version":"2023-06-01"},signal:n.signal});if(clearTimeout(r),!i.ok)return console.warn("Failed to fetch Anthropic models:",i.status),[];const o=(await i.json()).data.filter(s=>wre(s.id)).map(s=>({value:s.id,label:s.id})).sort((s,c)=>s.value.localeCompare(c.value));return aA=o,rL=t,o}catch(n){return console.warn("Error fetching Anthropic models:",n),[]}}function MF(){if(typeof window>"u")return!0;const t=window.location.hostname;return t==="localhost"||t==="127.0.0.1"||t==="[::1]"||t.endsWith(".localhost")}function kb(){return typeof window>"u"?"":window.location.origin}function Are({aiProvider:t,apiKey:e,ollamaModel:n,onProviderChange:r,onApiKeyChange:i,onOllamaModelChange:a}){const[o,s]=w.useState(!1),[c,d]=w.useState("checking"),[f,h]=w.useState([]),m=[{value:"openai",label:"OpenAI (GPT-5)",keyPlaceholder:"sk-...",docsUrl:"https://platform.openai.com/api-keys",requiresApiKey:!0,isLocal:!1},{value:"anthropic",label:"Anthropic (Claude)",keyPlaceholder:"sk-ant-...",docsUrl:"https://console.anthropic.com/settings/keys",requiresApiKey:!0,isLocal:!1},{value:"ollama",label:"Ollama (Local)",requiresApiKey:!1,isLocal:!0}],v=m.find(x=>x.value===t);w.useEffect(()=>{if(t!=="ollama")return;let x=!1;return(async()=>{d("checking");try{const A=await Nm();if(x)return;if(A){const T=await vl();if(x)return;h(T),d("connected"),T.length>0&&!n&&a&&a(T[0])}else d("disconnected"),h([])}catch{x||(d("disconnected"),h([]))}})(),()=>{x=!0}},[t,n,a]);const b=()=>{switch(c){case"checking":return g.jsxs(Be,{gap:"xs",children:[g.jsx(Ri,{size:"xs"}),g.jsx(ce,{size:"sm",c:"dimmed",children:"Checking Ollama connection..."})]});case"connected":return g.jsxs(Be,{gap:"xs",children:[g.jsx(fn,{color:"green",leftSection:g.jsx($n,{size:12}),children:"Ollama connected"}),g.jsxs(ce,{size:"sm",c:"dimmed",children:[f.length," model",f.length!==1?"s":""," available"]})]});case"disconnected":return g.jsxs(Kt,{variant:"light",color:"yellow",icon:g.jsx(fd,{size:16}),title:"Ollama not detected",children:[g.jsxs(ce,{size:"sm",children:["Make sure Ollama is running. Start it with:"," ",g.jsx("code",{children:"ollama serve"})]}),g.jsxs(ce,{size:"sm",mt:"xs",children:["If you don't have Ollama installed, visit"," ",g.jsx(dh,{href:"https://ollama.com",target:"_blank",rel:"noopener noreferrer",children:"ollama.com"})]})]})}};return g.jsxs(it,{gap:"lg",children:[g.jsx(ce,{size:"sm",c:"dimmed",children:"HemoIO uses AI to automatically extract values from lab report documents. Configure your AI provider to enable this feature. You can skip this step and add it later in settings."}),g.jsx(Kt,{variant:"light",color:"blue",icon:g.jsx(iP,{size:16}),title:"API Key Security",children:"Your API key will be encrypted with your password before being stored. It never leaves your device unencrypted."}),g.jsx(qo,{label:"AI Provider",placeholder:"Select an AI provider",data:m.map(x=>({value:x.value,label:x.label})),value:t,onChange:x=>r(x),clearable:!0,"aria-describedby":"ai-provider-description",leftSection:t==="ollama"?g.jsx(Eb,{size:16}):void 0}),t==="ollama"&&g.jsxs(it,{gap:"md",children:[b(),g.jsx(Kt,{variant:"light",color:"green",icon:g.jsx(Eb,{size:16}),children:g.jsxs(ce,{size:"sm",children:[g.jsx("strong",{children:"No API key required."})," Ollama runs AI models locally on your device, so your health data never leaves your computer."]})}),!MF()&&g.jsxs(Kt,{variant:"light",color:"orange",icon:g.jsx(fd,{size:16}),title:"CORS Configuration Required",children:[g.jsxs(ce,{size:"sm",children:["Since HemoIO is running from ",g.jsx("code",{children:kb()}),", your browser will block requests to Ollama on localhost due to CORS restrictions."]}),g.jsx(ce,{size:"sm",mt:"xs",fw:500,children:"To use Ollama, choose one of these options:"}),g.jsxs(ce,{size:"sm",component:"div",mt:"xs",children:[g.jsx("strong",{children:"Option 1:"})," Run HemoIO locally instead:",g.jsxs("pre",{style:{margin:"4px 0",padding:"8px",background:"var(--mantine-color-dark-7)",color:"var(--mantine-color-gray-3)",borderRadius:"4px",overflow:"auto"},children:["git clone https://github.com/djonasson/HemoIO",`
`,"npm install && npm run dev"]})]}),g.jsxs(ce,{size:"sm",component:"div",mt:"xs",children:[g.jsx("strong",{children:"Option 2:"})," Configure Ollama to allow this origin:",g.jsxs("pre",{style:{margin:"4px 0",padding:"8px",background:"var(--mantine-color-dark-7)",color:"var(--mantine-color-gray-3)",borderRadius:"4px",overflow:"auto"},children:["OLLAMA_ORIGINS=",kb()," ollama serve"]})]})]}),c==="connected"&&f.length>0&&g.jsx(qo,{label:"Model",placeholder:"Select a model",data:f.map(x=>({value:x,label:x})),value:n,onChange:x=>x&&a?.(x),description:"Choose which Ollama model to use for lab report analysis"})]}),t&&v?.requiresApiKey&&g.jsx(g.Fragment,{children:g.jsx(Ds,{label:"API Key",placeholder:v?.keyPlaceholder??"Enter your API key",value:e,onChange:x=>i(x.target.value),visible:o,onVisibilityChange:s,description:v?.docsUrl&&g.jsxs(g.Fragment,{children:["Get your API key from"," ",g.jsxs(dh,{href:v.docsUrl,target:"_blank",rel:"noopener noreferrer",size:"sm",children:[t==="openai"?"OpenAI":"Anthropic"," Console"]})]})})}),g.jsx(ce,{size:"xs",c:"dimmed",id:"ai-provider-description",children:"Without an AI provider configured, you can still use HemoIO by manually entering your lab values. AI extraction can be configured later in settings."})]})}var Zy={exports:{}},Cre=Zy.exports,iL;function _re(){return iL||(iL=1,(function(t,e){((n,r)=>{t.exports=r()})(Cre,function(){var n=function(C,O){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(j,I){j.__proto__=I}:function(j,I){for(var H in I)Object.prototype.hasOwnProperty.call(I,H)&&(j[H]=I[H])}))(C,O)},r=function(){return(r=Object.assign||function(C){for(var O,j=1,I=arguments.length;j<I;j++)for(var H in O=arguments[j])Object.prototype.hasOwnProperty.call(O,H)&&(C[H]=O[H]);return C}).apply(this,arguments)};function i(C,O,j){for(var I,H=0,Z=O.length;H<Z;H++)!I&&H in O||((I=I||Array.prototype.slice.call(O,0,H))[H]=O[H]);return C.concat(I||Array.prototype.slice.call(O))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Aq,o=Object.keys,s=Array.isArray;function c(C,O){return typeof O=="object"&&o(O).forEach(function(j){C[j]=O[j]}),C}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var d=Object.getPrototypeOf,f={}.hasOwnProperty;function h(C,O){return f.call(C,O)}function m(C,O){typeof O=="function"&&(O=O(d(C))),(typeof Reflect>"u"?o:Reflect.ownKeys)(O).forEach(function(j){b(C,j,O[j])})}var v=Object.defineProperty;function b(C,O,j,I){v(C,O,c(j&&h(j,"get")&&typeof j.get=="function"?{get:j.get,set:j.set,configurable:!0}:{value:j,configurable:!0,writable:!0},I))}function x(C){return{from:function(O){return C.prototype=Object.create(O.prototype),b(C.prototype,"constructor",C),{extend:m.bind(null,C.prototype)}}}}var S=Object.getOwnPropertyDescriptor,A=[].slice;function T(C,O,j){return A.call(C,O,j)}function E(C,O){return O(C)}function k(C){if(!C)throw new Error("Assertion Failed")}function D(C){a.setImmediate?setImmediate(C):setTimeout(C,0)}function M(C,O){if(typeof O=="string"&&h(C,O))return C[O];if(!O)return C;if(typeof O!="string"){for(var j=[],I=0,H=O.length;I<H;++I){var Z=M(C,O[I]);j.push(Z)}return j}var ee,re=O.indexOf(".");return re===-1||(ee=C[O.substr(0,re)])==null?void 0:M(ee,O.substr(re+1))}function R(C,O,j){if(C&&O!==void 0&&!("isFrozen"in Object&&Object.isFrozen(C)))if(typeof O!="string"&&"length"in O){k(typeof j!="string"&&"length"in j);for(var I=0,H=O.length;I<H;++I)R(C,O[I],j[I])}else{var Z,ee,re=O.indexOf(".");re!==-1?(Z=O.substr(0,re),(re=O.substr(re+1))===""?j===void 0?s(C)&&!isNaN(parseInt(Z))?C.splice(Z,1):delete C[Z]:C[Z]=j:R(ee=(ee=C[Z])&&h(C,Z)?ee:C[Z]={},re,j)):j===void 0?s(C)&&!isNaN(parseInt(O))?C.splice(O,1):delete C[O]:C[O]=j}}function N(C){var O,j={};for(O in C)h(C,O)&&(j[O]=C[O]);return j}var z=[].concat;function q(C){return z.apply([],C)}var X="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(q([8,16,32,64].map(function(C){return["Int","Uint","Float"].map(function(O){return O+C+"Array"})}))).filter(function(C){return a[C]}),Y=new Set(X.map(function(C){return a[C]})),K=null;function te(C){return K=new WeakMap,C=(function O(j){if(!j||typeof j!="object")return j;var I=K.get(j);if(I)return I;if(s(j)){I=[],K.set(j,I);for(var H=0,Z=j.length;H<Z;++H)I.push(O(j[H]))}else if(Y.has(j.constructor))I=j;else{var ee,re=d(j);for(ee in I=re===Object.prototype?{}:Object.create(re),K.set(j,I),j)h(j,ee)&&(I[ee]=O(j[ee]))}return I})(C),K=null,C}var W={}.toString;function J(C){return W.call(C).slice(8,-1)}var L=typeof Symbol<"u"?Symbol.iterator:"@@iterator",U=typeof L=="symbol"?function(C){var O;return C!=null&&(O=C[L])&&O.apply(C)}:function(){return null};function F(C,O){O=C.indexOf(O),0<=O&&C.splice(O,1)}var V={};function G(C){var O,j,I,H;if(arguments.length===1){if(s(C))return C.slice();if(this===V&&typeof C=="string")return[C];if(H=U(C))for(j=[];!(I=H.next()).done;)j.push(I.value);else{if(C==null)return[C];if(typeof(O=C.length)!="number")return[C];for(j=new Array(O);O--;)j[O]=C[O]}}else for(O=arguments.length,j=new Array(O);O--;)j[O]=arguments[O];return j}var $=typeof Symbol<"u"?function(C){return C[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},X=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ge=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(X),ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ae(C,O){this.name=C,this.message=O}function oe(C,O){return C+". Errors: "+Object.keys(O).map(function(j){return O[j].toString()}).filter(function(j,I,H){return H.indexOf(j)===I}).join(`
`)}function xe(C,O,j,I){this.failures=O,this.failedKeys=I,this.successCount=j,this.message=oe(C,O)}function be(C,O){this.name="BulkError",this.failures=Object.keys(O).map(function(j){return O[j]}),this.failuresByPos=O,this.message=oe(C,this.failures)}x(ae).from(Error).extend({toString:function(){return this.name+": "+this.message}}),x(xe).from(ae),x(be).from(ae);var ze=Ge.reduce(function(C,O){return C[O]=O+"Error",C},{}),ie=ae,se=Ge.reduce(function(C,O){var j=O+"Error";function I(H,Z){this.name=j,H?typeof H=="string"?(this.message="".concat(H).concat(Z?`
 `+Z:""),this.inner=Z||null):typeof H=="object"&&(this.message="".concat(H.name," ").concat(H.message),this.inner=H):(this.message=ne[O]||j,this.inner=null)}return x(I).from(ie),C[O]=I,C},{}),je=(se.Syntax=SyntaxError,se.Type=TypeError,se.Range=RangeError,X.reduce(function(C,O){return C[O+"Error"]=se[O],C},{}));X=Ge.reduce(function(C,O){return["Syntax","Type","Range"].indexOf(O)===-1&&(C[O+"Error"]=se[O]),C},{});function ue(){}function Ve(C){return C}function Le(C,O){return C==null||C===Ve?O:function(j){return O(C(j))}}function ct(C,O){return function(){C.apply(this,arguments),O.apply(this,arguments)}}function Qe(C,O){return C===ue?O:function(){var j=C.apply(this,arguments),I=(j!==void 0&&(arguments[0]=j),this.onsuccess),H=this.onerror,Z=(this.onsuccess=null,this.onerror=null,O.apply(this,arguments));return I&&(this.onsuccess=this.onsuccess?ct(I,this.onsuccess):I),H&&(this.onerror=this.onerror?ct(H,this.onerror):H),Z!==void 0?Z:j}}function He(C,O){return C===ue?O:function(){C.apply(this,arguments);var j=this.onsuccess,I=this.onerror;this.onsuccess=this.onerror=null,O.apply(this,arguments),j&&(this.onsuccess=this.onsuccess?ct(j,this.onsuccess):j),I&&(this.onerror=this.onerror?ct(I,this.onerror):I)}}function We(C,O){return C===ue?O:function(H){var I=C.apply(this,arguments),H=(c(H,I),this.onsuccess),Z=this.onerror,ee=(this.onsuccess=null,this.onerror=null,O.apply(this,arguments));return H&&(this.onsuccess=this.onsuccess?ct(H,this.onsuccess):H),Z&&(this.onerror=this.onerror?ct(Z,this.onerror):Z),I===void 0?ee===void 0?void 0:ee:c(I,ee)}}function nt(C,O){return C===ue?O:function(){return O.apply(this,arguments)!==!1&&C.apply(this,arguments)}}function Je(C,O){return C===ue?O:function(){var j=C.apply(this,arguments);if(j&&typeof j.then=="function"){for(var I=this,H=arguments.length,Z=new Array(H);H--;)Z[H]=arguments[H];return j.then(function(){return O.apply(I,Z)})}return O.apply(this,arguments)}}X.ModifyError=xe,X.DexieError=ae,X.BulkError=be;var wt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ft(C){wt=C}var vt={},$e=100,at=typeof Promise>"u"?[]:(Ge=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[at=crypto.subtle.digest("SHA-512",new Uint8Array([0])),d(at),Ge]:[Ge,d(Ge),Ge]),Ge=at[0],Qs=at[1],Qs=Qs&&Qs.then,qe=Ge&&Ge.constructor,Jt=!!at[2],yn=function(C,O){gr.push([C,O]),En&&(queueMicrotask(Pn),En=!1)},Ht=!0,En=!0,Gt=[],Xn=[],bn=Ve,Nt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ue,pgp:!1,env:{},finalize:ue},et=Nt,gr=[],xn=0,Jr=[];function tt(C){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var O=this._PSD=et;if(typeof C!="function"){if(C!==vt)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Tn(this,this._value)}else this._state=null,this._value=null,++O.ref,(function j(I,H){try{H(function(Z){if(I._state===null){if(Z===I)throw new TypeError("A promise cannot be resolved with itself.");var ee=I._lib&&Ur();Z&&typeof Z.then=="function"?j(I,function(re,fe){Z instanceof tt?Z._then(re,fe):Z.then(re,fe)}):(I._state=!0,I._value=Z,ha(I)),ee&&hn()}},Tn.bind(null,I))}catch(Z){Tn(I,Z)}})(this,C)}var un={get:function(){var C=et,O=Da;function j(I,H){var Z=this,ee=!C.global&&(C!==et||O!==Da),re=ee&&!Pr(),fe=new tt(function(Se,he){ei(Z,new ur(yi(I,C,ee,re),yi(H,C,ee,re),Se,he,C))});return this._consoleTask&&(fe._consoleTask=this._consoleTask),fe}return j.prototype=vt,j},set:function(C){b(this,"then",C&&C.prototype===vt?un:{get:function(){return C},set:un.set})}};function ur(C,O,j,I,H){this.onFulfilled=typeof C=="function"?C:null,this.onRejected=typeof O=="function"?O:null,this.resolve=j,this.reject=I,this.psd=H}function Tn(C,O){var j,I;Xn.push(O),C._state===null&&(j=C._lib&&Ur(),O=bn(O),C._state=!1,C._value=O,I=C,Gt.some(function(H){return H._value===I._value})||Gt.push(I),ha(C),j)&&hn()}function ha(C){var O=C._listeners;C._listeners=[];for(var j=0,I=O.length;j<I;++j)ei(C,O[j]);var H=C._PSD;--H.ref||H.finalize(),xn===0&&(++xn,yn(function(){--xn==0&&Xa()},[]))}function ei(C,O){if(C._state===null)C._listeners.push(O);else{var j=C._state?O.onFulfilled:O.onRejected;if(j===null)return(C._state?O.resolve:O.reject)(C._value);++O.psd.ref,++xn,yn(Oa,[j,C,O])}}function Oa(C,O,j){try{var I,H=O._value;!O._state&&Xn.length&&(Xn=[]),I=wt&&O._consoleTask?O._consoleTask.run(function(){return C(H)}):C(H),O._state||Xn.indexOf(H)!==-1||(Z=>{for(var ee=Gt.length;ee;)if(Gt[--ee]._value===Z._value)return Gt.splice(ee,1)})(O),j.resolve(I)}catch(Z){j.reject(Z)}finally{--xn==0&&Xa(),--j.psd.ref||j.psd.finalize()}}function Pn(){jn(Nt,function(){Ur()&&hn()})}function Ur(){var C=Ht;return En=Ht=!1,C}function hn(){var C,O,j;do for(;0<gr.length;)for(C=gr,gr=[],j=C.length,O=0;O<j;++O){var I=C[O];I[0].apply(null,I[1])}while(0<gr.length);En=Ht=!0}function Xa(){for(var C=Gt,O=(Gt=[],C.forEach(function(I){I._PSD.onunhandled.call(null,I._value,I)}),Jr.slice(0)),j=O.length;j;)O[--j]()}function Za(C){return new tt(vt,!1,C)}function lt(C,O){var j=et;return function(){var I=Ur(),H=et;try{return pa(j,!0),C.apply(this,arguments)}catch(Z){O&&O(Z)}finally{pa(H,!1),I&&hn()}}}m(tt.prototype,{then:un,_then:function(C,O){ei(this,new ur(null,null,C,O,et))},catch:function(C){var O,j;return arguments.length===1?this.then(null,C):(O=C,j=arguments[1],typeof O=="function"?this.then(null,function(I){return(I instanceof O?j:Za)(I)}):this.then(null,function(I){return(I&&I.name===O?j:Za)(I)}))},finally:function(C){return this.then(function(O){return tt.resolve(C()).then(function(){return O})},function(O){return tt.resolve(C()).then(function(){return Za(O)})})},timeout:function(C,O){var j=this;return C<1/0?new tt(function(I,H){var Z=setTimeout(function(){return H(new se.Timeout(O))},C);j.then(I,H).finally(clearTimeout.bind(null,Z))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(tt.prototype,Symbol.toStringTag,"Dexie.Promise"),Nt.env=It(),m(tt,{all:function(){var C=G.apply(null,arguments).map(Qa);return new tt(function(O,j){C.length===0&&O([]);var I=C.length;C.forEach(function(H,Z){return tt.resolve(H).then(function(ee){C[Z]=ee,--I||O(C)},j)})})},resolve:function(C){return C instanceof tt?C:C&&typeof C.then=="function"?new tt(function(O,j){C.then(O,j)}):new tt(vt,!0,C)},reject:Za,race:function(){var C=G.apply(null,arguments).map(Qa);return new tt(function(O,j){C.map(function(I){return tt.resolve(I).then(O,j)})})},PSD:{get:function(){return et},set:function(C){return et=C}},totalEchoes:{get:function(){return Da}},newPSD:dn,usePSD:jn,scheduler:{get:function(){return yn},set:function(C){yn=C}},rejectionMapper:{get:function(){return bn},set:function(C){bn=C}},follow:function(C,O){return new tt(function(j,I){return dn(function(H,Z){var ee=et;ee.unhandleds=[],ee.onunhandled=Z,ee.finalize=ct(function(){var re,fe=this;re=function(){fe.unhandleds.length===0?H():Z(fe.unhandleds[0])},Jr.push(function Se(){re(),Jr.splice(Jr.indexOf(Se),1)}),++xn,yn(function(){--xn==0&&Xa()},[])},ee.finalize),C()},O,j,I)})}}),qe&&(qe.allSettled&&b(tt,"allSettled",function(){var C=G.apply(null,arguments).map(Qa);return new tt(function(O){C.length===0&&O([]);var j=C.length,I=new Array(j);C.forEach(function(H,Z){return tt.resolve(H).then(function(ee){return I[Z]={status:"fulfilled",value:ee}},function(ee){return I[Z]={status:"rejected",reason:ee}}).then(function(){return--j||O(I)})})})}),qe.any&&typeof AggregateError<"u"&&b(tt,"any",function(){var C=G.apply(null,arguments).map(Qa);return new tt(function(O,j){C.length===0&&j(new AggregateError([]));var I=C.length,H=new Array(I);C.forEach(function(Z,ee){return tt.resolve(Z).then(function(re){return O(re)},function(re){H[ee]=re,--I||j(new AggregateError(H))})})})}),qe.withResolvers)&&(tt.withResolvers=qe.withResolvers);var Rt={awaits:0,echoes:0,id:0},nn=0,Hr=[],Vr=0,Da=0,ti=0;function dn(C,ee,j,I){var H=et,Z=Object.create(H),ee=(Z.parent=H,Z.ref=0,Z.global=!1,Z.id=++ti,Nt.env,Z.env=Jt?{Promise:tt,PromiseProp:{value:tt,configurable:!0,writable:!0},all:tt.all,race:tt.race,allSettled:tt.allSettled,any:tt.any,resolve:tt.resolve,reject:tt.reject}:{},ee&&c(Z,ee),++H.ref,Z.finalize=function(){--this.parent.ref||this.parent.finalize()},jn(Z,C,j,I));return Z.ref===0&&Z.finalize(),ee}function Fn(){return Rt.id||(Rt.id=++nn),++Rt.awaits,Rt.echoes+=$e,Rt.id}function Pr(){return!!Rt.awaits&&(--Rt.awaits==0&&(Rt.id=0),Rt.echoes=Rt.awaits*$e,!0)}function Qa(C){return Rt.echoes&&C&&C.constructor===qe?(Fn(),C.then(function(O){return Pr(),O},function(O){return Pr(),pn(O)})):C}function ou(){var C=Hr[Hr.length-1];Hr.pop(),pa(C,!1)}function pa(C,O){var j,I,H=et;(O?!Rt.echoes||Vr++&&C===et:!Vr||--Vr&&C===et)||queueMicrotask(O?(function(Z){++Da,Rt.echoes&&--Rt.echoes!=0||(Rt.echoes=Rt.awaits=Rt.id=0),Hr.push(et),pa(Z,!0)}).bind(null,C):ou),C!==et&&(et=C,H===Nt&&(Nt.env=It()),Jt)&&(j=Nt.env.Promise,I=C.env,H.global||C.global)&&(Object.defineProperty(a,"Promise",I.PromiseProp),j.all=I.all,j.race=I.race,j.resolve=I.resolve,j.reject=I.reject,I.allSettled&&(j.allSettled=I.allSettled),I.any)&&(j.any=I.any)}function It(){var C=a.Promise;return Jt?{Promise:C,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:C.all,race:C.race,allSettled:C.allSettled,any:C.any,resolve:C.resolve,reject:C.reject}:{}}function jn(C,O,j,I,H){var Z=et;try{return pa(C,!0),O(j,I,H)}finally{pa(Z,!1)}}function yi(C,O,j,I){return typeof C!="function"?C:function(){var H=et;j&&Fn(),pa(O,!0);try{return C.apply(this,arguments)}finally{pa(H,!1),I&&queueMicrotask(Pr)}}}function Vt(C){Promise===qe&&Rt.echoes===0?Vr===0?C():enqueueNativeMicroTask(C):setTimeout(C,0)}(""+Qs).indexOf("[native code]")===-1&&(Fn=Pr=ue);var pn=tt.reject,Zi="",ni="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ar="String expected.",Us=[],su="__dbnames",Do="readonly",Jo="readwrite";function Hs(C,O){return C?O?function(){return C.apply(this,arguments)&&O.apply(this,arguments)}:C:O}var Wh={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function lu(C){return typeof C!="string"||/\./.test(C)?function(O){return O}:function(O){return O[C]===void 0&&C in O&&delete(O=te(O))[C],O}}function Ug(){throw se.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Xt(C,O){try{var j=cu(C),I=cu(O);if(j!==I)return j==="Array"?1:I==="Array"?-1:j==="binary"?1:I==="binary"?-1:j==="string"?1:I==="string"?-1:j==="Date"?1:I!=="Date"?NaN:-1;switch(j){case"number":case"Date":case"string":return O<C?1:C<O?-1:0;case"binary":for(var H=Ja(C),Z=Ja(O),ee=H.length,re=Z.length,fe=ee<re?ee:re,Se=0;Se<fe;++Se)if(H[Se]!==Z[Se])return H[Se]<Z[Se]?-1:1;return ee===re?0:ee<re?-1:1;case"Array":for(var he=C,de=O,ge=he.length,ye=de.length,pe=ge<ye?ge:ye,me=0;me<pe;++me){var Ce=Xt(he[me],de[me]);if(Ce!==0)return Ce}return ge===ye?0:ge<ye?-1:1}}catch{}return NaN}function cu(C){var O=typeof C;return O=="object"&&(ArrayBuffer.isView(C)||(O=J(C))==="ArrayBuffer")?"binary":O}function Ja(C){return C instanceof Uint8Array?C:ArrayBuffer.isView(C)?new Uint8Array(C.buffer,C.byteOffset,C.byteLength):new Uint8Array(C)}function bi(C,O,j){var I=C.schema.yProps;return I?(O&&0<j.numFailures&&(O=O.filter(function(H,Z){return!j.failures[Z]})),Promise.all(I.map(function(H){return H=H.updatesTable,O?C.db.table(H).where("k").anyOf(O).delete():C.db.table(H).clear()})).then(function(){return j})):j}Hg.prototype.execute=function(C){var O=this["@@propmod"];if(O.add!==void 0){var j=O.add;if(s(j))return i(i([],s(C)?C:[],!0),j).sort();if(typeof j=="number")return(Number(C)||0)+j;if(typeof j=="bigint")try{return BigInt(C)+j}catch{return BigInt(0)+j}throw new TypeError("Invalid term ".concat(j))}if(O.remove!==void 0){var I=O.remove;if(s(I))return s(C)?C.filter(function(H){return!I.includes(H)}).sort():[];if(typeof I=="number")return Number(C)-I;if(typeof I=="bigint")try{return BigInt(C)-I}catch{return BigInt(0)-I}throw new TypeError("Invalid subtrahend ".concat(I))}return j=(j=O.replacePrefix)==null?void 0:j[0],j&&typeof C=="string"&&C.startsWith(j)?O.replacePrefix[1]+C.substring(j.length):C};var Zl=Hg;function Hg(C){this["@@propmod"]=C}function Rd(C,O){for(var j=o(O),I=j.length,H=!1,Z=0;Z<I;++Z){var ee=j[Z],re=O[ee],fe=M(C,ee);re instanceof Zl?(R(C,ee,re.execute(fe)),H=!0):fe!==re&&(R(C,ee,re),H=!0)}return H}wn.prototype._trans=function(C,O,j){var I=this._tx||et.trans,H=this.name,Z=wt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(C==="readonly"?"read":"write"," ").concat(this.name));function ee(Se,he,de){if(de.schema[H])return O(de.idbtrans,de);throw new se.NotFound("Table "+H+" not part of transaction")}var re=Ur();try{var fe=I&&I.db._novip===this.db._novip?I===et.trans?I._promise(C,ee,j):dn(function(){return I._promise(C,ee,j)},{trans:I,transless:et.transless||et}):(function Se(he,de,ge,ye){if(he.idbdb&&(he._state.openComplete||et.letThrough||he._vip)){var pe=he._createTransaction(de,ge,he._dbSchema);try{pe.create(),he._state.PR1398_maxLoop=3}catch(me){return me.name===ze.InvalidState&&he.isOpen()&&0<--he._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),he.close({disableAutoOpen:!1}),he.open().then(function(){return Se(he,de,ge,ye)})):pn(me)}return pe._promise(de,function(me,Ce){return dn(function(){return et.trans=pe,ye(me,Ce,pe)})}).then(function(me){if(de==="readwrite")try{pe.idbtrans.commit()}catch{}return de==="readonly"?me:pe._completion.then(function(){return me})})}if(he._state.openComplete)return pn(new se.DatabaseClosed(he._state.dbOpenError));if(!he._state.isBeingOpened){if(!he._state.autoOpen)return pn(new se.DatabaseClosed);he.open().catch(ue)}return he._state.dbReadyPromise.then(function(){return Se(he,de,ge,ye)})})(this.db,C,[this.name],ee);return Z&&(fe._consoleTask=Z,fe=fe.catch(function(Se){return console.trace(Se),pn(Se)})),fe}finally{re&&hn()}},wn.prototype.get=function(C,O){var j=this;return C&&C.constructor===Object?this.where(C).first(O):C==null?pn(new se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(I){return j.core.get({trans:I,key:C}).then(function(H){return j.hook.reading.fire(H)})}).then(O)},wn.prototype.where=function(C){if(typeof C=="string")return new this.db.WhereClause(this,C);if(s(C))return new this.db.WhereClause(this,"[".concat(C.join("+"),"]"));var O=o(C);if(O.length===1)return this.where(O[0]).equals(C[O[0]]);var j=this.schema.indexes.concat(this.schema.primKey).filter(function(re){if(re.compound&&O.every(function(Se){return 0<=re.keyPath.indexOf(Se)})){for(var fe=0;fe<O.length;++fe)if(O.indexOf(re.keyPath[fe])===-1)return!1;return!0}return!1}).sort(function(re,fe){return re.keyPath.length-fe.keyPath.length})[0];if(j&&this.db._maxKey!==Zi)return ee=j.keyPath.slice(0,O.length),this.where(ee).equals(ee.map(function(re){return C[re]}));!j&&wt&&console.warn("The query ".concat(JSON.stringify(C)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(O.join("+"),"]"));var I=this.schema.idxByName;function H(re,fe){return Xt(re,fe)===0}var ee=O.reduce(function(he,fe){var Se=he[0],he=he[1],de=I[fe],ge=C[fe];return[Se||de,Se||!de?Hs(he,de&&de.multi?function(ye){return ye=M(ye,fe),s(ye)&&ye.some(function(pe){return H(ge,pe)})}:function(ye){return H(ge,M(ye,fe))}):he]},[null,null]),Z=ee[0],ee=ee[1];return Z?this.where(Z.name).equals(C[Z.keyPath]).filter(ee):j?this.filter(ee):this.where(O).equals("")},wn.prototype.filter=function(C){return this.toCollection().and(C)},wn.prototype.count=function(C){return this.toCollection().count(C)},wn.prototype.offset=function(C){return this.toCollection().offset(C)},wn.prototype.limit=function(C){return this.toCollection().limit(C)},wn.prototype.each=function(C){return this.toCollection().each(C)},wn.prototype.toArray=function(C){return this.toCollection().toArray(C)},wn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},wn.prototype.orderBy=function(C){return new this.db.Collection(new this.db.WhereClause(this,s(C)?"[".concat(C.join("+"),"]"):C))},wn.prototype.reverse=function(){return this.toCollection().reverse()},wn.prototype.mapToClass=function(C){for(var O=this.db,j=this.name,I=((this.schema.mappedClass=C).prototype instanceof Ug&&(C=(ee=>{var re=he,fe=ee;if(typeof fe!="function"&&fe!==null)throw new TypeError("Class extends value "+String(fe)+" is not a constructor or null");function Se(){this.constructor=re}function he(){return ee!==null&&ee.apply(this,arguments)||this}return n(re,fe),re.prototype=fe===null?Object.create(fe):(Se.prototype=fe.prototype,new Se),Object.defineProperty(he.prototype,"db",{get:function(){return O},enumerable:!1,configurable:!0}),he.prototype.table=function(){return j},he})(C)),new Set),H=C.prototype;H;H=d(H))Object.getOwnPropertyNames(H).forEach(function(ee){return I.add(ee)});function Z(ee){if(!ee)return ee;var re,fe=Object.create(C.prototype);for(re in ee)if(!I.has(re))try{fe[re]=ee[re]}catch{}return fe}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Z,this.hook("reading",Z),C},wn.prototype.defineClass=function(){return this.mapToClass(function(C){c(this,C)})},wn.prototype.add=function(C,O){var j=this,I=this.schema.primKey,H=I.auto,Z=I.keyPath,ee=C;return Z&&H&&(ee=lu(Z)(C)),this._trans("readwrite",function(re){return j.core.mutate({trans:re,type:"add",keys:O!=null?[O]:null,values:[ee]})}).then(function(re){return re.numFailures?tt.reject(re.failures[0]):re.lastResult}).then(function(re){if(Z)try{R(C,Z,re)}catch{}return re})},wn.prototype.upsert=function(C,O){var j=this,I=this.schema.primKey.keyPath;return this._trans("readwrite",function(H){return j.core.get({trans:H,key:C}).then(function(Z){var ee=Z??{};return Rd(ee,O),I&&R(ee,I,C),j.core.mutate({trans:H,type:"put",values:[ee],keys:[C],upsert:!0,updates:{keys:[C],changeSpecs:[O]}}).then(function(re){return re.numFailures?tt.reject(re.failures[0]):!!Z})})})},wn.prototype.update=function(C,O){return typeof C!="object"||s(C)?this.where(":id").equals(C).modify(O):(C=M(C,this.schema.primKey.keyPath))===void 0?pn(new se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(C).modify(O)},wn.prototype.put=function(C,O){var j=this,I=this.schema.primKey,H=I.auto,Z=I.keyPath,ee=C;return Z&&H&&(ee=lu(Z)(C)),this._trans("readwrite",function(re){return j.core.mutate({trans:re,type:"put",values:[ee],keys:O!=null?[O]:null})}).then(function(re){return re.numFailures?tt.reject(re.failures[0]):re.lastResult}).then(function(re){if(Z)try{R(C,Z,re)}catch{}return re})},wn.prototype.delete=function(C){var O=this;return this._trans("readwrite",function(j){return O.core.mutate({trans:j,type:"delete",keys:[C]}).then(function(I){return bi(O,[C],I)}).then(function(I){return I.numFailures?tt.reject(I.failures[0]):void 0})})},wn.prototype.clear=function(){var C=this;return this._trans("readwrite",function(O){return C.core.mutate({trans:O,type:"deleteRange",range:Wh}).then(function(j){return bi(C,null,j)})}).then(function(O){return O.numFailures?tt.reject(O.failures[0]):void 0})},wn.prototype.bulkGet=function(C){var O=this;return this._trans("readonly",function(j){return O.core.getMany({keys:C,trans:j}).then(function(I){return I.map(function(H){return O.hook.reading.fire(H)})})})},wn.prototype.bulkAdd=function(C,O,j){var I=this,H=Array.isArray(O)?O:void 0,Z=(j=j||(H?void 0:O))?j.allKeys:void 0;return this._trans("readwrite",function(ee){var re=I.schema.primKey,Se=re.auto,re=re.keyPath;if(re&&H)throw new se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(H&&H.length!==C.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var fe=C.length,Se=re&&Se?C.map(lu(re)):C;return I.core.mutate({trans:ee,type:"add",keys:H,values:Se,wantResults:Z}).then(function(he){var de=he.numFailures,ge=he.failures;if(de===0)return Z?he.results:he.lastResult;throw new be("".concat(I.name,".bulkAdd(): ").concat(de," of ").concat(fe," operations failed"),ge)})})},wn.prototype.bulkPut=function(C,O,j){var I=this,H=Array.isArray(O)?O:void 0,Z=(j=j||(H?void 0:O))?j.allKeys:void 0;return this._trans("readwrite",function(ee){var re=I.schema.primKey,Se=re.auto,re=re.keyPath;if(re&&H)throw new se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(H&&H.length!==C.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var fe=C.length,Se=re&&Se?C.map(lu(re)):C;return I.core.mutate({trans:ee,type:"put",keys:H,values:Se,wantResults:Z}).then(function(he){var de=he.numFailures,ge=he.failures;if(de===0)return Z?he.results:he.lastResult;throw new be("".concat(I.name,".bulkPut(): ").concat(de," of ").concat(fe," operations failed"),ge)})})},wn.prototype.bulkUpdate=function(C){var O=this,j=this.core,I=C.map(function(ee){return ee.key}),H=C.map(function(ee){return ee.changes}),Z=[];return this._trans("readwrite",function(ee){return j.getMany({trans:ee,keys:I,cache:"clone"}).then(function(re){var fe=[],Se=[],he=(C.forEach(function(de,ge){var ye=de.key,pe=de.changes,me=re[ge];if(me){for(var Ce=0,Te=Object.keys(pe);Ce<Te.length;Ce++){var Ae=Te[Ce],Ne=pe[Ae];if(Ae===O.schema.primKey.keyPath){if(Xt(Ne,ye)!==0)throw new se.Constraint("Cannot update primary key in bulkUpdate()")}else R(me,Ae,Ne)}Z.push(ge),fe.push(ye),Se.push(me)}}),fe.length);return j.mutate({trans:ee,type:"put",keys:fe,values:Se,updates:{keys:I,changeSpecs:H}}).then(function(de){var ge=de.numFailures,ye=de.failures;if(ge===0)return he;for(var pe=0,me=Object.keys(ye);pe<me.length;pe++){var Ce,Te=me[pe],Ae=Z[Number(Te)];Ae!=null&&(Ce=ye[Te],delete ye[Te],ye[Ae]=Ce)}throw new be("".concat(O.name,".bulkUpdate(): ").concat(ge," of ").concat(he," operations failed"),ye)})})})},wn.prototype.bulkDelete=function(C){var O=this,j=C.length;return this._trans("readwrite",function(I){return O.core.mutate({trans:I,type:"delete",keys:C}).then(function(H){return bi(O,C,H)})}).then(function(I){var H=I.numFailures,Z=I.failures;if(H===0)return I.lastResult;throw new be("".concat(O.name,".bulkDelete(): ").concat(H," of ").concat(j," operations failed"),Z)})};var Xh=wn;function wn(){}function uu(C){function O(ee,re){if(re){for(var fe=arguments.length,Se=new Array(fe-1);--fe;)Se[fe-1]=arguments[fe];return j[ee].subscribe.apply(null,Se),C}if(typeof ee=="string")return j[ee]}var j={};O.addEventType=Z;for(var I=1,H=arguments.length;I<H;++I)Z(arguments[I]);return O;function Z(ee,re,fe){var Se,he;if(typeof ee!="object")return re=re||nt,he={subscribers:[],fire:fe=fe||ue,subscribe:function(de){he.subscribers.indexOf(de)===-1&&(he.subscribers.push(de),he.fire=re(he.fire,de))},unsubscribe:function(de){he.subscribers=he.subscribers.filter(function(ge){return ge!==de}),he.fire=he.subscribers.reduce(re,fe)}},j[ee]=O[ee]=he;o(Se=ee).forEach(function(de){var ge=Se[de];if(s(ge))Z(de,Se[de][0],Se[de][1]);else{if(ge!=="asap")throw new se.InvalidArgument("Invalid event config");var ye=Z(de,Ve,function(){for(var pe=arguments.length,me=new Array(pe);pe--;)me[pe]=arguments[pe];ye.subscribers.forEach(function(Ce){D(function(){Ce.apply(null,me)})})})}})}}function ri(C,O){return x(O).from({prototype:C}),O}function es(C,O){return!(C.filter||C.algorithm||C.or)&&(O?C.justLimit:!C.replayFilter)}function jd(C,O){C.filter=Hs(C.filter,O)}function du(C,O,j){var I=C.replayFilter;C.replayFilter=I?function(){return Hs(I(),O())}:O,C.justLimit=j&&!I}function Mo(C,O){if(C.isPrimKey)return O.primaryKey;var j=O.getIndexByKeyPath(C.index);if(j)return j;throw new se.Schema("KeyPath "+C.index+" on object store "+O.name+" is not indexed")}function Zh(C,O,j){var I=Mo(C,O.schema);return O.openCursor({trans:j,values:!C.keysOnly,reverse:C.dir==="prev",unique:!!C.unique,query:{index:I,range:C.range}})}function fu(C,O,j,I){var H,Z,ee=C.replayFilter?Hs(C.filter,C.replayFilter()):C.filter;return C.or?(H={},Z=function(re,fe,Se){var he,de;ee&&!ee(fe,Se,function(ge){return fe.stop(ge)},function(ge){return fe.fail(ge)})||((de=""+(he=fe.primaryKey))=="[object ArrayBuffer]"&&(de=""+new Uint8Array(he)),h(H,de))||(H[de]=!0,O(re,fe,Se))},Promise.all([C.or._iterate(Z,j),Vs(Zh(C,I,j),C.algorithm,Z,!C.keysOnly&&C.valueMapper)])):Vs(Zh(C,I,j),Hs(C.algorithm,ee),O,!C.keysOnly&&C.valueMapper)}function Vs(C,O,j,I){var H=lt(I?function(Z,ee,re){return j(I(Z),ee,re)}:j);return C.then(function(Z){if(Z)return Z.start(function(){var ee=function(){return Z.continue()};O&&!O(Z,function(re){return ee=re},function(re){Z.stop(re),ee=ue},function(re){Z.fail(re),ee=ue})||H(Z.value,Z,function(re){return ee=re}),ee()})})}on.prototype._read=function(C,O){var j=this._ctx;return j.error?j.table._trans(null,pn.bind(null,j.error)):j.table._trans("readonly",C).then(O)},on.prototype._write=function(C){var O=this._ctx;return O.error?O.table._trans(null,pn.bind(null,O.error)):O.table._trans("readwrite",C,"locked")},on.prototype._addAlgorithm=function(C){var O=this._ctx;O.algorithm=Hs(O.algorithm,C)},on.prototype._iterate=function(C,O){return fu(this._ctx,C,O,this._ctx.table.core)},on.prototype.clone=function(C){var O=Object.create(this.constructor.prototype),j=Object.create(this._ctx);return C&&c(j,C),O._ctx=j,O},on.prototype.raw=function(){return this._ctx.valueMapper=null,this},on.prototype.each=function(C){var O=this._ctx;return this._read(function(j){return fu(O,C,j,O.table.core)})},on.prototype.count=function(C){var O=this;return this._read(function(j){var I,H=O._ctx,Z=H.table.core;return es(H,!0)?Z.count({trans:j,query:{index:Mo(H,Z.schema),range:H.range}}).then(function(ee){return Math.min(ee,H.limit)}):(I=0,fu(H,function(){return++I,!1},j,Z).then(function(){return I}))}).then(C)},on.prototype.sortBy=function(C,O){var j=C.split(".").reverse(),I=j[0],H=j.length-1;function Z(fe,Se){return Se?Z(fe[j[Se]],Se-1):fe[I]}var ee=this._ctx.dir==="next"?1:-1;function re(fe,Se){return Xt(Z(fe,H),Z(Se,H))*ee}return this.toArray(function(fe){return fe.sort(re)}).then(O)},on.prototype.toArray=function(C){var O=this;return this._read(function(j){var I,H,Z,ee=O._ctx;return ee.dir==="next"&&es(ee,!0)&&0<ee.limit?(I=ee.valueMapper,H=Mo(ee,ee.table.core.schema),ee.table.core.query({trans:j,limit:ee.limit,values:!0,query:{index:H,range:ee.range}}).then(function(re){return re=re.result,I?re.map(I):re})):(Z=[],fu(ee,function(re){return Z.push(re)},j,ee.table.core).then(function(){return Z}))},C)},on.prototype.offset=function(C){var O=this._ctx;return C<=0||(O.offset+=C,es(O)?du(O,function(){var j=C;return function(I,H){return j===0||(j===1?--j:H(function(){I.advance(j),j=0}),!1)}}):du(O,function(){var j=C;return function(){return--j<0}})),this},on.prototype.limit=function(C){return this._ctx.limit=Math.min(this._ctx.limit,C),du(this._ctx,function(){var O=C;return function(j,I,H){return--O<=0&&I(H),0<=O}},!0),this},on.prototype.until=function(C,O){return jd(this._ctx,function(j,I,H){return!C(j.value)||(I(H),O)}),this},on.prototype.first=function(C){return this.limit(1).toArray(function(O){return O[0]}).then(C)},on.prototype.last=function(C){return this.reverse().first(C)},on.prototype.filter=function(C){var O;return jd(this._ctx,function(j){return C(j.value)}),(O=this._ctx).isMatch=Hs(O.isMatch,C),this},on.prototype.and=function(C){return this.filter(C)},on.prototype.or=function(C){return new this.db.WhereClause(this._ctx.table,C,this)},on.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},on.prototype.desc=function(){return this.reverse()},on.prototype.eachKey=function(C){var O=this._ctx;return O.keysOnly=!O.isMatch,this.each(function(j,I){C(I.key,I)})},on.prototype.eachUniqueKey=function(C){return this._ctx.unique="unique",this.eachKey(C)},on.prototype.eachPrimaryKey=function(C){var O=this._ctx;return O.keysOnly=!O.isMatch,this.each(function(j,I){C(I.primaryKey,I)})},on.prototype.keys=function(C){var O=this._ctx,j=(O.keysOnly=!O.isMatch,[]);return this.each(function(I,H){j.push(H.key)}).then(function(){return j}).then(C)},on.prototype.primaryKeys=function(C){var O=this._ctx;if(O.dir==="next"&&es(O,!0)&&0<O.limit)return this._read(function(I){var H=Mo(O,O.table.core.schema);return O.table.core.query({trans:I,values:!1,limit:O.limit,query:{index:H,range:O.range}})}).then(function(I){return I.result}).then(C);O.keysOnly=!O.isMatch;var j=[];return this.each(function(I,H){j.push(H.primaryKey)}).then(function(){return j}).then(C)},on.prototype.uniqueKeys=function(C){return this._ctx.unique="unique",this.keys(C)},on.prototype.firstKey=function(C){return this.limit(1).keys(function(O){return O[0]}).then(C)},on.prototype.lastKey=function(C){return this.reverse().firstKey(C)},on.prototype.distinct=function(){var C,O=this._ctx,O=O.index&&O.table.schema.idxByName[O.index];return O&&O.multi&&(C={},jd(this._ctx,function(I){var I=I.primaryKey.toString(),H=h(C,I);return C[I]=!0,!H})),this},on.prototype.modify=function(C){var O=this,j=this._ctx;return this._write(function(I){function H(me,Ce){var Te=Ce.failures;ge+=me-Ce.numFailures;for(var Ae=0,Ne=o(Te);Ae<Ne.length;Ae++){var Ke=Ne[Ae];de.push(Te[Ke])}}var Z=typeof C=="function"?C:function(me){return Rd(me,C)},ee=j.table.core,he=ee.schema.primaryKey,re=he.outbound,fe=he.extractKey,Se=200,he=O.db._options.modifyChunkSize,de=(he&&(Se=typeof he=="object"?he[ee.name]||he["*"]||200:he),[]),ge=0,ye=[],pe=C===Qh;return O.clone().primaryKeys().then(function(me){function Ce(Ae){var Ne=Math.min(Se,me.length-Ae),Ke=me.slice(Ae,Ae+Ne);return(pe?Promise.resolve([]):ee.getMany({trans:I,keys:Ke,cache:"immutable"})).then(function(ot){var st=[],Xe=[],pt=re?[]:null,dt=pe?Ke:[];if(!pe)for(var Ze=0;Ze<Ne;++Ze){var mt=ot[Ze],jt={value:te(mt),primKey:me[Ae+Ze]};Z.call(jt,jt.value,jt)!==!1&&(jt.value==null?dt.push(me[Ae+Ze]):re||Xt(fe(mt),fe(jt.value))===0?(Xe.push(jt.value),re&&pt.push(me[Ae+Ze])):(dt.push(me[Ae+Ze]),st.push(jt.value)))}return Promise.resolve(0<st.length&&ee.mutate({trans:I,type:"add",values:st}).then(function(Zt){for(var Et in Zt.failures)dt.splice(parseInt(Et),1);H(st.length,Zt)})).then(function(){return(0<Xe.length||Te&&typeof C=="object")&&ee.mutate({trans:I,type:"put",keys:pt,values:Xe,criteria:Te,changeSpec:typeof C!="function"&&C,isAdditionalChunk:0<Ae}).then(function(Zt){return H(Xe.length,Zt)})}).then(function(){return(0<dt.length||Te&&pe)&&ee.mutate({trans:I,type:"delete",keys:dt,criteria:Te,isAdditionalChunk:0<Ae}).then(function(Zt){return bi(j.table,dt,Zt)}).then(function(Zt){return H(dt.length,Zt)})}).then(function(){return me.length>Ae+Ne&&Ce(Ae+Se)})})}var Te=es(j)&&j.limit===1/0&&(typeof C!="function"||pe)&&{index:j.index,range:j.range};return Ce(0).then(function(){if(0<de.length)throw new xe("Error modifying one or more objects",de,ge,ye);return me.length})})})},on.prototype.delete=function(){var C=this._ctx,O=C.range;return!es(C)||C.table.schema.yProps||!C.isPrimKey&&O.type!==3?this.modify(Qh):this._write(function(j){var I=C.table.core.schema.primaryKey,H=O;return C.table.core.count({trans:j,query:{index:I,range:H}}).then(function(Z){return C.table.core.mutate({trans:j,type:"deleteRange",range:H}).then(function(fe){var re=fe.failures,fe=fe.numFailures;if(fe)throw new xe("Could not delete some values",Object.keys(re).map(function(Se){return re[Se]}),Z-fe);return Z-fe})})})};var Dw=on;function on(){}var Qh=function(C,O){return O.value=null};function Jh(C,O){return C<O?-1:C===O?0:1}function Mw(C,O){return O<C?-1:C===O?0:1}function Qi(C,O,j){return C=C instanceof qs?new C.Collection(C):C,C._ctx.error=new(j||TypeError)(O),C}function Ro(C){return new C.Collection(C,function(){return Ld("")}).limit(0)}function ma(ye,O,j,I){var H,Z,ee,re,fe,Se,he,de=j.length;if(!j.every(function(me){return typeof me=="string"}))return Qi(ye,Ar);function ge(me){H=me==="next"?function(Te){return Te.toUpperCase()}:function(Te){return Te.toLowerCase()},Z=me==="next"?function(Te){return Te.toLowerCase()}:function(Te){return Te.toUpperCase()},ee=me==="next"?Jh:Mw;var Ce=j.map(function(Te){return{lower:Z(Te),upper:H(Te)}}).sort(function(Te,Ae){return ee(Te.lower,Ae.lower)});re=Ce.map(function(Te){return Te.upper}),fe=Ce.map(function(Te){return Te.lower}),he=(Se=me)==="next"?"":I}ge("next");var ye=new ye.Collection(ye,function(){return eo(re[0],fe[de-1]+I)}),pe=(ye._ondirectionchange=function(me){ge(me)},0);return ye._addAlgorithm(function(me,Ce,Te){var Ae=me.key;if(typeof Ae=="string"){var Ne=Z(Ae);if(O(Ne,fe,pe))return!0;for(var Ke=null,ot=pe;ot<de;++ot){var st=((Xe,pt,dt,Ze,mt,jt)=>{for(var Zt=Math.min(Xe.length,Ze.length),Et=-1,zt=0;zt<Zt;++zt){var Ln=pt[zt];if(Ln!==Ze[zt])return mt(Xe[zt],dt[zt])<0?Xe.substr(0,zt)+dt[zt]+dt.substr(zt+1):mt(Xe[zt],Ze[zt])<0?Xe.substr(0,zt)+Ze[zt]+dt.substr(zt+1):0<=Et?Xe.substr(0,Et)+pt[Et]+dt.substr(Et+1):null;mt(Xe[zt],Ln)<0&&(Et=zt)}return Zt<Ze.length&&jt==="next"?Xe+dt.substr(Xe.length):Zt<Xe.length&&jt==="prev"?Xe.substr(0,dt.length):Et<0?null:Xe.substr(0,Et)+Ze[Et]+dt.substr(Et+1)})(Ae,Ne,re[ot],fe[ot],ee,Se);st===null&&Ke===null?pe=ot+1:(Ke===null||0<ee(Ke,st))&&(Ke=st)}Ce(Ke!==null?function(){me.continue(Ke+he)}:Te)}return!1}),ye}function eo(C,O,j,I){return{type:2,lower:C,upper:O,lowerOpen:j,upperOpen:I}}function Ld(C){return{type:1,lower:C,upper:C}}Object.defineProperty(Zn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Zn.prototype.between=function(C,O,j,I){j=j!==!1,I=I===!0;try{return 0<this._cmp(C,O)||this._cmp(C,O)===0&&(j||I)&&(!j||!I)?Ro(this):new this.Collection(this,function(){return eo(C,O,!j,!I)})}catch{return Qi(this,ni)}},Zn.prototype.equals=function(C){return C==null?Qi(this,ni):new this.Collection(this,function(){return Ld(C)})},Zn.prototype.above=function(C){return C==null?Qi(this,ni):new this.Collection(this,function(){return eo(C,void 0,!0)})},Zn.prototype.aboveOrEqual=function(C){return C==null?Qi(this,ni):new this.Collection(this,function(){return eo(C,void 0,!1)})},Zn.prototype.below=function(C){return C==null?Qi(this,ni):new this.Collection(this,function(){return eo(void 0,C,!1,!0)})},Zn.prototype.belowOrEqual=function(C){return C==null?Qi(this,ni):new this.Collection(this,function(){return eo(void 0,C)})},Zn.prototype.startsWith=function(C){return typeof C!="string"?Qi(this,Ar):this.between(C,C+Zi,!0,!0)},Zn.prototype.startsWithIgnoreCase=function(C){return C===""?this.startsWith(C):ma(this,function(O,j){return O.indexOf(j[0])===0},[C],Zi)},Zn.prototype.equalsIgnoreCase=function(C){return ma(this,function(O,j){return O===j[0]},[C],"")},Zn.prototype.anyOfIgnoreCase=function(){var C=G.apply(V,arguments);return C.length===0?Ro(this):ma(this,function(O,j){return j.indexOf(O)!==-1},C,"")},Zn.prototype.startsWithAnyOfIgnoreCase=function(){var C=G.apply(V,arguments);return C.length===0?Ro(this):ma(this,function(O,j){return j.some(function(I){return O.indexOf(I)===0})},C,Zi)},Zn.prototype.anyOf=function(){var C,O,j=this,I=G.apply(V,arguments),H=this._cmp;try{I.sort(H)}catch{return Qi(this,ni)}return I.length===0?Ro(this):((C=new this.Collection(this,function(){return eo(I[0],I[I.length-1])}))._ondirectionchange=function(Z){H=Z==="next"?j._ascending:j._descending,I.sort(H)},O=0,C._addAlgorithm(function(Z,ee,re){for(var fe=Z.key;0<H(fe,I[O]);)if(++O===I.length)return ee(re),!1;return H(fe,I[O])===0||(ee(function(){Z.continue(I[O])}),!1)}),C)},Zn.prototype.notEqual=function(C){return this.inAnyRange([[-1/0,C],[C,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Zn.prototype.noneOf=function(){var C=G.apply(V,arguments);if(C.length===0)return new this.Collection(this);try{C.sort(this._ascending)}catch{return Qi(this,ni)}var O=C.reduce(function(j,I){return j?j.concat([[j[j.length-1][1],I]]):[[-1/0,I]]},null);return O.push([C[C.length-1],this.db._maxKey]),this.inAnyRange(O,{includeLowers:!1,includeUppers:!1})},Zn.prototype.inAnyRange=function(C,Te){var j=this,I=this._cmp,H=this._ascending,Z=this._descending,ee=this._min,re=this._max;if(C.length===0)return Ro(this);if(!C.every(function(Ae){return Ae[0]!==void 0&&Ae[1]!==void 0&&H(Ae[0],Ae[1])<=0}))return Qi(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",se.InvalidArgument);var fe=!Te||Te.includeLowers!==!1,Se=Te&&Te.includeUppers===!0,he,de=H;function ge(Ae,Ne){return de(Ae[0],Ne[0])}try{(he=C.reduce(function(Ae,Ne){for(var Ke=0,ot=Ae.length;Ke<ot;++Ke){var st=Ae[Ke];if(I(Ne[0],st[1])<0&&0<I(Ne[1],st[0])){st[0]=ee(st[0],Ne[0]),st[1]=re(st[1],Ne[1]);break}}return Ke===ot&&Ae.push(Ne),Ae},[])).sort(ge)}catch{return Qi(this,ni)}var ye=0,pe=Se?function(Ae){return 0<H(Ae,he[ye][1])}:function(Ae){return 0<=H(Ae,he[ye][1])},me=fe?function(Ae){return 0<Z(Ae,he[ye][0])}:function(Ae){return 0<=Z(Ae,he[ye][0])},Ce=pe,Te=new this.Collection(this,function(){return eo(he[0][0],he[he.length-1][1],!fe,!Se)});return Te._ondirectionchange=function(Ae){de=Ae==="next"?(Ce=pe,H):(Ce=me,Z),he.sort(ge)},Te._addAlgorithm(function(Ae,Ne,Ke){for(var ot,st=Ae.key;Ce(st);)if(++ye===he.length)return Ne(Ke),!1;return!pe(ot=st)&&!me(ot)||(j._cmp(st,he[ye][1])===0||j._cmp(st,he[ye][0])===0||Ne(function(){de===H?Ae.continue(he[ye][0]):Ae.continue(he[ye][1])}),!1)}),Te},Zn.prototype.startsWithAnyOf=function(){var C=G.apply(V,arguments);return C.every(function(O){return typeof O=="string"})?C.length===0?Ro(this):this.inAnyRange(C.map(function(O){return[O,O+Zi]})):Qi(this,"startsWithAnyOf() only works with strings")};var qs=Zn;function Zn(){}function Ma(C){return lt(function(O){return Gs(O),C(O.target.error),!1})}function Gs(C){C.stopPropagation&&C.stopPropagation(),C.preventDefault&&C.preventDefault()}var Ql="storagemutated",Ys="x-storagemutated-1",ii=uu(null,Ql),ep=(Ii.prototype._lock=function(){return k(!et.global),++this._reculock,this._reculock!==1||et.global||(et.lockOwnerFor=this),this},Ii.prototype._unlock=function(){if(k(!et.global),--this._reculock==0)for(et.global||(et.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var C=this._blockedFuncs.shift();try{jn(C[1],C[0])}catch{}}return this},Ii.prototype._locked=function(){return this._reculock&&et.lockOwnerFor!==this},Ii.prototype.create=function(C){var O=this;if(this.mode){var j=this.db.idbdb,I=this.db._state.dbOpenError;if(k(!this.idbtrans),!C&&!j)switch(I&&I.name){case"DatabaseClosedError":throw new se.DatabaseClosed(I);case"MissingAPIError":throw new se.MissingAPI(I.message,I);default:throw new se.OpenFailed(I)}if(!this.active)throw new se.TransactionInactive;k(this._completion._state===null),(C=this.idbtrans=C||(this.db.core||j).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=lt(function(H){Gs(H),O._reject(C.error)}),C.onabort=lt(function(H){Gs(H),O.active&&O._reject(new se.Abort(C.error)),O.active=!1,O.on("abort").fire(H)}),C.oncomplete=lt(function(){O.active=!1,O._resolve(),"mutatedParts"in C&&ii.storagemutated.fire(C.mutatedParts)})}return this},Ii.prototype._promise=function(C,O,j){var I,H=this;return C==="readwrite"&&this.mode!=="readwrite"?pn(new se.ReadOnly("Transaction is readonly")):this.active?this._locked()?new tt(function(Z,ee){H._blockedFuncs.push([function(){H._promise(C,O,j).then(Z,ee)},et])}):j?dn(function(){var Z=new tt(function(ee,re){H._lock();var fe=O(ee,re,H);fe&&fe.then&&fe.then(ee,re)});return Z.finally(function(){return H._unlock()}),Z._lib=!0,Z}):((I=new tt(function(Z,ee){var re=O(Z,ee,H);re&&re.then&&re.then(Z,ee)}))._lib=!0,I):pn(new se.TransactionInactive)},Ii.prototype._root=function(){return this.parent?this.parent._root():this},Ii.prototype.waitFor=function(C){var O,j=this._root(),I=tt.resolve(C),H=(j._waitingFor?j._waitingFor=j._waitingFor.then(function(){return I}):(j._waitingFor=I,j._waitingQueue=[],O=j.idbtrans.objectStore(j.storeNames[0]),(function Z(){for(++j._spinCount;j._waitingQueue.length;)j._waitingQueue.shift()();j._waitingFor&&(O.get(-1/0).onsuccess=Z)})()),j._waitingFor);return new tt(function(Z,ee){I.then(function(re){return j._waitingQueue.push(lt(Z.bind(null,re)))},function(re){return j._waitingQueue.push(lt(ee.bind(null,re)))}).finally(function(){j._waitingFor===H&&(j._waitingFor=null)})})},Ii.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new se.Abort))},Ii.prototype.table=function(C){var O=this._memoizedTables||(this._memoizedTables={});if(h(O,C))return O[C];var j=this.schema[C];if(j)return(j=new this.db.Table(C,j,this)).core=this.db.core.table(C),O[C]=j;throw new se.NotFound("Table "+C+" not part of transaction")},Ii);function Ii(){}function to(C,O,j,I,H,Z,ee,re){return{name:C,keyPath:O,unique:j,multi:I,auto:H,compound:Z,src:(j&&!ee?"&":"")+(I?"*":"")+(H?"++":"")+Nd(O),type:re}}function Nd(C){return typeof C=="string"?C:C?"["+[].join.call(C,"+")+"]":""}function Jl(C,O,j){return{name:C,primKey:O,indexes:j,mappedClass:null,idxByName:(I=function(H){return[H.name,H]},j.reduce(function(H,Z,ee){return Z=I(Z,ee),Z&&(H[Z[0]]=Z[1]),H},{}))};var I}var ec=function(C){try{return C.only([[]]),ec=function(){return[[]]},[[]]}catch{return ec=function(){return Zi},Zi}};function tc(C){return C==null?function(){}:typeof C=="string"?(O=C).split(".").length===1?function(j){return j[O]}:function(j){return M(j,O)}:function(j){return M(j,C)};var O}function hu(C){return[].slice.call(C)}var Vg=0;function Or(C){return C==null?":id":typeof C=="string"?C:"[".concat(C.join("+"),"]")}function Ks(C,O,fe){function I(pe){if(pe.type===3)return null;if(pe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var de=pe.lower,ge=pe.upper,ye=pe.lowerOpen,pe=pe.upperOpen;return de===void 0?ge===void 0?null:O.upperBound(ge,!!pe):ge===void 0?O.lowerBound(de,!!ye):O.bound(de,ge,!!ye,!!pe)}function H(he){var de,ge=he.name;return{name:ge,schema:he,mutate:function(ye){var pe=ye.trans,me=ye.type,Ce=ye.keys,Te=ye.values,Ae=ye.range;return new Promise(function(Ne,Ke){Ne=lt(Ne);var ot=pe.objectStore(ge),st=ot.keyPath==null,Xe=me==="put"||me==="add";if(!Xe&&me!=="delete"&&me!=="deleteRange")throw new Error("Invalid operation type: "+me);var pt,dt=(Ce||Te||{length:1}).length;if(Ce&&Te&&Ce.length!==Te.length)throw new Error("Given keys array must have same length as given values array.");if(dt===0)return Ne({numFailures:0,failures:{},results:[],lastResult:void 0});function Ze(kn){++Zt,Gs(kn)}var mt=[],jt=[],Zt=0;if(me==="deleteRange"){if(Ae.type===4)return Ne({numFailures:Zt,failures:jt,results:[],lastResult:void 0});Ae.type===3?mt.push(pt=ot.clear()):mt.push(pt=ot.delete(I(Ae)))}else{var st=Xe?st?[Te,Ce]:[Te,null]:[Ce,null],Et=st[0],zt=st[1];if(Xe)for(var Ln=0;Ln<dt;++Ln)mt.push(pt=zt&&zt[Ln]!==void 0?ot[me](Et[Ln],zt[Ln]):ot[me](Et[Ln])),pt.onerror=Ze;else for(Ln=0;Ln<dt;++Ln)mt.push(pt=ot[me](Et[Ln])),pt.onerror=Ze}function Bi(kn){kn=kn.target.result,mt.forEach(function(is,sc){return is.error!=null&&(jt[sc]=is.error)}),Ne({numFailures:Zt,failures:jt,results:me==="delete"?Ce:mt.map(function(is){return is.result}),lastResult:kn})}pt.onerror=function(kn){Ze(kn),Bi(kn)},pt.onsuccess=Bi})},getMany:function(ye){var pe=ye.trans,me=ye.keys;return new Promise(function(Ce,Te){Ce=lt(Ce);for(var Ae,Ne=pe.objectStore(ge),Ke=me.length,ot=new Array(Ke),st=0,Xe=0,pt=function(mt){mt=mt.target,ot[mt._pos]=mt.result,++Xe===st&&Ce(ot)},dt=Ma(Te),Ze=0;Ze<Ke;++Ze)me[Ze]!=null&&((Ae=Ne.get(me[Ze]))._pos=Ze,Ae.onsuccess=pt,Ae.onerror=dt,++st);st===0&&Ce(ot)})},get:function(ye){var pe=ye.trans,me=ye.key;return new Promise(function(Ce,Te){Ce=lt(Ce);var Ae=pe.objectStore(ge).get(me);Ae.onsuccess=function(Ne){return Ce(Ne.target.result)},Ae.onerror=Ma(Te)})},query:(de=re,function(ye){return new Promise(function(pe,me){pe=lt(pe);var Ce,Te,Ae,Xe=ye.trans,Ne=ye.values,Ke=ye.limit,st=ye.query,ot=Ke===1/0?void 0:Ke,pt=st.index,st=st.range,Xe=Xe.objectStore(ge),Xe=pt.isPrimaryKey?Xe:Xe.index(pt.name),pt=I(st);if(Ke===0)return pe({result:[]});de?((st=Ne?Xe.getAll(pt,ot):Xe.getAllKeys(pt,ot)).onsuccess=function(dt){return pe({result:dt.target.result})},st.onerror=Ma(me)):(Ce=0,Te=!Ne&&"openKeyCursor"in Xe?Xe.openKeyCursor(pt):Xe.openCursor(pt),Ae=[],Te.onsuccess=function(dt){var Ze=Te.result;return!Ze||(Ae.push(Ne?Ze.value:Ze.primaryKey),++Ce===Ke)?pe({result:Ae}):void Ze.continue()},Te.onerror=Ma(me))})}),openCursor:function(ye){var pe=ye.trans,me=ye.values,Ce=ye.query,Te=ye.reverse,Ae=ye.unique;return new Promise(function(Ne,Ke){Ne=lt(Ne);var Xe=Ce.index,ot=Ce.range,st=pe.objectStore(ge),st=Xe.isPrimaryKey?st:st.index(Xe.name),Xe=Te?Ae?"prevunique":"prev":Ae?"nextunique":"next",pt=!me&&"openKeyCursor"in st?st.openKeyCursor(I(ot),Xe):st.openCursor(I(ot),Xe);pt.onerror=Ma(Ke),pt.onsuccess=lt(function(dt){var Ze,mt,jt,Zt,Et=pt.result;Et?(Et.___id=++Vg,Et.done=!1,Ze=Et.continue.bind(Et),mt=(mt=Et.continuePrimaryKey)&&mt.bind(Et),jt=Et.advance.bind(Et),Zt=function(){throw new Error("Cursor not stopped")},Et.trans=pe,Et.stop=Et.continue=Et.continuePrimaryKey=Et.advance=function(){throw new Error("Cursor not started")},Et.fail=lt(Ke),Et.next=function(){var zt=this,Ln=1;return this.start(function(){return Ln--?zt.continue():zt.stop()}).then(function(){return zt})},Et.start=function(zt){function Ln(){if(pt.result)try{zt()}catch(kn){Et.fail(kn)}else Et.done=!0,Et.start=function(){throw new Error("Cursor behind last entry")},Et.stop()}var Bi=new Promise(function(kn,is){kn=lt(kn),pt.onerror=Ma(is),Et.fail=is,Et.stop=function(sc){Et.stop=Et.continue=Et.continuePrimaryKey=Et.advance=Zt,kn(sc)}});return pt.onsuccess=lt(function(kn){pt.onsuccess=Ln,Ln()}),Et.continue=Ze,Et.continuePrimaryKey=mt,Et.advance=jt,Ln(),Bi},Ne(Et)):Ne(null)},Ke)})},count:function(ye){var pe=ye.query,me=ye.trans,Ce=pe.index,Te=pe.range;return new Promise(function(Ae,Ne){var Ke=me.objectStore(ge),Ke=Ce.isPrimaryKey?Ke:Ke.index(Ce.name),ot=I(Te),ot=ot?Ke.count(ot):Ke.count();ot.onsuccess=lt(function(st){return Ae(st.target.result)}),ot.onerror=Ma(Ne)})}}}Z=fe,ee=hu((fe=C).objectStoreNames);var Z,fe={schema:{name:fe.name,tables:ee.map(function(he){return Z.objectStore(he)}).map(function(he){var de=he.keyPath,ge=he.autoIncrement,pe=s(de),ye={},pe={name:he.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:de==null,compound:pe,keyPath:de,autoIncrement:ge,unique:!0,extractKey:tc(de)},indexes:hu(he.indexNames).map(function(me){return he.index(me)}).map(function(Ae){var Ne=Ae.name,Ce=Ae.unique,Te=Ae.multiEntry,Ae=Ae.keyPath,Ne={name:Ne,compound:s(Ae),keyPath:Ae,unique:Ce,multiEntry:Te,extractKey:tc(Ae)};return ye[Or(Ae)]=Ne}),getIndexByKeyPath:function(me){return ye[Or(me)]}};return ye[":id"]=pe.primaryKey,de!=null&&(ye[Or(de)]=pe.primaryKey),pe})},hasGetAll:0<ee.length&&"getAll"in Z.objectStore(ee[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},ee=fe.schema,re=fe.hasGetAll,fe=ee.tables.map(H),Se={};return fe.forEach(function(he){return Se[he.name]=he}),{stack:"dbcore",transaction:C.transaction.bind(C),table:function(he){if(Se[he])return Se[he];throw new Error("Table '".concat(he,"' not found"))},MIN_KEY:-1/0,MAX_KEY:ec(O),schema:ee}}function Id(C,O,j,I){return j=j.IDBKeyRange,O=Ks(O,j,I),{dbcore:C.dbcore.reduce(function(H,Z){return Z=Z.create,r(r({},H),Z(H))},O)}}function ts(C,O){var j=O.db,j=Id(C._middlewares,j,C._deps,O);C.core=j.dbcore,C.tables.forEach(function(I){var H=I.name;C.core.schema.tables.some(function(Z){return Z.name===H})&&(I.core=C.core.table(H),C[H]instanceof C.Table)&&(C[H].core=I.core)})}function zd(C,O,j,I){j.forEach(function(H){var Z=I[H];O.forEach(function(ee){var re=(function fe(Se,he){return S(Se,he)||(Se=d(Se))&&fe(Se,he)})(ee,H);(!re||"value"in re&&re.value===void 0)&&(ee===C.Transaction.prototype||ee instanceof C.Transaction?b(ee,H,{get:function(){return this.table(H)},set:function(fe){v(this,H,{value:fe,writable:!0,configurable:!0,enumerable:!0})}}):ee[H]=new C.Table(H,Z))})})}function pu(C,O){O.forEach(function(j){for(var I in j)j[I]instanceof C.Table&&delete j[I]})}function tp(C,O){return C._cfg.version-O._cfg.version}function mu(C,O,j,I){var H=C._dbSchema,Z=(j.objectStoreNames.contains("$meta")&&!H.$meta&&(H.$meta=Jl("$meta",Gg("")[0],[]),C._storeNames.push("$meta")),C._createTransaction("readwrite",C._storeNames,H)),ee=(Z.create(j),Z._completion.catch(I),Z._reject.bind(Z)),re=et.transless||et;dn(function(){if(et.trans=Z,et.transless=re,O!==0)return ts(C,j),Se=O,((fe=Z).storeNames.includes("$meta")?fe.table("$meta").get("version").then(function(he){return he??Se}):tt.resolve(Se)).then(function(Ce){var de=C,ge=Ce,ye=Z,pe=j,me=[],Ce=de._versions,Te=de._dbSchema=nc(0,de.idbdb,pe);return(Ce=Ce.filter(function(Ae){return Ae._cfg.version>=ge})).length===0?tt.resolve():(Ce.forEach(function(Ae){me.push(function(){var Ne,Ke,ot,st=Te,Xe=Ae._cfg.dbschema,pt=(Ud(de,st,pe),Ud(de,Xe,pe),Te=de._dbSchema=Xe,$d(st,Xe)),dt=(pt.add.forEach(function(Ze){np(pe,Ze[0],Ze[1].primKey,Ze[1].indexes)}),pt.change.forEach(function(Ze){if(Ze.recreate)throw new se.Upgrade("Not yet support for changing primary key");var mt=pe.objectStore(Ze.name);Ze.add.forEach(function(jt){return Fd(mt,jt)}),Ze.change.forEach(function(jt){mt.deleteIndex(jt.name),Fd(mt,jt)}),Ze.del.forEach(function(jt){return mt.deleteIndex(jt)})}),Ae._cfg.contentUpgrade);if(dt&&Ae._cfg.version>ge)return ts(de,pe),ye._memoizedTables={},Ne=N(Xe),pt.del.forEach(function(Ze){Ne[Ze]=st[Ze]}),pu(de,[de.Transaction.prototype]),zd(de,[de.Transaction.prototype],o(Ne),Ne),ye.schema=Ne,(Ke=$(dt))&&Fn(),Xe=tt.follow(function(){var Ze;(ot=dt(ye))&&Ke&&(Ze=Pr.bind(null,null),ot.then(Ze,Ze))}),ot&&typeof ot.then=="function"?tt.resolve(ot):Xe.then(function(){return ot})}),me.push(function(Ne){var Ke,ot,st=Ae._cfg.dbschema;Ke=st,ot=Ne,[].slice.call(ot.db.objectStoreNames).forEach(function(Xe){return Ke[Xe]==null&&ot.db.deleteObjectStore(Xe)}),pu(de,[de.Transaction.prototype]),zd(de,[de.Transaction.prototype],de._storeNames,de._dbSchema),ye.schema=de._dbSchema}),me.push(function(Ne){de.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(de.idbdb.version/10)===Ae._cfg.version?(de.idbdb.deleteObjectStore("$meta"),delete de._dbSchema.$meta,de._storeNames=de._storeNames.filter(function(Ke){return Ke!=="$meta"})):Ne.objectStore("$meta").put(Ae._cfg.version,"version"))})}),(function Ae(){return me.length?tt.resolve(me.shift()(ye.idbtrans)).then(Ae):tt.resolve()})().then(function(){qg(Te,pe)}))}).catch(ee);var fe,Se;o(H).forEach(function(he){np(j,he,H[he].primKey,H[he].indexes)}),ts(C,j),tt.follow(function(){return C.on.populate.fire(Z)}).catch(ee)})}function Bd(C,O){qg(C._dbSchema,O),O.db.version%10!=0||O.objectStoreNames.contains("$meta")||O.db.createObjectStore("$meta").add(Math.ceil(O.db.version/10-1),"version");var j=nc(0,C.idbdb,O);Ud(C,C._dbSchema,O);for(var I=0,H=$d(j,C._dbSchema).change;I<H.length;I++){var Z=(ee=>{if(ee.change.length||ee.recreate)return console.warn("Unable to patch indexes of table ".concat(ee.name," because it has changes on the type of index or primary key.")),{value:void 0};var re=O.objectStore(ee.name);ee.add.forEach(function(fe){wt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(ee.name,".").concat(fe.src)),Fd(re,fe)})})(H[I]);if(typeof Z=="object")return Z.value}}function $d(C,O){var j,I={del:[],add:[],change:[]};for(j in C)O[j]||I.del.push(j);for(j in O){var H=C[j],Z=O[j];if(H){var ee={name:j,def:Z,recreate:!1,del:[],add:[],change:[]};if(""+(H.primKey.keyPath||"")!=""+(Z.primKey.keyPath||"")||H.primKey.auto!==Z.primKey.auto)ee.recreate=!0,I.change.push(ee);else{var re=H.idxByName,fe=Z.idxByName,Se=void 0;for(Se in re)fe[Se]||ee.del.push(Se);for(Se in fe){var he=re[Se],de=fe[Se];he?he.src!==de.src&&ee.change.push(de):ee.add.push(de)}(0<ee.del.length||0<ee.add.length||0<ee.change.length)&&I.change.push(ee)}}else I.add.push([j,Z])}return I}function np(C,O,j,I){var H=C.db.createObjectStore(O,j.keyPath?{keyPath:j.keyPath,autoIncrement:j.auto}:{autoIncrement:j.auto});I.forEach(function(Z){return Fd(H,Z)})}function qg(C,O){o(C).forEach(function(j){O.db.objectStoreNames.contains(j)||(wt&&console.debug("Dexie: Creating missing table",j),np(O,j,C[j].primKey,C[j].indexes))})}function Fd(C,O){C.createIndex(O.name,O.keyPath,{unique:O.unique,multiEntry:O.multi})}function nc(C,O,j){var I={};return T(O.objectStoreNames,0).forEach(function(H){for(var Z=j.objectStore(H),ee=to(Nd(Se=Z.keyPath),Se||"",!0,!1,!!Z.autoIncrement,Se&&typeof Se!="string",!0),re=[],fe=0;fe<Z.indexNames.length;++fe){var he=Z.index(Z.indexNames[fe]),Se=he.keyPath,he=to(he.name,Se,!!he.unique,!!he.multiEntry,!1,Se&&typeof Se!="string",!1);re.push(he)}I[H]=Jl(H,ee,re)}),I}function Ud(C,O,j){for(var I=j.db.objectStoreNames,H=0;H<I.length;++H){var Z=I[H],ee=j.objectStore(Z);C._hasGetAll="getAll"in ee;for(var re=0;re<ee.indexNames.length;++re){var fe,Se=ee.indexNames[re],he=ee.index(Se).keyPath,he=typeof he=="string"?he:"["+T(he).join("+")+"]";O[Z]&&(fe=O[Z].idxByName[he])&&(fe.name=Se,delete O[Z].idxByName[he],O[Z].idxByName[Se]=fe)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(C._hasGetAll=!1)}function Gg(C){return C.split(",").map(function(O,j){var H=O.split(":"),I=(I=H[1])==null?void 0:I.trim(),H=(O=H[0].trim()).replace(/([&*]|\+\+)/g,""),Z=/^\[/.test(H)?H.match(/^\[(.*)\]$/)[1].split("+"):H;return to(H,Z||null,/\&/.test(O),/\*/.test(O),/\+\+/.test(O),s(Z),j===0,I)})}rc.prototype._createTableSchema=Jl,rc.prototype._parseIndexSyntax=Gg,rc.prototype._parseStoresSpec=function(C,O){var j=this;o(C).forEach(function(I){if(C[I]!==null){var H=j._parseIndexSyntax(C[I]),Z=H.shift();if(!Z)throw new se.Schema("Invalid schema for table "+I+": "+C[I]);if(Z.unique=!0,Z.multi)throw new se.Schema("Primary key cannot be multiEntry*");H.forEach(function(ee){if(ee.auto)throw new se.Schema("Only primary key can be marked as autoIncrement (++)");if(!ee.keyPath)throw new se.Schema("Index must have a name and cannot be an empty string")}),Z=j._createTableSchema(I,Z,H),O[I]=Z}})},rc.prototype.stores=function(j){var O=this.db,j=(this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,j):j,O._versions),I={},H={};return j.forEach(function(Z){c(I,Z._cfg.storesSource),H=Z._cfg.dbschema={},Z._parseStoresSpec(I,H)}),O._dbSchema=H,pu(O,[O._allTables,O,O.Transaction.prototype]),zd(O,[O._allTables,O,O.Transaction.prototype,this._cfg.tables],o(H),H),O._storeNames=o(H),this},rc.prototype.upgrade=function(C){return this._cfg.contentUpgrade=Je(this._cfg.contentUpgrade||ue,C),this};var Rw=rc;function rc(){}function rp(C,O){var j=C._dbNamesDB;return j||(j=C._dbNamesDB=new no(su,{addons:[],indexedDB:C,IDBKeyRange:O})).version(1).stores({dbnames:"name"}),j.table("dbnames")}function Hd(C){return C&&typeof C.databases=="function"}function ip(C){return dn(function(){return et.letThrough=!0,C()})}function ap(C){return!("from"in C)}var ai=function(C,O){var j;if(!this)return j=new ai,C&&"d"in C&&c(j,C),j;c(this,arguments.length?{d:1,from:C,to:1<arguments.length?O:C}:{d:0})};function gu(C,O,j){var I=Xt(O,j);if(!isNaN(I)){if(0<I)throw RangeError();if(ap(C))return c(C,{from:O,to:j,d:1});var I=C.l,H=C.r;if(Xt(j,C.from)<0)return I?gu(I,O,j):C.l={from:O,to:j,d:1,l:null,r:null},Kg(C);if(0<Xt(O,C.to))return H?gu(H,O,j):C.r={from:O,to:j,d:1,l:null,r:null},Kg(C);Xt(O,C.from)<0&&(C.from=O,C.l=null,C.d=H?H.d+1:1),0<Xt(j,C.to)&&(C.to=j,C.r=null,C.d=C.l?C.l.d+1:1),O=!C.r,I&&!C.l&&Ws(C,I),H&&O&&Ws(C,H)}}function Ws(C,O){ap(O)||(function j(I,H){var Z=H.from,ee=H.l,re=H.r;gu(I,Z,H.to),ee&&j(I,ee),re&&j(I,re)})(C,O)}function Yg(C,O){var j=Vd(O),I=j.next();if(!I.done)for(var H=I.value,Z=Vd(C),ee=Z.next(H.from),re=ee.value;!I.done&&!ee.done;){if(Xt(re.from,H.to)<=0&&0<=Xt(re.to,H.from))return!0;Xt(H.from,re.from)<0?H=(I=j.next(re.from)).value:re=(ee=Z.next(H.from)).value}return!1}function Vd(C){var O=ap(C)?null:{s:0,n:C};return{next:function(j){for(var I=0<arguments.length;O;)switch(O.s){case 0:if(O.s=1,I)for(;O.n.l&&Xt(j,O.n.from)<0;)O={up:O,n:O.n.l,s:1};else for(;O.n.l;)O={up:O,n:O.n.l,s:1};case 1:if(O.s=2,!I||Xt(j,O.n.to)<=0)return{value:O.n,done:!1};case 2:if(O.n.r){O.s=3,O={up:O,n:O.n.r,s:0};continue}case 3:O=O.up}return{done:!0}}}}function Kg(C){var O,j,I,H=(((H=C.r)==null?void 0:H.d)||0)-(((H=C.l)==null?void 0:H.d)||0),H=1<H?"r":H<-1?"l":"";H&&(O=H=="r"?"l":"r",j=r({},C),I=C[H],C.from=I.from,C.to=I.to,C[H]=I[H],j[H]=I[O],(C[O]=j).d=op(j)),C.d=op(C)}function op(j){var O=j.r,j=j.l;return(O?j?Math.max(O.d,j.d):O.d:j?j.d:0)+1}function qd(C,O){return o(O).forEach(function(j){C[j]?Ws(C[j],O[j]):C[j]=(function I(H){var Z,ee,re={};for(Z in H)h(H,Z)&&(ee=H[Z],re[Z]=!ee||typeof ee!="object"||Y.has(ee.constructor)?ee:I(ee));return re})(O[j])}),C}function sp(C,O){return C.all||O.all||Object.keys(C).some(function(j){return O[j]&&Yg(O[j],C[j])})}m(ai.prototype,((Ge={add:function(C){return Ws(this,C),this},addKey:function(C){return gu(this,C,C),this},addKeys:function(C){var O=this;return C.forEach(function(j){return gu(O,j,j)}),this},hasKey:function(C){var O=Vd(this).next(C).value;return O&&Xt(O.from,C)<=0&&0<=Xt(O.to,C)}})[L]=function(){return Vd(this)},Ge));var Xs={},lp={},cp=!1;function Gd(C){qd(lp,C),cp||(cp=!0,setTimeout(function(){cp=!1,up(lp,!(lp={}))},0))}function up(C,O){O===void 0&&(O=!1);var j=new Set;if(C.all)for(var I=0,H=Object.values(Xs);I<H.length;I++)Wg(re=H[I],C,j,O);else for(var Z in C){var ee,re,Z=/^idb\:\/\/(.*)\/(.*)\//.exec(Z);Z&&(ee=Z[1],Z=Z[2],re=Xs["idb://".concat(ee,"/").concat(Z)])&&Wg(re,C,j,O)}j.forEach(function(fe){return fe()})}function Wg(C,O,j,I){for(var H=[],Z=0,ee=Object.entries(C.queries.query);Z<ee.length;Z++){for(var re=ee[Z],fe=re[0],Se=[],he=0,de=re[1];he<de.length;he++){var ge=de[he];sp(O,ge.obsSet)?ge.subscribers.forEach(function(Ce){return j.add(Ce)}):I&&Se.push(ge)}I&&H.push([fe,Se])}if(I)for(var ye=0,pe=H;ye<pe.length;ye++){var me=pe[ye],fe=me[0],Se=me[1];C.queries.query[fe]=Se}}function jw(C){var O=C._state,j=C._deps.indexedDB;if(O.isBeingOpened||C.idbdb)return O.dbReadyPromise.then(function(){return O.dbOpenError?pn(O.dbOpenError):C});O.isBeingOpened=!0,O.dbOpenError=null,O.openComplete=!1;var I=O.openCanceller,H=Math.round(10*C.verno),Z=!1;function ee(){if(O.openCanceller!==I)throw new se.DatabaseClosed("db.open() was cancelled")}function re(){return new tt(function(ge,ye){if(ee(),!j)throw new se.MissingAPI;var pe=C.name,me=O.autoSchema||!H?j.open(pe):j.open(pe,H);if(!me)throw new se.MissingAPI;me.onerror=Ma(ye),me.onblocked=lt(C._fireOnBlocked),me.onupgradeneeded=lt(function(Ce){var Te;he=me.transaction,O.autoSchema&&!C._options.allowEmptyDB?(me.onerror=Gs,he.abort(),me.result.close(),(Te=j.deleteDatabase(pe)).onsuccess=Te.onerror=lt(function(){ye(new se.NoSuchDatabase("Database ".concat(pe," doesnt exist")))})):(he.onerror=Ma(ye),Te=Ce.oldVersion>Math.pow(2,62)?0:Ce.oldVersion,de=Te<1,C.idbdb=me.result,Z&&Bd(C,he),mu(C,Te/10,he,ye))},ye),me.onsuccess=lt(function(){he=null;var Ce,Te,Ae,Ne,Ke,ot,st=C.idbdb=me.result,Xe=T(st.objectStoreNames);if(0<Xe.length)try{var pt=st.transaction((Ke=Xe).length===1?Ke[0]:Ke,"readonly");if(O.autoSchema)ot=st,Ne=pt,(Ae=C).verno=ot.version/10,Ne=Ae._dbSchema=nc(0,ot,Ne),Ae._storeNames=T(ot.objectStoreNames,0),zd(Ae,[Ae._allTables],o(Ne),Ne);else if(Ud(C,C._dbSchema,pt),Te=pt,((Te=$d(nc(0,(Ce=C).idbdb,Te),Ce._dbSchema)).add.length||Te.change.some(function(dt){return dt.add.length||dt.change.length}))&&!Z)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),st.close(),H=st.version+1,Z=!0,ge(re());ts(C,pt)}catch{}Us.push(C),st.onversionchange=lt(function(dt){O.vcFired=!0,C.on("versionchange").fire(dt)}),st.onclose=lt(function(){C.close({disableAutoOpen:!1})}),de&&(Xe=C._deps,Ke=pe,Hd(ot=Xe.indexedDB)||Ke===su||rp(ot,Xe.IDBKeyRange).put({name:Ke}).catch(ue)),ge()},ye)}).catch(function(ge){switch(ge?.name){case"UnknownError":if(0<O.PR1398_maxLoop)return O.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),re();break;case"VersionError":if(0<H)return H=0,re()}return tt.reject(ge)})}var fe,Se=O.dbReadyResolve,he=null,de=!1;return tt.race([I,(typeof navigator>"u"?tt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ge){function ye(){return indexedDB.databases().finally(ge)}fe=setInterval(ye,100),ye()}).finally(function(){return clearInterval(fe)}):Promise.resolve()).then(re)]).then(function(){return ee(),O.onReadyBeingFired=[],tt.resolve(ip(function(){return C.on.ready.fire(C.vip)})).then(function ge(){var ye;if(0<O.onReadyBeingFired.length)return ye=O.onReadyBeingFired.reduce(Je,ue),O.onReadyBeingFired=[],tt.resolve(ip(function(){return ye(C.vip)})).then(ge)})}).finally(function(){O.openCanceller===I&&(O.onReadyBeingFired=null,O.isBeingOpened=!1)}).catch(function(ge){O.dbOpenError=ge;try{he&&he.abort()}catch{}return I===O.openCanceller&&C._close(),pn(ge)}).finally(function(){O.openComplete=!0,Se()}).then(function(){var ge;return de&&(ge={},C.tables.forEach(function(ye){ye.schema.indexes.forEach(function(pe){pe.name&&(ge["idb://".concat(C.name,"/").concat(ye.name,"/").concat(pe.name)]=new ai(-1/0,[[[]]]))}),ge["idb://".concat(C.name,"/").concat(ye.name,"/")]=ge["idb://".concat(C.name,"/").concat(ye.name,"/:dels")]=new ai(-1/0,[[[]]])}),ii(Ql).fire(ge),up(ge,!0)),C})}function vu(C){function O(Z){return C.next(Z)}var j=H(O),I=H(function(Z){return C.throw(Z)});function H(Z){return function(re){var re=Z(re),fe=re.value;return re.done?fe:fe&&typeof fe.then=="function"?fe.then(j,I):s(fe)?Promise.all(fe).then(j,I):j(fe)}}return H(O)()}function ns(C,O,j){for(var I=s(C)?C.slice():[C],H=0;H<j;++H)I.push(O);return I}var Lw={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(C){return r(r({},C),{table:function(I){var j=C.table(I),I=j.schema,H={},Z=[];function ee(ge,ye,pe){var Ae=Or(ge),me=H[Ae]=H[Ae]||[],Ce=ge==null?0:typeof ge=="string"?1:ge.length,Te=0<ye,Ae=r(r({},pe),{name:Te?"".concat(Ae,"(virtual-from:").concat(pe.name,")"):pe.name,lowLevelIndex:pe,isVirtual:Te,keyTail:ye,keyLength:Ce,extractKey:tc(ge),unique:!Te&&pe.unique});return me.push(Ae),Ae.isPrimaryKey||Z.push(Ae),1<Ce&&ee(Ce===2?ge[0]:ge.slice(0,Ce-1),ye+1,pe),me.sort(function(Ne,Ke){return Ne.keyTail-Ke.keyTail}),Ae}var re=ee(I.primaryKey.keyPath,0,I.primaryKey);H[":id"]=[re];for(var fe=0,Se=I.indexes;fe<Se.length;fe++){var he=Se[fe];ee(he.keyPath,0,he)}function de(ge){var ye,pe=ge.query.index;return pe.isVirtual?r(r({},ge),{query:{index:pe.lowLevelIndex,range:(ye=ge.query.range,pe=pe.keyTail,{type:ye.type===1?2:ye.type,lower:ns(ye.lower,ye.lowerOpen?C.MAX_KEY:C.MIN_KEY,pe),lowerOpen:!0,upper:ns(ye.upper,ye.upperOpen?C.MIN_KEY:C.MAX_KEY,pe),upperOpen:!0})}}):ge}return r(r({},j),{schema:r(r({},I),{primaryKey:re,indexes:Z,getIndexByKeyPath:function(ge){return(ge=H[Or(ge)])&&ge[0]}}),count:function(ge){return j.count(de(ge))},query:function(ge){return j.query(de(ge))},openCursor:function(ge){var ye=ge.query.index,pe=ye.keyTail,me=ye.keyLength;return ye.isVirtual?j.openCursor(de(ge)).then(function(Te){return Te&&Ce(Te)}):j.openCursor(ge);function Ce(Te){return Object.create(Te,{continue:{value:function(Ae){Ae!=null?Te.continue(ns(Ae,ge.reverse?C.MAX_KEY:C.MIN_KEY,pe)):ge.unique?Te.continue(Te.key.slice(0,me).concat(ge.reverse?C.MIN_KEY:C.MAX_KEY,pe)):Te.continue()}},continuePrimaryKey:{value:function(Ae,Ne){Te.continuePrimaryKey(ns(Ae,C.MAX_KEY,pe),Ne)}},primaryKey:{get:function(){return Te.primaryKey}},key:{get:function(){var Ae=Te.key;return me===1?Ae[0]:Ae.slice(0,me)}},value:{get:function(){return Te.value}}})}}})}})}};function Yd(C,O,j,I){return j=j||{},I=I||"",o(C).forEach(function(H){var Z,ee,re;h(O,H)?(Z=C[H],ee=O[H],typeof Z=="object"&&typeof ee=="object"&&Z&&ee?(re=J(Z))!==J(ee)?j[I+H]=O[H]:re==="Object"?Yd(Z,ee,j,I+H+"."):Z!==ee&&(j[I+H]=O[H]):Z!==ee&&(j[I+H]=O[H])):j[I+H]=void 0}),o(O).forEach(function(H){h(C,H)||(j[I+H]=O[H])}),j}function Kd(C,O){return O.type==="delete"?O.keys:O.keys||O.values.map(C.extractKey)}var Xg={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(C){return r(r({},C),{table:function(O){var j=C.table(O),I=j.schema.primaryKey;return r(r({},j),{mutate:function(H){var Z=et.trans,ee=Z.table(O).hook,re=ee.deleting,fe=ee.creating,Se=ee.updating;switch(H.type){case"add":if(fe.fire===ue)break;return Z._promise("readwrite",function(){return he(H)},!0);case"put":if(fe.fire===ue&&Se.fire===ue)break;return Z._promise("readwrite",function(){return he(H)},!0);case"delete":if(re.fire===ue)break;return Z._promise("readwrite",function(){return he(H)},!0);case"deleteRange":if(re.fire===ue)break;return Z._promise("readwrite",function(){return(function de(ge,ye,pe){return j.query({trans:ge,values:!1,query:{index:I,range:ye},limit:pe}).then(function(me){var Ce=me.result;return he({type:"delete",keys:Ce,trans:ge}).then(function(Te){return 0<Te.numFailures?Promise.reject(Te.failures[0]):Ce.length<pe?{failures:[],numFailures:0,lastResult:void 0}:de(ge,r(r({},ye),{lower:Ce[Ce.length-1],lowerOpen:!0}),pe)})})})(H.trans,H.range,1e4)},!0)}return j.mutate(H);function he(de){var ge,ye,pe,me=et.trans,Ce=de.keys||Kd(I,de);if(Ce)return(de=de.type==="add"||de.type==="put"?r(r({},de),{keys:Ce}):r({},de)).type!=="delete"&&(de.values=i([],de.values)),de.keys&&(de.keys=i([],de.keys)),ge=j,pe=Ce,((ye=de).type==="add"?Promise.resolve([]):ge.getMany({trans:ye.trans,keys:pe,cache:"immutable"})).then(function(Te){var Ae=Ce.map(function(Ne,Ke){var ot,st,Xe,pt=Te[Ke],dt={onerror:null,onsuccess:null};return de.type==="delete"?re.fire.call(dt,Ne,pt,me):de.type==="add"||pt===void 0?(ot=fe.fire.call(dt,Ne,de.values[Ke],me),Ne==null&&ot!=null&&(de.keys[Ke]=Ne=ot,I.outbound||R(de.values[Ke],I.keyPath,Ne))):(ot=Yd(pt,de.values[Ke]),(st=Se.fire.call(dt,ot,Ne,pt,me))&&(Xe=de.values[Ke],Object.keys(st).forEach(function(Ze){h(Xe,Ze)?Xe[Ze]=st[Ze]:R(Xe,Ze,st[Ze])}))),dt});return j.mutate(de).then(function(Ne){for(var Ke=Ne.failures,ot=Ne.results,st=Ne.numFailures,Ne=Ne.lastResult,Xe=0;Xe<Ce.length;++Xe){var pt=(ot||Ce)[Xe],dt=Ae[Xe];pt==null?dt.onerror&&dt.onerror(Ke[Xe]):dt.onsuccess&&dt.onsuccess(de.type==="put"&&Te[Xe]?de.values[Xe]:pt)}return{failures:Ke,results:ot,numFailures:st,lastResult:Ne}}).catch(function(Ne){return Ae.forEach(function(Ke){return Ke.onerror&&Ke.onerror(Ne)}),Promise.reject(Ne)})});throw new Error("Keys missing")}}})}})}};function dp(C,O,j){try{if(!O||O.keys.length<C.length)return null;for(var I=[],H=0,Z=0;H<O.keys.length&&Z<C.length;++H)Xt(O.keys[H],C[Z])===0&&(I.push(j?te(O.values[H]):O.values[H]),++Z);return I.length===C.length?I:null}catch{return null}}var Zg={stack:"dbcore",level:-1,create:function(C){return{table:function(O){var j=C.table(O);return r(r({},j),{getMany:function(I){var H;return I.cache?(H=dp(I.keys,I.trans._cache,I.cache==="clone"))?tt.resolve(H):j.getMany(I).then(function(Z){return I.trans._cache={keys:I.keys,values:I.cache==="clone"?te(Z):Z},Z}):j.getMany(I)},mutate:function(I){return I.type!=="add"&&(I.trans._cache=null),j.mutate(I)}})}}}};function Zs(C,O){return C.trans.mode==="readonly"&&!!C.subscr&&!C.trans.explicit&&C.trans.db._options.cache!=="disabled"&&!O.schema.primaryKey.outbound}function Qg(C,O){switch(C){case"query":return O.values&&!O.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Nw={stack:"dbcore",level:0,name:"Observability",create:function(C){var O=C.schema.name,j=new ai(C.MIN_KEY,C.MAX_KEY);return r(r({},C),{transaction:function(I,H,Z){if(et.subscr&&H!=="readonly")throw new se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(et.querier));return C.transaction(I,H,Z)},table:function(I){function H(Ce){var me,Ce=Ce.query;return[me=Ce.index,new ai((me=(Ce=Ce.range).lower)!=null?me:C.MIN_KEY,(me=Ce.upper)!=null?me:C.MAX_KEY)]}var Z=C.table(I),ee=Z.schema,re=ee.primaryKey,fe=ee.indexes,Se=re.extractKey,he=re.outbound,de=re.autoIncrement&&fe.filter(function(pe){return pe.compound&&pe.keyPath.includes(re.keyPath)}),ge=r(r({},Z),{mutate:function(pe){function me(mt){return mt="idb://".concat(O,"/").concat(I,"/").concat(mt),Ke[mt]||(Ke[mt]=new ai)}var Ce,Te,Ae,Ne=pe.trans,Ke=pe.mutatedParts||(pe.mutatedParts={}),ot=me(""),st=me(":dels"),Xe=pe.type,dt=pe.type==="deleteRange"?[pe.range]:pe.type==="delete"?[pe.keys]:pe.values.length<50?[Kd(re,pe).filter(function(mt){return mt}),pe.values]:[],pt=dt[0],dt=dt[1],Ze=pe.trans._cache;return s(pt)?(ot.addKeys(pt),(Xe=Xe==="delete"||pt.length===dt.length?dp(pt,Ze):null)||st.addKeys(pt),(Xe||dt)&&(Ce=me,Te=Xe,Ae=dt,ee.indexes.forEach(function(mt){var jt=Ce(mt.name||"");function Zt(zt){return zt!=null?mt.extractKey(zt):null}function Et(zt){mt.multiEntry&&s(zt)?zt.forEach(function(Ln){return jt.addKey(Ln)}):jt.addKey(zt)}(Te||Ae).forEach(function(zt,kn){var Bi=Te&&Zt(Te[kn]),kn=Ae&&Zt(Ae[kn]);Xt(Bi,kn)!==0&&(Bi!=null&&Et(Bi),kn!=null)&&Et(kn)})}))):pt?(dt={from:(Ze=pt.lower)!=null?Ze:C.MIN_KEY,to:(Xe=pt.upper)!=null?Xe:C.MAX_KEY},st.add(dt),ot.add(dt)):(ot.add(j),st.add(j),ee.indexes.forEach(function(mt){return me(mt.name).add(j)})),Z.mutate(pe).then(function(mt){return!pt||pe.type!=="add"&&pe.type!=="put"||(ot.addKeys(mt.results),de&&de.forEach(function(jt){for(var Zt=pe.values.map(function(Bi){return jt.extractKey(Bi)}),Et=jt.keyPath.findIndex(function(Bi){return Bi===re.keyPath}),zt=0,Ln=mt.results.length;zt<Ln;++zt)Zt[zt][Et]=mt.results[zt];me(jt.name).addKeys(Zt)})),Ne.mutatedParts=qd(Ne.mutatedParts||{},Ke),mt})}}),ye={get:function(pe){return[re,new ai(pe.key)]},getMany:function(pe){return[re,new ai().addKeys(pe.keys)]},count:H,query:H,openCursor:H};return o(ye).forEach(function(pe){ge[pe]=function(me){var Ce=et.subscr,Te=!!Ce,Ae=Zs(et,Z)&&Qg(pe,me)?me.obsSet={}:Ce;if(Te){var Ne,Ce=function(dt){return dt="idb://".concat(O,"/").concat(I,"/").concat(dt),Ae[dt]||(Ae[dt]=new ai)},Ke=Ce(""),ot=Ce(":dels"),Te=ye[pe](me),st=Te[0],Te=Te[1];if((pe==="query"&&st.isPrimaryKey&&!me.values?ot:Ce(st.name||"")).add(Te),!st.isPrimaryKey){if(pe!=="count")return Ne=pe==="query"&&he&&me.values&&Z.query(r(r({},me),{values:!1})),Z[pe].apply(this,arguments).then(function(dt){if(pe==="query"){if(he&&me.values)return Ne.then(function(Zt){return Zt=Zt.result,Ke.addKeys(Zt),dt});var Ze=me.values?dt.result.map(Se):dt.result;(me.values?Ke:ot).addKeys(Ze)}else{var mt,jt;if(pe==="openCursor")return jt=me.values,(mt=dt)&&Object.create(mt,{key:{get:function(){return ot.addKey(mt.primaryKey),mt.key}},primaryKey:{get:function(){var Zt=mt.primaryKey;return ot.addKey(Zt),Zt}},value:{get:function(){return jt&&Ke.addKey(mt.primaryKey),mt.value}}})}return dt});ot.add(j)}}return Z[pe].apply(this,arguments)}}),ge}})}};function Jg(C,O,j){var I;return j.numFailures===0?O:O.type==="deleteRange"||(I=O.keys?O.keys.length:"values"in O&&O.values?O.values.length:1,j.numFailures===I)?null:(I=r({},O),s(I.keys)&&(I.keys=I.keys.filter(function(H,Z){return!(Z in j.failures)})),"values"in I&&s(I.values)&&(I.values=I.values.filter(function(H,Z){return!(Z in j.failures)})),I)}function Wd(C,O){return j=C,((I=O).lower===void 0||(I.lowerOpen?0<Xt(j,I.lower):0<=Xt(j,I.lower)))&&(j=C,(I=O).upper===void 0||(I.upperOpen?Xt(j,I.upper)<0:Xt(j,I.upper)<=0));var j,I}function fp(C,O,j,I,H,Z){var ee,re,fe,Se,he,de;return!j||j.length===0||(ee=O.query.index,re=ee.multiEntry,fe=O.query.range,Se=I.schema.primaryKey.extractKey,he=ee.extractKey,de=(ee.lowLevelIndex||ee).extractKey,(I=j.reduce(function(ge,ye){var pe=ge,me=[];if(ye.type==="add"||ye.type==="put")for(var Ce=new ai,Te=ye.values.length-1;0<=Te;--Te){var Ae,Ne=ye.values[Te],Ke=Se(Ne);!Ce.hasKey(Ke)&&(Ae=he(Ne),re&&s(Ae)?Ae.some(function(dt){return Wd(dt,fe)}):Wd(Ae,fe))&&(Ce.addKey(Ke),me.push(Ne))}switch(ye.type){case"add":var ot=new ai().addKeys(O.values?ge.map(function(Ze){return Se(Ze)}):ge),pe=ge.concat(O.values?me.filter(function(Ze){return Ze=Se(Ze),!ot.hasKey(Ze)&&(ot.addKey(Ze),!0)}):me.map(function(Ze){return Se(Ze)}).filter(function(Ze){return!ot.hasKey(Ze)&&(ot.addKey(Ze),!0)}));break;case"put":var st=new ai().addKeys(ye.values.map(function(Ze){return Se(Ze)}));pe=ge.filter(function(Ze){return!st.hasKey(O.values?Se(Ze):Ze)}).concat(O.values?me:me.map(function(Ze){return Se(Ze)}));break;case"delete":var Xe=new ai().addKeys(ye.keys);pe=ge.filter(function(Ze){return!Xe.hasKey(O.values?Se(Ze):Ze)});break;case"deleteRange":var pt=ye.range;pe=ge.filter(function(Ze){return!Wd(Se(Ze),pt)})}return pe},C))===C)?C:(I.sort(function(ge,ye){return Xt(de(ge),de(ye))||Xt(Se(ge),Se(ye))}),O.limit&&O.limit<1/0&&(I.length>O.limit?I.length=O.limit:C.length===O.limit&&I.length<O.limit&&(H.dirty=!0)),Z?Object.freeze(I):I)}function ic(C,O){return Xt(C.lower,O.lower)===0&&Xt(C.upper,O.upper)===0&&!!C.lowerOpen==!!O.lowerOpen&&!!C.upperOpen==!!O.upperOpen}function yu(C,O){return((j,I,H,Z)=>{if(j===void 0)return I!==void 0?-1:0;if(I===void 0)return 1;if((j=Xt(j,I))===0){if(H&&Z)return 0;if(H)return 1;if(Z)return-1}return j})(C.lower,O.lower,C.lowerOpen,O.lowerOpen)<=0&&0<=((j,I,H,Z)=>{if(j===void 0)return I!==void 0?1:0;if(I===void 0)return-1;if((j=Xt(j,I))===0){if(H&&Z)return 0;if(H)return-1;if(Z)return 1}return j})(C.upper,O.upper,C.upperOpen,O.upperOpen)}function Iw(C,O,j,I){C.subscribers.add(j),I.addEventListener("abort",function(){var H,Z;C.subscribers.delete(j),C.subscribers.size===0&&(H=C,Z=O,setTimeout(function(){H.subscribers.size===0&&F(Z,H)},3e3))})}var Xd={stack:"dbcore",level:0,name:"Cache",create:function(C){var O=C.schema.name;return r(r({},C),{transaction:function(j,I,H){var Z,ee,re=C.transaction(j,I,H);return I==="readwrite"&&(H=(Z=new AbortController).signal,re.addEventListener("abort",(ee=function(fe){return function(){if(Z.abort(),I==="readwrite"){for(var Se=new Set,he=0,de=j;he<de.length;he++){var ge=de[he],ye=Xs["idb://".concat(O,"/").concat(ge)];if(ye){var pe=C.table(ge),me=ye.optimisticOps.filter(function(mt){return mt.trans===re});if(re._explicit&&fe&&re.mutatedParts)for(var Ce=0,Te=Object.values(ye.queries.query);Ce<Te.length;Ce++)for(var Ae=0,Ne=(st=Te[Ce]).slice();Ae<Ne.length;Ae++)sp((Xe=Ne[Ae]).obsSet,re.mutatedParts)&&(F(st,Xe),Xe.subscribers.forEach(function(mt){return Se.add(mt)}));else if(0<me.length){ye.optimisticOps=ye.optimisticOps.filter(function(mt){return mt.trans!==re});for(var Ke=0,ot=Object.values(ye.queries.query);Ke<ot.length;Ke++)for(var st,Xe,pt,dt=0,Ze=(st=ot[Ke]).slice();dt<Ze.length;dt++)(Xe=Ze[dt]).res!=null&&re.mutatedParts&&(fe&&!Xe.dirty?(pt=Object.isFrozen(Xe.res),pt=fp(Xe.res,Xe.req,me,pe,Xe,pt),Xe.dirty?(F(st,Xe),Xe.subscribers.forEach(function(mt){return Se.add(mt)})):pt!==Xe.res&&(Xe.res=pt,Xe.promise=tt.resolve({result:pt}))):(Xe.dirty&&F(st,Xe),Xe.subscribers.forEach(function(mt){return Se.add(mt)})))}}}Se.forEach(function(mt){return mt()})}}})(!1),{signal:H}),re.addEventListener("error",ee(!1),{signal:H}),re.addEventListener("complete",ee(!0),{signal:H})),re},table:function(j){var I=C.table(j),H=I.schema.primaryKey;return r(r({},I),{mutate:function(Z){var ee,re=et.trans;return!H.outbound&&re.db._options.cache!=="disabled"&&!re.explicit&&re.idbtrans.mode==="readwrite"&&(ee=Xs["idb://".concat(O,"/").concat(j)])?(re=I.mutate(Z),Z.type!=="add"&&Z.type!=="put"||!(50<=Z.values.length||Kd(H,Z).some(function(fe){return fe==null}))?(ee.optimisticOps.push(Z),Z.mutatedParts&&Gd(Z.mutatedParts),re.then(function(fe){0<fe.numFailures&&(F(ee.optimisticOps,Z),(fe=Jg(0,Z,fe))&&ee.optimisticOps.push(fe),Z.mutatedParts)&&Gd(Z.mutatedParts)}),re.catch(function(){F(ee.optimisticOps,Z),Z.mutatedParts&&Gd(Z.mutatedParts)})):re.then(function(fe){var Se=Jg(0,r(r({},Z),{values:Z.values.map(function(he,de){var ge;return fe.failures[de]?he:(R(ge=(ge=H.keyPath)!=null&&ge.includes(".")?te(he):r({},he),H.keyPath,fe.results[de]),ge)})}),fe);ee.optimisticOps.push(Se),queueMicrotask(function(){return Z.mutatedParts&&Gd(Z.mutatedParts)})}),re):I.mutate(Z)},query:function(Z){var ee,re,fe,Se,he,de,ge;return Zs(et,I)&&Qg("query",Z)?(ee=((fe=et.trans)==null?void 0:fe.db._options.cache)==="immutable",re=(fe=et).requery,fe=fe.signal,de=((ye,pe,me,Ce)=>{var Te=Xs["idb://".concat(ye,"/").concat(pe)];if(!Te)return[];if(!(ye=Te.queries[me]))return[null,!1,Te,null];var Ae=ye[(Ce.query?Ce.query.index.name:null)||""];if(!Ae)return[null,!1,Te,null];switch(me){case"query":var Ne=Ae.find(function(Ke){return Ke.req.limit===Ce.limit&&Ke.req.values===Ce.values&&ic(Ke.req.query.range,Ce.query.range)});return Ne?[Ne,!0,Te,Ae]:[Ae.find(function(Ke){return("limit"in Ke.req?Ke.req.limit:1/0)>=Ce.limit&&(!Ce.values||Ke.req.values)&&yu(Ke.req.query.range,Ce.query.range)}),!1,Te,Ae];case"count":return Ne=Ae.find(function(Ke){return ic(Ke.req.query.range,Ce.query.range)}),[Ne,!!Ne,Te,Ae]}})(O,j,"query",Z),ge=de[0],Se=de[2],he=de[3],ge&&de[1]?ge.obsSet=Z.obsSet:(de=I.query(Z).then(function(ye){var pe=ye.result;if(ge&&(ge.res=pe),ee){for(var me=0,Ce=pe.length;me<Ce;++me)Object.freeze(pe[me]);Object.freeze(pe)}else ye.result=te(pe);return ye}).catch(function(ye){return he&&ge&&F(he,ge),Promise.reject(ye)}),ge={obsSet:Z.obsSet,promise:de,subscribers:new Set,type:"query",req:Z,dirty:!1},he?he.push(ge):(he=[ge],(Se=Se||(Xs["idb://".concat(O,"/").concat(j)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[Z.query.index.name||""]=he)),Iw(ge,he,re,fe),ge.promise.then(function(ye){return{result:fp(ye.result,Z,Se?.optimisticOps,I,ge,ee)}})):I.query(Z)}})}})}};function bu(C,O){return new Proxy(C,{get:function(j,I,H){return I==="db"?O:Reflect.get(j,I,H)}})}Qn.prototype.version=function(C){if(isNaN(C)||C<.1)throw new se.Type("Given version is not a positive number");if(C=Math.round(10*C)/10,this.idbdb||this._state.isBeingOpened)throw new se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,C);var O=this._versions,j=O.filter(function(I){return I._cfg.version===C})[0];return j||(j=new this.Version(C),O.push(j),O.sort(tp),j.stores({}),this._state.autoSchema=!1),j},Qn.prototype._whenReady=function(C){var O=this;return this.idbdb&&(this._state.openComplete||et.letThrough||this._vip)?C():new tt(function(j,I){if(O._state.openComplete)return I(new se.DatabaseClosed(O._state.dbOpenError));if(!O._state.isBeingOpened){if(!O._state.autoOpen)return void I(new se.DatabaseClosed);O.open().catch(ue)}O._state.dbReadyPromise.then(j,I)}).then(C)},Qn.prototype.use=function(H){var O=H.stack,j=H.create,I=H.level,H=H.name,Z=(H&&this.unuse({stack:O,name:H}),this._middlewares[O]||(this._middlewares[O]=[]));return Z.push({stack:O,create:j,level:I??10,name:H}),Z.sort(function(ee,re){return ee.level-re.level}),this},Qn.prototype.unuse=function(C){var O=C.stack,j=C.name,I=C.create;return O&&this._middlewares[O]&&(this._middlewares[O]=this._middlewares[O].filter(function(H){return I?H.create!==I:!!j&&H.name!==j})),this},Qn.prototype.open=function(){var C=this;return jn(Nt,function(){return jw(C)})},Qn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var C=this._state,O=Us.indexOf(this);if(0<=O&&Us.splice(O,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}C.isBeingOpened||(C.dbReadyPromise=new tt(function(j){C.dbReadyResolve=j}),C.openCanceller=new tt(function(j,I){C.cancelOpen=I}))},Qn.prototype.close=function(O){var O=(O===void 0?{disableAutoOpen:!0}:O).disableAutoOpen,j=this._state;O?(j.isBeingOpened&&j.cancelOpen(new se.DatabaseClosed),this._close(),j.autoOpen=!1,j.dbOpenError=new se.DatabaseClosed):(this._close(),j.autoOpen=this._options.autoOpen||j.isBeingOpened,j.openComplete=!1,j.dbOpenError=null)},Qn.prototype.delete=function(C){var O=this,j=(C===void 0&&(C={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),I=this._state;return new tt(function(H,Z){function ee(){O.close(C);var re=O._deps.indexedDB.deleteDatabase(O.name);re.onsuccess=lt(function(){var fe,Se,he;fe=O._deps,Se=O.name,Hd(he=fe.indexedDB)||Se===su||rp(he,fe.IDBKeyRange).delete(Se).catch(ue),H()}),re.onerror=Ma(Z),re.onblocked=O._fireOnBlocked}if(j)throw new se.InvalidArgument("Invalid closeOptions argument to db.delete()");I.isBeingOpened?I.dbReadyPromise.then(ee):ee()})},Qn.prototype.backendDB=function(){return this.idbdb},Qn.prototype.isOpen=function(){return this.idbdb!==null},Qn.prototype.hasBeenClosed=function(){var C=this._state.dbOpenError;return C&&C.name==="DatabaseClosed"},Qn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Qn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Qn.prototype,"tables",{get:function(){var C=this;return o(this._allTables).map(function(O){return C._allTables[O]})},enumerable:!1,configurable:!0}),Qn.prototype.transaction=function(){var C=(function(O,j,I){var H=arguments.length;if(H<2)throw new se.InvalidArgument("Too few arguments");for(var Z=new Array(H-1);--H;)Z[H-1]=arguments[H];return I=Z.pop(),[O,q(Z),I]}).apply(this,arguments);return this._transaction.apply(this,C)},Qn.prototype._transaction=function(C,O,j){var I,H,Z=this,ee=et.trans,re=(ee&&ee.db===this&&C.indexOf("!")===-1||(ee=null),C.indexOf("?")!==-1);C=C.replace("!","").replace("?","");try{if(H=O.map(function(Se){if(Se=Se instanceof Z.Table?Se.name:Se,typeof Se!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Se}),C=="r"||C===Do)I=Do;else{if(C!="rw"&&C!=Jo)throw new se.InvalidArgument("Invalid transaction mode: "+C);I=Jo}if(ee){if(ee.mode===Do&&I===Jo){if(!re)throw new se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");ee=null}ee&&H.forEach(function(Se){if(ee&&ee.storeNames.indexOf(Se)===-1){if(!re)throw new se.SubTransaction("Table "+Se+" not included in parent transaction.");ee=null}}),re&&ee&&!ee.active&&(ee=null)}}catch(Se){return ee?ee._promise(null,function(he,de){de(Se)}):pn(Se)}var fe=(function Se(he,de,ge,ye,pe){return tt.resolve().then(function(){var Ae=et.transless||et,me=he._createTransaction(de,ge,he._dbSchema,ye),Ae=(me.explicit=!0,{trans:me,transless:Ae});if(ye)me.idbtrans=ye.idbtrans;else try{me.create(),me.idbtrans._explicit=!0,he._state.PR1398_maxLoop=3}catch(Ne){return Ne.name===ze.InvalidState&&he.isOpen()&&0<--he._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),he.close({disableAutoOpen:!1}),he.open().then(function(){return Se(he,de,ge,null,pe)})):pn(Ne)}var Ce,Te=$(pe),Ae=(Te&&Fn(),tt.follow(function(){var Ne;(Ce=pe.call(me,me))&&(Te?(Ne=Pr.bind(null,null),Ce.then(Ne,Ne)):typeof Ce.next=="function"&&typeof Ce.throw=="function"&&(Ce=vu(Ce)))},Ae));return(Ce&&typeof Ce.then=="function"?tt.resolve(Ce).then(function(Ne){return me.active?Ne:pn(new se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ae.then(function(){return Ce})).then(function(Ne){return ye&&me._resolve(),me._completion.then(function(){return Ne})}).catch(function(Ne){return me._reject(Ne),pn(Ne)})})}).bind(null,this,I,H,ee,j);return ee?ee._promise(I,fe,"lock"):et.trans?jn(et.transless,function(){return Z._whenReady(fe)}):this._whenReady(fe)},Qn.prototype.table=function(C){if(h(this._allTables,C))return this._allTables[C];throw new se.InvalidTable("Table ".concat(C," does not exist"))};var no=Qn;function Qn(C,O){var j,I,H,Z,ee,re=this,fe=(this._middlewares={},this.verno=0,Qn.dependencies),fe=(this._options=O=r({addons:Qn.addons,autoOpen:!0,indexedDB:fe.indexedDB,IDBKeyRange:fe.IDBKeyRange,cache:"cloned"},O),this._deps={indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange},O.addons),Se=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ue,dbReadyPromise:null,cancelOpen:ue,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:O.autoOpen}),he=(Se.dbReadyPromise=new tt(function(de){Se.dbReadyResolve=de}),Se.openCanceller=new tt(function(de,ge){Se.cancelOpen=ge}),this._state=Se,this.name=C,this.on=uu(this,"populate","blocked","versionchange","close",{ready:[Je,ue]}),this.once=function(de,ge){var ye=function(){for(var pe=[],me=0;me<arguments.length;me++)pe[me]=arguments[me];re.on(de).unsubscribe(ye),ge.apply(re,pe)};return re.on(de,ye)},this.on.ready.subscribe=E(this.on.ready.subscribe,function(de){return function(ge,ye){Qn.vip(function(){var pe,me=re._state;me.openComplete?(me.dbOpenError||tt.resolve().then(ge),ye&&de(ge)):me.onReadyBeingFired?(me.onReadyBeingFired.push(ge),ye&&de(ge)):(de(ge),pe=re,ye||de(function Ce(){pe.on.ready.unsubscribe(ge),pe.on.ready.unsubscribe(Ce)}))})}}),this.Collection=(j=this,ri(Dw.prototype,function(Ce,me){this.db=j;var ye=Wh,pe=null;if(me)try{ye=me()}catch(Ae){pe=Ae}var me=Ce._ctx,Ce=me.table,Te=Ce.hook.reading.fire;this._ctx={table:Ce,index:me.index,isPrimKey:!me.index||Ce.schema.primKey.keyPath&&me.index===Ce.schema.primKey.name,range:ye,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:pe,or:me.or,valueMapper:Te!==Ve?Te:null}})),this.Table=(I=this,ri(Xh.prototype,function(de,ge,ye){this.db=I,this._tx=ye,this.name=de,this.schema=ge,this.hook=I._allTables[de]?I._allTables[de].hook:uu(null,{creating:[Qe,ue],reading:[Le,Ve],updating:[We,ue],deleting:[He,ue]})})),this.Transaction=(H=this,ri(ep.prototype,function(de,ge,ye,pe,me){var Ce=this;de!=="readonly"&&ge.forEach(function(Te){Te=(Te=ye[Te])==null?void 0:Te.yProps,Te&&(ge=ge.concat(Te.map(function(Ae){return Ae.updatesTable})))}),this.db=H,this.mode=de,this.storeNames=ge,this.schema=ye,this.chromeTransactionDurability=pe,this.idbtrans=null,this.on=uu(this,"complete","error","abort"),this.parent=me||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new tt(function(Te,Ae){Ce._resolve=Te,Ce._reject=Ae}),this._completion.then(function(){Ce.active=!1,Ce.on.complete.fire()},function(Te){var Ae=Ce.active;return Ce.active=!1,Ce.on.error.fire(Te),Ce.parent?Ce.parent._reject(Te):Ae&&Ce.idbtrans&&Ce.idbtrans.abort(),pn(Te)})})),this.Version=(Z=this,ri(Rw.prototype,function(de){this.db=Z,this._cfg={version:de,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(ee=this,ri(qs.prototype,function(de,ge,ye){if(this.db=ee,this._ctx={table:de,index:ge===":id"?null:ge,or:ye},this._cmp=this._ascending=Xt,this._descending=function(pe,me){return Xt(me,pe)},this._max=function(pe,me){return 0<Xt(pe,me)?pe:me},this._min=function(pe,me){return Xt(pe,me)<0?pe:me},this._IDBKeyRange=ee._deps.IDBKeyRange,!this._IDBKeyRange)throw new se.MissingAPI})),this.on("versionchange",function(de){0<de.newVersion?console.warn("Another connection wants to upgrade database '".concat(re.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(re.name,"'. Closing db now to resume the delete request.")),re.close({disableAutoOpen:!1})}),this.on("blocked",function(de){!de.newVersion||de.newVersion<de.oldVersion?console.warn("Dexie.delete('".concat(re.name,"') was blocked")):console.warn("Upgrade '".concat(re.name,"' blocked by other connection holding version ").concat(de.oldVersion/10))}),this._maxKey=ec(O.IDBKeyRange),this._createTransaction=function(de,ge,ye,pe){return new re.Transaction(de,ge,ye,re._options.chromeTransactionDurability,pe)},this._fireOnBlocked=function(de){re.on("blocked").fire(de),Us.filter(function(ge){return ge.name===re.name&&ge!==re&&!ge._state.vcFired}).map(function(ge){return ge.on("versionchange").fire(de)})},this.use(Zg),this.use(Xd),this.use(Nw),this.use(Lw),this.use(Xg),new Proxy(this,{get:function(de,ge,ye){var pe;return ge==="_vip"||(ge==="table"?function(me){return bu(re.table(me),he)}:(pe=Reflect.get(de,ge,ye))instanceof Xh?bu(pe,he):ge==="tables"?pe.map(function(me){return bu(me,he)}):ge==="_createTransaction"?function(){return bu(pe.apply(this,arguments),he)}:pe)}}));this.vip=he,fe.forEach(function(de){return de(re)})}var ac,Qs=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ev=(Zd.prototype.subscribe=function(C,O,j){return this._subscribe(C&&typeof C!="function"?C:{next:C,error:O,complete:j})},Zd.prototype[Qs]=function(){return this},Zd);function Zd(C){this._subscribe=C}try{ac={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{ac={indexedDB:null,IDBKeyRange:null}}function tv(C){var O,j=!1,I=new ev(function(H){var Z=$(C),ee,re=!1,fe={},Se={},he={get closed(){return re},unsubscribe:function(){re||(re=!0,ee&&ee.abort(),de&&ii.storagemutated.unsubscribe(ye))}},de=(H.start&&H.start(he),!1),ge=function(){return Vt(pe)},ye=function(me){qd(fe,me),sp(Se,fe)&&ge()},pe=function(){var me,Ce,Te;!re&&ac.indexedDB&&(fe={},me={},ee&&ee.abort(),ee=new AbortController,Te=(Ae=>{var Ne=Ur();try{Z&&Fn();var Ke=dn(C,Ae);return Ke=Z?Ke.finally(Pr):Ke}finally{Ne&&hn()}})(Ce={subscr:me,signal:ee.signal,requery:ge,querier:C,trans:null}),Promise.resolve(Te).then(function(Ae){j=!0,O=Ae,re||Ce.signal.aborted||(fe={},(Ne=>{for(var Ke in Ne)if(h(Ne,Ke))return;return 1})(Se=me)||de||(ii(Ql,ye),de=!0),Vt(function(){return!re&&H.next&&H.next(Ae)}))},function(Ae){j=!1,["DatabaseClosedError","AbortError"].includes(Ae?.name)||re||Vt(function(){re||H.error&&H.error(Ae)})}))};return setTimeout(ge,0),he});return I.hasValue=function(){return j},I.getValue=function(){return O},I}var Js=no;function hp(C){var O=rs;try{rs=!0,ii.storagemutated.fire(C),up(C,!0)}finally{rs=O}}m(Js,r(r({},X),{delete:function(C){return new Js(C,{addons:[]}).delete()},exists:function(C){return new Js(C,{addons:[]}).open().then(function(O){return O.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(C){try{return O=Js.dependencies,j=O.indexedDB,O=O.IDBKeyRange,(Hd(j)?Promise.resolve(j.databases()).then(function(I){return I.map(function(H){return H.name}).filter(function(H){return H!==su})}):rp(j,O).toCollection().primaryKeys()).then(C)}catch{return pn(new se.MissingAPI)}var O,j},defineClass:function(){return function(C){c(this,C)}},ignoreTransaction:function(C){return et.trans?jn(et.transless,C):C()},vip:ip,async:function(C){return function(){try{var O=vu(C.apply(this,arguments));return O&&typeof O.then=="function"?O:tt.resolve(O)}catch(j){return pn(j)}}},spawn:function(C,O,j){try{var I=vu(C.apply(j,O||[]));return I&&typeof I.then=="function"?I:tt.resolve(I)}catch(H){return pn(H)}},currentTransaction:{get:function(){return et.trans||null}},waitFor:function(C,O){return C=tt.resolve(typeof C=="function"?Js.ignoreTransaction(C):C).timeout(O||6e4),et.trans?et.trans.waitFor(C):C},Promise:tt,debug:{get:function(){return wt},set:function(C){ft(C)}},derive:x,extend:c,props:m,override:E,Events:uu,on:ii,liveQuery:tv,extendObservabilitySet:qd,getByKeyPath:M,setByKeyPath:R,delByKeyPath:function(C,O){typeof O=="string"?R(C,O,void 0):"length"in O&&[].map.call(O,function(j){R(C,j,void 0)})},shallowClone:N,deepClone:te,getObjectDiff:Yd,cmp:Xt,asap:D,minKey:-1/0,addons:[],connections:Us,errnames:ze,dependencies:ac,cache:Xs,semVer:"4.3.0",version:"4.3.0".split(".").map(function(C){return parseInt(C)}).reduce(function(C,O,j){return C+O/Math.pow(10,2*j)})})),Js.maxKey=ec(Js.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ii(Ql,function(C){rs||(C=new CustomEvent(Ys,{detail:C}),rs=!0,dispatchEvent(C),rs=!1)}),addEventListener(Ys,function(C){C=C.detail,rs||hp(C)}));var oc,rs=!1,zi=function(){};return typeof BroadcastChannel<"u"&&((zi=function(){(oc=new BroadcastChannel(Ys)).onmessage=function(C){return C.data&&hp(C.data)}})(),typeof oc.unref=="function"&&oc.unref(),ii(Ql,function(C){rs||oc.postMessage(C)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(C){if(!no.disableBfCache&&C.persisted){wt&&console.debug("Dexie: handling persisted pagehide"),oc?.close();for(var O=0,j=Us;O<j.length;O++)j[O].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(C){!no.disableBfCache&&C.persisted&&(wt&&console.debug("Dexie: handling persisted pageshow"),zi(),hp({all:new ai(-1/0,[[]])}))})),tt.rejectionMapper=function(C,O){return!C||C instanceof ae||C instanceof TypeError||C instanceof SyntaxError||!C.name||!je[C.name]?C:(O=new je[C.name](O||C.message,C),"stack"in C&&b(O,"stack",{get:function(){return this.inner.stack}}),O)},ft(wt),r(no,Object.freeze({__proto__:null,Dexie:no,Entity:Ug,PropModification:Zl,RangeSet:ai,add:function(C){return new Zl({add:C})},cmp:Xt,default:no,liveQuery:tv,mergeRanges:Ws,rangesOverlap:Yg,remove:function(C){return new Zl({remove:C})},replacePrefix:function(C,O){return new Zl({replacePrefix:[C,O]})}}),{default:no}),no})})(Zy)),Zy.exports}var Ere=_re();const W_=ua(Ere),aL=Symbol.for("Dexie"),Pb=globalThis[aL]||(globalThis[aL]=W_);if(W_.semVer!==Pb.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${W_.semVer} and ${Pb.semVer}`);const{liveQuery:Eke,mergeRanges:Tke,rangesOverlap:kke,RangeSet:Pke,cmp:Oke,Entity:Dke,PropModification:Mke,replacePrefix:Rke,add:jke,remove:Lke,DexieYProvider:Nke}=Pb,dr={labResults:["labName","notes"],testValues:["rawText"],settings:["aiApiKey"],userNotes:["content"]};async function Dc(t,e,n){const r={...t};for(const i of e){const a=r[i];a!=null&&typeof a=="string"&&(r[i]=await _b(a,n))}return r}async function ta(t,e,n){const r={...t};for(const i of e){const a=r[i];if(a!=null&&typeof a=="string")try{r[i]=await q_(a,n)}catch{console.warn(`Failed to decrypt field ${i}, leaving as-is`)}}return r}class Tre{key;db;constructor(e){this.key=e,this.db=Ore}async addLabResult(e){const n=await Dc(e,dr.labResults,this.key);return await this.db.labResults.add(n)}async getLabResult(e){const n=await this.db.labResults.get(e);if(n)return ta(n,dr.labResults,this.key)}async getAllLabResults(){const e=await this.db.labResults.orderBy("date").reverse().toArray();return Promise.all(e.map(n=>ta(n,dr.labResults,this.key)))}async getLabResultsByDateRange(e,n){const r=await this.db.labResults.where("date").between(e,n).toArray();return Promise.all(r.map(i=>ta(i,dr.labResults,this.key)))}async updateLabResult(e,n){const r=await Dc(n,dr.labResults,this.key);return this.db.labResults.update(e,r)}async deleteLabResult(e){await this.db.testValues.where("labResultId").equals(e).delete(),await this.db.labResults.delete(e)}async addTestValue(e){const n=await Dc(e,dr.testValues,this.key);return await this.db.testValues.add(n)}async addTestValues(e){const n=await Promise.all(e.map(i=>Dc(i,dr.testValues,this.key)));return(await this.db.testValues.bulkAdd(n,{allKeys:!0})).filter(i=>i!==void 0)}async getTestValue(e){const n=await this.db.testValues.get(e);if(n)return ta(n,dr.testValues,this.key)}async getTestValuesByLabResult(e){const n=await this.db.testValues.where("labResultId").equals(e).toArray();return Promise.all(n.map(r=>ta(r,dr.testValues,this.key)))}async getAllTestValues(){const e=await this.db.testValues.toArray();return Promise.all(e.map(n=>ta(n,dr.testValues,this.key)))}async getTestValuesByBiomarker(e){const n=await this.db.testValues.where("biomarkerId").equals(e).toArray();return Promise.all(n.map(r=>ta(r,dr.testValues,this.key)))}async updateTestValue(e,n){const r=await Dc(n,dr.testValues,this.key);return this.db.testValues.update(e,r)}async deleteTestValue(e){await this.db.testValues.delete(e)}async getSettings(){const e=await this.db.settings.toCollection().first();if(e)return ta(e,dr.settings,this.key)}async saveSettings(e){const n=await Dc(e,dr.settings,this.key),r=await this.db.settings.toCollection().first();return r?.id!==void 0?(await this.db.settings.update(r.id,n),r.id):await this.db.settings.add(n)}async getPreferences(){return this.db.userPreferences.toCollection().first()}async savePreferences(e){const n=await this.db.userPreferences.toCollection().first();return n?.id!==void 0?(await this.db.userPreferences.update(n.id,e),n.id):await this.db.userPreferences.add(e)}async getBiomarker(e){return this.db.biomarkers.get(e)}async getAllBiomarkers(){return this.db.biomarkers.toArray()}async getBiomarkersByCategory(e){return this.db.biomarkers.where("category").equals(e).toArray()}async findBiomarkerByName(e){return this.db.biomarkers.where("name").equalsIgnoreCase(e).first()}async addNote(e){const n=await Dc(e,dr.userNotes,this.key);return await this.db.userNotes.add(n)}async getNote(e){const n=await this.db.userNotes.get(e);if(n)return ta(n,dr.userNotes,this.key)}async getAllNotes(){const e=await this.db.userNotes.orderBy("createdAt").reverse().toArray();return Promise.all(e.map(n=>ta(n,dr.userNotes,this.key)))}async getNotesByLabResult(e){const n=await this.db.userNotes.where("labResultId").equals(e).toArray();return Promise.all(n.map(r=>ta(r,dr.userNotes,this.key)))}async getNotesByBiomarker(e){const n=await this.db.userNotes.where("biomarkerId").equals(e).toArray();return Promise.all(n.map(r=>ta(r,dr.userNotes,this.key)))}async getNotesByTestValue(e){const n=await this.db.userNotes.where("testValueId").equals(e).toArray();return Promise.all(n.map(r=>ta(r,dr.userNotes,this.key)))}async getNotesByTag(e){const n=await this.db.userNotes.where("tags").equals(e).toArray();return Promise.all(n.map(r=>ta(r,dr.userNotes,this.key)))}async updateNote(e,n){const r=await Dc(n,dr.userNotes,this.key);return this.db.userNotes.update(e,r)}async deleteNote(e){await this.db.userNotes.delete(e)}async addUserNote(e){return this.addNote(e)}async exportAllData(){const[e,n,r,i,a]=await Promise.all([this.getAllLabResults(),this.db.testValues.toArray().then(o=>Promise.all(o.map(s=>ta(s,dr.testValues,this.key)))),this.getAllNotes(),this.getSettings(),this.getPreferences()]);return{labResults:e,testValues:n,userNotes:r,settings:i,preferences:a}}async clearAllData(){await Promise.all([this.db.labResults.clear(),this.db.testValues.clear(),this.db.userNotes.clear(),this.db.settings.clear(),this.db.userPreferences.clear()])}}function kre(t){return new Tre(t)}class Pre extends Pb{labResults;testValues;biomarkers;userPreferences;settings;userNotes;constructor(){super("HemoIO"),this.version(1).stores({labResults:"++id, date, labName",testValues:"++id, labResultId, biomarkerId, [labResultId+biomarkerId]",biomarkers:"++id, name, category",userPreferences:"++id",settings:"++id"}),this.version(2).stores({labResults:"++id, date, labName",testValues:"++id, labResultId, biomarkerId, [labResultId+biomarkerId]",biomarkers:"++id, name, category",userPreferences:"++id",settings:"++id",userNotes:"++id, labResultId, biomarkerId, testValueId, createdAt, *tags"})}}const Ore=new Pre;function vg(){const{encryptionKey:t,status:e}=Ih(),n=w.useMemo(()=>t?kre(t):null,[t]);return{db:n,isReady:e==="unlocked"&&n!==null}}function Dre(t){if(typeof t.value!="number")return"unknown";const e=t.value,{referenceRangeLow:n,referenceRangeHigh:r}=t;return n===void 0&&r===void 0?"unknown":n!==void 0&&e<n?"low":r!==void 0&&e>r?"high":"normal"}function Mre(t){return{...t,status:Dre(t)}}function fP(){const{db:t,isReady:e}=vg(),[n,r]=w.useState([]),[i,a]=w.useState(!0),[o,s]=w.useState(null),[c,d]=w.useState({}),f=w.useCallback(async()=>{if(!t||!e){r([]),a(!1);return}a(!0),s(null);try{const b=await t.getAllLabResults(),x=await Promise.all(b.map(async S=>{const A=S.id?await t.getTestValuesByLabResult(S.id):[],T=A.map(Mre),E=T.filter(k=>k.status==="low"||k.status==="high").length;return{...S,testValues:T,abnormalCount:E,totalCount:A.length}}));r(x)}catch(b){const x=b instanceof Error?b.message:"Failed to load lab results";s(x),console.error("Error fetching lab results:",b)}finally{a(!1)}},[t,e]);w.useEffect(()=>{f()},[f]);const h=w.useMemo(()=>{let b=[...n];if(c.startDate&&(b=b.filter(x=>x.date>=c.startDate)),c.endDate&&(b=b.filter(x=>x.date<=c.endDate)),c.searchTerm){const x=c.searchTerm.toLowerCase();b=b.filter(S=>S.labName.toLowerCase().includes(x))}return b.sort((x,S)=>S.date.getTime()-x.date.getTime()),b},[n,c]),m=w.useCallback(async b=>{if(!t)throw new Error("Database not available");try{await t.deleteLabResult(b),r(x=>x.filter(S=>S.id!==b))}catch(x){const S=x instanceof Error?x.message:"Failed to delete lab result";throw s(S),new Error(S)}},[t]),v=w.useCallback(async()=>{await f()},[f]);return{results:h,isLoading:i,error:o,filters:c,setFilters:d,refresh:v,deleteResult:m}}function Rre(t){if(t.length<2)return 0;const e=t.length,n=t.map(c=>c.date.getTime()),r=t.map(c=>c.value),i=n.reduce((c,d)=>c+d,0)/e,a=r.reduce((c,d)=>c+d,0)/e;let o=0,s=0;for(let c=0;c<e;c++)o+=(n[c]-i)*(r[c]-a),s+=(n[c]-i)**2;return s===0?0:o/s}function jre(t,e){if(t.length<2)return 0;const n=t.length,r=t.map(h=>h.value),i=r.reduce((h,m)=>h+m,0)/n,a=t.map(h=>h.date.getTime()),o=a.reduce((h,m)=>h+m,0)/n,s=i-e*o,c=a.map(h=>e*h+s);let d=0,f=0;for(let h=0;h<n;h++)d+=(r[h]-c[h])**2,f+=(r[h]-i)**2;return f===0?0:1-d/f}function Lre(t){if(t.length<2)return{direction:"insufficient_data",confidence:0,description:"More data needed for trend analysis"};const e=[...t].sort((h,m)=>h.date.getTime()-m.date.getTime()),n=Rre(e),r=jre(e,n),i=e.map(h=>h.value),a=i.reduce((h,m)=>h+m,0)/i.length;Math.sqrt(i.reduce((h,m)=>h+(m-a)**2,0)/i.length);const o=a*.05/(720*60*60*1e3);let s,c;if(Math.abs(n)<o)s="stable",c="Values have remained relatively stable";else if(n>0){s="increasing";const h=e.length>1?(e[e.length-1].value-e[0].value)/e[0].value*100:0;c=`Values have increased by ${Math.abs(h).toFixed(1)}% over the period`}else{s="decreasing";const h=e.length>1?(e[0].value-e[e.length-1].value)/e[0].value*100:0;c=`Values have decreased by ${Math.abs(h).toFixed(1)}% over the period`}const d=Math.min(.2,(e.length-2)*.05),f=Math.min(1,r+d);return{direction:s,confidence:f,description:c}}function Nre(t){if(t.length<2)return null;const e=[...t].sort((v,b)=>v.date.getTime()-b.date.getTime()),n=e[0],r=e[e.length-1],i=r.value-n.value,a=r.date.getTime()-n.date.getTime();if(a===0)return null;const o=1440*60*1e3,s=7*o,c=30*o,d=i/a*o,f=i/a*s,h=i/a*c,m=n.value!==0?i/n.value*100:0;return{perDay:d,perWeek:f,perMonth:h,percentageChange:m,unit:n.unit}}function Ire(t){if(t.length===0)throw new Error("Cannot calculate statistics for empty data set");const e=[...t].sort((m,v)=>m.date.getTime()-v.date.getTime()),n=e.map(m=>m.value),r=[...n].sort((m,v)=>m-v),i=n.reduce((m,v)=>m+v,0),a=n.length,o=i/a,s=Math.floor(a/2),c=a%2!==0?r[s]:(r[s-1]+r[s])/2,f=n.map(m=>(m-o)**2).reduce((m,v)=>m+v,0)/a,h=Math.sqrt(f);return{min:Math.min(...n),max:Math.max(...n),average:o,median:c,standardDeviation:h,latest:e[e.length-1].value,latestDate:e[e.length-1].date,oldest:e[0].value,oldestDate:e[0].date,count:a,unit:e[0].unit}}function RF(t){if(t.length===0)throw new Error("Cannot analyze trend for empty data set");const e=Lre(t),n=Nre(t),r=Ire(t);let i=0,a=0,o=0;for(const s of t)s.status==="normal"?i++:s.status==="high"?a++:s.status==="low"&&o++;return{direction:e,rateOfChange:n,statistics:r,normalCount:i,highCount:a,lowCount:o}}function zre(t,e){const n=[];for(const r of t){if(typeof r.value!="number")continue;const i=e.get(r.labResultId);i&&n.push({date:i.date,value:r.value,unit:r.unit,referenceRange:{low:r.referenceRangeLow,high:r.referenceRangeHigh},labName:i.labName,status:r.status})}return n.sort((r,i)=>r.date.getTime()-i.date.getTime())}function Bre(t,e=0){const{direction:n,highCount:r,lowCount:i,statistics:a}=t;if(e>=3)return"critical";const o=(r+i)/a.count;return o>.5||n.direction!=="stable"&&n.confidence>.7&&(r>0||i>0)?"warning":r>0||i>0?"info":n.direction==="stable"&&o===0&&a.count>1?"positive":null}function $re(t){if(t.length===0)return{count:0,direction:null};const e=[...t].sort((o,s)=>o.date.getTime()-s.date.getTime());let n=0,r=0,i=null,a=null;for(const o of e)if(o.status==="high"||o.status==="low"){const s=o.status;i===null||i===s?(r++,i=s):(r>n&&(n=r,a=i),r=1,i=s)}else r>n&&(n=r,a=i),r=0,i=null;return r>n&&(n=r,a=i),{count:n,direction:a}}const Fre=[{name:"White Blood Cell Count",aliases:["WBC","Leukocytes","White Blood Cells","Globuli Bianchi","Leucociti"],category:"cbc",specimenType:"whole-blood",loincCode:"6690-2",canonicalUnit:"10^9/L",alternativeUnits:["K/uL","cells/L","10^3/L"],defaultReferenceRange:{low:4.5,high:11,unit:"10^9/L"},description:"Measures the total number of white blood cells, which fight infection.",highIndication:"May indicate infection, inflammation, or immune disorders",lowIndication:"May indicate bone marrow problems or autoimmune conditions"},{name:"Red Blood Cell Count",aliases:["RBC","Erythrocytes","Red Blood Cells","Globuli Rossi","Eritrociti"],category:"cbc",specimenType:"whole-blood",loincCode:"789-8",canonicalUnit:"10^12/L",alternativeUnits:["M/uL","million/L","10^6/L"],defaultReferenceRange:{low:4.5,high:5.5,unit:"10^12/L"},description:"Measures the number of red blood cells that carry oxygen.",highIndication:"May indicate dehydration or polycythemia",lowIndication:"May indicate anemia"},{name:"Hemoglobin",aliases:["Hgb","Hb","HGB","Emoglobina"],category:"cbc",specimenType:"whole-blood",loincCode:"718-7",canonicalUnit:"g/dL",alternativeUnits:["g/L","mmol/L"],defaultReferenceRange:{low:12,high:17.5,unit:"g/dL"},description:"Protein in red blood cells that carries oxygen.",highIndication:"May indicate dehydration or lung disease",lowIndication:"May indicate anemia or blood loss"},{name:"Hematocrit",aliases:["Hct","HCT","PCV","Packed Cell Volume","Ematocrito"],category:"cbc",specimenType:"whole-blood",loincCode:"4544-3",canonicalUnit:"%",alternativeUnits:["L/L","ratio"],defaultReferenceRange:{low:36,high:50,unit:"%"},description:"Percentage of blood volume made up of red blood cells.",highIndication:"May indicate dehydration or polycythemia",lowIndication:"May indicate anemia"},{name:"Platelet Count",aliases:["PLT","Platelets","Thrombocytes","Piastrine","Trombociti"],category:"cbc",specimenType:"whole-blood",loincCode:"777-3",canonicalUnit:"10^9/L",alternativeUnits:["K/uL","10^3/L"],defaultReferenceRange:{low:150,high:400,unit:"10^9/L"},description:"Cell fragments that help blood clot.",highIndication:"May indicate inflammation or bone marrow disorder",lowIndication:"May indicate bleeding risk or bone marrow problems"},{name:"Mean Corpuscular Volume",aliases:["MCV","Volume Globulare Medio","Volume Corpuscolare Medio"],category:"cbc",specimenType:"whole-blood",loincCode:"787-2",canonicalUnit:"fL",alternativeUnits:["m"],defaultReferenceRange:{low:80,high:100,unit:"fL"},description:"Average size of red blood cells.",highIndication:"May indicate B12/folate deficiency (macrocytic anemia)",lowIndication:"May indicate iron deficiency (microcytic anemia)"},{name:"Mean Corpuscular Hemoglobin",aliases:["MCH","Contenuto Medio di Hb","Contenuto Emoglobinico Corpuscolare Medio"],category:"cbc",specimenType:"whole-blood",loincCode:"785-6",canonicalUnit:"pg",alternativeUnits:["fmol"],defaultReferenceRange:{low:27,high:33,unit:"pg"},description:"Average amount of hemoglobin per red blood cell.",highIndication:"May indicate macrocytic anemia",lowIndication:"May indicate iron deficiency"},{name:"Mean Corpuscular Hemoglobin Concentration",aliases:["MCHC","Concentrazione Media di Hb","Concentrazione Emoglobinica Corpuscolare Media"],category:"cbc",specimenType:"whole-blood",loincCode:"786-4",canonicalUnit:"g/dL",alternativeUnits:["g/L","%"],defaultReferenceRange:{low:32,high:36,unit:"g/dL"},description:"Average concentration of hemoglobin in red blood cells.",highIndication:"May indicate spherocytosis",lowIndication:"May indicate iron deficiency or thalassemia"},{name:"Red Cell Distribution Width",aliases:["RDW","RDW-CV"],category:"cbc",specimenType:"whole-blood",loincCode:"788-0",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:11.5,high:14.5,unit:"%"},description:"Variation in red blood cell size.",highIndication:"May indicate mixed anemia or nutritional deficiency",lowIndication:"Generally not clinically significant"},{name:"Neutrophils",aliases:["Neutrophil Count","Neutrofili","Neutrofili (assoluti)","Neutrophils Absolute","ANC","Granulociti Neutrofili"],category:"cbc",specimenType:"whole-blood",loincCode:"751-8",canonicalUnit:"10^9/L",alternativeUnits:["10^3/L","K/uL","cells/L"],defaultReferenceRange:{low:1.5,high:8,unit:"10^9/L"},description:"Most abundant white blood cell type, fights bacterial infections.",highIndication:"May indicate bacterial infection or inflammation",lowIndication:"May indicate neutropenia, risk of infection"},{name:"Neutrophils Percentage",aliases:["Neutrophils %","Neutrofili (%)","Neutrophil %","% Neutrophils"],category:"cbc",specimenType:"whole-blood",loincCode:"770-8",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:40,high:70,unit:"%"},description:"Percentage of white blood cells that are neutrophils.",highIndication:"May indicate bacterial infection",lowIndication:"May indicate viral infection or other conditions"},{name:"Lymphocytes",aliases:["Lymphocyte Count","Linfociti","Linfociti (assoluti)","Lymphocytes Absolute","ALC"],category:"cbc",specimenType:"whole-blood",loincCode:"731-0",canonicalUnit:"10^9/L",alternativeUnits:["10^3/L","K/uL","cells/L"],defaultReferenceRange:{low:1,high:4,unit:"10^9/L"},description:"White blood cells important for immune response.",highIndication:"May indicate viral infection or lymphoproliferative disorder",lowIndication:"May indicate immunodeficiency or HIV"},{name:"Lymphocytes Percentage",aliases:["Lymphocytes %","Linfociti (%)","Lymphocyte %","% Lymphocytes"],category:"cbc",specimenType:"whole-blood",loincCode:"736-9",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:20,high:40,unit:"%"},description:"Percentage of white blood cells that are lymphocytes.",highIndication:"May indicate viral infection",lowIndication:"May indicate bacterial infection or immunodeficiency"},{name:"Monocytes",aliases:["Monocyte Count","Monociti","Monociti (assoluti)","Monocytes Absolute"],category:"cbc",specimenType:"whole-blood",loincCode:"742-7",canonicalUnit:"10^9/L",alternativeUnits:["10^3/L","K/uL","cells/L"],defaultReferenceRange:{low:.2,high:1,unit:"10^9/L"},description:"White blood cells that become macrophages in tissues.",highIndication:"May indicate chronic infection or inflammation",lowIndication:"Generally not clinically significant"},{name:"Monocytes Percentage",aliases:["Monocytes %","Monociti (%)","Monocyte %","% Monocytes"],category:"cbc",specimenType:"whole-blood",loincCode:"5905-5",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:2,high:10,unit:"%"},description:"Percentage of white blood cells that are monocytes.",highIndication:"May indicate chronic infection",lowIndication:"Generally not clinically significant"},{name:"Eosinophils",aliases:["Eosinophil Count","Eosinofili","Eosinofili (assoluti)","Eosinophils Absolute","AEC"],category:"cbc",specimenType:"whole-blood",loincCode:"711-2",canonicalUnit:"10^9/L",alternativeUnits:["10^3/L","K/uL","cells/L"],defaultReferenceRange:{low:0,high:.5,unit:"10^9/L"},description:"White blood cells involved in allergic responses and parasites.",highIndication:"May indicate allergies, parasitic infection, or asthma",lowIndication:"Generally not clinically significant"},{name:"Eosinophils Percentage",aliases:["Eosinophils %","Eosinofili (%)","Eosinophil %","% Eosinophils"],category:"cbc",specimenType:"whole-blood",loincCode:"713-8",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:1,high:6,unit:"%"},description:"Percentage of white blood cells that are eosinophils.",highIndication:"May indicate allergies or parasitic infection",lowIndication:"Generally not clinically significant"},{name:"Basophils",aliases:["Basophil Count","Basofili","Basofili (assoluti)","Basophils Absolute"],category:"cbc",specimenType:"whole-blood",loincCode:"704-7",canonicalUnit:"10^9/L",alternativeUnits:["10^3/L","K/uL","cells/L"],defaultReferenceRange:{low:0,high:.2,unit:"10^9/L"},description:"Rarest white blood cell type, involved in allergic reactions.",highIndication:"May indicate allergic reaction or myeloproliferative disorder",lowIndication:"Generally not clinically significant"},{name:"Basophils Percentage",aliases:["Basophils %","Basofili (%)","Basophil %","% Basophils"],category:"cbc",specimenType:"whole-blood",loincCode:"706-2",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:2,unit:"%"},description:"Percentage of white blood cells that are basophils.",highIndication:"May indicate allergic reaction",lowIndication:"Generally not clinically significant"}],Ure=[{name:"Erythrocyte Sedimentation Rate",aliases:["ESR","Sed Rate","V.E.S.","VES","Velocit di Eritrosedimentazione"],category:"cbc",specimenType:"whole-blood",loincCode:"30341-2",canonicalUnit:"mm/h",alternativeUnits:["mm/hr"],defaultReferenceRange:{low:0,high:20,unit:"mm/h"},description:"Rate at which red blood cells settle, indicates inflammation.",highIndication:"May indicate inflammation, infection, or autoimmune disease",lowIndication:"Generally not clinically significant"},{name:"C-Reactive Protein",aliases:["CRP","Proteina C Reattiva","PCR","C-Reactive Protein High Sensitivity","hs-CRP"],category:"metabolic",specimenType:"serum",loincCode:"1988-5",canonicalUnit:"mg/L",alternativeUnits:["mg/dL"],defaultReferenceRange:{low:0,high:5,unit:"mg/L"},description:"Protein that rises with inflammation in the body.",highIndication:"May indicate infection, inflammation, or cardiovascular risk",lowIndication:"Generally indicates low inflammation"}],Hre=[{name:"Glucose",aliases:["Blood Sugar","Fasting Glucose","FBG","Blood Glucose","Glucosio","S-Glucosio","Glicemia","P-Glucosio","Glicemia a digiuno"],category:"metabolic",specimenType:"serum",loincCode:"2345-7",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:70,high:100,unit:"mg/dL"},description:"Blood sugar level, primary energy source for cells.",highIndication:"May indicate diabetes or prediabetes",lowIndication:"May indicate hypoglycemia"},{name:"Creatinine",aliases:["Creat","Serum Creatinine","S-Creatinina","Creatinina","P-Creatinina","Creatininemia","P-Creatinina (metodo enzimatico)"],category:"metabolic",specimenType:"serum",loincCode:"2160-0",canonicalUnit:"mg/dL",alternativeUnits:["mol/L","umol/L"],defaultReferenceRange:{low:.7,high:1.3,unit:"mg/dL"},description:"Waste product filtered by kidneys, indicates kidney function.",highIndication:"May indicate kidney dysfunction",lowIndication:"May indicate low muscle mass"},{name:"Blood Urea Nitrogen",aliases:["BUN","Urea Nitrogen","Urea"],category:"metabolic",specimenType:"serum",loincCode:"3094-0",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:7,high:20,unit:"mg/dL"},description:"Waste product from protein metabolism, filtered by kidneys.",highIndication:"May indicate kidney disease or dehydration",lowIndication:"May indicate liver disease or malnutrition"},{name:"Sodium",aliases:["Na","Na+","Serum Sodium","S-Na Sodio","Sodio","S-Na"],category:"metabolic",specimenType:"serum",loincCode:"2951-2",canonicalUnit:"mEq/L",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:136,high:145,unit:"mEq/L"},description:"Electrolyte important for fluid balance and nerve function.",highIndication:"May indicate dehydration or hormone imbalance",lowIndication:"May indicate overhydration or kidney problems"},{name:"Potassium",aliases:["K","K+","Serum Potassium","S-K Potassio","Potassio","S-K"],category:"metabolic",specimenType:"serum",loincCode:"2823-3",canonicalUnit:"mEq/L",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:3.5,high:5,unit:"mEq/L"},description:"Electrolyte critical for heart and muscle function.",highIndication:"May indicate kidney disease or medication effects",lowIndication:"May indicate diuretic use or GI losses"},{name:"Chloride",aliases:["Cl","Cl-","Serum Chloride"],category:"metabolic",specimenType:"serum",loincCode:"2075-0",canonicalUnit:"mEq/L",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:98,high:106,unit:"mEq/L"},description:"Electrolyte that helps maintain fluid balance.",highIndication:"May indicate dehydration or kidney disease",lowIndication:"May indicate vomiting or hormone imbalance"},{name:"Carbon Dioxide",aliases:["CO2","Bicarbonate","HCO3","Total CO2"],category:"metabolic",specimenType:"serum",loincCode:"2028-9",canonicalUnit:"mEq/L",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:23,high:29,unit:"mEq/L"},description:"Reflects acid-base balance in the blood.",highIndication:"May indicate metabolic alkalosis or lung disease",lowIndication:"May indicate metabolic acidosis or kidney disease"},{name:"Calcium",aliases:["Ca","Ca++","Serum Calcium","Total Calcium","S-Calcio","Calcio","Calcemia"],category:"metabolic",specimenType:"serum",loincCode:"17861-6",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:8.5,high:10.5,unit:"mg/dL"},description:"Mineral essential for bones, nerves, and muscles.",highIndication:"May indicate hyperparathyroidism or cancer",lowIndication:"May indicate vitamin D deficiency or kidney disease"},{name:"Magnesium",aliases:["Mg","Serum Magnesium","S-Mg","S-Mg Magnesio","Magnesio","Magnesiemia"],category:"metabolic",specimenType:"serum",loincCode:"19123-9",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L","mEq/L"],defaultReferenceRange:{low:1.7,high:2.4,unit:"mg/dL"},description:"Mineral essential for nerve and muscle function, bone health, and energy production.",highIndication:"May indicate kidney disease, excessive supplementation, or adrenal insufficiency",lowIndication:"May indicate malnutrition, alcoholism, diabetes, or medication effects"},{name:"eGFR",aliases:["Estimated GFR","Glomerular Filtration Rate","GFR","Filtrato Glomerulare","Filtrato Glomerulare (eGFR)","eGFR (Velocit di filtrazione glomerulare stimata)","Velocit di filtrazione glomerulare","VFG","Filtrato Glomerulare (eGFR) (calcolato secondo formula CKD-EPI)"],category:"metabolic",specimenType:"serum",loincCode:"33914-3",canonicalUnit:"mL/min/1.73m",alternativeUnits:["mL/min/1,73m","mL/min/1,73m^2"],defaultReferenceRange:{low:90,high:120,unit:"mL/min/1.73m"},description:"Estimate of how well kidneys filter waste.",highIndication:"Generally not concerning",lowIndication:"May indicate chronic kidney disease"}],Vre=[{name:"Total Cholesterol",aliases:["Cholesterol","TC","Chol","S-Colesterolo Totale","Colesterolo Totale","Colesterolo","S-Cholesterolo Totale","Cholesterolo Totale","Cholesterolo","P-Colesterolo","Colesterolemia"],category:"lipid",specimenType:"serum",loincCode:"2093-3",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L","mmo/L"],defaultReferenceRange:{low:0,high:200,unit:"mg/dL"},description:"Total amount of cholesterol in the blood.",highIndication:"Increased cardiovascular disease risk",lowIndication:"May indicate malnutrition or hyperthyroidism"},{name:"LDL Cholesterol",aliases:["LDL","LDL-C","Bad Cholesterol"],category:"lipid",specimenType:"serum",loincCode:"13457-7",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:0,high:100,unit:"mg/dL"},description:"Low-density lipoprotein, deposits cholesterol in arteries.",highIndication:"Increased risk of atherosclerosis",lowIndication:"Generally desirable"},{name:"HDL Cholesterol",aliases:["HDL","HDL-C","Good Cholesterol","S-Colesterolo HDL","Colesterolo HDL","P-Colesterolo HDL","HDL Colesterolo"],category:"lipid",specimenType:"serum",loincCode:"2085-9",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L","mmo/L"],defaultReferenceRange:{low:40,high:60,unit:"mg/dL"},description:"High-density lipoprotein, removes cholesterol from arteries.",highIndication:"Generally protective",lowIndication:"Increased cardiovascular risk"},{name:"Triglycerides",aliases:["TG","Trigs","TRIG","Trigliceridi","S-Trigliceridi","P-Trigliceridi","Trigliceridemia"],category:"lipid",specimenType:"serum",loincCode:"2571-8",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:0,high:150,unit:"mg/dL"},description:"Type of fat in the blood from food and liver production.",highIndication:"Increased cardiovascular and pancreatitis risk",lowIndication:"Generally not concerning"},{name:"VLDL Cholesterol",aliases:["VLDL","VLDL-C"],category:"lipid",specimenType:"serum",loincCode:"13458-5",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:5,high:40,unit:"mg/dL"},description:"Very low-density lipoprotein, carries triglycerides.",highIndication:"Increased cardiovascular risk",lowIndication:"Generally not concerning"},{name:"Non-HDL Cholesterol",aliases:["Non-HDL","Non-HDL-C"],category:"lipid",specimenType:"serum",loincCode:"43396-1",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],defaultReferenceRange:{low:0,high:130,unit:"mg/dL"},description:"Total cholesterol minus HDL, all atherogenic particles.",highIndication:"Increased cardiovascular risk",lowIndication:"Generally desirable"}],qre=[{name:"Thyroid Stimulating Hormone",aliases:["TSH","Thyrotropin","S-TSH Tirotropina","Tirotropina","S-TSH","Tireotropina","S-TSH Tireotropina","S-Tirotropina","S-Tirotropina (TSH)","Tirotropina (TSH)","Ormone tireotropo","S-Tirotropina (TSH) (ECLIA Roche)"],category:"thyroid",specimenType:"serum",loincCode:"3016-3",canonicalUnit:"mIU/L",alternativeUnits:["IU/mL","mU/L","UI/mL","mUI/L","uIU/mL"],defaultReferenceRange:{low:.4,high:4,unit:"mIU/L"},description:"Pituitary hormone that controls thyroid function.",highIndication:"May indicate hypothyroidism",lowIndication:"May indicate hyperthyroidism"},{name:"Free T4",aliases:["FT4","Free Thyroxine","Thyroxine Free","S-FT4","S-FT4 Tiroxina libera","Tiroxina libera","FT4 Tiroxina libera"],category:"thyroid",specimenType:"serum",loincCode:"3024-7",canonicalUnit:"ng/dL",alternativeUnits:["pmol/L"],defaultReferenceRange:{low:.8,high:1.8,unit:"ng/dL"},description:"Unbound thyroid hormone available to tissues.",highIndication:"May indicate hyperthyroidism",lowIndication:"May indicate hypothyroidism"},{name:"Total T4",aliases:["T4","Thyroxine","Serum T4"],category:"thyroid",specimenType:"serum",loincCode:"3026-2",canonicalUnit:"g/dL",alternativeUnits:["nmol/L"],defaultReferenceRange:{low:4.5,high:12,unit:"g/dL"},description:"Total thyroxine (bound and free) in blood.",highIndication:"May indicate hyperthyroidism",lowIndication:"May indicate hypothyroidism"},{name:"Free T3",aliases:["FT3","Free Triiodothyronine","S-FT3","S-FT3 Triiodotironina libera","Triiodotironina libera","FT3 Triiodotironina libera"],category:"thyroid",specimenType:"serum",loincCode:"3051-0",canonicalUnit:"pg/mL",alternativeUnits:["pmol/L"],defaultReferenceRange:{low:2.3,high:4.2,unit:"pg/mL"},description:"Active thyroid hormone available to tissues.",highIndication:"May indicate hyperthyroidism",lowIndication:"May indicate hypothyroidism or illness"},{name:"Total T3",aliases:["T3","Triiodothyronine"],category:"thyroid",specimenType:"serum",loincCode:"3053-6",canonicalUnit:"ng/dL",alternativeUnits:["nmol/L"],defaultReferenceRange:{low:80,high:200,unit:"ng/dL"},description:"Total triiodothyronine in blood.",highIndication:"May indicate hyperthyroidism",lowIndication:"May indicate hypothyroidism"},{name:"TPO Antibodies",aliases:["Anti-TPO","Thyroid Peroxidase Antibodies","S-Anticorpi anti Tireoperossidasi","Anticorpi anti Tireoperossidasi","Anti-Tireoperossidasi","TPOAb","Thyroid Peroxidase Ab"],category:"thyroid",specimenType:"serum",loincCode:"8099-4",canonicalUnit:"IU/mL",alternativeUnits:["UI/mL","U/mL","kIU/L"],defaultReferenceRange:{low:0,high:35,unit:"IU/mL"},description:"Antibodies against thyroid peroxidase enzyme, marker for autoimmune thyroid disease.",highIndication:"May indicate Hashimoto thyroiditis or Graves disease",lowIndication:"Normal finding - no autoimmune thyroid disease"}],Gre=[{name:"Serum Iron",aliases:["Iron","Fe","Iron Level"],category:"iron",specimenType:"serum",loincCode:"2498-4",canonicalUnit:"g/dL",alternativeUnits:["mol/L","umol/L"],defaultReferenceRange:{low:60,high:170,unit:"g/dL"},description:"Amount of iron circulating in the blood.",highIndication:"May indicate hemochromatosis or iron overload",lowIndication:"May indicate iron deficiency"},{name:"Ferritin",aliases:["Serum Ferritin"],category:"iron",specimenType:"serum",loincCode:"2276-4",canonicalUnit:"ng/mL",alternativeUnits:["g/L","pmol/L"],defaultReferenceRange:{low:20,high:200,unit:"ng/mL"},description:"Protein that stores iron, reflects iron stores.",highIndication:"May indicate iron overload or inflammation",lowIndication:"May indicate iron deficiency"},{name:"Total Iron Binding Capacity",aliases:["TIBC","Iron Binding Capacity"],category:"iron",specimenType:"serum",loincCode:"2500-7",canonicalUnit:"g/dL",alternativeUnits:["mol/L"],defaultReferenceRange:{low:250,high:400,unit:"g/dL"},description:"Measures capacity of transferrin to bind iron.",highIndication:"May indicate iron deficiency",lowIndication:"May indicate iron overload or chronic disease"},{name:"Transferrin Saturation",aliases:["TSAT","Iron Saturation","Transferrin Sat"],category:"iron",specimenType:"serum",loincCode:"2502-3",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:20,high:50,unit:"%"},description:"Percentage of transferrin bound to iron.",highIndication:"May indicate iron overload",lowIndication:"May indicate iron deficiency"},{name:"Transferrin",aliases:["Serum Transferrin"],category:"iron",specimenType:"serum",loincCode:"3034-6",canonicalUnit:"mg/dL",alternativeUnits:["g/L"],defaultReferenceRange:{low:200,high:360,unit:"mg/dL"},description:"Protein that transports iron in the blood.",highIndication:"May indicate iron deficiency",lowIndication:"May indicate iron overload or malnutrition"}],Yre=[{name:"Vitamin B12",aliases:["B12","Cobalamin","Cyanocobalamin","Vitamina B12","S-Vitamina B12","S-Vitamina B 12 attiva","Vitamina B 12 attiva","Active B12","Holotranscobalamin"],category:"vitamin",specimenType:"serum",loincCode:"2132-9",canonicalUnit:"pg/mL",alternativeUnits:["pmol/L","ng/L"],defaultReferenceRange:{low:200,high:900,unit:"pg/mL"},description:"Essential vitamin for nerve function and blood cell formation.",highIndication:"Rarely concerning, may indicate supplementation",lowIndication:"May indicate deficiency causing anemia or neuropathy"},{name:"Vitamin D",aliases:["25-OH Vitamin D","25-Hydroxyvitamin D","Calcidiol","Vitamin D Total","S-25-OH Vitamina D","25-OH Vitamina D","Vitamina D","S-Vitamina D","Colecalciferolo"],category:"vitamin",specimenType:"serum",loincCode:"1989-3",canonicalUnit:"ng/mL",alternativeUnits:["nmol/L"],defaultReferenceRange:{low:30,high:100,unit:"ng/mL"},description:"Vitamin important for bone health and immune function.",highIndication:"May indicate toxicity from oversupplementation",lowIndication:"May indicate deficiency affecting bones and immunity"},{name:"Folate",aliases:["Folic Acid","Vitamin B9","Serum Folate"],category:"vitamin",specimenType:"serum",loincCode:"2284-8",canonicalUnit:"ng/mL",alternativeUnits:["nmol/L"],defaultReferenceRange:{low:2.7,high:17,unit:"ng/mL"},description:"B vitamin essential for cell division and DNA synthesis.",highIndication:"Generally not concerning",lowIndication:"May indicate deficiency causing anemia"},{name:"Vitamin A",aliases:["Retinol","Serum Retinol"],category:"vitamin",specimenType:"serum",loincCode:"14905-4",canonicalUnit:"g/dL",alternativeUnits:["mol/L"],defaultReferenceRange:{low:30,high:65,unit:"g/dL"},description:"Vitamin important for vision, immunity, and skin.",highIndication:"May indicate toxicity",lowIndication:"May indicate deficiency affecting vision"}],Kre=[{name:"Hemoglobin A1c",aliases:["HbA1c","A1C","Glycated Hemoglobin","Glycohemoglobin","Sg-HbA1C Emoglobina Glicata","Emoglobina Glicata","HbA1C Emoglobina Glicata","Er-EMOGLOBINA GLICATA","EMOGLOBINA GLICATA","Sg-HbA1C","HbA1c (IFCC)","Emoglobina glicosilata","% Hb totale"],category:"metabolic",specimenType:"whole-blood",loincCode:"4548-4",canonicalUnit:"%",alternativeUnits:["mmol/mol","mmol/molHb"],defaultReferenceRange:{low:4,high:5.6,unit:"%"},description:"Average blood sugar over past 2-3 months.",highIndication:"May indicate diabetes or prediabetes",lowIndication:"May indicate hypoglycemia or hemolytic conditions"},{name:"Fructosamine",aliases:["Glycated Albumin","Glycated Serum Protein"],category:"metabolic",specimenType:"serum",loincCode:"1784-8",canonicalUnit:"mol/L",alternativeUnits:[],defaultReferenceRange:{low:200,high:285,unit:"mol/L"},description:"Average blood sugar over past 2-3 weeks.",highIndication:"May indicate poor glycemic control",lowIndication:"Generally not concerning"}],Wre=[{name:"Urine pH",aliases:["pH","Urinary pH","pH (urine)","pH urinario","pH delle urine","U-pH","U-Esame standard pH","pH (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"2756-5",canonicalUnit:"",alternativeUnits:[],defaultReferenceRange:{low:5,high:8,unit:""},description:"Acidity or alkalinity of urine.",highIndication:"May indicate UTI or alkaline diet",lowIndication:"May indicate acidosis or high protein diet"},{name:"Urine Specific Gravity",aliases:["Specific Gravity","SG","Urine SG","Urine Densit","Densit Urinaria","Peso Specifico","Peso specifico (urine)","Densit (urine)","Peso specifico urinario","U-Peso specifico","U-Esame standard Peso specifico","Peso specifico (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"2965-2",canonicalUnit:"",alternativeUnits:[],defaultReferenceRange:{low:1.005,high:1.03,unit:""},description:"Concentration of urine, reflects hydration status.",highIndication:"May indicate dehydration",lowIndication:"May indicate overhydration or kidney problems"},{name:"Urine Protein",aliases:["Protein","Proteinuria","Urine Protein Level","Proteine (urine)","Urine Proteine (standard)","U-Proteine totali","Proteine urinarie","U-Proteine","U-Proteine totali (urine)","Urine Proteine (standard)","U-Esame standard Proteine","Proteine (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"2888-6",canonicalUnit:"mg/dL",alternativeUnits:["g/L","mg/L"],description:"Protein in urine, normally minimal.",highIndication:"May indicate kidney disease",lowIndication:"Normal finding"},{name:"Urine Glucose",aliases:["Glucose","Glycosuria","Urine Sugar","Urine Glucosio","Glucosio Urinario","U-Glucosio","Glucosio (urine)","U-Esame standard Glucosio","Glucosio (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"2350-7",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],description:"Glucose in urine, normally absent.",highIndication:"May indicate diabetes or renal glycosuria",lowIndication:"Normal finding"},{name:"Urine Ketones",aliases:["Ketones","Ketonuria","Corpi Chetonici","Corpi Chetonici (urine)","Chetoni","Urine Corpi chetonici","Corpi chetonici urinari","U-Corpi chetonici","U-Esame standard Corpi chetonici","Corpi chetonici (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"2514-8",canonicalUnit:"mg/dL",alternativeUnits:["mmol/L"],description:"Ketone bodies in urine from fat metabolism.",highIndication:"May indicate diabetic ketoacidosis or fasting",lowIndication:"Normal finding"},{name:"Urine Blood",aliases:["Blood","Hematuria","RBC in Urine","Eritrociti (urine)","Eritrociti Urine","Emazie Urine","Eritrociti (urine) per campo","Emoglobina (urine)","Emoglobina (urine, dipstick)","Urine Emoglobina","Sangue (urine)","U-Emoglobina","Eritrociti","Eritrociti (urine, per campo)","Esame morfologico - eritrociti per campo","Esame morfologico eritrociti","U-Esame standard Emoglobina","Emoglobina (urine, per campo)","Esame morfologico: eritrociti per campo"],category:"urinalysis",specimenType:"urine",loincCode:"5794-3",canonicalUnit:"RBC/HPF",alternativeUnits:["/L","/uL","cells/L","per campo","eritrociti per campo","mg/dL"],description:"Red blood cells in urine.",highIndication:"May indicate UTI, kidney stones, or kidney disease",lowIndication:"Normal finding"},{name:"Urine WBC",aliases:["WBC in Urine","Leucociti (urine)","Leucociti Urine","Urine Leukocytes","White Blood Cells Urine"],category:"urinalysis",specimenType:"urine",loincCode:"5821-4",canonicalUnit:"WBC/HPF",alternativeUnits:["/L","/uL","cells/L"],description:"White blood cells in urine, indicates infection.",highIndication:"May indicate urinary tract infection",lowIndication:"Normal finding"},{name:"Urine Leukocyte Esterase",aliases:["Leukocyte Esterase","LE","WBC Esterase","Esterasi leucocitaria","Esterasi leucocitaria (urine)","U-Esame standard Esterasi leucocitaria","Esterasi leucocitaria (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"5799-2",canonicalUnit:"",alternativeUnits:[],description:"Enzyme from white blood cells, indicates infection.",highIndication:"May indicate urinary tract infection",lowIndication:"Normal finding"},{name:"Urine Nitrites",aliases:["Nitrites","Nitrite","Nitriti","Nitriti (urine)","U-Esame standard Nitriti","Nitriti (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"5802-4",canonicalUnit:"",alternativeUnits:[],description:"Produced by bacteria, indicates infection.",highIndication:"May indicate bacterial UTI",lowIndication:"Normal finding"},{name:"Microalbumin",aliases:["Urine Microalbumin","MAU","Albumin/Creatinine Ratio","U-ALBUMINA Micro","U-ALBUMINA Micro (U-Albumina/L)","Microalbumina","Microalbuminuria","U-Albumina","Albumina urinaria","U-ALBUMINA","U-Albumina (turbidimetria Roche)","U-Albumina (albuminuria)","U-Albumina/L"],category:"urinalysis",specimenType:"urine",loincCode:"14957-5",canonicalUnit:"mg/L",alternativeUnits:["g/min","mg/g creatinine","mg/g creat.","mg/g creat"],defaultReferenceRange:{low:0,high:30,unit:"mg/L"},description:"Small amounts of albumin in urine, early kidney damage marker.",highIndication:"May indicate early diabetic nephropathy",lowIndication:"Normal finding"},{name:"Urine Epithelial Cells",aliases:["Epithelial Cells","Cellule epiteliali (urine)","Cellule Epiteliali Urine","Squamous Epithelial Cells"],category:"urinalysis",specimenType:"urine",loincCode:"5787-7",canonicalUnit:"/HPF",alternativeUnits:["/L","/uL","cells/L"],description:"Cells from urinary tract lining in urine.",highIndication:"May indicate contamination or urinary tract issues",lowIndication:"Normal finding"},{name:"Urine Creatinine",aliases:["U-Creatinina","Creatinina urinaria","Creatinina (urine)","U-Creatinina urinaria prima minzione","Creatinina urinaria prima minzione","U-Creatinina (urine)"],category:"urinalysis",specimenType:"urine",loincCode:"2161-8",canonicalUnit:"mg/dL",alternativeUnits:["mol/L","umol/L","g/L","mmol/L"],defaultReferenceRange:{low:20,high:300,unit:"mg/dL"},description:"Creatinine concentration in urine, used to assess kidney function and calculate ratios.",highIndication:"May indicate concentrated urine or high muscle mass",lowIndication:"May indicate dilute urine or kidney dysfunction"},{name:"Urine Bilirubin",aliases:["Bilirubina (urine)","Urine Bilirubina","Bilirubina urinaria","Bilirubin (urine)","U-Bilirubina","U-Esame standard Bilirubina","Bilirubina (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"5770-3",canonicalUnit:"mg/dL",alternativeUnits:["mol/L"],description:"Bilirubin in urine, normally absent.",highIndication:"May indicate liver disease or bile duct obstruction",lowIndication:"Normal finding"},{name:"Urine Urobilinogen",aliases:["Urobilinogeno","Urobilinogeno (urine)","Urine Urobilinogeno","Urobilinogen","U-Urobilinogeno","U-Esame standard Urobilinogeno","Urobilinogeno (urine, dipstick)"],category:"urinalysis",specimenType:"urine",loincCode:"5818-0",canonicalUnit:"mg/dL",alternativeUnits:["mol/L","EU/dL"],defaultReferenceRange:{low:.1,high:1,unit:"mg/dL"},description:"Breakdown product of bilirubin, normally present in small amounts.",highIndication:"May indicate hemolysis or liver disease",lowIndication:"May indicate bile duct obstruction"},{name:"Albumin Creatinine Ratio",aliases:["ACR","Albumina / Creatinina","Albumin/Creatinine Ratio","U-Albumina/Creatinina","UACR","Rapporto albumina/creatinina"],category:"urinalysis",specimenType:"urine",loincCode:"9318-7",canonicalUnit:"mg/g",alternativeUnits:["mg/mmol","mg/g creat.","mg/g creat","mg/mmol creat."],defaultReferenceRange:{low:0,high:30,unit:"mg/g"},description:"Ratio of albumin to creatinine in urine, sensitive marker for kidney damage.",highIndication:"May indicate diabetic nephropathy or kidney disease",lowIndication:"Normal finding"},{name:"Protein Creatinine Ratio",aliases:["PCR","U-Proteine/Creatinina","Protein/Creatinine Ratio","Proteine/Creatinina","Rapporto proteine/creatinina"],category:"urinalysis",specimenType:"urine",loincCode:"2890-2",canonicalUnit:"mg/g",alternativeUnits:["mg/mmol","mg/mmol creat.","mg/g creat.","mg/g creat"],defaultReferenceRange:{low:0,high:150,unit:"mg/g"},description:"Ratio of protein to creatinine in urine, estimates 24-hour protein excretion.",highIndication:"May indicate kidney disease or proteinuria",lowIndication:"Normal finding"},{name:"24-Hour Urine Volume",aliases:["U-VOLUME (24h)","Urine Volume 24h","24h Urine Volume","Diuresi 24h","Volume urinario 24h","U-VOLUME","Urine Volume","Volume urinario"],category:"urinalysis",specimenType:"urine-24h",loincCode:"3167-4",canonicalUnit:"mL",alternativeUnits:["L","mL/24h"],defaultReferenceRange:{low:800,high:2e3,unit:"mL"},description:"Total urine output over 24 hours.",highIndication:"May indicate diabetes insipidus or excessive fluid intake",lowIndication:"May indicate dehydration or kidney disease"},{name:"24-Hour Urine Albumin",aliases:["U Albumina 24h","Albumina 24h","24h Albumin","Albuminuria 24h","Albumina urinaria 24h"],category:"urinalysis",specimenType:"urine-24h",loincCode:"1755-8",canonicalUnit:"mg/24h",alternativeUnits:["mg/day","g/24h"],defaultReferenceRange:{low:0,high:30,unit:"mg/24h"},description:"Total albumin excreted in 24-hour urine collection.",highIndication:"May indicate kidney disease or diabetic nephropathy",lowIndication:"Normal finding"}],Xre=[{name:"Alanine Aminotransferase",aliases:["ALT","SGPT","Alanine Transaminase","S-ALT Alanina Amino Trasferasi","Alanina Amino Trasferasi","S-ALT","P-ALT","P-ALT (alanina aminotransferasi)","GPT","ALT (GPT)"],category:"metabolic",specimenType:"serum",loincCode:"1742-6",canonicalUnit:"U/L",alternativeUnits:["IU/L"],defaultReferenceRange:{low:7,high:56,unit:"U/L"},description:"Liver enzyme, elevated in liver damage.",highIndication:"May indicate liver disease or damage",lowIndication:"Generally not concerning"},{name:"Aspartate Aminotransferase",aliases:["AST","SGOT","Aspartate Transaminase","S-AST Aspartato Amino Trasferasi","Aspartato Amino Trasferasi","S-AST","P-AST","P-AST (aspartato aminotransferasi)","GOT","AST (GOT)"],category:"metabolic",specimenType:"serum",loincCode:"1920-8",canonicalUnit:"U/L",alternativeUnits:["IU/L"],defaultReferenceRange:{low:10,high:40,unit:"U/L"},description:"Enzyme found in liver, heart, and muscles.",highIndication:"May indicate liver or muscle damage",lowIndication:"Generally not concerning"},{name:"Alkaline Phosphatase",aliases:["ALP","Alk Phos"],category:"metabolic",specimenType:"serum",loincCode:"6768-6",canonicalUnit:"U/L",alternativeUnits:["IU/L"],defaultReferenceRange:{low:44,high:147,unit:"U/L"},description:"Enzyme from liver and bones.",highIndication:"May indicate liver or bone disease",lowIndication:"May indicate malnutrition or hypothyroidism"},{name:"Bilirubin Total",aliases:["Total Bilirubin","TBIL","Bilirubin"],category:"metabolic",specimenType:"serum",loincCode:"1975-2",canonicalUnit:"mg/dL",alternativeUnits:["mol/L"],defaultReferenceRange:{low:.1,high:1.2,unit:"mg/dL"},description:"Breakdown product of hemoglobin, processed by liver.",highIndication:"May indicate liver disease or hemolysis",lowIndication:"Generally not concerning"},{name:"Bilirubin Direct",aliases:["Direct Bilirubin","Conjugated Bilirubin","DBIL"],category:"metabolic",specimenType:"serum",loincCode:"1968-7",canonicalUnit:"mg/dL",alternativeUnits:["mol/L"],defaultReferenceRange:{low:0,high:.3,unit:"mg/dL"},description:"Bilirubin processed by the liver.",highIndication:"May indicate liver or bile duct obstruction",lowIndication:"Generally not concerning"},{name:"Gamma-Glutamyl Transferase",aliases:["GGT","Gamma GT","GGTP","S-GGT Gamma Glutamil Trasferasi","Gamma Glutamil Trasferasi","S-GGT"],category:"metabolic",specimenType:"serum",loincCode:"2324-2",canonicalUnit:"U/L",alternativeUnits:["IU/L"],defaultReferenceRange:{low:0,high:65,unit:"U/L"},description:"Liver enzyme, sensitive to alcohol and bile duct issues.",highIndication:"May indicate liver disease or alcohol use",lowIndication:"Generally not concerning"},{name:"Albumin",aliases:["Serum Albumin","ALB"],category:"metabolic",specimenType:"serum",loincCode:"1751-7",canonicalUnit:"g/dL",alternativeUnits:["g/L"],defaultReferenceRange:{low:3.5,high:5,unit:"g/dL"},description:"Main protein made by the liver.",highIndication:"May indicate dehydration",lowIndication:"May indicate liver disease or malnutrition"},{name:"Total Protein",aliases:["Protein Total","TP","Serum Protein","P-Proteine totali","Proteine totali","Proteine Totali Sieriche","Protidemia"],category:"metabolic",specimenType:"serum",loincCode:"2885-2",canonicalUnit:"g/dL",alternativeUnits:["g/L"],defaultReferenceRange:{low:6,high:8.3,unit:"g/dL"},description:"Total albumin and globulin in blood.",highIndication:"May indicate dehydration or chronic inflammation",lowIndication:"May indicate liver disease or malnutrition"},{name:"Amylase",aliases:["S-Amilasi","Amilasi","S-Amilasi Totale","Amilasi Totale","Serum Amylase","AMY"],category:"metabolic",specimenType:"serum",loincCode:"1798-8",canonicalUnit:"U/L",alternativeUnits:["IU/L"],defaultReferenceRange:{low:25,high:125,unit:"U/L"},description:"Enzyme that helps digest carbohydrates, produced by pancreas and salivary glands.",highIndication:"May indicate pancreatitis, salivary gland disorders, or bowel obstruction",lowIndication:"May indicate pancreatic insufficiency or liver disease"},{name:"Alpha-fetoprotein",aliases:["AFP","S-AFP","-fetoprotein","Alpha Fetoprotein","S-AFP alfa-fetoproteina","Alfa-fetoproteina","S-AFP Alfa-Fetoproteina"],category:"metabolic",specimenType:"serum",loincCode:"1834-1",canonicalUnit:"ng/mL",alternativeUnits:["IU/mL","kU/L","g/L"],defaultReferenceRange:{low:0,high:10,unit:"ng/mL"},description:"Protein produced by fetal liver, used as tumor marker in adults.",highIndication:"May indicate liver cancer, germ cell tumors, or liver regeneration",lowIndication:"Generally not clinically significant"}],Zre=[{name:"Sexual Abstinence",aliases:["Astinenza sessuale","Abstinence","Days of Abstinence"],category:"fertility",specimenType:"semen",canonicalUnit:"days",alternativeUnits:["giorni"],defaultReferenceRange:{low:2,high:7,unit:"days"},description:"Number of days of sexual abstinence before semen collection.",highIndication:"Extended abstinence may affect sperm quality",lowIndication:"Short abstinence may result in lower sperm count"},{name:"Semen Volume",aliases:["Volume","Ejaculate Volume","Volume eiaculato","Volume sperma"],category:"fertility",specimenType:"semen",loincCode:"3168-2",canonicalUnit:"mL",alternativeUnits:["ml","cc"],defaultReferenceRange:{low:1.5,high:5,unit:"mL"},description:"Total volume of ejaculate.",highIndication:"May indicate inflammation or infection",lowIndication:"May indicate obstruction, retrograde ejaculation, or hormonal issues"},{name:"Liquefaction Time",aliases:["Fluidit completa dopo minuti","Liquefaction","Tempo di fluidificazione","Fluidificazione"],category:"fertility",specimenType:"semen",loincCode:"10604-0",canonicalUnit:"min",alternativeUnits:["minutes","minuti"],defaultReferenceRange:{low:0,high:60,unit:"min"},description:"Time for semen to liquefy after ejaculation.",highIndication:"Delayed liquefaction may affect sperm motility",lowIndication:"Normal finding"},{name:"Sperm Concentration",aliases:["Spermatozoi","Sperm Count","Concentrazione spermatozoi","Sperm Density"],category:"fertility",specimenType:"semen",loincCode:"10616-4",canonicalUnit:"mil/mL",alternativeUnits:["million/mL","10^6/mL","M/mL"],defaultReferenceRange:{low:15,high:200,unit:"mil/mL"},description:"Number of sperm per milliliter of semen.",highIndication:"Generally positive for fertility",lowIndication:"Oligozoospermia - may affect fertility"},{name:"Total Sperm Count",aliases:["Conta totale spermatozoi","Total Sperm","Numero totale spermatozoi","TSC"],category:"fertility",specimenType:"semen",loincCode:"10617-2",canonicalUnit:"million",alternativeUnits:["mil.","mil","10^6"],defaultReferenceRange:{low:39,high:500,unit:"million"},description:"Total number of sperm in the ejaculate.",highIndication:"Generally positive for fertility",lowIndication:"May indicate reduced fertility potential"},{name:"Round Cells",aliases:["Cellule rotonde","Round Cells Count"],category:"fertility",specimenType:"semen",canonicalUnit:"mil/mL",alternativeUnits:["million/mL","10^6/mL"],defaultReferenceRange:{low:0,high:5,unit:"mil/mL"},description:"Non-sperm cells in semen including white blood cells and immature germ cells.",highIndication:"May indicate infection or inflammation if >1 mil/mL are leukocytes",lowIndication:"Normal finding"},{name:"Immature Sperm Forms",aliases:["Forme immature","Immature Forms","Forme immature spermatiche"],category:"fertility",specimenType:"semen",canonicalUnit:"mil/mL",alternativeUnits:["million/mL","10^6/mL"],defaultReferenceRange:{low:0,high:1,unit:"mil/mL"},description:"Immature sperm cells in the ejaculate.",highIndication:"May indicate spermatogenesis issues",lowIndication:"Normal finding"},{name:"Progressive Motility (Rapid)",aliases:["Rapida progressiva","Progressive Motility A","PR-A","Motilit progressiva rapida","Type A Motility"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:25,high:100,unit:"%"},description:"Percentage of sperm with rapid progressive movement.",highIndication:"Positive for fertility",lowIndication:"May indicate asthenozoospermia"},{name:"Progressive Motility (Slow)",aliases:["Deb. Progressiva","Progressive Motility B","PR-B","Motilit progressiva lenta","Type B Motility","Debole progressiva"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:30,unit:"%"},description:"Percentage of sperm with slow progressive movement.",highIndication:"May indicate suboptimal motility",lowIndication:"Normal when combined with good rapid progressive motility"},{name:"Non-Progressive Motility",aliases:["In situ","Non-Progressive","Motilit non progressiva","Type C Motility","NP"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:20,unit:"%"},description:"Percentage of sperm moving but not progressing forward.",highIndication:"May affect fertility potential",lowIndication:"Normal finding"},{name:"Immotile Sperm",aliases:["Immobili","Immotile","Spermatozoi immobili","Type D Motility","IM"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:60,unit:"%"},description:"Percentage of non-moving sperm.",highIndication:"High percentage may indicate necrozoospermia or asthenozoospermia",lowIndication:"Positive for fertility"},{name:"Normal Sperm Morphology",aliases:["Forme normali","Normal Forms","Morfologia normale","Normal Morphology"],category:"fertility",specimenType:"semen",loincCode:"10619-8",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:4,high:100,unit:"%"},description:"Percentage of sperm with normal shape (WHO 5th edition criteria).",highIndication:"Positive for fertility",lowIndication:"Teratozoospermia - may affect fertility"},{name:"Head Abnormalities",aliases:["Anomalie della testa","Head Defects","Difetti della testa"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:70,unit:"%"},description:"Percentage of sperm with head defects.",highIndication:"May affect fertilization ability",lowIndication:"Normal finding"},{name:"Midpiece Abnormalities",aliases:["Anomalie del collo-tratto intermedio","Midpiece Defects","Neck Defects","Anomalie del collo","Difetti del tratto intermedio"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:20,unit:"%"},description:"Percentage of sperm with neck/midpiece defects.",highIndication:"May affect sperm motility",lowIndication:"Normal finding"},{name:"Tail Abnormalities",aliases:["Anomalie della coda","Tail Defects","Difetti della coda"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:20,unit:"%"},description:"Percentage of sperm with tail defects.",highIndication:"May affect sperm motility",lowIndication:"Normal finding"},{name:"Cytoplasmic Residue",aliases:["Forme con residui citoplasmatici","Cytoplasmic Droplet","Residui citoplasmatici","Excess Residual Cytoplasm"],category:"fertility",specimenType:"semen",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:0,high:20,unit:"%"},description:"Percentage of sperm with excess cytoplasmic residue.",highIndication:"May indicate immature sperm or oxidative stress",lowIndication:"Normal finding"},{name:"Sperm Vitality",aliases:["Eosina Test","Eosin Test","Test di vitalit","Vitality","Vitalit spermatica","Eosina Test (test di vitalit)"],category:"fertility",specimenType:"semen",loincCode:"10611-5",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:58,high:100,unit:"%"},description:"Percentage of live sperm (eosin exclusion test).",highIndication:"Positive for fertility",lowIndication:"Necrozoospermia - may indicate infection or epididymal dysfunction"},{name:"Total Progressive Motility",aliases:["Motilit progressiva totale","PR","Progressive Motility","Total PR"],category:"fertility",specimenType:"semen",loincCode:"10609-9",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:32,high:100,unit:"%"},description:"Total percentage of sperm with progressive movement (rapid + slow).",highIndication:"Positive for fertility",lowIndication:"Asthenozoospermia - may affect fertility"},{name:"Total Motility",aliases:["Motilit totale","Total Motile","PR + NP"],category:"fertility",specimenType:"semen",loincCode:"10608-1",canonicalUnit:"%",alternativeUnits:[],defaultReferenceRange:{low:40,high:100,unit:"%"},description:"Total percentage of moving sperm (progressive + non-progressive).",highIndication:"Positive for fertility",lowIndication:"May affect fertility potential"},{name:"Semen pH",aliases:["pH","pH sperma","pH seminale"],category:"fertility",specimenType:"semen",loincCode:"10605-7",canonicalUnit:"",alternativeUnits:[],defaultReferenceRange:{low:7.2,high:8,unit:""},description:"Acidity/alkalinity of semen.",highIndication:"May indicate infection",lowIndication:"May indicate ejaculatory duct obstruction or seminal vesicle agenesis"}],Qre=[{name:"Serum Albumin (Electrophoresis)",aliases:["S-Elettroforesi albumina","Elettroforesi albumina","Albumina (elettroforesi)","SPE Albumin","Albumina %"],category:"metabolic",specimenType:"serum",loincCode:"13980-8",canonicalUnit:"%",alternativeUnits:["g/dL","g/L"],defaultReferenceRange:{low:55,high:65,unit:"%"},description:"Albumin fraction in serum protein electrophoresis.",highIndication:"May indicate dehydration",lowIndication:"May indicate liver disease, malnutrition, or inflammation"},{name:"Alpha-1 Globulin",aliases:["S-Elettroforesi alfa-1","Elettroforesi alfa-1","Alfa-1 globulina","Alpha-1","Alfa 1","1-Globulin","alfa-1","alfa-1 (electrophoresis)","alfa-1 (elettroforesi)"],category:"metabolic",specimenType:"serum",loincCode:"13978-2",canonicalUnit:"%",alternativeUnits:["g/dL","g/L"],defaultReferenceRange:{low:2,high:5,unit:"%"},description:"Alpha-1 globulin fraction including alpha-1 antitrypsin.",highIndication:"May indicate acute inflammation",lowIndication:"May indicate alpha-1 antitrypsin deficiency"},{name:"Alpha-2 Globulin",aliases:["S-Elettroforesi alfa-2","Elettroforesi alfa-2","Alfa-2 globulina","Alpha-2","Alfa 2","2-Globulin","alfa-2","alfa-2 (electrophoresis)","alfa-2 (elettroforesi)"],category:"metabolic",specimenType:"serum",loincCode:"13979-0",canonicalUnit:"%",alternativeUnits:["g/dL","g/L"],defaultReferenceRange:{low:6,high:10,unit:"%"},description:"Alpha-2 globulin fraction including haptoglobin and macroglobulin.",highIndication:"May indicate acute inflammation or nephrotic syndrome",lowIndication:"May indicate hemolysis or malnutrition"},{name:"Beta Globulin",aliases:["S-Elettroforesi beta","Elettroforesi beta","Beta globulina","-Globulin","Beta","beta (electrophoresis)","beta (elettroforesi)"],category:"metabolic",specimenType:"serum",loincCode:"13983-2",canonicalUnit:"%",alternativeUnits:["g/dL","g/L"],defaultReferenceRange:{low:8,high:14,unit:"%"},description:"Beta globulin fraction including transferrin and complement.",highIndication:"May indicate iron deficiency or estrogen increase",lowIndication:"May indicate malnutrition"},{name:"Gamma Globulin",aliases:["S-Elettroforesi gamma","Elettroforesi gamma","Gamma globulina","-Globulin","Gamma","Immunoglobulins","gamma (electrophoresis)","gamma (elettroforesi)"],category:"metabolic",specimenType:"serum",loincCode:"2867-0",canonicalUnit:"%",alternativeUnits:["g/dL","g/L"],defaultReferenceRange:{low:12,high:20,unit:"%"},description:"Gamma globulin fraction containing immunoglobulins.",highIndication:"May indicate chronic infection, liver disease, or myeloma",lowIndication:"May indicate immunodeficiency"}],ph=[...Fre,...Ure,...Hre,...Vre,...qre,...Gre,...Yre,...Kre,...Wre,...Xre,...Zre,...Qre],Ob={cbc:"Complete Blood Count",metabolic:"Metabolic Panel",lipid:"Lipid Panel",thyroid:"Thyroid Function",iron:"Iron Studies",vitamin:"Vitamins",urinalysis:"Urinalysis",fertility:"Semen Analysis",other:"Other"};function Bs(t){const e=t.toLowerCase().trim();return ph.find(n=>n.name.toLowerCase()===e||n.aliases.some(r=>r.toLowerCase()===e))}function Jre(t){const e=t.toLowerCase().trim();return e?ph.filter(n=>n.name.toLowerCase().includes(e)||n.aliases.some(r=>r.toLowerCase().includes(e))):[]}function oA(t,e,n){return`${n}_${t}_${e}`}function sA(t,e,n,r,i,a){if(n==="improvement")return`${t} has returned to normal range (${r} ${i})`;if(n==="trend")return e==="high"?`${t} has been consistently elevated`:e==="low"?`${t} has been consistently low`:`${t} has been consistently out of range`;if(e==="high"){const o=a?.high;return o!==void 0?`${t} is elevated at ${r} ${i} (reference: ${o})`:`${t} is elevated at ${r} ${i}`}else{const o=a?.low;return o!==void 0?`${t} is low at ${r} ${i} (reference: ${o})`:`${t} is low at ${r} ${i}`}}function eie(t,e,n){if(!n)return"info";if(e==="high"&&n.high!==void 0){const r=(t-n.high)/n.high*100;return r>50?"critical":r>20?"warning":"info"}if(e==="low"&&n.low!==void 0){const r=(n.low-t)/n.low*100;return r>50?"critical":r>20?"warning":"info"}return"info"}function tie(){const{results:t,isLoading:e,error:n}=fP(),[r,i]=w.useState(new Set),[a,o]=w.useState(new Set),s=w.useMemo(()=>{if(t.length===0)return[];const x=[],S=new Map;for(const T of t)for(const E of T.testValues){if(typeof E.value!="number")continue;S.has(E.biomarkerId)||S.set(E.biomarkerId,{values:[],labInfo:new Map});const k=S.get(E.biomarkerId);k.values.push(E),k.labInfo.set(E.labResultId,{date:T.date,labName:T.labName})}for(const[T,{values:E,labInfo:k}]of S.entries()){const D=E[0],M=Bs(D.rawText||""),R=M?.name||D.rawText||`Biomarker ${T}`,N=[...E].sort((z,q)=>{const Y=k.get(z.labResultId)?.date.getTime()||0;return(k.get(q.labResultId)?.date.getTime()||0)-Y});for(const z of N)if(z.status==="high"||z.status==="low"){const q=k.get(z.labResultId),Y=oA(T,z.labResultId,"out_of_range"),K={low:z.referenceRangeLow,high:z.referenceRangeHigh};x.push({id:Y,type:"out_of_range",severity:eie(z.value,z.status,K),biomarkerId:T,biomarkerName:R,category:M?.category,value:z.value,unit:z.unit,referenceRange:K,status:z.status,date:q.date,labName:q.labName,labResultId:z.labResultId,message:sA(R,z.status,"out_of_range",z.value,z.unit,K),acknowledged:a.has(Y),dismissed:r.has(Y)})}if(N.length>=3){const z=zre(N,k);if(z.length>=3){const{count:q,direction:Y}=$re(z);if(q>=3&&Y){const K=RF(z),te=Bre(K,q);if(te&&te!=="positive"){const W=N[0],J=k.get(W.labResultId),L=oA(T,W.labResultId,"trend");x.push({id:L,type:"trend",severity:te,biomarkerId:T,biomarkerName:R,category:M?.category,value:W.value,unit:W.unit,referenceRange:{low:W.referenceRangeLow,high:W.referenceRangeHigh},status:Y,date:J.date,labName:J.labName,labResultId:W.labResultId,message:sA(R,Y,"trend",W.value,W.unit),acknowledged:a.has(L),dismissed:r.has(L)})}}}}if(N.length>=2&&N[0].status==="normal"&&(N[1].status==="high"||N[1].status==="low")){const z=N[0],q=k.get(z.labResultId),Y=oA(T,z.labResultId,"improvement");x.push({id:Y,type:"improvement",severity:"positive",biomarkerId:T,biomarkerName:R,category:M?.category,value:z.value,unit:z.unit,referenceRange:{low:z.referenceRangeLow,high:z.referenceRangeHigh},status:"normal",date:q.date,labName:q.labName,labResultId:z.labResultId,message:sA(R,"normal","improvement",z.value,z.unit),acknowledged:a.has(Y),dismissed:r.has(Y)})}}const A={critical:0,warning:1,info:2,positive:3};return x.filter(T=>!T.dismissed).sort((T,E)=>{const k=A[T.severity]-A[E.severity];return k!==0?k:E.date.getTime()-T.date.getTime()})},[t,r,a]),c=w.useMemo(()=>{const x=new Map;for(const A of s)x.has(A.biomarkerId)||x.set(A.biomarkerId,[]),x.get(A.biomarkerId).push(A);const S=[];for(const[A,T]of x.entries()){const E=T[0],k=T.filter(R=>!R.acknowledged).length,D={critical:0,warning:1,info:2,positive:3},M=T.reduce((R,N)=>D[N.severity]<D[R]?N.severity:R,"positive");S.push({biomarkerId:A,biomarkerName:E.biomarkerName,category:E.category,alerts:T,latestAlert:E,unacknowledgedCount:k,severity:M})}return S.sort((A,T)=>{const E={critical:0,warning:1,info:2,positive:3},k=E[A.severity]-E[T.severity];return k!==0?k:T.unacknowledgedCount-A.unacknowledgedCount})},[s]),d=w.useMemo(()=>s.filter(x=>!x.acknowledged&&x.type!=="improvement").length,[s]),f=w.useCallback(x=>{i(S=>new Set([...S,x]))},[]),h=w.useCallback(x=>{o(S=>new Set([...S,x]))},[]),m=w.useCallback(()=>{i(new Set)},[]),v=w.useCallback(x=>x?s.filter(S=>S.category===x):s,[s]),b=w.useCallback(x=>s.filter(S=>S.biomarkerId===x),[s]);return{alerts:s,groupedAlerts:c,unacknowledgedCount:d,isLoading:e,error:n,dismissAlert:f,acknowledgeAlert:h,clearDismissed:m,filterByCategory:v,getAlertsForBiomarker:b}}function jF(t={}){const{db:e,isReady:n}=vg(),[r,i]=w.useState([]),[a,o]=w.useState(!0),[s,c]=w.useState(null),[d,f]=w.useState(t),h=w.useCallback(async()=>{if(!(!e||!n)){o(!0),c(null);try{let E;d.labResultId!==void 0?E=await e.getNotesByLabResult(d.labResultId):d.biomarkerId!==void 0?E=await e.getNotesByBiomarker(d.biomarkerId):d.testValueId!==void 0?E=await e.getNotesByTestValue(d.testValueId):d.tag!==void 0?E=await e.getNotesByTag(d.tag):E=await e.getAllNotes();let k=E;if(d.startDate&&(k=k.filter(D=>D.createdAt>=d.startDate)),d.endDate&&(k=k.filter(D=>D.createdAt<=d.endDate)),d.searchTerm){const D=d.searchTerm.toLowerCase();k=k.filter(M=>M.content.toLowerCase().includes(D))}k.sort((D,M)=>M.createdAt.getTime()-D.createdAt.getTime()),i(k)}catch(E){console.error("Failed to fetch notes:",E),c(E instanceof Error?E.message:"Failed to fetch notes")}finally{o(!1)}}},[e,n,d]);w.useEffect(()=>{h()},[h]);const m=w.useCallback(async E=>{if(!e||!n)throw new Error("Database not available");const k=new Date,D={labResultId:E.labResultId,biomarkerId:E.biomarkerId,testValueId:E.testValueId,content:E.content,tags:E.tags||[],createdAt:k,updatedAt:k},M=await e.addNote(D);return await h(),M},[e,n,h]),v=w.useCallback(async(E,k)=>{if(!e||!n)throw new Error("Database not available");const D={updatedAt:new Date};k.content!==void 0&&(D.content=k.content),k.tags!==void 0&&(D.tags=k.tags),await e.updateNote(E,D),await h()},[e,n,h]),b=w.useCallback(async E=>{if(!e||!n)throw new Error("Database not available");await e.deleteNote(E),await h()},[e,n,h]),x=w.useCallback(E=>r.filter(k=>k.labResultId===E),[r]),S=w.useCallback(E=>r.filter(k=>k.biomarkerId===E),[r]),A=w.useCallback(E=>r.filter(k=>k.testValueId===E),[r]),T=w.useMemo(()=>{const E=new Set;for(const k of r)for(const D of k.tags)E.add(D);return Array.from(E).sort()},[r]);return{notes:r,isLoading:a,error:s,filters:d,setFilters:f,createNote:m,updateNote:v,deleteNote:b,refresh:h,getNotesForLabResult:x,getNotesForBiomarker:S,getNotesForTestValue:A,allTags:T}}function LF(){const{db:t,isReady:e}=vg(),[n,r]=w.useState({labResults:[],testValues:[],userNotes:[],userPreferences:null,settings:null}),[i,a]=w.useState([]),[o,s]=w.useState([]),[c,d]=w.useState(!0),[f,h]=w.useState(null),m=w.useCallback(async()=>{if(!t||!e){d(!1);return}d(!0),h(null);try{const[b,x,S]=await Promise.all([t.getAllLabResults(),t.getAllTestValues(),t.getAllNotes()]);r({labResults:b,testValues:x,userNotes:S,userPreferences:null,settings:null});const T=new Map;for(const R of x){const N=T.get(R.labResultId)||[];N.push(R),T.set(R.labResultId,N)}const E=new Set;for(const R of x)E.add(R.biomarkerId);const k=new Map;for(const R of E)k.set(R,`Biomarker ${R}`);const D=b.map(R=>({labResult:R,testValues:T.get(R.id)||[],biomarkerNames:k}));a(D);const M=Array.from(E).map(R=>({value:R.toString(),label:k.get(R)||`Biomarker ${R}`}));s(M)}catch(b){const x=b instanceof Error?b.message:"Failed to load export data";h(x),console.error("Error fetching export data:",b)}finally{d(!1)}},[t,e]);w.useEffect(()=>{m()},[m]);const v=w.useCallback(async()=>{await m()},[m]);return{dataSources:n,labResultsData:i,biomarkerOptions:o,isLoading:c,error:f,refresh:v}}const Zp="hemoio_ai_api_key_encrypted",uy="hemoio_ai_api_key";function NF(){const{encryptionKey:t,status:e}=Ih(),[n,r]=w.useState(!1),[i,a]=w.useState(),[o,s]=w.useState(!0),c=e==="unlocked"&&t!==null;w.useEffect(()=>{if(!c){s(!0);return}(async()=>{s(!0);try{const v=localStorage.getItem(Zp);if(v){const x=await q_(v,t);r(!0),a(x.slice(-4)),s(!1);return}const b=localStorage.getItem(uy);if(b){const x=await _b(b,t);localStorage.setItem(Zp,x),localStorage.removeItem(uy),r(!0),a(b.slice(-4)),s(!1);return}r(!1),a(void 0)}catch(v){console.error("Error checking API key:",v),r(!1),a(void 0)}finally{s(!1)}})()},[c,t]);const d=w.useCallback(async()=>{if(!c||!t)return null;try{const m=localStorage.getItem(Zp);return m?await q_(m,t):null}catch(m){return console.error("Error decrypting API key:",m),null}},[c,t]),f=w.useCallback(async m=>{if(!c||!t)throw new Error("Encryption key not available");try{const v=await _b(m,t);localStorage.setItem(Zp,v),localStorage.removeItem(uy),r(!0),a(m.slice(-4))}catch(v){throw console.error("Error encrypting API key:",v),v}},[c,t]),h=w.useCallback(()=>{localStorage.removeItem(Zp),localStorage.removeItem(uy),r(!1),a(void 0)},[]);return{isReady:c,hasApiKey:n,apiKeyLastFour:i,isLoading:o,getApiKey:d,setApiKey:f,removeApiKey:h}}const nie=new Set(["TEXTAREA","BUTTON","A","SELECT"]);function rie(t){if(t.tagName!=="INPUT")return!1;const e=t;return["text","password","email","search","tel","url","number"].includes(e.type)}function iie(t={}){const{enabled:e=!0,canSubmit:n=!0,onBeforeSubmit:r}=t,i=w.useRef(null),a=w.useCallback(o=>{if(o.key!=="Enter"||o.altKey||o.ctrlKey||o.metaKey)return;const s=o.target,c=i.current;if(!c)return;const d=c.contains(s),f=s.tagName==="BODY"||s.tagName==="HTML";if(!d&&!f||!d&&!f||d&&rie(s)||d&&nie.has(s.tagName)||d&&s.closest('[contenteditable="true"]')||(o.preventDefault(),!n)||r&&r()===!1)return;const h=new Event("submit",{bubbles:!0,cancelable:!0});c.dispatchEvent(h)},[n,r]);return w.useEffect(()=>{if(!(!e||!i.current))return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[e,a]),{formRef:i}}function aie(t){return t!=="ollama"}function oie(t,e){return t===null?!1:aie(t)?e.trim().length>0:!0}function sie(t,e){return Jk(t).isStrong&&t===e}function lie(t){return t==="local"}const cie="hemoio_ai_api_key_encrypted",uie="hemoio_credentials";function die({onComplete:t}){const{setupPassword:e}=Ih(),n=LY({base:"vertical",sm:"horizontal"}),[r,i]=w.useState(0),[a,o]=w.useState(!1),[s,c]=w.useState(""),[d,f]=w.useState(""),[h,m]=w.useState("local"),[v,b]=w.useState(null),[x,S]=w.useState(""),[A,T]=w.useState(void 0),E=w.useMemo(()=>{switch(r){case 0:return sie(s,d);case 1:return lie(h);case 2:return!0;case 3:return!0;default:return!1}},[r,s,d,h]),{formRef:k}=iie({canSubmit:E}),D=w.useCallback(()=>{r<3&&i(q=>q+1)},[r]),M=w.useCallback(()=>{r>0&&i(q=>q-1)},[r]),R=w.useCallback(async()=>{o(!0);try{if(await e(s),v){if(localStorage.setItem("hemoio_ai_provider",v),x){const q=localStorage.getItem(uie);if(q){const Y=JSON.parse(q),K=await Y_(s,Y),te=await _b(x,K);localStorage.setItem(cie,te)}}v==="ollama"&&A&&localStorage.setItem("hemoio_ollama_model",A)}t()}catch(q){console.error("Setup failed:",q)}finally{o(!1)}},[s,e,t,v,x,A]),N=w.useCallback(q=>{q.preventDefault(),E&&(r<3?D():R())},[r,E,D,R]),z=()=>{switch(r){case 0:return g.jsx(ere,{password:s,confirmPassword:d,onPasswordChange:c,onConfirmPasswordChange:f});case 1:return g.jsx(nre,{selectedStorage:h,onStorageChange:m});case 2:return g.jsx(Are,{aiProvider:v,apiKey:x,ollamaModel:A,onProviderChange:b,onApiKeyChange:S,onOllamaModelChange:T});case 3:return g.jsx(fie,{storageProvider:h,aiConfigured:oie(v,x)});default:return null}};return g.jsx(hg,{size:"sm",py:"xl",children:g.jsxs(it,{gap:"xl",children:[g.jsxs("div",{children:[g.jsx(Yi,{order:1,ta:"center",children:"Welcome to HemoIO"}),g.jsx(ce,{c:"dimmed",ta:"center",mt:"sm",children:"Let's set up your secure lab results tracker"})]}),g.jsxs(zo,{active:r,onStepClick:i,allowNextStepsSelect:!1,orientation:n,"aria-label":"Setup wizard progress",children:[g.jsx(zo.Step,{label:"Security",description:"Create password",icon:g.jsx(Io,{size:18}),"aria-label":"Step 1: Security - Create password"}),g.jsx(zo.Step,{label:"Storage",description:"Choose storage",icon:g.jsx(rP,{size:18}),"aria-label":"Step 2: Storage - Choose storage"}),g.jsx(zo.Step,{label:"AI Setup",description:"Configure AI",icon:g.jsx(SF,{size:18}),"aria-label":"Step 3: AI Setup - Configure AI provider"}),g.jsx(zo.Step,{label:"Complete",description:"Get started",icon:g.jsx($n,{size:18}),"aria-label":"Step 4: Complete - Get started"})]}),g.jsxs("form",{ref:k,onSubmit:N,children:[g.jsx(Lt,{withBorder:!0,shadow:"sm",p:"xl",radius:"md",children:z()}),g.jsxs(Be,{justify:"space-between",mt:"xl",children:[g.jsx(Dt,{type:"button",variant:"default",onClick:M,disabled:r===0,leftSection:g.jsx(wx,{size:16}),"aria-label":"Go to previous step",children:"Back"}),r<3?g.jsx(Dt,{type:"submit",disabled:!E,rightSection:g.jsx(Pte,{size:16}),"aria-label":"Go to next step",children:"Next"}):g.jsx(Dt,{type:"submit",loading:a,rightSection:g.jsx(Bne,{size:16}),color:"green","aria-label":"Complete setup and get started",children:"Get Started"})]})]})]})})}function fie({storageProvider:t,aiConfigured:e}){return g.jsxs(it,{gap:"lg",children:[g.jsx(Be,{justify:"center",children:g.jsx(Vn,{size:60,radius:"xl",color:"green",variant:"light",children:g.jsx($n,{size:30})})}),g.jsx(Yi,{order:2,ta:"center",children:"You're all set!"}),g.jsx(ce,{c:"dimmed",ta:"center",children:"Your HemoIO instance is configured and ready to use."}),g.jsxs(it,{gap:"sm",children:[g.jsx(Lt,{withBorder:!0,p:"md",radius:"md",children:g.jsxs(Be,{children:[g.jsx(Vn,{size:"md",variant:"light",color:"blue",children:g.jsx(Io,{size:16})}),g.jsxs("div",{children:[g.jsx(ce,{size:"sm",fw:500,children:"Password Protection"}),g.jsx(ce,{size:"xs",c:"dimmed",children:"Your data is encrypted with your password"})]})]})}),g.jsx(Lt,{withBorder:!0,p:"md",radius:"md",children:g.jsxs(Be,{children:[g.jsx(Vn,{size:"md",variant:"light",color:"blue",children:g.jsx(rP,{size:16})}),g.jsxs("div",{children:[g.jsx(ce,{size:"sm",fw:500,children:t==="local"?"Local Storage":t}),g.jsx(ce,{size:"xs",c:"dimmed",children:"Data stored on this device"})]})]})}),g.jsx(Lt,{withBorder:!0,p:"md",radius:"md",children:g.jsxs(Be,{children:[g.jsx(Vn,{size:"md",variant:"light",color:e?"blue":"gray",children:g.jsx(SF,{size:16})}),g.jsxs("div",{children:[g.jsx(ce,{size:"sm",fw:500,children:"AI Document Analysis"}),g.jsx(ce,{size:"xs",c:"dimmed",children:e?"Configured and ready":"Not configured - manual entry only"})]})]})})]}),!e&&g.jsx(Kt,{variant:"light",color:"yellow",title:"AI not configured",children:"You can configure AI document analysis later in Settings to enable automatic extraction from lab reports."})]})}function hie(){const{unlock:t}=Ih(),[e,n]=w.useState(""),[r,i]=w.useState(!1),[a,o]=w.useState(null),[s,c]=w.useState(!1),d=w.useRef(null);w.useEffect(()=>{d.current?.focus()},[]);const f=w.useCallback(async m=>{m.preventDefault(),o(null),c(!0);try{await t(e)||(o("Incorrect password"),n(""),d.current?.focus())}catch{o("An error occurred. Please try again.")}finally{c(!1)}},[e,t]),h=w.useCallback(m=>{n(m.target.value),a&&o(null)},[a]);return g.jsx(hg,{size:"xs",py:"xl",children:g.jsxs(it,{gap:"xl",children:[g.jsx(qa,{children:g.jsx(Vn,{size:80,radius:"xl",variant:"light",color:"blue",children:g.jsx(Io,{size:40})})}),g.jsxs("div",{children:[g.jsx(Yi,{order:1,ta:"center",children:"HemoIO"}),g.jsx(ce,{c:"dimmed",ta:"center",mt:"xs",children:"Enter your password to unlock your lab data"})]}),g.jsx(Lt,{withBorder:!0,shadow:"md",p:"xl",radius:"md",children:g.jsx("form",{onSubmit:f,children:g.jsxs(it,{gap:"lg",children:[a&&g.jsx(Kt,{variant:"light",color:"red",icon:g.jsx(la,{size:16}),title:"Error",role:"alert",children:a}),g.jsx(Ds,{ref:d,label:"Password",placeholder:"Enter your password",value:e,onChange:h,visible:r,onVisibilityChange:i,error:a?!0:void 0,disabled:s,"aria-label":"Password","aria-invalid":a?"true":"false",required:!0}),g.jsx(Dt,{type:"submit",fullWidth:!0,loading:s,disabled:e.length===0,leftSection:g.jsx(Io,{size:16}),children:"Unlock"})]})})}),g.jsx(ce,{size:"xs",c:"dimmed",ta:"center",children:"Your data is encrypted locally and never leaves your device."})]})})}const pie=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function mh(t,e,n){const r=mie(t),{webkitRelativePath:i}=t,a=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&oL(r,"path",a),oL(r,"relativePath",a),r}function mie(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=pie.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function oL(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const gie=[".DS_Store","Thumbs.db"];function vie(t){return Ad(this,void 0,void 0,function*(){return Db(t)&&yie(t.dataTransfer)?Sie(t.dataTransfer,t.type):bie(t)?xie(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?wie(t):[]})}function yie(t){return Db(t)}function bie(t){return Db(t)&&Db(t.target)}function Db(t){return typeof t=="object"&&t!==null}function xie(t){return X_(t.target.files).map(e=>mh(e))}function wie(t){return Ad(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>mh(n))})}function Sie(t,e){return Ad(this,void 0,void 0,function*(){if(t.items){const n=X_(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(Aie));return sL(IF(r))}return sL(X_(t.files).map(n=>mh(n)))})}function sL(t){return t.filter(e=>gie.indexOf(e.name)===-1)}function X_(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function Aie(t){if(typeof t.webkitGetAsEntry!="function")return lL(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?zF(e):lL(t,e)}function IF(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?IF(n):[n]],[])}function lL(t,e){return Ad(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const a=yield t.getAsFileSystemHandle();if(a===null)throw new Error(`${t} is not a File`);if(a!==void 0){const o=yield a.getFile();return o.handle=a,mh(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return mh(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function Cie(t){return Ad(this,void 0,void 0,function*(){return t.isDirectory?zF(t):_ie(t)})}function zF(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function a(){e.readEntries(o=>Ad(this,void 0,void 0,function*(){if(o.length){const s=Promise.all(o.map(Cie));i.push(s),a()}else try{const s=yield Promise.all(i);n(s)}catch(s){r(s)}}),o=>{r(o)})}a()})}function _ie(t){return Ad(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=mh(r,t.fullPath);e(i)},r=>{n(r)})})})}var dy={},cL;function Eie(){return cL||(cL=1,dy.__esModule=!0,dy.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(o){var s=o.trim().toLowerCase();return s.charAt(0)==="."?r.toLowerCase().endsWith(s):s.endsWith("/*")?a===s.replace(/\/.*$/,""):i===s})}return!0}),dy}var Tie=Eie();const lA=ua(Tie);function uL(t){return Oie(t)||Pie(t)||$F(t)||kie()}function kie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oie(t){if(Array.isArray(t))return Z_(t)}function dL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(n),!0).forEach(function(r){BF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Im(t,e){return Rie(t)||Mie(t,e)||$F(t,e)||Die()}function Die(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $F(t,e){if(t){if(typeof t=="string")return Z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(t,e)}}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){a=!0,s=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function Rie(t){if(Array.isArray(t))return t}var jie=typeof lA=="function"?lA:lA.default,Lie="file-invalid-type",Nie="file-too-large",Iie="file-too-small",zie="too-many-files",Bie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:Lie,message:"File type must be ".concat(r)}},hL=function(e){return{code:Nie,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},pL=function(e){return{code:Iie,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},$ie={code:zie,message:"Too many files"};function FF(t,e){var n=t.type==="application/x-moz-file"||jie(t,e);return[n,n?null:Bie(e)]}function UF(t,e,n){if(Hu(t.size))if(Hu(e)&&Hu(n)){if(t.size>n)return[!1,hL(n)];if(t.size<e)return[!1,pL(e)]}else{if(Hu(e)&&t.size<e)return[!1,pL(e)];if(Hu(n)&&t.size>n)return[!1,hL(n)]}return[!0,null]}function Hu(t){return t!=null}function Fie(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,a=t.multiple,o=t.maxFiles,s=t.validator;return!a&&e.length>1||a&&o>=1&&e.length>o?!1:e.every(function(c){var d=FF(c,n),f=Im(d,1),h=f[0],m=UF(c,r,i),v=Im(m,1),b=v[0],x=s?s(c):null;return h&&b&&!x})}function Mb(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function fy(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function mL(t){t.preventDefault()}function Uie(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Hie(t){return t.indexOf("Edge/")!==-1}function Vie(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Uie(t)||Hie(t)}function ds(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return e.some(function(s){return!Mb(r)&&s&&s.apply(void 0,[r].concat(a)),Mb(r)})}}function qie(){return"showOpenFilePicker"in window}function Gie(t){if(Hu(t)){var e=Object.entries(t).filter(function(n){var r=Im(n,2),i=r[0],a=r[1],o=!0;return HF(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(VF))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=Im(r,2),a=i[0],o=i[1];return fL(fL({},n),{},BF({},a,o))},{});return[{description:"Files",accept:e}]}return t}function Yie(t){if(Hu(t))return Object.entries(t).reduce(function(e,n){var r=Im(n,2),i=r[0],a=r[1];return[].concat(uL(e),[i],uL(a))},[]).filter(function(e){return HF(e)||VF(e)}).join(",")}function Kie(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Wie(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function HF(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function VF(t){return/^.*\.[\w]+$/.test(t)}var Xie=["children"],Zie=["open"],Qie=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Jie=["refKey","onChange","onClick"];function eae(t){return rae(t)||nae(t)||qF(t)||tae()}function tae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rae(t){if(Array.isArray(t))return Q_(t)}function cA(t,e){return oae(t)||aae(t,e)||qF(t,e)||iae()}function iae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qF(t,e){if(t){if(typeof t=="string")return Q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q_(t,e)}}function Q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){a=!0,s=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function oae(t){if(Array.isArray(t))return t}function gL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(n),!0).forEach(function(r){J_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rb(t,e){if(t==null)return{};var n=sae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var hP=w.forwardRef(function(t,e){var n=t.children,r=Rb(t,Xie),i=YF(r),a=i.open,o=Rb(i,Zie);return w.useImperativeHandle(e,function(){return{open:a}},[a]),sr.createElement(w.Fragment,null,n(hr(hr({},o),{},{open:a})))});hP.displayName="Dropzone";var GF={disabled:!1,getFilesFromEvent:vie,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};hP.defaultProps=GF;hP.propTypes={children:Hn.func,accept:Hn.objectOf(Hn.arrayOf(Hn.string)),multiple:Hn.bool,preventDropOnDocument:Hn.bool,noClick:Hn.bool,noKeyboard:Hn.bool,noDrag:Hn.bool,noDragEventsBubbling:Hn.bool,minSize:Hn.number,maxSize:Hn.number,maxFiles:Hn.number,disabled:Hn.bool,getFilesFromEvent:Hn.func,onFileDialogCancel:Hn.func,onFileDialogOpen:Hn.func,useFsAccessApi:Hn.bool,autoFocus:Hn.bool,onDragEnter:Hn.func,onDragLeave:Hn.func,onDragOver:Hn.func,onDrop:Hn.func,onDropAccepted:Hn.func,onDropRejected:Hn.func,onError:Hn.func,validator:Hn.func};var eE={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function YF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=hr(hr({},GF),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,o=e.minSize,s=e.multiple,c=e.maxFiles,d=e.onDragEnter,f=e.onDragLeave,h=e.onDragOver,m=e.onDrop,v=e.onDropAccepted,b=e.onDropRejected,x=e.onFileDialogCancel,S=e.onFileDialogOpen,A=e.useFsAccessApi,T=e.autoFocus,E=e.preventDropOnDocument,k=e.noClick,D=e.noKeyboard,M=e.noDrag,R=e.noDragEventsBubbling,N=e.onError,z=e.validator,q=w.useMemo(function(){return Yie(n)},[n]),Y=w.useMemo(function(){return Gie(n)},[n]),K=w.useMemo(function(){return typeof S=="function"?S:vL},[S]),te=w.useMemo(function(){return typeof x=="function"?x:vL},[x]),W=w.useRef(null),J=w.useRef(null),L=w.useReducer(lae,eE),U=cA(L,2),F=U[0],V=U[1],G=F.isFocused,$=F.isFileDialogActive,X=w.useRef(typeof window<"u"&&window.isSecureContext&&A&&qie()),ne=function(){!X.current&&$&&setTimeout(function(){if(J.current){var at=J.current.files;at.length||(V({type:"closeDialog"}),te())}},300)};w.useEffect(function(){return window.addEventListener("focus",ne,!1),function(){window.removeEventListener("focus",ne,!1)}},[J,$,te,X]);var ae=w.useRef([]),oe=function(at){W.current&&W.current.contains(at.target)||(at.preventDefault(),ae.current=[])};w.useEffect(function(){return E&&(document.addEventListener("dragover",mL,!1),document.addEventListener("drop",oe,!1)),function(){E&&(document.removeEventListener("dragover",mL),document.removeEventListener("drop",oe))}},[W,E]),w.useEffect(function(){return!r&&T&&W.current&&W.current.focus(),function(){}},[W,T,r]);var xe=w.useCallback(function($e){N?N($e):console.error($e)},[N]),be=w.useCallback(function($e){$e.preventDefault(),$e.persist(),Je($e),ae.current=[].concat(eae(ae.current),[$e.target]),fy($e)&&Promise.resolve(i($e)).then(function(at){if(!(Mb($e)&&!R)){var Ge=at.length,qe=Ge>0&&Fie({files:at,accept:q,minSize:o,maxSize:a,multiple:s,maxFiles:c,validator:z}),Jt=Ge>0&&!qe;V({isDragAccept:qe,isDragReject:Jt,isDragActive:!0,type:"setDraggedFiles"}),d&&d($e)}}).catch(function(at){return xe(at)})},[i,d,xe,R,q,o,a,s,c,z]),ze=w.useCallback(function($e){$e.preventDefault(),$e.persist(),Je($e);var at=fy($e);if(at&&$e.dataTransfer)try{$e.dataTransfer.dropEffect="copy"}catch{}return at&&h&&h($e),!1},[h,R]),ie=w.useCallback(function($e){$e.preventDefault(),$e.persist(),Je($e);var at=ae.current.filter(function(qe){return W.current&&W.current.contains(qe)}),Ge=at.indexOf($e.target);Ge!==-1&&at.splice(Ge,1),ae.current=at,!(at.length>0)&&(V({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),fy($e)&&f&&f($e))},[W,f,R]),se=w.useCallback(function($e,at){var Ge=[],qe=[];$e.forEach(function(Jt){var yn=FF(Jt,q),Ht=cA(yn,2),En=Ht[0],Gt=Ht[1],Xn=UF(Jt,o,a),bn=cA(Xn,2),Nt=bn[0],et=bn[1],gr=z?z(Jt):null;if(En&&Nt&&!gr)Ge.push(Jt);else{var xn=[Gt,et];gr&&(xn=xn.concat(gr)),qe.push({file:Jt,errors:xn.filter(function(Jr){return Jr})})}}),(!s&&Ge.length>1||s&&c>=1&&Ge.length>c)&&(Ge.forEach(function(Jt){qe.push({file:Jt,errors:[$ie]})}),Ge.splice(0)),V({acceptedFiles:Ge,fileRejections:qe,isDragReject:qe.length>0,type:"setFiles"}),m&&m(Ge,qe,at),qe.length>0&&b&&b(qe,at),Ge.length>0&&v&&v(Ge,at)},[V,s,q,o,a,c,m,v,b,z]),je=w.useCallback(function($e){$e.preventDefault(),$e.persist(),Je($e),ae.current=[],fy($e)&&Promise.resolve(i($e)).then(function(at){Mb($e)&&!R||se(at,$e)}).catch(function(at){return xe(at)}),V({type:"reset"})},[i,se,xe,R]),ue=w.useCallback(function(){if(X.current){V({type:"openDialog"}),K();var $e={multiple:s,types:Y};window.showOpenFilePicker($e).then(function(at){return i(at)}).then(function(at){se(at,null),V({type:"closeDialog"})}).catch(function(at){Kie(at)?(te(at),V({type:"closeDialog"})):Wie(at)?(X.current=!1,J.current?(J.current.value=null,J.current.click()):xe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):xe(at)});return}J.current&&(V({type:"openDialog"}),K(),J.current.value=null,J.current.click())},[V,K,te,A,se,xe,Y,s]),Ve=w.useCallback(function($e){!W.current||!W.current.isEqualNode($e.target)||($e.key===" "||$e.key==="Enter"||$e.keyCode===32||$e.keyCode===13)&&($e.preventDefault(),ue())},[W,ue]),Le=w.useCallback(function(){V({type:"focus"})},[]),ct=w.useCallback(function(){V({type:"blur"})},[]),Qe=w.useCallback(function(){k||(Vie()?setTimeout(ue,0):ue())},[k,ue]),He=function(at){return r?null:at},We=function(at){return D?null:He(at)},nt=function(at){return M?null:He(at)},Je=function(at){R&&at.stopPropagation()},wt=w.useMemo(function(){return function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},at=$e.refKey,Ge=at===void 0?"ref":at,qe=$e.role,Jt=$e.onKeyDown,yn=$e.onFocus,Ht=$e.onBlur,En=$e.onClick,Gt=$e.onDragEnter,Xn=$e.onDragOver,bn=$e.onDragLeave,Nt=$e.onDrop,et=Rb($e,Qie);return hr(hr(J_({onKeyDown:We(ds(Jt,Ve)),onFocus:We(ds(yn,Le)),onBlur:We(ds(Ht,ct)),onClick:He(ds(En,Qe)),onDragEnter:nt(ds(Gt,be)),onDragOver:nt(ds(Xn,ze)),onDragLeave:nt(ds(bn,ie)),onDrop:nt(ds(Nt,je)),role:typeof qe=="string"&&qe!==""?qe:"presentation"},Ge,W),!r&&!D?{tabIndex:0}:{}),et)}},[W,Ve,Le,ct,Qe,be,ze,ie,je,D,M,r]),ft=w.useCallback(function($e){$e.stopPropagation()},[]),vt=w.useMemo(function(){return function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},at=$e.refKey,Ge=at===void 0?"ref":at,qe=$e.onChange,Jt=$e.onClick,yn=Rb($e,Jie),Ht=J_({accept:q,multiple:s,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:He(ds(qe,je)),onClick:He(ds(Jt,ft)),tabIndex:-1},Ge,J);return hr(hr({},Ht),yn)}},[J,n,s,je,r]);return hr(hr({},F),{},{isFocused:G&&!r,getRootProps:wt,getInputProps:vt,rootRef:W,inputRef:J,open:He(ue)})}function lae(t,e){switch(e.type){case"focus":return hr(hr({},t),{},{isFocused:!0});case"blur":return hr(hr({},t),{},{isFocused:!1});case"openDialog":return hr(hr({},eE),{},{isFileDialogActive:!0});case"closeDialog":return hr(hr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return hr(hr({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return hr(hr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return hr({},eE);default:return t}}function vL(){}const[cae,uae]=da("Dropzone component was not found in tree");var zm={root:"m_d46a4834",inner:"m_b85f7144",fullScreen:"m_96f6e9ad",dropzone:"m_7946116d"};function pP(t){const e=n=>{const{children:r,...i}=Pe(`Dropzone${KR(t)}`,{},n),a=uae(),o=vT(r)?r:g.jsx("span",{children:r});return a[t]?w.cloneElement(o,i):null};return e.displayName=`@mantine/dropzone/${KR(t)}`,e}const dae=pP("accept"),fae=pP("reject"),hae=pP("idle"),pae={multiple:!0,maxSize:1/0,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0,variant:"light",rejectColor:"red"},mae=(t,{radius:e,variant:n,acceptColor:r,rejectColor:i})=>{const a=t.variantColorResolver({color:r||t.primaryColor,theme:t,variant:n}),o=t.variantColorResolver({color:i||"red",theme:t,variant:n});return{root:{"--dropzone-radius":_n(e),"--dropzone-accept-color":a.color,"--dropzone-accept-bg":a.background,"--dropzone-reject-color":o.color,"--dropzone-reject-bg":o.background}}},Jc=Ue((t,e)=>{const n=Pe("Dropzone",pae,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,radius:d,disabled:f,loading:h,multiple:m,maxSize:v,accept:b,children:x,onDropAny:S,onDrop:A,onReject:T,openRef:E,name:k,maxFiles:D,autoFocus:M,activateOnClick:R,activateOnDrag:N,dragEventsBubbling:z,activateOnKeyboard:q,onDragEnter:Y,onDragLeave:K,onDragOver:te,onFileDialogCancel:W,onFileDialogOpen:J,preventDropOnDocument:L,useFsAccessApi:U,getFilesFromEvent:F,validator:V,rejectColor:G,acceptColor:$,enablePointerEvents:X,loaderProps:ne,inputProps:ae,mod:oe,attributes:xe,...be}=n,ze=ut({name:"Dropzone",classes:zm,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:xe,vars:c,varsResolver:mae}),{getRootProps:ie,getInputProps:se,isDragAccept:je,isDragReject:ue,isDragActive:Ve,open:Le}=YF({onDrop:S,onDropAccepted:A,onDropRejected:T,disabled:f||h,accept:Array.isArray(b)?b.reduce((We,nt)=>({...We,[nt]:[]}),{}):b,multiple:m,maxSize:v,maxFiles:D,autoFocus:M,noClick:!R,noDrag:!N,noDragEventsBubbling:!z,noKeyboard:!q,onDragEnter:Y,onDragLeave:K,onDragOver:te,onFileDialogCancel:W,onFileDialogOpen:J,preventDropOnDocument:L,useFsAccessApi:U,validator:V,...F?{getFilesFromEvent:F}:null});ah(E,Le);const ct=Ve&&je,Qe=Ve&&ue,He=!ct&&!Qe;return g.jsx(cae,{value:{accept:ct,reject:Qe,idle:He},children:g.jsxs(Me,{...ie(),...ze("root",{focusable:!0}),...be,mod:[{accept:ct,reject:Qe,idle:He,disabled:f,loading:h,"activate-on-click":R},oe],children:[g.jsx(ix,{visible:h,overlayProps:{radius:d},unstyled:s,loaderProps:ne}),g.jsx("input",{...se(ae),name:k}),g.jsx("div",{...ze("inner"),ref:e,"data-enable-pointer-events":X||void 0,children:x})]})})});Jc.classes=zm;Jc.displayName="@mantine/dropzone/Dropzone";Jc.Accept=dae;Jc.Idle=hae;Jc.Reject=fae;const gae={maxSize:1/0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:Wa("max"),withinPortal:!0},mP=Ue((t,e)=>{const n=Pe("DropzoneFullScreen",gae,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,active:d,onDrop:f,onReject:h,zIndex:m,withinPortal:v,portalProps:b,attributes:x,...S}=n,A=ut({name:"DropzoneFullScreen",classes:zm,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:x,rootSelector:"fullScreen"}),{resolvedClassNames:T,resolvedStyles:E}=ka({classNames:r,styles:o,props:n}),[k,D]=w.useState(0),[M,{open:R,close:N}]=z0(!1),z=Y=>{Y.dataTransfer?.types.includes("Files")&&(D(K=>K+1),R())},q=()=>{D(Y=>Y-1)};return w.useEffect(()=>{k===0&&N()},[k]),w.useEffect(()=>{if(d)return document.addEventListener("dragenter",z,!1),document.addEventListener("dragleave",q,!1),()=>{document.removeEventListener("dragenter",z,!1),document.removeEventListener("dragleave",q,!1)}},[d]),g.jsx(Pl,{...b,withinPortal:v,children:g.jsx(Me,{ref:e,...A("fullScreen",{style:{opacity:M?1:0,pointerEvents:M?"all":"none",zIndex:m}}),children:g.jsx(Jc,{activateOnClick:!1,...S,classNames:T,styles:E,unstyled:s,className:zm.dropzone,onDrop:Y=>{f?.(Y),N(),D(0)},onReject:Y=>{h?.(Y),N(),D(0)}})})})});mP.classes=zm;mP.displayName="@mantine/dropzone/DropzoneFullScreen";const Qp={png:"image/png",gif:"image/gif",jpeg:"image/jpeg",webp:"image/webp",pdf:"application/pdf"};Jc.FullScreen=mP;const hy=Jc,ra=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),tE=[.001,0,0,.001,0,0],uA=1.35,Ba={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},zc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Bm="pdfjs_internal_editor_",Ut={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},ln={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},vae={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},nE={TRIANGLES:1,LATTICE:2},Gr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Qy={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Nr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},zf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Ex={ERRORS:0,WARNINGS:1,INFOS:5},hd={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Jp={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},yae={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Tx=Ex.WARNINGS;function bae(t){Number.isInteger(t)&&(Tx=t)}function xae(){return Tx}function kx(t){Tx>=Ex.INFOS&&console.info(`Info: ${t}`)}function $t(t){Tx>=Ex.WARNINGS&&console.warn(`Warning: ${t}`)}function Gn(t){throw new Error(t)}function cn(t,e){t||Gn(e)}function wae(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function KF(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"&&(n.addDefaultProtocol&&t.startsWith("www.")&&t.match(/\./g)?.length>=2&&(t=`http://${t}`),n.tryConvertEncoding))try{t=Eae(t)}catch{}const r=e?URL.parse(t,e):URL.parse(t);return wae(r)?r:null}function WF(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&KF(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ft(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const Pd=(function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class yL extends Pd{constructor(e,n){super(e,"PasswordException"),this.code=n}}class dA extends Pd{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class rE extends Pd{constructor(e){super(e,"InvalidPDFException")}}class jb extends Pd{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class Sae extends Pd{constructor(e){super(e,"FormatError")}}class qc extends Pd{constructor(e){super(e,"AbortException")}}function XF(t){(typeof t!="object"||t?.length===void 0)&&Gn("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const a=Math.min(i+n,e),o=t.subarray(i,a);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function yg(t){typeof t!="string"&&Gn("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function Aae(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function Cae(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function _ae(){try{return new Function(""),!0}catch{return!1}}class Wr{static get isLittleEndian(){return Ft(this,"isLittleEndian",Cae())}static get isEvalSupported(){return Ft(this,"isEvalSupported",_ae())}static get isOffscreenCanvasSupported(){return Ft(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ft(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Ft(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Ft(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return Ft(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){return Ft(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const fA=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class gt{static makeHexColor(e,n,r){return`#${fA[e]}${fA[n]}${fA[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],a=e[r+1];e[r]=i*n[0]+a*n[2]+n[4],e[r+1]=i*n[1]+a*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],a=n[1],o=n[2],s=n[3],c=n[4],d=n[5];for(let f=0;f<6;f+=2){const h=e[r+f],m=e[r+f+1];e[r+f]=h*i+m*o+c,e[r+f+1]=h*a+m*s+d}}static applyInverseTransform(e,n){const r=e[0],i=e[1],a=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/a,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/a}static axialAlignedBoundingBox(e,n,r){const i=n[0],a=n[1],o=n[2],s=n[3],c=n[4],d=n[5],f=e[0],h=e[1],m=e[2],v=e[3];let b=i*f+c,x=b,S=i*m+c,A=S,T=s*h+d,E=T,k=s*v+d,D=k;if(a!==0||o!==0){const M=a*f,R=a*m,N=o*h,z=o*v;b+=N,A+=N,S+=z,x+=z,T+=M,D+=M,k+=R,E+=R}r[0]=Math.min(r[0],b,S,x,A),r[1]=Math.min(r[1],T,k,E,D),r[2]=Math.max(r[2],b,S,x,A),r[3]=Math.max(r[3],T,k,E,D)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],a=e[2],o=e[3],s=r**2+i**2,c=r*a+i*o,d=a**2+o**2,f=(s+d)/2,h=Math.sqrt(f**2-(s*d-c**2));n[0]=Math.sqrt(f+h||1),n[1]=Math.sqrt(f-h||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return a>o?null:[r,a,i,o]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,a){a[0]=Math.min(a[0],e,r),a[1]=Math.min(a[1],n,i),a[2]=Math.max(a[2],e,r),a[3]=Math.max(a[3],n,i)}static#e(e,n,r,i,a,o,s,c,d,f){if(d<=0||d>=1)return;const h=1-d,m=d*d,v=m*d,b=h*(h*(h*e+3*d*n)+3*m*r)+v*i,x=h*(h*(h*a+3*d*o)+3*m*s)+v*c;f[0]=Math.min(f[0],b),f[1]=Math.min(f[1],x),f[2]=Math.max(f[2],b),f[3]=Math.max(f[3],x)}static#t(e,n,r,i,a,o,s,c,d,f,h,m){if(Math.abs(d)<1e-12){Math.abs(f)>=1e-12&&this.#e(e,n,r,i,a,o,s,c,-h/f,m);return}const v=f**2-4*h*d;if(v<0)return;const b=Math.sqrt(v),x=2*d;this.#e(e,n,r,i,a,o,s,c,(-f+b)/x,m),this.#e(e,n,r,i,a,o,s,c,(-f-b)/x,m)}static bezierBoundingBox(e,n,r,i,a,o,s,c,d){d[0]=Math.min(d[0],e,s),d[1]=Math.min(d[1],n,c),d[2]=Math.max(d[2],e,s),d[3]=Math.max(d[3],n,c),this.#t(e,r,a,s,n,i,o,c,3*(-e+3*(r-a)+s),6*(e-2*r+a),3*(r-e),d),this.#t(e,r,a,s,n,i,o,c,3*(-n+3*(i-o)+c),6*(n-2*i+o),3*(i-n),d)}}function Eae(t){return decodeURIComponent(escape(t))}let hA=null,bL=null;function Tae(t){return hA||(hA=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,bL=new Map([["","t"]])),t.replaceAll(hA,(e,n,r)=>n?n.normalize("NFKC"):bL.get(r))}function ZF(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),XF(t)}const Uf="pdfjs_internal_id_";function kae(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...a]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const o=a.length;let s=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;s=!1;break;default:return!1}for(const c of a)if(!(typeof c=="number"||s&&c===null))return!1;return!0}function ia(t,e,n){return Math.min(Math.max(t,e),n)}function QF(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(XF(t))}function Pae(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):yg(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class $m{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(a){if(!a)return;let o=null;const s=a.name;if(s==="#text")o=a.value;else if($m.shouldBuildText(s))a?.attributes?.textContent?o=a.attributes.textContent:a.value&&(o=a.value);else return;if(o!==null&&n.push({str:o}),!!a.children)for(const c of a.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class JF{static setupStorage(e,n,r,i,a){const o=i.getValue(n,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),a==="print")break;e.addEventListener("input",s=>{i.setValue(n,{value:s.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",s=>{i.setValue(n,{value:s.target.checked?s.target.getAttribute("xfaOn"):s.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),a==="print")break;e.addEventListener("input",s=>{i.setValue(n,{value:s.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const s of r.children)s.attributes.value===o.value?s.attributes.selected=!0:s.attributes.hasOwnProperty("selected")&&delete s.attributes.selected}e.addEventListener("input",s=>{const c=s.target.options,d=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(n,{value:d})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:a}){const{attributes:o}=n,s=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[c,d]of Object.entries(o))if(d!=null)switch(c){case"class":d.length&&e.setAttribute(c,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!s||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,d)}s&&a.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,n,r)}static render(e){const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,a=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:a,linkService:r});const s=a!=="richText",c=e.div;if(c.append(o),e.viewport){const h=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=h}s&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const h=document.createTextNode(i.value);o.append(h),s&&$m.shouldBuildText(i.name)&&d.push(h)}return{textDivs:d}}const f=[[i,-1,o]];for(;f.length>0;){const[h,m,v]=f.at(-1);if(m+1===h.children.length){f.pop();continue}const b=h.children[++f.at(-1)[1]];if(b===null)continue;const{name:x}=b;if(x==="#text"){const A=document.createTextNode(b.value);d.push(A),v.append(A);continue}const S=b?.attributes?.xmlns?document.createElementNS(b.attributes.xmlns,x):document.createElement(x);if(v.append(S),b.attributes&&this.setAttributes({html:S,element:b,storage:n,intent:a,linkService:r}),b.children?.length>0)f.push([b,-1,S]);else if(b.value){const A=document.createTextNode(b.value);s&&$m.shouldBuildText(x)&&d.push(A),S.append(A)}}for(const h of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const ml="http://www.w3.org/2000/svg";class gh{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function bg(t,e="text"){if(ym(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class xg{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:a=0,offsetY:o=0,dontFlip:s=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=o,r*=n;const c=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let f,h,m,v;switch(i%=360,i<0&&(i+=360),i){case 180:f=-1,h=0,m=0,v=1;break;case 90:f=0,h=1,m=1,v=0;break;case 270:f=0,h=-1,m=-1,v=0;break;case 0:f=1,h=0,m=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(m=-m,v=-v);let b,x,S,A;f===0?(b=Math.abs(d-e[1])*r+a,x=Math.abs(c-e[0])*r+o,S=(e[3]-e[1])*r,A=(e[2]-e[0])*r):(b=Math.abs(c-e[0])*r+a,x=Math.abs(d-e[1])*r+o,S=(e[2]-e[0])*r,A=(e[3]-e[1])*r),this.transform=[f*r,h*r,m*r,v*r,b-f*r*c-m*r*d,x-h*r*c-v*r*d],this.width=S,this.height=A}get rawDims(){const e=this.viewBox;return Ft(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new xg({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}convertToViewportPoint(e,n){const r=[e,n];return gt.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];gt.applyTransform(n,this.transform);const r=[e[2],e[3]];return gt.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return gt.applyInverseTransform(r,this.transform),r}}class gP extends Pd{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function Px(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function vP(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function Oae(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Dae(t,e="document.pdf"){if(typeof t!="string")return e;if(Px(t))return $t('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(s=>{try{return new URL(s)}catch{try{return new URL(decodeURIComponent(s))}catch{try{return new URL(s,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(s),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=s=>{try{let c=decodeURIComponent(s);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:s):c}catch{return s}},a=/\.pdf$/i,o=r.pathname.split("/").at(-1);if(a.test(o))return i(o);if(r.searchParams.size>0){const s=Array.from(r.searchParams.values()).reverse();for(const d of s)if(a.test(d))return i(d);const c=Array.from(r.searchParams.keys()).reverse();for(const d of c)if(a.test(d))return i(d)}if(r.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(c)return i(c[0])}return e}class xL{started=Object.create(null);times=[];time(e){e in this.started&&$t(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||$t(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:a}of this.times)e.push(`${r.padEnd(n)} ${a-i}ms
`);return e.join("")}}function ym(t,e){const n=e?URL.parse(t,e):URL.parse(t);return n?.protocol==="http:"||n?.protocol==="https:"}function Co(t){t.preventDefault()}function wr(t){t.preventDefault(),t.stopPropagation()}function Mae(t){console.log("Deprecated API usage: "+t)}class iE{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#e.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;let o=parseInt(n[4],10);o=o>=0&&o<=23?o:0;let s=parseInt(n[5],10);s=s>=0&&s<=59?s:0;let c=parseInt(n[6],10);c=c>=0&&c<=59?c:0;const d=n[7]||"Z";let f=parseInt(n[8],10);f=f>=0&&f<=23?f:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,d==="-"?(o+=f,s+=h):d==="+"&&(o-=f,s-=h),new Date(Date.UTC(r,i,a,o,s,c))}}function Rae(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,a=[0,0,parseInt(r),parseInt(i)];return new xg({viewBox:a,userUnit:1,scale:e,rotation:n})}function wg(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):($t(`Not a valid color format: "${t}"`),[0,0,0])}function jae(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,wg(r))}e.remove()}function fr(t){const{a:e,b:n,c:r,d:i,e:a,f:o}=t.getTransform();return[e,n,r,i,a,o]}function fs(t){const{a:e,b:n,c:r,d:i,e:a,f:o}=t.getTransform().invertSelf();return[e,n,r,i,a,o]}function pd(t,e,n=!1,r=!0){if(e instanceof xg){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:o}=t,s=Wr.isCSSRoundSupported,c=`var(--total-scale-factor) * ${i}px`,d=`var(--total-scale-factor) * ${a}px`,f=s?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,h=s?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!n||e.rotation%180===0?(o.width=f,o.height=h):(o.width=h,o.height=f)}r&&t.setAttribute("data-main-rotation",e.rotation)}class Ms{constructor(){const{pixelRatio:e}=Ms;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,a=-1){let o=1/0,s=1/0,c=1/0;r=Ms.capPixels(r,a),r>0&&(o=Math.sqrt(r/(e*n))),i!==-1&&(s=i/e,c=i/n);const d=Math.min(o,s,c);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const aE=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Lae{static get isDarkMode(){return Ft(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class Nae{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),Ft(this,"commentForegroundColor",wg(r))}}function Iae(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function wL(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,a=Math.max(n,r,i),o=Math.min(n,r,i),s=(a+o)/2;if(a===o)e[0]=e[1]=0;else{const c=a-o;switch(e[1]=s<.5?c/(a+o):c/(2-a-o),a){case n:e[0]=((r-i)/c+(r<i?6:0))*60;break;case r:e[0]=((i-n)/c+2)*60;break;case i:e[0]=((n-r)/c+4)*60;break}}e[2]=s}function oE(t,e){const n=t[0],r=t[1],i=t[2],a=(1-Math.abs(2*i-1))*r,o=a*(1-Math.abs(n/60%2-1)),s=i-a/2;switch(Math.floor(n/60)){case 0:e[0]=a+s,e[1]=o+s,e[2]=s;break;case 1:e[0]=o+s,e[1]=a+s,e[2]=s;break;case 2:e[0]=s,e[1]=a+s,e[2]=o+s;break;case 3:e[0]=s,e[1]=o+s,e[2]=a+s;break;case 4:e[0]=o+s,e[1]=s,e[2]=a+s;break;case 5:case 6:e[0]=a+s,e[1]=s,e[2]=o+s;break}}function SL(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function AL(t,e,n){oE(t,n),n.map(SL);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];oE(e,n),n.map(SL);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const CL=new Map;function zae(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=CL.get(n);if(r)return r;const i=new Float32Array(9),a=i.subarray(0,3),o=i.subarray(3,6);wL(t,o);const s=i.subarray(6,9);wL(e,s);const c=s[2]<.5,d=c?12:4.5;if(o[2]=c?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),AL(o,s,a)<d){let f,h;c?(f=o[2],h=1):(f=0,h=o[2]);const m=.005;for(;h-f>m;){const v=o[2]=(f+h)/2;c===AL(o,s,a)<d?f=v:h=v}o[2]=c?h:f}return oE(o,a),r=gt.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),CL.set(n,r),r}function e6({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const a=document.createElement("p");a.dir=e||"auto";const o=t.split(/(?:\r\n?|\n)/);for(let s=0,c=o.length;s<c;++s){const d=o[s];a.append(document.createTextNode(d)),s<c-1&&a.append(document.createElement("br"))}i.append(a)}else JF.render({xfaHtml:t,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",n),r.append(i)}function t6(t){const e=new Path2D;if(!t)return e;for(let n=0,r=t.length;n<r;)switch(t[n++]){case Jp.moveTo:e.moveTo(t[n++],t[n++]);break;case Jp.lineTo:e.lineTo(t[n++],t[n++]);break;case Jp.curveTo:e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);break;case Jp.quadraticCurveTo:e.quadraticCurveTo(t[n++],t[n++],t[n++],t[n++]);break;case Jp.closePath:e.closePath();break;default:$t(`Unrecognized drawing path operator: ${t[n-1]}`);break}return e}class Pm{#e=null;#t=null;#r;#n=null;#o=null;#a=null;#i=null;#s=null;static#c=null;constructor(e){this.#r=e,Pm.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=this.#r._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",Co,{signal:n}),e.addEventListener("pointerdown",Pm.#l,{signal:n}));const r=this.#n=document.createElement("div");r.className="buttons",e.append(r);const i=this.#r.toolbarPosition;if(i){const{style:a}=e,o=this.#r._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*o}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#f(e){this.#r._focusEventsAllowed=!1,wr(e)}#d(e){this.#r._focusEventsAllowed=!0,wr(e)}#h(e){const n=this.#r._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",this.#f.bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Co,{signal:n}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#o?.shown(),this.#a?.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=this.#r,r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",Pm.#c[e]),this.#h(r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),this.#n.append(r)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const n=await e.render();this.#h(n),this.#n.append(n,this.#g),this.#o=e}addComment(e,n=null){if(this.#a)return;const r=e.renderForToolbar();if(!r)return;this.#h(r);const i=this.#i=this.#g;n?(this.#n.insertBefore(r,n),this.#n.insertBefore(i,n)):this.#n.append(r,i),this.#a=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const n=e.renderButton();this.#h(n),this.#n.append(n,this.#g)}async addEditSignatureButton(e){const n=this.#s=await e.renderEditButton(this.#r);this.#h(n),this.#n.append(n,this.#g)}removeButton(e){e==="comment"&&(this.#a?.removeToolbarCommentButton(),this.#a=null,this.#i?.remove(),this.#i=null)}async addButton(e,n){switch(e){case"colorPicker":n&&this.addColorPicker(n);break;case"altText":n&&await this.addAltText(n);break;case"editSignature":n&&await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":n&&this.addComment(n);break}}async addButtonBefore(e,n,r){if(!n&&e==="comment")return;const i=this.#n.querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){this.#s&&(this.#s.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class Bae{#e=null;#t=null;#r;constructor(e){this.#r=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const n=this.#r._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",Co,{signal:n});const r=this.#e=document.createElement("div");return r.className="buttons",e.append(r),this.#r.hasCommentManager()&&this.#a("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#r.commentSelection("floating_button")}),this.#a("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#r.highlightSelection("floating_button")}),e}#o(e,n){let r=0,i=0;for(const a of e){const o=a.y+a.height;if(o<r)continue;const s=a.x+(n?a.width:0);if(o>r){i=s,r=o;continue}n?s>i&&(i=s):s<i&&(i=s)}return[n?1-i:i,r]}show(e,n,r){const[i,a]=this.#o(n,r),{style:o}=this.#t||=this.#n();e.append(this.#t),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#a(e,n,r,i){const a=document.createElement("button");a.classList.add("basic",e),a.tabIndex=0,a.setAttribute("data-l10n-id",n);const o=document.createElement("span");a.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",r);const s=this.#r._signal;s instanceof AbortSignal&&!s.aborted&&(a.addEventListener("contextmenu",Co,{signal:s}),a.addEventListener("click",i,{signal:s})),this.#e.append(a)}}function n6(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}class Cn{static#e=NaN;static#t=null;static#r=NaN;static#n=null;static initializeAndAddPointerId(e){(Cn.#t||=new Set).add(e)}static setPointer(e,n){Cn.#e||=n,Cn.#n??=e}static setTimeStamp(e){Cn.#r=e}static isSamePointerId(e){return Cn.#e===e}static isSamePointerIdOrRemove(e){return Cn.#e===e?!0:(Cn.#t?.delete(e),!1)}static isSamePointerType(e){return Cn.#n===e}static isInitializedAndDifferentPointerType(e){return Cn.#n!==null&&!Cn.isSamePointerType(e)}static isSameTimeStamp(e){return Cn.#r===e}static isUsingMultiplePointers(){return Cn.#t?.size>=1}static clearPointerType(){Cn.#n=null}static clearPointerIds(){Cn.#e=NaN,Cn.#t=null}static clearTimeStamp(){Cn.#r=NaN}}class $ae{#e=0;get id(){return`${Bm}${this.#e++}`}}class yP{#e=ZF();#t=0;#r=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Ft(this,"_isSVGFittingCanvas",a)}async#n(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof n=="string"?(r.url=n,i=await bg(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const a=yP._isSVGFittingCanvas,o=new FileReader,s=new Image,c=new Promise((d,f)=>{s.onload=()=>{r.bitmap=s,r.isSvg=!0,d()},o.onload=async()=>{const h=r.svgUrl=o.result;s.src=await a?`${h}#svgView(preserveAspectRatio(none))`:h},s.onerror=o.onerror=f});o.readAsDataURL(i),await c}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){$t(i),r=null}return this.#r.set(e,r),r&&this.#r.set(r.id,r),r}async getFromFile(e){const{lastModified:n,name:r,size:i,type:a}=e;return this.#n(`${n}_${r}_${i}_${a}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,n){const r=await n;return this.#n(e,r)}async getFromId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r?.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#r.set(e,r),this.#r.set(r.id,r),r}getSvgUrl(e){const n=this.#r.get(e);return n?.isSvg?n.svgUrl:null}deleteId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=i.convertToBlob()}r.close?.(),n.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class Fae{#e=[];#t=!1;#r;#n=-1;constructor(e=128){this.#r=e}add({cmd:e,undo:n,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:o=!1,keepUndo:s=!1}){if(i&&e(),this.#t)return;const c={cmd:e,undo:n,post:r,type:a};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(c);return}if(o&&this.#e[this.#n].type===a){s&&(c.undo=this.#e[this.#n].undo),this.#e[this.#n]=c;return}const d=this.#n+1;d===this.#r?this.#e.splice(0,1):(this.#n=d,d<this.#e.length&&this.#e.splice(d)),this.#e.push(c)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let n=this.#n;n>=0;n--)if(this.#e[n].type!==e){this.#e.splice(n+1,this.#n-n),this.#n=n;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class Sg{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Wr.platform;for(const[r,i,a={}]of e)for(const o of r){const s=o.startsWith("mac+");n&&s?(this.callbacks.set(o.slice(4),{callback:i,options:a}),this.allKeys.add(o.split("+").at(-1))):!n&&!s&&(this.callbacks.set(o,{callback:i,options:a}),this.allKeys.add(o.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(this.#e(n));if(!r)return;const{callback:i,options:{bubbles:a=!1,args:o=[],checker:s=null}}=r;s&&!s(e,n)||(i.bind(e,...o,n)(),a||wr(n))}}class bP{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return jae(e),Ft(this,"_colors",e)}convert(e){const n=wg(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((a,o)=>a===n[o]))return bP._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?gt.makeHexColor(...n):e}}class Gc{#e=new AbortController;#t=null;#r=null;#n=new Map;#o=new Map;#a=null;#i=null;#s=null;#c=new Fae;#l=null;#f=null;#d=null;#h=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#v=!1;#b=!1;#y=!1;#_=null;#A=null;#w=null;#T=null;#x=!1;#C=null;#O=new $ae;#k=!1;#P=!1;#I=!1;#M=null;#j=null;#z=null;#L=null;#V=null;#E=Ut.NONE;#S=new Set;#R=null;#B=null;#F=null;#Y=null;#G=null;#K={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#N=null;#q=null;#Q=null;#J=null;#$=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Gc.prototype,n=o=>o.#q.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:s})=>{if(s instanceof HTMLInputElement){const{type:c}=s;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Ft(this,"_keyboardManager",new Sg([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:s})=>!(s instanceof HTMLButtonElement)&&o.#q.contains(s)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:s})=>!(s instanceof HTMLButtonElement)&&o.#q.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:n}]]))}constructor(e,n,r,i,a,o,s,c,d,f,h,m,v,b,x,S){const A=this._signal=this.#e.signal;this.#q=e,this.#Q=n,this.#J=r,this.#a=i,this.#l=a,this.#B=o,this.#G=c,this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:A}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),s._on("setpreference",this.onSetPreference.bind(this),{signal:A}),s._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:A}),window.addEventListener("pointerdown",()=>{this.#P=!0},{capture:!0,signal:A}),window.addEventListener("pointerup",()=>{this.#P=!1},{capture:!0,signal:A}),this.#oe(),this.#fe(),this.#te(),this.#i=c.annotationStorage,this.#_=c.filterFactory,this.#F=d,this.#T=f||null,this.#v=h,this.#b=m,this.#y=v,this.#V=b||null,this.viewParameters={realScale:gh.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=x||null,this._supportsPinchToZoom=S!==!1,a?.setSidebarUiManager(this)}destroy(){this.#$?.resolve(),this.#$=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#o.values())e.destroy();this.#o.clear(),this.#n.clear(),this.#p.clear(),this.#L?.clear(),this.#t=null,this.#S.clear(),this.#c.destroy(),this.#a?.destroy(),this.#l?.destroy(),this.#B?.destroy(),this.#C?.hide(),this.#C=null,this.#z?.destroy(),this.#z=null,this.#r=null,this.#A&&(clearTimeout(this.#A),this.#A=null),this.#N&&(clearTimeout(this.#N),this.#N=null),this._editorUndoBar?.destroy(),this.#G=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#V}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Ft(this,"hcmFilter",this.#F?this.#_.addHCMFilter(this.#F.foreground,this.#F.background):"none")}get direction(){return Ft(this,"direction",getComputedStyle(this.#q).direction)}get _highlightColors(){return Ft(this,"_highlightColors",this.#T?new Map(this.#T.split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ft(this,"highlightColors",null);const n=new Map,r=!!this.#F;for(const[i,a]of e){const o=i.endsWith("_HCM");if(r&&o){n.set(i.replace("_HCM",""),a);continue}!r&&!o&&n.set(i,a)}return Ft(this,"highlightColors",n)}get highlightColorNames(){return Ft(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#z=e}editAltText(e,n=!1){this.#a?.editAltText(this,e,n)}hasCommentManager(){return!!this.#l}editComment(e,n,r,i){this.#l?.showDialog(this,e,n,r,i)}selectComment(e,n){this.#o.get(e)?.getEditorByUID(n)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,n,r=void 0){this.#l?.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){return e&&this.#l?.makeCommentColor(e,n)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#o.has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=a=>{a.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){this.#B?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#B}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){e==="enableNewAltTextWhenAddingImage"&&(this.#y=n)}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#q.focus()}findParent(e,n){for(const r of this.#o.values()){const{x:i,y:a,width:o,height:s}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&n>=a&&n<=a+s)return r}return null}disableUserSelect(e=!1){this.#Q.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*gh.PDF_TO_CSS_UNITS;for(const n of this.#p)n.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Z({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of this.#o.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:o,focusOffset:s}=r,c=r.toString(),f=this.#Z(r).closest(".textLayer"),h=this.getSelectionBoxes(f);if(!h)return;r.empty();const m=this.#ee(f),v=this.#E===Ut.NONE,b=()=>{const x=m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:a,focusNode:o,focusOffset:s,text:c});v&&this.showAllEditors("highlight",!0,!0),n&&x?.editComment()};if(v){this.switchToMode(Ut.HIGHLIGHT,b);return}b()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=this.#Z(e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(this.#C||=new Bae(this),this.#C.show(r,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#i)return null;const n=`${Bm}${e}`,r=this.#i.getRawValue(n);return r&&this.#i.remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}a11yAlert(e,n=null){const r=this.#J;r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}#ae(){const e=document.getSelection();if(!e||e.isCollapsed){this.#R&&(this.#C?.hide(),this.#R=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===this.#R)return;const i=this.#Z(e).closest(".textLayer");if(!i){this.#R&&(this.#C?.hide(),this.#R=null,this.#D({hasSelectedText:!1}));return}if(this.#C?.hide(),this.#R=n,this.#D({hasSelectedText:!0}),!(this.#E!==Ut.HIGHLIGHT&&this.#E!==Ut.NONE)&&(this.#E===Ut.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#E===Ut.HIGHLIGHT?this.#ee(i):null;if(a?.toggleDrawing(),this.#P){const o=new AbortController,s=this.combinedSignal(o),c=d=>{d.type==="pointerup"&&d.button!==0||(o.abort(),a?.toggleDrawing(!0),d.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})}else a?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(e=""){this.#E===Ut.HIGHLIGHT?this.highlightSelection(e):this.#v&&this.#ie()}#oe(){document.addEventListener("selectionchange",this.#ae.bind(this),{signal:this._signal})}#se(){if(this.#w)return;this.#w=new AbortController;const e=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of this.#S)if(n.div.contains(e)){this.#j=[n,e],n._focusEventsAllowed=!1;break}}focus(){if(!this.#j)return;const[e,n]=this.#j;this.#j=null,n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#te(){if(this.#M)return;this.#M=new AbortController;const e=this.combinedSignal(this.#M);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ce(){this.#M?.abort(),this.#M=null}#ue(){if(this.#f)return;this.#f=new AbortController;const e=this.combinedSignal(this.#f);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#f?.abort(),this.#f=null}#fe(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ce(),this.setEditingState(!1)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of this.#S){const i=r.serialize(!0);i&&n.push(i)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const a of n.items)for(const o of this.#u)if(o.isHandlingMimeForPasting(a.type)){o.paste(a,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){$t(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const c of r){const d=await i.deserialize(c);if(!d)return;a.push(d)}const o=()=>{for(const c of a)this.#ne(c);this.#re(a)},s=()=>{for(const c of a)c.remove()};this.addCommands({cmd:o,undo:s,mustExec:!0})}catch(a){$t(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==Ut.NONE&&!this.isEditorHandlingKeyboard&&Gc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#W("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#D(e){Object.entries(e).some(([r,i])=>this.#K[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#K,e)}),this.#E===Ut.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#H([[ln.HIGHLIGHT_FREE,!0]]))}#H(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#se(),this.#ue(),this.#D({isEditing:this.#E!==Ut.NONE,isEmpty:this.#X(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const n of this.#u)this.#H(n.defaultPropertiesToUpdate)}}getId(){return this.#O.id}get currentLayer(){return this.#o.get(this.#h)}getLayer(e){return this.#o.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#o.set(e.pageIndex,e),this.#k?e.enable():e.disable()}removeLayer(e){this.#o.delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,a=!1,o=!1){if(this.#E!==e&&!(this.#$&&(await this.#$.promise,!this.#$))){if(this.#$=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#E===Ut.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#E=e,e===Ut.NONE){this.setEditingState(!1),this.#pe();for(const s of this.#n.values())s.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#$.resolve();return}for(const s of this.#n.values())s.addStandaloneCommentButton();e===Ut.SIGNATURE&&await this.#B?.loadSignatures(),r&&Cn.clearPointerType(),this.setEditingState(!0),await this.#he(),this.unselectAll();for(const s of this.#o.values())s.updateMode(e);if(e===Ut.POPUP){this.#r||=await this.#G.getAnnotationsByType(new Set(this.#u.map(d=>d._editorType)));const s=new Set,c=[];for(const d of this.#n.values()){const{annotationElementId:f,hasComment:h,deleted:m}=d;f&&s.add(f),h&&!m&&c.push(d.getData())}for(const d of this.#r){const{id:f,popupRef:h,contentsObj:m}=d;h&&m?.str&&!s.has(f)&&!this.#g.has(f)&&c.push(d)}this.#l?.showSidebar(c)}if(!n){i&&this.addNewEditorFromKeyboard(),this.#$.resolve();return}for(const s of this.#n.values())s.uid===n?(this.setSelected(s),o?s.editComment():a?s.enterInEditMode():s.focus()):s.unselect();this.#$.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(this.#u){switch(e){case ln.CREATE:this.currentLayer.addNewEditor(n);return;case ln.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#Y||=new Map).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of this.#S)r.updateParams(e,n);else for(const r of this.#u)r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){for(const a of this.#n.values())a.editorType===e&&a.show(n);(this.#Y?.get(ln.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#H([[ln.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(this.#I!==e){this.#I=e;for(const n of this.#o.values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}async#he(){if(!this.#k){this.#k=!0;const e=[];for(const n of this.#o.values())e.push(n.enable());await Promise.all(e);for(const n of this.#n.values())n.enable()}}#pe(){if(this.unselectAll(),this.#k){this.#k=!1;for(const e of this.#o.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const n of this.#n.values())n.pageIndex===e&&(yield n)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#A&&clearTimeout(this.#A),this.#A=setTimeout(()=>{this.focusMainContainer(),this.#A=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#L?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const n=this.#o.get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#H(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#S);return e}updateUI(e){this.#me===e&&this.#H(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#H(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#S.has(e)){this.#S.delete(e),e.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#S.add(e),e.select(),this.#H(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const n of this.#S)n!==e&&n.unselect();this.#S.clear(),this.#S.add(e),e.select(),this.#H(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(e){return this.#S.has(e)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(e){e.unselect(),this.#S.delete(e),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#D({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#X()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#X()})}addCommands(e){this.#c.add(e),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#X()})}cleanUndoStack(e){this.#c.cleanType(e)}#X(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...this.#S],r=()=>{this._editorUndoBar?.show(i,n.length===1?n[0].editorType:n.length);for(const a of n)a.remove()},i=()=>{for(const a of n)this.#ne(a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#re(e){for(const n of this.#S)n.unselect();this.#S.clear();for(const n of e)n.isEmpty()||(this.#S.add(n),n.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#S)e.commit();this.#re(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#E!==Ut.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#S)e.unselect();this.#S.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=e,this.#U[1]+=n;const[i,a]=this.#U,o=[...this.#S],s=1e3;this.#N&&clearTimeout(this.#N),this.#N=setTimeout(()=>{this.#N=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(const c of o)this.#n.has(c.id)&&(c.translateInPage(i,a),c.translationDone())},undo:()=>{for(const c of o)this.#n.has(c.id)&&(c.translateInPage(-i,-a),c.translationDone())},mustExec:!1})},s);for(const c of o)c.translateInPage(e,n),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const e of this.#S)this.#m.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const e=this.#m;this.#m=null;let n=!1;for(const[{x:i,y:a,pageIndex:o},s]of e)s.newX=i,s.newY=a,s.newPageIndex=o,n||=i!==s.savedX||a!==s.savedY||o!==s.savedPageIndex;if(!n)return!1;const r=(i,a,o,s)=>{if(this.#n.has(i.id)){const c=this.#o.get(s);c?i._setParentAndPosition(c,a,o):(i.pageIndex=s,i.x=a,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:o,newPageIndex:s}]of e)r(i,a,o,s)},undo:()=>{for(const[i,{savedX:a,savedY:o,savedPageIndex:s}]of e)r(i,a,o,s)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(this.#m)for(const r of this.#m.keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#E}isEditingMode(){return this.#E!==Ut.NONE}get imageManager(){return Ft(this,"imageManager",new yP)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let d=0,f=n.rangeCount;d<f;d++)if(!e.contains(n.getRangeAt(d).commonAncestorContainer))return null;const{x:r,y:i,width:a,height:o}=e.getBoundingClientRect();let s;switch(e.getAttribute("data-main-rotation")){case"90":s=(d,f,h,m)=>({x:(f-i)/o,y:1-(d+h-r)/a,width:m/o,height:h/a});break;case"180":s=(d,f,h,m)=>({x:1-(d+h-r)/a,y:1-(f+m-i)/o,width:h/a,height:m/o});break;case"270":s=(d,f,h,m)=>({x:1-(f+m-i)/o,y:(d-r)/a,width:m/o,height:h/a});break;default:s=(d,f,h,m)=>({x:(d-r)/a,y:(f-i)/o,width:h/a,height:m/o});break}const c=[];for(let d=0,f=n.rangeCount;d<f;d++){const h=n.getRangeAt(d);if(!h.collapsed)for(const{x:m,y:v,width:b,height:x}of h.getClientRects())b===0||x===0||c.push(s(m,v,b,x))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:n}){(this.#s||=new Map).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){this.#s?.delete(e)}renderAnnotationElement(e){const n=this.#s?.get(e.data.id);if(!n)return;const r=this.#i.getRawValue(n);r&&(this.#E===Ut.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){const i=this.#L?.get(e);i&&(i.setCanvas(n,r),this.#L.delete(e))}addMissingCanvas(e,n){(this.#L||=new Map).set(e,n)}}class bs{#e=null;#t=!1;#r=null;#n=null;#o=null;#a=null;#i=!1;#s=null;#c=null;#l=null;#f=null;#d=!1;static#h=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,bs.#h||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){bs._l10n??=e}async render(){const e=this.#r=document.createElement("button");e.className="altText",e.tabIndex="0";const n=this.#n=document.createElement("span");e.append(n),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",bs.#h.missing),n.setAttribute("data-l10n-id",bs.#h["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=this.#c._uiManager._signal;e.addEventListener("contextmenu",Co,{signal:r}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#i=!0,i(a))},{signal:r}),await this.#m(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#r&&(this.#r.focus({focusVisible:this.#i}),this.#i=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#f=await bs._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#m())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#s?.remove(),this.#s=null;return}if(!this.#s){const n=this.#s=document.createElement("div");n.className="noAltTextBadge",this.#c.div.append(n)}this.#s.classList.toggle("hidden",!e)}serialize(e){let n=this.#e;return!e&&this.#l===n&&(n=this.#f),{altText:n,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#f}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:a=!1}){r&&(this.#l=r,this.#f=i),!(this.#e===e&&this.#t===n)&&(a||(this.#e=e,this.#t=n),this.#m())}toggle(e=!1){this.#r&&(!e&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#r.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#r?.remove(),this.#r=null,this.#n=null,this.#o=null,this.#s?.remove(),this.#s=null}async#m(){const e=this.#r;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",bs.#h[this.#g]),this.#n?.setAttribute("data-l10n-id",bs.#h[`${this.#g}-label`]),!this.#e){this.#o?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#o?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#o;if(!n){this.#o=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#c.id}`;const i=100,a=this.#c._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#o.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:a}),e.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#o?.classList.remove("show")},{signal:a})}this.#t?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#e),n.parentNode||e.append(n),this.#c.getElementForAltText()?.setAttribute("aria-describedby",n.id)}}class py{#e=null;#t=null;#r=!1;#n=null;#o=null;#a=null;#i=null;#s=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#f(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const n=this.#n.commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=this.#n.commentButtonColor;i&&(r.backgroundColor=i)}return this.#f(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:n,height:r}=this.#e.getBoundingClientRect(),{x:i,y:a,width:o,height:s}=this.#n.parent.boundingClientRect;return[(e-i)/o,(n+r-a)/s]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:n}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=n)}#f(e,n){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=this.#n._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",Co,{signal:r}),n&&(e.addEventListener("focusin",a=>{this.#n._focusEventsAllowed=!1,wr(a)},{capture:!0,signal:r}),e.addEventListener("focusout",a=>{this.#n._focusEventsAllowed=!0,wr(a)},{capture:!0,signal:r})),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#r=!0,i(a))},{signal:r}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:r}),e}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=this.#n.commentButtonPosition;const{width:f,height:h,x:m,y:v}=this.#n;r=m+r*f,i=v+i*h}const a=this.#n.parent.boundingClientRect,{x:o,y:s,width:c,height:d}=a;this.#n._uiManager.editComment(this.#n,o+r*c,s+i*d,{...e,parentDimensions:a})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#r}),this.#r=!1)}isDeleted(){return this.#c||this.#i===""}isEmpty(){return this.#i===null}hasBeenEdited(){return this.isDeleted()||this.#i!==this.#o}serialize(){return this.data}get data(){return{text:this.#i,richText:this.#a,date:this.#s,deleted:this.isDeleted()}}set data(e){if(e!==this.#i&&(this.#a=null),e===null){this.#i="",this.#c=!0;return}this.#i=e,this.#s=new Date,this.#c=!1}setInitialText(e,n=null){this.#o=e,this.data=e,this.#s=null,this.#a=n}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#i="",this.#a=null,this.#s=null,this.#n=null,this.#r=!1,this.#c=!1}}class Ox{#e;#t=!1;#r=null;#n;#o;#a;#i;#s=null;#c;#l=null;#f;#d=null;constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:o=null,signal:s}){this.#e=e,this.#r=r,this.#n=n,this.#o=i,this.#a=a,this.#i=o,this.#f=new AbortController,this.#c=AbortSignal.any([s,this.#f.signal]),e.addEventListener("touchstart",this.#h.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ms.pixelRatio}#h(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#s)return;const i=this.#s=new AbortController,a=AbortSignal.any([this.#c,i.signal]),o=this.#e,s={capture:!0,signal:a,passive:!1},c=d=>{d.pointerType==="touch"&&(this.#s?.abort(),this.#s=null)};o.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(wr(d),c(d))},s),o.addEventListener("pointerup",c,s),o.addEventListener("pointercancel",c,s);return}if(!this.#d){this.#d=new AbortController;const i=AbortSignal.any([this.#c,this.#d.signal]),a=this.#e,o={signal:i,capture:!1,passive:!1};a.addEventListener("touchmove",this.#g.bind(this),o);const s=this.#m.bind(this);a.addEventListener("touchend",s,o),a.addEventListener("touchcancel",s,o),o.capture=!0,a.addEventListener("pointerdown",wr,o),a.addEventListener("pointermove",wr,o),a.addEventListener("pointercancel",wr,o),a.addEventListener("pointerup",wr,o),this.#o?.()}if(wr(e),e.touches.length!==2||this.#r?.()){this.#l=null;return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),this.#l={touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;wr(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:a}=n,{screenX:o,screenY:s}=r,c=this.#l,{touch0X:d,touch0Y:f,touch1X:h,touch1Y:m}=c,v=h-d,b=m-f,x=o-i,S=s-a,A=Math.hypot(x,S)||1,T=Math.hypot(v,b)||1;if(!this.#t&&Math.abs(T-A)<=Ox.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=i,c.touch0Y=a,c.touch1X=o,c.touch1Y=s,!this.#t){this.#t=!0;return}const E=[(i+o)/2,(a+s)/2];this.#a?.(E,T,A)}#m(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#i?.()),this.#l&&(wr(e),this.#l=null,this.#t=!1))}destroy(){this.#f?.abort(),this.#f=null,this.#s?.abort(),this.#s=null}}class kt{#e=null;#t=null;#r=null;#n=null;#o=null;#a=!1;#i=null;#s="";#c=null;#l=null;#f=null;#d=null;#h=null;#g="";#m=!1;#u=null;#p=!1;#v=!1;#b=!1;#y=null;#_=0;#A=0;#w=null;#T=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#C=kt._zIndex++;static _borderLineWidth=-1;static _colorManager=new bP;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=kt.prototype._resizeWithKeyboard,n=Gc.TRANSLATE_SMALL,r=Gc.TRANSLATE_BIG;return Ft(this,"_resizerKeyboardManager",new Sg([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],kt.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:o}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[a,o];const[s,c]=this.parentDimensions;this.x=e.x/s,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ft(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new Uae({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(kt._l10n??=e,kt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),kt._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);kt._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Gn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(e){this.#x=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#N(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[a,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/a,this.y=(n+i)/o,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}#O([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,n){this.#O(this.parentDimensions,e,n)}translateInPage(e,n){this.#u||=[this.x,this.y,this.width,this.height],this.#O(this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){this.#u||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=n/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:s}=this;const[c,d]=this.getBaseTranslation();o+=c,s+=d;const{style:f}=r;f.left=`${(100*o).toFixed(2)}%`,f.top=`${(100*s).toFixed(2)}%`,this._onTranslating(o,s),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=kt,i=r/e,a=r/n;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:a,y:o,width:s,height:c}=this;if(s*=r,c*=i,a*=r,o*=i,this._mustFixPosition)switch(e){case 0:a=ia(a,0,r-s),o=ia(o,0,i-c);break;case 90:a=ia(a,0,r-c),o=ia(o,s,i);break;case 180:a=ia(a,s,r),o=ia(o,c,i);break;case 270:a=ia(a,c,r),o=ia(o,0,i-s);break}this.x=a/=r,this.y=o/=i;const[d,f]=this.getBaseTranslation();a+=d,o+=f,n.left=`${(100*a).toFixed(2)}%`,n.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#k(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}}screenToPageTranslation(e,n){return kt.#k(e,n,this.parentRotation)}pageTranslationToScreen(e,n){return kt.#k(e,n,360-this.parentRotation)}#P(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#I(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");this.#c.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#M.bind(this,r),{signal:n}),i.addEventListener("contextmenu",Co,{signal:n}),i.tabIndex=-1}this.div.prepend(this.#c)}#M(e,n){n.preventDefault();const{isMac:r}=Wr.platform;if(n.button!==0||n.ctrlKey&&r)return;this.#r?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#l=[n.screenX,n.screenY];const a=new AbortController,o=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#L.bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",wr,{passive:!1,signal:o}),window.addEventListener("contextmenu",Co,{signal:o}),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const s=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const d=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#r?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=s,this.div.style.cursor=c,this.#z()};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}#j(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#z(){if(!this.#f)return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=this.#f;this.#f=null;const a=this.x,o=this.y,s=this.width,c=this.height;a===e&&o===n&&s===r&&c===i||this.addCommands({cmd:this.#j.bind(this,a,o,s,c),undo:this.#j.bind(this,e,n,r,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#L(e,n){const[r,i]=this.parentDimensions,a=this.x,o=this.y,s=this.width,c=this.height,d=kt.MIN_SIZE/r,f=kt.MIN_SIZE/i,h=this.#P(this.rotation),m=(L,U)=>[h[0]*L+h[2]*U,h[1]*L+h[3]*U],v=this.#P(360-this.rotation),b=(L,U)=>[v[0]*L+v[2]*U,v[1]*L+v[3]*U];let x,S,A=!1,T=!1;switch(e){case"topLeft":A=!0,x=(L,U)=>[0,0],S=(L,U)=>[L,U];break;case"topMiddle":x=(L,U)=>[L/2,0],S=(L,U)=>[L/2,U];break;case"topRight":A=!0,x=(L,U)=>[L,0],S=(L,U)=>[0,U];break;case"middleRight":T=!0,x=(L,U)=>[L,U/2],S=(L,U)=>[0,U/2];break;case"bottomRight":A=!0,x=(L,U)=>[L,U],S=(L,U)=>[0,0];break;case"bottomMiddle":x=(L,U)=>[L/2,U],S=(L,U)=>[L/2,0];break;case"bottomLeft":A=!0,x=(L,U)=>[0,U],S=(L,U)=>[L,0];break;case"middleLeft":T=!0,x=(L,U)=>[0,U/2],S=(L,U)=>[L,U/2];break}const E=x(s,c),k=S(s,c);let D=m(...k);const M=kt._round(a+D[0]),R=kt._round(o+D[1]);let N=1,z=1,q,Y;if(n.fromKeyboard)({deltaX:q,deltaY:Y}=n);else{const{screenX:L,screenY:U}=n,[F,V]=this.#l;[q,Y]=this.screenToPageTranslation(L-F,U-V),this.#l[0]=L,this.#l[1]=U}if([q,Y]=b(q/r,Y/i),A){const L=Math.hypot(s,c);N=z=Math.max(Math.min(Math.hypot(k[0]-E[0]-q,k[1]-E[1]-Y)/L,1/s,1/c),d/s,f/c)}else T?N=ia(Math.abs(k[0]-E[0]-q),d,1)/s:z=ia(Math.abs(k[1]-E[1]-Y),f,1)/c;const K=kt._round(s*N),te=kt._round(c*z);D=m(...S(K,te));const W=M-D[0],J=R-D[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=K,this.height=te,this.x=W,this.y=J,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#r?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#v)return this._editToolbar;this._editToolbar=new Pm(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#r?.destroy()}addContainer(e){const n=this._editToolbar?.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#r||(bs.initialize(kt._l10n),this.#r=new bs(this),this.#e&&(this.#r.data=this.#e,this.#e=null)),this.#r}get altTextData(){return this.#r?.data}set altTextData(e){this.#r&&(this.#r.data=e)}get guessedAltText(){return this.#r?.guessedText}async setGuessedAltText(e){await this.#r?.setGuessedText(e)}serializeAltText(e){return this.#r?.serialize(e)}hasAltText(){return!!this.#r&&!this.#r.isEmpty()}hasAltTextData(){return this.#r?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new py(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#o){this._uiManager.isEditingMode()&&this.#o.classList.remove("hidden");return}this.hasComment&&(this.#o=this.#n.renderForStandalone(),this.div.append(this.#o))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#o=null}hideStandaloneCommentButton(){this.#o?.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=this.#n;return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new py(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(this.#n||=new py(this),this.#n.setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new py(this),this.#n.edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[a]=this.pageDimensions,[o]=this.pageTranslation,s=o+a+1,c=i-100,d=s+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[s,c,d,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){this.#n.data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#a?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#F();const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),n6(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#T||=new Ox({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#V.bind(this),onPinching:this.#E.bind(this),onPinchEnd:this.#S.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#V(){this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#r?.toggle(!1),this.parent.togglePointerEvents(!1)}#E(e,n,r){let a=.7*(r/n)+1-.7;if(a===1)return;const o=this.#P(this.rotation),s=(M,R)=>[o[0]*M+o[2]*R,o[1]*M+o[3]*R],[c,d]=this.parentDimensions,f=this.x,h=this.y,m=this.width,v=this.height,b=kt.MIN_SIZE/c,x=kt.MIN_SIZE/d;a=Math.max(Math.min(a,1/m,1/v),b/m,x/v);const S=kt._round(m*a),A=kt._round(v*a);if(S===m&&A===v)return;this.#u||=[f,h,m,v];const T=s(m/2,v/2),E=kt._round(f+T[0]),k=kt._round(h+T[1]),D=s(S/2,A/2);this.x=E-D[0],this.y=k-D[1],this.width=S,this.height=A,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#S(){this.#r?.toggle(!0),this.parent.togglePointerEvents(!0),this.#z()}pointerdown(e){const{isMac:n}=Wr.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#B(e);return}this.#R(e)}#R(e){const{isMac:n}=Wr.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#B(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:a},s=d=>{i.abort(),this.#i=null,this.#m=!1,this._uiManager.endDragSession()||this.#R(d),r&&this._onStopDragging()};n&&(this.#_=e.clientX,this.#A=e.clientY,this.#i=e.pointerId,this.#s=e.pointerType,window.addEventListener("pointermove",d=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:h,pointerId:m}=d;if(m!==this.#i){wr(d);return}const[v,b]=this.screenToPageTranslation(f-this.#_,h-this.#A);this.#_=f,this.#A=h,this._uiManager.dragSelectedEditors(v,b)},o),window.addEventListener("touchmove",wr,o),window.addEventListener("pointerdown",d=>{d.pointerType===this.#s&&(this.#T||d.isPrimary)&&s(d),wr(d)},o));const c=d=>{if(!this.#i||this.#i===d.pointerId){s(d);return}wr(d)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[a,o]=this.pageDimensions,[s,c]=this.pageTranslation,d=e/i,f=n/i,h=this.x*a,m=this.y*o,v=this.width*a,b=this.height*o;switch(r){case 0:return[h+d+s,o-m-f-b+c,h+d+v+s,o-m-f+c];case 90:return[h+f+s,o-m+d+c,h+f+b+s,o-m+d+v+c];case 180:return[h-d-v+s,o-m+f+c,h-d+s,o-m+f+b+c];case 270:return[h-f-b+s,o-m-d-v+c,h-f+s,o-m-d+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,a,o]=e,s=a-r,c=o-i;switch(this.rotation){case 0:return[r,n-o,s,c];case 90:return[r,n-i,c,s];case 180:return[a,n-i,s,c];case 270:return[a,n-o,c,s];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&kt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:a,richText:o},uid:s,pageIndex:c,creationDate:d,modificationDate:f}=this;return{id:s,pageIndex:c,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:d,modificationDate:r||f,popupRef:!a,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#v=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#v=!1,!0):!1}isInEditMode(){return this.#v}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:o}=window;return n<o&&i>0&&e<a&&r>0}#F(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#F()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,n=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[a,o]=i.pageDimensions,[s,c,d,f]=i.getRectInCurrentCoords(e.rect,o);return i.x=s/a,i.y=c/o,i.width=d/a,i.height=f/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#N(),this.removeEditToolbar(),this.#w){for(const e of this.#w.values())clearTimeout(e);this.#w=null}this.parent=null,this.#T?.destroy(),this.#T=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#I(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,a,o]=this.getPDFRect();return[kt._round(r+(a-r)*e),kt._round(i+(o-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#c.children;if(!this.#t){this.#t=Array.from(n);const o=this.#Y.bind(this),s=this.#G.bind(this),c=this._uiManager._signal;for(const d of this.#t){const f=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",o,{signal:c}),d.addEventListener("blur",s,{signal:c}),d.addEventListener("focus",this.#K.bind(this,f),{signal:c}),d.setAttribute("data-l10n-id",kt._l10nResizer[f])}}const r=this.#t[0];let i=0;for(const o of n){if(o===r)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(a!==i){if(a<i)for(let s=0;s<i-a;s++)this.#c.append(this.#c.firstElementChild);else if(a>i)for(let s=0;s<a-i;s++)this.#c.firstElementChild.before(this.#c.lastElementChild);let o=0;for(const s of n){const d=this.#t[o++].getAttribute("data-resizer-name");s.setAttribute("data-l10n-id",kt._l10nResizer[d])}}this.#U(0),this.#b=!0,this.#c.firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#Y(e){kt._resizerKeyboardManager.exec(this,e)}#G(e){this.#b&&e.relatedTarget?.parentNode!==this.#c&&this.#N()}#K(e){this.#g=this.#b?e:""}#U(e){if(this.#t)for(const n of this.#t)n.tabIndex=e}_resizeWithKeyboard(e,n){this.#b&&this.#L(this.#g,{deltaX:e,deltaY:n,fromKeyboard:!0})}#N(){this.#b=!1,this.#U(-1),this.#z()}_stopResizingWithKeyboard(){this.#N(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#r?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#r?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){this.#w||=new Map;const{action:r}=e;let i=this.#w.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#w.delete(r),this.#w.size===0&&(this.#w=null)},kt._telemetryTimeout),this.#w.set(r,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#a=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#a=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstElementChild:n}=e.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class Uae extends kt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const _L=3285377520,uo=4294901760,hs=65535;class r6{constructor(e){this.h1=e?e&4294967295:_L,this.h2=e?e&4294967295:_L}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let x=0,S=e.length;x<S;x++){const A=e.charCodeAt(x);A<=255?n[r++]=A:(n[r++]=A>>>8,n[r++]=A&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,a=r-i*4,o=new Uint32Array(n.buffer,0,i);let s=0,c=0,d=this.h1,f=this.h2;const h=3432918353,m=461845907,v=h&hs,b=m&hs;for(let x=0;x<i;x++)x&1?(s=o[x],s=s*h&uo|s*v&hs,s=s<<15|s>>>17,s=s*m&uo|s*b&hs,d^=s,d=d<<13|d>>>19,d=d*5+3864292196):(c=o[x],c=c*h&uo|c*v&hs,c=c<<15|c>>>17,c=c*m&uo|c*b&hs,f^=c,f=f<<13|f>>>19,f=f*5+3864292196);switch(s=0,a){case 3:s^=n[i*4+2]<<16;case 2:s^=n[i*4+1]<<8;case 1:s^=n[i*4],s=s*h&uo|s*v&hs,s=s<<15|s>>>17,s=s*m&uo|s*b&hs,i&1?d^=s:f^=s}this.h1=d,this.h2=f}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&uo|e*36045&hs,n=n*4283543511&uo|((n<<16|e>>>16)*2950163797&uo)>>>16,e^=n>>>1,e=e*444984403&uo|e*60499&hs,n=n*3301882366&uo|((n<<16|e>>>16)*3120437893&uo)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const sE=Object.freeze({map:null,hash:"",transfer:void 0});class xP{#e=!1;#t=null;#r=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=this.#n.get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return this.#n.get(e)}remove(e){const n=this.#n.get(e);if(n!==void 0&&(n instanceof kt&&this.#r.delete(n.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of this.#n.values())if(r instanceof kt)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=this.#n.get(e);let i=!1;if(r!==void 0)for(const[a,o]of Object.entries(n))r[a]!==o&&(i=!0,r[a]=o);else i=!0,this.#n.set(e,n);i&&this.#o(),n instanceof kt&&((this.#r||=new Map).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#o(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new i6(this)}get serializable(){if(this.#n.size===0)return sE;const e=new Map,n=new r6,r=[],i=Object.create(null);let a=!1;for(const[o,s]of this.#n){const c=s instanceof kt?s.serialize(!1,i):s;c&&(e.set(o,c),n.update(`${o}:${JSON.stringify(c)}`),a||=!!c.bitmap)}if(a)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:sE}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const a of this.#n.values()){if(!(a instanceof kt)){a.popup&&(a.popup.deleted?i+=1:r+=1);continue}a.isCommentDeleted?i+=1:a.hasEditedComment&&(r+=1);const o=a.telemetryFinalData;if(!o)continue;const{type:s}=o;n.has(s)||n.set(s,Object.getPrototypeOf(a).constructor),e||=Object.create(null);const c=e[s]||=new Map;for(const[d,f]of Object.entries(o)){if(d==="type")continue;let h=c.get(d);h||(h=new Map,c.set(d,h));const m=h.get(f)??0;h.set(f,m+1)}}if((i>0||r>0)&&(e||=Object.create(null),e.comments={deleted:i,edited:r}),!e)return null;for(const[a,o]of n)e[a]=o.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,n){const r=this.#r?.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){return this.#r?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#r)for(const n of this.#r.values())n.serialize()&&e.push(n.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class i6 extends xP{#e;constructor(e){super();const{map:n,hash:r,transfer:i}=e.serializable,a=structuredClone(n,i?{transfer:i}:null);this.#e={map:a,hash:r,transfer:i}}get print(){Gn("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Ft(this,"modifiedIds",{ids:new Set,hash:""})}}class Hae{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||this.#e.has(e.loadedName))){if(cn(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:o}=e,s=new FontFace(i,a,o);this.addNativeFontFace(s);try{await s.load(),this.#e.add(i),r?.(e)}catch{$t(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}Gn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw $t(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Ft(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ft(this,"isSyncFontLoadingSupported",ra||Wr.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(cn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const a=r.shift();setTimeout(a.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ft(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(k,D){return k.charCodeAt(D)<<24|k.charCodeAt(D+1)<<16|k.charCodeAt(D+2)<<8|k.charCodeAt(D+3)&255}function i(k,D,M,R){const N=k.substring(0,D),z=k.substring(D+M);return N+R+z}let a,o;const s=this._document.createElement("canvas");s.width=1,s.height=1;const c=s.getContext("2d");let d=0;function f(k,D){if(++d>30){$t("Load test font never loaded."),D();return}if(c.font="30px "+k,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(f.bind(null,k,D))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=i(m,976,h.length,h);const b=16,x=1482184792;let S=r(m,b);for(a=0,o=h.length-3;a<o;a+=4)S=S-x+r(h,a)|0;a<h.length&&(S=S-x+r(h+"XXX",a)|0),m=i(m,b,4,Aae(S));const A=`url(data:font/opentype;base64,${btoa(m)});`,T=`@font-face {font-family:"${h}";src:${A}}`;this.insertRule(T);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const k of[e.loadedName,h]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=k,E.append(D)}this._document.body.append(E),f(h,()=>{E.remove(),n.complete()})}}class Vae{#e;constructor(e,n=null,r,i){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${QF(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(o){$t(`getPathGenerator - ignoring character: "${o}".`)}const a=t6(i?.path);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=a}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}set disableFontFace(e){Ft(this,"disableFontFace",!!e)}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}set bbox(e){Ft(this,"bbox",e)}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class Qf{#e;#t;#r;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const n=new TextEncoder,r={};let i=0;for(const d of Qf.strings){const f=n.encode(e[d]);r[d]=f,i+=4+f.length}const a=new ArrayBuffer(i),o=new Uint8Array(a),s=new DataView(a);let c=0;for(const d of Qf.strings){const f=r[d],h=f.length;s.setUint32(c,h),o.set(f,c+4),c+=4+h}return cn(c===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}#n(e){cn(e<Qf.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Jf{#e;#t;#r;static strings=["css","loadedName","baseFontName","src"];static write(e){const n=new TextEncoder,r={};let i=0;for(const m of Jf.strings){const v=n.encode(e[m]);r[m]=v,i+=4+v.length}i+=4;let a,o,s=1+i;e.style&&(a=n.encode(e.style.style),o=n.encode(e.style.weight),s+=4+a.length+4+o.length);const c=new ArrayBuffer(s),d=new Uint8Array(c),f=new DataView(c);let h=0;f.setUint8(h++,e.guessFallback?1:0),f.setUint32(h,0),h+=4,i=0;for(const m of Jf.strings){const v=r[m],b=v.length;i+=4+b,f.setUint32(h,b),d.set(v,h+4),h+=4+b}return f.setUint32(h-i-4,i),e.style&&(f.setUint32(h,a.length),d.set(a,h+4),h+=4+a.length,f.setUint32(h,o.length),d.set(o,h+4),h+=4+o.length),cn(h<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(h)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){cn(e<Jf.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const n=this.#t.getUint32(e),r=this.#r.decode(new Uint8Array(this.#e,e+4,n));e+=4+n;const i=this.#t.getUint32(e),a=this.#r.decode(new Uint8Array(this.#e,e+4,i));return{style:r,weight:a}}}class Bn{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#r=this.#t+1+8;static#n=this.#r+1+48;static#o=this.#n+1+6;#a;#i;#s;constructor({data:e,extra:n}){this.#a=e,this.#i=new TextDecoder,this.#s=new DataView(this.#a),n&&Object.assign(this,n)}#c(e){cn(e<Bn.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=this.#s.getUint8(n)>>r&3;return i===0?void 0:i===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return cn(e<Bn.numbers.length,"Invalid number index"),this.#s.getFloat64(Bn.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=Bn.#t;if(this.#s.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(this.#s.getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=Bn.#r;if(this.#s.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(this.#s.getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=Bn.#n;if(this.#s.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(this.#s.getInt16(e,!0)),e+=2;return r}#f(e){cn(e<Bn.strings.length,"Invalid string index");let n=Bn.#o+4;for(let a=0;a<e;a++)n+=this.#s.getUint32(n)+4;const r=this.#s.getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(this.#a,n+4,r)),this.#i.decode(i)}get fallbackName(){return this.#f(0)}get loadedName(){return this.#f(1)}get mimetype(){return this.#f(2)}get name(){return this.#f(3)}get data(){let e=Bn.#o;const n=this.#s.getUint32(e);e+=4+n;const r=this.#s.getUint32(e);e+=4+r;const i=this.#s.getUint32(e);e+=4+i;const a=this.#s.getUint32(e);if(a!==0)return new Uint8Array(this.#a,e+4,a)}clearData(){let e=Bn.#o;const n=this.#s.getUint32(e);e+=4+n;const r=this.#s.getUint32(e);e+=4+r;const i=this.#s.getUint32(e);e+=4+i;const a=this.#s.getUint32(e);new Uint8Array(this.#a,e+4,a).fill(0),this.#s.setUint32(e,0)}get cssFontInfo(){let e=Bn.#o;const n=this.#s.getUint32(e);e+=4+n;const r=this.#s.getUint32(e);e+=4+r;const i=this.#s.getUint32(e);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(this.#a,e+4,i)),new Qf(a.buffer)}get systemFontInfo(){let e=Bn.#o;const n=this.#s.getUint32(e);e+=4+n;const r=this.#s.getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(this.#a,e+4,r)),new Jf(i.buffer)}static write(e){const n=e.systemFontInfo?Jf.write(e.systemFontInfo):null,r=e.cssFontInfo?Qf.write(e.cssFontInfo):null,i=new TextEncoder,a={};let o=0;for(const x of Bn.strings)a[x]=i.encode(e[x]),o+=4+a[x].length;const s=Bn.#o+4+o+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(s),d=new Uint8Array(c),f=new DataView(c);let h=0;const m=Bn.bools.length;let v=0,b=0;for(let x=0;x<m;x++){const S=e[Bn.bools[x]];v|=(S===void 0?0:S?2:1)<<b,b+=2,(b===8||x===m-1)&&(f.setUint8(h++,v),v=0,b=0)}cn(h===Bn.#e,"FontInfo.write: Boolean properties offset mismatch");for(const x of Bn.numbers)f.setFloat64(h,e[x]),h+=8;if(cn(h===Bn.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){f.setUint8(h++,4);for(const x of e.bbox)f.setInt16(h,x,!0),h+=2}else f.setUint8(h++,0),h+=8;if(cn(h===Bn.#r,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){f.setUint8(h++,6);for(const x of e.fontMatrix)f.setFloat64(h,x,!0),h+=8}else f.setUint8(h++,0),h+=48;if(cn(h===Bn.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){f.setUint8(h++,1);for(const x of e.defaultVMetrics)f.setInt16(h,x,!0),h+=2}else f.setUint8(h++,0),h+=6;cn(h===Bn.#o,"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(Bn.#o,0),h+=4;for(const x of Bn.strings){const S=a[x],A=S.length;f.setUint32(h,A),d.set(S,h+4),h+=4+A}if(f.setUint32(Bn.#o,h-Bn.#o-4),!n)f.setUint32(h,0),h+=4;else{const x=n.byteLength;f.setUint32(h,x),cn(h+4+x<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(n),h+4),h+=4+x}if(!r)f.setUint32(h,0),h+=4;else{const x=r.byteLength;f.setUint32(h,x),cn(h+4+x<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(r),h+4),h+=4+x}return e.data===void 0?(f.setUint32(h,0),h+=4):(f.setUint32(h,e.data.length),d.set(e.data,h+4),h+=4+e.data.length),cn(h<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(h)}}class si{static#e=0;static#t=1;static#r=2;static#n=3;static#o=4;static#a=8;static#i=12;static#s=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let n,r=null,i=[],a=[],o=[],s=[],c=null,d=null;switch(e[0]){case"RadialAxial":n=e[1]==="axial"?1:2,r=e[2],o=e[3],n===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":n=3,c=e[1],i=e[2],a=e[3],s=e[4]||[],r=e[6],d=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const f=Math.floor(i.length/2),h=Math.floor(a.length/3),m=o.length,v=s.length;let b=0;for(const D of s)b+=1,b=Math.ceil(b/4)*4,b+=4+D.coords.length*4,b+=4+D.colors.length*4,D.verticesPerRow!==void 0&&(b+=4);const x=20+f*8+h*3+m*8+(r?16:0)+(d?3:0)+b,S=new ArrayBuffer(x),A=new DataView(S),T=new Uint8Array(S);A.setUint8(si.#e,n),A.setUint8(si.#t,r?1:0),A.setUint8(si.#r,d?1:0),A.setUint8(si.#n,c),A.setUint32(si.#o,f,!0),A.setUint32(si.#a,h,!0),A.setUint32(si.#i,m,!0),A.setUint32(si.#s,v,!0);let E=20;new Float32Array(S,E,f*2).set(i),E+=f*8,T.set(a,E),E+=h*3;for(const[D,M]of o)A.setFloat32(E,D,!0),E+=4,A.setUint32(E,parseInt(M.slice(1),16),!0),E+=4;if(r)for(const D of r)A.setFloat32(E,D,!0),E+=4;d&&(T.set(d,E),E+=3);for(let D=0;D<s.length;D++){const M=s[D];A.setUint8(E,M.type),E+=1,E=Math.ceil(E/4)*4,A.setUint32(E,M.coords.length,!0),E+=4,new Int32Array(S,E,M.coords.length).set(M.coords),E+=M.coords.length*4,A.setUint32(E,M.colors.length,!0),E+=4,new Int32Array(S,E,M.colors.length).set(M.colors),E+=M.colors.length*4,M.verticesPerRow!==void 0&&(A.setUint32(E,M.verticesPerRow,!0),E+=4)}return S}getIR(){const e=this.view,n=this.data[si.#e],r=!!this.data[si.#t],i=!!this.data[si.#r],a=e.getUint32(si.#o,!0),o=e.getUint32(si.#a,!0),s=e.getUint32(si.#i,!0),c=e.getUint32(si.#s,!0);let d=20;const f=new Float32Array(this.buffer,d,a*2);d+=a*8;const h=new Uint8Array(this.buffer,d,o*3);d+=o*3;const m=[];for(let S=0;S<s;++S){const A=e.getFloat32(d,!0);d+=4;const T=e.getUint32(d,!0);d+=4,m.push([A,`#${T.toString(16).padStart(6,"0")}`])}let v=null;if(r){v=[];for(let S=0;S<4;++S)v.push(e.getFloat32(d,!0)),d+=4}let b=null;i&&(b=new Uint8Array(this.buffer,d,3),d+=3);const x=[];for(let S=0;S<c;++S){const A=e.getUint8(d);d+=1,d=Math.ceil(d/4)*4;const T=e.getUint32(d,!0);d+=4;const E=new Int32Array(this.buffer,d,T);d+=T*4;const k=e.getUint32(d,!0);d+=4;const D=new Int32Array(this.buffer,d,k);d+=k*4;const M={type:A,coords:E,colors:D};A===nE.LATTICE&&(M.verticesPerRow=e.getUint32(d,!0),d+=4),x.push(M)}if(n===1)return["RadialAxial","axial",v,m,Array.from(f.slice(0,2)),Array.from(f.slice(2,4)),null,null];if(n===2)return["RadialAxial","radial",v,m,[f[0],f[1]],[f[3],f[4]],f[2],f[5]];if(n===3){const S=this.data[si.#n];let A=null;if(f.length>0){let T=f[0],E=f[0],k=f[1],D=f[1];for(let M=0;M<f.length;M+=2){const R=f[M],N=f[M+1];T=T>R?R:T,k=k>N?N:k,E=E<R?R:E,D=D<N?N:D}A=[T,k,E,D]}return["Mesh",S,f,h,x,A,v,b]}throw new Error(`Unsupported pattern kind: ${n}`)}}class qae{static write(e){let n,r;return Wr.isFloat16ArraySupported?(r=new ArrayBuffer(e.length*2),n=new Float16Array(r)):(r=new ArrayBuffer(e.length*4),n=new Float32Array(r)),n.set(e),r}#e;constructor(e){this.#e=e}get path(){return Wr.isFloat16ArraySupported?new Float16Array(this.#e):new Float32Array(this.#e)}}function Gae(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(ra)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Yae(t){if(ra&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return yg(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function my(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const lE=t=>typeof t=="object"&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0,Kae=t=>typeof t=="object"&&typeof t?.name=="string",Wae=kae.bind(null,lE,Kae);class Xae{#e=new Map;#t=Promise.resolve();postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if(r?.signal instanceof AbortSignal){const{signal:a}=r;if(a.aborted){$t("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,n);i=()=>a.removeEventListener("abort",o),a.addEventListener("abort",o)}this.#e.set(n,i)}removeEventListener(e,n){this.#e.get(n)?.(),this.#e.delete(n)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const gy={DATA:1,ERROR:2},Lr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function EL(){}function Sa(t){if(t instanceof qc||t instanceof rE||t instanceof yL||t instanceof jb||t instanceof dA)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Gn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new qc(t.message);case"InvalidPDFException":return new rE(t.message);case"PasswordException":return new yL(t.message,t.code);case"ResponseException":return new jb(t.message,t.status,t.missing);case"UnknownErrorException":return new dA(t.message,t.details)}return new dA(t.message,t.toString())}class bm{#e=new AbortController;constructor(e,n,r){this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===gy.DATA)i.resolve(e.data);else if(e.callback===gy.ERROR)i.reject(Sa(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(n,e.data).then(function(o){a.postMessage({sourceName:r,targetName:i,callback:gy.DATA,callbackId:e.callbackId,data:o})},function(o){a.postMessage({sourceName:r,targetName:i,callback:gy.ERROR,callbackId:e.callbackId,reason:Sa(o)})});return}if(e.streamId){this.#r(e);return}n(e.data)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(o){a.reject(o)}return a.promise}sendWithStream(e,n,r,i){const a=this.streamId++,o=this.sourceName,s=this.targetName,c=this.comObj;return new ReadableStream({start:d=>{const f=Promise.withResolvers();return this.streamControllers[a]={controller:d,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:s,action:e,streamId:a,data:n,desiredSize:d.desiredSize},i),f.promise},pull:d=>{const f=Promise.withResolvers();return this.streamControllers[a].pullCall=f,c.postMessage({sourceName:o,targetName:s,stream:Lr.PULL,streamId:a,desiredSize:d.desiredSize}),f.promise},cancel:d=>{cn(d instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[a].cancelCall=f,this.streamControllers[a].isClosed=!0,c.postMessage({sourceName:o,targetName:s,stream:Lr.CANCEL,streamId:a,reason:Sa(d)}),f.promise}},r)}#r(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,o=this,s=this.actionHandler[e.action],c={enqueue(d,f=1,h){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=f,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:i,stream:Lr.ENQUEUE,streamId:n,chunk:d},h)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:Lr.CLOSE,streamId:n}),delete o.streamSinks[n])},error(d){cn(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:Lr.ERROR,streamId:n,reason:Sa(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[n]=c,Promise.try(s,e.data,c).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Lr.START_COMPLETE,streamId:n,success:!0})},function(d){a.postMessage({sourceName:r,targetName:i,stream:Lr.START_COMPLETE,streamId:n,reason:Sa(d)})})}#n(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,o=this.streamControllers[n],s=this.streamSinks[n];switch(e.stream){case Lr.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Sa(e.reason));break;case Lr.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Sa(e.reason));break;case Lr.PULL:if(!s){a.postMessage({sourceName:r,targetName:i,stream:Lr.PULL_COMPLETE,streamId:n,success:!0});break}s.desiredSize<=0&&e.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=e.desiredSize,Promise.try(s.onPull||EL).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Lr.PULL_COMPLETE,streamId:n,success:!0})},function(d){a.postMessage({sourceName:r,targetName:i,stream:Lr.PULL_COMPLETE,streamId:n,reason:Sa(d)})});break;case Lr.ENQUEUE:if(cn(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Lr.CLOSE:if(cn(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#o(o,n);break;case Lr.ERROR:cn(o,"error should have stream controller"),o.controller.error(Sa(e.reason)),this.#o(o,n);break;case Lr.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Sa(e.reason)),this.#o(o,n);break;case Lr.CANCEL:if(!s)break;const c=Sa(e.reason);Promise.try(s.onCancel||EL,c).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Lr.CANCEL_COMPLETE,streamId:n,success:!0})},function(d){a.postMessage({sourceName:r,targetName:i,stream:Lr.CANCEL_COMPLETE,streamId:n,reason:Sa(d)})}),s.sinkCapability.reject(c),s.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#o(e,n){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#e?.abort(),this.#e=null}}class a6{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Gn("Abstract method `_createCanvas` called.")}}class Zae extends a6{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class o6{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Gn("Abstract method `_fetch` called.")}}class TL extends o6{async _fetch(e){const n=await bg(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):yg(n)}}class s6{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,a){return"none"}destroy(e=!1){}}class Qae extends s6{#e;#t;#r;#n;#o;#a;#i=0;constructor({docId:e,ownerDocument:n=globalThis.document}){super(),this.#n=e,this.#o=n}get#s(){return this.#t||=new Map}get#c(){return this.#a||=new Map}get#l(){if(!this.#r){const e=this.#o.createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=this.#o.createElementNS(ml,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#r=this.#o.createElementNS(ml,"defs"),e.append(r),r.append(this.#r),this.#o.body.append(e)}return this.#r}#f(e){if(e.length===1){const c=e[0],d=new Array(256);for(let h=0;h<256;h++)d[h]=c[h]/255;const f=d.join(",");return[f,f,f]}const[n,r,i]=e,a=new Array(256),o=new Array(256),s=new Array(256);for(let c=0;c<256;c++)a[c]=n[c]/255,o[c]=r[c]/255,s[c]=i[c]/255;return[a.join(","),o.join(","),s.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const n=this.#o.URL;n!==this.#o.baseURI&&(Px(n)?$t('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=WF(n,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let n=this.#s.get(e);if(n)return n;const[r,i,a]=this.#f(e),o=e.length===1?r:`${r}${i}${a}`;if(n=this.#s.get(o),n)return this.#s.set(e,n),n;const s=`g_${this.#n}_transfer_map_${this.#i++}`,c=this.#d(s);this.#s.set(e,c),this.#s.set(o,c);const d=this.#m(s);return this.#p(r,i,a,d),c}addHCMFilter(e,n){const r=`${e}-${n}`,i="base";let a=this.#c.get(i);if(a?.key===r||(a?(a.filter?.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},this.#c.set(i,a)),!e||!n))return a.url;const o=this.#b(e);e=gt.makeHexColor(...o);const s=this.#b(n);if(n=gt.makeHexColor(...s),this.#l.style.color="",e==="#000000"&&n==="#ffffff"||e===n)return a.url;const c=new Array(256);for(let v=0;v<=255;v++){const b=v/255;c[v]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=c.join(","),f=`g_${this.#n}_hcm_filter`,h=a.filter=this.#m(f);this.#p(d,d,d,h),this.#g(h);const m=(v,b)=>{const x=o[v]/255,S=s[v]/255,A=new Array(b+1);for(let T=0;T<=b;T++)A[T]=x+T/b*(S-x);return A.join(",")};return this.#p(m(0,5),m(1,5),m(2,5),h),a.url=this.#d(f),a.url}addAlphaFilter(e){let n=this.#s.get(e);if(n)return n;const[r]=this.#f([e]),i=`alpha_${r}`;if(n=this.#s.get(i),n)return this.#s.set(e,n),n;const a=`g_${this.#n}_alpha_map_${this.#i++}`,o=this.#d(a);this.#s.set(e,o),this.#s.set(i,o);const s=this.#m(a);return this.#v(r,s),o}addLuminosityFilter(e){let n=this.#s.get(e||"luminosity");if(n)return n;let r,i;if(e?([r]=this.#f([e]),i=`luminosity_${r}`):i="luminosity",n=this.#s.get(i),n)return this.#s.set(e,n),n;const a=`g_${this.#n}_luminosity_map_${this.#i++}`,o=this.#d(a);this.#s.set(e,o),this.#s.set(i,o);const s=this.#m(a);return this.#h(s),e&&this.#v(r,s),o}addHighlightHCMFilter(e,n,r,i,a){const o=`${n}-${r}-${i}-${a}`;let s=this.#c.get(e);if(s?.key===o||(s?(s.filter?.remove(),s.key=o,s.url="none",s.filter=null):(s={key:o,url:"none",filter:null},this.#c.set(e,s)),!n||!r))return s.url;const[c,d]=[n,r].map(this.#b.bind(this));let f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,v]=[i,a].map(this.#b.bind(this));h<f&&([f,h,m,v]=[h,f,v,m]),this.#l.style.color="";const b=(A,T,E)=>{const k=new Array(256),D=(h-f)/E,M=A/255,R=(T-A)/(255*E);let N=0;for(let z=0;z<=E;z++){const q=Math.round(f+z*D),Y=M+z*R;for(let K=N;K<=q;K++)k[K]=Y;N=q+1}for(let z=N;z<256;z++)k[z]=k[N-1];return k.join(",")},x=`g_${this.#n}_hcm_${e}_filter`,S=s.filter=this.#m(x);return this.#g(S),this.#p(b(m[0],v[0],5),b(m[1],v[1],5),b(m[2],v[2],5),S),s.url=this.#d(x),s.url}destroy(e=!1){e&&this.#a?.size||(this.#r?.parentNode.parentNode.remove(),this.#r=null,this.#t?.clear(),this.#t=null,this.#a?.clear(),this.#a=null,this.#i=0)}#h(e){const n=this.#o.createElementNS(ml,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)}#g(e){const n=this.#o.createElementNS(ml,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)}#m(e){const n=this.#o.createElementNS(ml,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),this.#l.append(n),n}#u(e,n,r){const i=this.#o.createElementNS(ml,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)}#p(e,n,r,i){const a=this.#o.createElementNS(ml,"feComponentTransfer");i.append(a),this.#u(a,"feFuncR",e),this.#u(a,"feFuncG",n),this.#u(a,"feFuncB",r)}#v(e,n){const r=this.#o.createElementNS(ml,"feComponentTransfer");n.append(r),this.#u(r,"feFuncA",e)}#b(e){return this.#l.style.color=e,wg(getComputedStyle(this.#l).getPropertyValue("color"))}}class l6{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Gn("Abstract method `_fetch` called.")}}class kL extends l6{async _fetch(e){const n=await bg(e,"arraybuffer");return new Uint8Array(n)}}class c6{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){Gn("Abstract method `_fetch` called.")}}class PL extends c6{async _fetch(e){const n=await bg(e,"arraybuffer");return new Uint8Array(n)}}ra&&$t("Please use the `legacy` build in Node.js environments.");async function wP(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class Jae extends s6{}class eoe extends a6{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class toe extends o6{async _fetch(e){return wP(e)}}class noe extends l6{async _fetch(e){return wP(e)}}class roe extends c6{async _fetch(e){return wP(e)}}const Of="__forcedDependency",{floor:OL,ceil:DL}=Math;function vy(t,e,n,r,i,a){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],a)}const cE=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class ioe{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===cE}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const yy=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};class aoe{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[Of]:[]};#r=new Map;#n=[];#o=[];#a=[[1,0,0,1,0,0]];#i=[-1/0,-1/0,1/0,1/0];#s=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#f=new Map;#d=new Map;#h;#g;#m;#u;#p;constructor(e,n,r=!1){this.#h=e.width,this.#g=e.height,this.#v(n),r&&(this.#p=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#v(e,this.#u)}#v(e,n){const r=new ArrayBuffer(e*4);this.#m=new Uint8ClampedArray(r),this.#u=new Uint32Array(r),n&&n.length>0?(this.#u.set(n),this.#u.fill(cE,n.length)):this.#u.fill(cE)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[Of]:{__proto__:this.#t[Of]}},this.#i={__proto__:this.#i},this.#n.push(e),this}restore(e){const n=Object.getPrototypeOf(this.#e);if(n===null)return this;this.#e=n,this.#t=Object.getPrototypeOf(this.#t),this.#i=Object.getPrototypeOf(this.#i);const r=this.#n.pop();return r!==void 0&&(yy(this.#p,e)?.dependencies.add(r),this.#u[e]=this.#u[r]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const n=this.#n.pop();return n!==void 0&&(yy(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}beginMarkedContent(e){return this.#o.push(e),this}endMarkedContent(e){const n=this.#o.pop();return n!==void 0&&(yy(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}pushBaseTransform(e){return this.#a.push(gt.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform())),this}popBaseTransform(){return this.#a.length>1&&this.#a.pop(),this}recordSimpleData(e,n){return this.#e[e]=n,this}recordIncrementalData(e,n){return this.#t[e].push(n),this}resetIncrementalData(e,n){return this.#t[e].length=0,this}recordNamedData(e,n){return this.#r.set(e,n),this}recordSimpleDataFromNamed(e,n,r){this.#e[e]=this.#r.get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(Of,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in this.#e&&this.recordFutureForcedDependency(n,this.#e[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(Of,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#s[0]=1/0,this.#s[1]=1/0,this.#s[2]=-1/0,this.#s[3]=-1/0),this}recordClipBox(e,n,r,i,a,o){const s=gt.multiplyByDOMMatrix(this.#a.at(-1),n.getTransform()),c=[1/0,1/0,-1/0,-1/0];gt.axialAlignedBoundingBox([r,a,i,o],s,c);const d=gt.intersect(this.#i,c);return d?(this.#i[0]=d[0],this.#i[1]=d[1],this.#i[2]=d[2],this.#i[3]=d[3]):(this.#i[0]=this.#i[1]=1/0,this.#i[2]=this.#i[3]=-1/0),this}recordBBox(e,n,r,i,a,o){const s=this.#i;if(s[0]===1/0)return this;const c=gt.multiplyByDOMMatrix(this.#a.at(-1),n.getTransform());if(s[0]===-1/0)return gt.axialAlignedBoundingBox([r,a,i,o],c,this.#s),this;const d=[1/0,1/0,-1/0,-1/0];return gt.axialAlignedBoundingBox([r,a,i,o],c,d),this.#s[0]=Math.min(this.#s[0],Math.max(d[0],s[0])),this.#s[1]=Math.min(this.#s[1],Math.max(d[1],s[1])),this.#s[2]=Math.max(this.#s[2],Math.min(d[2],s[2])),this.#s[3]=Math.max(this.#s[3],Math.min(d[3],s[3])),this}recordCharacterBBox(e,n,r,i=1,a=0,o=0,s){const c=r.bbox;let d,f;if(c&&(d=c[2]!==c[0]&&c[3]!==c[1]&&this.#d.get(r),d!==!1&&(f=[0,0,0,0],gt.axialAlignedBoundingBox(c,r.fontMatrix,f),(i!==1||a!==0||o!==0)&&gt.scaleMinMax([i,0,0,-i,a,o],f),d)))return this.recordBBox(e,n,f[0],f[2],f[1],f[3]);if(!s)return this.recordFullPageBBox(e);const h=s();return c&&f&&d===void 0&&(d=f[0]<=a-h.actualBoundingBoxLeft&&f[2]>=a+h.actualBoundingBoxRight&&f[1]<=o-h.actualBoundingBoxAscent&&f[3]>=o+h.actualBoundingBoxDescent,this.#d.set(r,d),d)?this.recordBBox(e,n,f[0],f[2],f[1],f[3]):this.recordBBox(e,n,a-h.actualBoundingBoxLeft,a+h.actualBoundingBoxRight,o-h.actualBoundingBoxAscent,o+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#s[0]=Math.max(0,this.#i[0]),this.#s[1]=Math.max(0,this.#i[1]),this.#s[2]=Math.min(this.#h,this.#i[2]),this.#s[3]=Math.min(this.#g,this.#i[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,n){const r=this.#l,i=this.#e,a=this.#t;for(const o of n)o in this.#e?r.add(i[o]):o in a&&a[o].forEach(r.add,r);return this}recordNamedDependency(e,n){return this.#r.has(n)&&this.#l.add(this.#r.get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[Of]),this.#p){const r=yy(this.#p,e),{dependencies:i}=r;this.#l.forEach(i.add,i),this.#n.forEach(i.add,i),this.#o.forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(this.#c===e){const r=OL(this.#s[0]*256/this.#h),i=OL(this.#s[1]*256/this.#g),a=DL(this.#s[2]*256/this.#h),o=DL(this.#s[3]*256/this.#g);vy(this.#m,e,r,i,a,o);for(const s of this.#l)s!==e&&vy(this.#m,s,r,i,a,o);for(const s of this.#n)s!==e&&vy(this.#m,s,r,i,a,o);for(const s of this.#o)s!==e&&vy(this.#m,s,r,i,a,o);n||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,n=!1){const r=Array.from(this.#l);this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return this.#c===e&&(this.#c=-1,this.#i[0]=Math.max(this.#i[0],this.#s[0]),this.#i[1]=Math.max(this.#i[1],this.#s[1]),this.#i[2]=Math.min(this.#i[2],this.#s[2]),this.#i[3]=Math.min(this.#i[3],this.#s[3]),n||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const n=this.#f.get(e);return this.#f.delete(e),n}_pushPendingDependencies(e){for(const n of e)this.#l.add(n)}take(){return this.#d.clear(),new ioe(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class Lb{#e;#t;#r;#n=0;#o=0;constructor(e,n,r){if(e instanceof Lb&&e.#r===!!r)return e;this.#e=e,this.#t=n,this.#r=!!r}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#o++,this.#e.save(this.#t),this}restore(e){return this.#o>0&&(this.#e.restore(this.#t),this.#o--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,n){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,n){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,n){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return this.#e.recordSimpleDataFromNamed(e,n,this.#t),this}recordFutureForcedDependency(e,n){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#r||this.#e.resetBBox(this.#t),this}recordClipBox(e,n,r,i,a,o){return this.#r||this.#e.recordClipBox(this.#t,n,r,i,a,o),this}recordBBox(e,n,r,i,a,o){return this.#r||this.#e.recordBBox(this.#t,n,r,i,a,o),this}recordCharacterBBox(e,n,r,i,a,o,s){return this.#r||this.#e.recordCharacterBBox(this.#t,n,r,i,a,o,s),this}recordFullPageBBox(e){return this.#r||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,n){return this.#e.recordDependencies(this.#t,n),this}recordNamedDependency(e,n){return this.#e.recordNamedDependency(this.#t,n),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#r||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const fo={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ti={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function uE(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class SP{isModifyingCurrentTransform(){return!1}getPattern(){Gn("Abstract method `getPattern` called.")}}class ooe extends SP{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,n=null){let r,i=this._p0,a=this._p1;if(n&&(i=i.slice(),a=a.slice(),gt.applyTransform(i,n),gt.applyTransform(a,n)),this._type==="axial")r=e.createLinearGradient(i[0],i[1],a[0],a[1]);else if(this._type==="radial"){let o=this._r0,s=this._r1;if(n){const c=new Float32Array(2);gt.singularValueDecompose2dScale(n,c),o*=c[0],s*=c[0]}r=e.createRadialGradient(i[0],i[1],o,a[0],a[1],s)}for(const o of this._colorStops)r.addColorStop(o[0],o[1]);return r}getPattern(e,n,r,i){let a;if(i===Ti.STROKE||i===Ti.FILL){if(this.isOriginBased()){let m=gt.transform(r,n.baseTransform);this.matrix&&(m=gt.transform(m,this.matrix));const v=.001,b=Math.hypot(m[0],m[1]),x=Math.hypot(m[2],m[3]),S=(m[0]*m[2]+m[1]*m[3])/(b*x);if(Math.abs(S)<v)if(this.isRadial()){if(Math.abs(b-x)<v)return this._createGradient(e,m)}else return this._createGradient(e,m)}const o=n.current.getClippedPathBoundingBox(i,fr(e))||[0,0,0,0],s=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,d=n.cachedCanvases.getCanvas("pattern",s,c),f=d.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),r=gt.transform(r,[1,0,0,1,o[0],o[1]]),f.transform(...n.baseTransform),this.matrix&&f.transform(...this.matrix),uE(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),a=e.createPattern(d.canvas,"no-repeat");const h=new DOMMatrix(r);a.setTransform(h)}else uE(e,this._bbox),a=this._createGradient(e);return a}}function pA(t,e,n,r,i,a,o,s){const c=e.coords,d=e.colors,f=t.data,h=t.width*4;let m;c[n+1]>c[r+1]&&(m=n,n=r,r=m,m=a,a=o,o=m),c[r+1]>c[i+1]&&(m=r,r=i,i=m,m=o,o=s,s=m),c[n+1]>c[r+1]&&(m=n,n=r,r=m,m=a,a=o,o=m);const v=(c[n]+e.offsetX)*e.scaleX,b=(c[n+1]+e.offsetY)*e.scaleY,x=(c[r]+e.offsetX)*e.scaleX,S=(c[r+1]+e.offsetY)*e.scaleY,A=(c[i]+e.offsetX)*e.scaleX,T=(c[i+1]+e.offsetY)*e.scaleY;if(b>=T)return;const E=d[a],k=d[a+1],D=d[a+2],M=d[o],R=d[o+1],N=d[o+2],z=d[s],q=d[s+1],Y=d[s+2],K=Math.round(b),te=Math.round(T);let W,J,L,U,F,V,G,$;for(let X=K;X<=te;X++){if(X<S){const be=X<b?0:(b-X)/(b-S);W=v-(v-x)*be,J=E-(E-M)*be,L=k-(k-R)*be,U=D-(D-N)*be}else{let be;X>T?be=1:S===T?be=0:be=(S-X)/(S-T),W=x-(x-A)*be,J=M-(M-z)*be,L=R-(R-q)*be,U=N-(N-Y)*be}let ne;X<b?ne=0:X>T?ne=1:ne=(b-X)/(b-T),F=v-(v-A)*ne,V=E-(E-z)*ne,G=k-(k-q)*ne,$=D-(D-Y)*ne;const ae=Math.round(Math.min(W,F)),oe=Math.round(Math.max(W,F));let xe=h*X+ae*4;for(let be=ae;be<=oe;be++)ne=(W-be)/(W-F),ne<0?ne=0:ne>1&&(ne=1),f[xe++]=J-(J-V)*ne|0,f[xe++]=L-(L-G)*ne|0,f[xe++]=U-(U-$)*ne|0,f[xe++]=255}}function soe(t,e,n){const r=e.coords,i=e.colors;let a,o;switch(e.type){case nE.LATTICE:const s=e.verticesPerRow,c=Math.floor(r.length/s)-1,d=s-1;for(a=0;a<c;a++){let f=a*s;for(let h=0;h<d;h++,f++)pA(t,n,r[f],r[f+1],r[f+s],i[f],i[f+1],i[f+s]),pA(t,n,r[f+s+1],r[f+1],r[f+s],i[f+s+1],i[f+1],i[f+s])}break;case nE.TRIANGLES:for(a=0,o=r.length;a<o;a+=3)pA(t,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class loe extends SP{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const s=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-s,f=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),v=d/h,b=f/m,x={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-c,scaleX:1/v,scaleY:1/b},S=h+4,A=m+4,T=r.getCanvas("mesh",S,A),E=T.context,k=E.createImageData(h,m);if(n){const M=k.data;for(let R=0,N=M.length;R<N;R+=4)M[R]=n[0],M[R+1]=n[1],M[R+2]=n[2],M[R+3]=255}for(const M of this._figures)soe(k,M,x);return E.putImageData(k,2,2),{canvas:T.canvas,offsetX:s-2*v,offsetY:c-2*b,scaleX:v,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){uE(e,this._bbox);const a=new Float32Array(2);if(i===Ti.SHADING)gt.singularValueDecompose2dScale(fr(e),a);else if(this.matrix){gt.singularValueDecompose2dScale(this.matrix,a);const[s,c]=a;gt.singularValueDecompose2dScale(n.baseTransform,a),a[0]*=s,a[1]*=c}else gt.singularValueDecompose2dScale(n.baseTransform,a);const o=this._createMeshCanvas(a,i===Ti.SHADING?null:this._background,n.cachedCanvases);return i!==Ti.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class coe extends SP{getPattern(){return"hotpink"}}function uoe(t){switch(t[0]){case"RadialAxial":return new ooe(t);case"Mesh":return new loe(t);case"Dummy":return new coe}throw new Error(`Unknown IR type: ${t[0]}`)}const ML={COLORED:1,UNCOLORED:2};class AP{static MAX_PATTERN_SIZE=3e3;constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){const{bbox:r,operatorList:i,paintType:a,tilingType:o,color:s,canvasGraphicsFactory:c}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),kx("TilingType: "+o);const h=r[0],m=r[1],v=r[2],b=r[3],x=v-h,S=b-m,A=new Float32Array(2);gt.singularValueDecompose2dScale(this.matrix,A);const[T,E]=A;gt.singularValueDecompose2dScale(this.baseTransform,A);const k=T*A[0],D=E*A[1];let M=x,R=S,N=!1,z=!1;const q=Math.ceil(d*k),Y=Math.ceil(f*D),K=Math.ceil(x*k),te=Math.ceil(S*D);q>=K?M=d:N=!0,Y>=te?R=f:z=!0;const W=this.getSizeAndScale(M,this.ctx.canvas.width,k),J=this.getSizeAndScale(R,this.ctx.canvas.height,D),L=e.cachedCanvases.getCanvas("pattern",W.size,J.size),U=L.context,F=c.createCanvasGraphics(U,n);if(F.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(F,a,s),U.translate(-W.scale*h,-J.scale*m),F.transform(0,W.scale,0,0,J.scale,0,0),U.save(),F.dependencyTracker?.save(),this.clipBbox(F,h,m,v,b),F.baseTransform=fr(F.ctx),F.executeOperatorList(i),F.endDrawing(),F.dependencyTracker?.restore(),U.restore(),N||z){const V=L.canvas;N&&(M=d),z&&(R=f);const G=this.getSizeAndScale(M,this.ctx.canvas.width,k),$=this.getSizeAndScale(R,this.ctx.canvas.height,D),X=G.size,ne=$.size,ae=e.cachedCanvases.getCanvas("pattern-workaround",X,ne),oe=ae.context,xe=N?Math.floor(x/d):0,be=z?Math.floor(S/f):0;for(let ze=0;ze<=xe;ze++)for(let ie=0;ie<=be;ie++)oe.drawImage(V,X*ze,ne*ie,X,ne,0,0,X,ne);return{canvas:ae.canvas,scaleX:G.scale,scaleY:$.scale,offsetX:h,offsetY:m}}return{canvas:L.canvas,scaleX:W.scale,scaleY:J.scale,offsetX:h,offsetY:m}}getSizeAndScale(e,n,r){const i=Math.max(AP.MAX_PATTERN_SIZE,n);let a=Math.ceil(e*r);return a>=i?a=i:r=a/e,{scale:r,size:a}}clipBbox(e,n,r,i,a){const o=i-n,s=a-r;e.ctx.rect(n,r,o,s),gt.axialAlignedBoundingBox([n,r,i,a],fr(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,a=e.current;switch(n){case ML.COLORED:const{fillStyle:o,strokeStyle:s}=this.ctx;i.fillStyle=a.fillColor=o,i.strokeStyle=a.strokeColor=s;break;case ML.UNCOLORED:i.fillStyle=i.strokeStyle=r,a.fillColor=a.strokeColor=r;break;default:throw new Sae(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,a){let o=r;i!==Ti.SHADING&&(o=gt.transform(o,n.baseTransform),this.matrix&&(o=gt.transform(o,this.matrix)));const s=this.createPatternCanvas(n,a);let c=new DOMMatrix(o);c=c.translate(s.offsetX,s.offsetY),c=c.scale(1/s.scaleX,1/s.scaleY);const d=e.createPattern(s.canvas,"repeat");return d.setTransform(c),d}}function doe({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:a=4294967295,inverseDecode:o=!1}){const s=Wr.isLittleEndian?4278190080:255,[c,d]=o?[a,s]:[s,a],f=r>>3,h=r&7,m=t.length;n=new Uint32Array(n.buffer);let v=0;for(let b=0;b<i;b++){for(const S=e+f;e<S;e++){const A=e<m?t[e]:255;n[v++]=A&128?d:c,n[v++]=A&64?d:c,n[v++]=A&32?d:c,n[v++]=A&16?d:c,n[v++]=A&8?d:c,n[v++]=A&4?d:c,n[v++]=A&2?d:c,n[v++]=A&1?d:c}if(h===0)continue;const x=e<m?t[e++]:255;for(let S=0;S<h;S++)n[v++]=x&1<<7-S?d:c}return{srcPos:e,destPos:v}}const RL=16,jL=100,foe=15,LL=10,Aa=16,mA=new DOMMatrix,Fa=new Float32Array(2),Hf=new Float32Array([1/0,1/0,-1/0,-1/0]);function hoe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,a,o,s){e.transform(n,r,i,a,o,s),this.__originalTransform(n,r,i,a,o,s)},t.setTransform=function(n,r,i,a,o,s){e.setTransform(n,r,i,a,o,s),this.__originalSetTransform(n,r,i,a,o,s)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,a,o,s){e.bezierCurveTo(n,r,i,a,o,s),this.__originalBezierCurveTo(n,r,i,a,o,s)},t.rect=function(n,r,i,a){e.rect(n,r,i,a),this.__originalRect(n,r,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class poe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function by(t,e,n,r,i,a,o,s,c,d){const[f,h,m,v,b,x]=fr(t);if(h===0&&m===0){const T=o*f+b,E=Math.round(T),k=s*v+x,D=Math.round(k),M=(o+c)*f+b,R=Math.abs(Math.round(M)-E)||1,N=(s+d)*v+x,z=Math.abs(Math.round(N)-D)||1;return t.setTransform(Math.sign(f),0,0,Math.sign(v),E,D),t.drawImage(e,n,r,i,a,0,0,R,z),t.setTransform(f,h,m,v,b,x),[R,z]}if(f===0&&v===0){const T=s*m+b,E=Math.round(T),k=o*h+x,D=Math.round(k),M=(s+d)*m+b,R=Math.abs(Math.round(M)-E)||1,N=(o+c)*h+x,z=Math.abs(Math.round(N)-D)||1;return t.setTransform(0,Math.sign(h),Math.sign(m),0,E,D),t.drawImage(e,n,r,i,a,0,0,z,R),t.setTransform(f,h,m,v,b,x),[z,R]}t.drawImage(e,n,r,i,a,o,s,c,d);const S=Math.hypot(f,h),A=Math.hypot(m,v);return[S*c,A*d]}class NL{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=tE;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Gr.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,n,r){r?.(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=Hf.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Ti.FILL,n=null){const r=this.minMax.slice();if(e===Ti.STROKE){n||Gn("Stroke bounding box must include transform."),gt.singularValueDecompose2dScale(n,Fa);const i=Fa[0]*this.lineWidth/2,a=Fa[1]*this.lineWidth/2;r[0]-=i,r[1]-=a,r[2]+=i,r[3]+=a}return r}updateClipFromPath(){const e=gt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Hf,0)}getClippedPathBoundingBox(e=Ti.FILL,n=null){return gt.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function IL(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Aa,a=(n-i)/Aa,o=i===0?a:a+1,s=t.createImageData(r,Aa);let c=0,d;const f=e.data,h=s.data;let m,v,b,x;if(e.kind===Qy.GRAYSCALE_1BPP){const S=f.byteLength,A=new Uint32Array(h.buffer,0,h.byteLength>>2),T=A.length,E=r+7>>3,k=4294967295,D=Wr.isLittleEndian?4278190080:255;for(m=0;m<o;m++){for(b=m<a?Aa:i,d=0,v=0;v<b;v++){const M=S-c;let R=0;const N=M>E?r:M*8-7,z=N&-8;let q=0,Y=0;for(;R<z;R+=8)Y=f[c++],A[d++]=Y&128?k:D,A[d++]=Y&64?k:D,A[d++]=Y&32?k:D,A[d++]=Y&16?k:D,A[d++]=Y&8?k:D,A[d++]=Y&4?k:D,A[d++]=Y&2?k:D,A[d++]=Y&1?k:D;for(;R<N;R++)q===0&&(Y=f[c++],q=128),A[d++]=Y&q?k:D,q>>=1}for(;d<T;)A[d++]=0;t.putImageData(s,0,m*Aa)}}else if(e.kind===Qy.RGBA_32BPP){for(v=0,x=r*Aa*4,m=0;m<a;m++)h.set(f.subarray(c,c+x)),c+=x,t.putImageData(s,0,v),v+=Aa;m<o&&(x=r*i*4,h.set(f.subarray(c,c+x)),t.putImageData(s,0,v))}else if(e.kind===Qy.RGB_24BPP)for(b=Aa,x=r*b,m=0;m<o;m++){for(m>=a&&(b=i,x=r*b),d=0,v=x;v--;)h[d++]=f[c++],h[d++]=f[c++],h[d++]=f[c++],h[d++]=255;t.putImageData(s,0,m*Aa)}else throw new Error(`bad image kind: ${e.kind}`)}function zL(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Aa,a=(n-i)/Aa,o=i===0?a:a+1,s=t.createImageData(r,Aa);let c=0;const d=e.data,f=s.data;for(let h=0;h<o;h++){const m=h<a?Aa:i;({srcPos:c}=doe({src:d,srcPos:c,dest:f,width:r,height:m,nonBlackColor:0})),t.putImageData(s,0,h*Aa)}}function em(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function xy(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function BL(t,e){if(e)return!0;gt.singularValueDecompose2dScale(t,Fa);const n=Math.fround(Ms.pixelRatio*gh.PDF_TO_CSS_UNITS);return Fa[0]<=n&&Fa[1]<=n}const moe=["butt","round","square"],goe=["miter","round","bevel"],voe={},$L={};class eh{constructor(e,n,r,i,a,{optionalContentConfig:o,markedContentStack:s=null},c,d,f){this.ctx=e,this.current=new NL(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=s||[],this.optionalContentConfig=o,this.cachedCanvases=new poe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(e,n,r=null){return typeof n=="string"?(this.dependencyTracker?.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const a=this.ctx.canvas.width,o=this.ctx.canvas.height,s=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,o),this.ctx.fillStyle=s,r){const c=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...fr(this.compositeCtx))}this.ctx.save(),xy(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=fr(this.ctx)}executeOperatorList(e,n,r,i,a){const o=e.argsArray,s=e.fnArray;let c=n||0;const d=o.length;if(d===c)return c;const f=d-c>LL&&typeof r=="function",h=f?Date.now()+foe:0;let m=0;const v=this.commonObjs,b=this.objs;let x,S;for(;;){if(i!==void 0&&c===i.nextBreakPoint)return i.breakIt(c,r),c;if(!a||a(c))if(x=s[c],S=o[c]??null,x!==hd.dependency)S===null?this[x](c):this[x](c,...S);else for(const A of S){this.dependencyTracker?.recordNamedData(A,c);const T=A.startsWith("g_")?v:b;if(!T.has(A))return T.get(A,r),c}if(c++,c===d)return c;if(f&&++m>LL){if(Date.now()>h)return r(),c;m=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(n[0],n[1]),1),o=Math.max(Math.hypot(n[2],n[3]),1),s=r,c=i,d="prescale1",f,h;for(;a>2&&s>1||o>2&&c>1;){let m=s,v=c;a>2&&s>1&&(m=s>=16384?Math.floor(s/2)-1||1:Math.ceil(s/2),a/=s/m),o>2&&c>1&&(v=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/v),f=this.cachedCanvases.getCanvas(d,m,v),h=f.context,h.clearRect(0,0,m,v),h.drawImage(e,0,0,s,c,0,0,m,v),e=f.canvas,s=m,c=v,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:s,paintHeight:c}}_createMaskCanvas(e,n){const r=this.ctx,{width:i,height:a}=n,o=this.current.fillColor,s=this.current.patternFill,c=fr(r);let d,f,h,m;if((n.bitmap||n.data)&&n.count>1){const q=n.bitmap||n.data.buffer;f=JSON.stringify(s?c:[c.slice(0,4),o]),d=this._cachedBitmapsMap.get(q),d||(d=new Map,this._cachedBitmapsMap.set(q,d));const Y=d.get(f);if(Y&&!s){const K=Math.round(Math.min(c[0],c[2])+c[4]),te=Math.round(Math.min(c[1],c[3])+c[5]);return this.dependencyTracker?.recordDependencies(e,fo.transformAndFill),{canvas:Y,offsetX:K,offsetY:te}}h=Y}h||(m=this.cachedCanvases.getCanvas("maskCanvas",i,a),zL(m.context,n));let v=gt.transform(c,[1/i,0,0,-1/a,0,0]);v=gt.transform(v,[1,0,0,1,0,-a]);const b=Hf.slice();gt.axialAlignedBoundingBox([0,0,i,a],v,b);const[x,S,A,T]=b,E=Math.round(A-x)||1,k=Math.round(T-S)||1,D=this.cachedCanvases.getCanvas("fillCanvas",E,k),M=D.context,R=x,N=S;M.translate(-R,-N),M.transform(...v),h||(h=this._scaleImage(m.canvas,fs(M)),h=h.img,d&&s&&d.set(f,h)),M.imageSmoothingEnabled=BL(fr(M),n.interpolate),by(M,h,0,0,h.width,h.height,0,0,i,a),M.globalCompositeOperation="source-in";const z=gt.transform(fs(M),[1,0,0,1,-R,-N]);return M.fillStyle=s?o.getPattern(r,this,z,Ti.FILL,e):o,M.fillRect(0,0,i,a),d&&!s&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,D.canvas)),this.dependencyTracker?.recordDependencies(e,fo.transformAndFill),{canvas:D.canvas,offsetX:Math.round(R),offsetY:Math.round(N)}}setLineWidth(e,n){this.dependencyTracker?.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=moe[n]}setLineJoin(e,n){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=goe[n]}setMiterLimit(e,n){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){this.dependencyTracker?.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){for(const[r,i]of n)switch(r){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const o=this.ctx=a.context;o.setTransform(this.suspendedCtx.getTransform()),em(this.suspendedCtx,o),hoe(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),em(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const a=i[0],o=i[1],s=i[2]-a,c=i[3]-o;s===0||c===0||(this.genericComposeSMask(n.context,r,s,c,n.subtype,n.backdrop,n.transferMap,a,o,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,a,o,s,c,d,f,h){let m=e.canvas,v=c-f,b=d-h;if(o)if(v<0||b<0||v+r>m.width||b+i>m.height){const S=this.cachedCanvases.getCanvas("maskExtension",r,i),A=S.context;A.drawImage(m,-v,-b),A.globalCompositeOperation="destination-atop",A.fillStyle=o,A.fillRect(0,0,r,i),A.globalCompositeOperation="source-over",m=S.canvas,v=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(v,b,r,i),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(v,b,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),a==="Alpha"&&s?n.filter=this.filterFactory.addAlphaFilter(s):a==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(s));const x=new Path2D;x.rect(c,d,r,i),n.clip(x),n.globalCompositeOperation="destination-in",n.drawImage(m,v,b,r,i,c,d,r,i),n.restore()}save(e){this.inSMaskMode&&em(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&em(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,a,o,s){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,a,o,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[a]=r;if(!i){a||=r[0]=new Path2D,this[n](e,a);return}if(this.dependencyTracker!==null){const o=n===hd.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-o,i[2]+o,i[1]-o,i[3]+o).recordDependencies(e,["transform"])}a instanceof Path2D||(a=r[0]=t6(a)),gt.axialAlignedBoundingBox(i,fr(this.ctx),this.current.minMax),this[n](e,a),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const o=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,fs(i),Ti.STROKE,e),o){const s=new Path2D;s.addPath(n,i.getTransform().invertSelf().multiplySelf(o)),n=s}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);this.dependencyTracker?.recordDependencies(e,fo.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(Ti.STROKE,fr(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){const i=this.ctx,a=this.current.fillColor,o=this.current.patternFill;let s=!1;if(o){const d=a.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=a.getPattern(i,this,fs(i),Ti.FILL,e),d){const f=new Path2D;f.addPath(n,i.getTransform().invertSelf().multiplySelf(d)),n=f}s=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),this.dependencyTracker?.recordDependencies(e,fo.fill),s&&(i.restore(),this.dependencyTracker?.restore(e)),r&&this.consumePath(e,n,c)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){this.ctx.fill(n),this.dependencyTracker?.recordDependencies(e,fo.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=voe}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=$L}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,a=r.getTransform().invertSelf();for(const{transform:o,x:s,y:c,fontSize:d,path:f}of n)f&&i.addPath(f,new DOMMatrix(o).preMultiplySelf(a).translate(s,c).scale(d,-d));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),a=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(a.fontMatrix=i.fontMatrix||tE,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&$t("Invalid font matrix for font "+n),r<0?(r=-r,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const o=i.loadedName||"sans-serif",s=i.systemFontInfo?.css||`"${o}", ${i.fallbackName}`;let c="normal";i.black?c="900":i.bold&&(c="bold");const d=i.italic?"italic":"normal";let f=r;r<RL?f=RL:r>jL&&(f=jL),this.current.fontSizeScale=r/f,this.ctx.font=`${d} ${c} ${f}px ${s}`}setTextRenderingMode(e,n){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#r(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i}paintChar(e,n,r,i,a,o){const s=this.ctx,c=this.current,d=c.font,f=c.textRenderingMode,h=c.fontSize/c.fontSizeScale,m=f&Gr.FILL_STROKE_MASK,v=!!(f&Gr.ADD_TO_PATH_FLAG),b=c.patternFill&&!d.missingFile,x=c.patternStroke&&!d.missingFile;let S;if((d.disableFontFace||v||b||x)&&!d.missingFile&&(S=d.getPathGenerator(this.commonObjs,n)),S&&(d.disableFontFace||b||x)){s.save(),s.translate(r,i),s.scale(h,-h),this.dependencyTracker?.recordCharacterBBox(e,s,d);let A;if(m===Gr.FILL||m===Gr.FILL_STROKE)if(a){A=s.getTransform(),s.setTransform(...a);const T=this.#r(S,A,a);s.fill(T)}else s.fill(S);if(m===Gr.STROKE||m===Gr.FILL_STROKE)if(o){A||=s.getTransform(),s.setTransform(...o);const{a:T,b:E,c:k,d:D}=A,M=gt.inverseTransform(o),R=gt.transform([T,E,k,D,0,0],M);gt.singularValueDecompose2dScale(R,Fa),s.lineWidth*=Math.max(Fa[0],Fa[1])/h,s.stroke(this.#r(S,A,o))}else s.lineWidth/=h,s.stroke(S);s.restore()}else(m===Gr.FILL||m===Gr.FILL_STROKE)&&(s.fillText(n,r,i),this.dependencyTracker?.recordCharacterBBox(e,s,d,h,r,i,()=>s.measureText(n))),(m===Gr.STROKE||m===Gr.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,s,d,h,r,i,()=>s.measureText(n)).recordDependencies(e,fo.stroke),s.strokeText(n,r,i));v&&((this.pendingTextPaths||=[]).push({transform:fr(s),x:r,y:i,fontSize:h,path:S}),this.dependencyTracker?.recordCharacterBBox(e,s,d,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Ft(this,"isFontSubpixelAAEnabled",r)}showText(e,n){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,fo.showText).resetBBox(e),this.current.textRenderingMode&Gr.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),this.dependencyTracker?.recordShowTextOperation(e);return}const a=r.fontSize;if(a===0){this.dependencyTracker?.recordOperation(e);return}const o=this.ctx,s=r.fontSizeScale,c=r.charSpacing,d=r.wordSpacing,f=r.fontDirection,h=r.textHScale*f,m=n.length,v=i.vertical,b=v?1:-1,x=i.defaultVMetrics,S=a*r.fontMatrix[0],A=r.textRenderingMode===Gr.FILL&&!i.disableFontFace&&!r.patternFill;o.save(),r.textMatrix&&o.transform(...r.textMatrix),o.translate(r.x,r.y+r.textRise),f>0?o.scale(h,-1):o.scale(h,1);let T,E;const k=r.textRenderingMode&Gr.FILL_STROKE_MASK,D=k===Gr.FILL||k===Gr.FILL_STROKE,M=k===Gr.STROKE||k===Gr.FILL_STROKE;if(D&&r.patternFill){o.save();const Y=r.fillColor.getPattern(o,this,fs(o),Ti.FILL,e);T=fr(o),o.restore(),o.fillStyle=Y}if(M&&r.patternStroke){o.save();const Y=r.strokeColor.getPattern(o,this,fs(o),Ti.STROKE,e);E=fr(o),o.restore(),o.strokeStyle=Y}let R=r.lineWidth;const N=r.textMatrixScale;if(N===0||R===0?M&&(R=this.getSinglePixelWidth()):R/=N,s!==1&&(o.scale(s,s),R/=s),o.lineWidth=R,i.isInvalidPDFjsFont){const Y=[];let K=0;for(const W of n)Y.push(W.unicode),K+=W.width;const te=Y.join("");if(o.fillText(te,0,0),this.dependencyTracker!==null){const W=o.measureText(te);this.dependencyTracker.recordBBox(e,this.ctx,-W.actualBoundingBoxLeft,W.actualBoundingBoxRight,-W.actualBoundingBoxAscent,W.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=K*S*h,o.restore(),this.compose();return}let z=0,q;for(q=0;q<m;++q){const Y=n[q];if(typeof Y=="number"){z+=b*Y*a/1e3;continue}let K=!1;const te=(Y.isSpace?d:0)+c,W=Y.fontChar,J=Y.accent;let L,U,F=Y.width;if(v){const $=Y.vmetric||x,X=-(Y.vmetric?$[1]:F*.5)*S,ne=$[2]*S;F=$?-$[0]:F,L=X/s,U=(z+ne)/s}else L=z/s,U=0;let V;if(i.remeasure&&F>0){V=o.measureText(W);const $=V.width*1e3/a*s;if(F<$&&this.isFontSubpixelAAEnabled){const X=F/$;K=!0,o.save(),o.scale(X,1),L/=X}else F!==$&&(L+=(F-$)/2e3*a/s)}if(this.contentVisible&&(Y.isInFont||i.missingFile)){if(A&&!J)o.fillText(W,L,U),this.dependencyTracker?.recordCharacterBBox(e,o,V?{bbox:null}:i,a/s,L,U,()=>V??o.measureText(W));else if(this.paintChar(e,W,L,U,T,E),J){const $=L+a*J.offset.x/s,X=U-a*J.offset.y/s;this.paintChar(e,J.fontChar,$,X,T,E)}}const G=v?F*S-te*f:F*S+te*f;z+=G,K&&o.restore()}v?r.y-=z:r.x+=z*h,o.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,a=i.font,o=i.fontSize,s=i.fontDirection,c=a.vertical?1:-1,d=i.charSpacing,f=i.wordSpacing,h=i.textHScale*s,m=i.fontMatrix||tE,v=n.length,b=i.textRenderingMode===Gr.INVISIBLE;let x,S,A,T;if(b||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,s);const E=this.dependencyTracker;for(this.dependencyTracker=E?new Lb(E,e):null,x=0;x<v;++x){if(S=n[x],typeof S=="number"){T=c*S*o/1e3,this.ctx.translate(T,0),i.x+=T*h;continue}const k=(S.isSpace?f:0)+d,D=a.charProcOperatorList[S.operatorListId];D?this.contentVisible&&(this.save(),r.scale(o,o),r.transform(...m),this.executeOperatorList(D),this.restore()):$t(`Type3 character "${S.operatorListId}" is not available.`);const M=[S.width,0];gt.applyTransform(M,m),A=M[0]*o+k,r.translate(A,0),i.x+=A*h}r.restore(),E&&(this.dependencyTracker=E)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,a,o,s){const c=new Path2D;c.rect(i,a,o-i,s-a),this.ctx.clip(c),this.dependencyTracker?.recordBBox(e,this.ctx,i,o,a,s).recordClipBox(e,this.ctx,i,o,a,s),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||fr(this.ctx),a={createCanvasGraphics:(o,s)=>new eh(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Lb(this.dependencyTracker,s,!0):null)};r=new AP(n,this.ctx,a,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=uoe(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,fs(r),Ti.SHADING,e);const a=fs(r);if(a){const{width:o,height:s}=r.canvas,c=Hf.slice();gt.axialAlignedBoundingBox([0,0,o,s],a,c);const[d,f,h,m]=c;this.ctx.fillRect(d,f,h-d,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,fo.transform).recordDependencies(e,fo.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Gn("Should not call beginInlineImage")}beginImageData(){Gn("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=fr(this.ctx),r)){gt.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[i,a,o,s]=r,c=new Path2D;c.rect(i,a,o-i,s-a),this.ctx.clip(c),this.dependencyTracker?.recordClipBox(e,this.ctx,i,o,a,s),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||kx("TODO: Support non-isolated groups."),n.knockout&&$t("Knockout groups not supported.");const i=fr(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let a=Hf.slice();gt.axialAlignedBoundingBox(n.bbox,fr(r),a);const o=[0,0,r.canvas.width,r.canvas.height];a=gt.intersect(a,o)||[0,0,0,0];const s=Math.floor(a[0]),c=Math.floor(a[1]),d=Math.max(Math.ceil(a[2])-s,1),f=Math.max(Math.ceil(a[3])-c,1);this.current.startNewPathAndClipBox([0,0,d,f]);let h="groupAt"+this.groupLevel;n.smask&&(h+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(h,d,f),v=m.context;v.translate(-s,-c),v.transform(...i);let b=new Path2D;const[x,S,A,T]=n.bbox;if(b.rect(x,S,A-x,T-S),n.matrix){const E=new Path2D;E.addPath(b,new DOMMatrix(n.matrix)),b=E}v.clip(b),n.smask&&this.smaskStack.push({canvas:m.canvas,context:v,offsetX:s,offsetY:c,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(s,c),r.save()),em(r,v),this.ctx=v,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=fr(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=Hf.slice();gt.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,r,i,a,o){if(this.#e(),xy(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const s=r[2]-r[0],c=r[3]-r[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=s,r[3]=c,gt.singularValueDecompose2dScale(fr(this.ctx),Fa);const{viewportScale:d}=this,f=Math.ceil(s*this.outputScaleX*d),h=Math.ceil(c*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,h);const{canvas:m,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(n,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Fa[0],0,0,-Fa[1],0,c*Fa[1]),xy(this.ctx)}else{xy(this.ctx),this.endPath(e);const d=new Path2D;d.rect(r[0],r[1],s,c),this.ctx.clip(d)}}this.current=new NL(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...a)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,a=this._createMaskCanvas(e,n),o=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,a.offsetX,a.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,a.offsetX,a.offsetX+o.width,a.offsetY,a.offsetY+o.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,a=0,o,s){if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const c=this.ctx;c.save();const d=fr(c);c.transform(r,i,a,o,0,0);const f=this._createMaskCanvas(e,n);c.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]),this.dependencyTracker?.resetBBox(e);for(let h=0,m=s.length;h<m;h+=2){const v=gt.transform(d,[r,i,a,o,s[h],s[h+1]]);c.drawImage(f.canvas,v[4],v[5]),this.dependencyTracker?.recordBBox(e,this.ctx,v[4],v[4]+f.canvas.width,v[5],v[5]+f.canvas.height)}c.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,a=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,fo.transformAndFill);for(const o of n){const{data:s,width:c,height:d,transform:f}=o,h=this.cachedCanvases.getCanvas("maskCanvas",c,d),m=h.context;m.save();const v=this.getObject(e,s,o);zL(m,v),m.globalCompositeOperation="source-in",m.fillStyle=a?i.getPattern(m,this,fs(r),Ti.FILL,e):i,m.fillRect(0,0,c,d),m.restore(),r.save(),r.transform(...f),r.scale(1,-1),by(r,h.canvas,0,0,c,d,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,c,0,d),r.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){$t("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,a){if(!this.contentVisible)return;const o=this.getObject(e,n);if(!o){$t("Dependent image isn't ready yet");return}const s=o.width,c=o.height,d=[];for(let f=0,h=a.length;f<h;f+=2)d.push({transform:[r,0,0,i,a[f],a[f+1]],x:0,y:0,w:s,h:c});this.paintInlineImageXObjectGroup(e,o,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",r,i),o=a.context;return o.filter=this.current.transferMaps,o.drawImage(n,0,0),o.filter="none",a.canvas}paintInlineImageXObject(e,n){if(!this.contentVisible)return;const r=n.width,i=n.height,a=this.ctx;this.save(e);const{filter:o}=a;o!=="none"&&o!==""&&(a.filter="none"),a.scale(1/r,-1/i);let s;if(n.bitmap)s=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)s=n;else{const f=this.cachedCanvases.getCanvas("inlineImage",r,i).context;IL(f,n),s=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(s,fs(a));a.imageSmoothingEnabled=BL(fr(a),n.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,a,0,r,-i,0).recordDependencies(e,fo.imageXObject).recordOperation(e),by(a,c.img,0,0,c.paintWidth,c.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){if(!this.contentVisible)return;const i=this.ctx;let a;if(n.bitmap)a=n.bitmap;else{const o=n.width,s=n.height,d=this.cachedCanvases.getCanvas("inlineImage",o,s).context;IL(d,n),a=this.applyTransferMapsToCanvas(d)}this.dependencyTracker?.resetBBox(e);for(const o of r)i.save(),i.transform(...o.transform),i.scale(1,-1),by(i,a,o.x,o.y,o.w,o.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,fo.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){this.dependencyTracker?.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const a=this.ctx;this.pendingClip?(i||(this.pendingClip===$L?a.clip(n,"evenodd"):a.clip(n)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=fr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:a}=this.ctx.getTransform();let o,s;if(r===0&&i===0){const c=Math.abs(n),d=Math.abs(a);if(c===d)if(e===0)o=s=1/c;else{const f=c*e;o=s=f<1?1/f:1}else if(e===0)o=1/c,s=1/d;else{const f=c*e,h=d*e;o=f<1?1/f:1,s=h<1?1/h:1}}else{const c=Math.abs(n*a-r*i),d=Math.hypot(n,r),f=Math.hypot(i,a);if(e===0)o=f/c,s=d/c;else{const h=e*c;o=f>h?f/h:1,s=d>h?d/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[a,o]=this.getScaleForStroking();if(a===o){r.lineWidth=(i||1)*a,r.stroke(e);return}const s=r.getLineDash();n&&r.save(),r.scale(a,o),mA.a=1/a,mA.d=1/o;const c=new Path2D;if(c.addPath(e,mA),s.length>0){const d=Math.max(a,o);r.setLineDash(s.map(f=>f/d)),r.lineDashOffset/=d}r.lineWidth=i||1,r.stroke(c),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const t in hd)eh.prototype[t]!==void 0&&(eh.prototype[hd[t]]=eh.prototype[t]);class th{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class yoe{#e;#t;constructor({parsedData:e,rawData:n}){this.#e=e,this.#t=n}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const Bf=Symbol("INTERNAL");class boe{#e=!1;#t=!1;#r=!1;#n=!0;constructor(e,{name:n,intent:r,usage:i,rbGroups:a}){this.#e=!!(e&Ba.DISPLAY),this.#t=!!(e&Ba.PRINT),this.name=n,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(this.#r)return this.#n;if(!this.#n)return!1;const{print:e,view:n}=this.usage;return this.#e?n?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,n,r=!1){e!==Bf&&Gn("Internal method `_setVisible` called."),this.#r=r,this.#n=n}}class xoe{#e=null;#t=new Map;#r=null;#n=null;constructor(e,n=Ba.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const r of e.groups)this.#t.set(r.id,new boe(n,r));if(e.baseState==="OFF")for(const r of this.#t.values())r._setVisible(Bf,!1);for(const r of e.on)this.#t.get(r)._setVisible(Bf,!0);for(const r of e.off)this.#t.get(r)._setVisible(Bf,!1);this.#r=this.getHash()}}#o(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const a=e[i];let o;if(Array.isArray(a))o=this.#o(a);else if(this.#t.has(a))o=this.#t.get(a).visible;else return $t(`Optional content group not found: ${a}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return kx("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:($t(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#o(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!this.#t.has(n))return $t(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!this.#t.has(n))return $t(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!this.#t.has(n))return $t(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!this.#t.has(n))return $t(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!1}return!0}return $t(`Unknown optional content policy ${e.policy}.`),!0}return $t(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){const i=this.#t.get(e);if(!i){$t(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&this.#t.get(o)?._setVisible(Bf,!1,!0);i._setVisible(Bf,!!n,!0),this.#e=null}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const a=this.#t.get(i);if(a)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!a.visible,n);break}}this.#e=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new r6;for(const[n,r]of this.#t)e.update(`${n}:${r.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class woe{constructor(e,{disableRange:n=!1,disableStream:r=!1}){cn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:o,contentDispositionFilename:s}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=s,a?.length>0){const c=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,d)=>{this._onReceiveData({begin:c,chunk:d})}),e.addProgressListener((c,d)=>{this._onProgress({loaded:c,total:d})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(r),!0)});cn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){cn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Soe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Aoe(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Soe{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=vP(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Aoe{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Coe(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let f=s(n);return f=unescape(f),f=c(f),f=d(f),a(f)}if(n=o(t),n){const f=d(n);return a(f)}if(n=r("filename","i").exec(t),n){n=n[1];let f=s(n);return f=d(f),a(f)}function r(f,h){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(f,h){if(f){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const m=new TextDecoder(f,{fatal:!0}),v=yg(h);h=m.decode(v),e=!1}catch{}}return h}function a(f){return e&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),e&&(f=i("iso-8859-1",f))),f}function o(f){const h=[];let m;const v=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=v.exec(f))!==null;){let[,x,S,A]=m;if(x=parseInt(x,10),x in h){if(x===0)break;continue}h[x]=[S,A]}const b=[];for(let x=0;x<h.length&&x in h;++x){let[S,A]=h[x];A=s(A),S&&(A=unescape(A),x===0&&(A=c(A))),b.push(A)}return b.join("")}function s(f){if(f.startsWith('"')){const h=f.slice(1).split('\\"');for(let m=0;m<h.length;++m){const v=h[m].indexOf('"');v!==-1&&(h[m]=h[m].slice(0,v),h.length=m+1),h[m]=h[m].replaceAll(/\\(.)/g,"$1")}f=h.join('"')}return f}function c(f){const h=f.indexOf("'");if(h===-1)return f;const m=f.slice(0,h),b=f.slice(h+1).replace(/^[^']*'/,"");return i(m,b)}function d(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,m,v,b){if(v==="q"||v==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,S){return String.fromCharCode(parseInt(S,16))}),i(m,b);try{b=atob(b)}catch{}return i(m,b)})}return""}function u6(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function Dx(t){return URL.parse(t)?.origin??null}function d6({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function f6(t){const e=t.get("Content-Disposition");if(e){let n=Coe(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(vP(n))return n}return null}function Ag(t,e){return new jb(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function h6(t){return t===200||t===206}function p6(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function m6(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:($t(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class _oe{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=u6(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return cn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Eoe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Toe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Eoe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,p6(r,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=Dx(a.url),!h6(a.status))throw Ag(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const o=a.headers,{allowRangeRequests:s,suggestedLength:c}=d6({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=c||this._contentLength,this._filename=f6(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new qc("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:m6(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Toe{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${n}-${r-1}`);const o=i.url;fetch(o,p6(a,this._withCredentials,this._abortController)).then(s=>{const c=Dx(s.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!h6(s.status))throw Ag(s.status,o);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:m6(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const gA=200,vA=206;function koe(t){const e=t.response;return typeof e!="string"?e:yg(e).buffer}class Poe{_responseOrigin=null;constructor({url:e,httpHeaders:n,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=u6(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[a,o]of this.headers)n.setRequestHeader(a,o);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=vA):i.expectedStatus=gA,n.responseType="arraybuffer",cn(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){const r=this.pendingRequests[e];r&&r.onProgress?.(n)}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const a=i.status||gA;if(!(a===gA&&r.expectedStatus===vA)&&a!==r.expectedStatus){r.onError(i.status);return}const s=koe(i);if(a===vA){const c=i.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);d?r.onDone({begin:parseInt(d[1],10),chunk:s}):($t('Missing or invalid "Content-Range" header.'),r.onError(0))}else s?r.onDone({begin:0,chunk:s}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class Ooe{constructor(e){this._source=e,this._manager=new Poe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return cn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Doe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new Moe(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Doe{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=Dx(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(s=>{const[c,...d]=s.split(": ");return[c,d.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:o}=d6({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=f6(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Ag(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Moe{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=Dx(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Ag(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Roe=/^[a-z][a-z0-9\-+.]+:/i;function joe(t){if(Roe.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class Loe{constructor(e){this.source=e,this.url=joe(e.url),cn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return cn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Noe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Ioe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Noe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Ag(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new qc("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Ioe{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const tm=Symbol("INITIAL_DATA");class g6{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:tm}}get(e,n=null){if(n){const i=this.#t(e);return i.promise.then(()=>n(i.data)),null}const r=this.#e[e];if(!r||r.data===tm)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=this.#e[e];return!!n&&n.data!==tm}delete(e){const n=this.#e[e];return!n||n.data===tm?!1:(delete this.#e[e],!0)}resolve(e,n=null){const r=this.#t(e);r.data=n,r.resolve()}clear(){for(const e in this.#e){const{data:n}=this.#e[e];n?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:n}=this.#e[e];n!==tm&&(yield[e,n])}}}const zoe=1e5,FL=30;class $a{#e=Promise.withResolvers();#t=null;#r=!1;#n=!!globalThis.FontInspector?.enabled;#o=null;#a=null;#i=0;#s=0;#c=null;#l=null;#f=0;#d=0;#h=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#_=new WeakMap;static#A=null;static#w=new Set;constructor({textContentSource:e,container:n,viewport:r}){if(e instanceof ReadableStream)this.#m=e;else if(typeof e=="object")this.#m=new ReadableStream({start(c){c.enqueue(e),c.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=n,this.#d=r.scale*Ms.pixelRatio,this.#f=r.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:a,pageX:o,pageY:s}=r.rawDims;this.#v=[1,0,0,-1,-o,s+a],this.#s=i,this.#i=a,$a.#P(),n.style.setProperty("--min-font-size",$a.#A),pd(n,r),this.#e.promise.finally(()=>{$a.#w.delete(this),this.#a=null,this.#h=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=Wr.platform;return Ft(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:n,done:r})=>{if(r){this.#e.resolve();return}this.#o??=n.lang,Object.assign(this.#h,n.styles),this.#T(n.items),e()},this.#e.reject)};return this.#c=this.#m.getReader(),$a.#w.add(this),e(),this.#e.promise}update({viewport:e,onBefore:n=null}){const r=e.scale*Ms.pixelRatio,i=e.rotation;if(i!==this.#f&&(n?.(),this.#f=i,pd(this.#l,{rotation:i})),r!==this.#d){n?.(),this.#d=r;const a={div:null,properties:null,ctx:$a.#O(this.#o)};for(const o of this.#u)a.properties=this.#p.get(o),a.div=o,this.#C(a)}}cancel(){const e=new qc("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#T(e){if(this.#r)return;this.#a.ctx??=$a.#O(this.#o);const n=this.#u,r=this.#g;for(const i of e){if(n.length>zoe){$t("Ignoring additional textDivs for performance reasons."),this.#r=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const a=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id&&this.#t.setAttribute("id",`${i.id}`),a.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#x(i)}}#x(e){const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(n);const i=gt.transform(this.#v,e.transform);let a=Math.atan2(i[1],i[0]);const o=this.#h[e.fontName];o.vertical&&(a+=Math.PI/2);let s=this.#n&&o.fontSubstitution||o.fontFamily;s=$a.fontFamilyMap.get(s)||s;const c=Math.hypot(i[2],i[3]),d=c*$a.#I(s,o,this.#o);let f,h;a===0?(f=i[4],h=i[5]-d):(f=i[4]+d*Math.sin(a),h=i[5]-d*Math.cos(a));const m=n.style;m.left=`${(100*f/this.#s).toFixed(2)}%`,m.top=`${(100*h/this.#i).toFixed(2)}%`,m.setProperty("--font-height",`${c.toFixed(2)}px`),m.fontFamily=s,r.fontSize=c,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,this.#n&&(n.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),a!==0&&(r.angle=a*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);b!==x&&Math.max(b,x)/Math.min(b,x)>1.5&&(v=!0)}if(v&&(r.canvasWidth=o.vertical?e.height:e.width),this.#p.set(n,r),this.#a.div=n,this.#a.properties=r,this.#C(this.#a),r.hasText&&this.#t.append(n),r.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),this.#t.append(b)}}#C(e){const{div:n,properties:r,ctx:i}=e,{style:a}=n;if(r.canvasWidth!==0&&r.hasText){const{fontFamily:o}=a,{canvasWidth:s,fontSize:c}=r;$a.#k(i,c*this.#d,o);const{width:d}=i.measureText(n.textContent);d>0&&a.setProperty("--scale-x",s*this.#d/d)}r.angle!==0&&a.setProperty("--rotate",`${r.angle}deg`)}static cleanup(){if(!(this.#w.size>0)){this.#b.clear();for(const{canvas:e}of this.#y.values())e.remove();this.#y.clear()}}static#O(e=null){let n=this.#y.get(e||="");if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(e,n),this.#_.set(n,{size:0,family:""})}return n}static#k(e,n,r){const i=this.#_.get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)}static#P(){if(this.#A!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#A=e.getBoundingClientRect().height,e.remove()}static#I(e,n,r){const i=this.#b.get(e);if(i)return i;const a=this.#O(r);a.canvas.width=a.canvas.height=FL,this.#k(a,FL,e);const o=a.measureText(""),s=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let d=.8;return s?d=s/(s+c):(Wr.platform.isFirefox&&$t("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?d=n.ascent:n.descent&&(d=1+n.descent)),this.#b.set(e,d),d}}const Boe=100;function v6(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new CP,{docId:n}=e,r=t.url?Gae(t.url):null,i=t.data?Yae(t.data):null,a=t.httpHeaders||null,o=t.withCredentials===!0,s=t.password??null,c=t.range instanceof y6?t.range:null,d=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let f=t.worker instanceof Fm?t.worker:null;const h=t.verbosity,m=typeof t.docBaseUrl=="string"&&!Px(t.docBaseUrl)?t.docBaseUrl:null,v=my(t.cMapUrl),b=t.cMapPacked!==!1,x=t.CMapReaderFactory||(ra?toe:TL),S=my(t.iccUrl),A=my(t.standardFontDataUrl),T=t.StandardFontDataFactory||(ra?noe:kL),E=my(t.wasmUrl),k=t.WasmFactory||(ra?roe:PL),D=t.stopAtErrors!==!0,M=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,R=t.isEvalSupported!==!1,N=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!ra,z=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!ra&&(Wr.platform.isFirefox||!globalThis.chrome),q=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,Y=typeof t.disableFontFace=="boolean"?t.disableFontFace:ra,K=t.fontExtraProperties===!0,te=t.enableXfa===!0,W=t.ownerDocument||globalThis.document,J=t.disableRange===!0,L=t.disableStream===!0,U=t.disableAutoFetch===!0,F=t.pdfBug===!0,V=t.CanvasFactory||(ra?eoe:Zae),G=t.FilterFactory||(ra?Jae:Qae),$=t.enableHWA===!0,X=t.useWasm!==!1,ne=c?c.length:t.length??NaN,ae=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!ra&&!Y,oe=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(x===TL&&T===kL&&k===PL&&v&&A&&E&&ym(v,document.baseURI)&&ym(A,document.baseURI)&&ym(E,document.baseURI)),xe=null;bae(h);const be={canvasFactory:new V({ownerDocument:W,enableHWA:$}),filterFactory:new G({docId:n,ownerDocument:W}),cMapReaderFactory:oe?null:new x({baseUrl:v,isCompressed:b}),standardFontDataFactory:oe?null:new T({baseUrl:A}),wasmFactory:oe?null:new k({baseUrl:E})};f||(f=Fm.create({verbosity:h,port:th.workerPort}),e._worker=f);const ze={docId:n,apiVersion:"5.4.530",data:i,password:s,disableAutoFetch:U,rangeChunkSize:d,length:ne,docBaseUrl:m,enableXfa:te,evaluatorOptions:{maxImageSize:M,disableFontFace:Y,ignoreErrors:D,isEvalSupported:R,isOffscreenCanvasSupported:N,isImageDecoderSupported:z,canvasMaxAreaInBytes:q,fontExtraProperties:K,useSystemFonts:ae,useWasm:X,useWorkerFetch:oe,cMapUrl:v,iccUrl:S,standardFontDataUrl:A,wasmUrl:E}},ie={ownerDocument:W,pdfBug:F,styleElement:xe,loadingParams:{disableAutoFetch:U,enableXfa:te}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const se=f.messageHandler.sendWithPromise("GetDocRequest",ze,i?[i.buffer]:null);let je;if(c)je=new woe(c,{disableRange:J,disableStream:L});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const ue=ym(r)?_oe:ra?Loe:Ooe;je=new ue({url:r,length:ne,httpHeaders:a,withCredentials:o,rangeChunkSize:d,disableRange:J,disableStream:L})}return se.then(ue=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Ve=new bm(n,ue,f.port),Le=new Uoe(Ve,e,je,ie,be,$);e._transport=Le,Ve.send("Ready",null)})}).catch(e._capability.reject),e}class CP{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${CP.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class y6{#e=Promise.withResolvers();#t=[];#r=[];#n=[];#o=[];constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){this.#o.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#r.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,n){for(const r of this.#o)r(e,n)}onDataProgress(e,n){this.#e.promise.then(()=>{for(const r of this.#n)r(e,n)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const n of this.#r)n(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,n){Gn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class $oe{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ft(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Foe{#e=!1;constructor(e,n,r,i=!1){this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new xL:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new g6,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:a=!1}={}){return new xg({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ft(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:a=zc.ENABLE,transform:o=null,background:s=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:h=null,isEditing:m=!1,recordOperations:v=!1,operationsFilter:b=null}){this._stats?.time("Overall");const x=this._transport.getRenderingIntent(i,a,h,m),{renderingIntent:S,cacheKey:A}=x;this.#e=!1,c||=this._transport.getOptionalContentConfig(S);let T=this._intentStates.get(A);T||(T=Object.create(null),this._intentStates.set(A,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const E=!!(S&Ba.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(x));const k=!!(this._pdfBug&&globalThis.StepperManager?.enabled),D=!this.recordedBBoxes&&(v||k),M=z=>{if(T.renderTasks.delete(R),D){const q=R.gfx?.dependencyTracker.take();q&&(R.stepper&&R.stepper.setOperatorBBoxes(q,R.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=q))}E&&(this.#e=!0),this.#t(),z?(R.capability.reject(z),this._abortOperatorList({intentState:T,reason:z instanceof Error?z:new Error(z)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new Vf({callback:M,params:{canvas:n,canvasContext:e,dependencyTracker:D?new aoe(n,T.operatorList.length,k):null,viewport:r,transform:o,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:b});(T.renderTasks||=new Set).add(R);const N=R.task;return Promise.all([T.displayReadyCapability.promise,c]).then(([z,q])=>{if(this.destroyed){M();return}if(this._stats?.time("Rendering"),!(q.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:z,optionalContentConfig:q}),R.operatorListChanged()}).catch(M),N}getOperatorList({intent:e="display",annotationMode:n=zc.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function a(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,n,r,i,!0);let s=this._intentStates.get(o.cacheKey);s||(s=Object.create(null),this._intentStates.set(o.cacheKey,s));let c;return s.opListReadCapability||(c=Object.create(null),c.operatorListChanged=a,s.opListReadCapability=Promise.withResolvers(),(s.renderTasks||=new Set).add(c),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),s.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>$m.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function a(){o.read().then(function({value:c,done:d}){if(d){r(s);return}s.lang??=c.lang,Object.assign(s.styles,c.styles),s.items.push(...c.items),a()},i)}const o=n.getReader(),s={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const n=this.#t();return e&&n&&(this._stats&&=new xL),n}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,n){const r=this._intentStates.get(n);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:a,transfer:o}=r,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:i},o).getReader(),d=this._intentStates.get(n);d.streamReader=c;const f=()=>{c.read().then(({value:h,done:m})=>{if(m){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,d),f())},h=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const m of d.renderTasks)m.operatorListChanged();this.#t()}if(d.displayReadyCapability)d.displayReadyCapability.reject(h);else if(d.opListReadCapability)d.opListReadCapability.reject(h);else throw h}})};f()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof gP){let i=Boe;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new qc(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}var $c,No,bl,Qu,j0,Ju,ed,oa,Jy,b6,x6,xm,ih,eb;const ar=class ar{constructor({name:e=null,port:n=null,verbosity:r=xae()}={}){cs(this,oa);cs(this,$c,Promise.withResolvers());cs(this,No,null);cs(this,bl,null);cs(this,Qu,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(ir(ar,ed).has(n))throw new Error("Cannot use more than one PDFWorker per port.");ir(ar,ed).set(n,this),us(this,oa,b6).call(this,n)}else us(this,oa,x6).call(this)}get promise(){return ir(this,$c).promise}get port(){return ir(this,bl)}get messageHandler(){return ir(this,No)}destroy(){this.destroyed=!0,ir(this,Qu)?.terminate(),wa(this,Qu,null),ir(ar,ed).delete(ir(this,bl)),wa(this,bl,null),ir(this,No)?.destroy(),wa(this,No,null)}static create(e){const n=ir(this,ed).get(e?.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new ar(e)}static get workerSrc(){if(th.workerSrc)return th.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ft(this,"_setupFakeWorkerGlobal",(async()=>ir(this,ih,eb)?ir(this,ih,eb):(await import(this.workerSrc)).WorkerMessageHandler)())}};$c=new WeakMap,No=new WeakMap,bl=new WeakMap,Qu=new WeakMap,j0=new WeakMap,Ju=new WeakMap,ed=new WeakMap,oa=new WeakSet,Jy=function(){ir(this,$c).resolve(),ir(this,No).send("configure",{verbosity:this.verbosity})},b6=function(e){wa(this,bl,e),wa(this,No,new bm("main","worker",e)),ir(this,No).on("ready",()=>{}),us(this,oa,Jy).call(this)},x6=function(){if(ir(ar,Ju)||ir(ar,ih,eb)){us(this,oa,xm).call(this);return}let{workerSrc:e}=ar;try{ar._isSameOrigin(window.location,e)||(e=ar._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new bm("main","worker",n),i=()=>{a.abort(),r.destroy(),n.terminate(),this.destroyed?ir(this,$c).reject(new Error("Worker was destroyed")):us(this,oa,xm).call(this)},a=new AbortController;n.addEventListener("error",()=>{ir(this,Qu)||i()},{signal:a.signal}),r.on("test",s=>{if(a.abort(),this.destroyed||!s){i();return}wa(this,No,r),wa(this,bl,n),wa(this,Qu,n),us(this,oa,Jy).call(this)}),r.on("ready",s=>{if(a.abort(),this.destroyed){i();return}try{o()}catch{us(this,oa,xm).call(this)}});const o=()=>{const s=new Uint8Array;r.send("test",s,[s.buffer])};o();return}catch{kx("The worker has been disabled.")}us(this,oa,xm).call(this)},xm=function(){ir(ar,Ju)||($t("Setting up fake worker."),wa(ar,Ju,!0)),ar._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){ir(this,$c).reject(new Error("Worker was destroyed"));return}const n=new Xae;wa(this,bl,n);const r=`fake${DR(ar,j0)._++}`,i=new bm(r+"_worker",r,n);e.setup(i,n),wa(this,No,new bm(r,r+"_worker",n)),us(this,oa,Jy).call(this)}).catch(e=>{ir(this,$c).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},ih=new WeakSet,eb=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},cs(ar,ih),cs(ar,j0,0),cs(ar,Ju,!1),cs(ar,ed,new WeakMap),ra&&(wa(ar,Ju,!0),th.workerSrc||="./pdf.worker.mjs"),ar._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!r?.origin||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},ar._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},ar.fromPort=e=>{if(Mae("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ar.create(e)};let Fm=ar;class Uoe{#e=new Map;#t=new Map;#r=new Map;#n=new Map;#o=null;constructor(e,n,r,i,a,o){this.messageHandler=e,this.loadingTask=n,this.commonObjs=new g6,this.fontLoader=new Hae({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}#a(e,n=null){const r=this.#e.get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return this.#e.set(e,i),i}get annotationStorage(){return Ft(this,"annotationStorage",new xP)}getRenderingIntent(e,n=zc.ENABLE,r=null,i=!1,a=!1){let o=Ba.DISPLAY,s=sE;switch(e){case"any":o=Ba.ANY;break;case"display":break;case"print":o=Ba.PRINT;break;default:$t(`getRenderingIntent - invalid intent: ${e}`)}const c=o&Ba.PRINT&&r instanceof i6?r:this.annotationStorage;switch(n){case zc.DISABLE:o+=Ba.ANNOTATIONS_DISABLE;break;case zc.ENABLE:break;case zc.ENABLE_FORMS:o+=Ba.ANNOTATIONS_FORMS;break;case zc.ENABLE_STORAGE:o+=Ba.ANNOTATIONS_STORAGE,s=c.serializable;break;default:$t(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(o+=Ba.IS_EDITING),a&&(o+=Ba.OPLIST);const{ids:d,hash:f}=c.modifiedIds,h=[o,s.hash,f];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:s,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#o?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#r.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),$a.cleanup(),this._networkStream?.cancelAllRequests(new qc("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{cn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:o}){if(o){i.close();return}cn(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:o}=this._fullReader;return(!i||!a)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),this._fullReader.onProgress=s=>{n.onProgress?.({loaded:s.loaded,total:s.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:o}}),e.on("GetRangeReader",(r,i)=>{cn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(r.begin,r.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:o,done:s}){if(s){i.close();return}cn(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{a.cancel(o),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new $oe(r,this))}),e.on("DocException",r=>{n._capability.reject(Sa(r))}),e.on("PasswordRequest",r=>{this.#o=Promise.withResolvers();try{if(!n.onPassword)throw Sa(r);const i=a=>{a instanceof Error?this.#o.reject(a):this.#o.resolve({password:a})};n.onPassword(i,r.code)}catch(i){this.#o.reject(i)}return this.#o.promise}),e.on("DataLoaded",r=>{n.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,a])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in a){const h=a.error;$t(`Error during font loading: ${h}`),this.commonObjs.resolve(r,h);break}const o=new Bn(a),s=this._params.pdfBug&&globalThis.FontInspector?.enabled?(h,m)=>globalThis.FontInspector.fontAdded(h,m):null,c=new Vae(o,s,a.extra,a.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:d}=a;cn(d,"The imageRef must be defined.");for(const h of this.#t.values())for(const[,m]of h.objs)if(m?.ref===d)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":this.commonObjs.resolve(r,new qae(a));break;case"Image":this.commonObjs.resolve(r,a);break;case"Pattern":const f=new si(a);this.commonObjs.resolve(r,f.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,a,o])=>{if(this.destroyed)return;const s=this.#t.get(i);if(!s.objs.has(r)){if(s._intentStates.size===0){o?.bitmap?.close();return}switch(a){case"Image":case"Pattern":s.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",r=>{this.destroyed||n.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&$t("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=this.#r.get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#n.set(a.refStr,e);const o=new Foe(n,a,this,this._params.pdfBug);return this.#t.set(n,o),o});return this.#r.set(n,i),i}getPageIndex(e){return lE(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#a("GetOptionalContentConfig").then(n=>new xoe(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=this.#e.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new yoe(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null,hasStructTree:i[2]}));return this.#e.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),$a.cleanup()}}cachedPageNumber(e){if(!lE(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(n)??null}}class Hoe{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:n}=this.#e;return e.form||e.canvas&&n?.size>0}}class Vf{#e=null;static#t=new WeakSet;constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:o,pageIndex:s,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:f=!1,pdfBug:h=!1,pageColors:m=null,enableHWA:v=!1,operationsFilter:b=null}){this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=s,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=h,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Hoe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=v,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(Vf.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Vf.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:a,dependencyTracker:o}=this.params,s=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new eh(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Vf.#t.delete(this._canvas),e||=new gP(`Rendering cancelled, page ${this._pageIndex+1}`,n),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Vf.#t.delete(this._canvas),this.callback())))}}const Voe="5.4.530",qoe="50cc4adac";class yo{#e=null;#t=null;#r;#n=null;#o=!1;#a=!1;#i=null;#s;#c=null;#l=null;static#f=null;static get _keyboardManager(){return Ft(this,"_keyboardManager",new Sg([[["Escape","mac+Escape"],yo.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],yo.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],yo.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],yo.prototype._moveToPrevious],[["Home","mac+Home"],yo.prototype._moveToBeginning],[["End","mac+End"],yo.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:n=null}){e?(this.#a=!1,this.#i=e):this.#a=!0,this.#l=e?._uiManager||n,this.#s=this.#l._eventBus,this.#r=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",yo.#f||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#i&&(e.ariaControls=`${this.#i.id}_colorpicker_dropdown`);const n=this.#l._signal;e.addEventListener("click",this.#m.bind(this),{signal:n}),e.addEventListener("keydown",this.#g.bind(this),{signal:n});const r=this.#t=document.createElement("span");return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=this.#r,e.append(r),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),n=this.#l._signal;e.addEventListener("contextmenu",Co,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#i&&(e.id=`${this.#i.id}_colorpicker_dropdown`);for(const[r,i]of this.#l.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=r,a.setAttribute("data-l10n-id",yo.#f[r]);const o=document.createElement("span");a.append(o),o.className="swatch",o.style.backgroundColor=i,a.ariaSelected=i===this.#r,a.addEventListener("click",this.#h.bind(this,i),{signal:n}),e.append(a)}return e.addEventListener("keydown",this.#g.bind(this),{signal:n}),e}#h(e,n){n.stopPropagation(),this.#s.dispatch("switchannotationeditorparams",{source:this,type:ln.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#m(e);return}const n=e.target.getAttribute("data-color");n&&this.#h(n,e)}_moveToNext(e){if(!this.#p){this.#m(e);return}if(e.target===this.#e){this.#n.firstElementChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstElementChild||e.target===this.#e){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#p){this.#m(e);return}this.#n.firstElementChild?.focus()}_moveToEnd(e){if(!this.#p){this.#m(e);return}this.#n.lastElementChild?.focus()}#g(e){yo._keyboardManager.exec(this,e)}#m(e){if(this.#p){this.hideDropdown();return}if(this.#o=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const n=this.#n=this.#d();this.#e.append(n)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#p){this.#i?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#o})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const n=this.#l.highlightColors.values();for(const r of this.#n.children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class Um{#e=null;#t=null;#r=null;static#n=null;constructor(e){this.#t=e,this.#r=e._uiManager,Um.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:n,color:r}=this.#t,i=this.#e=document.createElement("input");return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",Um.#n[e]),i.addEventListener("input",()=>{this.#r.updateParams(n,i.value)},{signal:this.#r._signal}),i}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function UL(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function nm(t){return Math.max(0,Math.min(255,255*t))}class HL{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=nm(e),[e,e,e]}static G_HTML([e]){const n=UL(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(nm)}static RGB_HTML(e){return`#${e.map(UL).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[nm(1-Math.min(1,e+i)),nm(1-Math.min(1,r+i)),nm(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,a=1-n,o=1-r,s=Math.min(i,a,o);return["CMYK",i,a,o,s]}}class Goe{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Gn("Abstract method `_createSVG` called.")}}class Nb extends Goe{_createSVG(e){return document.createElementNS(ml,e)}}const Yoe=9,md=new WeakSet,Koe=new Date().getTimezoneOffset()*60*1e3;class yA{static create(e){switch(e.data.annotationType){case Nr.LINK:return new _P(e);case Nr.TEXT:return new Xoe(e);case Nr.WIDGET:switch(e.data.fieldType){case"Tx":return new Zoe(e);case"Btn":return e.data.radioButton?new w6(e):e.data.checkBox?new Joe(e):new ese(e);case"Ch":return new tse(e);case"Sig":return new Qoe(e)}return new Od(e);case Nr.POPUP:return new dE(e);case Nr.FREETEXT:return new S6(e);case Nr.LINE:return new rse(e);case Nr.SQUARE:return new ise(e);case Nr.CIRCLE:return new ase(e);case Nr.POLYLINE:return new A6(e);case Nr.CARET:return new sse(e);case Nr.INK:return new EP(e);case Nr.POLYGON:return new ose(e);case Nr.HIGHLIGHT:return new C6(e);case Nr.UNDERLINE:return new lse(e);case Nr.SQUIGGLY:return new cse(e);case Nr.STRIKEOUT:return new use(e);case Nr.STAMP:return new _6(e);case Nr.FILEATTACHMENT:return new dse(e);default:return new pr(e)}}}class pr{#e=null;#t=!1;#r=null;constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,n&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return pr._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,n=this.annotationStorage?.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let a=-1/0,o=-1/0;if(n?.length>=8){for(let s=0;s<n.length;s+=8)n[s+1]>o?(o=n[s+1],a=n[s+2]):n[s+1]===o&&(a=Math.max(a,n[s+2]));return[a,o]}if(r?.length>=1){for(const s of r)for(let c=0,d=s.length;c<d;c+=2)s[c+1]>o?(o=s[c+1],a=s[c]):s[c+1]===o&&(a=Math.max(a,s[c]));if(a!==1/0)return[a,o]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:o}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-a)/r,e[1]=100*(e[1]-o)/i,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Bm}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${Bm}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#r?.popup||this.popup)?.remove(),this.#r=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:n,popup:r}=e;n&&this.#n(n);let i=this.#r?.popup||this.popup;!i&&r?.text&&(this._createPopup(r),i=this.#r.popup),i&&(i.updateEdited(e),r?.deleted&&(i.remove(),this.#r=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#r?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:o,pageX:s,pageY:c}}}}=this;r?.splice(0,4,...e),n.left=`${100*(e[0]-s)/a}%`,n.top=`${100*(o-e[3]+c)/o}%`,i===0?(n.width=`${100*(e[2]-e[0])/a}%`,n.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(i)}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",n.id),!(this instanceof Od)&&!(this instanceof _P)&&(a.tabIndex=0);const{style:o}=a;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(a.title=n.alternativeText),n.noRotate&&a.classList.add("norotate"),!n.rect||this instanceof dE){const{rotation:x}=n;return!n.hasOwnCanvas&&x!==0&&this.setRotation(x,a),a}const{width:s,height:c}=this;if(!e&&n.borderStyle.width>0){o.borderWidth=`${n.borderStyle.width}px`;const x=n.borderStyle.horizontalCornerRadius,S=n.borderStyle.verticalCornerRadius;if(x>0||S>0){const T=`calc(${x}px * var(--total-scale-factor)) / calc(${S}px * var(--total-scale-factor))`;o.borderRadius=T}else if(this instanceof w6){const T=`calc(${s}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;o.borderRadius=T}switch(n.borderStyle.style){case zf.SOLID:o.borderStyle="solid";break;case zf.DASHED:o.borderStyle="dashed";break;case zf.BEVELED:$t("Unimplemented border style: beveled");break;case zf.INSET:$t("Unimplemented border style: inset");break;case zf.UNDERLINE:o.borderBottomStyle="solid";break}const A=n.borderColor||null;A?(this.#t=!0,o.borderColor=gt.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):o.borderWidth=0}const d=gt.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:f,pageHeight:h,pageX:m,pageY:v}=i.rawDims;o.left=`${100*(d[0]-m)/f}%`,o.top=`${100*(d[1]-v)/h}%`;const{rotation:b}=n;return n.hasOwnCanvas||b===0?(o.width=`${100*s/f}%`,o.height=`${100*c/h}%`):this.setRotation(b,a),a}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:o}=this;e%180!==0&&([a,o]=[o,a]),n.style.width=`${100*a/r}%`,n.style.height=`${100*o/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const a=i.detail[n],o=a[0],s=a.slice(1);i.target.style[r]=HL[`${o}_HTML`](s),this.annotationStorage.setValue(this.data.id,{[r]:HL[`${o}_rgb`](s)})};return Ft(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail))(e[i]||r[i])?.(n)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,a]of Object.entries(n)){const o=r[i];if(o){const s={detail:{[i]:a},target:e};o(s),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,a]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,S,A,T]=e.subarray(2,6);if(i===x&&a===S&&n===A&&r===T)return}const{style:o}=this.container;let s;if(this.#t){const{borderColor:x,borderWidth:S}=o;o.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const c=i-n,d=a-r,{svgFactory:f}=this,h=f.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const m=f.createElement("defs");h.append(m);const v=f.createElement("clipPath"),b=`clippath_${this.data.id}`;v.setAttribute("id",b),v.setAttribute("clipPathUnits","objectBoundingBox"),m.append(v);for(let x=2,S=e.length;x<S;x+=8){const A=e[x],T=e[x+1],E=e[x+2],k=e[x+3],D=f.createElement("rect"),M=(E-n)/c,R=(a-T)/d,N=(A-E)/c,z=(T-k)/d;D.setAttribute("x",M),D.setAttribute("y",R),D.setAttribute("width",N),D.setAttribute("height",z),v.append(D),s?.push(`<rect vector-effect="non-scaling-stroke" x="${M}" y="${R}" width="${N}" height="${z}"/>`)}this.#t&&(s.push("</g></svg>')"),o.backgroundImage=s.join("")),this.container.append(h),this.container.style.clipPath=`url(#${b})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate),this.#r=new dE({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#r||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#r}render(){Gn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:o,exportValues:s}of i){if(a===-1||o===n)continue;const c=typeof s=="string"?s:null,d=document.querySelector(`[data-element-id="${o}"]`);if(d&&!md.has(d)){$t(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:c,domElement:d})}return r}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,o=i.getAttribute("data-element-id");o!==n&&md.has(i)&&r.push({id:o,exportValue:a,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Woe extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class _P extends pr{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action,e.overlaidText),i=!0):e.attachment?(this.#t(r,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#r(r,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(r,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=r,this.container.append(r)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,n,r=""){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#e(),r&&(e.title=r)}_bindNamedAction(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),r&&(e.title=r),this.#e()}#t(e,n,r="",i=null){e.href=this.linkService.getAnchorUrl(""),n.description?e.title=n.description:r&&(e.title=r),e.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,i),!1),this.#e()}#r(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),r&&(e.title=r),this.#e()}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const a=r.get(i);a&&(e[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1))}n.overlaidText&&(e.title=n.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){$t('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();const{fields:i,refs:a,include:o}=n,s=[];if(i.length!==0||a.length!==0){const f=new Set(a);for(const h of i){const m=this._fieldObjects[h]||[];for(const{id:v}of m)f.add(v)}for(const h of Object.values(this._fieldObjects))for(const m of h)f.has(m.id)===o&&s.push(m)}else for(const f of Object.values(this._fieldObjects))s.push(...f);const c=this.annotationStorage,d=[];for(const f of s){const{id:h}=f;switch(d.push(h),f.type){case"text":{const v=f.defaultValue||"";c.setValue(h,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;c.setValue(h,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";c.setValue(h,{value:v});break}default:continue}const m=document.querySelector(`[data-element-id="${h}"]`);if(m){if(!md.has(m)){$t(`_bindResetFormAction - element not allowed: ${h}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class Xoe extends pr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Od extends pr{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Wr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,a){r.includes("mouse")?e.addEventListener(r,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{if(r==="blur"){if(!n.focused||!o.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(o)}})})}_setEventListeners(e,n,r,i){for(const[a,o]of r)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(n||={focused:!1}),this._setEventListener(e,n,a,o,i),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,n,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":gt.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Yoe,a=e.style;let o;const s=2,c=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-s),f=Math.round(d/(uA*i))||1,h=d/f;o=Math.min(i,c(h/uA))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-s);o=Math.min(i,c(d/uA))}a.fontSize=`calc(${o}px * var(--total-scale-factor))`,a.color=gt.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(a.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class Zoe extends Od{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const a=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[n]=r),a.setValue(o.id,{[i]:r})}render(){const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=e.getValue(n,{value:this.data.fieldValue});let a=i.value||"";const o=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;o&&a.length>o&&(a=a.slice(0,o));let s=i.formattedValue||this.data.textContent?.join(`
`)||null;s&&this.data.comb&&(s=s.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:s,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=s??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",s??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),md.add(r),this.contentElement=r,r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:d,datetimeType:f,timeStep:h}=this.data,m=!!f&&this.enableScripting;d&&(r.title=d),this._setRequired(r,this.data.required),o&&(r.maxLength=o),r.addEventListener("input",b=>{e.setValue(n,{value:b.target.value}),this.setPropertyOnSiblings(r,"value",b.target.value,"value"),c.formattedValue=null}),r.addEventListener("resetform",b=>{const x=this.data.defaultFieldValue??"";r.value=c.userValue=x,c.formattedValue=null});let v=b=>{const{formattedValue:x}=c;x!=null&&(b.target.value=x),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",x=>{if(c.focused)return;const{target:S}=x;if(m&&(S.type=f,h&&(S.step=h)),c.userValue){const A=c.userValue;if(m)if(f==="time"){const T=new Date(A),E=[T.getHours(),T.getMinutes(),T.getSeconds()];S.value=E.map(k=>k.toString().padStart(2,"0")).join(":")}else S.value=new Date(A-Koe).toISOString().split(f==="date"?"T":".",1)[0];else S.value=A}c.lastCommittedValue=S.value,c.commitKey=1,this.data.actions?.Focus||(c.focused=!0)}),r.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const S={value(A){c.userValue=A.detail.value??"",m||e.setValue(n,{value:c.userValue.toString()}),A.target.value=c.userValue},formattedValue(A){const{formattedValue:T}=A.detail;c.formattedValue=T,T!=null&&A.target!==document.activeElement&&(A.target.value=T);const E={formattedValue:T};m&&(E.value=T),e.setValue(n,E)},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{const{charLimit:T}=A.detail,{target:E}=A;if(T===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",T);let k=c.userValue;!k||k.length<=T||(k=k.slice(0,T),E.value=c.userValue=k,e.setValue(n,{value:k}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(S,x)}),r.addEventListener("keydown",x=>{c.commitKey=1;let S=-1;if(x.key==="Escape"?S=0:x.key==="Enter"&&!this.data.multiLine?S=2:x.key==="Tab"&&(c.commitKey=3),S===-1)return;const{value:A}=x.target;c.lastCommittedValue!==A&&(c.lastCommittedValue=A,c.userValue=A,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:A,willCommit:!0,commitKey:S,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const b=v;v=null,r.addEventListener("blur",x=>{if(!c.focused||!x.relatedTarget)return;this.data.actions?.Blur||(c.focused=!1);const{target:S}=x;let{value:A}=S;if(m){if(A&&f==="time"){const T=A.split(":").map(E=>parseInt(E,10));A=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),S.step=""}else A.includes("T")||(A=`${A}T00:00`),A=new Date(A).valueOf();S.type="text"}c.userValue=A,c.lastCommittedValue!==A&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:A,willCommit:!0,commitKey:c.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}),b(x)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",x=>{c.lastCommittedValue=null;const{data:S,target:A}=x,{value:T,selectionStart:E,selectionEnd:k}=A;let D=E,M=k;switch(x.inputType){case"deleteWordBackward":{const R=T.substring(0,E).match(/\w*[^\w]*$/);R&&(D-=R[0].length);break}case"deleteWordForward":{const R=T.substring(E).match(/^[^\w]*\w*/);R&&(M+=R[0].length);break}case"deleteContentBackward":E===k&&(D-=1);break;case"deleteContentForward":E===k&&(M+=1);break}x.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:T,change:S||"",willCommit:!1,selStart:D,selEnd:M}})}),this._setEventListeners(r,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(v&&r.addEventListener("blur",v),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/o;r.classList.add("comb"),r.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Qoe extends Od{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Joe extends Od{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return md.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=0,a.addEventListener("change",o=>{const{name:s,checked:c}=o.target;for(const d of this._getElementsByName(s,r)){const f=c&&d.exportValue===n.exportValue;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}e.setValue(r,{value:c})}),a.addEventListener("resetform",o=>{const s=n.defaultFieldValue||"Off";o.target.checked=s===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",o=>{const s={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(s,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class w6 extends Od{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(n.fieldName,r))e.setValue(o.id,{value:!1});const a=document.createElement("input");if(md.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",o=>{const{name:s,checked:c}=o.target;for(const d of this._getElementsByName(s,r))e.setValue(d.id,{value:!1});e.setValue(r,{value:c})}),a.addEventListener("resetform",o=>{const s=n.defaultFieldValue;o.target.checked=s!=null&&s===n.buttonValue}),this.enableScripting&&this.hasJSActions){const o=n.buttonValue;a.addEventListener("updatefromsandbox",s=>{const c={value:d=>{const f=o===d.detail.value;for(const h of this._getElementsByName(d.target.name)){const m=f&&h.id===r;h.domElement&&(h.domElement.checked=m),e.setValue(h.id,{value:m})}}};this._dispatchEventFromSandbox(c,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class ese extends _P{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class tse extends Od{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");md.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const h=this.data.defaultFieldValue;for(const m of i.options)m.selected=m.value===h});for(const f of this.data.options){const h=document.createElement("option");h.textContent=f.displayValue,h.value=f.exportValue,r.value.includes(f.exportValue)&&(h.setAttribute("selected",!0),a=!1),i.append(h)}let o=null;if(a){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),o=()=>{f.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const s=f=>{const h=f?"value":"textContent",{options:m,multiple:v}=i;return v?Array.prototype.filter.call(m,b=>b.selected).map(b=>b[h]):m.selectedIndex===-1?null:m[m.selectedIndex][h]};let c=s(!1);const d=f=>{const h=f.target.options;return Array.prototype.map.call(h,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const h={value(m){o?.();const v=m.detail.value,b=new Set(Array.isArray(v)?v:[v]);for(const x of i.options)x.selected=b.has(x.value);e.setValue(n,{value:s(!0)}),c=s(!1)},multipleSelection(m){i.multiple=!0},remove(m){const v=i.options,b=m.detail.remove;v[b].selected=!1,i.remove(b),v.length>0&&Array.prototype.findIndex.call(v,S=>S.selected)===-1&&(v[0].selected=!0),e.setValue(n,{value:s(!0),items:d(m)}),c=s(!1)},clear(m){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),c=s(!1)},insert(m){const{index:v,displayValue:b,exportValue:x}=m.detail.insert,S=i.children[v],A=document.createElement("option");A.textContent=b,A.value=x,S?S.before(A):i.append(A),e.setValue(n,{value:s(!0),items:d(m)}),c=s(!1)},items(m){const{items:v}=m.detail;for(;i.length!==0;)i.remove(0);for(const b of v){const{displayValue:x,exportValue:S}=b,A=document.createElement("option");A.textContent=x,A.value=S,i.append(A)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:s(!0),items:d(m)}),c=s(!1)},indices(m){const v=new Set(m.detail.indices);for(const b of m.target.options)b.selected=v.has(b.index);e.setValue(n,{value:s(!0)}),c=s(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(h,f)}),i.addEventListener("input",f=>{const h=s(!0),m=s(!1);e.setValue(n,{value:h}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:c,change:m,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){e.setValue(n,{value:s(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class dE extends pr{constructor(e){const{data:n,elements:r,parent:i}=e,a=!!i._commentManager;if(super(e,{isRenderable:!a&&pr._hasPopupData(n)}),this.elements=r,a&&pr._hasPopupData(n)){const o=this.popup=this.#e();for(const s of r)s.popup=o}else this.popup=null}#e(){return new nse({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const n=this.popup=this.#e(),r=[];for(const i of this.elements)i.popup=n,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${Uf}${i}`).join(",")),this.container}}class nse{#e=null;#t=this.#V.bind(this);#r=this.#B.bind(this);#n=this.#R.bind(this);#o=this.#S.bind(this);#a=null;#i=null;#s=null;#c=null;#l=null;#f=null;#d=null;#h=!1;#g=null;#m=null;#u=null;#p=null;#v=null;#b=null;#y=null;#_=null;#A=null;#w=null;#T=!1;#x=null;#C=null;constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:o,richText:s,parent:c,rect:d,parentRect:f,open:h,commentManager:m=null}){this.#i=e,this.#A=i,this.#s=o,this.#_=s,this.#f=c,this.#a=n,this.#y=d,this.#d=f,this.#l=r,this.#e=m,this.#x=r[0],this.#c=iE.toDateObject(a),this.trigger=r.flatMap(v=>v.getElementsToTriggerPopup()),m||(this.#O(),this.#i.hidden=!0,h&&this.#S())}#O(){if(this.#m)return;this.#m=new AbortController;const{signal:e}=this.#m;for(const n of this.trigger)n.addEventListener("click",this.#o,{signal:e}),n.addEventListener("pointerenter",this.#n,{signal:e}),n.addEventListener("pointerleave",this.#r,{signal:e}),n.classList.add("popupTriggerArea");for(const n of this.#l)n.container?.addEventListener("keydown",this.#t,{signal:e})}#k(){const e=this.#l.find(n=>n.hasCommentButton);e&&(this.#v=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#x.container.after(this.#p);return}if(this.#v||this.#k(),!this.#v)return;const{signal:e}=this.#m=new AbortController,n=this.#x.hasOwnCommentButton,r=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!n)},i=()=>{this.#e.toggleCommentPopup(this,!1,!0,!n)},a=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(n){this.#p=this.#x.container;for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",r,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",a,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=this.#p=document.createElement("button");o.className="annotationCommentButton";const s=this.#x.container;o.style.zIndex=s.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#I(),this.#P(),o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",r,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",a,{signal:e}),s.after(o)}}#P(){if(this.#x.extraPopupElement&&!this.#x.editor)return;this.#p||this.renderCommentButton();const[e,n]=this.#v,{style:r}=this.#p;r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`}#I(){this.#x.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:n}=this.#x.commentData;return e?this.#f._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}=this.#x.commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}}get elementBeforePopup(){return this.#p}get comment(){return this.#C||=this.#x.commentText,this.#C}set comment(e){e!==this.comment&&(this.#x.commentText=this.#C=e)}focus(){this.#x.container?.focus()}get parentBoundingClientRect(){return this.#x.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){this.#p&&(this.#p.classList.toggle("selected",e),this.#p.ariaExpanded=n)}setSelectedCommentButton(e){this.#p.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:e,y:n,height:r}=this.#p.getBoundingClientRect(),{x:i,y:a,width:o,height:s}=this.#x.layer.getBoundingClientRect();return[(e-i)/o,(n+r-a)/s]}set commentPopupPosition(e){this.#b=e}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#v}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=this.#b||this.commentButtonPosition.map(d=>d/100),i=this.parentBoundingClientRect,{x:a,y:o,width:s,height:c}=i;this.#e.showDialog(null,this,a+n*s,o+r*c,{...e,parentDimensions:i})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#a){const r=e.style.outlineColor=gt.makeHexColor(...this.#a);e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const n=document.createElement("span");if(n.className="header",this.#A?.str){const r=document.createElement("span");r.className="title",n.append(r),{dir:r.dir,str:r.textContent}=this.#A}if(e.append(n),this.#c){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),r.dateTime=this.#c.toISOString(),n.append(r)}e6({html:this.#M||this.#s.str,dir:this.#s?.dir,className:"popupContent"},e),this.#i.append(e)}get#M(){const e=this.#_,n=this.#s;return e?.str&&(!n?.str||n.str===e.str)&&this.#_.html||null}get#j(){return this.#M?.attributes?.style?.fontSize||0}get#z(){return this.#M?.attributes?.style?.color||null}#L(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:this.#z,fontSize:this.#j?`calc(${this.#j}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))n.push({name:"span",value:a,attributes:i});return r}#V(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#h)&&this.#S()}updateEdited({rect:e,popup:n,deleted:r}){if(this.#e){r?(this.remove(),this.#C=null):n&&(n.deleted?this.remove():(this.#I(),this.#C=n.text)),e&&(this.#v=null,this.#k(),this.#P());return}if(r||n?.deleted){this.remove();return}this.#O(),this.#w||={contentsObj:this.#s,richText:this.#_},e&&(this.#u=null),n&&n.text&&(this.#_=this.#L(n.text),this.#c=iE.toDateObject(n.date),this.#s=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#w&&({contentsObj:this.#s,richText:this.#_}=this.#w,this.#w=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#T=!1,this.#h=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#E(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}}=this.#f;let o=!!this.#d,s=o?this.#d:this.#y;for(const b of this.#l)if(!s||gt.intersect(b.data.rect,s)!==null){s=b.data.rect,o=!0;break}const c=gt.normalizeRect([s[0],e[3]-s[1]+e[1],s[2],e[3]-s[3]+e[1]]),f=o?s[2]-s[0]+5:0,h=c[0]+f,m=c[1];this.#u=[100*(h-i)/n,100*(m-a)/r];const{style:v}=this.#i;v.left=`${this.#u[0]}%`,v.top=`${this.#u[1]}%`}#S(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#h=!this.#h,this.#h?(this.#R(),this.#i.addEventListener("click",this.#o),this.#i.addEventListener("keydown",this.#t)):(this.#B(),this.#i.removeEventListener("click",this.#o),this.#i.removeEventListener("keydown",this.#t))}#R(){this.#g||this.render(),this.isVisible?this.#h&&this.#i.classList.add("focused"):(this.#E(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#B(){this.#i.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#T=this.isVisible,this.#T&&(this.#i.hidden=!0)}maybeShow(){this.#e||(this.#O(),this.#T&&(this.#g||this.#R(),this.#T=!1,this.#i.hidden=!1))}get isVisible(){return this.#e?!1:this.#i.hidden===!1}}class S6 extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ut.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class rse extends pr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),a=this.#e=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ise extends pr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ase extends pr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),a=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",n/2),o.setAttribute("cy",r/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class A6 extends pr{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:i},width:a,height:o}=this;if(!n)return this.container;const s=this.svgFactory.create(a,o,!0);let c=[];for(let f=0,h=n.length;f<h;f+=2){const m=n[f]-e[0],v=e[3]-n[f+1];c.push(`${m},${v}`)}c=c.join(" ");const d=this.#e=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",c),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),s.append(d),this.container.append(s),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ose extends A6{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class sse extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class EP extends pr{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ut.HIGHLIGHT:Ut.INK}#r(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:r,borderStyle:i,popupRef:a}}=this,{transform:o,width:s,height:c}=this.#r(n,e),d=this.svgFactory.create(s,c,!0),f=this.#e=this.svgFactory.createElement("svg:g");d.append(f),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let h=0,m=r.length;h<m;h++){const v=this.svgFactory.createElement(this.svgElementName);this.#t.push(v),v.setAttribute("points",r[h].join(",")),f.append(v)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:r,rect:i}=e,a=this.#e;if(n>=0&&a.setAttribute("stroke-width",n||1),r)for(let o=0,s=this.#t.length;o<s;o++)this.#t[o].setAttribute("points",r[o].join(","));if(i){const{transform:o,width:s,height:c}=this.#r(this.data.rotation,i);a.parentElement.setAttribute("viewBox",`0 0 ${s} ${c}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class C6 extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ut.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class lse extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class cse extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class use extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class _6 extends pr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ut.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class dse extends pr{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:i}=Wr.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(i?a.metaKey:a.ctrlKey)&&this.#t()}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class TP{#e=null;#t=null;#r=null;#n=new Map;#o=null;#a=null;#i=[];#s=!1;constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:o,structTreeLayer:s,commentManager:c,linkService:d,annotationStorage:f}){this.div=e,this.#e=n,this.#t=r,this.#o=s||null,this.#a=d||null,this.#r=f||new xP,this.page=a,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=c||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:n}=e,r=this.div;pd(r,this.viewport);const i=new Map,a=[],o={data:null,layer:r,linkService:this.#a,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Nb,annotationStorage:this.#r,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const s of n){if(s.noHTML)continue;const c=s.annotationType===Nr.POPUP;if(c){const h=i.get(s.id);if(!h)continue;if(!this._commentManager){a.push(s);continue}o.elements=h}else if(s.rect[2]===s.rect[0]||s.rect[3]===s.rect[1])continue;o.data=s;const d=yA.create(o);if(!d.isRenderable)continue;if(!c&&(this.#i.push(d),s.popupRef)){const h=i.get(s.popupRef);h?h.push(d):i.set(s.popupRef,[d])}const f=d.render();s.hidden&&(f.style.visibility="hidden"),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}await this.#c();for(const s of a){const c=o.elements=i.get(s.id);o.data=s;const d=yA.create(o);if(!d.isRenderable)continue;const f=d.render();d.contentElement.id=`${Uf}${s.id}`,s.hidden&&(f.style.visibility="hidden"),c.at(-1).container.after(f)}this.#l()}async#c(){if(this.#i.length===0)return;this.div.replaceChildren();const e=[];if(!this.#s){this.#s=!0;for(const{contentElement:r,data:{id:i}}of this.#i){const a=r.id=`${Uf}${i}`;e.push(this.#o?.getAriaAttributes(a).then(o=>{if(o)for(const[s,c]of o)r.setAttribute(s,c)}))}}this.#i.sort(({data:{rect:[r,i,a,o]}},{data:{rect:[s,c,d,f]}})=>{if(r===a&&i===o)return 1;if(s===d&&c===f)return-1;const h=o,m=i,v=(i+o)/2,b=f,x=c,S=(c+f)/2;if(v>=b&&S<=m)return-1;if(S>=h&&v<=x)return 1;const A=(r+a)/2,T=(s+d)/2;return A-T});const n=document.createDocumentFragment();for(const r of this.#i)n.append(r.container),this._commentManager?(r.extraPopupElement?.popup||r.popup)?.renderCommentButton():r.extraPopupElement&&n.append(r.extraPopupElement.render());if(this.div.append(n),await Promise.all(e),this.#e)for(const r of this.#i)this.#e.addPointerInTextLayer(r.contentElement,!1)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:this.#a,svgFactory:new Nb,parent:this};for(const r of e){r.borderStyle||=TP._defaultBorderStyle,n.data=r;const i=yA.create(n);i.isRenderable&&(i.render(),i.contentElement.id=`${Uf}${r.id}`,this.#i.push(i))}await this.#c()}update({viewport:e}){const n=this.div;this.viewport=e,pd(n,{rotation:e.rotation}),this.#l(),n.hidden=!1}#l(){if(!this.#t)return;const e=this.div;for(const[n,r]of this.#t){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):i.append(r);const o=this.#n.get(n);o&&(o._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(n,i.id,r),o._hasNoCanvas=!1):o.canvas=r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:n}=this,{id:r,rotation:i}=e,a=new Woe({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:this.#a,annotationStorage:this.#r});return a.render(),a.contentElement.id=`${Uf}${r}`,a.createOrUpdatePopup(),this.#i.push(a),a}removeAnnotation(e){const n=this.#i.findIndex(i=>i.data.id===e);if(n<0)return;const[r]=this.#i.splice(n,1);this.#e?.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const n of e)n.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Ft(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:zf.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const wy=/\r\n?|\n/g;class li extends kt{#e="";#t=`${this.id}-editor`;#r=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=li.prototype,n=a=>a.isEmpty(),r=Gc.TRANSLATE_SMALL,i=Gc.TRANSLATE_BIG;return Ft(this,"_keyboardManager",new Sg([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}]]))}static _type="freetext";static _editorType=Ut.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||li._defaultColor||kt._defaultLineColor,this.#n=e.fontSize||li._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,n){kt.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case ln.FREETEXT_SIZE:li._defaultFontSize=n;break;case ln.FREETEXT_COLOR:li._defaultColor=n;break}}updateParams(e,n){switch(e){case ln.FREETEXT_SIZE:this.#o(n);break;case ln.FREETEXT_COLOR:this.#a(n);break}}static get defaultPropertiesToUpdate(){return[[ln.FREETEXT_SIZE,li._defaultFontSize],[ln.FREETEXT_COLOR,li._defaultColor||kt._defaultLineColor]]}get propertiesToUpdate(){return[[ln.FREETEXT_SIZE,this.#n],[ln.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Um(this),[["colorPicker",this._colorPicker]]}get colorType(){return ln.FREETEXT_COLOR}#o(e){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#n)*this.parentScale),this.#n=i,this.#s()},r=this.#n;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#a(e){const n=i=>{this.color=i,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-li._internalPadding*e,-(li._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const e=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#i(){const e=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(li.#c(r)),n=r);return e.join(`
`)}#s(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:a}=this,o=a.style.display,s=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",s)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,n=this.#e=this.#i().trimEnd();if(e===n)return;const r=i=>{if(this.#e=i,!i){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#s()};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),this.#s()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){li._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,n;(this._isCopy||this.annotationElementId)&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[s,c]=this.getInitialTranslation();[s,c]=this.pageTranslationToScreen(s,c);const[d,f]=this.pageDimensions,[h,m]=this.pageTranslation;let v,b;switch(this.rotation){case 0:v=e+(o[0]-h)/d,b=n+this.height-(o[1]-m)/f;break;case 90:v=e+(o[0]-h)/d,b=n-(o[1]-m)/f,[s,c]=[c,-s];break;case 180:v=e-this.width+(o[0]-h)/d,b=n-(o[1]-m)/f,[s,c]=[-s,-c];break;case 270:v=e+(o[0]-h-this.height*f)/d,b=n+(o[1]-m-this.width*d)/f,[s,c]=[-c,s];break}this.setAt(v*i,b*a,s,c)}else this._moveAfterPaste(e,n);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(wy,"")}editorDivPaste(e){const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const i=li.#d(n.getData("text")||"").replaceAll(wy,`
`);if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!i.includes(`
`)){o.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:s,startOffset:c}=o,d=[],f=[];if(s.nodeType===Node.TEXT_NODE){const v=s.parentElement;if(f.push(s.nodeValue.slice(c).replaceAll(wy,"")),v!==this.editorDiv){let b=d;for(const x of this.editorDiv.childNodes){if(x===v){b=f;continue}b.push(li.#c(x))}}d.push(s.nodeValue.slice(0,c).replaceAll(wy,""))}else if(s===this.editorDiv){let v=d,b=0;for(const x of this.editorDiv.childNodes)b++===c&&(v=f),v.push(li.#c(x))}this.#e=`${d.join(`
`)}${i}${f.join(`
`)}`,this.#l();const h=new Range;let m=Math.sumPrecise(d.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const b=v.nodeValue.length;if(m<=b){h.setStart(v,m),h.setEnd(v,m);break}m-=b}a.removeAllRanges(),a.addRange(h)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}}#f(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=li._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,n,r){let i=null;if(e instanceof S6){const{data:{defaultAppearanceData:{fontSize:o,fontColor:s},rect:c,rotation:d,id:f,popupRef:h,richText:m,contentsObj:v,creationDate:b,modificationDate:x},textContent:S,textPosition:A,parent:{page:{pageNumber:T}}}=e;if(!S||S.length===0)return null;i=e={annotationType:Ut.FREETEXT,color:Array.from(s),fontSize:o,value:S.join(`
`),position:A,pageIndex:T-1,rect:c.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:h,comment:v?.str||null,richText:m,creationDate:b,modificationDate:x}}const a=await super.deserialize(e,n,r);return a.#n=e.fontSize,a.color=gt.makeHexColor(...e.color),a.#e=li.#d(e.value),a._initialData=i,e.comment&&a.setCommentData(e),a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=kt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(e),{color:n,fontSize:this.#n,value:this.#f()});return this.addComment(r),e?(r.isCopy=!0,r):this.annotationElementId&&!this.#h(r)?null:(r.id=this.annotationElementId,r)}#h(e){const{value:n,fontSize:r,color:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((o,s)=>o!==i[s])||e.pageIndex!==a}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(!n)return null;const{style:r}=n;r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,n.replaceChildren();for(const i of this.#e.split(`
`)){const a=document.createElement("div");a.append(i?document.createTextNode(i):document.createElement("br")),n.append(a)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class yt{static PRECISION=1e-4;toSVGPath(){Gn("Abstract method `toSVGPath` must be implemented.")}get box(){Gn("Abstract getter `box` must be implemented.")}serialize(e,n){Gn("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,a,o){o||=new Float32Array(e.length);for(let s=0,c=e.length;s<c;s+=2)o[s]=n+e[s]*i,o[s+1]=r+e[s+1]*a;return o}static _rescaleAndSwap(e,n,r,i,a,o){o||=new Float32Array(e.length);for(let s=0,c=e.length;s<c;s+=2)o[s]=n+e[s+1]*i,o[s+1]=r+e[s]*a;return o}static _translate(e,n,r,i){i||=new Float32Array(e.length);for(let a=0,o=e.length;a<o;a+=2)i[a]=n+e[a],i[a+1]=r+e[a+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,a){switch(a){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,a,o){return[(e+5*r)/6,(n+5*i)/6,(5*r+a)/6,(5*i+o)/6,(r+a)/2,(i+o)/2]}}class Yu{#e;#t=[];#r;#n;#o=[];#a=new Float32Array(18);#i;#s;#c;#l;#f;#d;#h=[];static#g=8;static#m=2;static#u=Yu.#g+Yu.#m;constructor({x:e,y:n},r,i,a,o,s=0){this.#e=r,this.#d=a*i,this.#n=o,this.#a.set([NaN,NaN,NaN,NaN,e,n],6),this.#r=s,this.#l=Yu.#g*i,this.#c=Yu.#u*i,this.#f=i,this.#h.push(e,n)}isEmpty(){return isNaN(this.#a[8])}#p(){const e=this.#a.subarray(4,6),n=this.#a.subarray(16,18),[r,i,a,o]=this.#e;return[(this.#i+(e[0]-n[0])/2-r)/a,(this.#s+(e[1]-n[1])/2-i)/o,(this.#i+(n[0]-e[0])/2-r)/a,(this.#s+(n[1]-e[1])/2-i)/o]}add({x:e,y:n}){this.#i=e,this.#s=n;const[r,i,a,o]=this.#e;let[s,c,d,f]=this.#a.subarray(8,12);const h=e-d,m=n-f,v=Math.hypot(h,m);if(v<this.#c)return!1;const b=v-this.#l,x=b/v,S=x*h,A=x*m;let T=s,E=c;s=d,c=f,d+=S,f+=A,this.#h?.push(e,n);const k=-A/b,D=S/b,M=k*this.#d,R=D*this.#d;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([d+M,f+R],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([d-M,f-R],16),isNaN(this.#a[6])?(this.#o.length===0&&(this.#a.set([s+M,c+R],2),this.#o.push(NaN,NaN,NaN,NaN,(s+M-r)/a,(c+R-i)/o),this.#a.set([s-M,c-R],14),this.#t.push(NaN,NaN,NaN,NaN,(s-M-r)/a,(c-R-i)/o)),this.#a.set([T,E,s,c,d,f],6),!this.isEmpty()):(this.#a.set([T,E,s,c,d,f],6),Math.abs(Math.atan2(E-c,T-s)-Math.atan2(A,S))<Math.PI/2?([s,c,d,f]=this.#a.subarray(2,6),this.#o.push(NaN,NaN,NaN,NaN,((s+d)/2-r)/a,((c+f)/2-i)/o),[s,c,T,E]=this.#a.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((T+s)/2-r)/a,((E+c)/2-i)/o),!0):([T,E,s,c,d,f]=this.#a.subarray(0,6),this.#o.push(((T+5*s)/6-r)/a,((E+5*c)/6-i)/o,((5*s+d)/6-r)/a,((5*c+f)/6-i)/o,((s+d)/2-r)/a,((c+f)/2-i)/o),[d,f,s,c,T,E]=this.#a.subarray(12,18),this.#t.push(((T+5*s)/6-r)/a,((E+5*c)/6-i)/o,((5*s+d)/6-r)/a,((5*c+f)/6-i)/o,((s+d)/2-r)/a,((c+f)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#o,n=this.#t;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#v();const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#y(r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return this.#b(r),r.join(" ")}#v(){const[e,n,r,i]=this.#e,[a,o,s,c]=this.#p();return`M${(this.#a[2]-e)/r} ${(this.#a[3]-n)/i} L${(this.#a[4]-e)/r} ${(this.#a[5]-n)/i} L${a} ${o} L${s} ${c} L${(this.#a[16]-e)/r} ${(this.#a[17]-n)/i} L${(this.#a[14]-e)/r} ${(this.#a[15]-n)/i} Z`}#b(e){const n=this.#t;e.push(`L${n[4]} ${n[5]} Z`)}#y(e){const[n,r,i,a]=this.#e,o=this.#a.subarray(4,6),s=this.#a.subarray(16,18),[c,d,f,h]=this.#p();e.push(`L${(o[0]-n)/i} ${(o[1]-r)/a} L${c} ${d} L${f} ${h} L${(s[0]-n)/i} ${(s[1]-r)/a}`)}newFreeDrawOutline(e,n,r,i,a,o){return new E6(e,n,r,i,a,o)}getOutlines(){const e=this.#o,n=this.#t,r=this.#a,[i,a,o,s]=this.#e,c=new Float32Array((this.#h?.length??0)+2);for(let h=0,m=c.length-2;h<m;h+=2)c[h]=(this.#h[h]-i)/o,c[h+1]=(this.#h[h+1]-a)/s;if(c[c.length-2]=(this.#i-i)/o,c[c.length-1]=(this.#s-a)/s,isNaN(r[6])&&!this.isEmpty())return this.#_(c);const d=new Float32Array(this.#o.length+24+this.#t.length);let f=e.length;for(let h=0;h<f;h+=2){if(isNaN(e[h])){d[h]=d[h+1]=NaN;continue}d[h]=e[h],d[h+1]=e[h+1]}f=this.#w(d,f);for(let h=n.length-6;h>=6;h-=6)for(let m=0;m<6;m+=2){if(isNaN(n[h+m])){d[f]=d[f+1]=NaN,f+=2;continue}d[f]=n[h+m],d[f+1]=n[h+m+1],f+=2}return this.#A(d,f),this.newFreeDrawOutline(d,c,this.#e,this.#f,this.#r,this.#n)}#_(e){const n=this.#a,[r,i,a,o]=this.#e,[s,c,d,f]=this.#p(),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-r)/a,(n[3]-i)/o,NaN,NaN,NaN,NaN,(n[4]-r)/a,(n[5]-i)/o,NaN,NaN,NaN,NaN,s,c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(n[16]-r)/a,(n[17]-i)/o,NaN,NaN,NaN,NaN,(n[14]-r)/a,(n[15]-i)/o],0),this.newFreeDrawOutline(h,e,this.#e,this.#f,this.#r,this.#n)}#A(e,n){const r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6}#w(e,n){const r=this.#a.subarray(4,6),i=this.#a.subarray(16,18),[a,o,s,c]=this.#e,[d,f,h,m]=this.#p();return e.set([NaN,NaN,NaN,NaN,(r[0]-a)/s,(r[1]-o)/c,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,h,m,NaN,NaN,NaN,NaN,(i[0]-a)/s,(i[1]-o)/c],n),n+=24}}class E6 extends yt{#e;#t=new Float32Array(4);#r;#n;#o;#a;#i;constructor(e,n,r,i,a,o){super(),this.#i=e,this.#o=n,this.#e=r,this.#a=i,this.#r=a,this.#n=o,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#s(o);const[s,c,d,f]=this.#t;for(let h=0,m=e.length;h<m;h+=2)e[h]=(e[h]-s)/d,e[h+1]=(e[h+1]-c)/f;for(let h=0,m=n.length;h<m;h+=2)n[h]=(n[h]-s)/d,n[h+1]=(n[h+1]-c)/f}toSVGPath(){const e=[`M${this.#i[4]} ${this.#i[5]}`];for(let n=6,r=this.#i.length;n<r;n+=6){if(isNaN(this.#i[n])){e.push(`L${this.#i[n+4]} ${this.#i[n+5]}`);continue}e.push(`C${this.#i[n]} ${this.#i[n+1]} ${this.#i[n+2]} ${this.#i[n+3]} ${this.#i[n+4]} ${this.#i[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,i],a){const o=r-e,s=i-n;let c,d;switch(a){case 0:c=yt._rescale(this.#i,e,i,o,-s),d=yt._rescale(this.#o,e,i,o,-s);break;case 90:c=yt._rescaleAndSwap(this.#i,e,n,o,s),d=yt._rescaleAndSwap(this.#o,e,n,o,s);break;case 180:c=yt._rescale(this.#i,r,n,-o,s),d=yt._rescale(this.#o,r,n,-o,s);break;case 270:c=yt._rescaleAndSwap(this.#i,r,i,-o,-s),d=yt._rescaleAndSwap(this.#o,r,i,-o,-s);break}return{outline:Array.from(c),points:[Array.from(d)]}}#s(e){const n=this.#i;let r=n[4],i=n[5];const a=[r,i,r,i];let o=r,s=i,c=r,d=i;const f=e?Math.max:Math.min,h=new Float32Array(4);for(let v=6,b=n.length;v<b;v+=6){const x=n[v+4],S=n[v+5];isNaN(n[v])?(gt.pointBoundingBox(x,S,a),s>S?(o=x,s=S):s===S&&(o=f(o,x)),d<S?(c=x,d=S):d===S&&(c=f(c,x))):(h[0]=h[1]=1/0,h[2]=h[3]=-1/0,gt.bezierBoundingBox(r,i,...n.slice(v,v+6),h),gt.rectBoundingBox(h[0],h[1],h[2],h[3],a),s>h[1]?(o=h[0],s=h[1]):s===h[1]&&(o=f(o,h[0])),d<h[3]?(c=h[2],d=h[3]):d===h[3]&&(c=f(c,h[2]))),r=x,i=S}const m=this.#t;m[0]=a[0]-this.#r,m[1]=a[1]-this.#r,m[2]=a[2]-a[0]+2*this.#r,m[3]=a[3]-a[1]+2*this.#r,this.firstPoint=[o,s],this.lastPoint=[c,d]}get box(){return this.#t}newOutliner(e,n,r,i,a,o=0){return new Yu(e,n,r,i,a,o)}getNewOutline(e,n){const[r,i,a,o]=this.#t,[s,c,d,f]=this.#e,h=a*d,m=o*f,v=r*d+s,b=i*f+c,x=this.newOutliner({x:this.#o[0]*h+v,y:this.#o[1]*m+b},this.#e,this.#a,e,this.#n,n??this.#r);for(let S=2;S<this.#o.length;S+=2)x.add({x:this.#o[S]*h+v,y:this.#o[S+1]*m+b});return x.getOutlines()}}class fE{#e;#t;#r;#n=[];#o=[];constructor(e,n=0,r=0,i=!0){const a=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x,y:S,width:A,height:T}of e){const E=Math.floor((x-n)/o)*o,k=Math.ceil((x+A+n)/o)*o,D=Math.floor((S-n)/o)*o,M=Math.ceil((S+T+n)/o)*o,R=[E,D,M,!0],N=[k,D,M,!1];this.#n.push(R,N),gt.rectBoundingBox(E,D,k,M,a)}const s=a[2]-a[0]+2*r,c=a[3]-a[1]+2*r,d=a[0]-r,f=a[1]-r;let h=i?-1/0:1/0,m=1/0;const v=this.#n.at(i?-1:-2),b=[v[0],v[2]];for(const x of this.#n){const[S,A,T,E]=x;!E&&i?A<m?(m=A,h=S):A===m&&(h=Math.max(h,S)):E&&!i&&(A<m?(m=A,h=S):A===m&&(h=Math.min(h,S))),x[0]=(S-d)/s,x[1]=(A-f)/c,x[2]=(T-f)/c}this.#e=new Float32Array([d,f,s,c]),this.#t=[h,m],this.#r=b}getOutlines(){this.#n.sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of this.#n)n[3]?(e.push(...this.#l(n)),this.#s(n)):(this.#c(n),e.push(...this.#l(n)));return this.#a(e)}#a(e){const n=[],r=new Set;for(const o of e){const[s,c,d]=o;n.push([s,c,o],[s,d,o])}n.sort((o,s)=>o[1]-s[1]||o[0]-s[0]);for(let o=0,s=n.length;o<s;o+=2){const c=n[o][2],d=n[o+1][2];c.push(d),d.push(c),r.add(c),r.add(d)}const i=[];let a;for(;r.size>0;){const o=r.values().next().value;let[s,c,d,f,h]=o;r.delete(o);let m=s,v=c;for(a=[s,d],i.push(a);;){let b;if(r.has(f))b=f;else if(r.has(h))b=h;else break;r.delete(b),[s,c,d,f,h]=b,m!==s&&(a.push(m,v,s,v===c?c:d),m=s),v=v===c?d:c}a.push(m,v)}return new fse(i,this.#e,this.#t,this.#r)}#i(e){const n=this.#o;let r=0,i=n.length-1;for(;r<=i;){const a=r+i>>1,o=n[a][0];if(o===e)return a;o<e?r=a+1:i=a-1}return i+1}#s([,e,n]){const r=this.#i(e);this.#o.splice(r,0,[e,n])}#c([,e,n]){const r=this.#i(e);for(let i=r;i<this.#o.length;i++){const[a,o]=this.#o[i];if(a!==e)break;if(a===e&&o===n){this.#o.splice(i,1);return}}for(let i=r-1;i>=0;i--){const[a,o]=this.#o[i];if(a!==e)break;if(a===e&&o===n){this.#o.splice(i,1);return}}}#l(e){const[n,r,i]=e,a=[[n,r,i]],o=this.#i(i);for(let s=0;s<o;s++){const[c,d]=this.#o[s];for(let f=0,h=a.length;f<h;f++){const[,m,v]=a[f];if(!(d<=m||v<=c)){if(m>=c){if(v>d)a[f][1]=d;else{if(h===1)return[];a.splice(f,1),f--,h--}continue}a[f][2]=c,v>d&&a.push([n,d,v])}}}return a}}class fse extends yt{#e;#t;constructor(e,n,r,i){super(),this.#t=e,this.#e=n,this.firstPoint=r,this.lastPoint=i}toSVGPath(){const e=[];for(const n of this.#t){let[r,i]=n;e.push(`M${r} ${i}`);for(let a=2;a<n.length;a+=2){const o=n[a],s=n[a+1];o===r?(e.push(`V${s}`),i=s):s===i&&(e.push(`H${o}`),r=o)}e.push("Z")}return e.join(" ")}serialize([e,n,r,i],a){const o=[],s=r-e,c=i-n;for(const d of this.#t){const f=new Array(d.length);for(let h=0;h<d.length;h+=2)f[h]=e+d[h]*s,f[h+1]=i-d[h+1]*c;o.push(f)}return o}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class hE extends Yu{newFreeDrawOutline(e,n,r,i,a,o){return new hse(e,n,r,i,a,o)}}class hse extends E6{newOutliner(e,n,r,i,a,o=0){return new hE(e,n,r,i,a,o)}}class Er extends kt{#e=null;#t=0;#r;#n=null;#o=null;#a=null;#i=null;#s=0;#c=null;#l=null;#f=null;#d=!1;#h=null;#g=null;#m=null;#u="";#p;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ut.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Er.prototype;return Ft(this,"_keyboardManager",new Sg([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Er._defaultColor,this.#p=e.thickness||Er._defaultThickness,this.opacity=e.opacity||Er._defaultOpacity,this.#r=e.boxes||null,this.#v=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#y(e),this.#x()):this.#r&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#i=e.focusNode,this.#s=e.focusOffset,this.#b(),this.#x(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new fE(this.#r,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const n=new fE(this.#r,.0025,.001,this._uiManager.direction==="ltr");this.#a=n.getOutlines();const{firstPoint:r}=this.#l;this.#h=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height];const{lastPoint:i}=this.#a;this.#g=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#y({highlightOutlines:e,highlightId:n,clipPathId:r}){this.#l=e;const i=1.5;if(this.#a=e.getNewOutline(this.#p/2+i,.0025),n>=0)this.#f=n,this.#n=r,this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const h=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#f,{bbox:Er.#C(this.#l.box,(h-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:Er.#C(this.#a.box,h),path:{d:this.#a.toSVGPath()}})}const[a,o,s,c]=e.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=s,this.height=c;break;case 90:{const[h,m]=this.parentDimensions;this.x=o,this.y=1-a,this.width=s*m/h,this.height=c*h/m;break}case 180:this.x=1-a,this.y=1-o,this.width=s,this.height=c;break;case 270:{const[h,m]=this.parentDimensions;this.x=1-o,this.y=a,this.width=s*m/h,this.height=c*h/m;break}}const{firstPoint:d}=e;this.#h=[(d[0]-a)/s,(d[1]-o)/c];const{lastPoint:f}=this.#a;this.#g=[(f[0]-a)/s,(f[1]-o)/c]}static initialize(e,n){kt.initialize(e,n),Er._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,n){switch(e){case ln.HIGHLIGHT_COLOR:Er._defaultColor=n;break;case ln.HIGHLIGHT_THICKNESS:Er._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#h}updateParams(e,n){switch(e){case ln.HIGHLIGHT_COLOR:this.#_(n);break;case ln.HIGHLIGHT_THICKNESS:this.#A(n);break}}static get defaultPropertiesToUpdate(){return[[ln.HIGHLIGHT_COLOR,Er._defaultColor],[ln.HIGHLIGHT_THICKNESS,Er._defaultThickness]]}get propertiesToUpdate(){return[[ln.HIGHLIGHT_COLOR,this.color||Er._defaultColor],[ln.HIGHLIGHT_THICKNESS,this.#p||Er._defaultThickness],[ln.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#f,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#o?.updateColor(this.color),super.onUpdatedColor()}#_(e){const n=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},r=this.color,i=this.opacity;this.addCommands({cmd:n.bind(this,e,Er._defaultOpacity),undo:n.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#A(e){const n=this.#p,r=i=>{this.#p=i,this.#w(i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#o=new yo({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#P())}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,this.#P())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#x(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?this.#T():e&&(this.#x(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),n&&this.select()}#w(e){this.#d&&(this.#y({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#T(){this.#f===null||!this.parent||(this.parent.drawLayer.remove(this.#f),this.#f=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#x(e=this.parent){this.#f===null&&({id:this.#f,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#C([e,n,r,i],a){switch(a){case 90:return[1-n-i,e,i,r];case 180:return[1-e-r,1-n-i,r,i];case 270:return[n,1-e-r,i,r]}return[e,n,r,i]}rotate(e){const{drawLayer:n}=this.parent;let r;this.#d?(e=(e-this.rotation+360)%360,r=Er.#C(this.#l.box,e)):r=Er.#C([this.x,this.y,this.width,this.height],e),n.updateProperties(this.#f,{bbox:r,root:{"data-main-rotation":e}}),n.updateProperties(this.#m,{bbox:Er.#C(this.#a.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#O.bind(this),{signal:this._uiManager._signal});const n=this.#c=document.createElement("div");return e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#n,this.setDims(),n6(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#O(e){Er._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#k(!0);break;case 1:case 3:this.#k(!1);break}}#k(e){if(!this.#e)return;const n=window.getSelection();e?n.setPosition(this.#e,this.#t):n.setPosition(this.#i,this.#s)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#d||this.#k(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!e}}))}#P(){return this.#d?this.rotation:0}#I(){if(this.#d)return null;const[e,n]=this.pageDimensions,[r,i]=this.pageTranslation,a=this.#r,o=new Float32Array(a.length*8);let s=0;for(const{x:c,y:d,width:f,height:h}of a){const m=c*e+r,v=(1-d)*n+i;o[s]=o[s+4]=m,o[s+1]=o[s+3]=v,o[s+2]=o[s+6]=m+f*e,o[s+5]=o[s+7]=v-h*n,s+=8}return o}#M(e){return this.#l.serialize(e,this.#P())}static startHighlighting(e,n,{target:r,x:i,y:a}){const{x:o,y:s,width:c,height:d}=r.getBoundingClientRect(),f=new AbortController,h=e.combinedSignal(f),m=v=>{f.abort(),this.#z(e,v)};window.addEventListener("blur",m,{signal:h}),window.addEventListener("pointerup",m,{signal:h}),window.addEventListener("pointerdown",wr,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Co,{signal:h}),r.addEventListener("pointermove",this.#j.bind(this,e),{signal:h}),this._freeHighlight=new hE({x:i,y:a},[o,s,c,d],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#j(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#z(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,n,r){let i=null;if(e instanceof C6){const{data:{quadPoints:b,rect:x,rotation:S,id:A,color:T,opacity:E,popupRef:k,richText:D,contentsObj:M,creationDate:R,modificationDate:N},parent:{page:{pageNumber:z}}}=e;i=e={annotationType:Ut.HIGHLIGHT,color:Array.from(T),opacity:E,quadPoints:b,boxes:null,pageIndex:z-1,rect:x.slice(0),rotation:S,annotationElementId:A,id:A,deleted:!1,popupRef:k,richText:D,comment:M?.str||null,creationDate:R,modificationDate:N}}else if(e instanceof EP){const{data:{inkLists:b,rect:x,rotation:S,id:A,color:T,borderStyle:{rawWidth:E},popupRef:k,richText:D,contentsObj:M,creationDate:R,modificationDate:N},parent:{page:{pageNumber:z}}}=e;i=e={annotationType:Ut.HIGHLIGHT,color:Array.from(T),thickness:E,inkLists:b,boxes:null,pageIndex:z-1,rect:x.slice(0),rotation:S,annotationElementId:A,id:A,deleted:!1,popupRef:k,richText:D,comment:M?.str||null,creationDate:R,modificationDate:N}}const{color:a,quadPoints:o,inkLists:s,opacity:c}=e,d=await super.deserialize(e,n,r);d.color=gt.makeHexColor(...a),d.opacity=c||1,s&&(d.#p=e.thickness),d._initialData=i,e.comment&&d.setCommentData(e);const[f,h]=d.pageDimensions,[m,v]=d.pageTranslation;if(o){const b=d.#r=[];for(let x=0;x<o.length;x+=8)b.push({x:(o[x]-m)/f,y:1-(o[x+1]-v)/h,width:(o[x+2]-o[x])/f,height:(o[x+1]-o[x+5])/h});d.#b(),d.#x(),d.rotate(d.rotation)}else if(s){d.#d=!0;const b=s[0],x={x:b[0]-m,y:h-(b[1]-v)},S=new hE(x,[0,0,f,h],1,d.#p/2,!0,.001);for(let E=0,k=b.length;E<k;E+=2)x.x=b[E]-m,x.y=h-(b[E+1]-v),S.add(x);const{id:A,clipPathId:T}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:S.toSVGPath()}},!0,!0);d.#y({highlightOutlines:S.getOutlines(),highlightId:A,clipPathId:T}),d.#x(),d.rotate(d.parentRotation)}return d}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=kt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(e);return Object.assign(r,{color:n,opacity:this.opacity,thickness:this.#p,quadPoints:this.#I(),outlines:this.#M(r.rect)}),this.addComment(r),this.annotationElementId&&!this.#L(r)?null:(r.id=this.annotationElementId,r)}#L(e){const{color:n}=this._initialData;return this.hasEditedComment||e.color.some((r,i)=>r!==n[i])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class T6{#e=Object.create(null);updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){this.#e[e]=n}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Gn("Not implemented")}}class An extends kt{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#r=null;static#n=null;static#o=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#a(e),this.#c())}#a({drawOutlines:e,drawId:n,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=this.#i(e,this.parent),this.#d(e.box)}#i(e,n){const{id:r}=n.drawLayer.draw(An._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,n){const r=new Set(Object.keys(e));for(const[i,a]of Object.entries(n))r.has(i)?Object.assign(e[i],a):e[i]=a;return e}static getDefaultDrawingOptions(e){Gn("Not implemented")}static get typesMap(){Gn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(An.#r.updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)e.push([r,n[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[r,i]of this.constructor.typesMap)e.push([r,n[i]]);return e}_updateProperty(e,n,r){const i=this._drawingOptions,a=i[n],o=s=>{i.updateProperty(n,s);const c=this.#e.updateProperty(n,s);c&&this.#d(c),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,An._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#f()),{bbox:this.#h()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,An._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#f()),{bbox:this.#h()}))}_onTranslating(e,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#h()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,An._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#f(),this.parentDimensions),{bbox:this.#h()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#s(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#s()):e&&(this._uiManager.addShouldRescale(this),this.#c(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),n&&this.select()}#s(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#i(this.#e,e)}}#l([e,n,r,i]){const{parentDimensions:[a,o],rotation:s}=this;switch(s){case 90:return[n,1-e,r*(o/a),i*(a/o)];case 180:return[1-e,1-n,r,i];case 270:return[1-n,e,r*(o/a),i*(a/o)];default:return[e,n,r,i]}}#f(){const{x:e,y:n,width:r,height:i,parentDimensions:[a,o],rotation:s}=this;switch(s){case 90:return[1-n,e,r*(a/o),i*(o/a)];case 180:return[1-e,1-n,r,i];case 270:return[n,1-e,r*(a/o),i*(o/a)];default:return[e,n,r,i]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#h(){const{x:e,y:n,width:r,height:i,rotation:a,parentRotation:o,parentDimensions:[s,c]}=this;switch((a*4+o)/90){case 1:return[1-n-i,e,i,r];case 2:return[1-e-r,1-n-i,r,i];case 3:return[n,1-e-r,i,r];case 4:return[e,n-r*(s/c),i*(c/s),r*(s/c)];case 5:return[1-n,e,r*(s/c),i*(c/s)];case 6:return[1-e-i*(c/s),1-n,i*(c/s),r*(s/c)];case 7:return[n-r*(s/c),1-e-i*(c/s),r*(s/c),i*(c/s)];case 8:return[e-r,n-i,r,i];case 9:return[1-n,e-r,i,r];case 10:return[1-e,1-n,r,i];case 11:return[n-i,1-e,i,r];case 12:return[e-i*(c/s),n,i*(c/s),r*(s/c)];case 13:return[1-n-r*(s/c),e-i*(c/s),r*(s/c),i*(c/s)];case 14:return[1-e,1-n-r*(s/c),i*(c/s),r*(s/c)];case 15:return[n,1-e,r*(s/c),i*(c/s)];default:return[e,n,r,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,An._mergeSVGProperties({bbox:this.#h()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,n;this._isCopy&&(e=this.x,n=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");return r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,n),r}static createDrawerInstance(e,n,r,i,a){Gn("Not implemented")}static startDrawing(e,n,r,i){const{target:a,offsetX:o,offsetY:s,pointerId:c,pointerType:d}=i;if(Cn.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:f}}=e,{width:h,height:m}=a.getBoundingClientRect(),v=An.#n=new AbortController,b=e.combinedSignal(v);if(Cn.setPointer(d,c),window.addEventListener("pointerup",x=>{Cn.isSamePointerIdOrRemove(x.pointerId)&&this._endDraw(x)},{signal:b}),window.addEventListener("pointercancel",x=>{Cn.isSamePointerIdOrRemove(x.pointerId)&&this._currentParent.endDrawingSession()},{signal:b}),window.addEventListener("pointerdown",x=>{Cn.isSamePointerType(x.pointerType)&&(Cn.initializeAndAddPointerId(x.pointerId),An.#r.isCancellable()&&(An.#r.removeLastElement(),An.#r.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Co,{signal:b}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),a.addEventListener("touchmove",x=>{Cn.isSameTimeStamp(x.timeStamp)&&wr(x)},{signal:b}),e.toggleDrawing(),n._editorUndoBar?.hide(),An.#r){e.drawLayer.updateProperties(this._currentDrawId,An.#r.startNew(o,s,h,m,f));return}n.updateUIForDefaultProperties(this),An.#r=this.createDrawerInstance(o,s,h,m,f),An.#o=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(An.#o.toSVGProperties(),An.#r.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Cn.isSameTimeStamp(e.timeStamp),!An.#r)return;const{offsetX:n,offsetY:r,pointerId:i}=e;if(Cn.isSamePointerId(i)){if(Cn.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,An.#r.add(n,r)),Cn.setTimeStamp(e.timeStamp),wr(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,An.#r=null,An.#o=null,Cn.clearTimeStamp()),An.#n&&(An.#n.abort(),An.#n=null,Cn.clearPointerIds())}static _endDraw(e){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),e?.target===n.div&&n.drawLayer.updateProperties(this._currentDrawId,An.#r.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=An.#r,i=this._currentDrawId,a=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,r.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:ln.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(ln.DRAW_STEP),!An.#r.isEmpty()){const{pageDimensions:[r,i],scale:a}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:An.#r.getOutlines(r*a,i*a,a,this._INNER_MARGIN),drawingOptions:An.#o,mustBeCommitted:!e});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,r,i,a,o){Gn("Not implemented")}static async deserialize(e,n,r){const{rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:s}}=n.viewport,c=this.deserializeDraw(o,s,i,a,this._INNER_MARGIN,e),d=await super.deserialize(e,n,r);return d.createDrawingOptions(e),d.#a({drawOutlines:c}),d.#c(),d.onScaleChanging(),d.rotate(),d}serializeDraw(e){const[n,r]=this.pageTranslation,[i,a]=this.pageDimensions;return this.#e.serialize([n,r,i,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class pse{#e=new Float64Array(6);#t;#r;#n;#o;#a;#i="";#s=0;#c=new Cg;#l;#f;constructor(e,n,r,i,a,o){this.#l=r,this.#f=i,this.#n=a,this.#o=o,[e,n]=this.#d(e,n);const s=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#a=[e,n],this.#r=[{line:s,points:this.#a}],this.#e.set(s,0)}updateProperty(e,n){e==="stroke-width"&&(this.#o=n)}#d(e,n){return yt._normalizePoint(e,n,this.#l,this.#f,this.#n)}isEmpty(){return!this.#r||this.#r.length===0}isCancellable(){return this.#a.length<=10}add(e,n){[e,n]=this.#d(e,n);const[r,i,a,o]=this.#e.subarray(2,6),s=e-a,c=n-o;return Math.hypot(this.#l*s,this.#f*c)<=2?null:(this.#a.push(e,n),isNaN(r)?(this.#e.set([a,o,e,n],2),this.#t.push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([r,i,a,o,e,n],0),this.#t.push(...yt.createBezierPoints(r,i,a,o,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,a){this.#l=r,this.#f=i,this.#n=a,[e,n]=this.#d(e,n);const o=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#a=[e,n];const s=this.#r.at(-1);return s&&(s.line=new Float32Array(s.line),s.points=new Float32Array(s.points)),this.#r.push({line:o,points:this.#a}),this.#e.set(o,0),this.#s=0,this.toSVGPath(),null}getLastElement(){return this.#r.at(-1)}setLastElement(e){return this.#r?(this.#r.push(e),this.#t=e.line,this.#a=e.points,this.#s=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#r)return this.#c.removeLastElement();this.#r.pop(),this.#i="";for(let e=0,n=this.#r.length;e<n;e++){const{line:r,points:i}=this.#r[e];this.#t=r,this.#a=i,this.#s=0,this.toSVGPath()}return{path:{d:this.#i}}}toSVGPath(){const e=yt.svgRound(this.#t[4]),n=yt.svgRound(this.#t[5]);if(this.#a.length===2)return this.#i=`${this.#i} M ${e} ${n} Z`,this.#i;if(this.#a.length<=6){const i=this.#i.lastIndexOf("M");this.#i=`${this.#i.slice(0,i)} M ${e} ${n}`,this.#s=6}if(this.#a.length===4){const i=yt.svgRound(this.#t[10]),a=yt.svgRound(this.#t[11]);return this.#i=`${this.#i} L ${i} ${a}`,this.#s=12,this.#i}const r=[];this.#s===0&&(r.push(`M ${e} ${n}`),this.#s=6);for(let i=this.#s,a=this.#t.length;i<a;i+=6){const[o,s,c,d,f,h]=this.#t.slice(i,i+6).map(yt.svgRound);r.push(`C${o} ${s} ${c} ${d} ${f} ${h}`)}return this.#i+=r.join(" "),this.#s=this.#t.length,this.#i}getOutlines(e,n,r,i){const a=this.#r.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#c.build(this.#r,e,n,r,this.#n,this.#o,i),this.#e=null,this.#t=null,this.#r=null,this.#i=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Cg extends yt{#e;#t=0;#r;#n;#o;#a;#i;#s;#c;build(e,n,r,i,a,o,s){this.#o=n,this.#a=r,this.#i=i,this.#s=a,this.#c=o,this.#r=s??0,this.#n=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of this.#n){if(e.push(`M${yt.svgRound(n[4])} ${yt.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12&&isNaN(n[6])){e.push(`L${yt.svgRound(n[10])} ${yt.svgRound(n[11])}`);continue}for(let r=6,i=n.length;r<i;r+=6){const[a,o,s,c,d,f]=n.subarray(r,r+6).map(yt.svgRound);e.push(`C${a} ${o} ${s} ${c} ${d} ${f}`)}}return e.join("")}serialize([e,n,r,i],a){const o=[],s=[],[c,d,f,h]=this.#f();let m,v,b,x,S,A,T,E,k;switch(this.#s){case 0:k=yt._rescale,m=e,v=n+i,b=r,x=-i,S=e+c*r,A=n+(1-d-h)*i,T=e+(c+f)*r,E=n+(1-d)*i;break;case 90:k=yt._rescaleAndSwap,m=e,v=n,b=r,x=i,S=e+d*r,A=n+c*i,T=e+(d+h)*r,E=n+(c+f)*i;break;case 180:k=yt._rescale,m=e+r,v=n,b=-r,x=i,S=e+(1-c-f)*r,A=n+d*i,T=e+(1-c)*r,E=n+(d+h)*i;break;case 270:k=yt._rescaleAndSwap,m=e+r,v=n+i,b=-r,x=-i,S=e+(1-d-h)*r,A=n+(1-c-f)*i,T=e+(1-d)*r,E=n+(1-c)*i;break}for(const{line:D,points:M}of this.#n)o.push(k(D,m,v,b,x,a?new Array(D.length):null)),s.push(k(M,m,v,b,x,a?new Array(M.length):null));return{lines:o,points:s,rect:[S,A,T,E]}}static deserialize(e,n,r,i,a,{paths:{lines:o,points:s},rotation:c,thickness:d}){const f=[];let h,m,v,b,x;switch(c){case 0:x=yt._rescale,h=-e/r,m=n/i+1,v=1/r,b=-1/i;break;case 90:x=yt._rescaleAndSwap,h=-n/i,m=-e/r,v=1/i,b=1/r;break;case 180:x=yt._rescale,h=e/r+1,m=-n/i,v=-1/r,b=1/i;break;case 270:x=yt._rescaleAndSwap,h=n/i+1,m=e/r+1,v=-1/i,b=-1/r;break}if(!o){o=[];for(const A of s){const T=A.length;if(T===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1]]));continue}if(T===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1],NaN,NaN,NaN,NaN,A[2],A[3]]));continue}const E=new Float32Array(3*(T-2));o.push(E);let[k,D,M,R]=A.subarray(0,4);E.set([NaN,NaN,NaN,NaN,k,D],0);for(let N=4;N<T;N+=2){const z=A[N],q=A[N+1];E.set(yt.createBezierPoints(k,D,M,R,z,q),(N-2)*3),[k,D,M,R]=[M,R,z,q]}}}for(let A=0,T=o.length;A<T;A++)f.push({line:x(o[A].map(E=>E??NaN),h,m,v,b),points:x(s[A].map(E=>E??NaN),h,m,v,b)});const S=new this.prototype.constructor;return S.build(f,r,i,1,c,d,a),S}#l(e=this.#c){const n=this.#r+e/2*this.#i;return this.#s%180===0?[n/this.#o,n/this.#a]:[n/this.#a,n/this.#o]}#f(){const[e,n,r,i]=this.#e,[a,o]=this.#l(0);return[e+a,n+o,r-2*a,i-2*o]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#n){if(i.length<=12){for(let s=4,c=i.length;s<c;s+=6)gt.pointBoundingBox(i[s],i[s+1],e);continue}let a=i[4],o=i[5];for(let s=6,c=i.length;s<c;s+=6){const[d,f,h,m,v,b]=i.subarray(s,s+6);gt.bezierBoundingBox(a,o,d,f,h,m,v,b,e),a=v,o=b}}const[n,r]=this.#l();e[0]=ia(e[0]-n,0,1),e[1]=ia(e[1]-r,0,1),e[2]=ia(e[2]+n,0,1),e[3]=ia(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,n){return e==="stroke-width"?this.#h(n):null}#h(e){const[n,r]=this.#l();this.#c=e;const[i,a]=this.#l(),[o,s]=[i-n,a-r],c=this.#e;return c[0]-=o,c[1]-=s,c[2]+=2*o,c[3]+=2*s,c}updateParentDimensions([e,n],r){const[i,a]=this.#l();this.#o=e,this.#a=n,this.#i=r;const[o,s]=this.#l(),c=o-i,d=s-a,f=this.#e;return f[0]-=c,f[1]-=d,f[2]+=2*c,f[3]+=2*d,f}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(yt.svgRound).join(" ")}get defaultProperties(){const[e,n]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${yt.svgRound(e)} ${yt.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=this.#e;let r=0,i=0,a=0,o=0,s=0,c=0;switch(this.#t){case 90:i=n/e,a=-e/n,s=e;break;case 180:r=-1,o=-1,s=e,c=n;break;case 270:i=-n/e,a=e/n,c=n;break;default:return""}return`matrix(${r} ${i} ${a} ${o} ${yt.svgRound(s)} ${yt.svgRound(c)})`}getPathResizingSVGProperties([e,n,r,i]){const[a,o]=this.#l(),[s,c,d,f]=this.#e;if(Math.abs(d-a)<=yt.PRECISION||Math.abs(f-o)<=yt.PRECISION){const x=e+r/2-(s+d/2),S=n+i/2-(c+f/2);return{path:{"transform-origin":`${yt.svgRound(e)} ${yt.svgRound(n)}`,transform:`${this.rotationTransform} translate(${x} ${S})`}}}const h=(r-2*a)/(d-2*a),m=(i-2*o)/(f-2*o),v=d/r,b=f/i;return{path:{"transform-origin":`${yt.svgRound(s)} ${yt.svgRound(c)}`,transform:`${this.rotationTransform} scale(${v} ${b}) translate(${yt.svgRound(a)} ${yt.svgRound(o)}) scale(${h} ${m}) translate(${yt.svgRound(-a)} ${yt.svgRound(-o)})`}}}getPathResizedSVGProperties([e,n,r,i]){const[a,o]=this.#l(),s=this.#e,[c,d,f,h]=s;if(s[0]=e,s[1]=n,s[2]=r,s[3]=i,Math.abs(f-a)<=yt.PRECISION||Math.abs(h-o)<=yt.PRECISION){const S=e+r/2-(c+f/2),A=n+i/2-(d+h/2);for(const{line:T,points:E}of this.#n)yt._translate(T,S,A,T),yt._translate(E,S,A,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${yt.svgRound(e)} ${yt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(r-2*a)/(f-2*a),v=(i-2*o)/(h-2*o),b=-m*(c+a)+e+a,x=-v*(d+o)+n+o;if(m!==1||v!==1||b!==0||x!==0)for(const{line:S,points:A}of this.#n)yt._rescale(S,b,x,m,v,S),yt._rescale(A,b,x,m,v,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${yt.svgRound(e)} ${yt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],r){const[i,a]=r,o=this.#e,s=e-o[0],c=n-o[1];if(this.#o===i&&this.#a===a)for(const{line:d,points:f}of this.#n)yt._translate(d,s,c,d),yt._translate(f,s,c,f);else{const d=this.#o/i,f=this.#a/a;this.#o=i,this.#a=a;for(const{line:h,points:m}of this.#n)yt._rescale(h,s,c,d,f,h),yt._rescale(m,s,c,d,f,m);o[2]*=d,o[3]*=f}return o[0]=e,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${yt.svgRound(e)} ${yt.svgRound(n)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${yt.svgRound(e[0])} ${yt.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class Mx extends T6{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:kt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??=this["stroke-width"],n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new Mx(this._viewParameters);return e.updateAll(this),e}}class kP extends An{static _type="ink";static _editorType=Ut.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,n){kt.initialize(e,n),this._defaultDrawingOptions=new Mx(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ft(this,"typesMap",new Map([[ln.INK_THICKNESS,"stroke-width"],[ln.INK_COLOR,"stroke"],[ln.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,r,i,a){return new pse(e,n,r,i,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,r,i,a,o){return Cg.deserialize(e,n,r,i,a,o)}static async deserialize(e,n,r){let i=null;if(e instanceof EP){const{data:{inkLists:o,rect:s,rotation:c,id:d,color:f,opacity:h,borderStyle:{rawWidth:m},popupRef:v,richText:b,contentsObj:x,creationDate:S,modificationDate:A},parent:{page:{pageNumber:T}}}=e;i=e={annotationType:Ut.INK,color:Array.from(f),thickness:m,opacity:h,paths:{points:o},boxes:null,pageIndex:T-1,rect:s.slice(0),rotation:c,annotationElementId:d,id:d,deleted:!1,popupRef:v,richText:b,comment:x?.str||null,creationDate:S,modificationDate:A}}const a=await super.deserialize(e,n,r);return a._initialData=i,e.comment&&a.setCommentData(e),a}get toolbarButtons(){return this._colorPicker||=new Um(this),[["colorPicker",this._colorPicker]]}get colorType(){return ln.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:r}){this._drawingOptions=kP.getDefaultDrawingOptions({stroke:gt.makeHexColor(...e),"stroke-width":n,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":a,"stroke-width":o}}=this,s=Object.assign(super.serialize(e),{color:kt._colorManager.convert(i),opacity:a,thickness:o,paths:{lines:n,points:r}});return this.addComment(s),e?(s.isCopy=!0,s):this.annotationElementId&&!this.#e(s)?null:(s.id=this.annotationElementId,s)}#e(e){const{color:n,thickness:r,opacity:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((o,s)=>o!==n[s])||e.thickness!==r||e.opacity!==i||e.pageIndex!==a}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:n,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}}class pE extends Cg{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Sy=8,rm=3;class $f{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i}static#r=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,n,r,i,a,o,s){const c=this.#t(r,i,a,o);for(let d=0;d<8;d++){const f=(-d+c-s+16)%8,h=this.#r[2*f],m=this.#r[2*f+1];if(e[(r+h)*n+(i+m)]!==0)return f}return-1}static#o(e,n,r,i,a,o,s){const c=this.#t(r,i,a,o);for(let d=0;d<8;d++){const f=(d+c+s+16)%8,h=this.#r[2*f],m=this.#r[2*f+1];if(e[(r+h)*n+(i+m)]!==0)return f}return-1}static#a(e,n,r,i){const a=e.length,o=new Int32Array(a);for(let f=0;f<a;f++)o[f]=e[f]<=i?1:0;for(let f=1;f<r-1;f++)o[f*n]=o[f*n+n-1]=0;for(let f=0;f<n;f++)o[f]=o[n*r-1-f]=0;let s=1,c;const d=[];for(let f=1;f<r-1;f++){c=1;for(let h=1;h<n-1;h++){const m=f*n+h,v=o[m];if(v===0)continue;let b=f,x=h;if(v===1&&o[m-1]===0)s+=1,x-=1;else if(v>=1&&o[m+1]===0)s+=1,x+=1,v>1&&(c=v);else{v!==1&&(c=Math.abs(v));continue}const S=[h,f],A=x===h+1,T={isHole:A,points:S,id:s,parent:0};d.push(T);let E;for(const Y of d)if(Y.id===c){E=Y;break}E?E.isHole?T.parent=A?E.parent:c:T.parent=A?c:E.parent:T.parent=A?c:0;const k=this.#n(o,n,f,h,b,x,0);if(k===-1){o[m]=-s,o[m]!==1&&(c=Math.abs(o[m]));continue}let D=this.#r[2*k],M=this.#r[2*k+1];const R=f+D,N=h+M;b=R,x=N;let z=f,q=h;for(;;){const Y=this.#o(o,n,z,q,b,x,1);D=this.#r[2*Y],M=this.#r[2*Y+1];const K=z+D,te=q+M;S.push(te,K);const W=z*n+q;if(o[W+1]===0?o[W]=-s:o[W]===1&&(o[W]=s),K===f&&te===h&&z===R&&q===N){o[m]!==1&&(c=Math.abs(o[m]));break}else b=z,x=q,z=K,q=te}}}return d}static#i(e,n,r,i){if(r-n<=4){for(let R=n;R<r-2;R+=2)i.push(e[R],e[R+1]);return}const a=e[n],o=e[n+1],s=e[r-4]-a,c=e[r-3]-o,d=Math.hypot(s,c),f=s/d,h=c/d,m=f*o-h*a,v=c/s,b=1/d,x=Math.atan(v),S=Math.cos(x),A=Math.sin(x),T=b*(Math.abs(S)+Math.abs(A)),E=b*(1-T+T**2),k=Math.max(Math.atan(Math.abs(A+S)*E),Math.atan(Math.abs(A-S)*E));let D=0,M=n;for(let R=n+2;R<r-2;R+=2){const N=Math.abs(m-f*e[R+1]+h*e[R]);N>D&&(M=R,D=N)}D>(d*k)**2?(this.#i(e,n,M+2,i),this.#i(e,M,r,i)):i.push(a,o)}static#s(e){const n=[],r=e.length;return this.#i(e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n}static#c(e,n,r,i,a,o){const s=new Float32Array(o**2),c=-2*i**2,d=o>>1;for(let x=0;x<o;x++){const S=(x-d)**2;for(let A=0;A<o;A++)s[x*o+A]=Math.exp((S+(A-d)**2)/c)}const f=new Float32Array(256),h=-2*a**2;for(let x=0;x<256;x++)f[x]=Math.exp(x**2/h);const m=e.length,v=new Uint8Array(m),b=new Uint32Array(256);for(let x=0;x<r;x++)for(let S=0;S<n;S++){const A=x*n+S,T=e[A];let E=0,k=0;for(let M=0;M<o;M++){const R=x+M-d;if(!(R<0||R>=r))for(let N=0;N<o;N++){const z=S+N-d;if(z<0||z>=n)continue;const q=e[R*n+z],Y=s[M*o+N]*f[Math.abs(q-T)];E+=q*Y,k+=Y}}const D=v[A]=Math.round(E/k);b[D]++}return[v,b]}static#l(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n}static#f(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,a=1/0;for(let s=0,c=r.length;s<c;s++){const d=r[s]=e[s<<2];i=Math.max(i,d),a=Math.min(a,d)}const o=255/(i-a);for(let s=0,c=r.length;s<c;s++)r[s]=(r[s]-a)*o;return r}static#d(e){let n,r=-1/0,i=-1/0;const a=e.findIndex(c=>c!==0);let o=a,s=a;for(n=a;n<256;n++){const c=e[n];c>r&&(n-o>i&&(i=n-o,s=n-1),r=c,o=n)}for(n=s-1;n>=0&&!(e[n]>e[n+1]);n--);return n}static#h(e){const n=e,{width:r,height:i}=e,{maxDim:a}=this.#e;let o=r,s=i;if(r>a||i>a){let m=r,v=i,b=Math.log2(Math.max(r,i)/a);const x=Math.floor(b);b=b===x?x-1:x;for(let A=0;A<b;A++){o=Math.ceil(m/2),s=Math.ceil(v/2);const T=new OffscreenCanvas(o,s);T.getContext("2d").drawImage(e,0,0,m,v,0,0,o,s),m=o,v=s,e!==n&&e.close(),e=T.transferToImageBitmap()}const S=Math.min(a/o,a/s);o=Math.round(o*S),s=Math.round(s*S)}const d=new OffscreenCanvas(o,s).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,o,s),d.filter="grayscale(1)",d.drawImage(e,0,0,e.width,e.height,0,0,o,s);const f=d.getImageData(0,0,o,s).data;return[this.#f(f),o,s]}static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},a,o,s,c){let d=new OffscreenCanvas(1,1),f=d.getContext("2d",{alpha:!1});const h=200,m=f.font=`${r} ${i} ${h}px ${n}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:b,actualBoundingBoxAscent:x,actualBoundingBoxDescent:S,fontBoundingBoxAscent:A,fontBoundingBoxDescent:T,width:E}=f.measureText(e),k=1.5,D=Math.ceil(Math.max(Math.abs(v)+Math.abs(b)||0,E)*k),M=Math.ceil(Math.max(Math.abs(x)+Math.abs(S)||h,Math.abs(A)+Math.abs(T)||h)*k);d=new OffscreenCanvas(D,M),f=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=m,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,D,M),f.fillStyle="black",f.fillText(e,D*(k-1)/2,M*(3-k)/2);const R=this.#f(f.getImageData(0,0,D,M).data),N=this.#l(R),z=this.#d(N),q=this.#a(R,D,M,z);return this.processDrawnLines({lines:{curves:q,width:D,height:M},pageWidth:a,pageHeight:o,rotation:s,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,a){const[o,s,c]=this.#h(e),[d,f]=this.#c(o,s,c,Math.hypot(s,c)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),h=this.#d(f),m=this.#a(d,s,c,h);return this.processDrawnLines({lines:{curves:m,width:s,height:c},pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:o,areContours:s}){i%180!==0&&([n,r]=[r,n]);const{curves:c,width:d,height:f}=e,h=e.thickness??0,m=[],v=Math.min(n/d,r/f),b=v/n,x=v/r,S=[];for(const{points:T}of c){const E=o?this.#s(T):T;if(!E)continue;S.push(E);const k=E.length,D=new Float32Array(k),M=new Float32Array(3*(k===2?2:k-2));if(m.push({line:M,points:D}),k===2){D[0]=E[0]*b,D[1]=E[1]*x,M.set([NaN,NaN,NaN,NaN,D[0],D[1]],0);continue}let[R,N,z,q]=E;R*=b,N*=x,z*=b,q*=x,D.set([R,N,z,q],0),M.set([NaN,NaN,NaN,NaN,R,N],0);for(let Y=4;Y<k;Y+=2){const K=D[Y]=E[Y]*b,te=D[Y+1]=E[Y+1]*x;M.set(yt.createBezierPoints(R,N,z,q,K,te),(Y-2)*3),[R,N,z,q]=[z,q,K,te]}}if(m.length===0)return null;const A=s?new pE:new Cg;return A.build(m,n,r,1,i,s?0:h,a),{outline:A,newCurves:S,areContours:s,thickness:h,width:d,height:f}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:a}){let o=1/0,s=-1/0,c=0;for(const E of e){c+=E.length;for(let k=2,D=E.length;k<D;k++){const M=E[k]-E[k-2];o=Math.min(o,M),s=Math.max(s,M)}}let d;o>=-128&&s<=127?d=Int8Array:o>=-32768&&s<=32767?d=Int16Array:d=Int32Array;const f=e.length,h=Sy+rm*f,m=new Uint32Array(h);let v=0;m[v++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*f)*d.BYTES_PER_ELEMENT,m[v++]=0,m[v++]=i,m[v++]=a,m[v++]=n?0:1,m[v++]=Math.max(0,Math.floor(r??0)),m[v++]=f,m[v++]=d.BYTES_PER_ELEMENT;for(const E of e)m[v++]=E.length-2,m[v++]=E[0],m[v++]=E[1];const b=new CompressionStream("deflate-raw"),x=b.writable.getWriter();await x.ready,x.write(m);const S=d.prototype.constructor;for(const E of e){const k=new S(E.length-2);for(let D=2,M=E.length;D<M;D++)k[D-2]=E[D]-E[D-2];x.write(k)}x.close();const A=await new Response(b.readable).arrayBuffer(),T=new Uint8Array(A);return QF(T)}static async decompressSignature(e){try{const n=Pae(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),a=i.getWriter();await a.ready,a.write(n).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let o=null,s=0;for await(const E of r)o||=new Uint8Array(new Uint32Array(E.buffer,0,4)[0]),o.set(E,s),s+=E.length;const c=new Uint32Array(o.buffer,0,o.length>>2),d=c[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const f=c[2],h=c[3],m=c[4]===0,v=c[5],b=c[6],x=c[7],S=[],A=(Sy+rm*b)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(x){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(o.buffer,A);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(o.buffer,A);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(o.buffer,A);break}s=0;for(let E=0;E<b;E++){const k=c[rm*E+Sy],D=new Float32Array(k+2);S.push(D);for(let M=0;M<rm-1;M++)D[M]=c[rm*E+Sy+M+1];for(let M=0;M<k;M++)D[M+2]=D[M]+T[s++]}return{areContours:m,thickness:v,outlines:S,width:f,height:h}}catch(n){return $t(`decompressSignature: ${n}`),null}}}class PP extends T6{constructor(){super(),super.updateProperties({fill:kt._defaultLineColor,"stroke-width":0})}clone(){const e=new PP;return e.updateAll(this),e}}class OP extends Mx{constructor(e){super(e),super.updateProperties({stroke:kt._defaultLineColor,"stroke-width":1})}clone(){const e=new OP(this._viewParameters);return e.updateAll(this),e}}class ys extends An{#e=!1;#t=null;#r=null;#n=null;static _type="signature";static _editorType=Ut.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#r=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,n){kt.initialize(e,n),this._defaultDrawingOptions=new PP,this._defaultDrawnSignatureOptions=new OP(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ft(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const n=e.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,n=this.y),super.render(),this._drawId===null)if(this.#r){const{lines:i,mustSmooth:a,areContours:o,description:s,uuid:c,heightInPage:d}=this.#r,{rawDims:{pageWidth:f,pageHeight:h},rotation:m}=this.parent.viewport,v=$f.processDrawnLines({lines:i,pageWidth:f,pageHeight:h,rotation:m,innerMargin:ys._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(v,d,s,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(e,n)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(n=>{n?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:n,thickness:r,width:i,height:a}=this.#r,o=Math.max(i,a),s=$f.processDrawnLines({lines:{curves:e.map(c=>({points:c})),thickness:r,width:i,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:s.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,n,r,i){const{x:a,y:o}=this,{outline:s}=this.#r=e;this.#e=s instanceof pE,this.description=r;let c;this.#e?c=ys.getDefaultDrawingOptions():(c=ys._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":s.thickness})),this._addOutlines({drawOutlines:s,drawingOptions:c});const[,d]=this.pageDimensions;let f=n/d;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return $f.process(e,n,r,i,ys._INNER_MARGIN)}getFromText(e,n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:a}=this.parent.viewport;return $f.extractContoursFromText(e,n,r,i,a,ys._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return $f.processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:ys._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:n}){e?this._drawingOptions=ys.getDefaultDrawingOptions():(this._drawingOptions=ys._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,a=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:i});return this.addComment(a),e?(a.paths={lines:n,points:r},a.uuid=this.#n,a.isCopy=!0):a.lines=n,this.#t&&(a.accessibilityData={type:"Figure",alt:this.#t}),a}static deserializeDraw(e,n,r,i,a,o){return o.areContours?pE.deserialize(e,n,r,i,a,o):Cg.deserialize(e,n,r,i,a,o)}static async deserialize(e,n,r){const i=await super.deserialize(e,n,r);return i.#e=e.areContours,i.description=e.accessibilityData?.alt||"",i.#n=e.uuid,i}}class mse extends kt{#e=null;#t=null;#r=null;#n=null;#o=null;#a="";#i=null;#s=!1;#c=null;#l=!1;#f=!1;static _type="stamp";static _editorType=Ut.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#o=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,n){kt.initialize(e,n)}static isHandlingMimeForPasting(e){return aE.includes(e)}static paste(e,n){n.pasteEditor({mode:Ut.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#d(e,n=!1){if(!e){this.remove();return}this.#e=e.bitmap,n||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#a=e.file.name),this.#m()}#h(){if(this.#r=null,this._uiManager.enableWaiting(!1),!!this.#i){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:o}=e||this.copyCanvas(null,null,!0).imageData,s=await r.guess({name:"altText",request:{data:i,width:a,height:o,channels:i.length/(a*o)}});if(!s)throw new Error("No response from the AI service.");if(s.error)throw new Error("Error from the AI service.");if(s.cancel)return null;if(!s.output)throw new Error("No valid response from the AI service.");const c=s.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#d(r,!0)).finally(()=>this.#h());return}if(this.#n){const r=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#d(i)).finally(()=>this.#h());return}if(this.#o){const r=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(r).then(i=>this.#d(i)).finally(()=>this.#h());return}const e=document.createElement("input");e.type="file",e.accept=aE.join(",");const n=this._uiManager._signal;this.#r=new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(i)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#i?.remove(),this.#i=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#i===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#n||this.#o||this.#t||this.#s)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;return this._isCopy&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#s||(this.#e?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(e,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,n){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(this.#t=r,i&&(this.#e=i),this.#s=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},e)}#m(){const{div:e}=this;let{width:n,height:r}=this.#e;const[i,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*i,r=this.height*a;else if(n>o*i||r>o*a){const c=Math.min(o*i/n,o*a/r);n*=c,r*=c}this._uiManager.enableWaiting(!1);const s=this.#i=document.createElement("canvas");s.setAttribute("role","img"),this.addContainer(s),this.width=n/i,this.height=r/a,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#p(),this.#f||(this.parent.addUndoableEditor(this),this.#f=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,n,r=!1){e||(e=224);const{width:i,height:a}=this.#e,o=new Ms;let s=this.#e,c=i,d=a,f=null;if(n){if(i>n||a>n){const M=Math.min(n/i,n/a);c=Math.floor(i*M),d=Math.floor(a*M)}f=document.createElement("canvas");const m=f.width=Math.ceil(c*o.sx),v=f.height=Math.ceil(d*o.sy);this.#l||(s=this.#u(m,v));const b=f.getContext("2d");b.filter=this._uiManager.hcmFilter;let x="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":Lae.isDarkMode&&(x="#8f8f9d",S="#42414d");const A=15,T=A*o.sx,E=A*o.sy,k=new OffscreenCanvas(T*2,E*2),D=k.getContext("2d");D.fillStyle=x,D.fillRect(0,0,T*2,E*2),D.fillStyle=S,D.fillRect(0,0,T,E),D.fillRect(T,E,T,E),b.fillStyle=b.createPattern(k,"repeat"),b.fillRect(0,0,m,v),b.drawImage(s,0,0,s.width,s.height,0,0,m,v)}let h=null;if(r){let m,v;if(o.symmetric&&s.width<e&&s.height<e)m=s.width,v=s.height;else if(s=this.#e,i>e||a>e){const S=Math.min(e/i,e/a);m=Math.floor(i*S),v=Math.floor(a*S),this.#l||(s=this.#u(m,v))}const x=new OffscreenCanvas(m,v).getContext("2d",{willReadFrequently:!0});x.drawImage(s,0,0,s.width,s.height,0,0,m,v),h={width:m,height:v,data:x.getImageData(0,0,m,v).data}}return{canvas:f,width:c,height:d,imageData:h}}#u(e,n){const{width:r,height:i}=this.#e;let a=r,o=i,s=this.#e;for(;a>2*e||o>2*n;){const c=a,d=o;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(a,o);f.getContext("2d").drawImage(s,0,0,c,d,0,0,a,o),s=f.transferToImageBitmap()}return s}#p(){const[e,n]=this.parentDimensions,{width:r,height:i}=this,a=new Ms,o=Math.ceil(r*e*a.sx),s=Math.ceil(i*n*a.sy),c=this.#i;if(!c||c.width===o&&c.height===s)return;c.width=o,c.height=s;const d=this.#l?this.#e:this.#u(o,s),f=c.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(d,0,0,d.width,d.height,0,0,o,s)}#v(e){if(e){if(this.#l){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#e,n.getContext("2d").drawImage(this.#e,0,0),n.toDataURL()}if(this.#l){const[n,r]=this.pageDimensions,i=Math.round(this.width*n*gh.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*gh.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(i,a);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,a),o.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,n,r){let i=null,a=!1;if(e instanceof _6){const{data:{rect:x,rotation:S,id:A,structParent:T,popupRef:E,richText:k,contentsObj:D,creationDate:M,modificationDate:R},container:N,parent:{page:{pageNumber:z}},canvas:q}=e;let Y,K;q?(delete e.canvas,{id:Y,bitmap:K}=r.imageManager.getFromCanvas(N.id,q),q.remove()):(a=!0,e._hasNoCanvas=!0);const te=(await n._structTree.getAriaAttributes(`${Uf}${A}`))?.get("aria-label")||"";i=e={annotationType:Ut.STAMP,bitmapId:Y,bitmap:K,pageIndex:z-1,rect:x.slice(0),rotation:S,annotationElementId:A,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:te},isSvg:!1,structParent:T,popupRef:E,richText:k,comment:D?.str||null,creationDate:M,modificationDate:R}}const o=await super.deserialize(e,n,r),{rect:s,bitmap:c,bitmapUrl:d,bitmapId:f,isSvg:h,accessibilityData:m}=e;a?(r.addMissingCanvas(e.id,o),o.#s=!0):f&&r.imageManager.isValidId(f)?(o.#t=f,c&&(o.#e=c)):o.#n=d,o.#l=h;const[v,b]=o.pageDimensions;return o.width=(s[2]-s[0])/v,o.height=(s[3]-s[1])/b,m&&(o.altTextData=m),o._initialData=i,e.comment&&o.setCommentData(e),o.#f=!!i,o}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(r),e)return r.bitmapUrl=this.#v(!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const s=this.#b(r);return s.isSame?null:(s.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(n===null)return r;n.stamps||=new Map;const o=this.#l?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(this.#t))n.stamps.set(this.#t,{area:o,serialized:r}),r.bitmap=this.#v(!1);else if(this.#l){const s=n.stamps.get(this.#t);o>s.area&&(s.area=o,s.serialized.bitmap.close(),s.serialized.bitmap=this.#v(!1))}return r}#b(e){const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===n,a=(e.accessibilityData?.alt||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&a,isSameAltText:a}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class gl{#e;#t=!1;#r=null;#n=null;#o=null;#a=new Map;#i=!1;#s=!1;#c=!1;#l=null;#f=null;#d=null;#h=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([li,kP,mse,Er,ys].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:o,drawLayer:s,textLayer:c,viewport:d,l10n:f}){const h=[...gl.#p.values()];if(!gl._initialized){gl._initialized=!0;for(const m of h)m.initialize(f,e)}e.registerEditorTypes(h),this.#u=e,this.pageIndex=n,this.div=r,this.#e=a,this.#r=o,this.viewport=d,this.#d=c,this.drawLayer=s,this._structTree=i,this.#u.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Ut.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#w(),e){case Ut.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ut.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ut.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===Ut.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of gl.#p.values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#r?.togglePointerEvents(e)}get#v(){return this.#a.size!==0?this.#a.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const r of this.#v)r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#u.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const n=this.#r;if(n)for(const r of n.getEditableAnnotations()){if(r.hide(),this.#u.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#s=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const i=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",a=>{const{clientX:s,clientY:c,timeStamp:d}=a,f=this.#m;if(d-f>500){this.#m=d;return}this.#m=-1;const{classList:h}=this.div;h.toggle("getElements",!0);const m=document.elementsFromPoint(s,c);if(h.toggle("getElements",!1),!this.div.contains(m[0]))return;let v;const b=new RegExp(`^${Bm}[0-9]+$`);for(const S of m)if(b.test(S.id)){v=S.id;break}if(!v)return;const x=this.#a.get(v);x?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),x.dblclick(a))},{signal:i,capture:!0})}const e=this.#r,n=[];if(e){const i=new Map,a=new Map;for(const s of this.#v){if(s.disableEditing(),!s.annotationElementId){n.push(s);continue}if(s.serialize()!==null){i.set(s.annotationElementId,s);continue}else a.set(s.annotationElementId,s);this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()}const o=e.getEditableAnnotations();for(const s of o){const{id:c}=s.data;if(this.#u.isDeletedAnnotationElement(c)){s.updateEdited({deleted:!0});continue}let d=a.get(c);if(d){d.resetAnnotationElement(s),d.show(!1),s.show();continue}d=i.get(c),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(s)&&d.show(!1)),s.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of gl.#p.values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(n),this.#s=!1}getEditableAnnotation(e){return this.#r?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#h){this.#h=new AbortController;const e=this.#u.combinedSignal(this.#h);this.#d.div.addEventListener("pointerdown",this.#b.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#h&&(this.#h.abort(),this.#h=null,this.#d.div.classList.remove("highlighting"))}#b(e){this.#u.unselectAll();const{target:n}=e;if(n===this.#d.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#d.div.contains(n)){const{isMac:r}=Wr.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),Er.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#a.set(e.id,e);const{annotationElementId:n}=e;n&&this.#u.isDeletedAnnotationElement(n)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#a.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#s&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e),kt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!this.#o&&(e._focusEventsAllowed=!1,this.#o=setTimeout(()=>{this.#o=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),n.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of this.#a.values())if(n.uid===e)return n;return null}getNextId(){return this.#u.getId()}get#y(){return gl.#p.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#_(e){const n=this.#y;return n?new n.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:r,offsetY:i}=this.#A(),a=this.getNextId(),o=this.#_({parent:this,id:a,x:r,y:i,uiManager:this.#u,isCentered:!0,...n});o&&this.add(o)}async deserialize(e){return await gl.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),a=this.#_({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:n,...r});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}#A(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,a=Math.max(0,e),o=Math.max(0,n),s=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,n+i),d=(a+s)/2-e,f=(o+c)/2-n,[h,m]=this.viewport.rotation%180===0?[d,f]:[f,d];return{offsetX:h,offsetY:m}}addNewEditor(e={}){this.createAndAddNewEditor(this.#A(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:n}=Wr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!this.#i||(this.#i=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const r=this.#u.getMode();if(r===Ut.STAMP||r===Ut.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Ut.HIGHLIGHT&&this.enableTextSelection(),this.#i){this.#i=!1;return}const{isMac:n}=Wr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(this.#i=!0,this.#y?.isDrawer){this.startDrawingSession(e);return}const r=this.#u.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const n=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#f=null,this.commitOrRemove())},{signal:n}),this.#y.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&(this.#f=n);return}this.#f&&setTimeout(()=>{this.#f?.focus(),this.#f=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#f=null,this.#y.endDrawing(e)):null}findNewParent(e,n,r){const i=this.#u.findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#o&&(clearTimeout(this.#o),this.#o=null);for(const e of this.#a.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#a.clear(),this.#u.removeLayer(this)}#w(){for(const e of this.#a.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,pd(this.div,e);for(const n of this.#u.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#w();const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,pd(this.div,{rotation:r}),n!==r)for(const i of this.#a.values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return this.#u.viewParameters.realScale}}class Ci{#e=null;#t=new Map;#r=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const n of this.#t.values())n.remove(),e.append(n);this.#e=e}}static get _svgFactory(){return Ft(this,"_svgFactory",new Nb)}static#o(e,[n,r,i,a]){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*n}%`,o.width=`${100*i}%`,o.height=`${100*a}%`}#a(){const e=Ci._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#i(e,n){const r=Ci._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const a=Ci._svgFactory.createElement("use");return r.append(a),a.setAttribute("href",`#${n}`),a.classList.add("clip"),i}#s(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)}draw(e,n=!1,r=!1){const i=Ci.#n++,a=this.#a(),o=Ci._svgFactory.createElement("defs");a.append(o);const s=Ci._svgFactory.createElement("path");o.append(s);const c=`path_p${this.pageIndex}_${i}`;s.setAttribute("id",c),s.setAttribute("vector-effect","non-scaling-stroke"),n&&this.#r.set(i,s);const d=r?this.#i(o,c):null,f=Ci._svgFactory.createElement("use");return a.append(f),f.setAttribute("href",`#${c}`),this.updateProperties(a,e),this.#t.set(i,a),{id:i,clipPathId:`url(#${d})`}}drawOutline(e,n){const r=Ci.#n++,i=this.#a(),a=Ci._svgFactory.createElement("defs");i.append(a);const o=Ci._svgFactory.createElement("path");a.append(o);const s=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",s),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(n){const h=Ci._svgFactory.createElement("mask");a.append(h),c=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const m=Ci._svgFactory.createElement("rect");h.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const v=Ci._svgFactory.createElement("use");h.append(v),v.setAttribute("href",`#${s}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const d=Ci._svgFactory.createElement("use");i.append(d),d.setAttribute("href",`#${s}`),c&&d.setAttribute("mask",`url(#${c})`);const f=d.cloneNode();return i.append(f),d.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(r,i),r}finalizeDraw(e,n){this.#r.delete(e),this.updateProperties(e,n)}updateProperties(e,n){if(!n)return;const{root:r,bbox:i,rootClass:a,path:o}=n,s=typeof e=="number"?this.#t.get(e):e;if(s){if(r&&this.#s(s,r),i&&Ci.#o(s,i),a){const{classList:c}=s;for(const[d,f]of Object.entries(a))c.toggle(d,f)}if(o){const d=s.firstElementChild.firstElementChild;this.#s(d,o)}}}updateParent(e,n){if(n===this)return;const r=this.#t.get(e);r&&(n.#e.append(r),this.#t.delete(e),n.#t.set(e,r))}remove(e){this.#r.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#r.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:fE};globalThis.pdfjsLib={AbortException:qc,AnnotationEditorLayer:gl,AnnotationEditorParamsType:ln,AnnotationEditorType:Ut,AnnotationEditorUIManager:Gc,AnnotationLayer:TP,AnnotationMode:zc,AnnotationType:Nr,applyOpacity:Iae,build:qoe,ColorPicker:yo,createValidAbsoluteUrl:KF,CSSConstants:Nae,DOMSVGFactory:Nb,DrawLayer:Ci,FeatureTest:Wr,fetchData:bg,findContrastColor:zae,getDocument:v6,getFilenameFromUrl:Oae,getPdfFilenameFromUrl:Dae,getRGB:wg,getUuid:ZF,getXfaPageViewport:Rae,GlobalWorkerOptions:th,ImageKind:Qy,InvalidPDFException:rE,isDataScheme:Px,isPdfFile:vP,isValidExplicitDest:Wae,MathClamp:ia,noContextMenu:Co,normalizeUnicode:Tae,OPS:hd,OutputScale:Ms,PasswordResponses:yae,PDFDataRangeTransport:y6,PDFDateString:iE,PDFWorker:Fm,PermissionFlag:vae,PixelsPerInch:gh,RenderingCancelledException:gP,renderRichText:e6,ResponseException:jb,setLayerDimensions:pd,shadow:Ft,SignatureExtractor:$f,stopEvent:wr,SupportedImageMimeTypes:aE,TextLayer:$a,TouchManager:Ox,updateUrlHash:WF,Util:gt,VerbosityLevel:Ex,version:Voe,XfaLayer:JF};th.workerSrc=new URL("/HemoIO/assets/pdf.worker.min-LyOxJPrg.mjs",import.meta.url).toString();const VL=50,gse=.5;async function mE(t,e={}){const{onProgress:n,quickScan:r=!1,maxPages:i}=e,a=[];try{const o=t instanceof File?await t.arrayBuffer():t,c=await v6({data:o}).promise,d=c.numPages,f=i?Math.min(i,d):d,h=[];for(let T=1;T<=f;T++)try{const E=await c.getPage(T),M=(await E.getTextContent()).items.filter(z=>"str"in z&&typeof z.str=="string").map(z=>z.str).join(" ").trim(),N=(await E.getOperatorList()).fnArray.some(z=>z===hd.paintImageXObject||z===hd.paintImageMaskXObject);if(h.push({pageNumber:T,text:M,hasText:M.length>=VL,hasImages:N}),n&&n(T,d),r&&T>=3){const q=h.filter(Y=>Y.hasText).length/h.length;if(q>.8||q<.2)break}}catch(E){a.push(`Error extracting page ${T}: ${String(E)}`),h.push({pageNumber:T,text:"",hasText:!1,hasImages:!1})}const m=h.map(T=>T.text).join(`

`),v=h.filter(T=>T.hasText).length,b=h.filter(T=>T.hasImages).length,x=h.length>0?v/h.length:0,S=x<gse&&b>0&&m.length<d*VL,A=Math.min(1,x+(m.length>500?.2:0));return{totalPages:d,fullText:m,pages:h,isScanned:S,textConfidence:A,errors:a}}catch(o){throw new vse(`Failed to extract text from PDF: ${o instanceof Error?o.message:String(o)}`)}}class vse extends Error{constructor(e){super(e),this.name="PDFExtractionError"}}var bA={exports:{}},qL;function yse(){return qL||(qL=1,(function(t){var e=(function(n){var r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(V,G,$){V[G]=$.value},o,s=typeof Symbol=="function"?Symbol:{},c=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function h(V,G,$){return Object.defineProperty(V,G,{value:$,enumerable:!0,configurable:!0,writable:!0}),V[G]}try{h({},"")}catch{h=function(G,$,X){return G[$]=X}}function m(V,G,$,X){var ne=G&&G.prototype instanceof E?G:E,ae=Object.create(ne.prototype),oe=new L(X||[]);return a(ae,"_invoke",{value:K(V,$,oe)}),ae}n.wrap=m;function v(V,G,$){try{return{type:"normal",arg:V.call(G,$)}}catch(X){return{type:"throw",arg:X}}}var b="suspendedStart",x="suspendedYield",S="executing",A="completed",T={};function E(){}function k(){}function D(){}var M={};h(M,c,function(){return this});var R=Object.getPrototypeOf,N=R&&R(R(U([])));N&&N!==r&&i.call(N,c)&&(M=N);var z=D.prototype=E.prototype=Object.create(M);k.prototype=D,a(z,"constructor",{value:D,configurable:!0}),a(D,"constructor",{value:k,configurable:!0}),k.displayName=h(D,f,"GeneratorFunction");function q(V){["next","throw","return"].forEach(function(G){h(V,G,function($){return this._invoke(G,$)})})}n.isGeneratorFunction=function(V){var G=typeof V=="function"&&V.constructor;return G?G===k||(G.displayName||G.name)==="GeneratorFunction":!1},n.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,D):(V.__proto__=D,h(V,f,"GeneratorFunction")),V.prototype=Object.create(z),V},n.awrap=function(V){return{__await:V}};function Y(V,G){function $(ae,oe,xe,be){var ze=v(V[ae],V,oe);if(ze.type==="throw")be(ze.arg);else{var ie=ze.arg,se=ie.value;return se&&typeof se=="object"&&i.call(se,"__await")?G.resolve(se.__await).then(function(je){$("next",je,xe,be)},function(je){$("throw",je,xe,be)}):G.resolve(se).then(function(je){ie.value=je,xe(ie)},function(je){return $("throw",je,xe,be)})}}var X;function ne(ae,oe){function xe(){return new G(function(be,ze){$(ae,oe,be,ze)})}return X=X?X.then(xe,xe):xe()}a(this,"_invoke",{value:ne})}q(Y.prototype),h(Y.prototype,d,function(){return this}),n.AsyncIterator=Y,n.async=function(V,G,$,X,ne){ne===void 0&&(ne=Promise);var ae=new Y(m(V,G,$,X),ne);return n.isGeneratorFunction(G)?ae:ae.next().then(function(oe){return oe.done?oe.value:ae.next()})};function K(V,G,$){var X=b;return function(ae,oe){if(X===S)throw new Error("Generator is already running");if(X===A){if(ae==="throw")throw oe;return F()}for($.method=ae,$.arg=oe;;){var xe=$.delegate;if(xe){var be=te(xe,$);if(be){if(be===T)continue;return be}}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(X===b)throw X=A,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);X=S;var ze=v(V,G,$);if(ze.type==="normal"){if(X=$.done?A:x,ze.arg===T)continue;return{value:ze.arg,done:$.done}}else ze.type==="throw"&&(X=A,$.method="throw",$.arg=ze.arg)}}}function te(V,G){var $=G.method,X=V.iterator[$];if(X===o)return G.delegate=null,$==="throw"&&V.iterator.return&&(G.method="return",G.arg=o,te(V,G),G.method==="throw")||$!=="return"&&(G.method="throw",G.arg=new TypeError("The iterator does not provide a '"+$+"' method")),T;var ne=v(X,V.iterator,G.arg);if(ne.type==="throw")return G.method="throw",G.arg=ne.arg,G.delegate=null,T;var ae=ne.arg;if(!ae)return G.method="throw",G.arg=new TypeError("iterator result is not an object"),G.delegate=null,T;if(ae.done)G[V.resultName]=ae.value,G.next=V.nextLoc,G.method!=="return"&&(G.method="next",G.arg=o);else return ae;return G.delegate=null,T}q(z),h(z,f,"Generator"),h(z,c,function(){return this}),h(z,"toString",function(){return"[object Generator]"});function W(V){var G={tryLoc:V[0]};1 in V&&(G.catchLoc=V[1]),2 in V&&(G.finallyLoc=V[2],G.afterLoc=V[3]),this.tryEntries.push(G)}function J(V){var G=V.completion||{};G.type="normal",delete G.arg,V.completion=G}function L(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(W,this),this.reset(!0)}n.keys=function(V){var G=Object(V),$=[];for(var X in G)$.push(X);return $.reverse(),function ne(){for(;$.length;){var ae=$.pop();if(ae in G)return ne.value=ae,ne.done=!1,ne}return ne.done=!0,ne}};function U(V){if(V){var G=V[c];if(G)return G.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length)){var $=-1,X=function ne(){for(;++$<V.length;)if(i.call(V,$))return ne.value=V[$],ne.done=!1,ne;return ne.value=o,ne.done=!0,ne};return X.next=X}}return{next:F}}n.values=U;function F(){return{value:o,done:!0}}return L.prototype={constructor:L,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(J),!V)for(var G in this)G.charAt(0)==="t"&&i.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=o)},stop:function(){this.done=!0;var V=this.tryEntries[0],G=V.completion;if(G.type==="throw")throw G.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var G=this;function $(be,ze){return ae.type="throw",ae.arg=V,G.next=be,ze&&(G.method="next",G.arg=o),!!ze}for(var X=this.tryEntries.length-1;X>=0;--X){var ne=this.tryEntries[X],ae=ne.completion;if(ne.tryLoc==="root")return $("end");if(ne.tryLoc<=this.prev){var oe=i.call(ne,"catchLoc"),xe=i.call(ne,"finallyLoc");if(oe&&xe){if(this.prev<ne.catchLoc)return $(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return $(ne.finallyLoc)}else if(oe){if(this.prev<ne.catchLoc)return $(ne.catchLoc,!0)}else if(xe){if(this.prev<ne.finallyLoc)return $(ne.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(V,G){for(var $=this.tryEntries.length-1;$>=0;--$){var X=this.tryEntries[$];if(X.tryLoc<=this.prev&&i.call(X,"finallyLoc")&&this.prev<X.finallyLoc){var ne=X;break}}ne&&(V==="break"||V==="continue")&&ne.tryLoc<=G&&G<=ne.finallyLoc&&(ne=null);var ae=ne?ne.completion:{};return ae.type=V,ae.arg=G,ne?(this.method="next",this.next=ne.finallyLoc,T):this.complete(ae)},complete:function(V,G){if(V.type==="throw")throw V.arg;return V.type==="break"||V.type==="continue"?this.next=V.arg:V.type==="return"?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):V.type==="normal"&&G&&(this.next=G),T},finish:function(V){for(var G=this.tryEntries.length-1;G>=0;--G){var $=this.tryEntries[G];if($.finallyLoc===V)return this.complete($.completion,$.afterLoc),J($),T}},catch:function(V){for(var G=this.tryEntries.length-1;G>=0;--G){var $=this.tryEntries[G];if($.tryLoc===V){var X=$.completion;if(X.type==="throw"){var ne=X.arg;J($)}return ne}}throw new Error("illegal catch attempt")},delegateYield:function(V,G,$){return this.delegate={iterator:U(V),resultName:G,nextLoc:$},this.method==="next"&&(this.arg=o),T}},n})(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(bA)),bA.exports}var xA,GL;function DP(){return GL||(GL=1,xA=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`),xA}var wA,YL;function k6(){if(YL)return wA;YL=1;const t=DP();let e=0;return wA=({id:n,action:r,payload:i={}})=>{let a=n;return typeof a>"u"&&(a=t("Job",e),e+=1),{id:a,action:r,payload:i}},wA}var im={},KL;function MP(){if(KL)return im;KL=1;let t=!1;return im.logging=t,im.setLogging=e=>{t=e},im.log=(...e)=>t?console.log.apply(this,e):null,im}var SA,WL;function bse(){if(WL)return SA;WL=1;const t=k6(),{log:e}=MP(),n=DP();let r=0;return SA=()=>{const i=n("Scheduler",r),a={},o={};let s=[];r+=1;const c=()=>s.length,d=()=>Object.keys(a).length,f=()=>{if(s.length!==0){const x=Object.keys(a);for(let S=0;S<x.length;S+=1)if(typeof o[x[S]]>"u"){s[0](a[x[S]]);break}}},h=(x,S)=>new Promise((A,T)=>{const E=t({action:x,payload:S});s.push(async k=>{s.shift(),o[k.id]=E;try{A(await k[x].apply(this,[...S,E.id]))}catch(D){T(D)}finally{delete o[k.id],f()}}),e(`[${i}]: Add ${E.id} to JobQueue`),e(`[${i}]: JobQueue length=${s.length}`),f()});return{addWorker:x=>(a[x.id]=x,e(`[${i}]: Add ${x.id}`),e(`[${i}]: Number of workers=${d()}`),f(),x.id),addJob:async(x,...S)=>{if(d()===0)throw Error(`[${i}]: You need to have at least one worker before adding jobs`);return h(x,S)},terminate:async()=>{Object.keys(a).forEach(async x=>{await a[x].terminate()}),s=[]},getQueueLen:c,getNumWorkers:d}},SA}function xse(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var AA,XL;function wse(){return XL||(XL=1,AA=t=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof xse=="function"&&(e.type="node"),typeof t>"u"?e:e[t]}),AA}var CA,ZL;function Sse(){if(ZL)return CA;ZL=1;const e=wse()("type")==="browser"?n=>new URL(n,window.location.href).href:n=>n;return CA=n=>{const r={...n};return["corePath","workerPath","langPath"].forEach(i=>{n[i]&&(r[i]=e(r[i]))}),r},CA}var _A,QL;function P6(){return QL||(QL=1,_A={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),_A}const Ase="7.0.0",Cse={version:Ase};var EA,JL;function _se(){return JL||(JL=1,EA={workerBlobURL:!0,logger:()=>{}}),EA}var TA,eN;function Ese(){if(eN)return TA;eN=1;const t=Cse.version;return TA={..._se(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${t}/dist/worker.min.js`},TA}var kA,tN;function Tse(){return tN||(tN=1,kA=({workerPath:t,workerBlobURL:e})=>{let n;if(Blob&&URL&&e){const r=new Blob([`importScripts("${t}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(r))}else n=new Worker(t);return n}),kA}var PA,nN;function kse(){return nN||(nN=1,PA=t=>{t.terminate()}),PA}var OA,rN;function Pse(){return rN||(rN=1,OA=(t,e)=>{t.onmessage=({data:n})=>{e(n)}}),OA}var DA,iN;function Ose(){return iN||(iN=1,DA=async(t,e)=>{t.postMessage(e)}),DA}var MA,aN;function Dse(){if(aN)return MA;aN=1;const t=n=>new Promise((r,i)=>{const a=new FileReader;a.onload=()=>{r(a.result)},a.onerror=({target:{error:{code:o}}})=>{i(Error(`File could not be read! Code=${o}`))},a.readAsArrayBuffer(n)}),e=async n=>{let r=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?r=atob(n.split(",")[1]).split("").map(i=>i.charCodeAt(0)):r=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(r=await e(n.src)),n.tagName==="VIDEO"&&(r=await e(n.poster)),n.tagName==="CANVAS"&&await new Promise(i=>{n.toBlob(async a=>{r=await t(a),i()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const i=await n.convertToBlob();r=await t(i)}else(n instanceof File||n instanceof Blob)&&(r=await t(n));return new Uint8Array(r)};return MA=e,MA}var RA,oN;function Mse(){if(oN)return RA;oN=1;const t=Ese(),e=Tse(),n=kse(),r=Pse(),i=Ose(),a=Dse();return RA={defaultOptions:t,spawnWorker:e,terminateWorker:n,onMessage:r,send:i,loadImage:a},RA}var jA,sN;function O6(){if(sN)return jA;sN=1;const t=Sse(),e=k6(),{log:n}=MP(),r=DP(),i=P6(),{defaultOptions:a,spawnWorker:o,terminateWorker:s,onMessage:c,loadImage:d,send:f}=Mse();let h=0;return jA=async(m="eng",v=i.LSTM_ONLY,b={},x={})=>{const S=r("Worker",h),{logger:A,errorHandler:T,...E}=t({...a,...b}),k={},D=typeof m=="string"?m.split("+"):m;let M=v,R=x;const N=[i.DEFAULT,i.LSTM_ONLY].includes(v)&&!E.legacyCore;let z,q;const Y=new Promise((ie,se)=>{q=ie,z=se}),K=ie=>{z(ie.message)};let te=o(E);te.onerror=K,h+=1;const W=({id:ie,action:se,payload:je})=>new Promise((ue,Ve)=>{n(`[${S}]: Start ${ie}, action=${se}`);const Le=`${se}-${ie}`;k[Le]={resolve:ue,reject:Ve},f(te,{workerId:S,jobId:ie,action:se,payload:je})}),J=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),L=ie=>W(e({id:ie,action:"load",payload:{options:{lstmOnly:N,corePath:E.corePath,logging:E.logging}}})),U=(ie,se,je)=>W(e({id:je,action:"FS",payload:{method:"writeFile",args:[ie,se]}})),F=(ie,se)=>W(e({id:se,action:"FS",payload:{method:"readFile",args:[ie,{encoding:"utf8"}]}})),V=(ie,se)=>W(e({id:se,action:"FS",payload:{method:"unlink",args:[ie]}})),G=(ie,se,je)=>W(e({id:je,action:"FS",payload:{method:ie,args:se}})),$=(ie,se)=>W(e({id:se,action:"loadLanguage",payload:{langs:ie,options:{langPath:E.langPath,dataPath:E.dataPath,cachePath:E.cachePath,cacheMethod:E.cacheMethod,gzip:E.gzip,lstmOnly:[i.DEFAULT,i.LSTM_ONLY].includes(M)&&!E.legacyLang}}})),X=(ie,se,je,ue)=>W(e({id:ue,action:"initialize",payload:{langs:ie,oem:se,config:je}})),ne=(ie="eng",se,je,ue)=>{if(N&&[i.TESSERACT_ONLY,i.TESSERACT_LSTM_COMBINED].includes(se))throw Error("Legacy model requested but code missing.");const Ve=se||M;M=Ve;const Le=je||R;R=Le;const Qe=(typeof ie=="string"?ie.split("+"):ie).filter(He=>!D.includes(He));return D.push(...Qe),Qe.length>0?$(Qe,ue).then(()=>X(ie,Ve,Le,ue)):X(ie,Ve,Le,ue)},ae=(ie={},se)=>W(e({id:se,action:"setParameters",payload:{params:ie}})),oe=async(ie,se={},je={text:!0},ue)=>W(e({id:ue,action:"recognize",payload:{image:await d(ie),options:se,output:je}})),xe=async(ie,se)=>{if(N)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return W(e({id:se,action:"detect",payload:{image:await d(ie)}}))},be=async()=>(te!==null&&(s(te),te=null),Promise.resolve());c(te,({workerId:ie,jobId:se,status:je,action:ue,data:Ve})=>{const Le=`${ue}-${se}`;if(je==="resolve")n(`[${ie}]: Complete ${se}`),k[Le].resolve({jobId:se,data:Ve}),delete k[Le];else if(je==="reject")if(k[Le].reject(Ve),delete k[Le],ue==="load"&&z(Ve),T)T(Ve);else throw Error(Ve);else je==="progress"&&A({...Ve,userJobId:se})});const ze={id:S,worker:te,load:J,writeText:U,readText:F,removeFile:V,FS:G,reinitialize:ne,setParameters:ae,recognize:oe,detect:xe,terminate:be};return L().then(()=>$(m)).then(()=>X(m,v,x)).then(()=>q(ze)).catch(()=>{}),Y},jA}var LA,lN;function Rse(){if(lN)return LA;lN=1;const t=O6();return LA={recognize:async(r,i,a)=>{const o=await t(i,1,a);return o.recognize(r).finally(async()=>{await o.terminate()})},detect:async(r,i)=>{const a=await t("osd",0,i);return a.detect(r).finally(async()=>{await a.terminate()})}},LA}var NA,cN;function jse(){return cN||(cN=1,NA={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),NA}var IA,uN;function Lse(){return uN||(uN=1,IA={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),IA}var zA,dN;function Nse(){if(dN)return zA;dN=1,yse();const t=bse(),e=O6(),n=Rse(),r=jse(),i=P6(),a=Lse(),{setLogging:o}=MP();return zA={languages:r,OEM:i,PSM:a,createScheduler:t,createWorker:e,setLogging:o,...n},zA}var D6=Nse();const Ise={AUTO:3};let Df=null,fN="";async function zse(t="eng"){return Df&&fN===t||(Df&&await Df.terminate(),Df=await D6.createWorker(t,void 0,{logger:()=>{}}),fN=t),Df}async function Bse(t,e={}){const n=performance.now(),{language:r="eng",onProgress:i,autoRotate:a=!0,pageSegmentationMode:o=Ise.AUTO}=e,s=Array.isArray(r)?r.join("+"):r,c=await zse(s);await c.setParameters({tessedit_pageseg_mode:o});const d=i?S=>{S.status&&i({status:S.status,progress:S.progress||0})}:void 0;let f;if(d){const S=await D6.createWorker(s,void 0,{logger:d});await S.setParameters({tessedit_pageseg_mode:o}),f=await S.recognize(t),await S.terminate()}else f=await c.recognize(t);const h=performance.now()-n,m=f.data,v=(m.words||[]).map(S=>({text:S.text,confidence:S.confidence,bbox:S.bbox})),b=m.osd?.rotate||0,x=a&&Math.abs(b)>5;return{text:m.text,confidence:m.confidence,wasRotated:x,rotationAngle:b,processingTime:h,words:v}}const Ir={pdf:"application/pdf",jpeg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",bmp:"image/bmp",tiff:"image/tiff"},$se={".pdf":Ir.pdf,".jpg":Ir.jpeg,".jpeg":Ir.jpeg,".png":Ir.png,".webp":Ir.webp,".gif":Ir.gif,".bmp":Ir.bmp,".tiff":Ir.tiff,".tif":Ir.tiff},M6=new Set([Ir.jpeg,Ir.png,Ir.webp,Ir.gif,Ir.bmp,Ir.tiff]),hN=50*1024*1024;async function Fse(t,e={}){const{quickScan:n=!0,maxPagesToScan:r=5}=e,i=Use(t);if(!i.isValid)return{type:"image",mimeType:t.type||"unknown",fileName:t.name,fileSize:t.size,needsOCR:!1,confidence:0,metadata:i};const a=RP(t);return Vse(a)?qse(t,a):a===Ir.pdf?Gse(t,{quickScan:n,maxPagesToScan:r}):{type:"image",mimeType:a,fileName:t.name,fileSize:t.size,needsOCR:!0,confidence:0,metadata:{isValid:!1,validationError:`Unsupported file type: ${a}`}}}function Use(t){if(!t||!t.name)return{isValid:!1,validationError:"Invalid file: missing file or filename"};if(t.size===0)return{isValid:!1,validationError:"File is empty"};if(t.size>hN)return{isValid:!1,validationError:`File too large: ${Math.round(t.size/1024/1024)}MB exceeds ${hN/1024/1024}MB limit`};const e=RP(t);return R6(e)?{isValid:!0}:{isValid:!1,validationError:`Unsupported file type: ${e}`}}function RP(t){if(t.type&&t.type!=="application/octet-stream")return t.type;const e=Hse(t.name);return $se[e]||t.type||"unknown"}function Hse(t){const e=t.lastIndexOf(".");return e===-1?"":t.slice(e).toLowerCase()}function R6(t){return t===Ir.pdf||M6.has(t)}function Vse(t){return M6.has(t)}async function qse(t,e){let n;try{const r=await createImageBitmap(t);n=r.width>r.height?"landscape":"portrait",r.close()}catch{}return{type:"image",mimeType:e,fileName:t.name,fileSize:t.size,needsOCR:!0,confidence:1,metadata:{isValid:!0,orientation:n}}}async function Gse(t,e){try{const n=await mE(t,{quickScan:e.quickScan,maxPages:e.maxPagesToScan}),r=n.isScanned,i=r?"scanned-pdf":"text-pdf",a=n.fullText.slice(0,500);return{type:i,mimeType:Ir.pdf,fileName:t.name,fileSize:t.size,needsOCR:r,confidence:n.textConfidence,pageCount:n.totalPages,previewText:a||void 0,metadata:{isValid:!0,textConfidence:n.textConfidence}}}catch(n){return{type:"scanned-pdf",mimeType:Ir.pdf,fileName:t.name,fileSize:t.size,needsOCR:!0,confidence:0,metadata:{isValid:!1,validationError:`Failed to parse PDF: ${n instanceof Error?n.message:String(n)}`}}}}function Yse(t){const e=RP(t);return R6(e)}function Kse(t){return t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/(1024*1024)).toFixed(1)} MB`}function Wse(){return`upload_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function Xse(t){return t.type===Ir.pdf?g.jsx(une,{size:40,stroke:1.5}):t.type.startsWith("image/")?g.jsx(Rne,{size:40,stroke:1.5}):g.jsx(gne,{size:40,stroke:1.5})}function Zse({onComplete:t,onCancel:e}){const[n,r]=w.useState([]),[i,a]=w.useState(null),o=w.useCallback(f=>{a(null);const h=[],m=[];for(const v of f){if(!Yse(v)){m.push(`${v.name}: Unsupported file type`);continue}const b={file:v,id:Wse(),formattedSize:Kse(v.size)};v.type.startsWith("image/")&&(b.preview=URL.createObjectURL(v)),h.push(b)}m.length>0&&a(m.join(`
`)),r(v=>[...v,...h])},[]),s=w.useCallback(()=>{a("Some files were rejected. Please upload only PDF or image files.")},[]),c=w.useCallback(f=>{r(h=>{const m=h.find(v=>v.id===f);return m?.preview&&URL.revokeObjectURL(m.preview),h.filter(v=>v.id!==f)})},[]),d=w.useCallback(()=>{n.length>0&&t(n)},[n,t]);return g.jsxs(it,{gap:"lg",children:[g.jsx(hy,{onDrop:o,onReject:s,maxSize:50*1024*1024,accept:[Qp.pdf,Qp.png,Qp.jpeg,Qp.webp,Qp.gif],multiple:!0,children:g.jsxs(Be,{justify:"center",gap:"xl",mih:200,style:{pointerEvents:"none"},children:[g.jsx(hy.Accept,{children:g.jsx(km,{size:52,stroke:1.5,color:"var(--mantine-color-blue-6)"})}),g.jsx(hy.Reject,{children:g.jsx(Vi,{size:52,stroke:1.5,color:"var(--mantine-color-red-6)"})}),g.jsx(hy.Idle,{children:g.jsx(km,{size:52,stroke:1.5,color:"var(--mantine-color-dimmed)"})}),g.jsxs("div",{children:[g.jsx(ce,{size:"xl",inline:!0,children:"Drag files here or click to select"}),g.jsx(ce,{size:"sm",c:"dimmed",inline:!0,mt:7,children:"Supported formats: PDF, JPEG, PNG, WebP, GIF"}),g.jsx(ce,{size:"sm",c:"dimmed",inline:!0,mt:4,children:"Maximum file size: 50MB"})]})]})}),i&&g.jsx(Kt,{icon:g.jsx(la,{size:16}),title:"Upload Error",color:"red",withCloseButton:!0,onClose:()=>a(null),children:i}),n.length>0&&g.jsxs(it,{gap:"sm",children:[g.jsxs(Be,{justify:"space-between",children:[g.jsxs(ce,{fw:500,children:["Selected Files (",n.length,")"]}),g.jsx(Dt,{variant:"subtle",size:"sm",color:"red",onClick:()=>r([]),children:"Remove All"})]}),n.map(f=>g.jsx(Lt,{p:"sm",withBorder:!0,children:g.jsxs(Be,{justify:"space-between",wrap:"nowrap",children:[g.jsxs(Be,{wrap:"nowrap",children:[f.preview?g.jsx(Ck,{src:f.preview,alt:f.file.name,w:50,h:50,fit:"cover",radius:"sm"}):Xse(f.file),g.jsxs("div",{children:[g.jsx(ce,{size:"sm",fw:500,lineClamp:1,children:f.file.name}),g.jsx(fn,{size:"sm",variant:"light",children:f.formattedSize})]})]}),g.jsx(Di,{color:"red",variant:"subtle",onClick:()=>c(f.id),"aria-label":`Remove ${f.file.name}`,children:g.jsx(Vi,{size:16})})]})},f.id))]}),g.jsxs(Be,{justify:"flex-end",mt:"xl",children:[e&&g.jsx(Dt,{variant:"subtle",onClick:e,children:"Cancel"}),g.jsxs(Dt,{onClick:d,disabled:n.length===0,leftSection:g.jsx(km,{size:16}),children:["Analyze ",n.length>0&&`(${n.length})`]})]})]})}const Qse={biomarker:"Glucose",aliases:["Blood Sugar","Fasting Glucose","FBG","Blood Glucose"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.0555},{from:"mmol/L",to:"mg/dL",factor:18.018}]},Jse={biomarker:"Cholesterol",aliases:["Total Cholesterol","TC","Chol","LDL Cholesterol","LDL","LDL-C","HDL Cholesterol","HDL","HDL-C","VLDL Cholesterol","VLDL","VLDL-C","Non-HDL Cholesterol","Non-HDL","Non-HDL-C"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.0259},{from:"mmol/L",to:"mg/dL",factor:38.61}]},ele={biomarker:"Triglycerides",aliases:["TG","Trigs","TRIG"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.0113},{from:"mmol/L",to:"mg/dL",factor:88.5}]},tle={biomarker:"Hemoglobin",aliases:["Hgb","Hb","HGB"],conversions:[{from:"g/dL",to:"g/L",factor:10},{from:"g/L",to:"g/dL",factor:.1},{from:"g/dL",to:"mmol/L",factor:.6206},{from:"mmol/L",to:"g/dL",factor:1.611}]},nle={biomarker:"Creatinine",aliases:["Creat","Serum Creatinine"],conversions:[{from:"mg/dL",to:"mol/L",factor:88.4},{from:"mol/L",to:"mg/dL",factor:.0113}]},rle={biomarker:"Blood Urea Nitrogen",aliases:["BUN","Urea Nitrogen","Urea"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.357},{from:"mmol/L",to:"mg/dL",factor:2.8}]},ile={biomarker:"Calcium",aliases:["Ca","Ca++","Serum Calcium","Total Calcium"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.25},{from:"mmol/L",to:"mg/dL",factor:4}]},ale={biomarker:"Vitamin D",aliases:["25-OH Vitamin D","25-Hydroxyvitamin D","Calcidiol","Vitamin D Total"],conversions:[{from:"ng/mL",to:"nmol/L",factor:2.496},{from:"nmol/L",to:"ng/mL",factor:.401}]},ole={biomarker:"Vitamin B12",aliases:["B12","Cobalamin","Cyanocobalamin"],conversions:[{from:"pg/mL",to:"pmol/L",factor:.738},{from:"pmol/L",to:"pg/mL",factor:1.355},{from:"pg/mL",to:"ng/L",factor:1},{from:"ng/L",to:"pg/mL",factor:1}]},sle={biomarker:"Folate",aliases:["Folic Acid","Vitamin B9","Serum Folate"],conversions:[{from:"ng/mL",to:"nmol/L",factor:2.266},{from:"nmol/L",to:"ng/mL",factor:.441}]},lle={biomarker:"Thyroid Stimulating Hormone",aliases:["TSH","Thyrotropin"],conversions:[{from:"mIU/L",to:"IU/mL",factor:1},{from:"IU/mL",to:"mIU/L",factor:1},{from:"mIU/L",to:"mU/L",factor:1},{from:"mU/L",to:"mIU/L",factor:1},{from:"UI/mL",to:"mIU/L",factor:1},{from:"mIU/L",to:"UI/mL",factor:1},{from:"UI/mL",to:"IU/mL",factor:1},{from:"IU/mL",to:"UI/mL",factor:1},{from:"UI/mL",to:"mU/L",factor:1},{from:"mU/L",to:"UI/mL",factor:1},{from:"uIU/mL",to:"mIU/L",factor:1},{from:"mIU/L",to:"uIU/mL",factor:1},{from:"uIU/mL",to:"IU/mL",factor:1},{from:"IU/mL",to:"uIU/mL",factor:1}]},cle={biomarker:"Free T4",aliases:["FT4","Free Thyroxine","Thyroxine Free"],conversions:[{from:"ng/dL",to:"pmol/L",factor:12.87},{from:"pmol/L",to:"ng/dL",factor:.0777}]},ule={biomarker:"Total T4",aliases:["T4","Thyroxine","Serum T4"],conversions:[{from:"g/dL",to:"nmol/L",factor:12.87},{from:"nmol/L",to:"g/dL",factor:.0777}]},dle={biomarker:"Free T3",aliases:["FT3","Free Triiodothyronine"],conversions:[{from:"pg/mL",to:"pmol/L",factor:1.536},{from:"pmol/L",to:"pg/mL",factor:.651}]},fle={biomarker:"Total T3",aliases:["T3","Triiodothyronine"],conversions:[{from:"ng/dL",to:"nmol/L",factor:.01536},{from:"nmol/L",to:"ng/dL",factor:65.1}]},hle={biomarker:"Serum Iron",aliases:["Iron","Fe","Iron Level"],conversions:[{from:"g/dL",to:"mol/L",factor:.179},{from:"mol/L",to:"g/dL",factor:5.587}]},ple={biomarker:"Ferritin",aliases:["Serum Ferritin"],conversions:[{from:"ng/mL",to:"g/L",factor:1},{from:"g/L",to:"ng/mL",factor:1},{from:"ng/mL",to:"pmol/L",factor:2.247},{from:"pmol/L",to:"ng/mL",factor:.445}]},mle={biomarker:"Bilirubin",aliases:["Total Bilirubin","TBIL","Bilirubin Total","Direct Bilirubin","DBIL"],conversions:[{from:"mg/dL",to:"mol/L",factor:17.1},{from:"mol/L",to:"mg/dL",factor:.0585}]},gle={biomarker:"Albumin",aliases:["Serum Albumin","ALB"],conversions:[{from:"g/dL",to:"g/L",factor:10},{from:"g/L",to:"g/dL",factor:.1}]},vle={biomarker:"Hemoglobin A1c",aliases:["HbA1c","A1C","Glycated Hemoglobin","Glycohemoglobin"],conversions:[{from:"%",to:"mmol/mol",factor:10.929},{from:"mmol/mol",to:"%",factor:.0915}]},yle={biomarker:"Uric Acid",aliases:["Urate","Serum Uric Acid"],conversions:[{from:"mg/dL",to:"mol/L",factor:59.48},{from:"mol/L",to:"mg/dL",factor:.0168}]},ble={biomarker:"White Blood Cell Count",aliases:["WBC","Leukocytes","White Blood Cells","WBC Count"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1},{from:"K/uL",to:"10^9/L",factor:1},{from:"10^9/L",to:"K/uL",factor:1},{from:"10^3/L",to:"k/L",factor:1},{from:"k/L",to:"10^3/L",factor:1},{from:"cells/L",to:"10^9/L",factor:1e-6},{from:"10^9/L",to:"cells/L",factor:1e6},{from:"mil/mL",to:"10^9/L",factor:1},{from:"10^9/L",to:"mil/mL",factor:1}]},xle={biomarker:"Red Blood Cell Count",aliases:["RBC","Erythrocytes","Red Blood Cells","RBC Count"],conversions:[{from:"10^6/L",to:"10^12/L",factor:1},{from:"10^12/L",to:"10^6/L",factor:1},{from:"10^6/L",to:"10^12/L",factor:1},{from:"10^12/L",to:"10^6/L",factor:1},{from:"M/L",to:"10^12/L",factor:1},{from:"10^12/L",to:"M/L",factor:1},{from:"M/uL",to:"10^12/L",factor:1},{from:"10^12/L",to:"M/uL",factor:1},{from:"10^6/L",to:"M/L",factor:1},{from:"M/L",to:"10^6/L",factor:1}]},wle={biomarker:"Platelet Count",aliases:["PLT","Platelets","Thrombocytes","PLT Count"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1},{from:"K/uL",to:"10^9/L",factor:1},{from:"10^9/L",to:"K/uL",factor:1},{from:"10^3/L",to:"k/L",factor:1},{from:"k/L",to:"10^3/L",factor:1}]},Sle={biomarker:"Neutrophil Count",aliases:["Neutrophils","Absolute Neutrophil Count","ANC","Neutrophils Absolute"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1},{from:"cells/L",to:"10^9/L",factor:1e-6},{from:"10^9/L",to:"cells/L",factor:1e6}]},Ale={biomarker:"Lymphocyte Count",aliases:["Lymphocytes","Absolute Lymphocyte Count","Lymphocytes Absolute"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1},{from:"cells/L",to:"10^9/L",factor:1e-6},{from:"10^9/L",to:"cells/L",factor:1e6}]},Cle={biomarker:"Monocyte Count",aliases:["Monocytes","Absolute Monocyte Count","Monocytes Absolute"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1},{from:"cells/L",to:"10^9/L",factor:1e-6},{from:"10^9/L",to:"cells/L",factor:1e6}]},_le={biomarker:"Eosinophil Count",aliases:["Eosinophils","Absolute Eosinophil Count","Eosinophils Absolute"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1},{from:"cells/L",to:"10^9/L",factor:1e-6},{from:"10^9/L",to:"cells/L",factor:1e6}]},Ele={biomarker:"Basophil Count",aliases:["Basophils","Absolute Basophil Count","Basophils Absolute"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1},{from:"cells/L",to:"10^9/L",factor:1e-6},{from:"10^9/L",to:"cells/L",factor:1e6}]},Tle={biomarker:"Reticulocyte Count",aliases:["Reticulocytes","Retics","Reticulocyte Absolute"],conversions:[{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"10^3/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"10^3/L",factor:1},{from:"k/L",to:"10^9/L",factor:1},{from:"10^9/L",to:"k/L",factor:1}]},kle={biomarker:"Magnesium",aliases:["Mg","Serum Magnesium","Mg++"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.4114},{from:"mmol/L",to:"mg/dL",factor:2.431},{from:"mEq/L",to:"mmol/L",factor:.5},{from:"mmol/L",to:"mEq/L",factor:2},{from:"mg/dL",to:"mEq/L",factor:.8228},{from:"mEq/L",to:"mg/dL",factor:1.215}]},Ple={biomarker:"Potassium",aliases:["K","K+","Serum Potassium"],conversions:[{from:"mEq/L",to:"mmol/L",factor:1},{from:"mmol/L",to:"mEq/L",factor:1}]},Ole={biomarker:"Sodium",aliases:["Na","Na+","Serum Sodium"],conversions:[{from:"mEq/L",to:"mmol/L",factor:1},{from:"mmol/L",to:"mEq/L",factor:1}]},Dle={biomarker:"Chloride",aliases:["Cl","Cl-","Serum Chloride"],conversions:[{from:"mEq/L",to:"mmol/L",factor:1},{from:"mmol/L",to:"mEq/L",factor:1}]},Mle={biomarker:"Phosphorus",aliases:["Phosphate","P","Inorganic Phosphorus","Serum Phosphorus"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.3229},{from:"mmol/L",to:"mg/dL",factor:3.097}]},Rle={biomarker:"Testosterone",aliases:["Total Testosterone","Testosterone Total","Free Testosterone","Testosterone Free"],conversions:[{from:"ng/dL",to:"nmol/L",factor:.0347},{from:"nmol/L",to:"ng/dL",factor:28.84},{from:"ng/mL",to:"nmol/L",factor:3.47},{from:"nmol/L",to:"ng/mL",factor:.288}]},jle={biomarker:"Estradiol",aliases:["E2","Estrogen","17-beta Estradiol"],conversions:[{from:"pg/mL",to:"pmol/L",factor:3.671},{from:"pmol/L",to:"pg/mL",factor:.272}]},Lle={biomarker:"Prostate Specific Antigen",aliases:["PSA","Total PSA","PSA Total","Free PSA"],conversions:[{from:"ng/mL",to:"g/L",factor:1},{from:"g/L",to:"ng/mL",factor:1}]},Nle={biomarker:"C-Reactive Protein",aliases:["CRP","hs-CRP","High Sensitivity CRP"],conversions:[{from:"mg/L",to:"mg/dL",factor:.1},{from:"mg/dL",to:"mg/L",factor:10},{from:"mg/L",to:"nmol/L",factor:9.524},{from:"nmol/L",to:"mg/L",factor:.105}]},Ile={biomarker:"Erythrocyte Sedimentation Rate",aliases:["ESR","Sed Rate","Sedimentation Rate"],conversions:[{from:"mm/hr",to:"mm/h",factor:1},{from:"mm/h",to:"mm/hr",factor:1}]},zle={biomarker:"Hematocrit",aliases:["Hct","HCT","PCV","Packed Cell Volume","Ematocrito"],conversions:[{from:"%",to:"L/L",factor:.01},{from:"%",to:"ratio",factor:.01},{from:"L/L",to:"%",factor:100},{from:"ratio",to:"%",factor:100},{from:"L/L",to:"ratio",factor:1},{from:"ratio",to:"L/L",factor:1}]},Ble={biomarker:"Mean Corpuscular Volume",aliases:["MCV","Volume Globulare Medio","Volume Corpuscolare Medio"],conversions:[{from:"fL",to:"m",factor:1},{from:"m",to:"fL",factor:1}]},$le={biomarker:"Mean Corpuscular Hemoglobin",aliases:["MCH","Contenuto Medio di Hb","Contenuto Emoglobinico Corpuscolare Medio"],conversions:[{from:"pg",to:"fmol",factor:.01552},{from:"fmol",to:"pg",factor:64.458}]},Fle={biomarker:"Mean Corpuscular Hemoglobin Concentration",aliases:["MCHC","Concentrazione Media di Hb","Concentrazione Emoglobinica Corpuscolare Media"],conversions:[{from:"g/dL",to:"g/L",factor:10},{from:"g/L",to:"g/dL",factor:.1}]},Ule={biomarker:"TPO Antibodies",aliases:["Anti-TPO","Thyroid Peroxidase Antibodies","TPOAb","Anticorpi anti Tireoperossidasi"],conversions:[{from:"IU/mL",to:"UI/mL",factor:1},{from:"IU/mL",to:"U/mL",factor:1},{from:"IU/mL",to:"kIU/L",factor:1},{from:"UI/mL",to:"IU/mL",factor:1},{from:"UI/mL",to:"U/mL",factor:1},{from:"UI/mL",to:"kIU/L",factor:1},{from:"U/mL",to:"IU/mL",factor:1},{from:"U/mL",to:"UI/mL",factor:1},{from:"U/mL",to:"kIU/L",factor:1},{from:"kIU/L",to:"IU/mL",factor:1},{from:"kIU/L",to:"UI/mL",factor:1},{from:"kIU/L",to:"U/mL",factor:1}]},Hle={biomarker:"eGFR",aliases:["Estimated GFR","Glomerular Filtration Rate","GFR","Filtrato Glomerulare","VFG"],conversions:[{from:"mL/min/1.73m",to:"mL/min/1,73m",factor:1},{from:"mL/min/1.73m",to:"mL/min/1,73m^2",factor:1},{from:"mL/min/1,73m",to:"mL/min/1.73m",factor:1},{from:"mL/min/1,73m",to:"mL/min/1,73m^2",factor:1},{from:"mL/min/1,73m^2",to:"mL/min/1.73m",factor:1},{from:"mL/min/1,73m^2",to:"mL/min/1,73m",factor:1}]},Vle={biomarker:"Alanine Aminotransferase",aliases:["ALT","SGPT","Alanine Transaminase","GPT","ALT (GPT)","Aspartate Aminotransferase","AST","SGOT","Aspartate Transaminase","GOT","AST (GOT)","Alkaline Phosphatase","ALP","Alk Phos","Gamma-Glutamyl Transferase","GGT","Gamma GT","GGTP","Amylase","S-Amilasi","Amilasi"],conversions:[{from:"U/L",to:"IU/L",factor:1},{from:"IU/L",to:"U/L",factor:1}]},qle={biomarker:"Urine Glucose",aliases:["U-Glucosio","Glucosio Urinario","Glucosio (urine)","Glycosuria"],conversions:[{from:"mg/dL",to:"mmol/L",factor:.0555},{from:"mmol/L",to:"mg/dL",factor:18.02}]},Gle={biomarker:"Urine Protein",aliases:["U-Proteine","Proteine (urine)","Proteinuria","U-Proteine totali"],conversions:[{from:"mg/dL",to:"g/L",factor:.01},{from:"mg/dL",to:"mg/L",factor:10},{from:"g/L",to:"mg/dL",factor:100},{from:"g/L",to:"mg/L",factor:1e3},{from:"mg/L",to:"mg/dL",factor:.1},{from:"mg/L",to:"g/L",factor:.001}]},Yle={biomarker:"Urine Bilirubin",aliases:["U-Bilirubina","Bilirubina (urine)","Bilirubina urinaria"],conversions:[{from:"mg/dL",to:"mol/L",factor:17.1},{from:"mol/L",to:"mg/dL",factor:.0585}]},Kle={biomarker:"Urine Urobilinogen",aliases:["U-Urobilinogeno","Urobilinogeno","Urobilinogeno (urine)"],conversions:[{from:"mg/dL",to:"mol/L",factor:16.9},{from:"mg/dL",to:"EU/dL",factor:1},{from:"mol/L",to:"mg/dL",factor:.0592},{from:"mol/L",to:"EU/dL",factor:.0592},{from:"EU/dL",to:"mg/dL",factor:1},{from:"EU/dL",to:"mol/L",factor:16.9}]},Wle={biomarker:"Microalbumin",aliases:["Urine Microalbumin","MAU","Microalbumina","U-Albumina","U-ALBUMINA"],conversions:[{from:"mg/L",to:"g/min",factor:1.04},{from:"g/min",to:"mg/L",factor:.96}]},Xle={biomarker:"Total Protein",aliases:["Protein Total","TP","Serum Protein","Proteine totali","Protidemia"],conversions:[{from:"g/dL",to:"g/L",factor:10},{from:"g/L",to:"g/dL",factor:.1}]},Zle={biomarker:"Total Iron Binding Capacity",aliases:["TIBC","Iron Binding Capacity"],conversions:[{from:"g/dL",to:"mol/L",factor:.179},{from:"mol/L",to:"g/dL",factor:5.587}]},Qle={biomarker:"Transferrin",aliases:["Serum Transferrin"],conversions:[{from:"mg/dL",to:"g/L",factor:.01},{from:"g/L",to:"mg/dL",factor:100}]},Jle={biomarker:"Vitamin A",aliases:["Retinol","Serum Retinol"],conversions:[{from:"g/dL",to:"mol/L",factor:.0349},{from:"mol/L",to:"g/dL",factor:28.65}]},ece={biomarker:"Urine Creatinine",aliases:["U-Creatinina","Creatinina urinaria","U-Creatinina (urine)"],conversions:[{from:"mg/dL",to:"mol/L",factor:88.4},{from:"mg/dL",to:"g/L",factor:.01},{from:"mg/dL",to:"mmol/L",factor:.0884},{from:"mol/L",to:"mg/dL",factor:.0113},{from:"mol/L",to:"g/L",factor:11312e-8},{from:"mol/L",to:"mmol/L",factor:.001},{from:"g/L",to:"mg/dL",factor:100},{from:"g/L",to:"mol/L",factor:8840},{from:"g/L",to:"mmol/L",factor:8.84},{from:"mmol/L",to:"mg/dL",factor:11.312},{from:"mmol/L",to:"mol/L",factor:1e3},{from:"mmol/L",to:"g/L",factor:.11312}]},tce={biomarker:"Protein Creatinine Ratio",aliases:["PCR","U-Proteine/Creatinina","Proteine/Creatinina"],conversions:[{from:"mg/mmol",to:"mg/g",factor:8.84},{from:"mg/mmolcreat.",to:"mg/g",factor:8.84},{from:"mg/mmol creat.",to:"mg/g",factor:8.84},{from:"mg/g",to:"mg/mmol",factor:.1131},{from:"mg/gcreat.",to:"mg/mmol",factor:.1131},{from:"mg/g creat.",to:"mg/mmol",factor:.1131},{from:"mg/g creat",to:"mg/mmol",factor:.1131},{from:"mg/mmolcreat.",to:"mg/gcreat.",factor:8.84},{from:"mg/gcreat.",to:"mg/mmolcreat.",factor:.1131}]},nce={biomarker:"Albumin Creatinine Ratio",aliases:["ACR","UACR","Albumina/Creatinina","U-Albumina/Creatinina"],conversions:[{from:"mg/mmol",to:"mg/g",factor:8.84},{from:"mg/mmol creat.",to:"mg/g",factor:8.84},{from:"mg/g",to:"mg/mmol",factor:.1131},{from:"mg/g creat.",to:"mg/mmol",factor:.1131},{from:"mg/g creat",to:"mg/mmol",factor:.1131}]},rce={biomarker:"Sexual Abstinence",aliases:["Astinenza sessuale","Abstinence"],conversions:[{from:"giorni",to:"days",factor:1},{from:"days",to:"giorni",factor:1}]},ice={biomarker:"Total Sperm Count",aliases:["Sperm Count","Spermatozoi totali","Conta spermatozoi"],conversions:[{from:"mil.",to:"million",factor:1},{from:"million",to:"mil.",factor:1},{from:"M",to:"million",factor:1},{from:"million",to:"M",factor:1},{from:"mil.",to:"M",factor:1},{from:"M",to:"mil.",factor:1}]},ace={biomarker:"Sperm Concentration",aliases:["Concentrazione spermatozoi","Sperm Density"],conversions:[{from:"mil/mL",to:"M/mL",factor:1},{from:"M/mL",to:"mil/mL",factor:1},{from:"mil/mL",to:"10^6/mL",factor:1},{from:"10^6/mL",to:"mil/mL",factor:1},{from:"M/mL",to:"10^6/mL",factor:1},{from:"10^6/mL",to:"M/mL",factor:1}]},pN=[Qse,Jse,ele,tle,nle,rle,ile,ale,ole,sle,lle,cle,ule,dle,fle,hle,ple,mle,gle,vle,yle,ble,xle,wle,Sle,Ale,Cle,_le,Ele,Tle,kle,Ple,Ole,Dle,Mle,Rle,jle,Lle,Nle,Ile,zle,Ble,$le,Fle,Ule,Hle,Vle,ece,qle,Gle,Yle,Kle,Wle,tce,nce,Xle,Zle,Qle,Jle,rce,ice,ace];function j6(t){const e=t.toLowerCase().trim(),n=pN.find(i=>i.biomarker.toLowerCase()===e||i.aliases.some(a=>a.toLowerCase()===e));if(n)return n;const r=Bs(t);if(r){const i=r.name.toLowerCase();return pN.find(a=>a.biomarker.toLowerCase()===i||a.aliases.some(o=>o.toLowerCase()===i))}}const mN={"umol/l":"mol/L","umol/L":"mol/L","mol/l":"mol/L","mol/l":"mol/L","mol/L":"mol/L","nmol/l":"nmol/L","pmol/l":"pmol/L","mg/dl":"mg/dL","mmol/l":"mmol/L","g/dl":"g/dL","g/l":"g/L","ng/ml":"ng/mL","pg/ml":"pg/mL","ug/dl":"g/dL","ug/dL":"g/dL","g/dl":"g/dL","g/dl":"g/dL","g/dL":"g/dL","miu/l":"mIU/L","mIU/l":"mIU/L","uiu/ml":"IU/mL","iu/ml":"IU/mL","iu/ml":"IU/mL","IU/mL":"IU/mL","u/l":"U/L","iu/l":"IU/L","meq/l":"mEq/L","ug/min":"g/min","g/min":"g/min","mg/gcreat.":"mg/g","mg/g creat.":"mg/g","mg/g creat":"mg/g","mg/mmolcreat.":"mg/mmol","mg/mmol creat.":"mg/mmol"};function oce(t){return t.replace(//g,"")}function gN(t){const e=t.trim(),n=oce(e),r=n.toLowerCase();return mN[r]??mN[n]??n}function L6(t,e,n){const r=j6(t);if(!r)return;const i=gN(e),a=gN(n);return i.toLowerCase()===a.toLowerCase()?1:r.conversions.find(s=>s.from.toLowerCase()===i.toLowerCase()&&s.to.toLowerCase()===a.toLowerCase())?.factor}class vN extends Error{constructor(e){super(e),this.name="ConversionError"}}const sce={"mmol/L":2,"mg/dL":0,"g/dL":1,"g/L":0,"%":1,"mol/L":1,"umol/L":1,"nmol/L":1,"pmol/L":1,"ng/mL":1,"pg/mL":0,"mIU/L":2,"IU/mL":2,"U/L":0,"IU/L":0,"mEq/L":1};function yN(t){const e=t.trim();return sce[e]??2}function bN(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function tb(t,e,n,r,i){const a=n.trim(),o=r.trim();if(a.toLowerCase()===o.toLowerCase()){const f=yN(o);return{originalValue:e,originalUnit:a,convertedValue:bN(e,f),targetUnit:o,precision:f}}const s=L6(t,a,o);if(s===void 0)throw j6(t)?new vN(`Conversion from "${a}" to "${o}" is not supported for "${t}"`):new vN(`No conversion definitions found for biomarker "${t}"`);const c=yN(o),d=bN(e*s,c);return{originalValue:e,originalUnit:a,convertedValue:d,targetUnit:o,precision:c}}function jP(t,e,n){return e.toLowerCase().trim()===n.toLowerCase().trim()?!0:L6(t,e,n)!==void 0}function N6(t){const e={"umol/l":"mol/L","umol/L":"mol/L","mol/l":"mol/L","nmol/l":"nmol/L","pmol/l":"pmol/L","mg/dl":"mg/dL","mmol/l":"mmol/L","g/dl":"g/dL","g/l":"g/L","ng/ml":"ng/mL","pg/ml":"pg/mL","ug/dl":"g/dL","ug/dL":"g/dL","g/dl":"g/dL","miu/l":"mIU/L","mIU/l":"mIU/L","uiu/ml":"IU/mL","iu/ml":"IU/mL","u/l":"U/L","iu/l":"IU/L","meq/l":"mEq/L"},n=t.toLowerCase().trim();return e[n]??t.trim()}class Rc extends Error{stage;cause;constructor(e,n,r){super(e),this.name="AnalysisError",this.stage=n,this.cause=r}}async function lce(t,e){const n=performance.now(),r=gce(),i=[],a=[];let o="image",s="",c="ocr";const d=Ay("Document Detection");i.push(d),e.onProgress?.("Detecting document type",.1);try{Cy(d);const A=await Fse(t);if(o=A.type,!A.metadata.isValid)throw new Rc(A.metadata.validationError||"Invalid document","Document Detection");_y(d)}catch(A){throw Ey(d,A),new Rc(`Document detection failed: ${A instanceof Error?A.message:String(A)}`,"Document Detection",A instanceof Error?A:void 0)}const f=Ay("Text Extraction");i.push(f),e.onProgress?.("Extracting text",.3);try{if(Cy(f),o==="text-pdf"){const A=await mE(t,{onProgress:(T,E)=>{e.onProgress?.(`Extracting page ${T}/${E}`,.3+T/E*.2)}});s=A.fullText,c="pdf-text",A.errors.length>0&&a.push(...A.errors)}else if(o==="scanned-pdf"){const A=await mE(t);A.fullText.length>100?(s=A.fullText,c="pdf-text",a.push("This appears to be a scanned PDF. Some text may be missing or inaccurate.")):(a.push("Scanned PDF detected. Full OCR support requires PDF page rendering."),s=A.fullText||"Unable to extract text from scanned PDF")}else{const A=await Bse(t,{language:e.language,onProgress:T=>{e.onProgress?.(`OCR: ${T.status}`,.3+T.progress*.2)}});s=A.text,c="ocr",A.confidence<70&&a.push(`Low OCR confidence (${Math.round(A.confidence)}%). Results may be inaccurate.`)}if(!s||s.trim().length<20)throw new Rc("No readable text found in document","Text Extraction");_y(f)}catch(A){throw Ey(f,A),A instanceof Rc?A:new Rc(`Text extraction failed: ${A instanceof Error?A.message:String(A)}`,"Text Extraction",A instanceof Error?A:void 0)}const h=Ay("AI Analysis");i.push(h),e.onProgress?.("Analyzing with AI",.6);let m;try{Cy(h),m=await gre(e.aiProvider,e.aiConfig).analyzeLabReport(s,{language:e.language,extractPatientInfo:e.extractPatientInfo}),m.warnings.length>0&&a.push(...m.warnings),_y(h)}catch(A){throw Ey(h,A),A instanceof Mn?new Rc(`AI analysis failed: ${A.message}`,"AI Analysis",A):new Rc(`AI analysis failed: ${A instanceof Error?A.message:String(A)}`,"AI Analysis",A instanceof Error?A:void 0)}const v=Ay("Biomarker Matching");i.push(v),e.onProgress?.("Matching biomarkers",.9);let b,x=[];try{Cy(v);const A=m.biomarkers.map(k=>cce(k)),T=hce(A);b=T.deduplicated,x=T.conflicts;const E=b.filter(k=>!k.isExactMatch&&!k.suggestedMatch).length;if(E>0&&a.push(`${E} biomarker(s) could not be matched to the dictionary`),x.length>0){const k=x.filter(D=>!D.valuesMatch).length;k>0&&a.push(`${k} biomarker(s) have conflicting duplicate values that need review`)}_y(v)}catch(A){Ey(v,A),b=m.biomarkers.map(T=>({...T,isExactMatch:!1,normalizedUnit:N6(T.unit)})),a.push("Biomarker matching encountered errors")}const S=performance.now()-n;return e.onProgress?.("Complete",1),{id:r,fileName:t.name,documentType:o,extractionMethod:c,extractedText:s,aiAnalysis:m,matchedBiomarkers:b,labDate:m.labDate,labName:m.labName,overallConfidence:mce(b,m),warnings:a,duplicateConflicts:x,stages:i,totalProcessingTime:S}}function cce(t){const e=N6(t.unit),n=Bs(t.name);if(n&&([n.canonicalUnit,...n.alternativeUnits].some(o=>o.toLowerCase()===e.toLowerCase())||jP(n.name,t.unit,n.canonicalUnit)))return{...t,dictionaryMatch:n,isExactMatch:!0,normalizedUnit:e};const r=pce(t.name);return r?{...t,suggestedMatch:r,isExactMatch:!1,normalizedUnit:e}:(console.warn(`[HemoIO] Unmatched biomarker: "${t.name}" (unit: ${t.unit}, value: ${t.value})`),{...t,isExactMatch:!1,normalizedUnit:e})}const uce=.02,dce=1;function fce(t,e){if(t===e)return!0;if(t===0||e===0)return!1;const n=Math.abs(t-e);if(n<=dce)return!0;const r=(Math.abs(t)+Math.abs(e))/2;return n/r<=uce}function hce(t){const e=[],n=new Map;for(const i of t){const a=i.dictionaryMatch?.name||i.suggestedMatch?.name||i.name.toLowerCase().trim();n.has(a)||n.set(a,[]),n.get(a).push(i)}const r=[];for(const[i,a]of n){if(a.length===1){r.push(a[0]);continue}const s=(a[0].dictionaryMatch||a[0].suggestedMatch)?.canonicalUnit;if(!s){const m={biomarkerName:i,originalValues:a.map(v=>({value:v.value,unit:v.unit})),valuesMatch:!1,message:`Multiple values found for "${i}" but no canonical unit available to compare them.`};e.push(m);for(const v of a)r.push({...v,hasDuplicateConflict:!0,duplicateConflict:m});continue}const c=[];for(const m of a)if(m.unit.toLowerCase()===s.toLowerCase())c.push({biomarker:m,originalValue:m.value,originalUnit:m.unit,convertedValue:m.value,conversionSucceeded:!0});else if(jP(i,m.unit,s))try{const v=tb(i,m.value,m.unit,s);c.push({biomarker:m,originalValue:m.value,originalUnit:m.unit,convertedValue:v.convertedValue,conversionSucceeded:!0})}catch{c.push({biomarker:m,originalValue:m.value,originalUnit:m.unit,convertedValue:m.value,conversionSucceeded:!1})}else c.push({biomarker:m,originalValue:m.value,originalUnit:m.unit,convertedValue:m.value,conversionSucceeded:!1});const d=c.filter(m=>m.conversionSucceeded);if(d.length<2){const m={biomarkerName:i,originalValues:c.map(v=>({value:v.originalValue,unit:v.originalUnit,convertedValue:v.conversionSucceeded?v.convertedValue:void 0,convertedUnit:v.conversionSucceeded?s:void 0})),valuesMatch:!1,message:`Multiple values found for "${i}" but unit conversion failed for some entries.`};e.push(m);for(const v of c)r.push({...v.biomarker,hasDuplicateConflict:!0,duplicateConflict:m});continue}const f=d[0].convertedValue;if(d.every(m=>fce(m.convertedValue,f))){const m=c.find(v=>v.originalUnit.toLowerCase()===s.toLowerCase())||c[0];r.push(m.biomarker),console.info(`[HemoIO] Merged duplicate biomarker "${i}": `+c.map(v=>`${v.originalValue} ${v.originalUnit}`).join(" = "))}else{const m={biomarkerName:i,originalValues:c.map(v=>({value:v.originalValue,unit:v.originalUnit,convertedValue:v.conversionSucceeded?v.convertedValue:void 0,convertedUnit:v.conversionSucceeded?s:void 0})),valuesMatch:!1,message:`Conflicting values found for "${i}": `+c.map(v=>`${v.originalValue} ${v.originalUnit}`+(v.conversionSucceeded?` (=${v.convertedValue} ${s})`:"")).join(" vs ")+". Please review and keep the correct value."};e.push(m);for(const v of c)r.push({...v.biomarker,hasDuplicateConflict:!0,duplicateConflict:m})}}return{deduplicated:r,conflicts:e}}function pce(t){const e=t.toLowerCase().replace(/[^a-z0-9]/g,""),n=[t,t.replace(/\s+/g,""),t.replace(/[^a-zA-Z0-9\s]/g,""),e];for(const r of n){const i=Bs(r);if(i)return i}}function mce(t,e){if(t.length===0)return 0;const n=t.reduce((i,a)=>i+a.confidence,0)/t.length,r=t.filter(i=>i.isExactMatch).length/t.length;return r>0?e.overallConfidence*.3+n*.4+r*.3:e.overallConfidence*.4+n*.6}function gce(){return`analysis_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function Ay(t){return{name:t,status:"pending"}}function Cy(t){t.status="running",t.startTime=performance.now()}function _y(t){t.status="completed",t.endTime=performance.now()}function Ey(t,e){t.status="failed",t.endTime=performance.now(),t.error=e instanceof Error?e.message:String(e)}async function vce(t,e,n){if(n<1)throw new Error("Concurrency must be at least 1");if(t.length===0)return;const r=new Set,i=[];for(let a=0;a<t.length;a++){const o=t[a],s=e(o,a);i.push(s);const c=s.finally(()=>r.delete(c));r.add(c),r.size>=n&&await Promise.race(r).catch(()=>{})}await Promise.all(i)}function yce({files:t,aiProvider:e,getApiKey:n,aiModel:r,onComplete:i,onBack:a}){const[o,s]=w.useState([]),[c,d]=w.useState([]),[f,h]=w.useState(!0),[m,v]=w.useState(0);w.useEffect(()=>{s(t.map(k=>({id:k.id,name:k.file.name,status:"pending",progress:0})))},[t]);const b=w.useCallback((k,D)=>{s(M=>M.map(R=>R.id===k?{...R,...D}:R))},[]);w.useEffect(()=>{if(o.length===0)return;let k=!1;async function D(){const M=new Array(t.length);let R=null;if(e!=="ollama"&&(R=await n(),!R&&!k)){for(const q of t)M.push({fileId:q.id,fileName:q.file.name,success:!1,error:"API key not available",biomarkers:[],confidence:0,warnings:[]}),b(q.id,{status:"error",progress:100,error:"API key not available"});d(M),h(!1),v(100);return}const N=e==="ollama"?1:3;let z=0;await vce(t,async(q,Y)=>{if(!k){b(q.id,{status:"processing",progress:0,stage:"Starting..."});try{const K=await lce(q.file,{aiProvider:e,aiConfig:{apiKey:R||"",model:r},onProgress:(te,W)=>{if(!k){b(q.id,{progress:W*100,stage:te});const J=z/t.length*100,L=W/t.length*100;v(Math.min(J+L,99))}}});M[Y]={fileId:q.id,fileName:q.file.name,success:!0,biomarkers:K.matchedBiomarkers,labDate:K.labDate,labName:K.labName,confidence:K.overallConfidence,warnings:K.warnings,duplicateConflicts:K.duplicateConflicts},b(q.id,{status:"success",progress:100,stage:"Complete"})}catch(K){const te=K instanceof Rc||K instanceof Error?K.message:"Unknown error";M[Y]={fileId:q.id,fileName:q.file.name,success:!1,error:te,biomarkers:[],confidence:0,warnings:[]},b(q.id,{status:"error",progress:100,error:te})}z++,k||v(z/t.length*100)}},N),k||(d(M),h(!1),v(100))}return D(),()=>{k=!0}},[t,e,n,r,o.length,b]);const x=c.filter(k=>k.success).length,S=c.filter(k=>!k.success).length,A=c.reduce((k,D)=>k+D.biomarkers.length,0),T=w.useCallback(()=>{const k=c.filter(D=>D.success);k.length>0&&i(k)},[c,i]),E=k=>{switch(k){case"success":return g.jsx(Vn,{color:"green",size:24,radius:"xl",children:g.jsx($n,{size:16})});case"error":return g.jsx(Vn,{color:"red",size:24,radius:"xl",children:g.jsx(Vi,{size:16})});case"processing":return g.jsx(Ri,{size:"sm"});default:return g.jsx(Vn,{color:"gray",size:24,radius:"xl",children:g.jsx(one,{size:16})})}};return g.jsxs(it,{gap:"lg",children:[g.jsxs(Lt,{p:"md",withBorder:!0,children:[g.jsx(ce,{fw:500,mb:"sm",children:"Overall Progress"}),g.jsx(Ol,{value:m,size:"lg",radius:"xl",animated:f}),g.jsx(ce,{size:"sm",c:"dimmed",mt:"xs",children:f?`Processing ${t.length} file(s)...`:"Processing complete"})]}),g.jsx(Ua,{spacing:"sm",size:"sm",center:!0,children:o.map(k=>g.jsx(Ua.Item,{icon:E(k.status),children:g.jsxs(Be,{justify:"space-between",wrap:"nowrap",children:[g.jsxs("div",{children:[g.jsx(ce,{size:"sm",fw:500,children:k.name}),k.stage&&k.status==="processing"&&g.jsx(ce,{size:"xs",c:"dimmed",children:k.stage}),k.error&&g.jsx(ce,{size:"xs",c:"red",children:k.error})]}),k.status==="processing"&&g.jsx(Ol,{value:k.progress,size:"sm",w:100,radius:"xl"})]})},k.id))}),!f&&g.jsxs(g.Fragment,{children:[x>0&&g.jsxs(Kt,{icon:g.jsx($n,{size:16}),title:"Analysis Complete",color:"green",children:["Successfully extracted ",A," biomarker values from"," ",x," file(s)."]}),S>0&&g.jsxs(Kt,{icon:g.jsx(la,{size:16}),title:"Some Files Failed",color:"orange",children:[S," file(s) could not be processed. You can continue with the successful files or go back to try again."]}),x===0&&g.jsx(Kt,{icon:g.jsx(Vi,{size:16}),title:"Analysis Failed",color:"red",children:"No files could be processed. Please check your files and try again."})]}),g.jsxs(Be,{justify:"space-between",mt:"xl",children:[g.jsx(Dt,{variant:"subtle",leftSection:g.jsx(wx,{size:16}),onClick:a,disabled:f,children:"Back"}),g.jsxs(Dt,{onClick:T,disabled:f||x===0,children:["Review Results",x>0&&g.jsx(fn,{ml:"xs",size:"sm",variant:"light",children:x})]})]})]})}const bce={serum:"Serum",plasma:"Plasma",urine:"Urine","urine-24h":"24h Urine","whole-blood":"Whole Blood",capillary:"Capillary",saliva:"Saliva",csf:"CSF",stool:"Stool",semen:"Semen",other:"Other"};function xce(t){return t?bce[t]||t:""}function wce(t){const e=t.dictionaryMatch;if(!e)return null;const n=[];return e.loincCode&&n.push(`LOINC: ${e.loincCode}`),e.description&&n.push(e.description),n.length>0?n.join(`
`):null}const Sce=[{pattern:/\s*\(urine,?\s*24h?\)\s*$/i,type:"urine-24h"},{pattern:/\s*\(24h?\s*urine\)\s*$/i,type:"urine-24h"},{pattern:/\s*\(urine[^)]*\)\s*$/i,type:"urine"},{pattern:/\s*\(plasma[^)]*\)\s*$/i,type:"plasma"},{pattern:/\s*\(serum[^)]*\)\s*$/i,type:"serum"},{pattern:/\s*\(siero[^)]*\)\s*$/i,type:"serum"},{pattern:/\s*\(sangue[^)]*\)\s*$/i,type:"whole-blood"},{pattern:/\s*\(whole[- ]?blood[^)]*\)\s*$/i,type:"whole-blood"},{pattern:/\s*\(semen[^)]*\)\s*$/i,type:"semen"},{pattern:/\s*\(liquido seminale[^)]*\)\s*$/i,type:"semen"},{pattern:/\s*\(csf[^)]*\)\s*$/i,type:"csf"},{pattern:/\s*\(liquor[^)]*\)\s*$/i,type:"csf"},{pattern:/\s*\(saliva[^)]*\)\s*$/i,type:"saliva"},{pattern:/\s*\(stool[^)]*\)\s*$/i,type:"stool"},{pattern:/\s*\(feci[^)]*\)\s*$/i,type:"stool"}];function I6(t){for(const{pattern:e,type:n}of Sce)if(e.test(t))return{cleanName:t.replace(e,"").trim(),extractedSpecimen:n};return{cleanName:t}}function Ace(t){if(t.dictionaryMatch?.specimenType)return t.dictionaryMatch.specimenType;const{extractedSpecimen:e}=I6(t.name);return e}function xN(t){const{cleanName:e}=I6(t.name);return e}function wN(t){return t>=.85?"green":t>=.7?"yellow":"red"}function Cce(t){return t>=.85?"High":t>=.7?"Medium":"Low"}function _ce({reviewedResults:t,onReviewChange:e,onComplete:n,onBack:r}){const[i,a]=w.useState(null),[o,s]=w.useState(null),c=w.useCallback((T,E,k)=>{const D=[...t];D[T]={...D[T],editedBiomarkers:D[T].editedBiomarkers.map((M,R)=>R===E?{...M,...k}:M)},e(D)},[t,e]),d=w.useCallback((T,E)=>{const k=[...t];k[T]={...k[T],editedBiomarkers:k[T].editedBiomarkers.filter((D,M)=>M!==E)},e(k)},[t,e]),f=w.useCallback(T=>{const E=[...t],k={name:"",value:0,unit:"",confidence:1,isExactMatch:!1,normalizedUnit:""};E[T]={...E[T],editedBiomarkers:[...E[T].editedBiomarkers,k]},e(E),a({resultIndex:T,biomarkerIndex:E[T].editedBiomarkers.length-1})},[t,e]),h=w.useCallback((T,E)=>{const k=[...t];k[T]={...k[T],editedLabDate:E},e(k)},[t,e]),m=w.useCallback((T,E)=>{const k=[...t];k[T]={...k[T],editedLabName:E},e(k)},[t,e]),v=t.reduce((T,E)=>T+E.editedBiomarkers.filter(k=>k.confidence<.7).length,0),b=t.reduce((T,E)=>T+E.editedBiomarkers.filter(k=>k.hasDuplicateConflict).length,0),x=t.flatMap(T=>T.duplicateConflicts?.filter(E=>!E.valuesMatch)||[]),S=t.reduce((T,E)=>T+E.editedBiomarkers.length,0),A=w.useCallback(()=>{const T=[];if(t.forEach(E=>{E.editedBiomarkers.forEach((k,D)=>{const M=[];if(k.name||M.push("name"),(k.value===void 0||k.value===null)&&M.push("value"),!k.unit){const R=Bs(k.name||"");(!R||R.canonicalUnit!=="")&&M.push("unit")}if(M.length>0){const R=k.name||`Biomarker #${D+1}`;T.push(`${R} in "${E.fileName}" is missing: ${M.join(", ")}`)}})}),T.length>0){s(`Please fix the following issues:
${T.slice(0,5).join(`
`)}${T.length>5?`
...and ${T.length-5} more`:""}`);return}s(null),n(t)},[t,n]);return g.jsxs(it,{gap:"lg",children:[g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsxs(Be,{justify:"space-between",children:[g.jsxs("div",{children:[g.jsx(ce,{fw:500,children:"Review Extracted Values"}),g.jsxs(ce,{size:"sm",c:"dimmed",children:[S," biomarker(s) from ",t.length," ","file(s)"]})]}),g.jsxs(Be,{gap:"xs",children:[b>0&&g.jsx(fi,{label:"Duplicate biomarkers with conflicting values",children:g.jsxs(fn,{color:"orange",variant:"light",leftSection:g.jsx(tA,{size:12}),children:[b," conflicts"]})}),v>0&&g.jsx(fi,{label:"Values that may need verification",children:g.jsxs(fn,{color:"yellow",variant:"light",leftSection:g.jsx(fd,{size:12}),children:[v," low confidence"]})})]})]})}),x.length>0&&g.jsx(Kt,{icon:g.jsx(tA,{size:16}),title:"Duplicate Biomarkers Detected",color:"orange",variant:"light",children:g.jsxs(it,{gap:"xs",children:[g.jsx(ce,{size:"sm",children:"The following biomarkers appear multiple times with different values. Please review and remove the incorrect entries:"}),g.jsx("ul",{style:{margin:0,paddingLeft:16},children:x.map((T,E)=>g.jsxs("li",{children:[g.jsxs(ce,{size:"sm",fw:500,children:[T.biomarkerName,":"]}),g.jsx(ce,{size:"xs",c:"dimmed",children:T.message})]},E))})]})}),g.jsx(ki,{variant:"separated",multiple:!0,defaultValue:["0"],children:t.map((T,E)=>g.jsxs(ki.Item,{value:String(E),children:[g.jsx(ki.Control,{children:g.jsxs(Be,{justify:"space-between",wrap:"nowrap",pr:"md",children:[g.jsxs("div",{children:[g.jsx(ce,{fw:500,children:T.fileName}),g.jsxs(ce,{size:"sm",c:"dimmed",children:[T.editedBiomarkers.length," biomarker(s)"]})]}),g.jsxs(fn,{color:wN(T.confidence),children:[Cce(T.confidence)," confidence"]})]})}),g.jsx(ki.Panel,{children:g.jsxs(it,{gap:"md",children:[g.jsxs(Be,{grow:!0,children:[g.jsx(As,{label:"Lab Date",leftSection:g.jsx(hh,{size:16}),placeholder:"YYYY-MM-DD",value:T.editedLabDate||T.labDate||"",onChange:k=>h(E,k.target.value||void 0)}),g.jsx(As,{label:"Lab Name",leftSection:g.jsx(nP,{size:16}),placeholder:"Laboratory name",value:T.editedLabName||T.labName||"",onChange:k=>m(E,k.target.value||void 0)})]}),T.warnings.length>0&&g.jsx(Kt,{icon:g.jsx(iP,{size:16}),title:"Analysis Notes",color:"blue",variant:"light",children:g.jsx("ul",{style:{margin:0,paddingLeft:16},children:T.warnings.map((k,D)=>g.jsx("li",{children:k},D))})}),g.jsxs(ht,{striped:!0,highlightOnHover:!0,withTableBorder:!0,children:[g.jsx(ht.Thead,{children:g.jsxs(ht.Tr,{children:[g.jsx(ht.Th,{children:"Biomarker"}),g.jsx(ht.Th,{children:"Specimen"}),g.jsx(ht.Th,{children:"Value"}),g.jsx(ht.Th,{children:"Unit"}),g.jsx(ht.Th,{children:"Reference Range"}),g.jsx(ht.Th,{children:"Method"}),g.jsx(ht.Th,{children:"Confidence"}),g.jsx(ht.Th,{w:100,children:"Actions"})]})}),g.jsx(ht.Tbody,{children:T.editedBiomarkers.map((k,D)=>{const M=i?.resultIndex===E&&i?.biomarkerIndex===D;let R;k.hasDuplicateConflict?R="var(--mantine-color-orange-light)":k.confidence<.7&&(R="var(--mantine-color-yellow-light)");const N=wce(k);return g.jsxs(ht.Tr,{bg:R,children:[g.jsx(ht.Td,{children:M?g.jsx(As,{size:"xs",value:k.name,onChange:z=>c(E,D,{name:z.target.value}),placeholder:"Biomarker name"}):g.jsxs(Be,{gap:"xs",children:[N?g.jsx(fi,{label:N,multiline:!0,w:300,withArrow:!0,children:g.jsx(ce,{size:"sm",style:{cursor:"help",textDecoration:"underline dotted"},children:xN(k)})}):g.jsx(ce,{size:"sm",children:xN(k)}),k.hasDuplicateConflict&&g.jsx(fi,{label:"Duplicate with conflicting value - please review",children:g.jsx(Vn,{size:"xs",color:"orange",variant:"light",children:g.jsx(tA,{size:10})})}),k.dictionaryMatch&&!k.hasDuplicateConflict&&g.jsx(fi,{label:"Matched to dictionary",children:g.jsx(Vn,{size:"xs",color:"green",variant:"light",children:g.jsx($n,{size:10})})})]})}),g.jsx(ht.Td,{children:g.jsxs(Be,{gap:4,children:[g.jsx(Cx,{size:14,style:{color:"var(--mantine-color-dimmed)"}}),g.jsx(ce,{size:"sm",c:"dimmed",children:xce(Ace(k))})]})}),g.jsx(ht.Td,{children:M?k.isInterval?g.jsxs(Be,{gap:"xs",wrap:"nowrap",children:[g.jsx(xl,{size:"xs",value:k.intervalLow??"",onChange:z=>c(E,D,{intervalLow:z===""?void 0:Number(z),value:z===""||k.intervalHigh===void 0?k.value:(Number(z)+k.intervalHigh)/2}),decimalScale:2,placeholder:"Low",w:60}),g.jsx(ce,{size:"xs",children:"-"}),g.jsx(xl,{size:"xs",value:k.intervalHigh??"",onChange:z=>c(E,D,{intervalHigh:z===""?void 0:Number(z),value:z===""||k.intervalLow===void 0?k.value:(k.intervalLow+Number(z))/2}),decimalScale:2,placeholder:"High",w:60})]}):g.jsx(xl,{size:"xs",value:k.value,onChange:z=>c(E,D,{value:Number(z)||0}),decimalScale:2,placeholder:"Value"}):g.jsx(ce,{size:"sm",children:k.isInterval&&k.intervalLow!==void 0&&k.intervalHigh!==void 0?`${k.intervalLow}-${k.intervalHigh}`:k.value})}),g.jsx(ht.Td,{children:M?g.jsx(As,{size:"xs",value:k.unit,onChange:z=>c(E,D,{unit:z.target.value}),placeholder:"Unit",w:80}):g.jsx(ce,{size:"sm",children:k.unit})}),g.jsx(ht.Td,{children:M?g.jsxs(Be,{gap:"xs",wrap:"nowrap",children:[g.jsx(xl,{size:"xs",value:k.referenceRange?.low??"",onChange:z=>c(E,D,{referenceRange:{...k.referenceRange,low:z===""?void 0:Number(z),high:k.referenceRange?.high,unit:k.referenceRange?.unit||k.unit}}),decimalScale:2,placeholder:"Low",w:70,allowNegative:!1}),g.jsx(ce,{size:"xs",children:"-"}),g.jsx(xl,{size:"xs",value:k.referenceRange?.high??"",onChange:z=>c(E,D,{referenceRange:{...k.referenceRange,low:k.referenceRange?.low,high:z===""?void 0:Number(z),unit:k.referenceRange?.unit||k.unit}}),decimalScale:2,placeholder:"High",w:70,allowNegative:!1})]}):k.referenceRange?g.jsxs(ce,{size:"sm",children:[k.referenceRange.low??"?"," -"," ",k.referenceRange.high??"?"]}):g.jsx(ce,{size:"sm",c:"dimmed",children:""})}),g.jsx(ht.Td,{children:M?g.jsx(As,{size:"xs",value:k.method||"",onChange:z=>c(E,D,{method:z.target.value||void 0}),placeholder:"Method",w:100}):k.method?g.jsx(ce,{size:"sm",children:k.method}):g.jsx(ce,{size:"sm",c:"dimmed",children:""})}),g.jsx(ht.Td,{children:g.jsxs(fn,{size:"sm",color:wN(k.confidence),children:[Math.round(k.confidence*100),"%"]})}),g.jsx(ht.Td,{children:g.jsxs(Be,{gap:"xs",children:[M?g.jsx(Di,{size:"sm",color:"green",variant:"subtle",onClick:()=>a(null),"aria-label":"Save changes",children:g.jsx($n,{size:14})}):g.jsx(Di,{size:"sm",variant:"subtle",onClick:()=>a({resultIndex:E,biomarkerIndex:D}),"aria-label":"Edit biomarker",children:g.jsx(EF,{size:14})}),g.jsx(Di,{size:"sm",color:"red",variant:"subtle",onClick:()=>d(E,D),"aria-label":"Remove biomarker",children:g.jsx(_x,{size:14})})]})})]},D)})})]}),g.jsx(Dt,{variant:"light",leftSection:g.jsx(oP,{size:16}),onClick:()=>f(E),size:"sm",children:"Add Biomarker"})]})})]},T.fileId))}),o&&g.jsx(Kt,{icon:g.jsx(fd,{size:16}),title:"Cannot Continue",color:"red",withCloseButton:!0,onClose:()=>s(null),children:g.jsx(ce,{size:"sm",style:{whiteSpace:"pre-line"},children:o})}),g.jsxs(Be,{justify:"space-between",mt:"xl",children:[g.jsx(Dt,{variant:"subtle",leftSection:g.jsx(wx,{size:16}),onClick:r,children:"Back"}),g.jsx(Dt,{onClick:A,disabled:S===0,children:"Continue to Confirm"})]})]})}function Ece(t){return t.isInterval&&t.intervalLow!==void 0&&t.intervalHigh!==void 0?`${t.intervalLow}-${t.intervalHigh}`:String(t.value)}function Tce({results:t,onConfirm:e,onBack:n}){const r=t.length,i=t.reduce((s,c)=>s+c.editedBiomarkers.length,0),a=[...new Set(t.map(s=>s.editedLabDate||s.labDate).filter(Boolean))],o=[...new Set(t.map(s=>s.editedLabName||s.labName).filter(Boolean))];return g.jsxs(it,{gap:"lg",children:[g.jsxs(bx,{cols:{base:1,sm:2,md:4},spacing:"md",children:[g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsxs(Be,{children:[g.jsx(Vn,{size:"lg",variant:"light",color:"blue",children:g.jsx(yne,{size:20})}),g.jsxs("div",{children:[g.jsx(ce,{size:"xs",c:"dimmed",tt:"uppercase",children:"Files"}),g.jsx(ce,{fw:700,size:"xl",children:r})]})]})}),g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsxs(Be,{children:[g.jsx(Vn,{size:"lg",variant:"light",color:"green",children:g.jsx(Cx,{size:20})}),g.jsxs("div",{children:[g.jsx(ce,{size:"xs",c:"dimmed",tt:"uppercase",children:"Biomarkers"}),g.jsx(ce,{fw:700,size:"xl",children:i})]})]})}),g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsxs(Be,{children:[g.jsx(Vn,{size:"lg",variant:"light",color:"violet",children:g.jsx(hh,{size:20})}),g.jsxs("div",{children:[g.jsx(ce,{size:"xs",c:"dimmed",tt:"uppercase",children:"Lab Date(s)"}),g.jsx(ce,{fw:500,size:"sm",lineClamp:1,children:a.length>0?a.join(", "):"Not specified"})]})]})}),g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsxs(Be,{children:[g.jsx(Vn,{size:"lg",variant:"light",color:"orange",children:g.jsx(nP,{size:20})}),g.jsxs("div",{children:[g.jsx(ce,{size:"xs",c:"dimmed",tt:"uppercase",children:"Lab(s)"}),g.jsx(ce,{fw:500,size:"sm",lineClamp:1,children:o.length>0?o.join(", "):"Not specified"})]})]})})]}),g.jsxs(Lt,{p:"md",withBorder:!0,children:[g.jsx(ce,{fw:500,mb:"md",children:"Values to Import"}),t.map((s,c)=>g.jsxs("div",{children:[c>0&&g.jsx(Os,{my:"md"}),g.jsxs(Be,{justify:"space-between",mb:"sm",children:[g.jsxs("div",{children:[g.jsx(ce,{fw:500,size:"sm",children:s.fileName}),g.jsxs(Be,{gap:"xs",children:[(s.editedLabDate||s.labDate)&&g.jsx(fn,{size:"xs",variant:"light",children:s.editedLabDate||s.labDate}),(s.editedLabName||s.labName)&&g.jsx(fn,{size:"xs",variant:"light",color:"gray",children:s.editedLabName||s.labName})]})]}),g.jsxs(fn,{children:[s.editedBiomarkers.length," values"]})]}),g.jsxs(ht,{withTableBorder:!0,children:[g.jsx(ht.Thead,{children:g.jsxs(ht.Tr,{children:[g.jsx(ht.Th,{children:"Biomarker"}),g.jsx(ht.Th,{children:"Value"}),g.jsx(ht.Th,{children:"Reference Range"})]})}),g.jsx(ht.Tbody,{children:s.editedBiomarkers.map((d,f)=>g.jsxs(ht.Tr,{children:[g.jsx(ht.Td,{children:g.jsx(ce,{size:"sm",children:d.name})}),g.jsx(ht.Td,{children:g.jsxs(ce,{size:"sm",fw:500,children:[Ece(d)," ",d.unit]})}),g.jsx(ht.Td,{children:d.referenceRange?g.jsxs(ce,{size:"sm",c:"dimmed",children:[d.referenceRange.low??"?"," -"," ",d.referenceRange.high??"?"," ",d.referenceRange.unit]}):g.jsx(ce,{size:"sm",c:"dimmed",children:""})})]},f))})]})]},s.fileId))]}),g.jsx(Lt,{p:"md",bg:"var(--mantine-color-blue-light)",withBorder:!0,children:g.jsxs(Be,{children:[g.jsx(Vn,{size:"lg",color:"blue",variant:"filled",children:g.jsx($n,{size:20})}),g.jsxs("div",{children:[g.jsx(ce,{fw:500,children:"Ready to Save"}),g.jsx(ce,{size:"sm",c:"dimmed",children:'Click "Save Results" to add these values to your health timeline.'})]})]})}),g.jsxs(Be,{justify:"space-between",mt:"xl",children:[g.jsx(Dt,{variant:"subtle",leftSection:g.jsx(wx,{size:16}),onClick:n,children:"Back to Review"}),g.jsx(Dt,{color:"green",leftSection:g.jsx($n,{size:16}),onClick:e,children:"Save Results"})]})]})}const SN=[{label:"Upload",description:"Select files",icon:km},{label:"Analyze",description:"Process documents",icon:_te},{label:"Review",description:"Verify results",icon:Yte},{label:"Confirm",description:"Save results",icon:$n}];function kce({onComplete:t,onCancel:e,aiProvider:n,getApiKey:r,aiModel:i}){const[a,o]=w.useState(0),[s,c]=w.useState([]),[d,f]=w.useState([]),[h,m]=w.useState([]),v=w.useCallback(()=>{o(k=>Math.min(k+1,SN.length-1))},[]),b=w.useCallback(()=>{o(k=>Math.max(k-1,0))},[]),x=w.useCallback(k=>{c(k),v()},[v]),S=w.useCallback(k=>{f(k),m(k.map(D=>({...D,editedBiomarkers:[...D.biomarkers]}))),v()},[v]),A=w.useCallback(k=>{m(k),v()},[v]),T=w.useCallback(()=>{t(h)},[t,h]),E=()=>{switch(a){case 0:return g.jsx(Zse,{onComplete:x,onCancel:e});case 1:return g.jsx(yce,{files:s,aiProvider:n,getApiKey:r,aiModel:i,onComplete:S,onBack:b});case 2:return g.jsx(_ce,{results:d,reviewedResults:h,onReviewChange:m,onComplete:A,onBack:b});case 3:return g.jsx(Tce,{results:h,onConfirm:T,onBack:b});default:return null}};return g.jsx(hg,{size:"lg",py:"xl",children:g.jsxs(Lt,{shadow:"sm",p:"xl",radius:"md",withBorder:!0,children:[g.jsx(Yi,{order:2,mb:"md",children:"Import Lab Results"}),g.jsx(ce,{c:"dimmed",mb:"xl",children:"Upload your lab report documents and we'll extract the values automatically."}),g.jsx(zo,{active:a,onStepClick:o,allowNextStepsSelect:!1,mb:"xl",children:SN.map((k,D)=>g.jsx(zo.Step,{label:k.label,description:k.description,icon:g.jsx(k.icon,{size:18}),allowStepSelect:D<a},k.label))}),E()]})})}function Pce(t){switch(t){case"high":return{icon:g.jsx(tP,{size:14}),color:"red",label:"Above reference range"};case"low":return{icon:g.jsx(eP,{size:14}),color:"orange",label:"Below reference range"};case"normal":return{icon:g.jsx($n,{size:14}),color:"green",label:"Within reference range"};default:return{icon:g.jsx(aP,{size:14}),color:"gray",label:"No reference range available"}}}function Oce(t,e,n){if(t===void 0&&e===void 0)return"";const r=t!==void 0?t.toString():"?",i=e!==void 0?e.toString():"?";return`${r} - ${i} ${n}`}function Dce(t){if(t.biomarkerName)return t.biomarkerName;if(t.rawText){const e=Bs(t.rawText);return e?e.name:t.rawText}return`Biomarker #${t.biomarkerId}`}const Mce={serum:"Serum",plasma:"Plasma",urine:"Urine","urine-24h":"24h Urine","whole-blood":"Whole Blood",capillary:"Capillary",saliva:"Saliva",csf:"CSF",stool:"Stool",semen:"Semen",other:"Other"};function Rce(t){return t?Mce[t]||t:""}const jce=[{pattern:/\s*\(urine,?\s*24h?\)\s*$/i,type:"urine-24h"},{pattern:/\s*\(24h?\s*urine\)\s*$/i,type:"urine-24h"},{pattern:/\s*\(urine[^)]*\)\s*$/i,type:"urine"},{pattern:/\s*\(plasma[^)]*\)\s*$/i,type:"plasma"},{pattern:/\s*\(serum[^)]*\)\s*$/i,type:"serum"},{pattern:/\s*\(siero[^)]*\)\s*$/i,type:"serum"},{pattern:/\s*\(sangue[^)]*\)\s*$/i,type:"whole-blood"},{pattern:/\s*\(whole[- ]?blood[^)]*\)\s*$/i,type:"whole-blood"},{pattern:/\s*\(semen[^)]*\)\s*$/i,type:"semen"},{pattern:/\s*\(liquido seminale[^)]*\)\s*$/i,type:"semen"},{pattern:/\s*\(csf[^)]*\)\s*$/i,type:"csf"},{pattern:/\s*\(liquor[^)]*\)\s*$/i,type:"csf"},{pattern:/\s*\(saliva[^)]*\)\s*$/i,type:"saliva"},{pattern:/\s*\(stool[^)]*\)\s*$/i,type:"stool"},{pattern:/\s*\(feci[^)]*\)\s*$/i,type:"stool"}];function Lce(t){for(const{pattern:e,type:n}of jce)if(e.test(t))return{cleanName:t.replace(e,"").trim(),extractedSpecimen:n};return{cleanName:t}}function Nce(t){const e=t.biomarkerName||t.rawText,{cleanName:n,extractedSpecimen:r}=Lce(e||"");if(e){const i=Bs(e);if(i)return{specimenType:i.specimenType,loincCode:i.loincCode,description:i.description,cleanName:n}}return{specimenType:r,cleanName:n}}function BA(t){return Number.isInteger(t)?t.toString():t.toFixed(2)}function AN(t){const{value:e,numericValueType:n,intervalLow:r,intervalHigh:i}=t;return n==="interval"&&r!==void 0&&i!==void 0?`${BA(r)}-${BA(i)}`:typeof e=="boolean"?e?"Positive":"Negative":typeof e=="number"?BA(e):String(e)}function Ice({testValues:t}){return t.length===0?g.jsx(ce,{c:"dimmed",ta:"center",py:"md",children:"No test values recorded for this result."}):g.jsxs(ht,{striped:!0,highlightOnHover:!0,withTableBorder:!0,"aria-label":"Test values",children:[g.jsx(ht.Thead,{children:g.jsxs(ht.Tr,{children:[g.jsx(ht.Th,{children:"Status"}),g.jsx(ht.Th,{children:"Biomarker"}),g.jsx(ht.Th,{children:"Specimen"}),g.jsx(ht.Th,{children:"Value"}),g.jsx(ht.Th,{children:"Unit"}),g.jsx(ht.Th,{children:"Reference Range"})]})}),g.jsx(ht.Tbody,{children:t.map(e=>{const n=Pce(e.status),r=Dce(e),i=Nce(e),a=[];i.loincCode&&a.push(`LOINC: ${i.loincCode}`),i.description&&a.push(i.description);const o=a.length>0?a.join(`
`):null;return g.jsxs(ht.Tr,{"data-status":e.status,"aria-label":`${r}: ${AN(e)} ${e.unit}, ${n.label}`,children:[g.jsx(ht.Td,{children:g.jsx(fi,{label:n.label,children:g.jsx(Vn,{size:"sm",color:n.color,variant:"light",radius:"xl","aria-label":n.label,children:n.icon})})}),g.jsx(ht.Td,{children:o?g.jsx(fi,{label:o,multiline:!0,w:300,withArrow:!0,children:g.jsx(ce,{size:"sm",fw:500,style:{cursor:"help",textDecoration:"underline dotted"},children:i.cleanName||r})}):g.jsx(ce,{size:"sm",fw:500,children:i.cleanName||r})}),g.jsx(ht.Td,{children:g.jsxs(Be,{gap:4,children:[g.jsx(Cx,{size:14,style:{color:"var(--mantine-color-dimmed)"}}),g.jsx(ce,{size:"sm",c:"dimmed",children:Rce(i.specimenType)})]})}),g.jsx(ht.Td,{children:g.jsx(Be,{gap:4,children:g.jsx(ce,{size:"sm",fw:e.status!=="normal"&&e.status!=="unknown"?600:400,c:e.status==="high"?"red":e.status==="low"?"orange":void 0,children:AN(e)})})}),g.jsx(ht.Td,{children:g.jsx(ce,{size:"sm",c:"dimmed",children:e.unit})}),g.jsx(ht.Td,{children:g.jsx(ce,{size:"sm",c:"dimmed",children:Oce(e.referenceRangeLow,e.referenceRangeHigh,e.unit)})})]},e.id)})})]})}const zce=["symptom","medication","diet","exercise","sleep","stress","fasting","followup"];function z6({initialContent:t="",initialTags:e=[],onSave:n,onCancel:r,isEditing:i=!1,placeholder:a="Add a note about this result...",autoFocus:o=!0,maxLength:s=5e3,isSaving:c=!1}){const[d,f]=w.useState(t),[h,m]=w.useState(e),v=w.useCallback(E=>{const k=E.target.value;k.length<=s&&f(k)},[s]),b=w.useCallback(()=>{const E=d.trim();E.length!==0&&n(E,h)},[d,h,n]),x=w.useCallback(E=>{(E.ctrlKey||E.metaKey)&&E.key==="Enter"&&(E.preventDefault(),b()),E.key==="Escape"&&(E.preventDefault(),r())},[b,r]),S=d.trim().length>0&&!c,A=d.length,T=A>s*.9;return g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsxs(it,{gap:"sm",children:[g.jsxs(Be,{gap:"xs",children:[g.jsx(Ax,{size:16}),g.jsx(ce,{size:"sm",fw:500,children:i?"Edit Note":"Add Note"})]}),g.jsx(Tk,{value:d,onChange:v,onKeyDown:x,placeholder:a,minRows:3,maxRows:10,autosize:!0,autoFocus:o,"aria-label":i?"Edit note content":"Note content"}),g.jsxs(Be,{justify:"space-between",children:[g.jsxs(ce,{size:"xs",c:T?"orange":"dimmed",children:[A," / ",s]}),g.jsx(ce,{size:"xs",c:"dimmed",children:"Ctrl+Enter to save, Esc to cancel"})]}),g.jsx(Wk,{label:"Tags",placeholder:"Add tags (press Enter)",value:h,onChange:m,data:zce,clearable:!0,maxTags:10,"aria-label":"Note tags"}),g.jsxs(Be,{justify:"flex-end",gap:"sm",children:[g.jsx(Dt,{variant:"subtle",color:"gray",leftSection:g.jsx(Vi,{size:16}),onClick:r,disabled:c,children:"Cancel"}),g.jsx(Dt,{leftSection:g.jsx($n,{size:16}),onClick:b,disabled:!S,loading:c,children:i?"Save Changes":"Save Note"})]})]})})}function Bce(t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}).format(t)}function $ce({note:t,onUpdate:e,onDelete:n,isProcessing:r=!1}){const[i,a]=w.useState(!1),[o,s]=w.useState(!1),[c,d]=w.useState(!1),[f,h]=w.useState(!1),m=()=>{a(!0)},v=()=>{a(!1)},b=async(E,k)=>{if(t.id){d(!0);try{await e(t.id,E,k),a(!1)}finally{d(!1)}}},x=()=>{h(!0)},S=async()=>{if(t.id){s(!0);try{await n(t.id),h(!1)}finally{s(!1)}}},A=()=>{h(!1)};if(i)return g.jsx(z6,{initialContent:t.content,initialTags:t.tags,onSave:b,onCancel:v,isEditing:!0,isSaving:c});const T=t.updatedAt.getTime()!==t.createdAt.getTime();return g.jsxs(g.Fragment,{children:[g.jsx(Lt,{p:"sm",withBorder:!0,children:g.jsxs(it,{gap:"xs",children:[g.jsxs(Be,{justify:"space-between",align:"flex-start",children:[g.jsxs(Be,{gap:"xs",children:[g.jsx(Ax,{size:14,color:"gray"}),g.jsxs(ce,{size:"xs",c:"dimmed",children:[Bce(t.createdAt),T&&" (edited)"]})]}),g.jsxs(Be,{gap:"xs",children:[g.jsx(Di,{variant:"subtle",color:"gray",size:"sm",onClick:m,disabled:r,"aria-label":"Edit note",children:g.jsx(EF,{size:14})}),g.jsx(Di,{variant:"subtle",color:"red",size:"sm",onClick:x,disabled:r,"aria-label":"Delete note",children:g.jsx(_x,{size:14})})]})]}),g.jsx(ce,{size:"sm",style:{whiteSpace:"pre-wrap"},children:t.content}),t.tags.length>0&&g.jsx(Be,{gap:"xs",children:t.tags.map(E=>g.jsx(fn,{size:"xs",variant:"light",children:E},E))})]})}),g.jsx(Kr,{opened:f,onClose:A,title:"Delete Note",centered:!0,size:"sm",children:g.jsxs(it,{children:[g.jsx(ce,{size:"sm",children:"Are you sure you want to delete this note? This action cannot be undone."}),g.jsxs(Be,{justify:"flex-end",gap:"sm",children:[g.jsx(Dt,{variant:"subtle",color:"gray",onClick:A,disabled:o,children:"Cancel"}),g.jsx(Dt,{color:"red",onClick:S,loading:o,children:"Delete"})]})]})})]})}function B6({notes:t,onCreateNote:e,onUpdateNote:n,onDeleteNote:r,title:i="Notes",defaultCollapsed:a=!1,isProcessing:o=!1,showEditorByDefault:s=!1,editorPlaceholder:c}){const[d,f]=w.useState(a),[h,m]=w.useState(s),[v,b]=w.useState(!1),x=()=>{f(M=>!M)},S=()=>{m(!0)},A=()=>{m(!1)},T=async(M,R)=>{b(!0);try{await e(M,R),m(!1)}finally{b(!1)}},E=async(M,R,N)=>{await n(M,R,N)},k=async M=>{await r(M)},D=t.length>0;return g.jsxs(it,{gap:"sm",children:[g.jsxs(Be,{justify:"space-between",onClick:x,style:{cursor:"pointer"},role:"button",tabIndex:0,onKeyDown:M=>{(M.key==="Enter"||M.key===" ")&&(M.preventDefault(),x())},"aria-expanded":!d,"aria-label":`${i} section, ${d?"collapsed":"expanded"}`,children:[g.jsxs(Be,{gap:"xs",children:[g.jsx(Ax,{size:16}),g.jsx(ce,{fw:500,size:"sm",children:i}),D&&g.jsxs(ce,{size:"xs",c:"dimmed",children:["(",t.length,")"]})]}),d?g.jsx(AF,{size:16}):g.jsx(CF,{size:16})]}),g.jsx(sg,{in:!d,children:g.jsxs(it,{gap:"sm",children:[t.map(M=>g.jsx($ce,{note:M,onUpdate:E,onDelete:k,isProcessing:o},M.id)),!D&&!h&&g.jsx(ce,{size:"sm",c:"dimmed",ta:"center",py:"sm",children:"No notes yet"}),h?g.jsx(z6,{onSave:T,onCancel:A,isSaving:v,placeholder:c}):g.jsx(Dt,{variant:"subtle",size:"xs",leftSection:g.jsx(oP,{size:14}),onClick:S,disabled:o,children:"Add Note"})]})})]})}function $A(t){return t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function Fce(t){return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Uce({result:t,onDelete:e,defaultExpanded:n=!1,notes:r=[],onCreateNote:i,onUpdateNote:a,onDeleteNote:o}){const[s,c]=w.useState(n),[d,{open:f,close:h}]=z0(!1),m=w.useCallback(async(k,D)=>{t.id!==void 0&&i&&await i(t.id,k,D)},[t.id,i]),v=w.useCallback(async(k,D,M)=>{a&&await a(k,D,M)},[a]),b=w.useCallback(async k=>{o&&await o(k)},[o]),x=i&&a&&o,S=w.useCallback(()=>{c(k=>!k)},[]),A=w.useCallback(k=>{k.stopPropagation(),f()},[f]),T=w.useCallback(()=>{t.id!==void 0&&e(t.id),h()},[t.id,e,h]),E=t.abnormalCount>0;return g.jsxs(g.Fragment,{children:[g.jsx(Lt,{p:"md",withBorder:!0,radius:"md",shadow:s?"sm":void 0,role:"region","aria-label":`Lab result from ${$A(t.date)}`,"aria-expanded":s,children:g.jsxs(it,{gap:"sm",children:[g.jsxs(Be,{justify:"space-between",wrap:"nowrap",style:{cursor:"pointer"},onClick:S,onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&(k.preventDefault(),S())},tabIndex:0,role:"button","aria-controls":`lab-result-${t.id}-content`,"aria-label":`${s?"Collapse":"Expand"} lab result from ${$A(t.date)}`,children:[g.jsxs(Be,{gap:"md",wrap:"nowrap",children:[g.jsx(Di,{variant:"subtle",color:"gray","aria-hidden":"true",tabIndex:-1,children:s?g.jsx(CF,{size:20}):g.jsx(AF,{size:20})}),g.jsxs(it,{gap:4,children:[g.jsxs(Be,{gap:"xs",children:[g.jsx(hh,{size:16,style:{opacity:.6},"aria-hidden":"true"}),g.jsx(ce,{fw:600,children:Fce(t.date)})]}),g.jsxs(Be,{gap:"xs",children:[g.jsx(nP,{size:14,style:{opacity:.5},"aria-hidden":"true"}),g.jsx(ce,{size:"sm",c:"dimmed",children:t.labName})]})]})]}),g.jsxs(Be,{gap:"sm",wrap:"nowrap",children:[g.jsxs(fn,{variant:"light",color:"blue",children:[t.totalCount," test",t.totalCount!==1?"s":""]}),E&&g.jsx(fi,{label:`${t.abnormalCount} value(s) outside reference range`,children:g.jsxs(fn,{variant:"light",color:"orange",leftSection:g.jsx(fd,{size:12}),"aria-label":`${t.abnormalCount} abnormal value${t.abnormalCount!==1?"s":""}`,children:[t.abnormalCount," abnormal"]})}),r.length>0&&g.jsx(fi,{label:`${r.length} note${r.length!==1?"s":""}`,children:g.jsx(fn,{variant:"light",color:"gray",leftSection:g.jsx(Ax,{size:12}),"aria-label":`${r.length} note${r.length!==1?"s":""}`,children:r.length})}),g.jsx(fi,{label:"Delete result",children:g.jsx(Di,{variant:"subtle",color:"red",onClick:A,"aria-label":"Delete this lab result",children:g.jsx(_x,{size:18})})})]})]}),g.jsx(sg,{in:s,children:g.jsxs("div",{id:`lab-result-${t.id}-content`,children:[g.jsx(Ice,{testValues:t.testValues}),x&&g.jsxs(g.Fragment,{children:[g.jsx(Os,{my:"md"}),g.jsx(B6,{notes:r,onCreateNote:m,onUpdateNote:v,onDeleteNote:b,defaultCollapsed:r.length===0,editorPlaceholder:"Add a note about this lab result..."})]})]})})]})}),g.jsx(Kr,{opened:d,onClose:h,title:"Delete Lab Result",centered:!0,children:g.jsxs(it,{gap:"md",children:[g.jsxs(ce,{children:["Are you sure you want to delete this lab result from"," ",g.jsx("strong",{children:$A(t.date)}),"?"]}),g.jsxs(ce,{c:"dimmed",size:"sm",children:["This will permanently remove the lab result and all ",t.totalCount," ","associated test value",t.totalCount!==1?"s":"",". This action cannot be undone."]}),g.jsxs(Be,{justify:"flex-end",gap:"sm",children:[g.jsx(Dt,{variant:"subtle",onClick:h,children:"Cancel"}),g.jsx(Dt,{color:"red",onClick:T,children:"Delete"})]})]})})]})}var nb={exports:{}},Hce=nb.exports,CN;function Vce(){return CN||(CN=1,(function(t,e){(function(n,r){t.exports=r()})(Hce,(function(){var n=1e3,r=6e4,i=36e5,a="millisecond",o="second",s="minute",c="hour",d="day",f="week",h="month",m="quarter",v="year",b="date",x="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(W){var J=["th","st","nd","rd"],L=W%100;return"["+W+(J[(L-20)%10]||J[L]||J[0])+"]"}},E=function(W,J,L){var U=String(W);return!U||U.length>=J?W:""+Array(J+1-U.length).join(L)+W},k={s:E,z:function(W){var J=-W.utcOffset(),L=Math.abs(J),U=Math.floor(L/60),F=L%60;return(J<=0?"+":"-")+E(U,2,"0")+":"+E(F,2,"0")},m:function W(J,L){if(J.date()<L.date())return-W(L,J);var U=12*(L.year()-J.year())+(L.month()-J.month()),F=J.clone().add(U,h),V=L-F<0,G=J.clone().add(U+(V?-1:1),h);return+(-(U+(L-F)/(V?F-G:G-F))||0)},a:function(W){return W<0?Math.ceil(W)||0:Math.floor(W)},p:function(W){return{M:h,y:v,w:f,d,D:b,h:c,m:s,s:o,ms:a,Q:m}[W]||String(W||"").toLowerCase().replace(/s$/,"")},u:function(W){return W===void 0}},D="en",M={};M[D]=T;var R="$isDayjsObject",N=function(W){return W instanceof K||!(!W||!W[R])},z=function W(J,L,U){var F;if(!J)return D;if(typeof J=="string"){var V=J.toLowerCase();M[V]&&(F=V),L&&(M[V]=L,F=V);var G=J.split("-");if(!F&&G.length>1)return W(G[0])}else{var $=J.name;M[$]=J,F=$}return!U&&F&&(D=F),F||!U&&D},q=function(W,J){if(N(W))return W.clone();var L=typeof J=="object"?J:{};return L.date=W,L.args=arguments,new K(L)},Y=k;Y.l=z,Y.i=N,Y.w=function(W,J){return q(W,{locale:J.$L,utc:J.$u,x:J.$x,$offset:J.$offset})};var K=(function(){function W(L){this.$L=z(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[R]=!0}var J=W.prototype;return J.parse=function(L){this.$d=(function(U){var F=U.date,V=U.utc;if(F===null)return new Date(NaN);if(Y.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var G=F.match(S);if(G){var $=G[2]-1||0,X=(G[7]||"0").substring(0,3);return V?new Date(Date.UTC(G[1],$,G[3]||1,G[4]||0,G[5]||0,G[6]||0,X)):new Date(G[1],$,G[3]||1,G[4]||0,G[5]||0,G[6]||0,X)}}return new Date(F)})(L),this.init()},J.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},J.$utils=function(){return Y},J.isValid=function(){return this.$d.toString()!==x},J.isSame=function(L,U){var F=q(L);return this.startOf(U)<=F&&F<=this.endOf(U)},J.isAfter=function(L,U){return q(L)<this.startOf(U)},J.isBefore=function(L,U){return this.endOf(U)<q(L)},J.$g=function(L,U,F){return Y.u(L)?this[U]:this.set(F,L)},J.unix=function(){return Math.floor(this.valueOf()/1e3)},J.valueOf=function(){return this.$d.getTime()},J.startOf=function(L,U){var F=this,V=!!Y.u(U)||U,G=Y.p(L),$=function(ie,se){var je=Y.w(F.$u?Date.UTC(F.$y,se,ie):new Date(F.$y,se,ie),F);return V?je:je.endOf(d)},X=function(ie,se){return Y.w(F.toDate()[ie].apply(F.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(se)),F)},ne=this.$W,ae=this.$M,oe=this.$D,xe="set"+(this.$u?"UTC":"");switch(G){case v:return V?$(1,0):$(31,11);case h:return V?$(1,ae):$(0,ae+1);case f:var be=this.$locale().weekStart||0,ze=(ne<be?ne+7:ne)-be;return $(V?oe-ze:oe+(6-ze),ae);case d:case b:return X(xe+"Hours",0);case c:return X(xe+"Minutes",1);case s:return X(xe+"Seconds",2);case o:return X(xe+"Milliseconds",3);default:return this.clone()}},J.endOf=function(L){return this.startOf(L,!1)},J.$set=function(L,U){var F,V=Y.p(L),G="set"+(this.$u?"UTC":""),$=(F={},F[d]=G+"Date",F[b]=G+"Date",F[h]=G+"Month",F[v]=G+"FullYear",F[c]=G+"Hours",F[s]=G+"Minutes",F[o]=G+"Seconds",F[a]=G+"Milliseconds",F)[V],X=V===d?this.$D+(U-this.$W):U;if(V===h||V===v){var ne=this.clone().set(b,1);ne.$d[$](X),ne.init(),this.$d=ne.set(b,Math.min(this.$D,ne.daysInMonth())).$d}else $&&this.$d[$](X);return this.init(),this},J.set=function(L,U){return this.clone().$set(L,U)},J.get=function(L){return this[Y.p(L)]()},J.add=function(L,U){var F,V=this;L=Number(L);var G=Y.p(U),$=function(ae){var oe=q(V);return Y.w(oe.date(oe.date()+Math.round(ae*L)),V)};if(G===h)return this.set(h,this.$M+L);if(G===v)return this.set(v,this.$y+L);if(G===d)return $(1);if(G===f)return $(7);var X=(F={},F[s]=r,F[c]=i,F[o]=n,F)[G]||1,ne=this.$d.getTime()+L*X;return Y.w(ne,this)},J.subtract=function(L,U){return this.add(-1*L,U)},J.format=function(L){var U=this,F=this.$locale();if(!this.isValid())return F.invalidDate||x;var V=L||"YYYY-MM-DDTHH:mm:ssZ",G=Y.z(this),$=this.$H,X=this.$m,ne=this.$M,ae=F.weekdays,oe=F.months,xe=F.meridiem,be=function(se,je,ue,Ve){return se&&(se[je]||se(U,V))||ue[je].slice(0,Ve)},ze=function(se){return Y.s($%12||12,se,"0")},ie=xe||function(se,je,ue){var Ve=se<12?"AM":"PM";return ue?Ve.toLowerCase():Ve};return V.replace(A,(function(se,je){return je||(function(ue){switch(ue){case"YY":return String(U.$y).slice(-2);case"YYYY":return Y.s(U.$y,4,"0");case"M":return ne+1;case"MM":return Y.s(ne+1,2,"0");case"MMM":return be(F.monthsShort,ne,oe,3);case"MMMM":return be(oe,ne);case"D":return U.$D;case"DD":return Y.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return be(F.weekdaysMin,U.$W,ae,2);case"ddd":return be(F.weekdaysShort,U.$W,ae,3);case"dddd":return ae[U.$W];case"H":return String($);case"HH":return Y.s($,2,"0");case"h":return ze(1);case"hh":return ze(2);case"a":return ie($,X,!0);case"A":return ie($,X,!1);case"m":return String(X);case"mm":return Y.s(X,2,"0");case"s":return String(U.$s);case"ss":return Y.s(U.$s,2,"0");case"SSS":return Y.s(U.$ms,3,"0");case"Z":return G}return null})(se)||G.replace(":","")}))},J.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},J.diff=function(L,U,F){var V,G=this,$=Y.p(U),X=q(L),ne=(X.utcOffset()-this.utcOffset())*r,ae=this-X,oe=function(){return Y.m(G,X)};switch($){case v:V=oe()/12;break;case h:V=oe();break;case m:V=oe()/3;break;case f:V=(ae-ne)/6048e5;break;case d:V=(ae-ne)/864e5;break;case c:V=ae/i;break;case s:V=ae/r;break;case o:V=ae/n;break;default:V=ae}return F?V:Y.a(V)},J.daysInMonth=function(){return this.endOf(h).$D},J.$locale=function(){return M[this.$L]},J.locale=function(L,U){if(!L)return this.$L;var F=this.clone(),V=z(L,U,!0);return V&&(F.$L=V),F},J.clone=function(){return Y.w(this.$d,this)},J.toDate=function(){return new Date(this.valueOf())},J.toJSON=function(){return this.isValid()?this.toISOString():null},J.toISOString=function(){return this.$d.toISOString()},J.toString=function(){return this.$d.toUTCString()},W})(),te=K.prototype;return q.prototype=te,[["$ms",a],["$s",o],["$m",s],["$H",c],["$W",d],["$M",h],["$y",v],["$D",b]].forEach((function(W){te[W[1]]=function(J){return this.$g(J,W[0],W[1])}})),q.extend=function(W,J){return W.$i||(W(J,K,q),W.$i=!0),q},q.locale=z,q.isDayjs=N,q.unix=function(W){return q(1e3*W)},q.en=M[D],q.Ls=M,q.p={},q}))})(nb)),nb.exports}var qce=Vce();const rt=ua(qce);function Gce({type:t,date:e,locale:n,format:r,labelSeparator:i}){const a=o=>rt(o).locale(n).format(r);return t==="default"?e===null?"":a(e):t==="multiple"?e.map(a).join(", "):t==="range"&&Array.isArray(e)?e[0]&&e[1]?`${a(e[0])} ${i} ${a(e[1])}`:e[0]?`${a(e[0])} ${i} `:"":""}function Yce({formatter:t,...e}){return(t||Gce)(e)}function Kce({direction:t,levelIndex:e,rowIndex:n,cellIndex:r,size:i}){switch(t){case"up":return e===0&&n===0?null:n===0?{levelIndex:e-1,rowIndex:r<=i[e-1][i[e-1].length-1]-1?i[e-1].length-1:i[e-1].length-2,cellIndex:r}:{levelIndex:e,rowIndex:n-1,cellIndex:r};case"down":return n===i[e].length-1?{levelIndex:e+1,rowIndex:0,cellIndex:r}:n===i[e].length-2&&r>=i[e][i[e].length-1]?{levelIndex:e+1,rowIndex:0,cellIndex:r}:{levelIndex:e,rowIndex:n+1,cellIndex:r};case"left":return e===0&&n===0&&r===0?null:n===0&&r===0?{levelIndex:e-1,rowIndex:i[e-1].length-1,cellIndex:i[e-1][i[e-1].length-1]-1}:r===0?{levelIndex:e,rowIndex:n-1,cellIndex:i[e][n-1]-1}:{levelIndex:e,rowIndex:n,cellIndex:r-1};case"right":return n===i[e].length-1&&r===i[e][n]-1?{levelIndex:e+1,rowIndex:0,cellIndex:0}:r===i[e][n]-1?{levelIndex:e,rowIndex:n+1,cellIndex:0}:{levelIndex:e,rowIndex:n,cellIndex:r+1};default:return{levelIndex:e,rowIndex:n,cellIndex:r}}}function $6({controlsRef:t,direction:e,levelIndex:n,rowIndex:r,cellIndex:i,size:a}){const o=Kce({direction:e,size:a,rowIndex:r,cellIndex:i,levelIndex:n});if(!o)return;const s=t.current?.[o.levelIndex]?.[o.rowIndex]?.[o.cellIndex];s&&(s.disabled||s.getAttribute("data-hidden")||s.getAttribute("data-outside")?$6({controlsRef:t,direction:e,levelIndex:o.levelIndex,cellIndex:o.cellIndex,rowIndex:o.rowIndex,size:a}):s.focus())}function Wce(t){switch(t){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function Xce(t){return t.current?.map(e=>e.map(n=>n.length))}function LP({controlsRef:t,levelIndex:e,rowIndex:n,cellIndex:r,event:i}){const a=Wce(i.key);if(a){i.preventDefault();const o=Xce(t);$6({controlsRef:t,direction:a,levelIndex:e,rowIndex:n,cellIndex:r,size:o})}}function qi(t){return t==null||t===""?t:rt(t).format("YYYY-MM-DD")}function F6(t){return t==null||t===""?t:rt(t).format("YYYY-MM-DD HH:mm:ss")}function Zce({minDate:t,maxDate:e}){const n=rt();return!t&&!e?qi(n):t&&rt(n).isBefore(t)?qi(t):e&&rt(n).isAfter(e)?qi(e):qi(n)}const Qce={locale:"en",firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"",consistentWeeks:!1},Jce=w.createContext(Qce);function eu(){const t=w.useContext(Jce),e=w.useCallback(a=>a||t.locale,[t.locale]),n=w.useCallback(a=>typeof a=="number"?a:t.firstDayOfWeek,[t.firstDayOfWeek]),r=w.useCallback(a=>Array.isArray(a)?a:t.weekendDays,[t.weekendDays]),i=w.useCallback(a=>typeof a=="string"?a:t.labelSeparator,[t.labelSeparator]);return{...t,getLocale:e,getFirstDayOfWeek:n,getWeekendDays:r,getLabelSeparator:i}}function eue({value:t,type:e,withTime:n}){const r=n?F6:qi;if(e==="range"&&Array.isArray(t)){const i=r(t[0]),a=r(t[1]);return i?a?`${i}  ${a}`:`${i} `:""}return e==="multiple"&&Array.isArray(t)?t.filter(Boolean).join(", "):!Array.isArray(t)&&t?r(t):""}function U6({value:t,type:e,name:n,form:r,withTime:i=!1}){return g.jsx("input",{type:"hidden",value:eue({value:t,type:e,withTime:i}),name:n,form:r})}U6.displayName="@mantine/dates/HiddenDatesInput";var H6={day:"m_396ce5cb"};const tue=(t,{size:e})=>({day:{"--day-size":Mt(e,"day-size")}}),NP=Ue((t,e)=>{const n=Pe("Day",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,date:d,disabled:f,__staticSelector:h,weekend:m,outside:v,selected:b,renderDay:x,inRange:S,firstInRange:A,lastInRange:T,hidden:E,static:k,highlightToday:D,attributes:M,...R}=n,N=ut({name:h||"Day",classes:H6,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:M,vars:c,varsResolver:tue,rootSelector:"day"});return g.jsx(Br,{...N("day",{style:E?{display:"none"}:void 0}),component:k?"div":"button",ref:e,disabled:f,"data-today":rt(d).isSame(new Date,"day")||void 0,"data-hidden":E||void 0,"data-highlight-today":D||void 0,"data-disabled":f||void 0,"data-weekend":!f&&!v&&m||void 0,"data-outside":!f&&v||void 0,"data-selected":!f&&b||void 0,"data-in-range":S&&!f||void 0,"data-first-in-range":A&&!f||void 0,"data-last-in-range":T&&!f||void 0,"data-static":k||void 0,unstyled:s,...R,children:x?.(d)||rt(d).date()})});NP.classes=H6;NP.displayName="@mantine/dates/Day";function nue({locale:t,format:e="dd",firstDayOfWeek:n=1}){const r=rt().day(n),i=[];for(let a=0;a<7;a+=1)typeof e=="string"?i.push(rt(r).add(a,"days").locale(t).format(e)):i.push(e(rt(r).add(a,"days").format("YYYY-MM-DD")));return i}var V6={weekday:"m_18a3eca"};const rue=(t,{size:e})=>({weekdaysRow:{"--wr-fz":cr(e),"--wr-spacing":zr(e)}}),IP=Ue((t,e)=>{const n=Pe("WeekdaysRow",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,locale:d,firstDayOfWeek:f,weekdayFormat:h,cellComponent:m="th",__staticSelector:v,withWeekNumbers:b,attributes:x,...S}=n,A=ut({name:v||"WeekdaysRow",classes:V6,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:x,vars:c,varsResolver:rue,rootSelector:"weekdaysRow"}),T=eu(),E=nue({locale:T.getLocale(d),format:h,firstDayOfWeek:T.getFirstDayOfWeek(f)}).map((k,D)=>g.jsx(m,{...A("weekday"),children:k},D));return g.jsxs(Me,{component:"tr",ref:e,...A("weekdaysRow"),...S,children:[b&&g.jsx(m,{...A("weekday"),children:"#"}),E]})});IP.classes=V6;IP.displayName="@mantine/dates/WeekdaysRow";function iue(t,e=1){let n=rt(t);if(!n.isValid())return n;const r=e===0?6:e-1;for(;n.day()!==r;)n=n.add(1,"day");return n.format("YYYY-MM-DD")}function aue(t,e=1){let n=rt(t);for(;n.day()!==e;)n=n.subtract(1,"day");return n.format("YYYY-MM-DD")}function oue({month:t,firstDayOfWeek:e=1,consistentWeeks:n}){const r=rt(t).subtract(rt(t).date()-1,"day"),i=rt(r.format("YYYY-M-D")),a=i.format("YYYY-MM-DD"),o=i.add(+i.daysInMonth()-1,"day").format("YYYY-MM-DD"),s=iue(o,e),c=[];let d=rt(aue(a,e));for(;rt(d).isBefore(s,"day");){const f=[];for(let h=0;h<7;h+=1)f.push(d.format("YYYY-MM-DD")),d=d.add(1,"day");c.push(f)}if(n&&c.length<6){const f=c[c.length-1],h=f[f.length-1];let m=rt(h).add(1,"day");for(;c.length<6;){const v=[];for(let b=0;b<7;b+=1)v.push(m.format("YYYY-MM-DD")),m=m.add(1,"day");c.push(v)}}return c}function zP(t,e){return rt(t).format("YYYY-MM")===rt(e).format("YYYY-MM")}function q6(t,e){return e?rt(t).isAfter(rt(e).subtract(1,"day"),"day"):!0}function G6(t,e){return e?rt(t).isBefore(rt(e).add(1,"day"),"day"):!0}function sue({dates:t,minDate:e,maxDate:n,getDayProps:r,excludeDate:i,hideOutsideDates:a,month:o}){const s=t.flat().filter(f=>G6(f,n)&&q6(f,e)&&!i?.(f)&&!r?.(f)?.disabled&&(!a||zP(f,o))),c=s.find(f=>r?.(f)?.selected);if(c)return c;const d=s.find(f=>rt().isSame(f,"date"));return d||s[0]}var rb={exports:{}},lue=rb.exports,_N;function cue(){return _N||(_N=1,(function(t,e){(function(n,r){t.exports=r()})(lue,(function(){var n="day";return function(r,i,a){var o=function(d){return d.add(4-d.isoWeekday(),n)},s=i.prototype;s.isoWeekYear=function(){return o(this).year()},s.isoWeek=function(d){if(!this.$utils().u(d))return this.add(7*(d-this.isoWeek()),n);var f,h,m,v,b=o(this),x=(f=this.isoWeekYear(),h=this.$u,m=(h?a.utc:a)().year(f).startOf("year"),v=4-m.isoWeekday(),m.isoWeekday()>4&&(v+=7),m.add(v,n));return b.diff(x,"week")+1},s.isoWeekday=function(d){return this.$utils().u(d)?this.day()||7:this.day(this.day()%7?d:d-7)};var c=s.startOf;s.startOf=function(d,f){var h=this.$utils(),m=!!h.u(f)||f;return h.p(d)==="isoweek"?m?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):c.bind(this)(d,f)}}}))})(rb)),rb.exports}var uue=cue();const due=ua(uue);rt.extend(due);function fue(t){const e=t.find(n=>rt(n).day()===1);return rt(e).isoWeek()}var Y6={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const hue={withCellSpacing:!0},pue=(t,{size:e})=>({weekNumber:{"--wn-fz":cr(e),"--wn-size":Mt(e,"wn-size")}}),Rx=Ue((t,e)=>{const n=Pe("Month",hue,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,__staticSelector:d,locale:f,firstDayOfWeek:h,weekdayFormat:m,month:v,weekendDays:b,getDayProps:x,excludeDate:S,minDate:A,maxDate:T,renderDay:E,hideOutsideDates:k,hideWeekdays:D,getDayAriaLabel:M,static:R,__getDayRef:N,__onDayKeyDown:z,__onDayClick:q,__onDayMouseEnter:Y,__preventFocus:K,__stopPropagation:te,withCellSpacing:W,size:J,highlightToday:L,withWeekNumbers:U,attributes:F,...V}=n,G=ut({name:d||"Month",classes:Y6,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:F,vars:c,varsResolver:pue,rootSelector:"month"}),$=eu(),X=oue({month:v,firstDayOfWeek:$.getFirstDayOfWeek(h),consistentWeeks:$.consistentWeeks}),ne=sue({dates:X,minDate:qi(A),maxDate:qi(T),getDayProps:x,excludeDate:S,hideOutsideDates:k,month:v}),{resolvedClassNames:ae,resolvedStyles:oe}=ka({classNames:r,styles:o,props:n}),xe=X.map((be,ze)=>{const ie=be.map((se,je)=>{const ue=!zP(se,v),Ve=M?.(se)||rt(se).locale(f||$.locale).format("D MMMM YYYY"),Le=x?.(se),ct=rt(se).isSame(ne,"date");return g.jsx("td",{...G("monthCell"),"data-with-spacing":W||void 0,children:g.jsx(NP,{__staticSelector:d||"Month",classNames:ae,styles:oe,unstyled:s,"data-mantine-stop-propagation":te||void 0,highlightToday:L,renderDay:E,date:se,size:J,weekend:$.getWeekendDays(b).includes(rt(se).get("day")),outside:ue,hidden:k?ue:!1,"aria-label":Ve,static:R,disabled:S?.(se)||!G6(se,qi(T))||!q6(se,qi(A)),ref:Qe=>{Qe&&N?.(ze,je,Qe)},...Le,onKeyDown:Qe=>{Le?.onKeyDown?.(Qe),z?.(Qe,{rowIndex:ze,cellIndex:je,date:se})},onMouseEnter:Qe=>{Le?.onMouseEnter?.(Qe),Y?.(Qe,se)},onClick:Qe=>{Le?.onClick?.(Qe),q?.(Qe,se)},onMouseDown:Qe=>{Le?.onMouseDown?.(Qe),K&&Qe.preventDefault()},tabIndex:K||!ct?-1:0})},se.toString())});return g.jsxs("tr",{...G("monthRow"),children:[U&&g.jsx("td",{...G("weekNumber"),children:fue(be)}),ie]},ze)});return g.jsxs(Me,{component:"table",...G("month"),size:J,ref:e,...V,children:[!D&&g.jsx("thead",{...G("monthThead"),children:g.jsx(IP,{__staticSelector:d||"Month",locale:f,firstDayOfWeek:h,weekdayFormat:m,size:J,classNames:ae,styles:oe,unstyled:s,withWeekNumbers:U})}),g.jsx("tbody",{...G("monthTbody"),children:xe})]})});Rx.classes=Y6;Rx.displayName="@mantine/dates/Month";var K6={pickerControl:"m_dc6a3c71"};const mue=(t,{size:e})=>({pickerControl:{"--dpc-fz":cr(e),"--dpc-size":Mt(e,"dpc-size")}}),jx=Ue((t,e)=>{const n=Pe("PickerControl",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,firstInRange:d,lastInRange:f,inRange:h,__staticSelector:m,selected:v,disabled:b,attributes:x,...S}=n,A=ut({name:m||"PickerControl",classes:K6,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:x,vars:c,varsResolver:mue,rootSelector:"pickerControl"});return g.jsx(Br,{...A("pickerControl"),ref:e,unstyled:s,"data-picker-control":!0,"data-selected":v&&!b||void 0,"data-disabled":b||void 0,"data-in-range":h&&!b&&!v||void 0,"data-first-in-range":d&&!b||void 0,"data-last-in-range":f&&!b||void 0,disabled:b,...S})});jx.classes=K6;jx.displayName="@mantine/dates/PickerControl";function W6({year:t,minDate:e,maxDate:n}){return!e&&!n?!1:!!(e&&rt(t).isBefore(e,"year")||n&&rt(t).isAfter(n,"year"))}function gue({years:t,minDate:e,maxDate:n,getYearControlProps:r}){const i=t.flat().filter(s=>!W6({year:s,minDate:e,maxDate:n})&&!r?.(s)?.disabled),a=i.find(s=>r?.(s)?.selected);if(a)return a;const o=i.find(s=>rt().isSame(s,"year"));return o||i[0]}function X6(t){const e=rt(t).year(),n=e-e%10;let r=0;const i=[[],[],[],[]];for(let a=0;a<4;a+=1){const o=a===3?1:3;for(let s=0;s<o;s+=1)i[a].push(rt(new Date(n+r,0)).format("YYYY-MM-DD")),r+=1}return i}var Z6={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const vue={yearsListFormat:"YYYY",withCellSpacing:!0},Lx=Ue((t,e)=>{const n=Pe("YearsList",vue,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,decade:d,yearsListFormat:f,locale:h,minDate:m,maxDate:v,getYearControlProps:b,__staticSelector:x,__getControlRef:S,__onControlKeyDown:A,__onControlClick:T,__onControlMouseEnter:E,__preventFocus:k,__stopPropagation:D,withCellSpacing:M,size:R,attributes:N,...z}=n,q=ut({name:x||"YearsList",classes:Z6,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:N,vars:c,rootSelector:"yearsList"}),Y=eu(),K=X6(d),te=gue({years:K,minDate:m,maxDate:v,getYearControlProps:b}),W=K.map((J,L)=>{const U=J.map((F,V)=>{const G=b?.(F),$=rt(F).isSame(te,"year");return g.jsx("td",{...q("yearsListCell"),"data-with-spacing":M||void 0,children:g.jsx(jx,{...q("yearsListControl"),size:R,unstyled:s,"data-mantine-stop-propagation":D||void 0,disabled:W6({year:F,minDate:m,maxDate:v}),ref:X=>{X&&S?.(L,V,X)},...G,onKeyDown:X=>{G?.onKeyDown?.(X),A?.(X,{rowIndex:L,cellIndex:V,date:F})},onClick:X=>{G?.onClick?.(X),T?.(X,F)},onMouseEnter:X=>{G?.onMouseEnter?.(X),E?.(X,F)},onMouseDown:X=>{G?.onMouseDown?.(X),k&&X.preventDefault()},tabIndex:k||!$?-1:0,children:G?.children??rt(F).locale(Y.getLocale(h)).format(f)})},V)});return g.jsx("tr",{...q("yearsListRow"),children:U},L)});return g.jsx(Me,{component:"table",ref:e,size:R,...q("yearsList"),...z,children:g.jsx("tbody",{children:W})})});Lx.classes=Z6;Lx.displayName="@mantine/dates/YearsList";function Q6({month:t,minDate:e,maxDate:n}){return!e&&!n?!1:!!(e&&rt(t).isBefore(e,"month")||n&&rt(t).isAfter(n,"month"))}function yue({months:t,minDate:e,maxDate:n,getMonthControlProps:r}){const i=t.flat().filter(s=>!Q6({month:s,minDate:e,maxDate:n})&&!r?.(s)?.disabled),a=i.find(s=>r?.(s)?.selected);if(a)return a;const o=i.find(s=>rt().isSame(s,"month"));return o||i[0]}function bue(t){const e=rt(t).startOf("year").toDate(),n=[[],[],[],[]];let r=0;for(let i=0;i<4;i+=1)for(let a=0;a<3;a+=1)n[i].push(rt(e).add(r,"months").format("YYYY-MM-DD")),r+=1;return n}var J6={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const xue={monthsListFormat:"MMM",withCellSpacing:!0},Nx=Ue((t,e)=>{const n=Pe("MonthsList",xue,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,__staticSelector:d,year:f,monthsListFormat:h,locale:m,minDate:v,maxDate:b,getMonthControlProps:x,__getControlRef:S,__onControlKeyDown:A,__onControlClick:T,__onControlMouseEnter:E,__preventFocus:k,__stopPropagation:D,withCellSpacing:M,size:R,attributes:N,...z}=n,q=ut({name:d||"MonthsList",classes:J6,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:N,vars:c,rootSelector:"monthsList"}),Y=eu(),K=bue(f),te=yue({months:K,minDate:qi(v),maxDate:qi(b),getMonthControlProps:x}),W=K.map((J,L)=>{const U=J.map((F,V)=>{const G=x?.(F),$=rt(F).isSame(te,"month");return g.jsx("td",{...q("monthsListCell"),"data-with-spacing":M||void 0,children:g.jsx(jx,{...q("monthsListControl"),size:R,unstyled:s,__staticSelector:d||"MonthsList","data-mantine-stop-propagation":D||void 0,disabled:Q6({month:F,minDate:qi(v),maxDate:qi(b)}),ref:X=>{X&&S?.(L,V,X)},...G,onKeyDown:X=>{G?.onKeyDown?.(X),A?.(X,{rowIndex:L,cellIndex:V,date:F})},onClick:X=>{G?.onClick?.(X),T?.(X,F)},onMouseEnter:X=>{G?.onMouseEnter?.(X),E?.(X,F)},onMouseDown:X=>{G?.onMouseDown?.(X),k&&X.preventDefault()},tabIndex:k||!$?-1:0,children:G?.children??rt(F).locale(Y.getLocale(m)).format(h)})},V)});return g.jsx("tr",{...q("monthsListRow"),children:U},L)});return g.jsx(Me,{component:"table",ref:e,size:R,...q("monthsList"),...z,children:g.jsx("tbody",{children:W})})});Nx.classes=J6;Nx.displayName="@mantine/dates/MonthsList";var eU={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const wue={hasNextLevel:!0,withNext:!0,withPrevious:!0,headerControlsOrder:["previous","level","next"]},Sue=(t,{size:e})=>({calendarHeader:{"--dch-control-size":Mt(e,"dch-control-size"),"--dch-fz":cr(e)}}),tu=Ue((t,e)=>{const n=Pe("CalendarHeader",wue,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,nextIcon:d,previousIcon:f,nextLabel:h,previousLabel:m,onNext:v,onPrevious:b,onLevelClick:x,label:S,nextDisabled:A,previousDisabled:T,hasNextLevel:E,levelControlAriaLabel:k,withNext:D,withPrevious:M,headerControlsOrder:R,__staticSelector:N,__preventFocus:z,__stopPropagation:q,attributes:Y,...K}=n,te=ut({name:N||"CalendarHeader",classes:eU,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:Y,vars:c,varsResolver:Sue,rootSelector:"calendarHeader"}),W=z?V=>V.preventDefault():void 0,J=M&&w.createElement(Br,{...te("calendarHeaderControl"),key:"previous","data-direction":"previous","aria-label":m,onClick:b,unstyled:s,onMouseDown:W,disabled:T,"data-disabled":T||void 0,tabIndex:z||T?-1:0,"data-mantine-stop-propagation":q||void 0},f||g.jsx(uh,{...te("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})),L=w.createElement(Br,{component:E?"button":"div",...te("calendarHeaderLevel"),key:"level",onClick:E?x:void 0,unstyled:s,onMouseDown:E?W:void 0,disabled:!E,"data-static":!E||void 0,"aria-label":k,tabIndex:z||!E?-1:0,"data-mantine-stop-propagation":q||void 0},S),U=D&&w.createElement(Br,{...te("calendarHeaderControl"),key:"next","data-direction":"next","aria-label":h,onClick:v,unstyled:s,onMouseDown:W,disabled:A,"data-disabled":A||void 0,tabIndex:z||A?-1:0,"data-mantine-stop-propagation":q||void 0},d||g.jsx(uh,{...te("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})),F=R.map(V=>V==="previous"?J:V==="level"?L:V==="next"?U:null);return g.jsx(Me,{...te("calendarHeader"),ref:e,...K,children:F})});tu.classes=eU;tu.displayName="@mantine/dates/CalendarHeader";function Aue(t){const e=X6(t);return[e[0][0],e[3][0]]}const Cue={decadeLabelFormat:"YYYY"},Ix=Ue((t,e)=>{const n=Pe("DecadeLevel",Cue,t),{decade:r,locale:i,minDate:a,maxDate:o,yearsListFormat:s,getYearControlProps:c,__getControlRef:d,__onControlKeyDown:f,__onControlClick:h,__onControlMouseEnter:m,withCellSpacing:v,__preventFocus:b,nextIcon:x,previousIcon:S,nextLabel:A,previousLabel:T,onNext:E,onPrevious:k,nextDisabled:D,previousDisabled:M,levelControlAriaLabel:R,withNext:N,withPrevious:z,headerControlsOrder:q,decadeLabelFormat:Y,classNames:K,styles:te,unstyled:W,__staticSelector:J,__stopPropagation:L,size:U,attributes:F,...V}=n,G=eu(),[$,X]=Aue(r),ne={__staticSelector:J||"DecadeLevel",classNames:K,styles:te,unstyled:W,size:U,attributes:F},ae=typeof D=="boolean"?D:o?!rt(X).endOf("year").isBefore(o):!1,oe=typeof M=="boolean"?M:a?!rt($).startOf("year").isAfter(a):!1,xe=(be,ze)=>rt(be).locale(i||G.locale).format(ze);return g.jsxs(Me,{"data-decade-level":!0,size:U,ref:e,...V,children:[g.jsx(tu,{label:typeof Y=="function"?Y($,X):`${xe($,Y)}  ${xe(X,Y)}`,__preventFocus:b,__stopPropagation:L,nextIcon:x,previousIcon:S,nextLabel:A,previousLabel:T,onNext:E,onPrevious:k,nextDisabled:ae,previousDisabled:oe,hasNextLevel:!1,levelControlAriaLabel:R,withNext:N,withPrevious:z,headerControlsOrder:q,...ne}),g.jsx(Lx,{decade:r,locale:i,minDate:a,maxDate:o,yearsListFormat:s,getYearControlProps:c,__getControlRef:d,__onControlKeyDown:f,__onControlClick:h,__onControlMouseEnter:m,__preventFocus:b,__stopPropagation:L,withCellSpacing:v,...ne})]})});Ix.classes={...Lx.classes,...tu.classes};Ix.displayName="@mantine/dates/DecadeLevel";const _ue={yearLabelFormat:"YYYY"},zx=Ue((t,e)=>{const n=Pe("YearLevel",_ue,t),{year:r,locale:i,minDate:a,maxDate:o,monthsListFormat:s,getMonthControlProps:c,__getControlRef:d,__onControlKeyDown:f,__onControlClick:h,__onControlMouseEnter:m,withCellSpacing:v,__preventFocus:b,nextIcon:x,previousIcon:S,nextLabel:A,previousLabel:T,onNext:E,onPrevious:k,onLevelClick:D,nextDisabled:M,previousDisabled:R,hasNextLevel:N,levelControlAriaLabel:z,withNext:q,withPrevious:Y,headerControlsOrder:K,yearLabelFormat:te,__staticSelector:W,__stopPropagation:J,size:L,classNames:U,styles:F,unstyled:V,attributes:G,...$}=n,X=eu(),ne={__staticSelector:W||"YearLevel",classNames:U,styles:F,unstyled:V,size:L,attributes:G},ae=typeof M=="boolean"?M:o?!rt(r).endOf("year").isBefore(o):!1,oe=typeof R=="boolean"?R:a?!rt(r).startOf("year").isAfter(a):!1;return g.jsxs(Me,{"data-year-level":!0,size:L,ref:e,...$,children:[g.jsx(tu,{label:typeof te=="function"?te(r):rt(r).locale(i||X.locale).format(te),__preventFocus:b,__stopPropagation:J,nextIcon:x,previousIcon:S,nextLabel:A,previousLabel:T,onNext:E,onPrevious:k,onLevelClick:D,nextDisabled:ae,previousDisabled:oe,hasNextLevel:N,levelControlAriaLabel:z,withNext:q,withPrevious:Y,headerControlsOrder:K,...ne}),g.jsx(Nx,{year:r,locale:i,minDate:a,maxDate:o,monthsListFormat:s,getMonthControlProps:c,__getControlRef:d,__onControlKeyDown:f,__onControlClick:h,__onControlMouseEnter:m,__preventFocus:b,__stopPropagation:J,withCellSpacing:v,...ne})]})});zx.classes={...tu.classes,...Nx.classes};zx.displayName="@mantine/dates/YearLevel";const Eue={monthLabelFormat:"MMMM YYYY"},Bx=Ue((t,e)=>{const n=Pe("MonthLevel",Eue,t),{month:r,locale:i,firstDayOfWeek:a,weekdayFormat:o,weekendDays:s,getDayProps:c,excludeDate:d,minDate:f,maxDate:h,renderDay:m,hideOutsideDates:v,hideWeekdays:b,getDayAriaLabel:x,__getDayRef:S,__onDayKeyDown:A,__onDayClick:T,__onDayMouseEnter:E,withCellSpacing:k,highlightToday:D,withWeekNumbers:M,__preventFocus:R,__stopPropagation:N,nextIcon:z,previousIcon:q,nextLabel:Y,previousLabel:K,onNext:te,onPrevious:W,onLevelClick:J,nextDisabled:L,previousDisabled:U,hasNextLevel:F,levelControlAriaLabel:V,withNext:G,withPrevious:$,headerControlsOrder:X,monthLabelFormat:ne,classNames:ae,styles:oe,unstyled:xe,__staticSelector:be,size:ze,static:ie,attributes:se,...je}=n,ue=eu(),Ve={__staticSelector:be||"MonthLevel",classNames:ae,styles:oe,unstyled:xe,size:ze,attributes:se},Le=typeof L=="boolean"?L:h?!rt(r).endOf("month").isBefore(h):!1,ct=typeof U=="boolean"?U:f?!rt(r).startOf("month").isAfter(f):!1;return g.jsxs(Me,{"data-month-level":!0,size:ze,ref:e,...je,children:[g.jsx(tu,{label:typeof ne=="function"?ne(r):rt(r).locale(i||ue.locale).format(ne),__preventFocus:R,__stopPropagation:N,nextIcon:z,previousIcon:q,nextLabel:Y,previousLabel:K,onNext:te,onPrevious:W,onLevelClick:J,nextDisabled:Le,previousDisabled:ct,hasNextLevel:F,levelControlAriaLabel:V,withNext:G,withPrevious:$,headerControlsOrder:X,...Ve}),g.jsx(Rx,{month:r,locale:i,firstDayOfWeek:a,weekdayFormat:o,weekendDays:s,getDayProps:c,excludeDate:d,minDate:f,maxDate:h,renderDay:m,hideOutsideDates:v,hideWeekdays:b,getDayAriaLabel:x,__getDayRef:S,__onDayKeyDown:A,__onDayClick:T,__onDayMouseEnter:E,__preventFocus:R,__stopPropagation:N,static:ie,withCellSpacing:k,highlightToday:D,withWeekNumbers:M,...Ve})]})});Bx.classes={...Rx.classes,...tu.classes};Bx.displayName="@mantine/dates/MonthLevel";var tU={levelsGroup:"m_30b26e33"};const nu=Ue((t,e)=>{const n=Pe("LevelsGroup",null,t),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:c,__staticSelector:d,attributes:f,...h}=n,m=ut({name:d||"LevelsGroup",classes:tU,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,attributes:f,vars:c,rootSelector:"levelsGroup"});return g.jsx(Me,{ref:e,...m("levelsGroup"),...h})});nu.classes=tU;nu.displayName="@mantine/dates/LevelsGroup";const Tue={numberOfColumns:1},$x=Ue((t,e)=>{const n=Pe("DecadeLevelGroup",Tue,t),{decade:r,locale:i,minDate:a,maxDate:o,yearsListFormat:s,getYearControlProps:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:m,nextIcon:v,previousIcon:b,nextLabel:x,previousLabel:S,onNext:A,onPrevious:T,nextDisabled:E,previousDisabled:k,headerControlsOrder:D,classNames:M,styles:R,unstyled:N,__staticSelector:z,__stopPropagation:q,numberOfColumns:Y,levelControlAriaLabel:K,decadeLabelFormat:te,size:W,vars:J,attributes:L,...U}=n,F=w.useRef([]),V=Array(Y).fill(0).map((G,$)=>{const X=rt(r).add($*10,"years").format("YYYY-MM-DD");return g.jsx(Ix,{size:W,yearsListFormat:s,decade:X,withNext:$===Y-1,withPrevious:$===0,decadeLabelFormat:te,__onControlClick:d,__onControlMouseEnter:f,__onControlKeyDown:(ne,ae)=>LP({levelIndex:$,rowIndex:ae.rowIndex,cellIndex:ae.cellIndex,event:ne,controlsRef:F}),__getControlRef:(ne,ae,oe)=>{Array.isArray(F.current[$])||(F.current[$]=[]),Array.isArray(F.current[$][ne])||(F.current[$][ne]=[]),F.current[$][ne][ae]=oe},levelControlAriaLabel:typeof K=="function"?K(X):K,locale:i,minDate:a,maxDate:o,__preventFocus:m,__stopPropagation:q,nextIcon:v,previousIcon:b,nextLabel:x,previousLabel:S,onNext:A,onPrevious:T,nextDisabled:E,previousDisabled:k,getYearControlProps:c,__staticSelector:z||"DecadeLevelGroup",classNames:M,styles:R,unstyled:N,withCellSpacing:h,headerControlsOrder:D,attributes:L},$)});return g.jsx(nu,{classNames:M,styles:R,__staticSelector:z||"DecadeLevelGroup",ref:e,size:W,unstyled:N,attributes:L,...U,children:V})});$x.classes={...nu.classes,...Ix.classes};$x.displayName="@mantine/dates/DecadeLevelGroup";const kue={numberOfColumns:1},Fx=Ue((t,e)=>{const n=Pe("YearLevelGroup",kue,t),{year:r,locale:i,minDate:a,maxDate:o,monthsListFormat:s,getMonthControlProps:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:m,nextIcon:v,previousIcon:b,nextLabel:x,previousLabel:S,onNext:A,onPrevious:T,onLevelClick:E,nextDisabled:k,previousDisabled:D,hasNextLevel:M,headerControlsOrder:R,classNames:N,styles:z,unstyled:q,__staticSelector:Y,__stopPropagation:K,numberOfColumns:te,levelControlAriaLabel:W,yearLabelFormat:J,size:L,vars:U,attributes:F,...V}=n,G=w.useRef([]),$=Array(te).fill(0).map((X,ne)=>{const ae=rt(r).add(ne,"years").format("YYYY-MM-DD");return g.jsx(zx,{size:L,monthsListFormat:s,year:ae,withNext:ne===te-1,withPrevious:ne===0,yearLabelFormat:J,__stopPropagation:K,__onControlClick:d,__onControlMouseEnter:f,__onControlKeyDown:(oe,xe)=>LP({levelIndex:ne,rowIndex:xe.rowIndex,cellIndex:xe.cellIndex,event:oe,controlsRef:G}),__getControlRef:(oe,xe,be)=>{Array.isArray(G.current[ne])||(G.current[ne]=[]),Array.isArray(G.current[ne][oe])||(G.current[ne][oe]=[]),G.current[ne][oe][xe]=be},levelControlAriaLabel:typeof W=="function"?W(ae):W,locale:i,minDate:a,maxDate:o,__preventFocus:m,nextIcon:v,previousIcon:b,nextLabel:x,previousLabel:S,onNext:A,onPrevious:T,onLevelClick:E,nextDisabled:k,previousDisabled:D,hasNextLevel:M,getMonthControlProps:c,classNames:N,styles:z,unstyled:q,__staticSelector:Y||"YearLevelGroup",withCellSpacing:h,headerControlsOrder:R,attributes:F},ne)});return g.jsx(nu,{classNames:N,styles:z,__staticSelector:Y||"YearLevelGroup",ref:e,size:L,unstyled:q,attributes:F,...V,children:$})});Fx.classes={...zx.classes,...nu.classes};Fx.displayName="@mantine/dates/YearLevelGroup";const Pue={numberOfColumns:1},Ux=Ue((t,e)=>{const n=Pe("MonthLevelGroup",Pue,t),{month:r,locale:i,firstDayOfWeek:a,weekdayFormat:o,weekendDays:s,getDayProps:c,excludeDate:d,minDate:f,maxDate:h,renderDay:m,hideOutsideDates:v,hideWeekdays:b,getDayAriaLabel:x,__onDayClick:S,__onDayMouseEnter:A,withCellSpacing:T,highlightToday:E,withWeekNumbers:k,__preventFocus:D,nextIcon:M,previousIcon:R,nextLabel:N,previousLabel:z,onNext:q,onPrevious:Y,onLevelClick:K,nextDisabled:te,previousDisabled:W,hasNextLevel:J,headerControlsOrder:L,classNames:U,styles:F,unstyled:V,numberOfColumns:G,levelControlAriaLabel:$,monthLabelFormat:X,__staticSelector:ne,__stopPropagation:ae,size:oe,static:xe,vars:be,attributes:ze,...ie}=n,se=w.useRef([]),je=Array(G).fill(0).map((ue,Ve)=>{const Le=rt(r).add(Ve,"months").format("YYYY-MM-DD");return g.jsx(Bx,{month:Le,withNext:Ve===G-1,withPrevious:Ve===0,monthLabelFormat:X,__stopPropagation:ae,__onDayClick:S,__onDayMouseEnter:A,__onDayKeyDown:(ct,Qe)=>LP({levelIndex:Ve,rowIndex:Qe.rowIndex,cellIndex:Qe.cellIndex,event:ct,controlsRef:se}),__getDayRef:(ct,Qe,He)=>{Array.isArray(se.current[Ve])||(se.current[Ve]=[]),Array.isArray(se.current[Ve][ct])||(se.current[Ve][ct]=[]),se.current[Ve][ct][Qe]=He},levelControlAriaLabel:typeof $=="function"?$(Le):$,locale:i,firstDayOfWeek:a,weekdayFormat:o,weekendDays:s,getDayProps:c,excludeDate:d,minDate:f,maxDate:h,renderDay:m,hideOutsideDates:v,hideWeekdays:b,getDayAriaLabel:x,__preventFocus:D,nextIcon:M,previousIcon:R,nextLabel:N,previousLabel:z,onNext:q,onPrevious:Y,onLevelClick:K,nextDisabled:te,previousDisabled:W,hasNextLevel:J,classNames:U,styles:F,unstyled:V,__staticSelector:ne||"MonthLevelGroup",size:oe,static:xe,withCellSpacing:T,highlightToday:E,withWeekNumbers:k,headerControlsOrder:L,attributes:ze},Ve)});return g.jsx(nu,{classNames:U,styles:F,__staticSelector:ne||"MonthLevelGroup",ref:e,size:oe,attributes:ze,...ie,children:je})});Ux.classes={...nu.classes,...Bx.classes};Ux.displayName="@mantine/dates/MonthLevelGroup";var nU={input:"m_6fa5e2aa"};const Hx=Ue((t,e)=>{const{inputProps:n,wrapperProps:r,placeholder:i,classNames:a,styles:o,unstyled:s,popoverProps:c,modalProps:d,dropdownType:f,children:h,formattedValue:m,dropdownHandlers:v,dropdownOpened:b,onClick:x,clearable:S,onClear:A,clearButtonProps:T,rightSection:E,shouldClear:k,readOnly:D,disabled:M,value:R,name:N,form:z,type:q,onDropdownClose:Y,withTime:K,...te}=i4("PickerInputBase",{size:"sm"},t),W=g.jsx(qn.ClearButton,{onClick:A,unstyled:s,...T}),J=()=>{q==="range"&&Array.isArray(R)&&R[0]&&!R[1]&&A(),v.close()};return g.jsxs(g.Fragment,{children:[f==="modal"&&!D&&g.jsx(Kr,{opened:b,onClose:J,withCloseButton:!1,size:"auto","data-dates-modal":!0,unstyled:s,...d,children:h}),g.jsx(qn.Wrapper,{...r,children:g.jsxs(Vo,{position:"bottom-start",opened:b,trapFocus:!0,returnFocus:!1,unstyled:s,onClose:Y,...c,disabled:c?.disabled||f==="modal"||D,onChange:L=>{L||(c?.onClose?.(),J())},children:[g.jsx(Vo.Target,{children:g.jsx(qn,{"data-dates-input":!0,"data-read-only":D||void 0,disabled:M,component:"button",type:"button",multiline:!0,onClick:L=>{x?.(L),v.toggle()},__clearSection:W,__clearable:S&&k&&!D&&!M,rightSection:E,...n,ref:e,classNames:{...a,input:Pt(nU.input,a?.input)},...te,children:m||g.jsx(qn.Placeholder,{error:n.error,unstyled:s,classNames:a,styles:o,__staticSelector:n.__staticSelector,children:i})})}),g.jsx(Vo.Dropdown,{"data-dates-dropdown":!0,children:h})]})}),g.jsx(U6,{value:R,name:N,form:z,type:q,withTime:K})]})});Hx.classes=nU;Hx.displayName="@mantine/dates/PickerInputBase";const EN=t=>t==="range"?[null,null]:t==="multiple"?[]:null,TN=(t,e)=>{const n=e?F6:qi;return Array.isArray(t)?t.map(n):n(t)};function BP({type:t,value:e,defaultValue:n,onChange:r,withTime:i=!1}){const a=w.useRef(t),[o,s,c]=Fr({value:TN(e,i),defaultValue:TN(n,i),finalValue:EN(t),onChange:r});let d=o;return a.current!==t&&(a.current=t,e===void 0&&(d=n!==void 0?n:EN(t),s(d))),[d,s,c]}function FA(t,e){return t?t==="month"?0:t==="year"?1:2:e||0}function Oue(t){return t===0?"month":t===1?"year":"decade"}function am(t,e,n){return Oue(Cm(FA(t,0),FA(e,0),FA(n,2)))}const Due={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0,enableKeyboardNavigation:!0},Vx=Ue((t,e)=>{const n=Pe("Calendar",Due,t),{vars:r,maxLevel:i,minLevel:a,defaultLevel:o,level:s,onLevelChange:c,date:d,defaultDate:f,onDateChange:h,numberOfColumns:m,columnsToScroll:v,ariaLabels:b,nextLabel:x,previousLabel:S,onYearSelect:A,onMonthSelect:T,onYearMouseEnter:E,onMonthMouseEnter:k,headerControlsOrder:D,__updateDateOnYearSelect:M,__updateDateOnMonthSelect:R,__setDateRef:N,__setLevelRef:z,firstDayOfWeek:q,weekdayFormat:Y,weekendDays:K,getDayProps:te,excludeDate:W,renderDay:J,hideOutsideDates:L,hideWeekdays:U,getDayAriaLabel:F,monthLabelFormat:V,nextIcon:G,previousIcon:$,__onDayClick:X,__onDayMouseEnter:ne,withCellSpacing:ae,highlightToday:oe,withWeekNumbers:xe,monthsListFormat:be,getMonthControlProps:ze,yearLabelFormat:ie,yearsListFormat:se,getYearControlProps:je,decadeLabelFormat:ue,classNames:Ve,styles:Le,unstyled:ct,minDate:Qe,maxDate:He,locale:We,__staticSelector:nt,size:Je,__preventFocus:wt,__stopPropagation:ft,onNextDecade:vt,onPreviousDecade:$e,onNextYear:at,onPreviousYear:Ge,onNextMonth:qe,onPreviousMonth:Jt,static:yn,enableKeyboardNavigation:Ht,attributes:En,...Gt}=n,{resolvedClassNames:Xn,resolvedStyles:bn}=ka({classNames:Ve,styles:Le,props:n}),[Nt,et]=Fr({value:s?am(s,a,i):void 0,defaultValue:o?am(o,a,i):void 0,finalValue:am(void 0,a,i),onChange:c}),[gr,xn]=BP({type:"default",value:qi(d),defaultValue:qi(f),onChange:h});w.useImperativeHandle(N,()=>lt=>{xn(lt)}),w.useImperativeHandle(z,()=>lt=>{et(lt)});const Jr={__staticSelector:nt||"Calendar",styles:bn,classNames:Xn,unstyled:ct,size:Je,attributes:En},tt=v||m||1,un=new Date,ur=Qe&&rt(un).isAfter(Qe)?Qe:rt(un).format("YYYY-MM-DD"),Tn=gr||ur,ha=()=>{const lt=rt(Tn).add(tt,"month").format("YYYY-MM-DD");qe?.(lt),xn(lt)},ei=()=>{const lt=rt(Tn).subtract(tt,"month").format("YYYY-MM-DD");Jt?.(lt),xn(lt)},Oa=()=>{const lt=rt(Tn).add(tt,"year").format("YYYY-MM-DD");at?.(lt),xn(lt)},Pn=()=>{const lt=rt(Tn).subtract(tt,"year").format("YYYY-MM-DD");Ge?.(lt),xn(lt)},Ur=()=>{const lt=rt(Tn).add(10*tt,"year").format("YYYY-MM-DD");vt?.(lt),xn(lt)},hn=()=>{const lt=rt(Tn).subtract(10*tt,"year").format("YYYY-MM-DD");$e?.(lt),xn(lt)},Xa=w.useRef(null);w.useEffect(()=>{if(!Ht||yn)return;const lt=Rt=>{if(!Xa.current?.contains(document.activeElement))return;const nn=Rt.ctrlKey||Rt.metaKey,Hr=Rt.shiftKey;switch(Rt.key){case"ArrowUp":nn&&Hr?(Rt.preventDefault(),hn()):nn&&(Rt.preventDefault(),Pn());break;case"ArrowDown":nn&&Hr?(Rt.preventDefault(),Ur()):nn&&(Rt.preventDefault(),Oa());break;case"y":case"Y":Nt==="month"&&(Rt.preventDefault(),et("year"));break}};return document.addEventListener("keydown",lt),()=>{document.removeEventListener("keydown",lt)}},[Ht,yn,Nt,Oa,Pn,Ur,hn]);const Za=lt=>{Xa.current=lt,typeof e=="function"?e(lt):e&&(e.current=lt)};return g.jsxs(Me,{ref:Za,size:Je,"data-calendar":!0,...Gt,children:[Nt==="month"&&g.jsx(Ux,{month:Tn,minDate:Qe,maxDate:He,firstDayOfWeek:q,weekdayFormat:Y,weekendDays:K,getDayProps:te,excludeDate:W,renderDay:J,hideOutsideDates:L,hideWeekdays:U,getDayAriaLabel:F,onNext:ha,onPrevious:ei,hasNextLevel:i!=="month",onLevelClick:()=>et("year"),numberOfColumns:m,locale:We,levelControlAriaLabel:b?.monthLevelControl,nextLabel:b?.nextMonth??x,nextIcon:G,previousLabel:b?.previousMonth??S,previousIcon:$,monthLabelFormat:V,__onDayClick:X,__onDayMouseEnter:ne,__preventFocus:wt,__stopPropagation:ft,static:yn,withCellSpacing:ae,highlightToday:oe,withWeekNumbers:xe,headerControlsOrder:D,...Jr}),Nt==="year"&&g.jsx(Fx,{year:Tn,numberOfColumns:m,minDate:Qe,maxDate:He,monthsListFormat:be,getMonthControlProps:ze,locale:We,onNext:Oa,onPrevious:Pn,hasNextLevel:i!=="month"&&i!=="year",onLevelClick:()=>et("decade"),levelControlAriaLabel:b?.yearLevelControl,nextLabel:b?.nextYear??x,nextIcon:G,previousLabel:b?.previousYear??S,previousIcon:$,yearLabelFormat:ie,__onControlMouseEnter:k,__onControlClick:(lt,Rt)=>{R&&xn(Rt),et(am("month",a,i)),T?.(Rt)},__preventFocus:wt,__stopPropagation:ft,withCellSpacing:ae,headerControlsOrder:D,...Jr}),Nt==="decade"&&g.jsx($x,{decade:Tn,minDate:Qe,maxDate:He,yearsListFormat:se,getYearControlProps:je,locale:We,onNext:Ur,onPrevious:hn,numberOfColumns:m,nextLabel:b?.nextDecade??x,nextIcon:G,previousLabel:b?.previousDecade??S,previousIcon:$,decadeLabelFormat:ue,__onControlMouseEnter:E,__onControlClick:(lt,Rt)=>{M&&xn(Rt),et(am("year",a,i)),A?.(Rt)},__preventFocus:wt,__stopPropagation:ft,withCellSpacing:ae,headerControlsOrder:D,...Jr})]})});Vx.classes={...$x.classes,...Fx.classes,...Ux.classes};Vx.displayName="@mantine/dates/Calendar";function rU(t){const{maxLevel:e,minLevel:n,defaultLevel:r,level:i,onLevelChange:a,nextIcon:o,previousIcon:s,date:c,defaultDate:d,onDateChange:f,numberOfColumns:h,columnsToScroll:m,ariaLabels:v,nextLabel:b,previousLabel:x,onYearSelect:S,onMonthSelect:A,onYearMouseEnter:T,onMonthMouseEnter:E,onNextMonth:k,onPreviousMonth:D,onNextYear:M,onPreviousYear:R,onNextDecade:N,onPreviousDecade:z,withCellSpacing:q,highlightToday:Y,__updateDateOnYearSelect:K,__updateDateOnMonthSelect:te,__setDateRef:W,__setLevelRef:J,withWeekNumbers:L,headerControlsOrder:U,firstDayOfWeek:F,weekdayFormat:V,weekendDays:G,getDayProps:$,excludeDate:X,renderDay:ne,hideOutsideDates:ae,hideWeekdays:oe,getDayAriaLabel:xe,monthLabelFormat:be,monthsListFormat:ze,getMonthControlProps:ie,yearLabelFormat:se,yearsListFormat:je,getYearControlProps:ue,decadeLabelFormat:Ve,allowSingleDateInRange:Le,allowDeselect:ct,minDate:Qe,maxDate:He,locale:We,...nt}=t;return{calendarProps:{maxLevel:e,minLevel:n,defaultLevel:r,level:i,onLevelChange:a,nextIcon:o,previousIcon:s,date:c,defaultDate:d,onDateChange:f,numberOfColumns:h,columnsToScroll:m,ariaLabels:v,nextLabel:b,previousLabel:x,onYearSelect:S,onMonthSelect:A,onYearMouseEnter:T,onMonthMouseEnter:E,onNextMonth:k,onPreviousMonth:D,onNextYear:M,onPreviousYear:R,onNextDecade:N,onPreviousDecade:z,withCellSpacing:q,highlightToday:Y,__updateDateOnYearSelect:K,__updateDateOnMonthSelect:te,__setDateRef:W,withWeekNumbers:L,headerControlsOrder:U,firstDayOfWeek:F,weekdayFormat:V,weekendDays:G,getDayProps:$,excludeDate:X,renderDay:ne,hideOutsideDates:ae,hideWeekdays:oe,getDayAriaLabel:xe,monthLabelFormat:be,monthsListFormat:ze,getMonthControlProps:ie,yearLabelFormat:se,yearsListFormat:je,getYearControlProps:ue,decadeLabelFormat:Ve,allowSingleDateInRange:Le,allowDeselect:ct,minDate:Qe,maxDate:He,locale:We},others:nt}}function kN(t,e){const n=[...e].sort((r,i)=>rt(r).isAfter(rt(i))?1:-1);return rt(n[0]).startOf("day").subtract(1,"ms").isBefore(t)&&rt(n[1]).endOf("day").add(1,"ms").isAfter(t)}function Mue({type:t,level:e,value:n,defaultValue:r,onChange:i,allowSingleDateInRange:a,allowDeselect:o,onMouseLeave:s}){const[c,d]=BP({type:t,value:n,defaultValue:r,onChange:i}),[f,h]=w.useState(t==="range"&&c[0]&&!c[1]?c[0]:null),[m,v]=w.useState(null),b=D=>{if(t==="range"){if(f&&!c[1]){if(rt(D).isSame(f,e)&&!a){h(null),v(null),d([null,null]);return}const M=[D,f];M.sort((R,N)=>rt(R).isAfter(rt(N))?1:-1),d(M),v(null),h(null);return}if(c[0]&&!c[1]&&rt(D).isSame(c[0],e)&&!a){h(null),v(null),d([null,null]);return}d([D,null]),v(null),h(D);return}if(t==="multiple"){c.some(M=>rt(M).isSame(D,e))?d(c.filter(M=>!rt(M).isSame(D,e))):d([...c,D]);return}c&&o&&rt(D).isSame(c,e)?d(null):d(D)},x=D=>f&&m?kN(D,[m,f]):c[0]&&c[1]?kN(D,c):!1,S=t==="range"?D=>{s?.(D),v(null)}:s,A=D=>c[0]&&rt(D).isSame(c[0],e)?!(m&&rt(m).isBefore(c[0])):!1,T=D=>c[1]?rt(D).isSame(c[1],e):!c[0]||!m?!1:rt(m).isBefore(c[0])&&rt(D).isSame(c[0],e),E=D=>{if(t==="range")return{selected:c.some(R=>R&&rt(R).isSame(D,e)),inRange:x(D),firstInRange:A(D),lastInRange:T(D),"data-autofocus":!!c[0]&&rt(c[0]).isSame(D,e)||void 0};if(t==="multiple")return{selected:c.some(R=>R&&rt(R).isSame(D,e)),"data-autofocus":!!c[0]&&rt(c[0]).isSame(D,e)||void 0};const M=rt(c).isSame(D,e);return{selected:M,"data-autofocus":M||void 0}},k=t==="range"&&f?v:()=>{};return w.useEffect(()=>{if(t==="range")if(c[0]&&!c[1])h(c[0]);else{const D=c[0]==null&&c[1]==null,M=c[0]!=null&&c[1]!=null;(D||M)&&(h(null),v(null))}},[c]),{onDateChange:b,onRootMouseLeave:S,onHoveredDateChange:k,getControlProps:E,_value:c,setValue:d}}var Rue={datePickerRoot:"m_765a40cf",presetsList:"m_d6a681e1",presetButton:"m_acd30b22"};const jue=(t,{size:e})=>({datePickerRoot:{"--preset-font-size":cr(e)}}),Lue={type:"default",defaultLevel:"month",numberOfColumns:1,size:"sm"},qx=Ue((t,e)=>{const n=Pe("DatePicker",Lue,t),{allowDeselect:r,allowSingleDateInRange:i,value:a,defaultValue:o,onChange:s,onMouseLeave:c,classNames:d,styles:f,__staticSelector:h,__onDayClick:m,__onDayMouseEnter:v,__onPresetSelect:b,__stopPropagation:x,presets:S,className:A,style:T,unstyled:E,size:k,vars:D,attributes:M,...R}=n,{calendarProps:N,others:z}=rU(R),q=w.useRef(null),Y=w.useRef(null),K=ut({name:h||"DatePicker",classes:Rue,props:n,className:A,style:T,classNames:d,styles:f,unstyled:E,attributes:M,rootSelector:S?"datePickerRoot":void 0,varsResolver:jue,vars:D}),{onDateChange:te,onRootMouseLeave:W,onHoveredDateChange:J,getControlProps:L,_value:U,setValue:F}=Mue({type:z.type,level:"day",allowDeselect:r,allowSingleDateInRange:i,value:a,defaultValue:o,onChange:s,onMouseLeave:c}),{resolvedClassNames:V,resolvedStyles:G}=ka({classNames:d,styles:f,props:n}),$=g.jsx(Vx,{ref:e,classNames:V,styles:G,__staticSelector:h||"DatePicker",onMouseLeave:W,size:k,...N,...S?{}:z,__stopPropagation:x,__setDateRef:q,__setLevelRef:Y,minLevel:N.minLevel||"month",__onDayMouseEnter:(ae,oe)=>{J(oe),v?.(ae,oe)},__onDayClick:(ae,oe)=>{te(oe),m?.(ae,oe)},getDayProps:ae=>({...L(ae),...N.getDayProps?.(ae)}),getMonthControlProps:ae=>({selected:typeof U=="string"?zP(ae,U):!1,...N.getMonthControlProps?.(ae)}),getYearControlProps:ae=>({selected:typeof U=="string"?rt(ae).isSame(U,"year"):!1,...N.getYearControlProps?.(ae)}),hideOutsideDates:N.hideOutsideDates??N.numberOfColumns!==1,...S?{}:{className:A,style:T,attributes:M}});if(!S)return $;const X=ae=>{const oe=Array.isArray(ae)?ae[0]:ae;oe!==void 0&&(q.current?.(oe),Y.current?.("month"),b?b(oe):F(ae))},ne=S.map((ae,oe)=>g.jsx(Br,{...K("presetButton"),onClick:()=>X(ae.value),onMouseDown:xe=>xe.preventDefault(),"data-mantine-stop-propagation":x||void 0,children:ae.label},oe));return g.jsxs(Me,{...K("datePickerRoot"),size:k,...z,children:[g.jsx("div",{...K("presetsList"),children:ne}),$]})});qx.classes=Vx.classes;qx.displayName="@mantine/dates/DatePicker";function Nue({type:t,value:e,defaultValue:n,onChange:r,locale:i,format:a,closeOnChange:o,sortDates:s,labelSeparator:c,valueFormatter:d}){const f=eu(),[h,m]=z0(!1),[v,b]=BP({type:t,value:e,defaultValue:n,onChange:r}),x=Yce({type:t,date:v,locale:f.getLocale(i),format:a,labelSeparator:f.getLabelSeparator(c),formatter:d}),S=E=>{o&&(t==="default"&&m.close(),t==="range"&&E[0]&&E[1]&&m.close()),b(s&&t==="multiple"?[...E].sort((k,D)=>rt(k).isAfter(rt(D))?1:-1):E)},A=()=>S(t==="range"?[null,null]:t==="multiple"?[]:null),T=t==="range"?!!v[0]:t==="multiple"?v.length>0:v!==null;return{_value:v,setValue:S,onClear:A,shouldClear:T,formattedValue:x,dropdownOpened:h,dropdownHandlers:m}}const Iue={type:"default",valueFormat:"MMMM D, YYYY",closeOnChange:!0,sortDates:!0,dropdownType:"popover"},Yc=Ue((t,e)=>{const n=Pe("DatePickerInput",Iue,t),{type:r,value:i,defaultValue:a,onChange:o,valueFormat:s,labelSeparator:c,locale:d,classNames:f,styles:h,unstyled:m,closeOnChange:v,size:b,variant:x,dropdownType:S,sortDates:A,minDate:T,maxDate:E,vars:k,defaultDate:D,valueFormatter:M,presets:R,attributes:N,...z}=n,{resolvedClassNames:q,resolvedStyles:Y}=ka({classNames:f,styles:h,props:n}),{calendarProps:K,others:te}=rU(z),{_value:W,setValue:J,formattedValue:L,dropdownHandlers:U,dropdownOpened:F,onClear:V,shouldClear:G}=Nue({type:r,value:i,defaultValue:a,onChange:o,locale:d,format:s,labelSeparator:c,closeOnChange:v,sortDates:A,valueFormatter:M}),$=Array.isArray(W)?W[0]||D:W||D;return g.jsx(Hx,{formattedValue:L,dropdownOpened:F,dropdownHandlers:U,classNames:q,styles:Y,unstyled:m,ref:e,onClear:V,shouldClear:G,value:W,size:b,variant:x,dropdownType:S,...te,type:r,__staticSelector:"DatePickerInput",attributes:N,children:g.jsx(qx,{...K,size:b,variant:x,type:r,value:W,defaultDate:$||Zce({maxDate:E,minDate:T}),onChange:J,locale:d,classNames:q,styles:Y,unstyled:m,__staticSelector:"DatePickerInput",__stopPropagation:S==="popover",minDate:T,maxDate:E,presets:R,attributes:N})})});Yc.classes={...Hx.classes,...qx.classes};Yc.displayName="@mantine/dates/DatePickerInput";function PN(t){if(!t)return;if(t instanceof Date)return t;const e=new Date(t);return isNaN(e.getTime())?void 0:e}function zue({filters:t,onFiltersChange:e}){const n=w.useCallback(s=>{e({...t,searchTerm:s.target.value||void 0})},[t,e]),r=w.useCallback(s=>{e({...t,startDate:PN(s)})},[t,e]),i=w.useCallback(s=>{e({...t,endDate:PN(s)})},[t,e]),a=w.useCallback(()=>{e({})},[e]),o=t.searchTerm||t.startDate||t.endDate;return g.jsx(Lt,{p:"md",withBorder:!0,mb:"md",children:g.jsxs(Be,{gap:"md",align:"flex-end",wrap:"wrap",children:[g.jsx(As,{label:"Search",placeholder:"Search by lab name...",leftSection:g.jsx(sP,{size:16}),value:t.searchTerm||"",onChange:n,"aria-label":"Search by lab name",style:{minWidth:200}}),g.jsx(Yc,{label:"From",placeholder:"Start date",leftSection:g.jsx(hh,{size:16}),value:t.startDate||null,onChange:r,maxDate:t.endDate||void 0,clearable:!0,"aria-label":"Filter from date",style:{minWidth:150}}),g.jsx(Yc,{label:"To",placeholder:"End date",leftSection:g.jsx(hh,{size:16}),value:t.endDate||null,onChange:i,minDate:t.startDate||void 0,clearable:!0,"aria-label":"Filter to date",style:{minWidth:150}}),o&&g.jsx(Dt,{variant:"subtle",color:"gray",leftSection:g.jsx(Vi,{size:16}),onClick:a,"aria-label":"Clear all filters",children:"Clear"})]})})}function Bue({onImportClick:t}){return g.jsx(Lt,{p:"xl",withBorder:!0,radius:"md",children:g.jsxs(it,{align:"center",gap:"lg",py:"xl",children:[g.jsx(Vn,{size:80,variant:"light",radius:"xl",color:"blue",children:g.jsx(TF,{size:40})}),g.jsxs(it,{align:"center",gap:"xs",children:[g.jsx(ce,{size:"xl",fw:600,children:"No Lab Results Yet"}),g.jsx(ce,{c:"dimmed",ta:"center",maw:400,children:"Import your lab reports to start tracking your health data over time. We support PDF files and images of lab results."})]}),g.jsx(Dt,{size:"lg",leftSection:g.jsx(fne,{size:20}),onClick:t,"aria-label":"Import lab results",children:"Import Lab Results"})]})})}function $ue({onNavigateToImport:t}){const{results:e,isLoading:n,error:r,filters:i,setFilters:a,deleteResult:o,refresh:s}=fP(),{createNote:c,updateNote:d,deleteNote:f,getNotesForLabResult:h}=jF(),m=w.useCallback(async(A,T,E)=>{await c({labResultId:A,content:T,tags:E})},[c]),v=w.useCallback(async(A,T,E)=>{await d(A,{content:T,tags:E})},[d]),b=w.useCallback(async A=>{await f(A)},[f]);if(n)return g.jsx(qa,{py:"xl",children:g.jsxs(it,{align:"center",gap:"md",children:[g.jsx(Ri,{size:"lg"}),g.jsx(ce,{c:"dimmed",children:"Loading lab results..."})]})});if(r)return g.jsxs(Kt,{icon:g.jsx(la,{size:16}),title:"Error Loading Results",color:"red",variant:"light",children:[r,g.jsx(ce,{size:"sm",c:"blue",style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>s(),role:"button",tabIndex:0,onKeyDown:A=>{(A.key==="Enter"||A.key===" ")&&s()},children:"Try again"})]});if(!(e.length>0||i.searchTerm||i.startDate||i.endDate))return g.jsx(Bue,{onImportClick:t});const S=async A=>{try{await o(A)}catch(T){console.error("Failed to delete result:",T)}};return g.jsxs(it,{gap:"md",children:[g.jsx(zue,{filters:i,onFiltersChange:a}),e.length===0?g.jsx(qa,{py:"xl",children:g.jsxs(it,{align:"center",gap:"sm",children:[g.jsx(ce,{c:"dimmed",children:"No lab results match your filters."}),g.jsx(ce,{size:"sm",c:"blue",style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>a({}),role:"button",tabIndex:0,onKeyDown:A=>{(A.key==="Enter"||A.key===" ")&&a({})},children:"Clear filters"})]})}):g.jsx(it,{gap:"sm",children:e.map(A=>g.jsx(Uce,{result:A,onDelete:S,notes:A.id!==void 0?h(A.id):[],onCreateNote:m,onUpdateNote:v,onDeleteNote:b},A.id))})]})}var Fue=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function $P(t){if(typeof t!="string")return!1;var e=Fue;return e.includes(t)}var Uue=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Hue=new Set(Uue);function iU(t){return typeof t!="string"?!1:Hue.has(t)}function aU(t){return typeof t=="string"&&t.startsWith("data-")}function Rs(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(iU(n)||aU(n))&&(e[n]=t[n]);return e}function Gx(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Rs(e)}return typeof t=="object"&&!Array.isArray(t)?Rs(t):null}function ji(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(iU(n)||aU(n)||$P(n))&&(e[n]=t[n]);return e}function Vue(t){return t==null?null:w.isValidElement(t)?ji(t.props):typeof t=="object"&&!Array.isArray(t)?ji(t):null}var que=["children","width","height","viewBox","className","style","title","desc"];function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(null,arguments)}function Gue(t,e){if(t==null)return{};var n,r,i=Yue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var FP=w.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:s,title:c,desc:d}=t,f=Gue(t,que),h=a||{width:r,height:i,x:0,y:0},m=Pt("recharts-surface",o);return w.createElement("svg",gE({},ji(f),{className:m,width:r,height:i,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),w.createElement("title",null,c),w.createElement("desc",null,d),n)}),Kue=["children","className"];function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(null,arguments)}function Wue(t,e){if(t==null)return{};var n,r,i=Xue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var js=w.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Wue(t,Kue),a=Pt("recharts-layer",r);return w.createElement("g",vE({className:a},ji(i),{ref:e}),n)}),oU=w.createContext(null),Zue=()=>w.useContext(oU);function Wn(t){return function(){return t}}const sU=Math.cos,Ib=Math.sin,Zo=Math.sqrt,zb=Math.PI,Yx=2*zb,yE=Math.PI,bE=2*yE,Iu=1e-6,Que=bE-Iu;function lU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Jue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return lU;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ede{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?lU:Jue(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=r-e,d=i-n,f=o-e,h=s-n,m=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Iu)if(!(Math.abs(h*c-d*f)>Iu)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-o,b=i-s,x=c*c+d*d,S=v*v+b*b,A=Math.sqrt(x),T=Math.sqrt(m),E=a*Math.tan((yE-Math.acos((x+m-S)/(2*A*T)))/2),k=E/T,D=E/A;Math.abs(k-1)>Iu&&this._append`L${e+k*f},${n+k*h}`,this._append`A${a},${a},0,0,${+(h*v>f*b)},${this._x1=e+D*c},${this._y1=n+D*d}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),d=e+s,f=n+c,h=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Iu||Math.abs(this._y1-f)>Iu)&&this._append`L${d},${f}`,r&&(m<0&&(m=m%bE+bE),m>Que?this._append`A${r},${r},0,1,${h},${e-s},${n-c}A${r},${r},0,1,${h},${this._x1=d},${this._y1=f}`:m>Iu&&this._append`A${r},${r},0,${+(m>=yE)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function UP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ede(e)}function HP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cU(t){this._context=t}cU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Kx(t){return new cU(t)}function uU(t){return t[0]}function dU(t){return t[1]}function fU(t,e){var n=Wn(!0),r=null,i=Kx,a=null,o=UP(s);t=typeof t=="function"?t:t===void 0?uU:Wn(t),e=typeof e=="function"?e:e===void 0?dU:Wn(e);function s(c){var d,f=(c=HP(c)).length,h,m=!1,v;for(r==null&&(a=i(v=o())),d=0;d<=f;++d)!(d<f&&n(h=c[d],d,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(h,d,c),+e(h,d,c));if(v)return a=null,v+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:Wn(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:Wn(+c),s):e},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Wn(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),s):r},s}function Ty(t,e,n){var r=null,i=Wn(!0),a=null,o=Kx,s=null,c=UP(d);t=typeof t=="function"?t:t===void 0?uU:Wn(+t),e=typeof e=="function"?e:Wn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?dU:Wn(+n);function d(h){var m,v,b,x=(h=HP(h)).length,S,A=!1,T,E=new Array(x),k=new Array(x);for(a==null&&(s=o(T=c())),m=0;m<=x;++m){if(!(m<x&&i(S=h[m],m,h))===A)if(A=!A)v=m,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),b=m-1;b>=v;--b)s.point(E[b],k[b]);s.lineEnd(),s.areaEnd()}A&&(E[m]=+t(S,m,h),k[m]=+e(S,m,h),s.point(r?+r(S,m,h):E[m],n?+n(S,m,h):k[m]))}if(T)return s=null,T+""||null}function f(){return fU().defined(i).curve(o).context(a)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:Wn(+h),r=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Wn(+h),d):t},d.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Wn(+h),d):r},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:Wn(+h),n=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Wn(+h),d):e},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Wn(+h),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Wn(!!h),d):i},d.curve=function(h){return arguments.length?(o=h,a!=null&&(s=o(a)),d):o},d.context=function(h){return arguments.length?(h==null?a=s=null:s=o(a=h),d):a},d}class hU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function tde(t){return new hU(t,!0)}function nde(t){return new hU(t,!1)}const VP={draw(t,e){const n=Zo(e/zb);t.moveTo(n,0),t.arc(0,0,n,0,Yx)}},rde={draw(t,e){const n=Zo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},pU=Zo(1/3),ide=pU*2,ade={draw(t,e){const n=Zo(e/ide),r=n*pU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ode={draw(t,e){const n=Zo(e),r=-n/2;t.rect(r,r,n,n)}},sde=.8908130915292852,mU=Ib(zb/10)/Ib(7*zb/10),lde=Ib(Yx/10)*mU,cde=-sU(Yx/10)*mU,ude={draw(t,e){const n=Zo(e*sde),r=lde*n,i=cde*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Yx*a/5,s=sU(o),c=Ib(o);t.lineTo(c*n,-s*n),t.lineTo(s*r-c*i,c*r+s*i)}t.closePath()}},UA=Zo(3),dde={draw(t,e){const n=-Zo(e/(UA*3));t.moveTo(0,n*2),t.lineTo(-UA*n,-n),t.lineTo(UA*n,-n),t.closePath()}},ho=-.5,po=Zo(3)/2,xE=1/Zo(12),fde=(xE/2+1)*3,hde={draw(t,e){const n=Zo(e/fde),r=n/2,i=n*xE,a=r,o=n*xE+n,s=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,c),t.lineTo(ho*r-po*i,po*r+ho*i),t.lineTo(ho*a-po*o,po*a+ho*o),t.lineTo(ho*s-po*c,po*s+ho*c),t.lineTo(ho*r+po*i,ho*i-po*r),t.lineTo(ho*a+po*o,ho*o-po*a),t.lineTo(ho*s+po*c,ho*c-po*s),t.closePath()}};function pde(t,e){let n=null,r=UP(i);t=typeof t=="function"?t:Wn(t||VP),e=typeof e=="function"?e:Wn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Wn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Wn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Bb(){}function $b(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function gU(t){this._context=t}gU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$b(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$b(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mde(t){return new gU(t)}function vU(t){this._context=t}vU.prototype={areaStart:Bb,areaEnd:Bb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$b(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gde(t){return new vU(t)}function yU(t){this._context=t}yU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$b(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vde(t){return new yU(t)}function bU(t){this._context=t}bU.prototype={areaStart:Bb,areaEnd:Bb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function yde(t){return new bU(t)}function ON(t){return t<0?-1:1}function DN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(ON(a)+ON(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function MN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function HA(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Fb(t){this._context=t}Fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:HA(this,this._t0,MN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,HA(this,MN(this,n=DN(this,t,e)),n);break;default:HA(this,this._t0,n=DN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function xU(t){this._context=new wU(t)}(xU.prototype=Object.create(Fb.prototype)).point=function(t,e){Fb.prototype.point.call(this,e,t)};function wU(t){this._context=t}wU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function bde(t){return new Fb(t)}function xde(t){return new xU(t)}function SU(t){this._context=t}SU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=RN(t),i=RN(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function RN(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function wde(t){return new SU(t)}function Wx(t,e){this._context=t,this._t=e}Wx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Sde(t){return new Wx(t,.5)}function Ade(t){return new Wx(t,0)}function Cde(t){return new Wx(t,1)}function gd(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function wE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function _de(t,e){return t[e]}function Ede(t){const e=[];return e.key=t,e}function Tde(){var t=Wn([]),e=wE,n=gd,r=_de;function i(a){var o=Array.from(t.apply(this,arguments),Ede),s,c=o.length,d=-1,f;for(const h of a)for(s=0,++d;s<c;++s)(o[s][d]=[0,+r(h,o[s].key,d,a)]).data=h;for(s=0,f=HP(e(o));s<c;++s)o[f[s]].index=s;return n(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Wn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Wn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?wE:typeof a=="function"?a:Wn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??gd,i):n},i}function kde(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}gd(t,e)}}function Pde(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}gd(t,e)}}function Ode(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,c=0,d=0;s<o;++s){for(var f=t[e[s]],h=f[r][1]||0,m=f[r-1][1]||0,v=(h-m)/2,b=0;b<s;++b){var x=t[e[b]],S=x[r][1]||0,A=x[r-1][1]||0;v+=S-A}c+=h,d+=v*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,gd(t,e)}}var VA={},qA={},jN;function Dde(){return jN||(jN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(qA)),qA}var GA={},LN;function AU(){return LN||(LN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(GA)),GA}var YA={},NN;function qP(){return NN||(NN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(YA)),YA}var KA={},WA={},IN;function Mde(){return IN||(IN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(WA)),WA}var zN;function GP(){return zN||(zN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mde(),n=qP();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,c="",d="",f=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const h=i[s];d?h==="\\"&&s+1<o?(s++,c+=i[s]):h===d?d="":c+=h:f?h==='"'||h==="'"?d=h:h==="]"?(f=!1,a.push(c),c=""):c+=h:h==="["?(f=!0,c&&(a.push(c),c="")):h==="."?c&&(a.push(c),c=""):c+=h,s++}return c&&a.push(c),a}t.toPath=r})(KA)),KA}var BN;function YP(){return BN||(BN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dde(),n=AU(),r=qP(),i=GP();function a(s,c,d){if(s==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const f=s[c];return f===void 0?n.isDeepKey(c)?a(s,i.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const f=s[c];return f===void 0?d:f}default:{if(Array.isArray(c))return o(s,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const f=s[c];return f===void 0?d:f}}}function o(s,c,d){if(c.length===0)return d;let f=s;for(let h=0;h<c.length;h++){if(f==null||e.isUnsafeProperty(c[h]))return d;f=f[c[h]]}return f===void 0?d:f}t.get=a})(VA)),VA}var XA,$N;function Rde(){return $N||($N=1,XA=YP().get),XA}var jde=Rde();const Xx=ua(jde);var Lde=4;function Uc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lde,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function xr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,o)=>{var s=n[o-1];return typeof s=="string"?i+s+a:s!==void 0?i+Uc(s)+a:i+a},"")}var wo=t=>t===0?0:t>0?1:-1,Dl=t=>typeof t=="number"&&t!=+t,vd=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,_t=t=>(typeof t=="number"||t instanceof Number)&&!Dl(t),Gi=t=>_t(t)||typeof t=="string",Nde=0,Hm=t=>{var e=++Nde;return"".concat(t||"").concat(e)},Kc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_t(e)&&typeof e!="string")return r;var a;if(vd(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Dl(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},CU=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Ca(t,e,n){return _t(t)&&_t(e)?Uc(t+n*(e-t)):e}function _U(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Xx(r,e))===n)}var Li=t=>t===null||typeof t>"u",_g=t=>Li(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function _a(t){return t!=null}function zh(){}var Ide=["type","size","sizeType"];function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){zde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zde(t,e,n){return(e=Bde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bde(t){var e=$de(t,"string");return typeof e=="symbol"?e:e+""}function $de(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fde(t,e){if(t==null)return{};var n,r,i=Ude(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ude(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var EU={symbolCircle:VP,symbolCross:rde,symbolDiamond:ade,symbolSquare:ode,symbolStar:ude,symbolTriangle:dde,symbolWye:hde},Hde=Math.PI/180,Vde=t=>{var e="symbol".concat(_g(t));return EU[e]||VP},qde=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Hde;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Gde=(t,e)=>{EU["symbol".concat(_g(t))]=e},KP=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Fde(t,Ide),a=UN(UN({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var s=()=>{var m=Vde(o),v=pde().type(m).size(qde(n,r,o)),b=v();if(b!==null)return b},{className:c,cx:d,cy:f}=a,h=ji(a);return _t(d)&&_t(f)&&_t(n)?w.createElement("path",SE({},h,{className:Pt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:s()})):null};KP.registerSymbol=Gde;var TU=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,WP=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{$P(i)&&(r[i]=(a=>n[i](n,a)))}),r},Yde=(t,e,n)=>r=>(t(e,n,r),null),kU=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];$P(i)&&typeof a=="function"&&(r||(r={}),r[i]=Yde(a,e,n))}),r};function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(n),!0).forEach(function(r){Wde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wde(t,e,n){return(e=Xde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xde(t){var e=Zde(t,"string");return typeof e=="symbol"?e:e+""}function Zde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pi(t,e){var n=Kde({},t),r=e,i=Object.keys(e),a=i.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return a}function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(null,arguments)}function VN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(n),!0).forEach(function(r){Jde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jde(t,e,n){return(e=efe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function efe(t){var e=tfe(t,"string");return typeof e=="symbol"?e:e+""}function tfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vo=32,nfe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function rfe(t){var{data:e,iconType:n,inactiveColor:r}=t,i=vo/2,a=vo/6,o=vo/3,s=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline"){var d;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(d=e.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:vo,y2:i,className:"recharts-legend-icon"})}if(c==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(vo,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return w.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(vo/8,"h").concat(vo,"v").concat(vo*3/4,"h").concat(-vo,"z"),className:"recharts-legend-icon"});if(w.isValidElement(e.legendIcon)){var f=Qde({},e);return delete f.legendIcon,w.cloneElement(e.legendIcon,f)}return w.createElement(KP,{fill:s,cx:i,cy:i,size:vo,sizeType:"diameter",type:c})}function ife(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=t,s={x:0,y:0,width:vo,height:vo},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((f,h)=>{var m=f.formatter||i,v=Pt({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:f.inactive});if(f.type==="none")return null;var b=f.inactive?a:f.color,x=m?m(f.value,f,h):f.value;return w.createElement("li",Ub({className:v,style:c,key:"legend-item-".concat(h)},kU(t,f,h)),w.createElement(FP,{width:n,height:n,viewBox:s,style:d,"aria-label":"".concat(x," legend icon")},w.createElement(rfe,{data:f,iconType:o,inactiveColor:a})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x))})}var afe=t=>{var e=pi(t,nfe),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:a},w.createElement(ife,Ub({},e,{payload:n})))},ZA={},QA={},qN;function ofe(){return qN||(qN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],s=r(o,a,n);i.has(s)||i.set(s,o)}return Array.from(i.values())}t.uniqBy=e})(QA)),QA}var JA={},GN;function sfe(){return GN||(GN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(JA)),JA}var eC={},YN;function PU(){return YN||(YN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(eC)),eC}var tC={},nC={},rC={},KN;function lfe(){return KN||(KN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(rC)),rC}var WN;function XP(){return WN||(WN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lfe();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(nC)),nC}var iC={},XN;function cfe(){return XN||(XN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(iC)),iC}var ZN;function ufe(){return ZN||(ZN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XP(),n=cfe();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(tC)),tC}var aC={},oC={},QN;function dfe(){return QN||(QN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YP();function n(r){return function(i){return e.get(i,r)}}t.property=n})(oC)),oC}var sC={},lC={},cC={},uC={},JN;function OU(){return JN||(JN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(uC)),uC}var dC={},eI;function DU(){return eI||(eI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(dC)),dC}var fC={},tI;function MU(){return tI||(tI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(fC)),fC}var nI;function ffe(){return nI||(nI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OU(),n=DU(),r=MU();function i(f,h,m){return typeof m!="function"?i(f,h,()=>{}):a(f,h,function v(b,x,S,A,T,E){const k=m(b,x,S,A,T,E);return k!==void 0?!!k:a(b,x,v,E)},new Map)}function a(f,h,m,v){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,m,v);case"function":return Object.keys(h).length>0?a(f,{...h},m,v):r.isEqualsSameValueZero(f,h);default:return e.isObject(f)?typeof h=="string"?h==="":!0:r.isEqualsSameValueZero(f,h)}}function o(f,h,m,v){if(h==null)return!0;if(Array.isArray(h))return c(f,h,m,v);if(h instanceof Map)return s(f,h,m,v);if(h instanceof Set)return d(f,h,m,v);const b=Object.keys(h);if(f==null||n.isPrimitive(f))return b.length===0;if(b.length===0)return!0;if(v?.has(h))return v.get(h)===f;v?.set(h,f);try{for(let x=0;x<b.length;x++){const S=b[x];if(!n.isPrimitive(f)&&!(S in f)||h[S]===void 0&&f[S]!==void 0||h[S]===null&&f[S]!==null||!m(f[S],h[S],S,f,h,v))return!1}return!0}finally{v?.delete(h)}}function s(f,h,m,v){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,x]of h.entries()){const S=f.get(b);if(m(S,x,b,f,h,v)===!1)return!1}return!0}function c(f,h,m,v){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let x=0;x<h.length;x++){const S=h[x];let A=!1;for(let T=0;T<f.length;T++){if(b.has(T))continue;const E=f[T];let k=!1;if(m(E,S,x,f,h,v)&&(k=!0),k){b.add(T),A=!0;break}}if(!A)return!1}return!0}function d(f,h,m,v){return h.size===0?!0:f instanceof Set?c([...f],[...h],m,v):!1}t.isMatchWith=i,t.isSetMatch=d})(cC)),cC}var rI;function RU(){return rI||(rI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ffe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(lC)),lC}var hC={},pC={},mC={},iI;function hfe(){return iI||(iI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(mC)),mC}var gC={},aI;function ZP(){return aI||(aI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(gC)),gC}var vC={},oI;function jU(){return oI||(oI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",h="[object Function]",m="[object ArrayBuffer]",v="[object Object]",b="[object Error]",x="[object DataView]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",E="[object Uint32Array]",k="[object BigUint64Array]",D="[object Int8Array]",M="[object Int16Array]",R="[object Int32Array]",N="[object BigInt64Array]",z="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=m,t.arrayTag=f,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=k,t.booleanTag=i,t.dataViewTag=x,t.dateTag=s,t.errorTag=b,t.float32ArrayTag=z,t.float64ArrayTag=q,t.functionTag=h,t.int16ArrayTag=M,t.int32ArrayTag=R,t.int8ArrayTag=D,t.mapTag=c,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=T,t.uint32ArrayTag=E,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=A})(vC)),vC}var yC={},sI;function pfe(){return sI||(sI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(yC)),yC}var lI;function LU(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hfe(),n=ZP(),r=jU(),i=DU(),a=pfe();function o(f,h){return s(f,void 0,f,new Map,h)}function s(f,h,m,v=new Map,b=void 0){const x=b?.(f,h,m,v);if(x!==void 0)return x;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const S=new Array(f.length);v.set(f,S);for(let A=0;A<f.length;A++)S[A]=s(f[A],A,m,v,b);return Object.hasOwn(f,"index")&&(S.index=f.index),Object.hasOwn(f,"input")&&(S.input=f.input),S}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const S=new RegExp(f.source,f.flags);return S.lastIndex=f.lastIndex,S}if(f instanceof Map){const S=new Map;v.set(f,S);for(const[A,T]of f)S.set(A,s(T,A,m,v,b));return S}if(f instanceof Set){const S=new Set;v.set(f,S);for(const A of f)S.add(s(A,void 0,m,v,b));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const S=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,S);for(let A=0;A<f.length;A++)S[A]=s(f[A],A,m,v,b);return S}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const S=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,S),c(S,f,m,v,b),S}if(typeof File<"u"&&f instanceof File){const S=new File([f],f.name,{type:f.type});return v.set(f,S),c(S,f,m,v,b),S}if(typeof Blob<"u"&&f instanceof Blob){const S=new Blob([f],{type:f.type});return v.set(f,S),c(S,f,m,v,b),S}if(f instanceof Error){const S=new f.constructor;return v.set(f,S),S.message=f.message,S.name=f.name,S.stack=f.stack,S.cause=f.cause,c(S,f,m,v,b),S}if(f instanceof Boolean){const S=new Boolean(f.valueOf());return v.set(f,S),c(S,f,m,v,b),S}if(f instanceof Number){const S=new Number(f.valueOf());return v.set(f,S),c(S,f,m,v,b),S}if(f instanceof String){const S=new String(f.valueOf());return v.set(f,S),c(S,f,m,v,b),S}if(typeof f=="object"&&d(f)){const S=Object.create(Object.getPrototypeOf(f));return v.set(f,S),c(S,f,m,v,b),S}return f}function c(f,h,m=f,v,b){const x=[...Object.keys(h),...e.getSymbols(h)];for(let S=0;S<x.length;S++){const A=x[S],T=Object.getOwnPropertyDescriptor(f,A);(T==null||T.writable)&&(f[A]=s(h[A],A,m,v,b))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=s,t.copyProperties=c})(pC)),pC}var cI;function mfe(){return cI||(cI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LU();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(hC)),hC}var uI;function gfe(){return uI||(uI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RU(),n=mfe();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(sC)),sC}var bC={},xC={},wC={},dI;function vfe(){return dI||(dI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LU(),n=ZP(),r=jU();function i(a,o){return e.cloneDeepWith(a,(s,c,d,f)=>{const h=o?.(s,c,d,f);if(h!==void 0)return h;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const m={};return f.set(a,m),e.copyProperties(m,a,d,f),m}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a?.valueOf());return e.copyProperties(m,a),m}case r.argumentsTag:{const m={};return e.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}}})}t.cloneDeepWith=i})(wC)),wC}var fI;function yfe(){return fI||(fI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vfe();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(xC)),xC}var SC={},AC={},hI;function NU(){return hI||(hI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(AC)),AC}var CC={},pI;function bfe(){return pI||(pI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZP();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(CC)),CC}var mI;function xfe(){return mI||(mI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AU(),n=NU(),r=bfe(),i=GP();function a(o,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&e.isDeepKey(s)&&o?.[s]==null?c=i.toPath(s):c=[s],c.length===0)return!1;let d=o;for(let f=0;f<c.length;f++){const h=c[f];if((d==null||!Object.hasOwn(d,h))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(h)&&h<d.length))return!1;d=d[h]}return!0}t.has=a})(SC)),SC}var gI;function wfe(){return gI||(gI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RU(),n=qP(),r=yfe(),i=YP(),a=xfe();function o(s,c){switch(typeof s){case"object":{Object.is(s?.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return c=r.cloneDeep(c),function(d){const f=i.get(d,s);return f===void 0?a.has(d,s):c===void 0?f===void 0:e.isMatch(f,c)}}t.matchesProperty=o})(bC)),bC}var vI;function Sfe(){return vI||(vI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PU(),n=dfe(),r=gfe(),i=wfe();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(aC)),aC}var yI;function Afe(){return yI||(yI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ofe(),n=sfe(),r=PU(),i=ufe(),a=Sfe();function o(s,c=r.identity){return i.isArrayLikeObject(s)?e.uniqBy(Array.from(s),n.ary(a.iteratee(c),1)):[]}t.uniqBy=o})(ZA)),ZA}var _C,bI;function Cfe(){return bI||(bI=1,_C=Afe().uniqBy),_C}var _fe=Cfe();const xI=ua(_fe);function IU(t,e,n){return e===!0?xI(t,n):typeof e=="function"?xI(t,e):t}var EC={exports:{}},TC={},kC={exports:{}},PC={};var wI;function Efe(){if(wI)return PC;wI=1;var t=Ch();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function s(h,m){var v=m(),b=r({inst:{value:v,getSnapshot:m}}),x=b[0].inst,S=b[1];return a(function(){x.value=v,x.getSnapshot=m,c(x)&&S({inst:x})},[h,v,m]),i(function(){return c(x)&&S({inst:x}),h(function(){c(x)&&S({inst:x})})},[h]),o(v),v}function c(h){var m=h.getSnapshot;h=h.value;try{var v=m();return!n(h,v)}catch{return!0}}function d(h,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:s;return PC.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,PC}var SI;function Tfe(){return SI||(SI=1,kC.exports=Efe()),kC.exports}var AI;function kfe(){if(AI)return TC;AI=1;var t=Ch(),e=Tfe();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,s=t.useMemo,c=t.useDebugValue;return TC.useSyncExternalStoreWithSelector=function(d,f,h,m,v){var b=a(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=s(function(){function A(M){if(!T){if(T=!0,E=M,M=m(M),v!==void 0&&x.hasValue){var R=x.value;if(v(R,M))return k=R}return k=M}if(R=k,r(E,M))return R;var N=m(M);return v!==void 0&&v(R,N)?(E=M,R):(E=M,k=N)}var T=!1,E,k,D=h===void 0?null:h;return[function(){return A(f())},D===null?void 0:function(){return A(D())}]},[f,h,m,v]);var S=i(d,b[0],b[1]);return o(function(){x.hasValue=!0,x.value=S},[S]),c(S),S},TC}var CI;function Pfe(){return CI||(CI=1,EC.exports=kfe()),EC.exports}var Ofe=Pfe(),QP=w.createContext(null),Dfe=t=>t,Sr=()=>{var t=w.useContext(QP);return t?t.store.dispatch:Dfe},ib=()=>{},Mfe=()=>ib,Rfe=(t,e)=>t===e;function At(t){var e=w.useContext(QP),n=w.useMemo(()=>e?r=>{if(r!=null)return t(r)}:ib,[e,t]);return Ofe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Mfe,e?e.store.getState:ib,e?e.store.getState:ib,n,Rfe)}function jfe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Lfe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Nfe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var _I=t=>Array.isArray(t)?t:[t];function Ife(t){const e=Array.isArray(t[0])?t[0]:t;return Nfe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function zfe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Bfe=class{constructor(t){this.value=t}deref(){return this.value}},$fe=typeof WeakRef<"u"?WeakRef:Bfe,Ffe=0,EI=1;function ky(){return{s:Ffe,v:void 0,o:null,p:null}}function zU(t,e={}){let n=ky();const{resultEqualityCheck:r}=e;let i,a=0;function o(){let s=n;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let b=s.o;b===null&&(s.o=b=new WeakMap);const x=b.get(v);x===void 0?(s=ky(),b.set(v,s)):s=x}else{let b=s.p;b===null&&(s.p=b=new Map);const x=b.get(v);x===void 0?(s=ky(),b.set(v,s)):s=x}}const d=s;let f;if(s.s===EI)f=s.v;else if(f=t.apply(null,arguments),a++,r){const h=i?.deref?.()??i;h!=null&&r(h,f)&&(f=h,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new $fe(f):f}return d.s=EI,d.v=f,f}return o.clearCache=()=>{n=ky(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Ufe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,s,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),jfe(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...c},{memoize:h,memoizeOptions:m=[],argsMemoize:v=zU,argsMemoizeOptions:b=[]}=f,x=_I(m),S=_I(b),A=Ife(i),T=h(function(){return a++,d.apply(null,arguments)},...x),E=v(function(){o++;const D=zfe(A,arguments);return s=T.apply(null,D),s},...S);return Object.assign(E,{resultFunc:d,memoizedResultFunc:T,dependencies:A,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var Re=Ufe(zU),Hfe=Object.assign((t,e=Re)=>{Lfe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,s,c)=>(o[n[c]]=s,o),{}))},{withTypes:()=>Hfe}),OC={},DC={},MC={},TI;function Vfe(){return TI||(TI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),s=e(i);if(o===s&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};t.compareValues=n})(MC)),MC}var RC={},jC={},kI;function BU(){return kI||(kI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(jC)),jC}var PI;function qfe(){return PI||(PI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BU(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(RC)),RC}var OI;function Gfe(){return OI||(OI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vfe(),n=qfe(),r=GP();function i(a,o,s,c){if(a==null)return[];s=c?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(v=>String(v));const d=(v,b)=>{let x=v;for(let S=0;S<b.length&&x!=null;++S)x=x[b[S]];return x},f=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:d(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?d(b,v):typeof b=="object"?b[v]:b,h=o.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:h.map(b=>f(b,v))})).slice().sort((v,b)=>{for(let x=0;x<h.length;x++){const S=e.compareValues(v.criteria[x],b.criteria[x],s[x]);if(S!==0)return S}return 0}).map(v=>v.original)}t.orderBy=i})(DC)),DC}var LC={},DI;function Yfe(){return DI||(DI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(s,c)=>{for(let d=0;d<s.length;d++){const f=s[d];Array.isArray(f)&&c<a?o(f,c+1):i.push(f)}};return o(n,0),i}t.flatten=e})(LC)),LC}var NC={},MI;function $U(){return MI||(MI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NU(),n=XP(),r=OU(),i=MU();function a(o,s,c){return r.isObject(c)&&(typeof s=="number"&&n.isArrayLike(c)&&e.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?i.isEqualsSameValueZero(c[s],o):!1}t.isIterateeCall=a})(NC)),NC}var RI;function Kfe(){return RI||(RI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gfe(),n=Yfe(),r=$U();function i(a,...o){const s=o.length;return s>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(OC)),OC}var IC,jI;function Wfe(){return jI||(jI=1,IC=Kfe().sortBy),IC}var Xfe=Wfe();const Zx=ua(Xfe);var FU=t=>t.legend.settings,Zfe=t=>t.legend.size,Qfe=t=>t.legend.payload,Jfe=Re([Qfe,FU],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Zx(r,n):r});function ehe(){return At(Jfe)}var Py=1;function UU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>Py||Math.abs(o.left-e.left)>Py||Math.abs(o.top-e.top)>Py||Math.abs(o.width-e.width)>Py)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function _i(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var the=typeof Symbol=="function"&&Symbol.observable||"@@observable",LI=the,zC=()=>Math.random().toString(36).substring(7).split("").join("."),nhe={INIT:`@@redux/INIT${zC()}`,REPLACE:`@@redux/REPLACE${zC()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zC()}`},Hb=nhe;function JP(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function HU(t,e,n){if(typeof t!="function")throw new Error(_i(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_i(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_i(1));return n(HU)(t,e)}let r=t,i=e,a=new Map,o=a,s=0,c=!1;function d(){o===a&&(o=new Map,a.forEach((S,A)=>{o.set(A,S)}))}function f(){if(c)throw new Error(_i(3));return i}function h(S){if(typeof S!="function")throw new Error(_i(4));if(c)throw new Error(_i(5));let A=!0;d();const T=s++;return o.set(T,S),function(){if(A){if(c)throw new Error(_i(6));A=!1,d(),o.delete(T),a=null}}}function m(S){if(!JP(S))throw new Error(_i(7));if(typeof S.type>"u")throw new Error(_i(8));if(typeof S.type!="string")throw new Error(_i(17));if(c)throw new Error(_i(9));try{c=!0,i=r(i,S)}finally{c=!1}return(a=o).forEach(T=>{T()}),S}function v(S){if(typeof S!="function")throw new Error(_i(10));r=S,m({type:Hb.REPLACE})}function b(){const S=h;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(_i(11));function T(){const k=A;k.next&&k.next(f())}return T(),{unsubscribe:S(T)}},[LI](){return this}}}return m({type:Hb.INIT}),{dispatch:m,subscribe:h,getState:f,replaceReducer:v,[LI]:b}}function rhe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Hb.INIT})>"u")throw new Error(_i(12));if(typeof n(void 0,{type:Hb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_i(13))})}function VU(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{rhe(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let c=!1;const d={};for(let f=0;f<r.length;f++){const h=r[f],m=n[h],v=o[h],b=m(v,s);if(typeof b>"u")throw s&&s.type,new Error(_i(14));d[h]=b,c=c||b!==v}return c=c||r.length!==Object.keys(o).length,c?d:o}}function Vb(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function ihe(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(_i(15))};const o={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},s=t.map(c=>c(o));return a=Vb(...s)(i.dispatch),{...i,dispatch:a}}}function qU(t){return JP(t)&&"type"in t&&typeof t.type=="string"}var GU=Symbol.for("immer-nothing"),NI=Symbol.for("immer-draftable"),ca=Symbol.for("immer-state");function Bo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Va=Object,vh=Va.getPrototypeOf,qb="constructor",Qx="prototype",AE="configurable",Gb="enumerable",ab="writable",Vm="value",Ml=t=>!!t&&!!t[ca];function Xo(t){return t?YU(t)||ew(t)||!!t[NI]||!!t[qb]?.[NI]||tw(t)||nw(t):!1}var ahe=Va[Qx][qb].toString(),II=new WeakMap;function YU(t){if(!t||!eO(t))return!1;const e=vh(t);if(e===null||e===Va[Qx])return!0;const n=Va.hasOwnProperty.call(e,qb)&&e[qb];if(n===Object)return!0;if(!Ff(n))return!1;let r=II.get(n);return r===void 0&&(r=Function.toString.call(n),II.set(n,r)),r===ahe}function Jx(t,e,n=!0){Eg(t)===0?(n?Reflect.ownKeys(t):Va.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Eg(t){const e=t[ca];return e?e.type_:ew(t)?1:tw(t)?2:nw(t)?3:0}var zI=(t,e,n=Eg(t))=>n===2?t.has(e):Va[Qx].hasOwnProperty.call(t,e),CE=(t,e,n=Eg(t))=>n===2?t.get(e):t[e],Yb=(t,e,n,r=Eg(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function ohe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var ew=Array.isArray,tw=t=>t instanceof Map,nw=t=>t instanceof Set,eO=t=>typeof t=="object",Ff=t=>typeof t=="function",BC=t=>typeof t=="boolean";function she(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var yl=t=>t.copy_||t.base_,tO=t=>t.modified_?t.copy_:t.base_;function _E(t,e){if(tw(t))return new Map(t);if(nw(t))return new Set(t);if(ew(t))return Array[Qx].slice.call(t);const n=YU(t);if(e===!0||e==="class_only"&&!n){const r=Va.getOwnPropertyDescriptors(t);delete r[ca];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s[ab]===!1&&(s[ab]=!0,s[AE]=!0),(s.get||s.set)&&(r[o]={[AE]:!0,[ab]:!0,[Gb]:s[Gb],[Vm]:t[o]})}return Va.create(vh(t),r)}else{const r=vh(t);if(r!==null&&n)return{...t};const i=Va.create(r);return Va.assign(i,t)}}function nO(t,e=!1){return rw(t)||Ml(t)||!Xo(t)||(Eg(t)>1&&Va.defineProperties(t,{set:Oy,add:Oy,clear:Oy,delete:Oy}),Va.freeze(t),e&&Jx(t,(n,r)=>{nO(r,!0)},!1)),t}function lhe(){Bo(2)}var Oy={[Vm]:lhe};function rw(t){return t===null||!eO(t)?!0:Va.isFrozen(t)}var Kb="MapSet",EE="Patches",BI="ArrayMethods",KU={};function yd(t){const e=KU[t];return e||Bo(0,t),e}var $I=t=>!!KU[t],qm,WU=()=>qm,che=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:$I(Kb)?yd(Kb):void 0,arrayMethodsPlugin_:$I(BI)?yd(BI):void 0});function FI(t,e){e&&(t.patchPlugin_=yd(EE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function TE(t){kE(t),t.drafts_.forEach(uhe),t.drafts_=null}function kE(t){t===qm&&(qm=t.parent_)}var UI=t=>qm=che(qm,t);function uhe(t){const e=t[ca];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function HI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[ca].modified_&&(TE(e),Bo(4)),Xo(t)&&(t=VI(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[ca].base_,t,e)}else t=VI(e,n);return dhe(e,t,!0),TE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==GU?t:void 0}function VI(t,e){if(rw(e))return e;const n=e[ca];if(!n)return Wb(e,t.handledSet_,t);if(!iw(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);QU(n,t)}return n.copy_}function dhe(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&nO(e,n)}function XU(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var iw=(t,e)=>t.scope_===e,fhe=[];function ZU(t,e,n,r){const i=yl(t),a=t.type_;if(r!==void 0&&CE(i,r,a)===e){Yb(i,r,n,a);return}if(!t.draftLocations_){const s=t.draftLocations_=new Map;Jx(i,(c,d)=>{if(Ml(d)){const f=s.get(d)||[];f.push(c),s.set(d,f)}})}const o=t.draftLocations_.get(e)??fhe;for(const s of o)Yb(i,s,n,a)}function hhe(t,e,n){t.callbacks_.push(function(i){const a=e;if(!a||!iw(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=tO(a);ZU(t,a.draft_??a,o,n),QU(a,i)})}function QU(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}XU(t)}}function phe(t,e,n){const{scope_:r}=t;if(Ml(n)){const i=n[ca];iw(i,r)&&i.callbacks_.push(function(){ob(t);const o=tO(i);ZU(t,n,o,e)})}else Xo(n)&&t.callbacks_.push(function(){const a=yl(t);t.type_===3?a.has(n)&&Wb(n,r.handledSet_,r):CE(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Wb(CE(t.copy_,e,t.type_),r.handledSet_,r)})}function Wb(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ml(t)||e.has(t)||!Xo(t)||rw(t)||(e.add(t),Jx(t,(r,i)=>{if(Ml(i)){const a=i[ca];if(iw(a,n)){const o=tO(a);Yb(t,r,o,t.type_),XU(a)}}else Xo(i)&&Wb(i,e,n)})),t}function mhe(t,e){const n=ew(t),r={type_:n?1:0,scope_:e?e.scope_:WU(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Xb;n&&(i=[r],a=Gm);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,[s,r]}var Xb={get(t,e){if(e===ca)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=yl(t);if(!zI(i,e,t.type_))return ghe(t,i,e);const a=i[e];if(t.finalized_||!Xo(a)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&she(e))return a;if(a===$C(t.base_,e)){ob(t);const o=t.type_===1?+e:e,s=OE(t.scope_,a,t,o);return t.copy_[o]=s}return a},has(t,e){return e in yl(t)},ownKeys(t){return Reflect.ownKeys(yl(t))},set(t,e,n){const r=JU(yl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=$C(yl(t),e),a=i?.[ca];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(ohe(n,i)&&(n!==void 0||zI(t.base_,e,t.type_)))return!0;ob(t),PE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),phe(t,e,n)),!0},deleteProperty(t,e){return ob(t),$C(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),PE(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=yl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[ab]:!0,[AE]:t.type_!==1||e!=="length",[Gb]:r[Gb],[Vm]:n[e]}},defineProperty(){Bo(11)},getPrototypeOf(t){return vh(t.base_)},setPrototypeOf(){Bo(12)}},Gm={};for(let t in Xb){let e=Xb[t];Gm[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Gm.deleteProperty=function(t,e){return Gm.set.call(this,t,e,void 0)};Gm.set=function(t,e,n){return Xb.set.call(this,t[0],e,n,t[0])};function $C(t,e){const n=t[ca];return(n?yl(n):t)[e]}function ghe(t,e,n){const r=JU(e,n);return r?Vm in r?r[Vm]:r.get?.call(t.draft_):void 0}function JU(t,e){if(!(e in t))return;let n=vh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=vh(n)}}function PE(t){t.modified_||(t.modified_=!0,t.parent_&&PE(t.parent_))}function ob(t){t.copy_||(t.assigned_=new Map,t.copy_=_E(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var vhe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ff(n)&&!Ff(r)){const o=r;r=n;const s=this;return function(d=o,...f){return s.produce(d,h=>r.call(this,h,...f))}}Ff(r)||Bo(6),i!==void 0&&!Ff(i)&&Bo(7);let a;if(Xo(n)){const o=UI(this),s=OE(o,n,void 0);let c=!0;try{a=r(s),c=!1}finally{c?TE(o):kE(o)}return FI(o,i),HI(a,o)}else if(!n||!eO(n)){if(a=r(n),a===void 0&&(a=n),a===GU&&(a=void 0),this.autoFreeze_&&nO(a,!0),i){const o=[],s=[];yd(EE).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:s}),i(o,s)}return a}else Bo(1,n)},this.produceWithPatches=(n,r)=>{if(Ff(n))return(s,...c)=>this.produceWithPatches(s,d=>n(d,...c));let i,a;return[this.produce(n,r,(s,c)=>{i=s,a=c}),i,a]},BC(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),BC(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),BC(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Xo(e)||Bo(8),Ml(e)&&(e=Go(e));const n=UI(this),r=OE(n,e,void 0);return r[ca].isManual_=!0,kE(n),r}finishDraft(e,n){const r=e&&e[ca];(!r||!r.isManual_)&&Bo(9);const{scope_:i}=r;return FI(i,n),HI(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=yd(EE).applyPatches_;return Ml(e)?i(e,n):this.produce(e,a=>i(a,n))}};function OE(t,e,n,r){const[i,a]=tw(e)?yd(Kb).proxyMap_(e,n):nw(e)?yd(Kb).proxySet_(e,n):mhe(e,n);return(n?.scope_??WU()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?hhe(n,a,r):a.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=c;a.modified_&&d&&d.generatePatches_(a,[],c)}),i}function Go(t){return Ml(t)||Bo(10,t),e8(t)}function e8(t){if(!Xo(t)||rw(t))return t;const e=t[ca];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=_E(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=_E(t,!0);return Jx(n,(i,a)=>{Yb(n,i,e8(a))},r),e&&(e.finalized_=!1),n}var yhe=new vhe,t8=yhe.produce;function n8(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var bhe=n8(),xhe=n8,whe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vb:Vb.apply(null,arguments)};function _o(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ga(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>qU(r)&&r.type===t,n}var r8=class wm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,wm.prototype)}static get[Symbol.species](){return wm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new wm(...e[0].concat(this)):new wm(...e.concat(this))}};function qI(t){return Xo(t)?t8(t,()=>{}):t}function Dy(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function She(t){return typeof t=="boolean"}var Ahe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new r8;return n&&(She(n)?o.push(bhe):o.push(xhe(n.extraArgument))),o},i8="RTK_autoBatch",or=()=>t=>({payload:t,meta:{[i8]:!0}}),GI=t=>e=>{setTimeout(e,t)},a8=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const s=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:GI(10):t.type==="callback"?t.queueNotification:GI(t.timeout),d=()=>{o=!1,a&&(a=!1,s.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const h=()=>i&&f(),m=r.subscribe(h);return s.add(f),()=>{m(),s.delete(f)}},dispatch(f){try{return i=!f?.meta?.[i8],a=!i,a&&(o||(o=!0,c(d))),r.dispatch(f)}finally{i=!0}}})},Che=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new r8(t);return r&&i.push(a8(typeof r=="object"?r:void 0)),i};function _he(t){const e=Ahe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let s;if(typeof n=="function")s=n;else if(JP(n))s=VU(n);else throw new Error(Ga(1));let c;typeof r=="function"?c=r(e):c=e();let d=Vb;i&&(d=whe({trace:!1,...typeof i=="object"&&i}));const f=ihe(...c),h=Che(f);let m=typeof o=="function"?o(h):h();const v=d(...m);return HU(s,a,v)}function o8(t){const e={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(Ga(28));if(s in e)throw new Error(Ga(29));return e[s]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Ehe(t){return typeof t=="function"}function The(t,e){let[n,r,i]=o8(e),a;if(Ehe(t))a=()=>qI(t());else{const s=qI(t);a=()=>s}function o(s=a(),c){let d=[n[c.type],...r.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,h)=>{if(h)if(Ml(f)){const v=h(f,c);return v===void 0?f:v}else{if(Xo(f))return t8(f,m=>h(m,c));{const m=h(f,c);if(m===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return f},s)}return o.getInitialState=a,o}var khe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Phe=(t=21)=>{let e="",n=t;for(;n--;)e+=khe[Math.random()*64|0];return e},Ohe=Symbol.for("rtk-slice-createasyncthunk");function Dhe(t,e){return`${t}/${e}`}function Mhe({creators:t}={}){const e=t?.asyncThunk?.[Ohe];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Ga(11));const o=(typeof r.reducers=="function"?r.reducers(jhe()):r.reducers)||{},s=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,k){const D=typeof E=="string"?E:E.type;if(!D)throw new Error(Ga(12));if(D in c.sliceCaseReducersByType)throw new Error(Ga(13));return c.sliceCaseReducersByType[D]=k,d},addMatcher(E,k){return c.sliceMatchers.push({matcher:E,reducer:k}),d},exposeAction(E,k){return c.actionCreators[E]=k,d},exposeCaseReducer(E,k){return c.sliceCaseReducersByName[E]=k,d}};s.forEach(E=>{const k=o[E],D={reducerName:E,type:Dhe(i,E),createNotation:typeof r.reducers=="function"};Nhe(k)?zhe(D,k,d,e):Lhe(D,k,d)});function f(){const[E={},k=[],D=void 0]=typeof r.extraReducers=="function"?o8(r.extraReducers):[r.extraReducers],M={...E,...c.sliceCaseReducersByType};return The(r.initialState,R=>{for(let N in M)R.addCase(N,M[N]);for(let N of c.sliceMatchers)R.addMatcher(N.matcher,N.reducer);for(let N of k)R.addMatcher(N.matcher,N.reducer);D&&R.addDefaultCase(D)})}const h=E=>E,m=new Map,v=new WeakMap;let b;function x(E,k){return b||(b=f()),b(E,k)}function S(){return b||(b=f()),b.getInitialState()}function A(E,k=!1){function D(R){let N=R[E];return typeof N>"u"&&k&&(N=Dy(v,D,S)),N}function M(R=h){const N=Dy(m,k,()=>new WeakMap);return Dy(N,R,()=>{const z={};for(const[q,Y]of Object.entries(r.selectors??{}))z[q]=Rhe(Y,R,()=>Dy(v,R,S),k);return z})}return{reducerPath:E,getSelectors:M,get selectors(){return M(D)},selectSlice:D}}const T={name:i,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:S,...A(a),injectInto(E,{reducerPath:k,...D}={}){const M=k??a;return E.inject({reducerPath:M,reducer:x},D),{...T,...A(M,!0)}}};return T}}function Rhe(t,e,n,r){function i(a,...o){let s=e(a);return typeof s>"u"&&r&&(s=n()),t(s,...o)}return i.unwrapped=t,i}var Pa=Mhe();function jhe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Lhe({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!Ihe(r))throw new Error(Ga(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?_o(t,o):_o(t))}function Nhe(t){return t._reducerDefinitionType==="asyncThunk"}function Ihe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function zhe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ga(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:c,settled:d,options:f}=n,h=i(t,a,f);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),s&&r.addCase(h.pending,s),c&&r.addCase(h.rejected,c),d&&r.addMatcher(h.settled,d),r.exposeCaseReducer(e,{fulfilled:o||My,pending:s||My,rejected:c||My,settled:d||My})}function My(){}var Bhe="task",s8="listener",l8="completed",rO="cancelled",$he=`task-${rO}`,Fhe=`task-${l8}`,DE=`${s8}-${rO}`,Uhe=`${s8}-${l8}`,aw=class{constructor(t){this.code=t,this.message=`${Bhe} ${rO} (reason: ${t})`}name="TaskAbortError";message},iO=(t,e)=>{if(typeof t!="function")throw new TypeError(Ga(32))},Zb=()=>{},c8=(t,e=Zb)=>(t.catch(e),t),u8=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),nd=t=>{if(t.aborted)throw new aw(t.reason)};function d8(t,e){let n=Zb;return new Promise((r,i)=>{const a=()=>i(new aw(t.reason));if(t.aborted){a();return}n=u8(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Zb})}var Hhe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof aw?"cancelled":"rejected",error:n}}finally{e?.()}},Qb=t=>e=>c8(d8(t,e).then(n=>(nd(t),n))),f8=t=>{const e=Qb(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:nh}=Object,YI={},ow="listenerMiddleware",Vhe=(t,e)=>{const n=r=>u8(t,()=>r.abort(t.reason));return(r,i)=>{iO(r);const a=new AbortController;n(a);const o=Hhe(async()=>{nd(t),nd(a.signal);const s=await r({pause:Qb(a.signal),delay:f8(a.signal),signal:a.signal});return nd(a.signal),s},()=>a.abort(Fhe));return i?.autoJoin&&e.push(o.catch(Zb)),{result:Qb(t)(o),cancel(){a.abort($he)}}}},qhe=(t,e)=>{const n=async(r,i)=>{nd(e);let a=()=>{};const s=[new Promise((c,d)=>{let f=t({predicate:r,effect:(h,m)=>{m.unsubscribe(),c([h,m.getState(),m.getOriginalState()])}});a=()=>{f(),d()}})];i!=null&&s.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await d8(e,Promise.race(s));return nd(e),c}finally{a()}};return(r,i)=>c8(n(r,i))},h8=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=_o(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ga(21));return iO(a),{predicate:i,type:e,effect:a}},p8=nh(t=>{const{type:e,predicate:n,effect:r}=h8(t);return{id:Phe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ga(22))}}},{withTypes:()=>p8}),KI=(t,e)=>{const{type:n,effect:r,predicate:i}=h8(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},ME=t=>{t.pending.forEach(e=>{e.abort(DE)})},Ghe=(t,e)=>()=>{for(const n of e.keys())ME(n);t.clear()},WI=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},m8=nh(_o(`${ow}/add`),{withTypes:()=>m8}),Yhe=_o(`${ow}/removeAll`),g8=nh(_o(`${ow}/remove`),{withTypes:()=>g8}),Khe=(...t)=>{console.error(`${ow}/error`,...t)},Tg=(t={})=>{const e=new Map,n=new Map,r=v=>{const b=n.get(v)??0;n.set(v,b+1)},i=v=>{const b=n.get(v)??1;b===1?n.delete(v):n.set(v,b-1)},{extra:a,onError:o=Khe}=t;iO(o);const s=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),b=>{v.unsubscribe(),b?.cancelActive&&ME(v)}),c=v=>{const b=KI(e,v)??p8(v);return s(b)};nh(c,{withTypes:()=>c});const d=v=>{const b=KI(e,v);return b&&(b.unsubscribe(),v.cancelActive&&ME(b)),!!b};nh(d,{withTypes:()=>d});const f=async(v,b,x,S)=>{const A=new AbortController,T=qhe(c,A.signal),E=[];try{v.pending.add(A),r(v),await Promise.resolve(v.effect(b,nh({},x,{getOriginalState:S,condition:(k,D)=>T(k,D).then(Boolean),take:T,delay:f8(A.signal),pause:Qb(A.signal),extra:a,signal:A.signal,fork:Vhe(A.signal,E),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((k,D,M)=>{k!==A&&(k.abort(DE),M.delete(k))})},cancel:()=>{A.abort(DE),v.pending.delete(A)},throwIfCancelled:()=>{nd(A.signal)}})))}catch(k){k instanceof aw||WI(o,k,{raisedBy:"effect"})}finally{await Promise.all(E),A.abort(Uhe),i(v),v.pending.delete(A)}},h=Ghe(e,n);return{middleware:v=>b=>x=>{if(!qU(x))return b(x);if(m8.match(x))return c(x.payload);if(Yhe.match(x)){h();return}if(g8.match(x))return d(x.payload);let S=v.getState();const A=()=>{if(S===YI)throw new Error(Ga(23));return S};let T;try{if(T=b(x),e.size>0){const E=v.getState(),k=Array.from(e.values());for(const D of k){let M=!1;try{M=D.predicate(x,E,S)}catch(R){M=!1,WI(o,R,{raisedBy:"predicate"})}M&&f(D,x,v,A)}}}finally{S=YI}return T},startListening:c,stopListening:d,clearListeners:h}};function Ga(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Whe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},v8=Pa({name:"chartLayout",initialState:Whe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Xhe,setLayout:Zhe,setChartSize:Qhe,setScale:Jhe}=v8.actions,epe=v8.reducer;function y8(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Qt(t){return Number.isFinite(t)}function Ls(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){tpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tpe(t,e,n){return(e=npe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function npe(t){var e=rpe(t,"string");return typeof e=="symbol"?e:e+""}function rpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mi(t,e,n){return Li(t)||Li(e)?n:Gi(e)?Xx(t,e,n):typeof e=="function"?e(t):n}var ipe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=e;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&_t(t[a]))return qf(qf({},t),{},{[a]:t[a]+(r||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&_t(t[o]))return qf(qf({},t),{},{[o]:t[o]+(i||0)})}return t},Gl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",b8=(t,e,n,r)=>{if(r)return t.map(s=>s.coordinate);var i,a,o=t.map(s=>(s.coordinate===e&&(i=!0),s.coordinate===n&&(a=!0),s.coordinate));return i||o.push(e),a||o.push(n),o},x8=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:d,tickCount:f,ticks:h,niceTicks:m,axisType:v}=t;if(!o)return null;var b=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=i==="category"&&o.bandwidth?o.bandwidth()/b:0;if(x=v==="angleAxis"&&a&&a.length>=2?wo(a[0]-a[1])*2*x:x,h||m){var S=(h||m||[]).map((A,T)=>{var E=r?r.indexOf(A):A,k=o.map(E);return Qt(k)?{coordinate:k+x,value:A,offset:x,index:T}:null}).filter(_a);return S}return c&&d?d.map((A,T)=>{var E=o.map(A);return Qt(E)?{coordinate:E+x,value:A,index:T,offset:x}:null}).filter(_a):o.ticks&&f!=null?o.ticks(f).map((A,T)=>{var E=o.map(A);return Qt(E)?{coordinate:E+x,value:A,index:T,offset:x}:null}).filter(_a):o.domain().map((A,T)=>{var E=o.map(A);return Qt(E)?{coordinate:E+x,value:r?r[A]:A,index:T,offset:x}:null}).filter(_a)},ape=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0,s=0;s<n;++s){var c=t[s],d=c?.[i];if(d!=null){var f=d[1],h=d[0],m=Dl(f)?h:f;m>=0?(d[0]=a,a+=m,d[1]=a):(d[0]=o,o+=m,d[1]=o)}}}},ope=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0;o<n;++o){var s=t[o],c=s?.[i];if(c!=null){var d=Dl(c[1])?c[0]:c[1];d>=0?(c[0]=a,a+=d,c[1]=a):(c[0]=0,c[1]=0)}}}},spe={sign:ape,expand:kde,none:gd,silhouette:Pde,wiggle:Ode,positive:ope},lpe=(t,e,n)=>{var r,i=(r=spe[n])!==null&&r!==void 0?r:gd,a=Tde().keys(e).value((s,c)=>Number(Mi(s,c,0))).order(wE).offset(i),o=a(t);return o.forEach((s,c)=>{s.forEach((d,f)=>{var h=Mi(t[f],e[c],0);Array.isArray(h)&&h.length===2&&_t(h[0])&&_t(h[1])&&(d[0]=h[0],d[1]=h[1])})}),o};function ZI(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Li(i[e.dataKey])){var s=_U(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var c=Mi(i,Li(o)?e.dataKey:o),d=e.scale.map(c);return _t(d)?d:null}var cpe=t=>{var e=t.flat(2).filter(_t);return[Math.min(...e),Math.max(...e)]},upe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],dpe=(t,e,n)=>{if(t!=null)return upe(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:o}=a,s=o.reduce((c,d)=>{var f=y8(d,e,n),h=cpe(f);return!Qt(h[0])||!Qt(h[1])?c:[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},QI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jb=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Zx(e,f=>f.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var c=i[o],d=i[o-1];a=Math.min((c?.coordinate||0)-(d?.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function e3(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return qf(qf({},e),{},{dataKey:n,payload:r,value:i,name:a})}function w8(t,e){if(t)return String(t);if(typeof e=="string")return e}var fpe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},hpe=(t,e)=>e==="centric"?t.angle:t.radius,Yl=t=>t.layout.width,Kl=t=>t.layout.height,ppe=t=>t.layout.scale,S8=t=>t.layout.margin,sw=Re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),lw=Re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),mpe="data-recharts-item-index",gpe="data-recharts-item-id",kg=60;function t3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t3(Object(n),!0).forEach(function(r){vpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vpe(t,e,n){return(e=ype(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ype(t){var e=bpe(t,"string");return typeof e=="symbol"?e:e+""}function bpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xpe=t=>t.brush.height;function wpe(t){var e=lw(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:kg;return n+i}return n},0)}function Spe(t){var e=lw(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:kg;return n+i}return n},0)}function Ape(t){var e=sw(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Cpe(t){var e=sw(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ni=Re([Yl,Kl,S8,xpe,wpe,Spe,Ape,Cpe,FU,Zfe],(t,e,n,r,i,a,o,s,c,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+a},h={top:(n.top||0)+o,bottom:(n.bottom||0)+s},m=Ry(Ry({},h),f),v=m.bottom;m.bottom+=r,m=ipe(m,c,d);var b=t-m.left-m.right,x=e-m.top-m.bottom;return Ry(Ry({brushBottom:v},m),{},{width:Math.max(b,0),height:Math.max(x,0)})}),_pe=Re(Ni,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),A8=Re(Yl,Kl,(t,e)=>({x:0,y:0,width:t,height:e})),Epe=w.createContext(null),Xi=()=>w.useContext(Epe)!=null,cw=t=>t.brush,uw=Re([cw,Ni,S8],(t,e,n)=>({height:t.height,x:_t(t.x)?t.x:e.left,y:_t(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:_t(t.width)?t.width:e.width})),FC={},UC={},HC={},n3;function Tpe(){return n3||(n3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,s=null;const c=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),f=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},h=()=>{d&&f(),x()};let m=null;const v=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,h()},r)},b=()=>{m!==null&&(clearTimeout(m),m=null)},x=()=>{b(),o=void 0,s=null},S=()=>{f()},A=function(...T){if(i?.aborted)return;o=this,s=T;const E=m==null;v(),c&&E&&f()};return A.schedule=v,A.cancel=x,A.flush=S,i?.addEventListener("abort",x,{once:!0}),A}t.debounce=e})(HC)),HC}var r3;function kpe(){return r3||(r3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tpe();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:c}=a,d=Array(2);o&&(d[0]="leading"),s&&(d[1]="trailing");let f,h=null;const m=e.debounce(function(...x){f=r.apply(this,x),h=null},i,{edges:d}),v=function(...x){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(f=r.apply(this,x),h=Date.now(),m.cancel(),m.schedule(),f):(m.apply(this,x),f)},b=()=>(m.flush(),f);return v.cancel=m.cancel,v.flush=b,v}t.debounce=n})(UC)),UC}var i3;function Ppe(){return i3||(i3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kpe();function n(r,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:s})}t.throttle=n})(FC)),FC}var VC,a3;function Ope(){return a3||(a3=1,VC=Ppe().throttle),VC}var Dpe=Ope();const Mpe=ua(Dpe);var e0=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},Cs={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},C8=(t,e,n)=>{var{width:r=Cs.width,height:i=Cs.height,aspect:a,maxHeight:o}=n,s=vd(r)?t:Number(r),c=vd(i)?e:Number(i);return a&&a>0&&(s?c=s/a:c&&(s=c*a),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:s,calculatedHeight:c}},Rpe={width:0,height:0,overflow:"visible"},jpe={width:0,overflowX:"visible"},Lpe={height:0,overflowY:"visible"},Npe={},Ipe=t=>{var{width:e,height:n}=t,r=vd(e),i=vd(n);return r&&i?Rpe:r?jpe:i?Lpe:Npe};function zpe(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i=Cs.width,a=Cs.height):i===void 0?i=r&&r>0?void 0:Cs.width:a===void 0&&(a=r&&r>0?void 0:Cs.height),{width:i,height:a}}function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(null,arguments)}function o3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(n),!0).forEach(function(r){Bpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bpe(t,e,n){return(e=$pe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $pe(t){var e=Fpe(t,"string");return typeof e=="symbol"?e:e+""}function Fpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _8=w.createContext(Cs.initialDimension);function Upe(t){return Ls(t.width)&&Ls(t.height)}function E8(t){var{children:e,width:n,height:r}=t,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return Upe(i)?w.createElement(_8.Provider,{value:i},e):null}var aO=()=>w.useContext(_8),Hpe=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Cs.initialDimension,width:i,height:a,minWidth:o=Cs.minWidth,minHeight:s,maxHeight:c,children:d,debounce:f=Cs.debounce,id:h,className:m,onResize:v,style:b={}}=t,x=w.useRef(null),S=w.useRef();S.current=v,w.useImperativeHandle(e,()=>x.current);var[A,T]=w.useState({containerWidth:r.width,containerHeight:r.height}),E=w.useCallback((N,z)=>{T(q=>{var Y=Math.round(N),K=Math.round(z);return q.containerWidth===Y&&q.containerHeight===K?q:{containerWidth:Y,containerHeight:K}})},[]);w.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return zh;var N=K=>{var te,W=K[0];if(W!=null){var{width:J,height:L}=W.contentRect;E(J,L),(te=S.current)===null||te===void 0||te.call(S,J,L)}};f>0&&(N=Mpe(N,f,{trailing:!0,leading:!1}));var z=new ResizeObserver(N),{width:q,height:Y}=x.current.getBoundingClientRect();return E(q,Y),z.observe(x.current),()=>{z.disconnect()}},[E,f]);var{containerWidth:k,containerHeight:D}=A;e0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:R}=C8(k,D,{width:i,height:a,aspect:n,maxHeight:c});return e0(M!=null&&M>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,R,i,a,o,s,n),w.createElement("div",{id:h?"".concat(h):void 0,className:Pt("recharts-responsive-container",m),style:s3(s3({},b),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:c}),ref:x},w.createElement("div",{style:Ipe({width:i,height:a})},w.createElement(E8,{width:M,height:R},d)))}),T8=w.forwardRef((t,e)=>{var n=aO();if(Ls(n.width)&&Ls(n.height))return t.children;var{width:r,height:i}=zpe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:o}=C8(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return _t(a)&&_t(o)?w.createElement(E8,{width:a,height:o},t.children):w.createElement(Hpe,RE({},t,{width:r,height:i,ref:e}))});function oO(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Pg=()=>{var t,e=Xi(),n=At(_pe),r=At(uw),i=(t=At(cw))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Vpe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},k8=()=>{var t;return(t=At(Ni))!==null&&t!==void 0?t:Vpe},sO=()=>At(Yl),lO=()=>At(Kl),qpe=()=>At(t=>t.layout.margin),mr=t=>t.layout.layoutType,Bh=()=>At(mr),P8=()=>{var t=Bh();if(t==="horizontal"||t==="vertical")return t},O8=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},Gpe=()=>{var t=Bh();return t!==void 0},Og=t=>{var e=Sr(),n=Xi(),{width:r,height:i}=t,a=aO(),o=r,s=i;return a&&(o=a.width>0?a.width:r,s=a.height>0?a.height:i),w.useEffect(()=>{!n&&Ls(o)&&Ls(s)&&e(Qhe({width:o,height:s}))},[e,n,o,s]),null},D8=Symbol.for("immer-nothing"),l3=Symbol.for("immer-draftable"),Ka=Symbol.for("immer-state");function $o(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ym=Object.getPrototypeOf;function yh(t){return!!t&&!!t[Ka]}function bd(t){return t?M8(t)||Array.isArray(t)||!!t[l3]||!!t.constructor?.[l3]||Dg(t)||fw(t):!1}var Ype=Object.prototype.constructor.toString(),c3=new WeakMap;function M8(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=c3.get(n);return r===void 0&&(r=Function.toString.call(n),c3.set(n,r)),r===Ype}function t0(t,e,n=!0){dw(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function dw(t){const e=t[Ka];return e?e.type_:Array.isArray(t)?1:Dg(t)?2:fw(t)?3:0}function jE(t,e){return dw(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function R8(t,e,n){const r=dw(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Kpe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Dg(t){return t instanceof Map}function fw(t){return t instanceof Set}function zu(t){return t.copy_||t.base_}function LE(t,e){if(Dg(t))return new Map(t);if(fw(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=M8(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ka];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[o]})}return Object.create(Ym(t),r)}else{const r=Ym(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function cO(t,e=!1){return hw(t)||yh(t)||!bd(t)||(dw(t)>1&&Object.defineProperties(t,{set:jy,add:jy,clear:jy,delete:jy}),Object.freeze(t),e&&Object.values(t).forEach(n=>cO(n,!0))),t}function Wpe(){$o(2)}var jy={value:Wpe};function hw(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Xpe={};function xd(t){const e=Xpe[t];return e||$o(0,t),e}var Km;function j8(){return Km}function Zpe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function u3(t,e){e&&(xd("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function NE(t){IE(t),t.drafts_.forEach(Qpe),t.drafts_=null}function IE(t){t===Km&&(Km=t.parent_)}function d3(t){return Km=Zpe(Km,t)}function Qpe(t){const e=t[Ka];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function f3(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ka].modified_&&(NE(e),$o(4)),bd(t)&&(t=n0(e,t),e.parent_||r0(e,t)),e.patches_&&xd("Patches").generateReplacementPatches_(n[Ka].base_,t,e.patches_,e.inversePatches_)):t=n0(e,n,[]),NE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==D8?t:void 0}function n0(t,e,n){if(hw(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Ka];if(!i)return t0(e,(a,o)=>h3(t,i,e,a,o,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return r0(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),t0(o,(c,d)=>h3(t,i,a,c,d,n,s),r),r0(t,a,!1),n&&t.patches_&&xd("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function h3(t,e,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const s=hw(i);if(!(s&&!o)){if(yh(i)){const c=a&&e&&e.type_!==3&&!jE(e.assigned_,r)?a.concat(r):void 0,d=n0(t,i,c);if(R8(n,r,d),yh(d))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(bd(i)&&!s){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&s)return;n0(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Dg(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&r0(t,i)}}}function r0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&cO(e,n)}function Jpe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:j8(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=uO;n&&(i=[r],a=Wm);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var uO={get(t,e){if(e===Ka)return t;const n=zu(t);if(!jE(n,e))return eme(t,n,e);const r=n[e];return t.finalized_||!bd(r)?r:r===qC(t.base_,e)?(GC(t),t.copy_[e]=BE(r,t)):r},has(t,e){return e in zu(t)},ownKeys(t){return Reflect.ownKeys(zu(t))},set(t,e,n){const r=L8(zu(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=qC(zu(t),e),a=i?.[Ka];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Kpe(n,i)&&(n!==void 0||jE(t.base_,e)))return!0;GC(t),zE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return qC(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,GC(t),zE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zu(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){$o(11)},getPrototypeOf(t){return Ym(t.base_)},setPrototypeOf(){$o(12)}},Wm={};t0(uO,(t,e)=>{Wm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Wm.deleteProperty=function(t,e){return Wm.set.call(this,t,e,void 0)};Wm.set=function(t,e,n){return uO.set.call(this,t[0],e,n,t[0])};function qC(t,e){const n=t[Ka];return(n?zu(n):t)[e]}function eme(t,e,n){const r=L8(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function L8(t,e){if(!(e in t))return;let n=Ym(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ym(n)}}function zE(t){t.modified_||(t.modified_=!0,t.parent_&&zE(t.parent_))}function GC(t){t.copy_||(t.copy_=LE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var tme=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(c=a,...d){return o.produce(c,f=>n.call(this,f,...d))}}typeof n!="function"&&$o(6),r!==void 0&&typeof r!="function"&&$o(7);let i;if(bd(e)){const a=d3(this),o=BE(e,void 0);let s=!0;try{i=n(o),s=!1}finally{s?NE(a):IE(a)}return u3(a,r),f3(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===D8&&(i=void 0),this.autoFreeze_&&cO(i,!0),r){const a=[],o=[];xd("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else $o(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...s)=>this.produceWithPatches(o,c=>e(c,...s));let r,i;return[this.produce(e,n,(o,s)=>{r=o,i=s}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){bd(t)||$o(8),yh(t)&&(t=nme(t));const e=d3(this),n=BE(t,void 0);return n[Ka].isManual_=!0,IE(e),n}finishDraft(t,e){const n=t&&t[Ka];(!n||!n.isManual_)&&$o(9);const{scope_:r}=n;return u3(r,e),f3(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=xd("Patches").applyPatches_;return yh(t)?r(t,e):this.produce(t,i=>r(i,e))}};function BE(t,e){const n=Dg(t)?xd("MapSet").proxyMap_(t,e):fw(t)?xd("MapSet").proxySet_(t,e):Jpe(t,e);return(e?e.scope_:j8()).drafts_.push(n),n}function nme(t){return yh(t)||$o(10,t),N8(t)}function N8(t){if(!bd(t)||hw(t))return t;const e=t[Ka];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=LE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=LE(t,!0);return t0(n,(i,a)=>{R8(n,i,N8(a))},r),e&&(e.finalized_=!1),n}var rme=new tme;rme.produce;var ime={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},I8=Pa({name:"legend",initialState:ime,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:or()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Go(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:or()},removeLegendPayload:{reducer(t,e){var n=Go(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:or()}}}),{setLegendSize:p3,setLegendSettings:ame,addLegendPayload:ome,replaceLegendPayload:sme,removeLegendPayload:lme}=I8.actions,cme=I8.reducer,ume=["contextPayload"];function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(null,arguments)}function m3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m3(Object(n),!0).forEach(function(r){dme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dme(t,e,n){return(e=fme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fme(t){var e=hme(t,"string");return typeof e=="symbol"?e:e+""}function hme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pme(t,e){if(t==null)return{};var n,r,i=mme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gme(t){return t.value}function vme(t){var{contextPayload:e}=t,n=pme(t,ume),r=IU(e,t.payloadUniqBy,gme),i=bh(bh({},n),{},{payload:r});return w.isValidElement(t.content)?w.cloneElement(t.content,i):typeof t.content=="function"?w.createElement(t.content,i):w.createElement(afe,i)}function yme(t,e,n,r,i,a){var{layout:o,align:s,verticalAlign:c}=e,d,f;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(s==="center"&&o==="vertical"?d={left:((r||0)-a.width)/2}:d=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?f={top:((i||0)-a.height)/2}:f=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),bh(bh({},d),f)}function bme(t){var e=Sr();return w.useEffect(()=>{e(ame(t))},[e,t]),null}function xme(t){var e=Sr();return w.useEffect(()=>(e(p3(t)),()=>{e(p3({width:0,height:0}))}),[e,t]),null}function wme(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var Sme={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function dO(t){var e=pi(t,Sme),n=ehe(),r=Zue(),i=qpe(),{width:a,height:o,wrapperStyle:s,portal:c}=e,[d,f]=UU([n]),h=sO(),m=lO();if(h==null||m==null)return null;var v=h-(i?.left||0)-(i?.right||0),b=wme(e.layout,o,a,v),x=c?s:bh(bh({position:"absolute",width:b?.width||a||"auto",height:b?.height||o||"auto"},yme(s,e,i,h,m,d)),s),S=c??r;if(S==null||n==null)return null;var A=w.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:f},w.createElement(bme,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!c&&w.createElement(xme,{width:d.width,height:d.height}),w.createElement(vme,$E({},e,b,{margin:i,chartWidth:h,chartHeight:m,contextPayload:n})));return Ed.createPortal(A,S)}dO.displayName="Legend";function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FE.apply(null,arguments)}function g3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function om(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g3(Object(n),!0).forEach(function(r){Ame(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ame(t,e,n){return(e=Cme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cme(t){var e=_me(t,"string");return typeof e=="symbol"?e:e+""}function _me(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eme(t){return Array.isArray(t)&&Gi(t[0])&&Gi(t[1])?t.join(" ~ "):t}var Mf={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Tme=t=>{var{separator:e=Mf.separator,contentStyle:n,itemStyle:r,labelStyle:i=Mf.labelStyle,payload:a,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:h,accessibilityLayer:m=Mf.accessibilityLayer}=t,v=()=>{if(a&&a.length){var D={padding:0,margin:0},M=(s?Zx(a,s):a).map((R,N)=>{if(R.type==="none")return null;var z=R.formatter||o||Eme,{value:q,name:Y}=R,K=q,te=Y;if(z){var W=z(q,Y,R,N,a);if(Array.isArray(W))[K,te]=W;else if(W!=null)K=W;else return null}var J=om(om({},Mf.itemStyle),{},{color:R.color||Mf.itemStyle.color},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:J},Gi(te)?w.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Gi(te)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},K),w.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:D},M)}return null},b=om(om({},Mf.contentStyle),n),x=om({margin:0},i),S=!Li(f),A=S?f:"",T=Pt("recharts-default-tooltip",c),E=Pt("recharts-tooltip-label",d);S&&h&&a!==void 0&&a!==null&&(A=h(f,a));var k=m?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",FE({className:T,style:b},k),w.createElement("p",{className:E,style:x},w.isValidElement(A)?A:"".concat(A)),v())},sm="recharts-tooltip-wrapper",kme={visibility:"hidden"};function Pme(t){var{coordinate:e,translateX:n,translateY:r}=t;return Pt(sm,{["".concat(sm,"-right")]:_t(n)&&e&&_t(e.x)&&n>=e.x,["".concat(sm,"-left")]:_t(n)&&e&&_t(e.x)&&n<e.x,["".concat(sm,"-bottom")]:_t(r)&&e&&_t(e.y)&&r>=e.y,["".concat(sm,"-top")]:_t(r)&&e&&_t(e.y)&&r<e.y})}function v3(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:d}=t;if(a&&_t(a[r]))return a[r];var f=n[r]-s-(i>0?i:0),h=n[r]+i;if(e[r])return o[r]?f:h;var m=c[r];if(m==null)return 0;if(o[r]){var v=f,b=m;return v<b?Math.max(h,m):Math.max(f,m)}if(d==null)return 0;var x=h+s,S=m+d;return x>S?Math.max(f,m):Math.max(h,m)}function Ome(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Dme(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:o,tooltipBox:s,useTranslate3d:c,viewBox:d}=t,f,h,m;return s.height>0&&s.width>0&&n?(h=v3({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:a,reverseDirection:o,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),m=v3({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:a,reverseDirection:o,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),f=Ome({translateX:h,translateY:m,useTranslate3d:c})):f=kme,{cssProperties:f,cssClasses:Pme({translateX:h,translateY:m,coordinate:n})}}function y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y3(Object(n),!0).forEach(function(r){UE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UE(t,e,n){return(e=Mme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mme(t){var e=Rme(t,"string");return typeof e=="symbol"?e:e+""}function Rme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jme extends w.PureComponent{constructor(){super(...arguments),UE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),UE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:c,offset:d,position:f,reverseDirection:h,useTranslate3d:m,viewBox:v,wrapperStyle:b,lastBoundingBox:x,innerRef:S,hasPortalFromProps:A}=this.props,T=typeof d=="number"?d:d.x,E=typeof d=="number"?d:d.y,{cssClasses:k,cssProperties:D}=Dme({allowEscapeViewBox:n,coordinate:o,offsetLeft:T,offsetTop:E,position:f,reverseDirection:h,tooltipBox:{height:x.height,width:x.width},useTranslate3d:m,viewBox:v}),M=A?{}:Ly(Ly({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),R=Ly(Ly({},M),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},b);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:R,ref:S},a)}}var z8=()=>{var t;return(t=At(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(null,arguments)}function b3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(n),!0).forEach(function(r){Lme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lme(t,e,n){return(e=Nme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nme(t){var e=Ime(t,"string");return typeof e=="symbol"?e:e+""}function Ime(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w3={curveBasisClosed:gde,curveBasisOpen:vde,curveBasis:mde,curveBumpX:tde,curveBumpY:nde,curveLinearClosed:yde,curveLinear:Kx,curveMonotoneX:bde,curveMonotoneY:xde,curveNatural:wde,curveStep:Sde,curveStepAfter:Cde,curveStepBefore:Ade},i0=t=>Qt(t.x)&&Qt(t.y),S3=t=>t.base!=null&&i0(t.base)&&i0(t),lm=t=>t.x,cm=t=>t.y,zme=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(_g(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=w3["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return w3[n]||Kx},A3={connectNulls:!1,type:"linear"},Bme=t=>{var{type:e=A3.type,points:n=[],baseLine:r,layout:i,connectNulls:a=A3.connectNulls}=t,o=zme(e,i),s=a?n.filter(i0):n;if(Array.isArray(r)){var c,d=n.map((b,x)=>x3(x3({},b),{},{base:r[x]}));i==="vertical"?c=Ty().y(cm).x1(lm).x0(b=>b.base.x):c=Ty().x(lm).y1(cm).y0(b=>b.base.y);var f=c.defined(S3).curve(o),h=a?d.filter(S3):d;return f(h)}var m;i==="vertical"&&_t(r)?m=Ty().y(cm).x1(lm).x0(r):_t(r)?m=Ty().x(lm).y1(cm).y0(r):m=fU().x(lm).y(cm);var v=m.defined(i0).curve(o);return v(s)},B8=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=Bh();if((!n||!n.length)&&!r)return null;var o={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},s=n&&n.length?Bme(o):r;return w.createElement("path",HE({},Rs(t),WP(t),{className:Pt("recharts-curve",e),d:s===null?void 0:s,ref:i}))},$me=["x","y","top","left","width","height","className"];function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VE.apply(null,arguments)}function C3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C3(Object(n),!0).forEach(function(r){Ume(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ume(t,e,n){return(e=Hme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hme(t){var e=Vme(t,"string");return typeof e=="symbol"?e:e+""}function Vme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qme(t,e){if(t==null)return{};var n,r,i=Gme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yme=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Kme=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:s}=t,c=qme(t,$me),d=Fme({x:e,y:n,top:r,left:i,width:a,height:o},c);return!_t(e)||!_t(n)||!_t(a)||!_t(o)||!_t(r)||!_t(i)?null:w.createElement("path",VE({},ji(d),{className:Pt("recharts-cross",s),d:Yme(e,n,a,o,r,i)}))};function Wme(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function _3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(n),!0).forEach(function(r){Xme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xme(t,e,n){return(e=Zme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zme(t){var e=Qme(t,"string");return typeof e=="symbol"?e:e+""}function Qme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jme=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),$8=(t,e,n)=>t.map(r=>"".concat(Jme(r)," ").concat(e,"ms ").concat(n)).join(","),ege=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Xm=(t,e)=>Object.keys(e).reduce((n,r)=>E3(E3({},n),{},{[r]:t(r,e[r])}),{});function T3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T3(Object(n),!0).forEach(function(r){tge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tge(t,e,n){return(e=nge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nge(t){var e=rge(t,"string");return typeof e=="symbol"?e:e+""}function rge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a0=(t,e,n)=>t+(e-t)*n,qE=t=>{var{from:e,to:n}=t;return e!==n},F8=(t,e,n)=>{var r=Xm((i,a)=>{if(qE(a)){var[o,s]=t(a.from,a.to,a.velocity);return Yr(Yr({},a),{},{from:o,velocity:s})}return a},e);return n<1?Xm((i,a)=>qE(a)&&r[i]!=null?Yr(Yr({},a),{},{velocity:a0(a.velocity,r[i].velocity,n),from:a0(a.from,r[i].from,n)}):a,e):F8(t,r,n-1)};function ige(t,e,n,r,i,a){var o,s=r.reduce((m,v)=>Yr(Yr({},m),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),c=()=>Xm((m,v)=>v.from,s),d=()=>!Object.values(s).filter(qE).length,f=null,h=m=>{o||(o=m);var v=m-o,b=v/n.dt;s=F8(n,s,b),i(Yr(Yr(Yr({},t),e),c())),o=m,d()||(f=a.setTimeout(h))};return()=>(f=a.setTimeout(h),()=>{var m;(m=f)===null||m===void 0||m()})}function age(t,e,n,r,i,a,o){var s=null,c=i.reduce((h,m)=>{var v=t[m],b=e[m];return v==null||b==null?h:Yr(Yr({},h),{},{[m]:[v,b]})},{}),d,f=h=>{d||(d=h);var m=(h-d)/r,v=Xm((x,S)=>a0(...S,n(m)),c);if(a(Yr(Yr(Yr({},t),e),v)),m<1)s=o.setTimeout(f);else{var b=Xm((x,S)=>a0(...S,n(1)),c);a(Yr(Yr(Yr({},t),e),b))}};return()=>(s=o.setTimeout(f),()=>{var h;(h=s)===null||h===void 0||h()})}const oge=(t,e,n,r,i,a)=>{var o=ege(t,e);return n==null?()=>(i(Yr(Yr({},t),e)),()=>{}):n.isStepper===!0?ige(t,e,n,o,i,a):age(t,e,n,r,o,i,a)};var o0=1e-4,U8=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],H8=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),k3=(t,e)=>n=>{var r=U8(t,e);return H8(r,n)},sge=(t,e)=>n=>{var r=U8(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return H8(i,n)},lge=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},cge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=lge(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},uge=(t,e,n,r)=>{var i=k3(t,n),a=k3(e,r),o=sge(t,n),s=d=>d>1?1:d<0?0:d,c=d=>{for(var f=d>1?1:d,h=f,m=0;m<8;++m){var v=i(h)-f,b=o(h);if(Math.abs(v-f)<o0||b<o0)return a(h);h=s(h-v/b)}return a(h)};return c.isStepper=!1,c},P3=function(){return uge(...cge(...arguments))},dge=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,s,c)=>{var d=-(o-s)*n,f=c*r,h=c+(d-f)*i/1e3,m=c*i/1e3+o;return Math.abs(m-s)<o0&&Math.abs(h)<o0?[s,0]:[m,h]};return a.isStepper=!0,a.dt=i,a},fge=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return P3(t);case"spring":return dge();default:if(t.split("(")[0]==="cubic-bezier")return P3(t)}return typeof t=="function"?t:null};function hge(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[c,...d]=s;if(typeof c=="number"){i=t.setTimeout(a.bind(null,d),c);return}a(c),i=t.setTimeout(a.bind(null,d));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class pge{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function mge(){return hge(new pge)}var gge=w.createContext(mge);function vge(t,e){var n=w.useContext(gge);return w.useMemo(()=>e??n(t),[t,e,n])}var yge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),pw={isSsr:yge()},bge={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},O3={t:0},YC={t:1};function fO(t){var e=pi(t,bge),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:c,children:d}=e,f=n==="auto"?!pw.isSsr:n,h=vge(e.animationId,e.animationManager),[m,v]=w.useState(f?O3:YC),b=w.useRef(null);return w.useEffect(()=>{f||v(YC)},[f]),w.useEffect(()=>{if(!f||!r)return zh;var x=oge(O3,YC,fge(a),i,v,h.getTimeoutController()),S=()=>{b.current=x()};return h.start([c,o,S,i,s]),()=>{h.stop(),b.current&&b.current(),s()}},[f,r,i,a,o,c,s,h]),d(m.t)}function hO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Hm(e)),r=w.useRef(t);return r.current!==t&&(n.current=Hm(e),r.current=t),n.current}var xge=["radius"],wge=["radius"],D3,M3,R3,j3,L3,N3,I3,z3,B3,$3;function F3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(n),!0).forEach(function(r){Sge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sge(t,e,n){return(e=Age(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Age(t){var e=Cge(t,"string");return typeof e=="symbol"?e:e+""}function Cge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s0(){return s0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s0.apply(null,arguments)}function H3(t,e){if(t==null)return{};var n,r,i=_ge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ps(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var V3=(t,e,n,r,i)=>{var a=Uc(n),o=Uc(r),s=Math.min(Math.abs(a)/2,Math.abs(o)/2),c=o>=0?1:-1,d=a>=0?1:-1,f=o>=0&&a>=0||o<0&&a<0?1:0,h;if(s>0&&Array.isArray(i)){for(var m=[0,0,0,0],v=0,b=4;v<b;v++){var x,S=(x=i[v])!==null&&x!==void 0?x:0;m[v]=S>s?s:S}h=xr(D3||(D3=ps(["M",",",""])),t,e+c*m[0]),m[0]>0&&(h+=xr(M3||(M3=ps(["A ",",",",0,0,",",",",",""])),m[0],m[0],f,t+d*m[0],e)),h+=xr(R3||(R3=ps(["L ",",",""])),t+n-d*m[1],e),m[1]>0&&(h+=xr(j3||(j3=ps(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],f,t+n,e+c*m[1])),h+=xr(L3||(L3=ps(["L ",",",""])),t+n,e+r-c*m[2]),m[2]>0&&(h+=xr(N3||(N3=ps(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],f,t+n-d*m[2],e+r)),h+=xr(I3||(I3=ps(["L ",",",""])),t+d*m[3],e+r),m[3]>0&&(h+=xr(z3||(z3=ps(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],f,t,e+r-c*m[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var A=Math.min(s,i);h=xr(B3||(B3=ps(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*A,A,A,f,t+d*A,e,t+n-d*A,e,A,A,f,t+n,e+c*A,t+n,e+r-c*A,A,A,f,t+n-d*A,e+r,t+d*A,e+r,A,A,f,t,e+r-c*A)}else h=xr($3||($3=ps(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return h},q3={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pO=t=>{var e=pi(t,q3),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var U=n.current.getTotalLength();U&&i(U)}catch{}},[]);var{x:a,y:o,width:s,height:c,radius:d,className:f}=e,{animationEasing:h,animationDuration:m,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:x}=e,S=w.useRef(s),A=w.useRef(c),T=w.useRef(a),E=w.useRef(o),k=w.useMemo(()=>({x:a,y:o,width:s,height:c,radius:d}),[a,o,s,c,d]),D=hO(k,"rectangle-");if(a!==+a||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var M=Pt("recharts-rectangle",f);if(!x){var R=ji(e),{radius:N}=R,z=H3(R,xge);return w.createElement("path",s0({},z,{x:Uc(a),y:Uc(o),width:Uc(s),height:Uc(c),radius:typeof d=="number"?d:void 0,className:M,d:V3(a,o,s,c,d)}))}var q=S.current,Y=A.current,K=T.current,te=E.current,W="0px ".concat(r===-1?1:r,"px"),J="".concat(r,"px 0px"),L=$8(["strokeDasharray"],m,typeof h=="string"?h:q3.animationEasing);return w.createElement(fO,{animationId:D,key:D,canBegin:r>0,duration:m,easing:h,isActive:x,begin:v},U=>{var F=Ca(q,s,U),V=Ca(Y,c,U),G=Ca(K,a,U),$=Ca(te,o,U);n.current&&(S.current=F,A.current=V,T.current=G,E.current=$);var X;b?U>0?X={transition:L,strokeDasharray:J}:X={strokeDasharray:W}:X={strokeDasharray:J};var ne=ji(e),{radius:ae}=ne,oe=H3(ne,wge);return w.createElement("path",s0({},oe,{radius:typeof d=="number"?d:void 0,className:M,d:V3(G,$,F,V,d),ref:n,style:U3(U3({},X),e.style)}))})};function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(n),!0).forEach(function(r){Ege(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ege(t,e,n){return(e=Tge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tge(t){var e=kge(t,"string");return typeof e=="symbol"?e:e+""}function kge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l0=Math.PI/180,Pge=t=>t*180/Math.PI,Pi=(t,e,n,r)=>({x:t+Math.cos(-l0*r)*n,y:e+Math.sin(-l0*r)*n}),Oge=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Dge=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Mge=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=Dge({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,c=Math.acos(s);return r>a&&(c=2*Math.PI-c),{radius:o,angle:Pge(c),angleInRadian:c}},Rge=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},jge=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},Lge=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=Mge({x:n,y:r},e),{innerRadius:o,outerRadius:s}=e;if(i<o||i>s||i===0)return null;var{startAngle:c,endAngle:d}=Rge(e),f=a,h;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;h=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;h=f>=d&&f<=c}return h?Y3(Y3({},e),{},{radius:i,angle:jge(f,e)}):null};function V8(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=Pi(e,n,r,i),s=Pi(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var K3,W3,X3,Z3,Q3,J3,ez;function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(null,arguments)}function Ku(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Nge=(t,e)=>{var n=wo(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Ny=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:c}=t,d=s*(o?1:-1)+r,f=Math.asin(s/d)/l0,h=c?i:i+a*f,m=Pi(e,n,d,h),v=Pi(e,n,r,h),b=c?i-a*f:i,x=Pi(e,n,d*Math.cos(f*l0),b);return{center:m,circleTangency:v,lineTangency:x,theta:f}},q8=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,s=Nge(a,o),c=a+s,d=Pi(e,n,i,a),f=Pi(e,n,i,c),h=xr(K3||(K3=Ku(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(s)>180),+(a>c),f.x,f.y);if(r>0){var m=Pi(e,n,r,a),v=Pi(e,n,r,c);h+=xr(W3||(W3=Ku(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,r,r,+(Math.abs(s)>180),+(a<=c),m.x,m.y)}else h+=xr(X3||(X3=Ku(["L ",","," Z"])),e,n);return h},Ige=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:d}=t,f=wo(d-c),{circleTangency:h,lineTangency:m,theta:v}=Ny({cx:e,cy:n,radius:i,angle:c,sign:f,cornerRadius:a,cornerIsExternal:s}),{circleTangency:b,lineTangency:x,theta:S}=Ny({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:s}),A=s?Math.abs(c-d):Math.abs(c-d)-v-S;if(A<0)return o?xr(Z3||(Z3=Ku(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,a,a,a*2,a,a,-a*2):q8({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var T=xr(Q3||(Q3=Ku(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,a,a,+(f<0),h.x,h.y,i,i,+(A>180),+(f<0),b.x,b.y,a,a,+(f<0),x.x,x.y);if(r>0){var{circleTangency:E,lineTangency:k,theta:D}=Ny({cx:e,cy:n,radius:r,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:M,lineTangency:R,theta:N}=Ny({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),z=s?Math.abs(c-d):Math.abs(c-d)-D-N;if(z<0&&a===0)return"".concat(T,"L").concat(e,",").concat(n,"Z");T+=xr(J3||(J3=Ku(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),R.x,R.y,a,a,+(f<0),M.x,M.y,r,r,+(z>180),+(f>0),E.x,E.y,a,a,+(f<0),k.x,k.y)}else T+=xr(ez||(ez=Ku(["L",",","Z"])),e,n);return T},zge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},G8=t=>{var e=pi(t,zge),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:d,endAngle:f,className:h}=e;if(a<i||d===f)return null;var m=Pt("recharts-sector",h),v=a-i,b=Kc(o,v,0,!0),x;return b>0&&Math.abs(d-f)<360?x=Ige({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,v/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:d,endAngle:f}):x=q8({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:f}),w.createElement("path",GE({},ji(e),{className:m,d:x}))};function Bge(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(TU(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:s}=e,c=Pi(r,i,a,s),d=Pi(r,i,o,s);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return V8(e)}}var KC={},WC={},XC={},tz;function $ge(){return tz||(tz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BU();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(XC)),XC}var nz;function Fge(){return nz||(nz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$ge();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(WC)),WC}var rz;function Uge(){return rz||(rz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$U(),n=Fge();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(s);for(let d=0;d<s;d++)c[d]=i,i+=o;return c}t.range=r})(KC)),KC}var ZC,iz;function Hge(){return iz||(iz=1,ZC=Uge().range),ZC}var Vge=Hge();const Y8=ua(Vge);function Hc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qge(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mO(t){let e,n,r;t.length!==2?(e=Hc,n=(s,c)=>Hc(t(s),c),r=(s,c)=>t(s)-c):(e=t===Hc||t===qge?t:Gge,n=t,r=t);function i(s,c,d=0,f=s.length){if(d<f){if(e(c,c)!==0)return f;do{const h=d+f>>>1;n(s[h],c)<0?d=h+1:f=h}while(d<f)}return d}function a(s,c,d=0,f=s.length){if(d<f){if(e(c,c)!==0)return f;do{const h=d+f>>>1;n(s[h],c)<=0?d=h+1:f=h}while(d<f)}return d}function o(s,c,d=0,f=s.length){const h=i(s,c,d,f-1);return h>d&&r(s[h-1],c)>-r(s[h],c)?h-1:h}return{left:i,center:o,right:a}}function Gge(){return 0}function K8(t){return t===null?NaN:+t}function*Yge(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Kge=mO(Hc),Mg=Kge.right;mO(K8).center;class az extends Map{constructor(e,n=Zge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(oz(this,e))}has(e){return super.has(oz(this,e))}set(e,n){return super.set(Wge(this,e),n)}delete(e){return super.delete(Xge(this,e))}}function oz({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Wge({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Xge({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Zge(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Qge(t=Hc){if(t===Hc)return W8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function W8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Jge=Math.sqrt(50),eve=Math.sqrt(10),tve=Math.sqrt(2);function c0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Jge?10:a>=eve?5:a>=tve?2:1;let s,c,d;return i<0?(d=Math.pow(10,-i)/o,s=Math.round(t*d),c=Math.round(e*d),s/d<t&&++s,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*o,s=Math.round(t/d),c=Math.round(e/d),s*d<t&&++s,c*d>e&&--c),c<s&&.5<=n&&n<2?c0(t,e,n*2):[s,c,d]}function YE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?c0(e,t,n):c0(t,e,n);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(r)if(o<0)for(let d=0;d<s;++d)c[d]=(a-d)/-o;else for(let d=0;d<s;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<s;++d)c[d]=(i+d)/-o;else for(let d=0;d<s;++d)c[d]=(i+d)*o;return c}function KE(t,e,n){return e=+e,t=+t,n=+n,c0(t,e,n)[2]}function WE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?KE(e,t,n):KE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function sz(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function lz(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function X8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?W8:Qge(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,f=Math.log(c),h=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*h*(c-h)/c)*(d-c/2<0?-1:1),v=Math.max(n,Math.floor(e-d*h/c+m)),b=Math.min(r,Math.floor(e+(c-d)*h/c+m));X8(t,e,v,b,i)}const a=t[e];let o=n,s=r;for(um(t,n,e),i(t[r],a)>0&&um(t,n,r);o<s;){for(um(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?um(t,n,s):(++s,um(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function um(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function nve(t,e,n){if(t=Float64Array.from(Yge(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return lz(t);if(e>=1)return sz(t);var r,i=(r-1)*e,a=Math.floor(i),o=sz(X8(t,a).subarray(0,a+1)),s=lz(t.subarray(a+1));return o+(s-o)*(i-a)}}function rve(t,e,n=K8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function ive(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Oo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Wl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const XE=Symbol("implicit");function gO(){var t=new az,e=[],n=[],r=XE;function i(a){let o=t.get(a);if(o===void 0){if(r!==XE)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new az;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return gO(e,n).unknown(r)},Oo.apply(i,arguments),i}function vO(){var t=gO().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,c=0,d=0,f=.5;delete t.unknown;function h(){var m=e().length,v=i<r,b=v?i:r,x=v?r:i;a=(x-b)/Math.max(1,m-c+d*2),s&&(a=Math.floor(a)),b+=(x-b-a*(m-c))*f,o=a*(1-c),s&&(b=Math.round(b),o=Math.round(o));var S=ive(m).map(function(A){return b+a*A});return n(v?S.reverse():S)}return t.domain=function(m){return arguments.length?(e(m),h()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(m){return arguments.length?(s=!!m,h()):s},t.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},t.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},t.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),h()):f},t.copy=function(){return vO(e(),[r,i]).round(s).paddingInner(c).paddingOuter(d).align(f)},Oo.apply(h(),arguments)}function Z8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Z8(e())},t}function ave(){return Z8(vO.apply(null,arguments).paddingInner(1))}function yO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Q8(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Rg(){}var Zm=.7,u0=1/Zm,rh="\\s*([+-]?\\d+)\\s*",Qm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ks="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ove=/^#([0-9a-f]{3,8})$/,sve=new RegExp(`^rgb\\(${rh},${rh},${rh}\\)$`),lve=new RegExp(`^rgb\\(${ks},${ks},${ks}\\)$`),cve=new RegExp(`^rgba\\(${rh},${rh},${rh},${Qm}\\)$`),uve=new RegExp(`^rgba\\(${ks},${ks},${ks},${Qm}\\)$`),dve=new RegExp(`^hsl\\(${Qm},${ks},${ks}\\)$`),fve=new RegExp(`^hsla\\(${Qm},${ks},${ks},${Qm}\\)$`),cz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yO(Rg,Jm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uz,formatHex:uz,formatHex8:hve,formatHsl:pve,formatRgb:dz,toString:dz});function uz(){return this.rgb().formatHex()}function hve(){return this.rgb().formatHex8()}function pve(){return J8(this).formatHsl()}function dz(){return this.rgb().formatRgb()}function Jm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ove.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fz(e):n===3?new Ea(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Iy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Iy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sve.exec(t))?new Ea(e[1],e[2],e[3],1):(e=lve.exec(t))?new Ea(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cve.exec(t))?Iy(e[1],e[2],e[3],e[4]):(e=uve.exec(t))?Iy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dve.exec(t))?mz(e[1],e[2]/100,e[3]/100,1):(e=fve.exec(t))?mz(e[1],e[2]/100,e[3]/100,e[4]):cz.hasOwnProperty(t)?fz(cz[t]):t==="transparent"?new Ea(NaN,NaN,NaN,0):null}function fz(t){return new Ea(t>>16&255,t>>8&255,t&255,1)}function Iy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ea(t,e,n,r)}function mve(t){return t instanceof Rg||(t=Jm(t)),t?(t=t.rgb(),new Ea(t.r,t.g,t.b,t.opacity)):new Ea}function ZE(t,e,n,r){return arguments.length===1?mve(t):new Ea(t,e,n,r??1)}function Ea(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}yO(Ea,ZE,Q8(Rg,{brighter(t){return t=t==null?u0:Math.pow(u0,t),new Ea(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zm:Math.pow(Zm,t),new Ea(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ea(rd(this.r),rd(this.g),rd(this.b),d0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hz,formatHex:hz,formatHex8:gve,formatRgb:pz,toString:pz}));function hz(){return`#${Wu(this.r)}${Wu(this.g)}${Wu(this.b)}`}function gve(){return`#${Wu(this.r)}${Wu(this.g)}${Wu(this.b)}${Wu((isNaN(this.opacity)?1:this.opacity)*255)}`}function pz(){const t=d0(this.opacity);return`${t===1?"rgb(":"rgba("}${rd(this.r)}, ${rd(this.g)}, ${rd(this.b)}${t===1?")":`, ${t})`}`}function d0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wu(t){return t=rd(t),(t<16?"0":"")+t.toString(16)}function mz(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Fo(t,e,n,r)}function J8(t){if(t instanceof Fo)return new Fo(t.h,t.s,t.l,t.opacity);if(t instanceof Rg||(t=Jm(t)),!t)return new Fo;if(t instanceof Fo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new Fo(o,s,c,t.opacity)}function vve(t,e,n,r){return arguments.length===1?J8(t):new Fo(t,e,n,r??1)}function Fo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}yO(Fo,vve,Q8(Rg,{brighter(t){return t=t==null?u0:Math.pow(u0,t),new Fo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zm:Math.pow(Zm,t),new Fo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ea(QC(t>=240?t-240:t+120,i,r),QC(t,i,r),QC(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Fo(gz(this.h),zy(this.s),zy(this.l),d0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=d0(this.opacity);return`${t===1?"hsl(":"hsla("}${gz(this.h)}, ${zy(this.s)*100}%, ${zy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function gz(t){return t=(t||0)%360,t<0?t+360:t}function zy(t){return Math.max(0,Math.min(1,t||0))}function QC(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const bO=t=>()=>t;function yve(t,e){return function(n){return t+n*e}}function bve(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xve(t){return(t=+t)==1?eH:function(e,n){return n-e?bve(e,n,t):bO(isNaN(e)?n:e)}}function eH(t,e){var n=e-t;return n?yve(t,n):bO(isNaN(t)?e:t)}const vz=(function t(e){var n=xve(e);function r(i,a){var o=n((i=ZE(i)).r,(a=ZE(a)).r),s=n(i.g,a.g),c=n(i.b,a.b),d=eH(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function wve(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Sve(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ave(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=$h(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Cve(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function f0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function _ve(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=$h(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var QE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JC=new RegExp(QE.source,"g");function Eve(t){return function(){return t}}function Tve(t){return function(e){return t(e)+""}}function kve(t,e){var n=QE.lastIndex=JC.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(t=t+"",e=e+"";(r=QE.exec(t))&&(i=JC.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:f0(r,i)})),n=JC.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?Tve(c[0].x):Eve(e):(e=c.length,function(d){for(var f=0,h;f<e;++f)s[(h=c[f]).i]=h.x(d);return s.join("")})}function $h(t,e){var n=typeof e,r;return e==null||n==="boolean"?bO(e):(n==="number"?f0:n==="string"?(r=Jm(e))?(e=r,vz):kve:e instanceof Jm?vz:e instanceof Date?Cve:Sve(e)?wve:Array.isArray(e)?Ave:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_ve:f0)(t,e)}function xO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Pve(t,e){e===void 0&&(e=t,t=$h);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Ove(t){return function(){return t}}function h0(t){return+t}var yz=[0,1];function aa(t){return t}function JE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ove(isNaN(e)?NaN:.5)}function Dve(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Mve(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=JE(i,r),a=n(o,a)):(r=JE(r,i),a=n(a,o)),function(s){return a(r(s))}}function Rve(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=JE(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var c=Mg(t,s,1,r)-1;return a[c](i[c](s))}}function jg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mw(){var t=yz,e=yz,n=$h,r,i,a,o=aa,s,c,d;function f(){var m=Math.min(t.length,e.length);return o!==aa&&(o=Dve(t[0],t[m-1])),s=m>2?Rve:Mve,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?a:(c||(c=s(t.map(r),e,n)))(r(o(m)))}return h.invert=function(m){return o(i((d||(d=s(e,t.map(r),f0)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,h0),f()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),n=xO,f()},h.clamp=function(m){return arguments.length?(o=m?!0:aa,f()):o!==aa},h.interpolate=function(m){return arguments.length?(n=m,f()):n},h.unknown=function(m){return arguments.length?(a=m,h):a},function(m,v){return r=m,i=v,f()}}function wO(){return mw()(aa,aa)}function jve(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function p0(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function xh(t){return t=p0(Math.abs(t)),t?t[1]:NaN}function Lve(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Nve(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ive=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function eg(t){if(!(e=Ive.exec(t)))throw new Error("invalid format: "+t);var e;return new SO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}eg.prototype=SO.prototype;function SO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}SO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zve(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var m0;function Bve(t,e){var n=p0(t,e);if(!n)return m0=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(m0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+p0(t,Math.max(0,e+a-1))[0]}function bz(t,e){var n=p0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const xz={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jve,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bz(t*100,e),r:bz,s:Bve,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wz(t){return t}var Sz=Array.prototype.map,Az=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $ve(t){var e=t.grouping===void 0||t.thousands===void 0?wz:Lve(Sz.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?wz:Nve(Sz.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h,m){h=eg(h);var v=h.fill,b=h.align,x=h.sign,S=h.symbol,A=h.zero,T=h.width,E=h.comma,k=h.precision,D=h.trim,M=h.type;M==="n"?(E=!0,M="g"):xz[M]||(k===void 0&&(k=12),D=!0,M="g"),(A||v==="0"&&b==="=")&&(A=!0,v="0",b="=");var R=(m&&m.prefix!==void 0?m.prefix:"")+(S==="$"?n:S==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():""),N=(S==="$"?r:/[%p]/.test(M)?o:"")+(m&&m.suffix!==void 0?m.suffix:""),z=xz[M],q=/[defgprs%]/.test(M);k=k===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function Y(K){var te=R,W=N,J,L,U;if(M==="c")W=z(K)+W,K="";else{K=+K;var F=K<0||1/K<0;if(K=isNaN(K)?c:z(Math.abs(K),k),D&&(K=zve(K)),F&&+K==0&&x!=="+"&&(F=!1),te=(F?x==="("?x:s:x==="-"||x==="("?"":x)+te,W=(M==="s"&&!isNaN(K)&&m0!==void 0?Az[8+m0/3]:"")+W+(F&&x==="("?")":""),q){for(J=-1,L=K.length;++J<L;)if(U=K.charCodeAt(J),48>U||U>57){W=(U===46?i+K.slice(J+1):K.slice(J))+W,K=K.slice(0,J);break}}}E&&!A&&(K=e(K,1/0));var V=te.length+K.length+W.length,G=V<T?new Array(T-V+1).join(v):"";switch(E&&A&&(K=e(G+K,G.length?T-W.length:1/0),G=""),b){case"<":K=te+K+W+G;break;case"=":K=te+G+K+W;break;case"^":K=G.slice(0,V=G.length>>1)+te+K+W+G.slice(V);break;default:K=G+te+K+W;break}return a(K)}return Y.toString=function(){return h+""},Y}function f(h,m){var v=Math.max(-8,Math.min(8,Math.floor(xh(m)/3)))*3,b=Math.pow(10,-v),x=d((h=eg(h),h.type="f",h),{suffix:Az[8+v/3]});return function(S){return x(b*S)}}return{format:d,formatPrefix:f}}var By,AO,tH;Fve({thousands:",",grouping:[3],currency:["$",""]});function Fve(t){return By=$ve(t),AO=By.format,tH=By.formatPrefix,By}function Uve(t){return Math.max(0,-xh(Math.abs(t)))}function Hve(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xh(e)/3)))*3-xh(Math.abs(t)))}function Vve(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xh(e)-xh(t))+1}function nH(t,e,n,r){var i=WE(t,e,n),a;switch(r=eg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Hve(i,o))&&(r.precision=a),tH(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Vve(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Uve(i))&&(r.precision=a-(r.type==="%")*2);break}}return AO(r)}function ru(t){var e=t.domain;return t.ticks=function(n){var r=e();return YE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return nH(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],c,d,f=10;for(s<o&&(d=o,o=s,s=d,d=i,i=a,a=d);f-- >0;){if(d=KE(o,s,n),d===c)return r[i]=o,r[a]=s,e(r);if(d>0)o=Math.floor(o/d)*d,s=Math.ceil(s/d)*d;else if(d<0)o=Math.ceil(o*d)/d,s=Math.floor(s*d)/d;else break;c=d}return t},t}function rH(){var t=wO();return t.copy=function(){return jg(t,rH())},Oo.apply(t,arguments),ru(t)}function iH(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,h0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return iH(t).unknown(e)},t=arguments.length?Array.from(t,h0):[0,1],ru(n)}function aH(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Cz(t){return Math.log(t)}function _z(t){return Math.exp(t)}function qve(t){return-Math.log(-t)}function Gve(t){return-Math.exp(-t)}function Yve(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Kve(t){return t===10?Yve:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Wve(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Ez(t){return(e,n)=>-t(-e,n)}function CO(t){const e=t(Cz,_z),n=e.domain;let r=10,i,a;function o(){return i=Wve(r),a=Kve(r),n()[0]<0?(i=Ez(i),a=Ez(a),t(qve,Gve)):t(Cz,_z),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const c=n();let d=c[0],f=c[c.length-1];const h=f<d;h&&([d,f]=[f,d]);let m=i(d),v=i(f),b,x;const S=s==null?10:+s;let A=[];if(!(r%1)&&v-m<S){if(m=Math.floor(m),v=Math.ceil(v),d>0){for(;m<=v;++m)for(b=1;b<r;++b)if(x=m<0?b/a(-m):b*a(m),!(x<d)){if(x>f)break;A.push(x)}}else for(;m<=v;++m)for(b=r-1;b>=1;--b)if(x=m>0?b/a(-m):b*a(m),!(x<d)){if(x>f)break;A.push(x)}A.length*2<S&&(A=YE(d,f,S))}else A=YE(m,v,Math.min(v-m,S)).map(a);return h?A.reverse():A},e.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=eg(c)).precision==null&&(c.trim=!0),c=AO(c)),s===1/0)return c;const d=Math.max(1,r*s/e.ticks().length);return f=>{let h=f/a(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=d?c(f):""}},e.nice=()=>n(aH(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function oH(){const t=CO(mw()).domain([1,10]);return t.copy=()=>jg(t,oH()).base(t.base()),Oo.apply(t,arguments),t}function Tz(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function kz(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _O(t){var e=1,n=t(Tz(e),kz(e));return n.constant=function(r){return arguments.length?t(Tz(e=+r),kz(e)):e},ru(n)}function sH(){var t=_O(mw());return t.copy=function(){return jg(t,sH()).constant(t.constant())},Oo.apply(t,arguments)}function Pz(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xve(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Zve(t){return t<0?-t*t:t*t}function EO(t){var e=t(aa,aa),n=1;function r(){return n===1?t(aa,aa):n===.5?t(Xve,Zve):t(Pz(n),Pz(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ru(e)}function TO(){var t=EO(mw());return t.copy=function(){return jg(t,TO()).exponent(t.exponent())},Oo.apply(t,arguments),t}function Qve(){return TO.apply(null,arguments).exponent(.5)}function Oz(t){return Math.sign(t)*t*t}function Jve(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function lH(){var t=wO(),e=[0,1],n=!1,r;function i(a){var o=Jve(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(Oz(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,h0)).map(Oz)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lH(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Oo.apply(i,arguments),ru(i)}function cH(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=rve(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Mg(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Hc),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return cH().domain(t).range(e).unknown(r)},Oo.apply(a,arguments)}function uH(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Mg(r,c,0,n)]:a}function s(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,s()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return uH().domain([t,e]).range(i).unknown(a)},Oo.apply(ru(o),arguments)}function dH(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Mg(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return dH().domain(t).range(e).unknown(n)},Oo.apply(i,arguments)}const e_=new Date,t_=new Date;function Zr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let d;do c.push(d=new Date(+a)),e(a,s),t(a);while(d<a&&a<o);return c},i.filter=a=>Zr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(e_.setTime(+a),t_.setTime(+o),t(e_),t(t_),Math.floor(n(e_,t_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const g0=Zr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);g0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):g0);g0.range;const Sl=1e3,So=Sl*60,Al=So*60,Rl=Al*24,kO=Rl*7,Dz=Rl*30,n_=Rl*365,Xu=Zr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Sl)},(t,e)=>(e-t)/Sl,t=>t.getUTCSeconds());Xu.range;const PO=Zr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Sl)},(t,e)=>{t.setTime(+t+e*So)},(t,e)=>(e-t)/So,t=>t.getMinutes());PO.range;const OO=Zr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*So)},(t,e)=>(e-t)/So,t=>t.getUTCMinutes());OO.range;const DO=Zr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Sl-t.getMinutes()*So)},(t,e)=>{t.setTime(+t+e*Al)},(t,e)=>(e-t)/Al,t=>t.getHours());DO.range;const MO=Zr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Al)},(t,e)=>(e-t)/Al,t=>t.getUTCHours());MO.range;const Lg=Zr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*So)/Rl,t=>t.getDate()-1);Lg.range;const gw=Zr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rl,t=>t.getUTCDate()-1);gw.range;const fH=Zr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rl,t=>Math.floor(t/Rl));fH.range;function Dd(t){return Zr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*So)/kO)}const vw=Dd(0),v0=Dd(1),eye=Dd(2),tye=Dd(3),wh=Dd(4),nye=Dd(5),rye=Dd(6);vw.range;v0.range;eye.range;tye.range;wh.range;nye.range;rye.range;function Md(t){return Zr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/kO)}const yw=Md(0),y0=Md(1),iye=Md(2),aye=Md(3),Sh=Md(4),oye=Md(5),sye=Md(6);yw.range;y0.range;iye.range;aye.range;Sh.range;oye.range;sye.range;const RO=Zr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());RO.range;const jO=Zr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());jO.range;const jl=Zr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());jl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});jl.range;const Ll=Zr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ll.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ll.range;function hH(t,e,n,r,i,a){const o=[[Xu,1,Sl],[Xu,5,5*Sl],[Xu,15,15*Sl],[Xu,30,30*Sl],[a,1,So],[a,5,5*So],[a,15,15*So],[a,30,30*So],[i,1,Al],[i,3,3*Al],[i,6,6*Al],[i,12,12*Al],[r,1,Rl],[r,2,2*Rl],[n,1,kO],[e,1,Dz],[e,3,3*Dz],[t,1,n_]];function s(d,f,h){const m=f<d;m&&([d,f]=[f,d]);const v=h&&typeof h.range=="function"?h:c(d,f,h),b=v?v.range(d,+f+1):[];return m?b.reverse():b}function c(d,f,h){const m=Math.abs(f-d)/h,v=mO(([,,S])=>S).right(o,m);if(v===o.length)return t.every(WE(d/n_,f/n_,h));if(v===0)return g0.every(Math.max(WE(d,f,h),1));const[b,x]=o[m/o[v-1][2]<o[v][2]/m?v-1:v];return b.every(x)}return[s,c]}const[lye,cye]=hH(Ll,jO,yw,fH,MO,OO),[uye,dye]=hH(jl,RO,vw,Lg,DO,PO);function r_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function i_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function fye(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,d=fm(i),f=hm(i),h=fm(a),m=hm(a),v=fm(o),b=hm(o),x=fm(s),S=hm(s),A=fm(c),T=hm(c),E={a:U,A:F,b:V,B:G,c:null,d:Iz,e:Iz,f:Lye,g:qye,G:Yye,H:Mye,I:Rye,j:jye,L:pH,m:Nye,M:Iye,p:$,q:X,Q:$z,s:Fz,S:zye,u:Bye,U:$ye,V:Fye,w:Uye,W:Hye,x:null,X:null,y:Vye,Y:Gye,Z:Kye,"%":Bz},k={a:ne,A:ae,b:oe,B:xe,c:null,d:zz,e:zz,f:Qye,g:lbe,G:ube,H:Wye,I:Xye,j:Zye,L:gH,m:Jye,M:ebe,p:be,q:ze,Q:$z,s:Fz,S:tbe,u:nbe,U:rbe,V:ibe,w:abe,W:obe,x:null,X:null,y:sbe,Y:cbe,Z:dbe,"%":Bz},D={a:q,A:Y,b:K,B:te,c:W,d:Lz,e:Lz,f:kye,g:jz,G:Rz,H:Nz,I:Nz,j:Cye,L:Tye,m:Aye,M:_ye,p:z,q:Sye,Q:Oye,s:Dye,S:Eye,u:vye,U:yye,V:bye,w:gye,W:xye,x:J,X:L,y:jz,Y:Rz,Z:wye,"%":Pye};E.x=M(n,E),E.X=M(r,E),E.c=M(e,E),k.x=M(n,k),k.X=M(r,k),k.c=M(e,k);function M(ie,se){return function(je){var ue=[],Ve=-1,Le=0,ct=ie.length,Qe,He,We;for(je instanceof Date||(je=new Date(+je));++Ve<ct;)ie.charCodeAt(Ve)===37&&(ue.push(ie.slice(Le,Ve)),(He=Mz[Qe=ie.charAt(++Ve)])!=null?Qe=ie.charAt(++Ve):He=Qe==="e"?" ":"0",(We=se[Qe])&&(Qe=We(je,He)),ue.push(Qe),Le=Ve+1);return ue.push(ie.slice(Le,Ve)),ue.join("")}}function R(ie,se){return function(je){var ue=dm(1900,void 0,1),Ve=N(ue,ie,je+="",0),Le,ct;if(Ve!=je.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(se&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Le=i_(dm(ue.y,0,1)),ct=Le.getUTCDay(),Le=ct>4||ct===0?y0.ceil(Le):y0(Le),Le=gw.offset(Le,(ue.V-1)*7),ue.y=Le.getUTCFullYear(),ue.m=Le.getUTCMonth(),ue.d=Le.getUTCDate()+(ue.w+6)%7):(Le=r_(dm(ue.y,0,1)),ct=Le.getDay(),Le=ct>4||ct===0?v0.ceil(Le):v0(Le),Le=Lg.offset(Le,(ue.V-1)*7),ue.y=Le.getFullYear(),ue.m=Le.getMonth(),ue.d=Le.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),ct="Z"in ue?i_(dm(ue.y,0,1)).getUTCDay():r_(dm(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(ct+5)%7:ue.w+ue.U*7-(ct+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,i_(ue)):r_(ue)}}function N(ie,se,je,ue){for(var Ve=0,Le=se.length,ct=je.length,Qe,He;Ve<Le;){if(ue>=ct)return-1;if(Qe=se.charCodeAt(Ve++),Qe===37){if(Qe=se.charAt(Ve++),He=D[Qe in Mz?se.charAt(Ve++):Qe],!He||(ue=He(ie,je,ue))<0)return-1}else if(Qe!=je.charCodeAt(ue++))return-1}return ue}function z(ie,se,je){var ue=d.exec(se.slice(je));return ue?(ie.p=f.get(ue[0].toLowerCase()),je+ue[0].length):-1}function q(ie,se,je){var ue=v.exec(se.slice(je));return ue?(ie.w=b.get(ue[0].toLowerCase()),je+ue[0].length):-1}function Y(ie,se,je){var ue=h.exec(se.slice(je));return ue?(ie.w=m.get(ue[0].toLowerCase()),je+ue[0].length):-1}function K(ie,se,je){var ue=A.exec(se.slice(je));return ue?(ie.m=T.get(ue[0].toLowerCase()),je+ue[0].length):-1}function te(ie,se,je){var ue=x.exec(se.slice(je));return ue?(ie.m=S.get(ue[0].toLowerCase()),je+ue[0].length):-1}function W(ie,se,je){return N(ie,e,se,je)}function J(ie,se,je){return N(ie,n,se,je)}function L(ie,se,je){return N(ie,r,se,je)}function U(ie){return o[ie.getDay()]}function F(ie){return a[ie.getDay()]}function V(ie){return c[ie.getMonth()]}function G(ie){return s[ie.getMonth()]}function $(ie){return i[+(ie.getHours()>=12)]}function X(ie){return 1+~~(ie.getMonth()/3)}function ne(ie){return o[ie.getUTCDay()]}function ae(ie){return a[ie.getUTCDay()]}function oe(ie){return c[ie.getUTCMonth()]}function xe(ie){return s[ie.getUTCMonth()]}function be(ie){return i[+(ie.getUTCHours()>=12)]}function ze(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var se=M(ie+="",E);return se.toString=function(){return ie},se},parse:function(ie){var se=R(ie+="",!1);return se.toString=function(){return ie},se},utcFormat:function(ie){var se=M(ie+="",k);return se.toString=function(){return ie},se},utcParse:function(ie){var se=R(ie+="",!0);return se.toString=function(){return ie},se}}}var Mz={"-":"",_:" ",0:"0"},mi=/^\s*\d+/,hye=/^%/,pye=/[\\^$*+?|[\]().{}]/g;function vn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function mye(t){return t.replace(pye,"\\$&")}function fm(t){return new RegExp("^(?:"+t.map(mye).join("|")+")","i")}function hm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function gye(t,e,n){var r=mi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function vye(t,e,n){var r=mi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function yye(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function bye(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function xye(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Rz(t,e,n){var r=mi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function jz(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wye(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Sye(t,e,n){var r=mi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Aye(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Lz(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Cye(t,e,n){var r=mi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Nz(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _ye(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Eye(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Tye(t,e,n){var r=mi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function kye(t,e,n){var r=mi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Pye(t,e,n){var r=hye.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Oye(t,e,n){var r=mi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Dye(t,e,n){var r=mi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Iz(t,e){return vn(t.getDate(),e,2)}function Mye(t,e){return vn(t.getHours(),e,2)}function Rye(t,e){return vn(t.getHours()%12||12,e,2)}function jye(t,e){return vn(1+Lg.count(jl(t),t),e,3)}function pH(t,e){return vn(t.getMilliseconds(),e,3)}function Lye(t,e){return pH(t,e)+"000"}function Nye(t,e){return vn(t.getMonth()+1,e,2)}function Iye(t,e){return vn(t.getMinutes(),e,2)}function zye(t,e){return vn(t.getSeconds(),e,2)}function Bye(t){var e=t.getDay();return e===0?7:e}function $ye(t,e){return vn(vw.count(jl(t)-1,t),e,2)}function mH(t){var e=t.getDay();return e>=4||e===0?wh(t):wh.ceil(t)}function Fye(t,e){return t=mH(t),vn(wh.count(jl(t),t)+(jl(t).getDay()===4),e,2)}function Uye(t){return t.getDay()}function Hye(t,e){return vn(v0.count(jl(t)-1,t),e,2)}function Vye(t,e){return vn(t.getFullYear()%100,e,2)}function qye(t,e){return t=mH(t),vn(t.getFullYear()%100,e,2)}function Gye(t,e){return vn(t.getFullYear()%1e4,e,4)}function Yye(t,e){var n=t.getDay();return t=n>=4||n===0?wh(t):wh.ceil(t),vn(t.getFullYear()%1e4,e,4)}function Kye(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+vn(e/60|0,"0",2)+vn(e%60,"0",2)}function zz(t,e){return vn(t.getUTCDate(),e,2)}function Wye(t,e){return vn(t.getUTCHours(),e,2)}function Xye(t,e){return vn(t.getUTCHours()%12||12,e,2)}function Zye(t,e){return vn(1+gw.count(Ll(t),t),e,3)}function gH(t,e){return vn(t.getUTCMilliseconds(),e,3)}function Qye(t,e){return gH(t,e)+"000"}function Jye(t,e){return vn(t.getUTCMonth()+1,e,2)}function ebe(t,e){return vn(t.getUTCMinutes(),e,2)}function tbe(t,e){return vn(t.getUTCSeconds(),e,2)}function nbe(t){var e=t.getUTCDay();return e===0?7:e}function rbe(t,e){return vn(yw.count(Ll(t)-1,t),e,2)}function vH(t){var e=t.getUTCDay();return e>=4||e===0?Sh(t):Sh.ceil(t)}function ibe(t,e){return t=vH(t),vn(Sh.count(Ll(t),t)+(Ll(t).getUTCDay()===4),e,2)}function abe(t){return t.getUTCDay()}function obe(t,e){return vn(y0.count(Ll(t)-1,t),e,2)}function sbe(t,e){return vn(t.getUTCFullYear()%100,e,2)}function lbe(t,e){return t=vH(t),vn(t.getUTCFullYear()%100,e,2)}function cbe(t,e){return vn(t.getUTCFullYear()%1e4,e,4)}function ube(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Sh(t):Sh.ceil(t),vn(t.getUTCFullYear()%1e4,e,4)}function dbe(){return"+0000"}function Bz(){return"%"}function $z(t){return+t}function Fz(t){return Math.floor(+t/1e3)}var Rf,yH,bH;fbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fbe(t){return Rf=fye(t),yH=Rf.format,Rf.parse,bH=Rf.utcFormat,Rf.utcParse,Rf}function hbe(t){return new Date(t)}function pbe(t){return t instanceof Date?+t:+new Date(+t)}function LO(t,e,n,r,i,a,o,s,c,d){var f=wO(),h=f.invert,m=f.domain,v=d(".%L"),b=d(":%S"),x=d("%I:%M"),S=d("%I %p"),A=d("%a %d"),T=d("%b %d"),E=d("%B"),k=d("%Y");function D(M){return(c(M)<M?v:s(M)<M?b:o(M)<M?x:a(M)<M?S:r(M)<M?i(M)<M?A:T:n(M)<M?E:k)(M)}return f.invert=function(M){return new Date(h(M))},f.domain=function(M){return arguments.length?m(Array.from(M,pbe)):m().map(hbe)},f.ticks=function(M){var R=m();return t(R[0],R[R.length-1],M??10)},f.tickFormat=function(M,R){return R==null?D:d(R)},f.nice=function(M){var R=m();return(!M||typeof M.range!="function")&&(M=e(R[0],R[R.length-1],M??10)),M?m(aH(R,M)):f},f.copy=function(){return jg(f,LO(t,e,n,r,i,a,o,s,c,d))},f}function mbe(){return Oo.apply(LO(uye,dye,jl,RO,vw,Lg,DO,PO,Xu,yH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gbe(){return Oo.apply(LO(lye,cye,Ll,jO,yw,gw,MO,OO,Xu,bH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bw(){var t=0,e=1,n,r,i,a,o=aa,s=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(a(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(h){return arguments.length?(s=!!h,d):s},d.interpolator=function(h){return arguments.length?(o=h,d):o};function f(h){return function(m){var v,b;return arguments.length?([v,b]=m,o=h(v,b),d):[o(0),o(1)]}}return d.range=f($h),d.rangeRound=f(xO),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),d}}function iu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xH(){var t=ru(bw()(aa));return t.copy=function(){return iu(t,xH())},Wl.apply(t,arguments)}function wH(){var t=CO(bw()).domain([1,10]);return t.copy=function(){return iu(t,wH()).base(t.base())},Wl.apply(t,arguments)}function SH(){var t=_O(bw());return t.copy=function(){return iu(t,SH()).constant(t.constant())},Wl.apply(t,arguments)}function NO(){var t=EO(bw());return t.copy=function(){return iu(t,NO()).exponent(t.exponent())},Wl.apply(t,arguments)}function vbe(){return NO.apply(null,arguments).exponent(.5)}function AH(){var t=[],e=aa;function n(r){if(r!=null&&!isNaN(r=+r))return e((Mg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Hc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>nve(t,a/r))},n.copy=function(){return AH(e).domain(t)},Wl.apply(n,arguments)}function xw(){var t=0,e=.5,n=1,r=1,i,a,o,s,c,d=aa,f,h=!1,m;function v(x){return isNaN(x=+x)?m:(x=.5+((x=+f(x))-a)*(r*x<r*a?s:c),d(h?Math.max(0,Math.min(1,x)):x))}v.domain=function(x){return arguments.length?([t,e,n]=x,i=f(t=+t),a=f(e=+e),o=f(n=+n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,v):[t,e,n]},v.clamp=function(x){return arguments.length?(h=!!x,v):h},v.interpolator=function(x){return arguments.length?(d=x,v):d};function b(x){return function(S){var A,T,E;return arguments.length?([A,T,E]=S,d=Pve(x,[A,T,E]),v):[d(0),d(.5),d(1)]}}return v.range=b($h),v.rangeRound=b(xO),v.unknown=function(x){return arguments.length?(m=x,v):m},function(x){return f=x,i=x(t),a=x(e),o=x(n),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,v}}function CH(){var t=ru(xw()(aa));return t.copy=function(){return iu(t,CH())},Wl.apply(t,arguments)}function _H(){var t=CO(xw()).domain([.1,1,10]);return t.copy=function(){return iu(t,_H()).base(t.base())},Wl.apply(t,arguments)}function EH(){var t=_O(xw());return t.copy=function(){return iu(t,EH()).constant(t.constant())},Wl.apply(t,arguments)}function IO(){var t=EO(xw());return t.copy=function(){return iu(t,IO()).exponent(t.exponent())},Wl.apply(t,arguments)}function ybe(){return IO.apply(null,arguments).exponent(.5)}const Sm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vO,scaleDiverging:CH,scaleDivergingLog:_H,scaleDivergingPow:IO,scaleDivergingSqrt:ybe,scaleDivergingSymlog:EH,scaleIdentity:iH,scaleImplicit:XE,scaleLinear:rH,scaleLog:oH,scaleOrdinal:gO,scalePoint:ave,scalePow:TO,scaleQuantile:cH,scaleQuantize:uH,scaleRadial:lH,scaleSequential:xH,scaleSequentialLog:wH,scaleSequentialPow:NO,scaleSequentialQuantile:AH,scaleSequentialSqrt:vbe,scaleSequentialSymlog:SH,scaleSqrt:Qve,scaleSymlog:sH,scaleThreshold:dH,scaleTime:mbe,scaleUtc:gbe,tickFormat:nH},Symbol.toStringTag,{value:"Module"}));var au=t=>t.chartData,bbe=Re([au],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),zO=(t,e,n,r)=>r?bbe(t):au(t);function Nl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Qt(e)&&Qt(n))return!0}return!1}function Uz(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function TH(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Qt(n))i=n;else if(typeof n=="function")return;if(Qt(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Nl(o))return o}}function xbe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Nl(r))return Uz(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,s;if(i==="auto")e!=null&&(o=Math.min(...e));else if(_t(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&QI.test(i)){var c=QI.exec(i);if(c==null||c[1]==null||e==null)o=void 0;else{var d=+c[1];o=e[0]-d}}else o=e?.[0];if(a==="auto")e!=null&&(s=Math.max(...e));else if(_t(a))s=a;else if(typeof a=="function")try{e!=null&&(s=a(e?.[1]))}catch{}else if(typeof a=="string"&&JI.test(a)){var f=JI.exec(a);if(f==null||f[1]==null||e==null)s=void 0;else{var h=+f[1];s=e[1]+h}}else s=e?.[1];var m=[o,s];if(Nl(m))return e==null?m:Uz(m,e,n)}}}var Fh=1e9,wbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$O,lr=!0,Eo="[DecimalError] ",id=Eo+"Invalid argument: ",BO=Eo+"Exponent out of range: ",Uh=Math.floor,Bu=Math.pow,Sbe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ha,di=1e7,tr=7,kH=9007199254740991,b0=Uh(kH/tr),bt={};bt.absoluteValue=bt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};bt.comparedTo=bt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};bt.decimalPlaces=bt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*tr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};bt.dividedBy=bt.div=function(t){return El(this,new this.constructor(t))};bt.dividedToIntegerBy=bt.idiv=function(t){var e=this,n=e.constructor;return Yn(El(e,new n(t),0,1),n.precision)};bt.equals=bt.eq=function(t){return!this.cmp(t)};bt.exponent=function(){return $r(this)};bt.greaterThan=bt.gt=function(t){return this.cmp(t)>0};bt.greaterThanOrEqualTo=bt.gte=function(t){return this.cmp(t)>=0};bt.isInteger=bt.isint=function(){return this.e>this.d.length-2};bt.isNegative=bt.isneg=function(){return this.s<0};bt.isPositive=bt.ispos=function(){return this.s>0};bt.isZero=function(){return this.s===0};bt.lessThan=bt.lt=function(t){return this.cmp(t)<0};bt.lessThanOrEqualTo=bt.lte=function(t){return this.cmp(t)<1};bt.logarithm=bt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ha))throw Error(Eo+"NaN");if(n.s<1)throw Error(Eo+(n.s?"NaN":"-Infinity"));return n.eq(Ha)?new r(0):(lr=!1,e=El(tg(n,a),tg(t,a),a),lr=!0,Yn(e,i))};bt.minus=bt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?DH(e,t):PH(e,(t.s=-t.s,t))};bt.modulo=bt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Eo+"NaN");return n.s?(lr=!1,e=El(n,t,0,1).times(t),lr=!0,n.minus(e)):Yn(new r(n),i)};bt.naturalExponential=bt.exp=function(){return OH(this)};bt.naturalLogarithm=bt.ln=function(){return tg(this)};bt.negated=bt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};bt.plus=bt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PH(e,t):DH(e,(t.s=-t.s,t))};bt.precision=bt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(id+t);if(e=$r(i)+1,r=i.d.length-1,n=r*tr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};bt.squareRoot=bt.sqrt=function(){var t,e,n,r,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(Eo+"NaN")}for(t=$r(s),lr=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=_s(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Uh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(El(s,a,o+2)).times(.5),_s(a.d).slice(0,o)===(e=_s(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Yn(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return lr=!0,Yn(r,n)};bt.times=bt.mul=function(t){var e,n,r,i,a,o,s,c,d,f=this,h=f.constructor,m=f.d,v=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,n=f.e+t.e,c=m.length,d=v.length,c<d&&(a=m,m=v,v=a,o=c,c=d,d=o),a=[],o=c+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)s=a[i]+v[r]*m[i-r-1]+e,a[i--]=s%di|0,e=s/di|0;a[i]=(a[i]+e)%di|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,lr?Yn(t,h.precision):t};bt.toDecimalPlaces=bt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ns(t,0,Fh),e===void 0?e=r.rounding:Ns(e,0,8),Yn(n,t+$r(n)+1,e))};bt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=wd(r,!0):(Ns(t,0,Fh),e===void 0?e=i.rounding:Ns(e,0,8),r=Yn(new i(r),t+1,e),n=wd(r,!0,t+1)),n};bt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?wd(i):(Ns(t,0,Fh),e===void 0?e=a.rounding:Ns(e,0,8),r=Yn(new a(i),t+$r(i)+1,e),n=wd(r.abs(),!1,t+$r(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};bt.toInteger=bt.toint=function(){var t=this,e=t.constructor;return Yn(new e(t),$r(t)+1,e.rounding)};bt.toNumber=function(){return+this};bt.toPower=bt.pow=function(t){var e,n,r,i,a,o,s=this,c=s.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(Ha);if(s=new c(s),!s.s){if(t.s<1)throw Error(Eo+"Infinity");return s}if(s.eq(Ha))return s;if(r=c.precision,t.eq(Ha))return Yn(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=f<0?-f:f)<=kH){for(i=new c(Ha),e=Math.ceil(r/tr+4),lr=!1;n%2&&(i=i.times(s),Vz(i.d,e)),n=Uh(n/2),n!==0;)s=s.times(s),Vz(s.d,e);return lr=!0,t.s<0?new c(Ha).div(i):Yn(i,r)}}else if(a<0)throw Error(Eo+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,lr=!1,i=t.times(tg(s,r+d)),lr=!0,i=OH(i),i.s=a,i};bt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=$r(i),r=wd(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ns(t,1,Fh),e===void 0?e=a.rounding:Ns(e,0,8),i=Yn(new a(i),t,e),n=$r(i),r=wd(i,t<=n||n<=a.toExpNeg,t)),r};bt.toSignificantDigits=bt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ns(t,1,Fh),e===void 0?e=r.rounding:Ns(e,0,8)),Yn(new r(n),t,e)};bt.toString=bt.valueOf=bt.val=bt.toJSON=bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=$r(t),n=t.constructor;return wd(t,e<=n.toExpNeg||e>=n.toExpPos)};function PH(t,e){var n,r,i,a,o,s,c,d,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),lr?Yn(e,h):e;if(c=t.d,d=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,s=d.length):(r=d,i=o,s=c.length),o=Math.ceil(h/tr),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=c.length,a=d.length,s-a<0&&(a=s,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/di|0,c[a]%=di;for(n&&(c.unshift(n),++i),s=c.length;c[--s]==0;)c.pop();return e.d=c,e.e=i,lr?Yn(e,h):e}function Ns(t,e,n){if(t!==~~t||t<e||t>n)throw Error(id+t)}function _s(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=tr-r.length,n&&(a+=Lc(n)),a+=r;o=t[e],r=o+"",n=tr-r.length,n&&(a+=Lc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var El=(function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%di|0,o=a/di|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(r[s]!=i[s]){c=r[s]>i[s]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*di+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,c,d,f,h,m,v,b,x,S,A,T,E,k,D,M,R,N,z=r.constructor,q=r.s==i.s?1:-1,Y=r.d,K=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(Eo+"Division by zero");for(c=r.e-i.e,R=K.length,D=Y.length,v=new z(q),b=v.d=[],d=0;K[d]==(Y[d]||0);)++d;if(K[d]>(Y[d]||0)&&--c,a==null?T=a=z.precision:o?T=a+($r(r)-$r(i))+1:T=a,T<0)return new z(0);if(T=T/tr+2|0,d=0,R==1)for(f=0,K=K[0],T++;(d<D||f)&&T--;d++)E=f*di+(Y[d]||0),b[d]=E/K|0,f=E%K|0;else{for(f=di/(K[0]+1)|0,f>1&&(K=t(K,f),Y=t(Y,f),R=K.length,D=Y.length),k=R,x=Y.slice(0,R),S=x.length;S<R;)x[S++]=0;N=K.slice(),N.unshift(0),M=K[0],K[1]>=di/2&&++M;do f=0,s=e(K,x,R,S),s<0?(A=x[0],R!=S&&(A=A*di+(x[1]||0)),f=A/M|0,f>1?(f>=di&&(f=di-1),h=t(K,f),m=h.length,S=x.length,s=e(h,x,m,S),s==1&&(f--,n(h,R<m?N:K,m))):(f==0&&(s=f=1),h=K.slice()),m=h.length,m<S&&h.unshift(0),n(x,h,S),s==-1&&(S=x.length,s=e(K,x,R,S),s<1&&(f++,n(x,R<S?N:K,S))),S=x.length):s===0&&(f++,x=[0]),b[d++]=f,s&&x[0]?x[S++]=Y[k]||0:(x=[Y[k]],S=1);while((k++<D||x[0]!==void 0)&&T--)}return b[0]||b.shift(),v.e=c,Yn(v,o?a+$r(v)+1:a)}})();function OH(t,e){var n,r,i,a,o,s,c=0,d=0,f=t.constructor,h=f.precision;if($r(t)>16)throw Error(BO+$r(t));if(!t.s)return new f(Ha);for(lr=!1,s=h,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(Bu(2,d))/Math.LN10*2+5|0,s+=r,n=i=a=new f(Ha),f.precision=s;;){if(i=Yn(i.times(t),s),n=n.times(++c),o=a.plus(El(i,n,s)),_s(o.d).slice(0,s)===_s(a.d).slice(0,s)){for(;d--;)a=Yn(a.times(a),s);return f.precision=h,e==null?(lr=!0,Yn(a,h)):a}a=o}}function $r(t){for(var e=t.e*tr,n=t.d[0];n>=10;n/=10)e++;return e}function a_(t,e,n){if(e>t.LN10.sd())throw lr=!0,n&&(t.precision=n),Error(Eo+"LN10 precision limit exceeded");return Yn(new t(t.LN10),e)}function Lc(t){for(var e="";t--;)e+="0";return e}function tg(t,e){var n,r,i,a,o,s,c,d,f,h=1,m=10,v=t,b=v.d,x=v.constructor,S=x.precision;if(v.s<1)throw Error(Eo+(v.s?"NaN":"-Infinity"));if(v.eq(Ha))return new x(0);if(e==null?(lr=!1,d=S):d=e,v.eq(10))return e==null&&(lr=!0),a_(x,d);if(d+=m,x.precision=d,n=_s(b),r=n.charAt(0),a=$r(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=_s(v.d),r=n.charAt(0),h++;a=$r(v),r>1?(v=new x("0."+n),a++):v=new x(r+"."+n.slice(1))}else return c=a_(x,d+2,S).times(a+""),v=tg(new x(r+"."+n.slice(1)),d-m).plus(c),x.precision=S,e==null?(lr=!0,Yn(v,S)):v;for(s=o=v=El(v.minus(Ha),v.plus(Ha),d),f=Yn(v.times(v),d),i=3;;){if(o=Yn(o.times(f),d),c=s.plus(El(o,new x(i),d)),_s(c.d).slice(0,d)===_s(s.d).slice(0,d))return s=s.times(2),a!==0&&(s=s.plus(a_(x,d+2,S).times(a+""))),s=El(s,new x(h),d),x.precision=S,e==null?(lr=!0,Yn(s,S)):s;s=c,i+=2}}function Hz(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Uh(n/tr),t.d=[],r=(n+1)%tr,n<0&&(r+=tr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=tr;r<i;)t.d.push(+e.slice(r,r+=tr));e=e.slice(r),r=tr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),lr&&(t.e>b0||t.e<-b0))throw Error(BO+n)}else t.s=0,t.e=0,t.d=[0];return t}function Yn(t,e,n){var r,i,a,o,s,c,d,f,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=tr,i=e,d=h[f=0];else{if(f=Math.ceil((r+1)/tr),a=h.length,f>=a)return t;for(d=a=h[f],o=1;a>=10;a/=10)o++;r%=tr,i=r-tr+o}if(n!==void 0&&(a=Bu(10,o-i-1),s=d/a%10|0,c=e<0||h[f+1]!==void 0||d%a,c=n<4?(s||c)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||c||n==6&&(r>0?i>0?d/Bu(10,o-i):0:h[f-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return c?(a=$r(t),h.length=1,e=e-a-1,h[0]=Bu(10,(tr-e%tr)%tr),t.e=Uh(-e/tr)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=f,a=1,f--):(h.length=f+1,a=Bu(10,tr-r),h[f]=i>0?(d/Bu(10,o-i)%Bu(10,i)|0)*a:0),c)for(;;)if(f==0){(h[0]+=a)==di&&(h[0]=1,++t.e);break}else{if(h[f]+=a,h[f]!=di)break;h[f--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(lr&&(t.e>b0||t.e<-b0))throw Error(BO+$r(t));return t}function DH(t,e){var n,r,i,a,o,s,c,d,f,h,m=t.constructor,v=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),lr?Yn(e,v):e;if(c=t.d,h=e.d,r=e.e,d=t.e,c=c.slice(),o=d-r,o){for(f=o<0,f?(n=c,o=-o,s=h.length):(n=h,r=d,s=c.length),i=Math.max(Math.ceil(v/tr),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,s=h.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(c[i]!=h[i]){f=c[i]<h[i];break}o=0}for(f&&(n=c,c=h,h=n,e.s=-e.s),s=c.length,i=h.length-s;i>0;--i)c[s++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=di-1;--c[a],c[i]+=di}c[i]-=h[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,lr?Yn(e,v):e):new m(0)}function wd(t,e,n){var r,i=$r(t),a=_s(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Lc(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Lc(-i-1)+a,n&&(r=n-o)>0&&(a+=Lc(r))):i>=o?(a+=Lc(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Lc(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Lc(r))),t.s<0?"-"+a:a}function Vz(t,e){if(t.length>e)return t.length=e,!0}function MH(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(id+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Hz(o,a.toString())}else if(typeof a!="string")throw Error(id+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Sbe.test(a))Hz(o,a);else throw Error(id+a)}if(i.prototype=bt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=MH,i.config=i.set=Abe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Abe(t){if(!t||typeof t!="object")throw Error(Eo+"Object expected");var e,n,r,i=["precision",1,Fh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Uh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(id+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(id+n+": "+r);return this}var $O=MH(wbe);Ha=new $O(1);const Rn=$O;function RH(t){var e;return t===0?e=1:e=Math.floor(new Rn(t).abs().log(10).toNumber())+1,e}function jH(t,e,n){for(var r=new Rn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var LH=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},NH=(t,e,n)=>{if(t.lte(0))return new Rn(0);var r=RH(t.toNumber()),i=new Rn(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new Rn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=s.mul(i);return e?new Rn(c.toNumber()):new Rn(Math.ceil(c.toNumber()))},Cbe=(t,e,n)=>{var r=new Rn(1),i=new Rn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Rn(10).pow(RH(t)-1),i=new Rn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Rn(Math.floor(t)))}else t===0?i=new Rn(Math.floor((e-1)/2)):n||(i=new Rn(Math.floor(t)));for(var o=Math.floor((e-1)/2),s=[],c=0;c<e;c++)s.push(i.add(new Rn(c-o).mul(r)).toNumber());return s},IH=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Rn(0),tickMin:new Rn(0),tickMax:new Rn(0)};var o=NH(new Rn(n).sub(e).div(r-1),i,a),s;e<=0&&n>=0?s=new Rn(0):(s=new Rn(e).add(n).div(2),s=s.sub(new Rn(s).mod(o)));var c=Math.ceil(s.sub(e).div(o).toNumber()),d=Math.ceil(new Rn(n).sub(s).div(o).toNumber()),f=c+d+1;return f>r?IH(e,n,r,i,a+1):(f<r&&(d=n>0?d+(r-f):d,c=n>0?c:c+(r-f)),{step:o,tickMin:s.sub(new Rn(c).mul(o)),tickMax:s.add(new Rn(d).mul(o))})},_be=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,c]=LH([n,r]);if(s===-1/0||c===1/0){var d=c===1/0?[s,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return n>r?d.reverse():d}if(s===c)return Cbe(s,i,a);var{step:f,tickMin:h,tickMax:m}=IH(s,c,o,a,0),v=jH(h,m.add(new Rn(.1).mul(f)),f);return n>r?v.reverse():v},Ebe=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=LH([r,i]);if(o===-1/0||s===1/0)return[r,i];if(o===s)return[o];var c=Math.max(n,2),d=NH(new Rn(s).sub(o).div(c-1),a,0),f=[...jH(new Rn(o),new Rn(s),d),s];return a===!1&&(f=f.map(h=>Math.round(h))),r>i?f.reverse():f},Tbe=t=>t.rootProps.barCategoryGap,ww=t=>t.rootProps.stackOffset,zH=t=>t.rootProps.reverseStackOrder,FO=t=>t.options.chartName,UO=t=>t.rootProps.syncId,BH=t=>t.rootProps.syncMethod,HO=t=>t.options.eventEmitter,Oi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Mu={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},ms={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Sw=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function Aw(t,e,n){if(n!=="auto")return n;if(t!=null)return Gl(t,e)?"category":"number"}function qz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qz(Object(n),!0).forEach(function(r){kbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kbe(t,e,n){return(e=Pbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pbe(t){var e=Obe(t,"string");return typeof e=="symbol"?e:e+""}function Obe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gz={allowDataOverflow:Mu.allowDataOverflow,allowDecimals:Mu.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Mu.angleAxisId,includeHidden:!1,name:void 0,reversed:Mu.reversed,scale:Mu.scale,tick:Mu.tick,tickCount:void 0,ticks:void 0,type:Mu.type,unit:void 0},Yz={allowDataOverflow:ms.allowDataOverflow,allowDecimals:ms.allowDecimals,allowDuplicatedCategory:ms.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ms.radiusAxisId,includeHidden:ms.includeHidden,name:void 0,reversed:ms.reversed,scale:ms.scale,tick:ms.tick,tickCount:ms.tickCount,ticks:void 0,type:ms.type,unit:void 0},Dbe=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},VO=Re([Dbe,O8],(t,e)=>{var n;if(t!=null)return t;var r=(n=Aw(e,"angleAxis",Gz.type))!==null&&n!==void 0?n:"category";return x0(x0({},Gz),{},{type:r})}),Mbe=(t,e)=>t.polarAxis.radiusAxis[e],qO=Re([Mbe,O8],(t,e)=>{var n;if(t!=null)return t;var r=(n=Aw(e,"radiusAxis",Yz.type))!==null&&n!==void 0?n:"category";return x0(x0({},Yz),{},{type:r})}),Cw=t=>t.polarOptions,GO=Re([Yl,Kl,Ni],Oge),$H=Re([Cw,GO],(t,e)=>{if(t!=null)return Kc(t.innerRadius,e,0)}),FH=Re([Cw,GO],(t,e)=>{if(t!=null)return Kc(t.outerRadius,e,e*.8)}),Rbe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},UH=Re([Cw],Rbe);Re([VO,UH],Sw);var HH=Re([GO,$H,FH],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Re([qO,HH],Sw);var VH=Re([mr,Cw,$H,FH,Yl,Kl],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:s,startAngle:c,endAngle:d}=e;return{cx:Kc(o,i,i/2),cy:Kc(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),gi=(t,e)=>e,_w=(t,e,n)=>n;function qH(t){return t?.id}function GH(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(s=>{var c,d=(c=s.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var f=qH(s);d.forEach((h,m)=>{var v=a==null||i?m:String(Mi(h,a,null)),b=Mi(h,s.dataKey,0),x;o.has(v)?x=o.get(v):x={},Object.assign(x,{[f]:b}),o.set(v,x)})}}),Array.from(o.values())}function YO(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Ew=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Tw(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function jbe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var vi=t=>{var e=mr(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Hh=t=>t.tooltip.settings.axisId;function Lbe(t){if(t in Sm)return Sm[t]();var e="scale".concat(_g(t));if(e in Sm)return Sm[e]()}function Kz(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(a){function o(){return a.apply(this,arguments)}return o.toString=function(){return a.toString()},o})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var o=i[0],s=i[1];return o<=s?a>=o&&a<=s:a>=s&&a<=o},bandwidth:n?()=>n.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,o)=>{var s=t(a);if(s!=null){if(t.bandwidth&&o!==null&&o!==void 0&&o.position){var c=t.bandwidth();switch(o.position){case"middle":s+=c/2;break;case"end":s+=c;break}}return s}}}}function Wz(t,e,n){if(typeof t=="function")return Kz(t.copy().domain(e).range(n));if(t!=null){var r=Lbe(t);if(r!=null)return r.domain(e).range(n),Kz(r)}}var Nbe=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Nl(e)){for(var n,r,i=0;i<e.length;i++){var a=e[i];Qt(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function Xz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xz(Object(n),!0).forEach(function(r){Ibe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ibe(t,e,n){return(e=zbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zbe(t){var e=Bbe(t,"string");return typeof e=="symbol"?e:e+""}function Bbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eT=[0,"auto"],ci={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},YH=(t,e)=>t.cartesianAxis.xAxis[e],$s=(t,e)=>{var n=YH(t,e);return n??ci},ui={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:eT,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:kg},KH=(t,e)=>t.cartesianAxis.yAxis[e],Fs=(t,e)=>{var n=KH(t,e);return n??ui},$be={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},KO=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??$be},fa=(t,e,n)=>{switch(e){case"xAxis":return $s(t,n);case"yAxis":return Fs(t,n);case"zAxis":return KO(t,n);case"angleAxis":return VO(t,n);case"radiusAxis":return qO(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Fbe=(t,e,n)=>{switch(e){case"xAxis":return $s(t,n);case"yAxis":return Fs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ng=(t,e,n)=>{switch(e){case"xAxis":return $s(t,n);case"yAxis":return Fs(t,n);case"angleAxis":return VO(t,n);case"radiusAxis":return qO(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},WH=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function XH(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var ZH=t=>t.graphicalItems.cartesianItems,Ube=Re([gi,_w],XH),QH=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Ig=Re([ZH,fa,Ube],QH,{memoizeOptions:{resultEqualityCheck:Tw}}),JH=Re([Ig],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(YO)),e9=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Hbe=Re([Ig],e9),t9=t=>t.map(e=>e.data).filter(Boolean).flat(1),Vbe=Re([Ig],t9,{memoizeOptions:{resultEqualityCheck:Tw}}),n9=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},WO=Re([Vbe,zO],n9),r9=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Mi(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Mi(i,r)}))):t.map(r=>({value:r})),kw=Re([WO,fa,Ig],r9);function i9(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function sb(t){if(Gi(t)||t instanceof Date){var e=Number(t);if(Qt(e))return e}}function Zz(t){if(Array.isArray(t)){var e=[sb(t[0]),sb(t[1])];return Nl(e)?e:void 0}var n=sb(t);if(n!=null)return[n,n]}function Il(t){return t.map(sb).filter(_a)}function qbe(t,e,n){return!n||typeof e!="number"||Dl(e)?[]:n.length?Il(n.flatMap(r=>{var i=Mi(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Qt(a)||!Qt(o)))return[e-a,e+o]})):[]}var Qr=t=>{var e=vi(t),n=Hh(t);return Ng(t,e,n)},zg=Re([Qr],t=>t?.dataKey),Gbe=Re([JH,zO,Qr],GH),a9=(t,e,n,r)=>{var i={},a=e.reduce((o,s)=>{if(s.stackId==null)return o;var c=o[s.stackId];return c==null&&(c=[]),c.push(s),o[s.stackId]=c,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,c]=o,d=r?[...c].reverse():c,f=d.map(qH);return[s,{stackedData:lpe(t,f,n),graphicalItems:d}]}))},Ybe=Re([Gbe,JH,ww,zH],a9),o9=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var o=dpe(t,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Kbe=Re([fa],t=>t.allowDataOverflow),XO=t=>{var e;if(t==null||!("domain"in t))return eT;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Il(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:eT},s9=Re([fa],XO),l9=Re([s9,Kbe],TH),Wbe=Re([Ybe,au,gi,l9],o9,{memoizeOptions:{resultEqualityCheck:Ew}}),ZO=t=>t.errorBars,Xbe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>i9(n,r)),S0=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},c9=(t,e,n,r,i)=>{var a,o;if(n.length>0&&t.forEach(s=>{n.forEach(c=>{var d,f,h=(d=r[c.id])===null||d===void 0?void 0:d.filter(A=>i9(i,A)),m=Mi(s,(f=e.dataKey)!==null&&f!==void 0?f:c.dataKey),v=qbe(s,m,h);if(v.length>=2){var b=Math.min(...v),x=Math.max(...v);(a==null||b<a)&&(a=b),(o==null||x>o)&&(o=x)}var S=Zz(m);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),o=o==null?S[1]:Math.max(o,S[1]))})}),e?.dataKey!=null&&t.forEach(s=>{var c=Zz(Mi(s,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),Qt(a)&&Qt(o))return[a,o]},Zbe=Re([WO,fa,Hbe,ZO,gi],c9,{memoizeOptions:{resultEqualityCheck:Ew}});function Qbe(t){var{value:e}=t;if(Gi(e)||e instanceof Date)return e}var Jbe=(t,e,n)=>{var r=t.map(Qbe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&CU(r))?Y8(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},u9=t=>t.referenceElements.dots,Vh=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),e0e=Re([u9,gi,_w],Vh),d9=t=>t.referenceElements.areas,t0e=Re([d9,gi,_w],Vh),f9=t=>t.referenceElements.lines,n0e=Re([f9,gi,_w],Vh),h9=(t,e)=>{if(t!=null){var n=Il(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},r0e=Re(e0e,gi,h9),p9=(t,e)=>{if(t!=null){var n=Il(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},i0e=Re([t0e,gi],p9);function a0e(t){var e;if(t.x!=null)return Il([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Il(n)}function o0e(t){var e;if(t.y!=null)return Il([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Il(n)}var m9=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?a0e(r):o0e(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},s0e=Re([n0e,gi],m9),l0e=Re(r0e,s0e,i0e,(t,e,n)=>S0(t,n,e)),g9=(t,e,n,r,i,a,o,s)=>{if(n!=null)return n;var c=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",d=c?S0(r,a,i):S0(a,i);return xbe(e,d,t.allowDataOverflow)},c0e=Re([fa,s9,l9,Wbe,Zbe,l0e,mr,gi],g9,{memoizeOptions:{resultEqualityCheck:Ew}}),u0e=[0,1],v9=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:c}=t,d=Gl(e,a);if(d&&s==null){var f;return Y8(0,(f=n?.length)!==null&&f!==void 0?f:0)}return c==="category"?Jbe(r,t,d):i==="expand"?u0e:o}},QO=Re([fa,mr,WO,kw,ww,gi,c0e],v9);function d0e(t){return t in Sm}var y9=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(_g(r));return d0e(a)?a:"point"}}},qh=Re([fa,WH,FO],y9);function JO(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?Wz(t.scale,n,r):Wz(e,n,r)}var b9=(t,e,n)=>{var r=XO(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Nl(t))return _be(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Nl(t))return Ebe(t,e.tickCount,e.allowDecimals)}},e2=Re([QO,Ng,qh],b9),x9=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Nl(e)&&Array.isArray(n)&&n.length>0){var i,a,o=e[0],s=(i=n[0])!==null&&i!==void 0?i:0,c=e[1],d=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(o,s),Math.max(c,d)]}return e},f0e=Re([fa,QO,e2,gi],x9),h0e=Re(kw,fa,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Il(t.map(h=>h.value))).sort((h,m)=>h-m),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var c=r[s],d=r[s+1];if(!(c==null||d==null)){var f=d-c;n=Math.min(n,f)}}return n/o}}),w9=Re(h0e,mr,Tbe,Ni,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Qt(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=Kc(n,t*a),s=t*a/2;return s-o-(s-o)/a*o}return 0}),p0e=(t,e,n)=>{var r=$s(t,e);return r==null||typeof r.padding!="string"?0:w9(t,"xAxis",e,n,r.padding)},m0e=(t,e,n)=>{var r=Fs(t,e);return r==null||typeof r.padding!="string"?0:w9(t,"yAxis",e,n,r.padding)},g0e=Re($s,p0e,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),v0e=Re(Fs,m0e,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),y0e=Re([Ni,g0e,uw,cw,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),b0e=Re([Ni,mr,v0e,uw,cw,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Bg=(t,e,n,r)=>{var i;switch(e){case"xAxis":return y0e(t,n,r);case"yAxis":return b0e(t,n,r);case"zAxis":return(i=KO(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return UH(t);case"radiusAxis":return HH(t,n);default:return}},S9=Re([fa,Bg],Sw),x0e=Re([qh,f0e],Nbe),Wc=Re([fa,qh,x0e,S9],JO);Re([Ig,ZO,gi],Xbe);function A9(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Pw=(t,e)=>e,Ow=(t,e,n)=>n,w0e=Re(sw,Pw,Ow,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(A9)),S0e=Re(lw,Pw,Ow,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(A9)),C9=(t,e)=>({width:t.width,height:e.height}),A0e=(t,e)=>{var n=typeof e.width=="number"?e.width:kg;return{width:n,height:t.height}},C0e=Re(Ni,$s,C9),_0e=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},E0e=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},T0e=Re(Kl,Ni,w0e,Pw,Ow,(t,e,n,r,i)=>{var a={},o;return n.forEach(s=>{var c=C9(e,s);o==null&&(o=_0e(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;a[s.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),a}),k0e=Re(Yl,Ni,S0e,Pw,Ow,(t,e,n,r,i)=>{var a={},o;return n.forEach(s=>{var c=A0e(e,s);o==null&&(o=E0e(e,r,t));var d=r==="left"&&!i||r==="right"&&i;a[s.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),a}),P0e=(t,e)=>{var n=$s(t,e);if(n!=null)return T0e(t,n.orientation,n.mirror)},O0e=Re([Ni,$s,P0e,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),D0e=(t,e)=>{var n=Fs(t,e);if(n!=null)return k0e(t,n.orientation,n.mirror)},M0e=Re([Ni,Fs,D0e,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),R0e=Re(Ni,Fs,(t,e)=>{var n=typeof e.width=="number"?e.width:kg;return{width:n,height:t.height}}),_9=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=Gl(t,r),c=e.map(d=>d.value);if(o&&s&&a==="category"&&i&&CU(c))return c}},t2=Re([mr,kw,fa,gi],_9),E9=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Gl(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(s=>s.value)}},n2=Re([mr,kw,Ng,gi],E9),Qz=Re([mr,Fbe,qh,Wc,t2,n2,Bg,e2,gi],(t,e,n,r,i,a,o,s,c)=>{if(e!=null){var d=Gl(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:s,range:o,realScaleType:n,scale:r}}}),j0e=(t,e,n,r,i,a,o,s,c)=>{if(!(e==null||r==null)){var d=Gl(t,c),{type:f,ticks:h,tickCount:m}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=f==="category"&&r.bandwidth?r.bandwidth()/v:0;b=c==="angleAxis"&&a!=null&&a.length>=2?wo(a[0]-a[1])*2*b:b;var x=h||i;return x?x.map((S,A)=>{var T=o?o.indexOf(S):S,E=r.map(T);return Qt(E)?{index:A,coordinate:E+b,value:S,offset:b}:null}).filter(_a):d&&s?s.map((S,A)=>{var T=r.map(S);return Qt(T)?{coordinate:T+b,value:S,index:A,offset:b}:null}).filter(_a):r.ticks?r.ticks(m).map((S,A)=>{var T=r.map(S);return Qt(T)?{coordinate:T+b,value:S,index:A,offset:b}:null}).filter(_a):r.domain().map((S,A)=>{var T=r.map(S);return Qt(T)?{coordinate:T+b,value:o?o[S]:S,index:A,offset:b}:null}).filter(_a)}},T9=Re([mr,Ng,qh,Wc,e2,Bg,t2,n2,gi],j0e),L0e=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var s=Gl(t,o),{tickCount:c}=e,d=0;return d=o==="angleAxis"&&r?.length>=2?wo(r[0]-r[1])*2*d:d,s&&a?a.map((f,h)=>{var m=n.map(f);return Qt(m)?{coordinate:m+d,value:f,index:h,offset:d}:null}).filter(_a):n.ticks?n.ticks(c).map((f,h)=>{var m=n.map(f);return Qt(m)?{coordinate:m+d,value:f,index:h,offset:d}:null}).filter(_a):n.domain().map((f,h)=>{var m=n.map(f);return Qt(m)?{coordinate:m+d,value:i?i[f]:f,index:h,offset:d}:null}).filter(_a)}},k9=Re([mr,Ng,Wc,Bg,t2,n2,gi],L0e),P9=Re(fa,Wc,(t,e)=>{if(!(t==null||e==null))return w0(w0({},t),{},{scale:e})}),N0e=Re([fa,qh,QO,S9],JO);Re((t,e,n)=>KO(t,n),N0e,(t,e)=>{if(!(t==null||e==null))return w0(w0({},t),{},{scale:e})});var I0e=Re([mr,sw,lw],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),O9=t=>t.options.defaultTooltipEventType,D9=t=>t.options.validateTooltipEventTypes;function M9(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function r2(t,e){var n=O9(t),r=D9(t);return M9(e,n,r)}function z0e(t){return At(e=>r2(e,t))}var R9=(t,e)=>{var n,r=Number(e);if(!(Dl(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},B0e=t=>t.tooltip.settings,Bc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$0e={itemInteraction:{click:Bc,hover:Bc},axisInteraction:{click:Bc,hover:Bc},keyboardInteraction:Bc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},j9=Pa({name:"tooltip",initialState:$0e,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:or()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Go(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:or()},removeTooltipEntrySettings:{reducer(t,e){var n=Go(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:or()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:F0e,replaceTooltipEntrySettings:U0e,removeTooltipEntrySettings:H0e,setTooltipSettingsState:V0e,setActiveMouseOverItemIndex:q0e,mouseLeaveItem:zke,mouseLeaveChart:L9,setActiveClickItemIndex:Bke,setMouseOverAxisIndex:N9,setMouseClickAxisIndex:G0e,setSyncInteraction:tT,setKeyboardInteraction:nT}=j9.actions,Y0e=j9.reducer;function Jz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jz(Object(n),!0).forEach(function(r){K0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K0e(t,e,n){return(e=W0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W0e(t){var e=X0e(t,"string");return typeof e=="symbol"?e:e+""}function X0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z0e(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Q0e(t){return t.index!=null}var I9=(t,e,n,r)=>{if(e==null)return Bc;var i=Z0e(t,e,n);if(i==null)return Bc;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Q0e(i)){if(a)return $y($y({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return $y($y({},Bc),{},{coordinate:i.coordinate})};function J0e(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function exe(t,e){var n=J0e(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function txe(t,e,n){if(n==null||e==null)return!0;var r=Mi(t,e);return r==null||!Nl(n)?!0:exe(r,n)}var i2=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!Qt(a))return i;var o=0,s=1/0;e.length>0&&(s=e.length-1);var c=Math.max(o,Math.min(a,s)),d=e[c];return d==null||txe(d,n,r)?String(c):null},z9=(t,e,n,r,i,a,o)=>{if(a!=null){var s=o[0],c=s?.getPosition(a);if(c!=null)return c;var d=i?.[Number(a)];if(d)return n==="horizontal"?{x:d.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:d.coordinate}}},B9=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===i})},$9=t=>t.options.tooltipPayloadSearcher,Gh=t=>t.tooltip;function eB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eB(Object(n),!0).forEach(function(r){nxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nxe(t,e,n){return(e=rxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rxe(t){var e=ixe(t,"string");return typeof e=="symbol"?e:e+""}function ixe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function axe(t,e){return t??e}var F9=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:s,computedData:c,dataStartIndex:d,dataEndIndex:f}=n,h=[];return t.reduce((m,v)=>{var b,{dataDefinedOnItem:x,settings:S}=v,A=axe(x,s),T=Array.isArray(A)?y8(A,d,f):A,E=(b=S?.dataKey)!==null&&b!==void 0?b:r,k=S?.nameKey,D;if(r&&Array.isArray(T)&&!Array.isArray(T[0])&&o==="axis"?D=_U(T,r,i):D=a(T,e,c,k),Array.isArray(D))D.forEach(R=>{var N=tB(tB({},S),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});m.push(e3({tooltipEntrySettings:N,dataKey:R.dataKey,payload:R.payload,value:Mi(R.payload,R.dataKey),name:R.name}))});else{var M;m.push(e3({tooltipEntrySettings:S,dataKey:E,payload:D,value:Mi(D,E),name:(M=Mi(D,k))!==null&&M!==void 0?M:S?.name}))}return m},h)}},a2=Re([Qr,WH,FO],y9),oxe=Re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),sxe=Re([vi,Hh],XH),Yh=Re([oxe,Qr,sxe],QH,{memoizeOptions:{resultEqualityCheck:Tw}}),lxe=Re([Yh],t=>t.filter(YO)),cxe=Re([Yh],t9,{memoizeOptions:{resultEqualityCheck:Tw}}),Kh=Re([cxe,au],n9),uxe=Re([lxe,au,Qr],GH),o2=Re([Kh,Qr,Yh],r9),U9=Re([Qr],XO),dxe=Re([Qr],t=>t.allowDataOverflow),H9=Re([U9,dxe],TH),fxe=Re([Yh],t=>t.filter(YO)),hxe=Re([uxe,fxe,ww,zH],a9),pxe=Re([hxe,au,vi,H9],o9),mxe=Re([Yh],e9),gxe=Re([Kh,Qr,mxe,ZO,vi],c9,{memoizeOptions:{resultEqualityCheck:Ew}}),vxe=Re([u9,vi,Hh],Vh),yxe=Re([vxe,vi],h9),bxe=Re([d9,vi,Hh],Vh),xxe=Re([bxe,vi],p9),wxe=Re([f9,vi,Hh],Vh),Sxe=Re([wxe,vi],m9),Axe=Re([yxe,Sxe,xxe],S0),Cxe=Re([Qr,U9,H9,pxe,gxe,Axe,mr,vi],g9),$g=Re([Qr,mr,Kh,o2,ww,vi,Cxe],v9),_xe=Re([$g,Qr,a2],b9),Exe=Re([Qr,$g,_xe,vi],x9),V9=t=>{var e=vi(t),n=Hh(t),r=!1;return Bg(t,e,n,r)},q9=Re([Qr,V9],Sw),G9=Re([Qr,a2,Exe,q9],JO),Txe=Re([mr,o2,Qr,vi],_9),kxe=Re([mr,o2,Qr,vi],E9),Pxe=(t,e,n,r,i,a,o,s)=>{if(e){var{type:c}=e,d=Gl(t,s);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=c==="category"&&r.bandwidth?r.bandwidth()/f:0;return h=s==="angleAxis"&&i!=null&&i?.length>=2?wo(i[0]-i[1])*2*h:h,d&&o?o.map((m,v)=>{var b=r.map(m);return Qt(b)?{coordinate:b+h,value:m,index:v,offset:h}:null}).filter(_a):r.domain().map((m,v)=>{var b=r.map(m);return Qt(b)?{coordinate:b+h,value:a?a[m]:m,index:v,offset:h}:null}).filter(_a)}}},Xl=Re([mr,Qr,a2,G9,V9,Txe,kxe,vi],Pxe),s2=Re([O9,D9,B0e],(t,e,n)=>M9(n.shared,t,e)),Y9=t=>t.tooltip.settings.trigger,l2=t=>t.tooltip.settings.defaultIndex,Fg=Re([Gh,s2,Y9,l2],I9),ng=Re([Fg,Kh,zg,$g],i2),K9=Re([Xl,ng],R9),Oxe=Re([Fg],t=>{if(t)return t.dataKey});Re([Fg],t=>{if(t)return t.graphicalItemId});var W9=Re([Gh,s2,Y9,l2],B9),Dxe=Re([Yl,Kl,mr,Ni,Xl,l2,W9],z9),Mxe=Re([Fg,Dxe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Rxe=Re([Fg],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),jxe=Re([W9,ng,au,zg,K9,$9,s2],F9),Lxe=Re([jxe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function nB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(n),!0).forEach(function(r){Nxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nxe(t,e,n){return(e=Ixe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ixe(t){var e=zxe(t,"string");return typeof e=="symbol"?e:e+""}function zxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bxe=()=>At(Qr),$xe=()=>{var t=Bxe(),e=At(Xl),n=At(G9);return Jb(!t||!n?void 0:rB(rB({},t),{},{scale:n}),e)};function iB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iB(Object(n),!0).forEach(function(r){Fxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fxe(t,e,n){return(e=Uxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uxe(t){var e=Hxe(t,"string");return typeof e=="symbol"?e:e+""}function Hxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vxe=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},qxe=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:o}=r;return jf(jf(jf({},r),Pi(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:c}=r;return jf(jf(jf({},r),Pi(r.cx,r.cy,s,c)),{},{angle:c,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Gxe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var X9=(t,e,n,r,i)=>{var a,o=(a=e?.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<o;s++){var c,d,f,h,m,v=s>0?(c=n[s-1])===null||c===void 0?void 0:c.coordinate:(d=n[o-1])===null||d===void 0?void 0:d.coordinate,b=(f=n[s])===null||f===void 0?void 0:f.coordinate,x=s>=o-1?(h=n[0])===null||h===void 0?void 0:h.coordinate:(m=n[s+1])===null||m===void 0?void 0:m.coordinate,S=void 0;if(!(v==null||b==null||x==null))if(wo(b-v)!==wo(x-b)){var A=[];if(wo(x-b)===wo(i[1]-i[0])){S=x;var T=b+i[1]-i[0];A[0]=Math.min(T,(T+v)/2),A[1]=Math.max(T,(T+v)/2)}else{S=v;var E=x+i[1]-i[0];A[0]=Math.min(b,(E+b)/2),A[1]=Math.max(b,(E+b)/2)}var k=[Math.min(b,(S+b)/2),Math.max(b,(S+b)/2)];if(t>k[0]&&t<=k[1]||t>=A[0]&&t<=A[1]){var D;return(D=n[s])===null||D===void 0?void 0:D.index}}else{var M=Math.min(v,x),R=Math.max(v,x);if(t>(M+b)/2&&t<=(R+b)/2){var N;return(N=n[s])===null||N===void 0?void 0:N.index}}}else if(e)for(var z=0;z<o;z++){var q=e[z];if(q!=null){var Y=e[z+1],K=e[z-1];if(z===0&&Y!=null&&t<=(q.coordinate+Y.coordinate)/2||z===o-1&&K!=null&&t>(q.coordinate+K.coordinate)/2||z>0&&z<o-1&&K!=null&&Y!=null&&t>(q.coordinate+K.coordinate)/2&&t<=(q.coordinate+Y.coordinate)/2)return q.index}}return-1},Yxe=()=>At(FO),c2=(t,e)=>e,Z9=(t,e,n)=>n,u2=(t,e,n,r)=>r,Kxe=Re(Xl,t=>Zx(t,e=>e.coordinate)),d2=Re([Gh,c2,Z9,u2],I9),f2=Re([d2,Kh,zg,$g],i2),Wxe=(t,e,n)=>{if(e!=null){var r=Gh(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Q9=Re([Gh,c2,Z9,u2],B9),A0=Re([Yl,Kl,mr,Ni,Xl,u2,Q9],z9),Xxe=Re([d2,A0],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),J9=Re([Xl,f2],R9),Zxe=Re([Q9,f2,au,zg,J9,$9,c2],F9),Qxe=Re([d2,f2],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Jxe=(t,e,n,r,i,a,o)=>{if(!(!t||!n||!r||!i)&&Gxe(t,o)){var s=fpe(t,e),c=X9(s,a,i,n,r),d=Vxe(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},ewe=(t,e,n,r,i,a,o)=>{if(!(!t||!r||!i||!a||!n)){var s=Lge(t,n);if(s){var c=hpe(s,e),d=X9(c,o,a,r,i),f=qxe(e,a,d,s);return{activeIndex:String(d),activeCoordinate:f}}}},twe=(t,e,n,r,i,a,o,s)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?Jxe(t,e,r,i,a,o,s):ewe(t,e,n,r,i,a,o)},nwe=Re(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),rwe=Re(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Oi)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:jbe}});function aB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aB(Object(n),!0).forEach(function(r){iwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iwe(t,e,n){return(e=awe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function awe(t){var e=owe(t,"string");return typeof e=="symbol"?e:e+""}function owe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var swe={},lwe={zIndexMap:Object.values(Oi).reduce((t,e)=>oB(oB({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),swe)},cwe=new Set(Object.values(Oi));function uwe(t){return cwe.has(t)}var e7=Pa({name:"zIndex",initialState:lwe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:or()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!uwe(n)&&delete t.zIndexMap[n])},prepare:or()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:or()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:or()}}}),{registerZIndexPortal:dwe,unregisterZIndexPortal:fwe,registerZIndexPortalElement:hwe,unregisterZIndexPortalElement:pwe}=e7.actions,mwe=e7.reducer;function Qo(t){var{zIndex:e,children:n}=t,r=Gpe(),i=r&&e!==void 0&&e!==0,a=Xi(),o=Sr();w.useLayoutEffect(()=>i?(o(dwe({zIndex:e})),()=>{o(fwe({zIndex:e}))}):zh,[o,e,i]);var s=At(c=>nwe(c,e,a));return i?s?Ed.createPortal(n,s):null:n}function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rT.apply(null,arguments)}function sB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(n),!0).forEach(function(r){gwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gwe(t,e,n){return(e=vwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vwe(t){var e=ywe(t,"string");return typeof e=="symbol"?e:e+""}function ywe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bwe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function xwe(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:c,tooltipEventType:d,chartName:f}=t,h=n,m=r,v=i;if(!c||!h||f!=="ScatterChart"&&d!=="axis")return null;var b,x,S;if(f==="ScatterChart")b=h,x=Kme,S=Oi.cursorLine;else if(f==="BarChart")b=Wme(s,h,a,o),x=pO,S=Oi.cursorRectangle;else if(s==="radial"&&TU(h)){var{cx:A,cy:T,radius:E,startAngle:k,endAngle:D}=V8(h);b={cx:A,cy:T,startAngle:k,endAngle:D,innerRadius:E,outerRadius:E},x=G8,S=Oi.cursorLine}else b={points:Bge(s,h,a)},x=B8,S=Oi.cursorLine;var M=typeof c=="object"&&"className"in c?c.className:void 0,R=Fy(Fy(Fy(Fy({stroke:"#ccc",pointerEvents:"none"},a),b),Gx(c)),{},{payload:m,payloadIndex:v,className:Pt("recharts-tooltip-cursor",M)});return w.createElement(Qo,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},w.createElement(bwe,{cursor:c,cursorComp:x,cursorProps:R}))}function wwe(t){var e=$xe(),n=k8(),r=Bh(),i=Yxe();return e==null||n==null||r==null||i==null?null:w.createElement(xwe,rT({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var t7=w.createContext(null),Swe=()=>w.useContext(t7),o_={exports:{}},lB;function Awe(){return lB||(lB=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function a(c,d,f,h,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,h||c,m),b=n?n+d:d;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],v]:c._events[b].push(v):(c._events[b]=v,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)e.call(f,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},s.prototype.listeners=function(d){var f=n?n+d:d,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,v=h.length,b=new Array(v);m<v;m++)b[m]=h[m].fn;return b},s.prototype.listenerCount=function(d){var f=n?n+d:d,h=this._events[f];return h?h.fn?1:h.length:0},s.prototype.emit=function(d,f,h,m,v,b){var x=n?n+d:d;if(!this._events[x])return!1;var S=this._events[x],A=arguments.length,T,E;if(S.fn){switch(S.once&&this.removeListener(d,S.fn,void 0,!0),A){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,f),!0;case 3:return S.fn.call(S.context,f,h),!0;case 4:return S.fn.call(S.context,f,h,m),!0;case 5:return S.fn.call(S.context,f,h,m,v),!0;case 6:return S.fn.call(S.context,f,h,m,v,b),!0}for(E=1,T=new Array(A-1);E<A;E++)T[E-1]=arguments[E];S.fn.apply(S.context,T)}else{var k=S.length,D;for(E=0;E<k;E++)switch(S[E].once&&this.removeListener(d,S[E].fn,void 0,!0),A){case 1:S[E].fn.call(S[E].context);break;case 2:S[E].fn.call(S[E].context,f);break;case 3:S[E].fn.call(S[E].context,f,h);break;case 4:S[E].fn.call(S[E].context,f,h,m);break;default:if(!T)for(D=1,T=new Array(A-1);D<A;D++)T[D-1]=arguments[D];S[E].fn.apply(S[E].context,T)}}return!0},s.prototype.on=function(d,f,h){return a(this,d,f,h,!1)},s.prototype.once=function(d,f,h){return a(this,d,f,h,!0)},s.prototype.removeListener=function(d,f,h,m){var v=n?n+d:d;if(!this._events[v])return this;if(!f)return o(this,v),this;var b=this._events[v];if(b.fn)b.fn===f&&(!m||b.once)&&(!h||b.context===h)&&o(this,v);else{for(var x=0,S=[],A=b.length;x<A;x++)(b[x].fn!==f||m&&!b[x].once||h&&b[x].context!==h)&&S.push(b[x]);S.length?this._events[v]=S.length===1?S[0]:S:o(this,v)}return this},s.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(o_)),o_.exports}var Cwe=Awe();const _we=ua(Cwe);var rg=new _we,iT="recharts.syncEvent.tooltip",cB="recharts.syncEvent.brush",Ewe=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Dl(n))return t[n]}},Twe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},n7=Pa({name:"options",initialState:Twe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),kwe=n7.reducer,{createEventEmitter:Pwe}=n7.actions;function Owe(t){return t.tooltip.syncInteraction}var Dwe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},r7=Pa({name:"chartData",initialState:Dwe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:uB,setDataStartEndIndexes:Mwe,setComputedData:$ke}=r7.actions,Rwe=r7.reducer,jwe=["x","y"];function dB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(n),!0).forEach(function(r){Lwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lwe(t,e,n){return(e=Nwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nwe(t){var e=Iwe(t,"string");return typeof e=="symbol"?e:e+""}function Iwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zwe(t,e){if(t==null)return{};var n,r,i=Bwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $we(){var t=At(UO),e=At(HO),n=Sr(),r=At(BH),i=At(Xl),a=Bh(),o=Pg(),s=At(c=>c.rootProps.className);w.useEffect(()=>{if(t==null)return zh;var c=(d,f,h)=>{if(e!==h&&t===d){if(r==="index"){var m;if(o&&f!==null&&f!==void 0&&(m=f.payload)!==null&&m!==void 0&&m.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x:b,y:x}=v,S=zwe(v,jwe),{x:A,y:T,width:E,height:k}=f.payload.sourceViewBox,D=Lf(Lf({},S),{},{x:o.x+(E?(b-A)/E:0)*o.width,y:o.y+(k?(x-T)/k:0)*o.height});n(Lf(Lf({},f),{},{payload:Lf(Lf({},f.payload),{},{coordinate:D})}))}else n(f);return}if(i!=null){var M;if(typeof r=="function"){var R={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},N=r(i,R);M=i[N]}else r==="value"&&(M=i.find(L=>String(L.value)===f.payload.label));var{coordinate:z}=f.payload;if(M==null||f.payload.active===!1||z==null||o==null){n(tT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:Y}=z,K=Math.min(q,o.x+o.width),te=Math.min(Y,o.y+o.height),W={x:a==="horizontal"?M.coordinate:K,y:a==="horizontal"?te:M.coordinate},J=tT({active:f.payload.active,coordinate:W,dataKey:f.payload.dataKey,index:String(M.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(J)}}};return rg.on(iT,c),()=>{rg.off(iT,c)}},[s,n,e,t,r,i,a,o])}function Fwe(){var t=At(UO),e=At(HO),n=Sr();w.useEffect(()=>{if(t==null)return zh;var r=(i,a,o)=>{e!==o&&t===i&&n(Mwe(a))};return rg.on(cB,r),()=>{rg.off(cB,r)}},[n,e,t])}function Uwe(){var t=Sr();w.useEffect(()=>{t(Pwe())},[t]),$we(),Fwe()}function Hwe(t,e,n,r,i,a){var o=At(v=>Wxe(v,t,e)),s=At(HO),c=At(UO),d=At(BH),f=At(Owe),h=f?.active,m=Pg();w.useEffect(()=>{if(!h&&c!=null&&s!=null){var v=tT({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});rg.emit(iT,c,v,s)}},[h,n,o,i,r,s,c,d,a,m])}function fB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fB(Object(n),!0).forEach(function(r){Vwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vwe(t,e,n){return(e=qwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qwe(t){var e=Gwe(t,"string");return typeof e=="symbol"?e:e+""}function Gwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ywe(t){return t.dataKey}function Kwe(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(Tme,e)}var pB=[],Wwe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function i7(t){var e,n,r=pi(t,Wwe),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:c,filterNull:d,isAnimationActive:f,offset:h,payloadUniqBy:m,position:v,reverseDirection:b,useTranslate3d:x,wrapperStyle:S,cursor:A,shared:T,trigger:E,defaultIndex:k,portal:D,axisId:M}=r,R=Sr(),N=typeof k=="number"?String(k):k;w.useEffect(()=>{R(V0e({shared:T,trigger:E,axisId:M,active:i,defaultIndex:N}))},[R,T,E,M,i,N]);var z=Pg(),q=z8(),Y=z0e(T),{activeIndex:K,isActive:te}=(e=At(be=>Qxe(be,Y,E,N)))!==null&&e!==void 0?e:{},W=At(be=>Zxe(be,Y,E,N)),J=At(be=>J9(be,Y,E,N)),L=At(be=>Xxe(be,Y,E,N)),U=W,F=Swe(),V=(n=i??te)!==null&&n!==void 0?n:!1,[G,$]=UU([U,V]),X=Y==="axis"?J:void 0;Hwe(Y,E,L,X,K,V);var ne=D??F;if(ne==null||z==null||Y==null)return null;var ae=U??pB;V||(ae=pB),d&&ae.length&&(ae=IU(ae.filter(be=>be.value!=null&&(be.hide!==!0||r.includeHidden)),m,Ywe));var oe=ae.length>0,xe=w.createElement(jme,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:f,active:V,coordinate:L,hasPayload:oe,offset:h,position:v,reverseDirection:b,useTranslate3d:x,viewBox:z,wrapperStyle:S,lastBoundingBox:G,innerRef:$,hasPortalFromProps:!!D},Kwe(c,hB(hB({},r),{},{payload:ae,label:X,active:V,activeIndex:K,coordinate:L,accessibilityLayer:q})));return w.createElement(w.Fragment,null,Ed.createPortal(xe,ne),V&&w.createElement(wwe,{cursor:A,tooltipEventType:Y,coordinate:L,payload:ae,index:K}))}function Xwe(t,e,n){return(e=Zwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zwe(t){var e=Qwe(t,"string");return typeof e=="symbol"?e:e+""}function Qwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Jwe{constructor(e){Xwe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function mB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mB(Object(n),!0).forEach(function(r){t1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t1e(t,e,n){return(e=n1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n1e(t){var e=r1e(t,"string");return typeof e=="symbol"?e:e+""}function r1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i1e={cacheSize:2e3,enableCache:!0},a7=e1e({},i1e),gB=new Jwe(a7.cacheSize),a1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vB="recharts_measurement_span";function o1e(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",s=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var yB=(t,e)=>{try{var n=document.getElementById(vB);n||(n=document.createElement("span"),n.setAttribute("id",vB),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,a1e,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Om=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pw.isSsr)return{width:0,height:0};if(!a7.enableCache)return yB(e,n);var r=o1e(e,n),i=gB.get(r);if(i)return i;var a=yB(e,n);return gB.set(r,a),a},o7;function s1e(t,e,n){return(e=l1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l1e(t){var e=c1e(t,"string");return typeof e=="symbol"?e:e+""}function c1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,d1e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,f1e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},h1e=["cm","mm","pt","pc","in","Q","px"];function p1e(t){return h1e.includes(t)}var Gf="NaN";function m1e(t,e){return t*f1e[e]}class Ei{static parse(e){var n,[,r,i]=(n=d1e.exec(e))!==null&&n!==void 0?n:[];return r==null?Ei.NaN:new Ei(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Dl(e)&&(this.unit=""),n!==""&&!u1e.test(n)&&(this.num=NaN,this.unit=""),p1e(n)&&(this.num=m1e(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ei(NaN,""):new Ei(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Dl(this.num)}}o7=Ei;s1e(Ei,"NaN",new o7(NaN,""));function s7(t){if(t==null||t.includes(Gf))return Gf;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=bB.exec(e))!==null&&n!==void 0?n:[],o=Ei.parse(r??""),s=Ei.parse(a??""),c=i==="*"?o.multiply(s):o.divide(s);if(c.isNaN())return Gf;e=e.replace(bB,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,h,m]=(d=xB.exec(e))!==null&&d!==void 0?d:[],v=Ei.parse(f??""),b=Ei.parse(m??""),x=h==="+"?v.add(b):v.subtract(b);if(x.isNaN())return Gf;e=e.replace(xB,x.toString())}return e}var wB=/\(([^()]*)\)/;function g1e(t){for(var e=t,n;(n=wB.exec(e))!=null;){var[,r]=n;e=e.replace(wB,s7(r))}return e}function v1e(t){var e=t.replace(/\s+/g,"");return e=g1e(e),e=s7(e),e}function y1e(t){try{return v1e(t)}catch{return Gf}}function s_(t){var e=y1e(t.slice(5,-1));return e===Gf?"":e}var b1e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],x1e=["dx","dy","angle","className","breakAll"];function aT(){return aT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aT.apply(null,arguments)}function SB(t,e){if(t==null)return{};var n,r,i=w1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function w1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var l7=/[ \f\n\r\t\v\u2028\u2029]+/,c7=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Li(e)||(n?i=e.toString().split(""):i=e.toString().split(l7));var a=i.map(s=>({word:s,width:Om(s,r).width})),o=n?0:Om("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function S1e(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var u7=(t,e,n,r)=>t.reduce((i,a)=>{var{word:o,width:s}=a,c=i[i.length-1];if(c&&s!=null&&(e==null||r||c.width+s+n<Number(e)))c.words.push(o),c.width+=s+n;else{var d={words:[o],width:s};i.push(d)}return i},[]),d7=t=>t.reduce((e,n)=>e.width>n.width?e:n),A1e="",AB=(t,e,n,r,i,a,o,s)=>{var c=t.slice(0,e),d=c7({breakAll:n,style:r,children:c+A1e});if(!d)return[!1,[]];var f=u7(d.wordsWithComputedWidth,a,o,s),h=f.length>i||d7(f).width>Number(a);return[h,f]},C1e=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:c}=t,d=_t(a),f=String(o),h=u7(e,r,n,i);if(!d||i)return h;var m=h.length>a||d7(h).width>Number(r);if(!m)return h;for(var v=0,b=f.length-1,x=0,S;v<=b&&x<=f.length-1;){var A=Math.floor((v+b)/2),T=A-1,[E,k]=AB(f,T,c,s,a,r,n,i),[D]=AB(f,A,c,s,a,r,n,i);if(!E&&!D&&(v=A+1),E&&D&&(b=A-1),!E&&D){S=k;break}x++}return S||h},CB=t=>{var e=Li(t)?[]:t.toString().split(l7);return[{words:e,width:void 0}]},_1e=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!pw.isSsr){var s,c,d=c7({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:h}=d;s=f,c=h}else return CB(r);return C1e({breakAll:a,children:r,maxLines:o,style:i},s,c,e,!!n)}return CB(r)},f7="#808080",E1e={angle:0,breakAll:!1,capHeight:"0.71em",fill:f7,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},h2=w.forwardRef((t,e)=>{var n=pi(t,E1e),{x:r,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:c,textAnchor:d,verticalAnchor:f}=n,h=SB(n,b1e),m=w.useMemo(()=>_1e({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:v,dy:b,angle:x,className:S,breakAll:A}=h,T=SB(h,x1e);if(!Gi(r)||!Gi(i)||m.length===0)return null;var E=Number(r)+(_t(v)?v:0),k=Number(i)+(_t(b)?b:0);if(!Qt(E)||!Qt(k))return null;var D;switch(f){case"start":D=s_("calc(".concat(o,")"));break;case"middle":D=s_("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:D=s_("calc(".concat(m.length-1," * -").concat(a,")"));break}var M=[],R=m[0];if(c&&R!=null){var N=R.width,{width:z}=h;M.push("scale(".concat(_t(z)&&_t(N)?z/N:1,")"))}return x&&M.push("rotate(".concat(x,", ").concat(E,", ").concat(k,")")),M.length&&(T.transform=M.join(" ")),w.createElement("text",aT({},ji(T),{ref:e,x:E,y:k,className:Pt("recharts-text",S),textAnchor:d,fill:s.includes("url")?f7:s}),m.map((q,Y)=>{var K=q.words.join(A?"":" ");return w.createElement("tspan",{x:E,dy:Y===0?D:a,key:"".concat(K,"-").concat(Y)},K)}))});h2.displayName="Text";function _B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(n),!0).forEach(function(r){T1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T1e(t,e,n){return(e=k1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k1e(t){var e=P1e(t,"string");return typeof e=="symbol"?e:e+""}function P1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O1e=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:a,y:o,height:s,upperWidth:c,lowerWidth:d}=oO(e),f=a,h=a+(c-d)/2,m=(f+h)/2,v=(c+d)/2,b=f+c/2,x=s>=0?1:-1,S=x*r,A=x>0?"end":"start",T=x>0?"start":"end",E=c>=0?1:-1,k=E*r,D=E>0?"end":"start",M=E>0?"start":"end",R=i;if(n==="top"){var N={x:f+c/2,y:o-S,horizontalAnchor:"middle",verticalAnchor:A};return R&&(N.height=Math.max(o-R.y,0),N.width=c),N}if(n==="bottom"){var z={x:h+d/2,y:o+s+S,horizontalAnchor:"middle",verticalAnchor:T};return R&&(z.height=Math.max(R.y+R.height-(o+s),0),z.width=d),z}if(n==="left"){var q={x:m-k,y:o+s/2,horizontalAnchor:D,verticalAnchor:"middle"};return R&&(q.width=Math.max(q.x-R.x,0),q.height=s),q}if(n==="right"){var Y={x:m+v+k,y:o+s/2,horizontalAnchor:M,verticalAnchor:"middle"};return R&&(Y.width=Math.max(R.x+R.width-Y.x,0),Y.height=s),Y}var K=R?{width:v,height:s}:{};return n==="insideLeft"?gs({x:m+k,y:o+s/2,horizontalAnchor:M,verticalAnchor:"middle"},K):n==="insideRight"?gs({x:m+v-k,y:o+s/2,horizontalAnchor:D,verticalAnchor:"middle"},K):n==="insideTop"?gs({x:f+c/2,y:o+S,horizontalAnchor:"middle",verticalAnchor:T},K):n==="insideBottom"?gs({x:h+d/2,y:o+s-S,horizontalAnchor:"middle",verticalAnchor:A},K):n==="insideTopLeft"?gs({x:f+k,y:o+S,horizontalAnchor:M,verticalAnchor:T},K):n==="insideTopRight"?gs({x:f+c-k,y:o+S,horizontalAnchor:D,verticalAnchor:T},K):n==="insideBottomLeft"?gs({x:h+k,y:o+s-S,horizontalAnchor:M,verticalAnchor:A},K):n==="insideBottomRight"?gs({x:h+d-k,y:o+s-S,horizontalAnchor:D,verticalAnchor:A},K):n&&typeof n=="object"&&(_t(n.x)||vd(n.x))&&(_t(n.y)||vd(n.y))?gs({x:a+Kc(n.x,v),y:o+Kc(n.y,s),horizontalAnchor:"end",verticalAnchor:"end"},K):gs({x:b,y:o+s/2,horizontalAnchor:"middle",verticalAnchor:"middle"},K)},D1e=["labelRef"],M1e=["content"];function EB(t,e){if(t==null)return{};var n,r,i=R1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function R1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function TB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(n),!0).forEach(function(r){j1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j1e(t,e,n){return(e=L1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L1e(t){var e=N1e(t,"string");return typeof e=="symbol"?e:e+""}function N1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(null,arguments)}var h7=w.createContext(null),p2=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:s}=t,c=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[e,n,r,i,a,o]);return w.createElement(h7.Provider,{value:c},s)},p7=()=>{var t=w.useContext(h7),e=Pg();return t||(e?oO(e):void 0)},I1e=w.createContext(null),z1e=()=>{var t=w.useContext(I1e),e=At(VH);return t||e},B1e=t=>{var{value:e,formatter:n}=t,r=Li(t.children)?e:t.children;return typeof n=="function"?n(r):r},m2=t=>t!=null&&typeof t=="function",$1e=(t,e)=>{var n=wo(e-t),r=Math.min(Math.abs(e-t),360);return n*r},F1e=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:s,cy:c,innerRadius:d,outerRadius:f,startAngle:h,endAngle:m,clockWise:v}=i,b=(d+f)/2,x=$1e(h,m),S=x>=0?1:-1,A,T;switch(e){case"insideStart":A=h+S*a,T=v;break;case"insideEnd":A=m-S*a,T=!v;break;case"end":A=m+S*a,T=v;break;default:throw new Error("Unsupported position ".concat(e))}T=x<=0?T:!T;var E=Pi(s,c,b,A),k=Pi(s,c,b,A+(T?1:-1)*359),D="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(T?0:1,`,
    `).concat(k.x,",").concat(k.y),M=Li(t.id)?Hm("recharts-radial-line-"):t.id;return w.createElement("text",wl({},r,{dominantBaseline:"central",className:Pt("recharts-radial-bar-label",o)}),w.createElement("defs",null,w.createElement("path",{id:M,d:D})),w.createElement("textPath",{xlinkHref:"#".concat(M)},n))},U1e=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:c}=t,d=(s+c)/2;if(n==="outside"){var{x:f,y:h}=Pi(r,i,o+e,d);return{x:f,y:h,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+o)/2,{x:v,y:b}=Pi(r,i,m,d);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},lb=t=>t!=null&&"cx"in t&&_t(t.cx),H1e={angle:0,offset:5,zIndex:Oi.label,position:"middle",textBreakAll:!1};function V1e(t){if(!lb(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Nc(t){var e=pi(t,H1e),{viewBox:n,parentViewBox:r,position:i,value:a,children:o,content:s,className:c="",textBreakAll:d,labelRef:f}=e,h=z1e(),m=p7(),v=i==="center"?m:h??m,b,x,S;n==null?b=v:lb(n)?b=n:b=oO(n);var A=V1e(b);if(!b||Li(a)&&Li(o)&&!w.isValidElement(s)&&typeof s!="function")return null;var T=Am(Am({},e),{},{viewBox:b});if(w.isValidElement(s)){var{labelRef:E}=T,k=EB(T,D1e);return w.cloneElement(s,k)}if(typeof s=="function"){var{content:D}=T,M=EB(T,M1e);if(x=w.createElement(s,M),w.isValidElement(x))return x}else x=B1e(e);var R=ji(e);if(lb(b)){if(i==="insideStart"||i==="insideEnd"||i==="end")return F1e(e,i,x,R,b);S=U1e(b,e.offset,e.position)}else{if(!A)return null;var N=O1e({viewBox:A,position:i,offset:e.offset,parentViewBox:lb(r)?void 0:r});S=Am(Am({x:N.x,y:N.y,textAnchor:N.horizontalAnchor,verticalAnchor:N.verticalAnchor},N.width!==void 0?{width:N.width}:{}),N.height!==void 0?{height:N.height}:{})}return w.createElement(Qo,{zIndex:e.zIndex},w.createElement(h2,wl({ref:f,className:Pt("recharts-label",c)},R,S,{textAnchor:S1e(R.textAnchor)?R.textAnchor:S.textAnchor,breakAll:d}),x))}Nc.displayName="Label";var q1e=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Nc,wl({key:"label-implicit"},r)):Gi(t)?w.createElement(Nc,wl({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Nc?w.cloneElement(t,Am({key:"label-implicit"},r)):w.createElement(Nc,wl({key:"label-implicit",content:t},r)):m2(t)?w.createElement(Nc,wl({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Nc,wl({},t,{key:"label-implicit"},r)):null};function g2(t){var{label:e,labelRef:n}=t,r=p7();return q1e(e,r,n)||null}var l_={},c_={},kB;function G1e(){return kB||(kB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(c_)),c_}var u_={},PB;function Y1e(){return PB||(PB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(u_)),u_}var OB;function K1e(){return OB||(OB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G1e(),n=Y1e(),r=XP();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(l_)),l_}var d_,DB;function W1e(){return DB||(DB=1,d_=K1e().last),d_}var X1e=W1e();const Z1e=ua(X1e);var Q1e=["valueAccessor"],J1e=["dataKey","clockWise","id","textBreakAll","zIndex"];function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(null,arguments)}function MB(t,e){if(t==null)return{};var n,r,i=eSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tSe=t=>Array.isArray(t.value)?Z1e(t.value):t.value,m7=w.createContext(void 0),nSe=m7.Provider,g7=w.createContext(void 0);g7.Provider;function rSe(){return w.useContext(m7)}function iSe(){return w.useContext(g7)}function cb(t){var{valueAccessor:e=tSe}=t,n=MB(t,Q1e),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:s}=n,c=MB(n,J1e),d=rSe(),f=iSe(),h=d||f;return!h||!h.length?null:w.createElement(Qo,{zIndex:s??Oi.label},w.createElement(js,{className:"recharts-label-list"},h.map((m,v)=>{var b,x=Li(r)?e(m,v):Mi(m.payload,r),S=Li(a)?{}:{id:"".concat(a,"-").concat(v)};return w.createElement(Nc,C0({key:"label-".concat(v)},ji(m),c,S,{fill:(b=n.fill)!==null&&b!==void 0?b:m.fill,parentViewBox:m.parentViewBox,value:x,textBreakAll:o,viewBox:m.viewBox,index:v,zIndex:0}))})))}cb.displayName="LabelList";function aSe(t){var{label:e}=t;return e?e===!0?w.createElement(cb,{key:"labelList-implicit"}):w.isValidElement(e)||m2(e)?w.createElement(cb,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(cb,C0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function oT(){return oT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oT.apply(null,arguments)}var v7=t=>{var{cx:e,cy:n,r,className:i}=t,a=Pt("recharts-dot",i);return _t(e)&&_t(n)&&_t(r)?w.createElement("circle",oT({},Rs(t),WP(t),{className:a,cx:e,cy:n,r})):null},oSe={radiusAxis:{},angleAxis:{}},y7=Pa({name:"polarAxis",initialState:oSe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Fke,removeRadiusAxis:Uke,addAngleAxis:Hke,removeAngleAxis:Vke}=y7.actions,sSe=y7.reducer;function lSe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var b7=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,f_={},RB;function cSe(){return RB||(RB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(f_)),f_}var h_,jB;function uSe(){return jB||(jB=1,h_=cSe().isPlainObject),h_}var dSe=uSe();const fSe=ua(dSe);var LB,NB,IB,zB,BB;function $B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(n),!0).forEach(function(r){hSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hSe(t,e,n){return(e=pSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pSe(t){var e=mSe(t,"string");return typeof e=="symbol"?e:e+""}function mSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_0.apply(null,arguments)}function pm(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var UB=(t,e,n,r,i)=>{var a=n-r,o;return o=xr(LB||(LB=pm(["M ",",",""])),t,e),o+=xr(NB||(NB=pm(["L ",",",""])),t+n,e),o+=xr(IB||(IB=pm(["L ",",",""])),t+n-a/2,e+i),o+=xr(zB||(zB=pm(["L ",",",""])),t+n-a/2-r,e+i),o+=xr(BB||(BB=pm(["L ",","," Z"])),t,e),o},gSe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vSe=t=>{var e=pi(t,gSe),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:s}=e,{animationEasing:c,animationDuration:d,animationBegin:f,isUpdateAnimationActive:h}=e,m=w.useRef(null),[v,b]=w.useState(-1),x=w.useRef(i),S=w.useRef(a),A=w.useRef(o),T=w.useRef(n),E=w.useRef(r),k=hO(t,"trapezoid-");if(w.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var W=m.current.getTotalLength();W&&b(W)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var D=Pt("recharts-trapezoid",s);if(!h)return w.createElement("g",null,w.createElement("path",_0({},ji(e),{className:D,d:UB(n,r,i,a,o)})));var M=x.current,R=S.current,N=A.current,z=T.current,q=E.current,Y="0px ".concat(v===-1?1:v,"px"),K="".concat(v,"px 0px"),te=$8(["strokeDasharray"],d,c);return w.createElement(fO,{animationId:k,key:k,canBegin:v>0,duration:d,easing:c,isActive:h,begin:f},W=>{var J=Ca(M,i,W),L=Ca(R,a,W),U=Ca(N,o,W),F=Ca(z,n,W),V=Ca(q,r,W);m.current&&(x.current=J,S.current=L,A.current=U,T.current=F,E.current=V);var G=W>0?{transition:te,strokeDasharray:K}:{strokeDasharray:Y};return w.createElement("path",_0({},ji(e),{className:D,d:UB(F,V,J,L,U),ref:m,style:FB(FB({},G),e.style)}))})},ySe=["option","shapeType","activeClassName"];function bSe(t,e){if(t==null)return{};var n,r,i=xSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HB(Object(n),!0).forEach(function(r){wSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wSe(t,e,n){return(e=SSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SSe(t){var e=ASe(t,"string");return typeof e=="symbol"?e:e+""}function ASe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CSe(t,e){return E0(E0({},e),t)}function _Se(t,e){return t==="symbols"}function VB(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(pO,n);case"trapezoid":return w.createElement(vSe,n);case"sector":return w.createElement(G8,n);case"symbols":if(_Se(e))return w.createElement(KP,n);break;case"curve":return w.createElement(B8,n);default:return null}}function ESe(t){return w.isValidElement(t)?t.props:t}function TSe(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=bSe(t,ySe),a;if(w.isValidElement(e))a=w.cloneElement(e,E0(E0({},i),ESe(e)));else if(typeof e=="function")a=e(i,i.index);else if(fSe(e)&&typeof e!="boolean"){var o=CSe(e,i);a=w.createElement(VB,{shapeType:n,elementProps:o})}else{var s=i;a=w.createElement(VB,{shapeType:n,elementProps:s})}return i.isActive?w.createElement(js,{className:r},a):a}function kSe(t){var{tooltipEntrySettings:e}=t,n=Sr(),r=Xi(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(F0e(e)):i.current!==e&&n(U0e({prev:i.current,next:e})),i.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{i.current&&(n(H0e(i.current)),i.current=null)},[n]),null}function PSe(t){var{legendPayload:e}=t,n=Sr(),r=Xi(),i=w.useRef(null);return w.useLayoutEffect(()=>{r||(i.current===null?n(ome(e)):i.current!==e&&n(sme({prev:i.current,next:e})),i.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{i.current&&(n(lme(i.current)),i.current=null)},[n]),null}var p_,OSe=()=>{var[t]=w.useState(()=>Hm("uid-"));return t},DSe=(p_=mT.useId)!==null&&p_!==void 0?p_:OSe;function MSe(t,e){var n=DSe();return e||(t?"".concat(t,"-").concat(n):n)}var RSe=w.createContext(void 0),jSe=t=>{var{id:e,type:n,children:r}=t,i=MSe("recharts-".concat(n),e);return w.createElement(RSe.Provider,{value:i},r(i))},LSe={cartesianItems:[],polarItems:[]},x7=Pa({name:"graphicalItems",initialState:LSe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:or()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Go(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:or()},removeCartesianGraphicalItem:{reducer(t,e){var n=Go(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:or()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:or()},removePolarGraphicalItem:{reducer(t,e){var n=Go(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:or()}}}),{addCartesianGraphicalItem:NSe,replaceCartesianGraphicalItem:ISe,removeCartesianGraphicalItem:zSe,addPolarGraphicalItem:qke,removePolarGraphicalItem:Gke}=x7.actions,BSe=x7.reducer,$Se=t=>{var e=Sr(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(NSe(t)):n.current!==t&&e(ISe({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(zSe(n.current)),n.current=null)},[e]),null},FSe=w.memo($Se),USe=["points"];function qB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qB(Object(n),!0).forEach(function(r){HSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HSe(t,e,n){return(e=VSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VSe(t){var e=qSe(t,"string");return typeof e=="symbol"?e:e+""}function qSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T0.apply(null,arguments)}function GSe(t,e){if(t==null)return{};var n,r,i=YSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function KSe(t){var{option:e,dotProps:n,className:r}=t;if(w.isValidElement(e))return w.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Pt(r,typeof e!="boolean"?e.className:""),a=n??{},{points:o}=a,s=GSe(a,USe);return w.createElement(v7,T0({},s,{className:i}))}function WSe(t,e){return t==null?!1:e?!0:t.length===1}function XSe(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:s,clipPathId:c,zIndex:d=Oi.scatter}=t;if(!WSe(e,n))return null;var f=b7(n),h=Vue(n),m=e.map((b,x)=>{var S,A,T=m_(m_(m_({r:3},o),h),{},{index:x,cx:(S=b.x)!==null&&S!==void 0?S:void 0,cy:(A=b.y)!==null&&A!==void 0?A:void 0,dataKey:a,value:b.value,payload:b.payload,points:e});return w.createElement(KSe,{key:"dot-".concat(x),option:n,dotProps:T,className:i})}),v={};return s&&c!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(c,")")),w.createElement(Qo,{zIndex:d},w.createElement(js,T0({className:r},v),m))}function GB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GB(Object(n),!0).forEach(function(r){ZSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZSe(t,e,n){return(e=QSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QSe(t){var e=JSe(t,"string");return typeof e=="symbol"?e:e+""}function JSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eAe={xAxis:{},yAxis:{},zAxis:{}},w7=Pa({name:"cartesianAxis",initialState:eAe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:or()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:or()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:or()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:or()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:or()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:or()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:or()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:or()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:or()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a,o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-((a=o[0])!==null&&a!==void 0?a:0))<=1)return;var s=[...o,r].slice(-3);t.yAxis[n]=YB(YB({},i),{},{width:r,widthHistory:s})}}}}),{addXAxis:tAe,replaceXAxis:nAe,removeXAxis:rAe,addYAxis:iAe,replaceYAxis:aAe,removeYAxis:oAe,addZAxis:Yke,replaceZAxis:Kke,removeZAxis:Wke,updateYAxisWidth:sAe}=w7.actions,lAe=w7.reducer,cAe=Re([Ni],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),uAe=Re([cAe,Yl,Kl],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),v2=()=>At(uAe),dAe=()=>At(Lxe);function KB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KB(Object(n),!0).forEach(function(r){fAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fAe(t,e,n){return(e=hAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hAe(t){var e=pAe(t,"string");return typeof e=="symbol"?e:e+""}function pAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mAe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=t;if(i===!1||e.x==null||e.y==null)return null;var s={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=g_(g_(g_({},s),Gx(i)),WP(i)),d;return w.isValidElement(i)?d=w.cloneElement(i,c):typeof i=="function"?d=i(c):d=w.createElement(v7,c),w.createElement(js,{className:"recharts-active-dot",clipPath:o},d)};function gAe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Oi.activeDot}=t,s=At(ng),c=dAe();if(e==null||c==null)return null;var d=e.find(f=>c.includes(f.payload));return Li(d)?null:w.createElement(Qo,{zIndex:o},w.createElement(mAe,{point:d,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var vAe=t=>{var{chartData:e}=t,n=Sr(),r=Xi();return w.useEffect(()=>r?()=>{}:(n(uB(e)),()=>{n(uB(void 0))}),[e,n,r]),null},WB={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},S7=Pa({name:"brush",initialState:WB,reducers:{setBrushSettings(t,e){return e.payload==null?WB:e.payload}}}),{setBrushSettings:Xke}=S7.actions,yAe=S7.reducer,A7=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},bAe=t=>{var{x1:e,y1:n,x2:r,y2:i}=t;return A7({x:e,y:n},{x:r,y:i})};function xAe(t){return(t%180+180)%180}var wAe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=xAe(i),o=a*Math.PI/180,s=Math.atan(r/n),c=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},SAe={dots:[],areas:[],lines:[]},C7=Pa({name:"referenceElements",initialState:SAe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Go(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Go(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Go(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Zke,removeDot:Qke,addArea:AAe,removeArea:CAe,addLine:_Ae,removeLine:EAe}=C7.actions,TAe=C7.reducer,_7=w.createContext(void 0),kAe=t=>{var{children:e}=t,[n]=w.useState("".concat(Hm("recharts"),"-clip")),r=v2();if(r==null)return null;var{x:i,y:a,width:o,height:s}=r;return w.createElement(_7.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:a,height:s,width:o}))),e)},E7=()=>w.useContext(_7);class T7{constructor(e){var{x:n,y:r}=e;this.xAxisScale=n,this.yAxisScale=r}map(e,n){var r,i,{position:a}=n;return{x:(r=this.xAxisScale.map(e.x,{position:a}))!==null&&r!==void 0?r:0,y:(i=this.yAxisScale.map(e.y,{position:a}))!==null&&i!==void 0?i:0}}mapWithFallback(e,n){var r,i,{position:a,fallback:o}=n,s,c;return o==="rangeMin"?s=this.yAxisScale.rangeMin():o==="rangeMax"?s=this.yAxisScale.rangeMax():s=0,o==="rangeMin"?c=this.xAxisScale.rangeMin():o==="rangeMax"?c=this.xAxisScale.rangeMax():c=0,{x:(r=this.xAxisScale.map(e.x,{position:a}))!==null&&r!==void 0?r:c,y:(i=this.yAxisScale.map(e.y,{position:a}))!==null&&i!==void 0?i:s}}isInRange(e){var{x:n,y:r}=e,i=n==null||this.xAxisScale.isInRange(n),a=r==null||this.yAxisScale.isInRange(r);return i&&a}}function XB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XB(Object(n),!0).forEach(function(r){PAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PAe(t,e,n){return(e=OAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OAe(t){var e=DAe(t,"string");return typeof e=="symbol"?e:e+""}function DAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k0.apply(null,arguments)}var MAe=(t,e)=>{var n;if(w.isValidElement(t))n=w.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{if(!Qt(e.x1)||!Qt(e.y1)||!Qt(e.x2)||!Qt(e.y2))return null;n=w.createElement("line",k0({},e,{className:"recharts-reference-line-line"}))}return n},RAe=(t,e,n,r,i,a)=>{var{x:o,width:s}=a,c=i.map(t,{position:n});if(!Qt(c)||e==="discard"&&!i.isInRange(c))return null;var d=[{x:o+s,y:c},{x:o,y:c}];return r==="left"?d.reverse():d},jAe=(t,e,n,r,i,a)=>{var{y:o,height:s}=a,c=i.map(t,{position:n});if(!Qt(c)||e==="discard"&&!i.isInRange(c))return null;var d=[{x:c,y:o+s},{x:c,y:o}];return r==="top"?d.reverse():d},LAe=(t,e,n,r)=>{var i=[r.mapWithFallback(t[0],{position:n,fallback:"rangeMin"}),r.mapWithFallback(t[1],{position:n,fallback:"rangeMax"})];return e==="discard"&&i.some(a=>!r.isInRange(a))?null:i},NAe=(t,e,n,r,i,a,o)=>{var{x:s,y:c,segment:d,ifOverflow:f}=o,h=Gi(s),m=Gi(c);return m?RAe(c,f,r,a,e,n):h?jAe(s,f,r,i,t,n):d!=null&&d.length===2?LAe(d,f,r,new T7({x:t,y:e})):null};function IAe(t){var e=Sr();return w.useEffect(()=>(e(_Ae(t)),()=>{e(EAe(t))})),null}function zAe(t){var{xAxisId:e,yAxisId:n,shape:r,className:i,ifOverflow:a}=t,o=Xi(),s=E7(),c=At(R=>$s(R,e)),d=At(R=>Fs(R,n)),f=At(R=>Wc(R,"xAxis",e,o)),h=At(R=>Wc(R,"yAxis",n,o)),m=Pg();if(!s||!m||c==null||d==null||f==null||h==null)return null;var v=NAe(f,h,m,t.position,c.orientation,d.orientation,t);if(!v)return null;var b=v[0],x=v[1];if(b==null||x==null)return null;var{x:S,y:A}=b,{x:T,y:E}=x,k=a==="hidden"?"url(#".concat(s,")"):void 0,D=ZB(ZB({clipPath:k},ji(t)),{},{x1:S,y1:A,x2:T,y2:E}),M=bAe({x1:S,y1:A,x2:T,y2:E});return w.createElement(Qo,{zIndex:t.zIndex},w.createElement(js,{className:Pt("recharts-reference-line",i)},MAe(r,D),w.createElement(p2,k0({},M,{lowerWidth:M.width,upperWidth:M.width}),w.createElement(g2,{label:t.label}),t.children)))}var BAe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Oi.line};function sT(t){var e=pi(t,BAe);return w.createElement(w.Fragment,null,w.createElement(IAe,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y,segment:e.segment}),w.createElement(zAe,e))}sT.displayName="ReferenceLine";function QB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QB(Object(n),!0).forEach(function(r){$Ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Ae(t,e,n){return(e=FAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FAe(t){var e=UAe(t,"string");return typeof e=="symbol"?e:e+""}function UAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P0.apply(null,arguments)}var HAe=(t,e,n,r,i,a,o)=>{var s,c,d,f,{x1:h,x2:m,y1:v,y2:b}=o;if(i==null||a==null)return null;var x=new T7({x:i,y:a}),S={x:t?(s=i.map(h,{position:"start"}))!==null&&s!==void 0?s:null:i.rangeMin(),y:n?(c=a.map(v,{position:"start"}))!==null&&c!==void 0?c:null:a.rangeMin()},A={x:e?(d=i.map(m,{position:"end"}))!==null&&d!==void 0?d:null:i.rangeMax(),y:r?(f=a.map(b,{position:"end"}))!==null&&f!==void 0?f:null:a.rangeMax()};return o.ifOverflow==="discard"&&(!x.isInRange(S)||!x.isInRange(A))?null:A7(S,A)},VAe=(t,e)=>{var n;return w.isValidElement(t)?n=w.cloneElement(t,e):typeof t=="function"?n=t(e):n=w.createElement(pO,P0({},e,{className:"recharts-reference-area-rect"})),n};function qAe(t){var e=Sr();return w.useEffect(()=>(e(AAe(t)),()=>{e(CAe(t))})),null}function GAe(t){var{x1:e,x2:n,y1:r,y2:i,className:a,shape:o,xAxisId:s,yAxisId:c}=t,d=E7(),f=Xi(),h=At(k=>Wc(k,"xAxis",s,f)),m=At(k=>Wc(k,"yAxis",c,f));if(h==null||m==null)return null;var v=Gi(e),b=Gi(n),x=Gi(r),S=Gi(i);if(!v&&!b&&!x&&!S&&!o)return null;var A=HAe(v,b,x,S,h,m,t);if(!A&&!o)return null;var T=t.ifOverflow==="hidden",E=T?"url(#".concat(d,")"):void 0;return w.createElement(Qo,{zIndex:t.zIndex},w.createElement(js,{className:Pt("recharts-reference-area",a)},VAe(o,JB(JB({clipPath:E},ji(t)),A)),A!=null&&w.createElement(p2,P0({},A,{lowerWidth:A.width,upperWidth:A.width}),w.createElement(g2,{label:t.label}),t.children)))}var YAe={ifOverflow:"discard",xAxisId:0,yAxisId:0,radius:0,fill:"#ccc",label:!1,fillOpacity:.5,stroke:"none",strokeWidth:1,zIndex:Oi.area};function k7(t){var e=pi(t,YAe);return w.createElement(w.Fragment,null,w.createElement(qAe,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}),w.createElement(GAe,e))}k7.displayName="ReferenceArea";function P7(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function KAe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return wAe(r,n)}function WAe(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:s}=t;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function ig(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function XAe(t,e){return P7(t,e+1)}function ZAe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:s}=e,c=0,d=1,f=o,h=function(){var b=r?.[c];if(b===void 0)return{v:P7(r,d)};var x=c,S,A=()=>(S===void 0&&(S=n(b,x)),S),T=b.coordinate,E=c===0||ig(t,T,A,f,s);E||(c=0,f=o,d+=1),E&&(f=T+t*(A()/2+i),c+=d)},m;d<=a.length;)if(m=h(),m)return m.v;return[]}function QAe(t,e,n,r,i){var a=(r||[]).slice(),o=a.length;if(o===0)return[];for(var{start:s,end:c}=e,d=1;d<=o;d++){for(var f=(o-1)%d,h=s,m=!0,v=function(){var k=r[x];if(k==null)return 0;var D=x,M,R=()=>(M===void 0&&(M=n(k,D)),M),N=k.coordinate,z=x===f||ig(t,N,R,h,c);if(!z)return m=!1,1;z&&(h=N+t*(R()/2+i))},b,x=f;x<o&&(b=v(),!(b!==0&&b===1));x+=d);if(m){for(var S=[],A=f;A<o;A+=d){var T=r[A];T!=null&&S.push(T)}return S}}return[]}function e5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(n),!0).forEach(function(r){JAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JAe(t,e,n){return(e=eCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eCe(t){var e=tCe(t,"string");return typeof e=="symbol"?e:e+""}function tCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nCe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=e,{end:c}=e,d=function(m){var v=a[m];if(v==null)return 1;var b=v,x,S=()=>(x===void 0&&(x=n(v,m)),x);if(m===o-1){var A=t*(b.coordinate+t*S()/2-c);a[m]=b=Fi(Fi({},b),{},{tickCoord:A>0?b.coordinate-A*t:b.coordinate})}else a[m]=b=Fi(Fi({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var T=ig(t,b.tickCoord,S,s,c);T&&(c=b.tickCoord-t*(S()/2+i),a[m]=Fi(Fi({},b),{},{isShow:!0}))}},f=o-1;f>=0;f--)d(f);return a}function rCe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:c,end:d}=e;if(a){var f=r[s-1];if(f!=null){var h=n(f,s-1),m=t*(f.coordinate+t*h/2-d);if(o[s-1]=f=Fi(Fi({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate}),f.tickCoord!=null){var v=ig(t,f.tickCoord,()=>h,c,d);v&&(d=f.tickCoord-t*(h/2+i),o[s-1]=Fi(Fi({},f),{},{isShow:!0}))}}}for(var b=a?s-1:s,x=function(T){var E=o[T];if(E==null)return 1;var k=E,D,M=()=>(D===void 0&&(D=n(E,T)),D);if(T===0){var R=t*(k.coordinate-t*M()/2-c);o[T]=k=Fi(Fi({},k),{},{tickCoord:R<0?k.coordinate-R*t:k.coordinate})}else o[T]=k=Fi(Fi({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var N=ig(t,k.tickCoord,M,c,d);N&&(c=k.tickCoord+t*(M()/2+i),o[T]=Fi(Fi({},k),{},{isShow:!0}))}},S=0;S<b;S++)x(S);return o}function y2(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:c,tickFormatter:d,unit:f,angle:h}=t;if(!i||!i.length||!r)return[];if(_t(c)||pw.isSsr){var m;return(m=XAe(i,_t(c)?c:0))!==null&&m!==void 0?m:[]}var v=[],b=s==="top"||s==="bottom"?"width":"height",x=f&&b==="width"?Om(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(D,M)=>{var R=typeof d=="function"?d(D.value,M):D.value;return b==="width"?KAe(Om(R,{fontSize:e,letterSpacing:n}),x,h):Om(R,{fontSize:e,letterSpacing:n})[b]},A=i[0],T=i[1],E=i.length>=2&&A!=null&&T!=null?wo(T.coordinate-A.coordinate):1,k=WAe(a,E,b);return c==="equidistantPreserveStart"?ZAe(E,k,S,i,o):c==="equidistantPreserveEnd"?QAe(E,k,S,i,o):(c==="preserveStart"||c==="preserveStartEnd"?v=rCe(E,k,S,i,o,c==="preserveStartEnd"):v=nCe(E,k,S,i,o),v.filter(D=>D.isShow))}var iCe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){Array.from(e).forEach(f=>{if(f){var h=f.getBoundingClientRect();h.width>o&&(o=h.width)}});var s=n?n.getBoundingClientRect().width:0,c=i+a,d=o+c+s+(n?r:0);return Math.round(d)}return 0},aCe=["axisLine","width","height","className","hide","ticks","axisType"];function oCe(t,e){if(t==null)return{};var n,r,i=sCe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sd.apply(null,arguments)}function t5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(n),!0).forEach(function(r){lCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lCe(t,e,n){return(e=cCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cCe(t){var e=uCe(t,"string");return typeof e=="symbol"?e:e+""}function uCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tl={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Oi.axis};function dCe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:c}=t;if(!s)return null;var d=br(br(br({},c),Rs(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!o||a==="bottom"&&o);d=br(br({},d),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var h=+(a==="left"&&!o||a==="right"&&o);d=br(br({},d),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return w.createElement("line",Sd({},d,{className:Pt("recharts-cartesian-axis-line",Xx(s,"className"))}))}function fCe(t,e,n,r,i,a,o,s,c){var d,f,h,m,v,b,x=s?-1:1,S=t.tickSize||o,A=_t(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,m=n+ +!s*i,h=m-x*S,b=h-x*c,v=A;break;case"left":h=m=t.coordinate,f=e+ +!s*r,d=f-x*S,v=d-x*c,b=A;break;case"right":h=m=t.coordinate,f=e+ +s*r,d=f+x*S,v=d+x*c,b=A;break;default:d=f=t.coordinate,m=n+ +s*i,h=m+x*S,b=h+x*c,v=A;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:v,y:b}}}function hCe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function pCe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function mCe(t){var{option:e,tickProps:n,value:r}=t,i,a=Pt(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,br(br({},n),{},{className:a}));else if(typeof e=="function")i=e(br(br({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=Pt(o,lSe(e))),i=w.createElement(h2,Sd({},n,{className:o}),r)}return i}var gCe=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:c,tickTextProps:d,orientation:f,mirror:h,x:m,y:v,width:b,height:x,tickSize:S,tickMargin:A,fontSize:T,letterSpacing:E,getTicksConfig:k,events:D,axisType:M}=t,R=y2(br(br({},k),{},{ticks:n}),T,E),N=hCe(f,h),z=pCe(f,h),q=Rs(k),Y=Gx(r),K={};typeof i=="object"&&(K=i);var te=br(br({},q),{},{fill:"none"},K),W=R.map(U=>br({entry:U},fCe(U,m,v,b,x,f,S,h,A))),J=W.map(U=>{var{entry:F,line:V}=U;return w.createElement(js,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},i&&w.createElement("line",Sd({},te,V,{className:Pt("recharts-cartesian-axis-tick-line",Xx(i,"className"))})))}),L=W.map((U,F)=>{var V,G,{entry:$,tick:X}=U,ne=br(br(br(br({verticalAnchor:z},q),{},{textAnchor:N,stroke:"none",fill:a},X),{},{index:F,payload:$,visibleTicksCount:R.length,tickFormatter:o,padding:c},d),{},{angle:(V=(G=d?.angle)!==null&&G!==void 0?G:q.angle)!==null&&V!==void 0?V:0}),ae=br(br({},ne),Y);return w.createElement(js,Sd({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},kU(D,$,F)),r&&w.createElement(mCe,{option:r,tickProps:ae,value:"".concat(typeof o=="function"?o($.value,F):$.value).concat(s||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},L.length>0&&w.createElement(Qo,{zIndex:Oi.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:e},L)),J.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},J))}),vCe=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:s,axisType:c}=t,d=oCe(t,aCe),[f,h]=w.useState(""),[m,v]=w.useState(""),b=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return iCe({ticks:b.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var x=w.useCallback(S=>{if(S){var A=S.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=A;var T=A[0];if(T){var E=window.getComputedStyle(T),k=E.fontSize,D=E.letterSpacing;(k!==f||D!==m)&&(h(k),v(D))}}},[f,m]);return o||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(Qo,{zIndex:t.zIndex},w.createElement(js,{className:Pt("recharts-cartesian-axis",a)},w.createElement(dCe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Rs(t)}),w.createElement(gCe,{ref:x,axisType:c,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:m,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:s,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(p2,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(g2,{label:t.label,labelRef:t.labelRef}),t.children)))}),b2=w.forwardRef((t,e)=>{var n=pi(t,Tl);return w.createElement(vCe,Sd({},n,{ref:e}))});b2.displayName="CartesianAxis";var yCe=["x1","y1","x2","y2","key"],bCe=["offset"],xCe=["xAxisId","yAxisId"],wCe=["xAxisId","yAxisId"];function n5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(n),!0).forEach(function(r){SCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SCe(t,e,n){return(e=ACe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ACe(t){var e=CCe(t,"string");return typeof e=="symbol"?e:e+""}function CCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(null,arguments)}function O0(t,e){if(t==null)return{};var n,r,i=_Ce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Ce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ECe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:s}=t;return w.createElement("rect",{x:r,y:i,ry:s,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function O7(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:o,x2:s,y2:c,key:d}=n,f=O0(n,yCe),h=(i=Rs(f))!==null&&i!==void 0?i:{},{offset:m}=h,v=O0(h,bCe);r=w.createElement("line",Zu({},v,{x1:a,y1:o,x2:s,y2:c,fill:"none",key:d}))}return r}function TCe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,s=O0(t,xCe),c=i.map((d,f)=>{var h=Hi(Hi({},s),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(f),index:f});return w.createElement(O7,{key:"line-".concat(f),option:r,lineItemProps:h})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function kCe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,s=O0(t,wCe),c=i.map((d,f)=>{var h=Hi(Hi({},s),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(f),index:f});return w.createElement(O7,{option:r,lineItemProps:h,key:"line-".concat(f)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function PCe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:s,horizontal:c=!0}=t;if(!c||!e||!e.length||s==null)return null;var d=s.map(h=>Math.round(h+i-i)).sort((h,m)=>h-m);i!==d[0]&&d.unshift(0);var f=d.map((h,m)=>{var v=d[m+1],b=v==null,x=b?i+o-h:v-h;if(x<=0)return null;var S=m%e.length;return w.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:x,width:a,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function OCe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var d=c.map(h=>Math.round(h+i-i)).sort((h,m)=>h-m);i!==d[0]&&d.unshift(0);var f=d.map((h,m)=>{var v=d[m+1],b=v==null,x=b?i+o-h:v-h;if(x<=0)return null;var S=m%n.length;return w.createElement("rect",{key:"react-".concat(m),x:h,y:a,width:x,height:s,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var DCe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return b8(y2(Hi(Hi(Hi({},Tl),n),{},{ticks:x8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},MCe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return b8(y2(Hi(Hi(Hi({},Tl),n),{},{ticks:x8(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},RCe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Oi.grid};function x2(t){var e=sO(),n=lO(),r=k8(),i=Hi(Hi({},pi(t,RCe)),{},{x:_t(t.x)?t.x:r.left,y:_t(t.y)?t.y:r.top,width:_t(t.width)?t.width:r.width,height:_t(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:s,y:c,width:d,height:f,syncWithTicks:h,horizontalValues:m,verticalValues:v}=i,b=Xi(),x=At(z=>Qz(z,"xAxis",a,b)),S=At(z=>Qz(z,"yAxis",o,b));if(!Ls(d)||!Ls(f)||!_t(s)||!_t(c))return null;var A=i.verticalCoordinatesGenerator||DCe,T=i.horizontalCoordinatesGenerator||MCe,{horizontalPoints:E,verticalPoints:k}=i;if((!E||!E.length)&&typeof T=="function"){var D=m&&m.length,M=T({yAxis:S?Hi(Hi({},S),{},{ticks:D?m:S.ticks}):void 0,width:e??d,height:n??f,offset:r},D?!0:h);e0(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(E=M)}if((!k||!k.length)&&typeof A=="function"){var R=v&&v.length,N=A({xAxis:x?Hi(Hi({},x),{},{ticks:R?v:x.ticks}):void 0,width:e??d,height:n??f,offset:r},R?!0:h);e0(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(k=N)}return w.createElement(Qo,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(ECe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(PCe,Zu({},i,{horizontalPoints:E})),w.createElement(OCe,Zu({},i,{verticalPoints:k})),w.createElement(TCe,Zu({},i,{offset:r,horizontalPoints:E,xAxis:x,yAxis:S})),w.createElement(kCe,Zu({},i,{offset:r,verticalPoints:k,xAxis:x,yAxis:S}))))}x2.displayName="CartesianGrid";var jCe={},D7=Pa({name:"errorBars",initialState:jCe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Jke,replaceErrorBar:ePe,removeErrorBar:tPe}=D7.actions,LCe=D7.reducer,NCe=["children"];function ICe(t,e){if(t==null)return{};var n,r,i=zCe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var BCe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},$Ce=w.createContext(BCe);function FCe(t){var{children:e}=t,n=ICe(t,NCe);return w.createElement($Ce.Provider,{value:n},e)}function M7(t,e){var n,r,i=At(d=>$s(d,t)),a=At(d=>Fs(d,e)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ci.allowDataOverflow,s=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ui.allowDataOverflow,c=o||s;return{needClip:c,needClipX:o,needClipY:s}}function UCe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=v2(),{needClipX:a,needClipY:o,needClip:s}=M7(e,n);if(!s||!i)return null;var{x:c,y:d,width:f,height:h}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:a?c:c-f/2,y:o?d:d-h/2,width:a?f:f*2,height:o?h:h*2}))}var R7=(t,e,n,r)=>P9(t,"xAxis",e,r),j7=(t,e,n,r)=>k9(t,"xAxis",e,r),L7=(t,e,n,r)=>P9(t,"yAxis",n,r),N7=(t,e,n,r)=>k9(t,"yAxis",n,r),HCe=Re([mr,R7,L7,j7,N7],(t,e,n,r,i)=>Gl(t,"xAxis")?Jb(e,r,!1):Jb(n,i,!1)),VCe=(t,e,n,r,i)=>i;function qCe(t){return t.type==="line"}var GCe=Re([ZH,VCe],(t,e)=>t.filter(qCe).find(n=>n.id===e)),YCe=Re([mr,R7,L7,j7,N7,GCe,HCe,zO],(t,e,n,r,i,a,o,s)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:f}=s;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:h,data:m}=a,v;if(m!=null&&m.length>0?v=m:v=c?.slice(d,f+1),v!=null)return j_e({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:o,displayedData:v})}});function KCe(t){var e=Gx(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,o=Number(i),s=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}var v_={exports:{}},y_={};var r5;function WCe(){if(r5)return y_;r5=1;var t=Ch();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,s=t.useDebugValue;return y_.useSyncExternalStoreWithSelector=function(c,d,f,h,m){var v=i(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=o(function(){function S(D){if(!A){if(A=!0,T=D,D=h(D),m!==void 0&&b.hasValue){var M=b.value;if(m(M,D))return E=M}return E=D}if(M=E,n(T,D))return M;var R=h(D);return m!==void 0&&m(M,R)?(T=D,M):(T=D,E=R)}var A=!1,T,E,k=f===void 0?null:f;return[function(){return S(d())},k===null?void 0:function(){return S(k())}]},[d,f,h,m]);var x=r(c,v[0],v[1]);return a(function(){b.hasValue=!0,b.value=x},[x]),s(x),x},y_}var i5;function XCe(){return i5||(i5=1,v_.exports=WCe()),v_.exports}XCe();function ZCe(t){t()}function QCe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){ZCe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var a5={notify(){},get:()=>[]};function JCe(t,e){let n,r=a5,i=0,a=!1;function o(x){f();const S=r.subscribe(x);let A=!1;return()=>{A||(A=!0,S(),h())}}function s(){r.notify()}function c(){b.onStateChange&&b.onStateChange()}function d(){return a}function f(){i++,n||(n=t.subscribe(c),r=QCe())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=a5)}function m(){a||(a=!0,f())}function v(){a&&(a=!1,h())}const b={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:v,getListeners:()=>r};return b}var e_e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t_e=e_e(),n_e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",r_e=n_e(),i_e=()=>t_e||r_e?w.useLayoutEffect:w.useEffect,a_e=i_e();function o5(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function o_e(t,e){if(o5(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!o5(t[n[i]],e[n[i]]))return!1;return!0}var s_e=Symbol.for("react-redux-context"),l_e=typeof globalThis<"u"?globalThis:{};function c_e(){if(!w.createContext)return{};const t=l_e[s_e]??=new Map;let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var u_e=c_e();function d_e(t){const{children:e,context:n,serverState:r,store:i}=t,a=w.useMemo(()=>{const c=JCe(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=w.useMemo(()=>i.getState(),[i]);a_e(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const s=n||u_e;return w.createElement(s.Provider,{value:a},e)}var f_e=d_e,h_e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function p_e(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function w2(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(h_e.has(r)){if(t[r]==null&&e[r]==null)continue;if(!o_e(t[r],e[r]))return!1}else if(!p_e(t[r],e[r]))return!1;return!0}var m_e=["id"],g_e=["type","layout","connectNulls","needClip","shape"],v_e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(null,arguments)}function s5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s5(Object(n),!0).forEach(function(r){y_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y_e(t,e,n){return(e=b_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b_e(t){var e=x_e(t,"string");return typeof e=="symbol"?e:e+""}function x_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S2(t,e){if(t==null)return{};var n,r,i=w_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function w_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var S_e=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:w8(n,e),payload:t}]},A_e=w.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:s,unit:c,tooltipType:d,id:f}=t,h={dataDefinedOnItem:n,getPosition:zh,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:w8(o,e),hide:s,type:d,color:r,unit:c,graphicalItemId:f}};return w.createElement(kSe,{tooltipEntrySettings:h})}),I7=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function C_e(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var __e=(t,e,n)=>{var r=n.reduce((v,b)=>v+b);if(!r)return I7(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,s=[],c=0,d=0;c<n.length;d+=(f=n[c])!==null&&f!==void 0?f:0,++c){var f,h=n[c];if(h!=null&&d+h>a){s=[...n.slice(0,c),a-d];break}}var m=s.length%2===0?[0,o]:[o];return[...C_e(n,i),...s,...m].map(v=>"".concat(v,"px")).join(", ")};function E_e(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r,{id:s}=r,c=S2(r,m_e),d=Rs(c);return w.createElement(XSe,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:o,clipPathId:e})}function T_e(t){var{showLabels:e,children:n,points:r}=t,i=w.useMemo(()=>r?.map(a=>{var o,s,c={x:(o=a.x)!==null&&o!==void 0?o:0,y:(s=a.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return xs(xs({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(nSe,{value:e?i:void 0},n)}function l5(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:o,layout:s,connectNulls:c,needClip:d,shape:f}=a,h=S2(a,g_e),m=xs(xs({},ji(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:s,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return w.createElement(w.Fragment,null,r?.length>1&&w.createElement(TSe,ag({shapeType:"curve",option:f},m,{pathRef:n})),w.createElement(E_e,{points:r,clipPathId:e,props:a}))}function k_e(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function P_e(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:s,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:h,animateNewValues:m,width:v,height:b,onAnimationEnd:x,onAnimationStart:S}=n,A=i.current,T=hO(o,"recharts-line-"),E=w.useRef(T),[k,D]=w.useState(!1),M=!k,R=w.useCallback(()=>{typeof x=="function"&&x(),D(!1)},[x]),N=w.useCallback(()=>{typeof S=="function"&&S(),D(!0)},[S]),z=k_e(r.current),q=w.useRef(0);E.current!==T&&(q.current=a.current,E.current=T);var Y=q.current;return w.createElement(T_e,{points:o,showLabels:M},n.children,w.createElement(fO,{animationId:T,begin:d,duration:f,isActive:c,easing:h,onAnimationEnd:R,onAnimationStart:N,key:T},K=>{var te=Ca(Y,z+Y,K),W=Math.min(te,z),J;if(c)if(s){var L="".concat(s).split(/[,\s]+/gim).map(V=>parseFloat(V));J=__e(W,z,L)}else J=I7(z,W);else J=s==null?void 0:String(s);if(K>0&&z>0&&(i.current=o,a.current=Math.max(a.current,W)),A){var U=A.length/o.length,F=K===1?o:o.map((V,G)=>{var $=Math.floor(G*U);if(A[$]){var X=A[$];return xs(xs({},V),{},{x:Ca(X.x,V.x,K),y:Ca(X.y,V.y,K)})}return m?xs(xs({},V),{},{x:Ca(v*2,V.x,K),y:Ca(b/2,V.y,K)}):xs(xs({},V),{},{x:V.x,y:V.y})});return i.current=F,w.createElement(l5,{props:n,points:F,clipPathId:e,pathRef:r,strokeDasharray:J})}return w.createElement(l5,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:J})}),w.createElement(aSe,{label:n.label}))}function O_e(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),i=w.useRef(0),a=w.useRef(null);return w.createElement(P_e,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var D_e=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Mi(t.payload,e)}};class M_e extends w.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:o,top:s,left:c,width:d,height:f,id:h,needClip:m,zIndex:v}=this.props;if(e)return null;var b=Pt("recharts-line",i),x=h,{r:S,strokeWidth:A}=KCe(n),T=b7(n),E=S*2+A,k=m?"url(#clipPath-".concat(T?"":"dots-").concat(x,")"):void 0;return w.createElement(Qo,{zIndex:v},w.createElement(js,{className:b},m&&w.createElement("defs",null,w.createElement(UCe,{clipPathId:x,xAxisId:a,yAxisId:o}),!T&&w.createElement("clipPath",{id:"clipPath-dots-".concat(x)},w.createElement("rect",{x:c-E/2,y:s-E/2,width:d+E,height:f+E}))),w.createElement(FCe,{xAxisId:a,yAxisId:o,data:r,dataPointFormatter:D_e,errorBarOffset:0},w.createElement(O_e,{props:this.props,clipPathId:x}))),w.createElement(gAe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var z7={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Oi.line,type:"linear"};function R_e(t){var e=pi(t,z7),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:c,hide:d,isAnimationActive:f,label:h,legendType:m,xAxisId:v,yAxisId:b,id:x}=e,S=S2(e,v_e),{needClip:A}=M7(v,b),T=v2(),E=Bh(),k=Xi(),D=At(q=>YCe(q,v,b,k,x));if(E!=="horizontal"&&E!=="vertical"||D==null||T==null)return null;var{height:M,width:R,x:N,y:z}=T;return w.createElement(M_e,ag({},S,{id:x,connectNulls:s,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:f,hide:d,label:h,legendType:m,xAxisId:v,yAxisId:b,points:D,layout:E,height:M,width:R,left:N,top:z,needClip:A}))}function j_e(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:c}=t;return c.map((d,f)=>{var h=Mi(d,o);if(e==="horizontal"){var m=ZI({axis:n,ticks:i,bandSize:s,entry:d,index:f}),v=Li(h)?null:r.scale.map(h);return{x:m,y:v??null,value:h,payload:d}}var b=Li(h)?null:n.scale.map(h),x=ZI({axis:r,ticks:a,bandSize:s,entry:d,index:f});return b==null||x==null?null:{x:b,y:x,value:h,payload:d}}).filter(Boolean)}function L_e(t){var e=pi(t,z7),n=Xi();return w.createElement(jSe,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(PSe,{legendPayload:S_e(e)}),w.createElement(A_e,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),w.createElement(FSe,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(R_e,ag({},e,{id:r}))))}var A2=w.memo(L_e,w2);A2.displayName="Line";var N_e=["domain","range"],I_e=["domain","range"];function c5(t,e){if(t==null)return{};var n,r,i=z_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function z_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function u5(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function B7(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=c5(t,N_e),{domain:a,range:o}=e,s=c5(e,I_e);return!u5(n,a)||!u5(r,o)?!1:w2(i,s)}var B_e=["type"],$_e=["dangerouslySetInnerHTML","ticks","scale"],F_e=["id","scale"];function lT(){return lT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lT.apply(null,arguments)}function d5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d5(Object(n),!0).forEach(function(r){U_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U_e(t,e,n){return(e=H_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H_e(t){var e=V_e(t,"string");return typeof e=="symbol"?e:e+""}function V_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cT(t,e){if(t==null)return{};var n,r,i=q_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function q_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function G_e(t){var e=Sr(),n=w.useRef(null),r=P8(),{type:i}=t,a=cT(t,B_e),o=Aw(r,"xAxis",i),s=w.useMemo(()=>{if(o!=null)return f5(f5({},a),{},{type:o})},[a,o]);return w.useLayoutEffect(()=>{s!=null&&(n.current===null?e(tAe(s)):n.current!==s&&e(nAe({prev:n.current,next:s})),n.current=s)},[s,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(rAe(n.current)),n.current=null)},[e]),null}var Y_e=t=>{var{xAxisId:e,className:n}=t,r=At(A8),i=Xi(),a="xAxis",o=At(A=>T9(A,a,e,i)),s=At(A=>C0e(A,e)),c=At(A=>O0e(A,e)),d=At(A=>YH(A,e));if(s==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h,scale:m}=t,v=cT(t,$_e),{id:b,scale:x}=d,S=cT(d,F_e);return w.createElement(b2,lT({},v,S,{x:c.x,y:c.y,width:s.width,height:s.height,className:Pt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},K_e={allowDataOverflow:ci.allowDataOverflow,allowDecimals:ci.allowDecimals,allowDuplicatedCategory:ci.allowDuplicatedCategory,angle:ci.angle,axisLine:Tl.axisLine,height:ci.height,hide:!1,includeHidden:ci.includeHidden,interval:ci.interval,label:!1,minTickGap:ci.minTickGap,mirror:ci.mirror,orientation:ci.orientation,padding:ci.padding,reversed:ci.reversed,scale:ci.scale,tick:ci.tick,tickCount:ci.tickCount,tickLine:Tl.tickLine,tickSize:Tl.tickSize,type:ci.type,xAxisId:0},W_e=t=>{var e=pi(t,K_e);return w.createElement(w.Fragment,null,w.createElement(G_e,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(Y_e,e))},C2=w.memo(W_e,B7);C2.displayName="XAxis";var X_e=["type"],Z_e=["dangerouslySetInnerHTML","ticks","scale"],Q_e=["id","scale"];function uT(){return uT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uT.apply(null,arguments)}function h5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h5(Object(n),!0).forEach(function(r){J_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J_e(t,e,n){return(e=eEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eEe(t){var e=tEe(t,"string");return typeof e=="symbol"?e:e+""}function tEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dT(t,e){if(t==null)return{};var n,r,i=nEe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rEe(t){var e=Sr(),n=w.useRef(null),r=P8(),{type:i}=t,a=dT(t,X_e),o=Aw(r,"yAxis",i),s=w.useMemo(()=>{if(o!=null)return p5(p5({},a),{},{type:o})},[o,a]);return w.useLayoutEffect(()=>{s!=null&&(n.current===null?e(iAe(s)):n.current!==s&&e(aAe({prev:n.current,next:s})),n.current=s)},[s,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(oAe(n.current)),n.current=null)},[e]),null}function iEe(t){var{yAxisId:e,className:n,width:r,label:i}=t,a=w.useRef(null),o=w.useRef(null),s=At(A8),c=Xi(),d=Sr(),f="yAxis",h=At(M=>R0e(M,e)),m=At(M=>M0e(M,e)),v=At(M=>T9(M,f,e,c)),b=At(M=>KH(M,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!h||m2(i)||w.isValidElement(i)||b==null)){var M=a.current;if(M){var R=M.getCalculatedWidth();Math.round(h.width)!==Math.round(R)&&d(sAe({id:e,width:R}))}}},[v,h,d,i,e,r,b]),h==null||m==null||b==null)return null;var{dangerouslySetInnerHTML:x,ticks:S,scale:A}=t,T=dT(t,Z_e),{id:E,scale:k}=b,D=dT(b,Q_e);return w.createElement(b2,uT({},T,D,{ref:a,labelRef:o,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:h.width,height:h.height,className:Pt("recharts-".concat(f," ").concat(f),n),viewBox:s,ticks:v,axisType:f}))}var aEe={allowDataOverflow:ui.allowDataOverflow,allowDecimals:ui.allowDecimals,allowDuplicatedCategory:ui.allowDuplicatedCategory,angle:ui.angle,axisLine:Tl.axisLine,hide:!1,includeHidden:ui.includeHidden,interval:ui.interval,label:!1,minTickGap:ui.minTickGap,mirror:ui.mirror,orientation:ui.orientation,padding:ui.padding,reversed:ui.reversed,scale:ui.scale,tick:ui.tick,tickCount:ui.tickCount,tickLine:Tl.tickLine,tickSize:Tl.tickSize,type:ui.type,width:ui.width,yAxisId:0},oEe=t=>{var e=pi(t,aEe);return w.createElement(w.Fragment,null,w.createElement(rEe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(iEe,e))},D0=w.memo(oEe,B7);D0.displayName="YAxis";var sEe=(t,e)=>e,_2=Re([sEe,mr,VH,vi,q9,Xl,Kxe,Ni],twe),E2=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},$7=_o("mouseClick"),F7=Tg();F7.startListening({actionCreator:$7,effect:(t,e)=>{var n=t.payload,r=_2(e.getState(),E2(n));r?.activeIndex!=null&&e.dispatch(G0e({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var fT=_o("mouseMove"),U7=Tg(),Uy=null;U7.startListening({actionCreator:fT,effect:(t,e)=>{var n=t.payload;Uy!==null&&cancelAnimationFrame(Uy);var r=E2(n);Uy=requestAnimationFrame(()=>{var i=e.getState(),a=r2(i,i.tooltip.settings.shared);if(a==="axis"){var o=_2(i,r);o?.activeIndex!=null?e.dispatch(N9({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(L9())}Uy=null})}});function lEe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var m5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},H7=Pa({name:"rootProps",initialState:m5,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:m5.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),cEe=H7.reducer,{updateOptions:uEe}=H7.actions,dEe=null,fEe={updatePolarOptions:(t,e)=>e.payload},V7=Pa({name:"polarOptions",initialState:dEe,reducers:fEe}),{updatePolarOptions:nPe}=V7.actions,hEe=V7.reducer,q7=_o("keyDown"),G7=_o("focus"),T2=Tg();T2.startListening({actionCreator:q7,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=i2(i,Kh(n),zg(n),$g(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var c=Xl(n);if(a==="Enter"){var d=A0(n,"axis","hover",String(i.index));e.dispatch(nT({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var f=I0e(n),h=f==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,v=s+m*h;if(!(c==null||v>=c.length||v<0)){var b=A0(n,"axis","hover",String(v));e.dispatch(nT({active:!0,activeIndex:v.toString(),activeCoordinate:b}))}}}}}});T2.startListening({actionCreator:G7,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=A0(n,"axis","hover",String(a));e.dispatch(nT({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var go=_o("externalEvent"),Y7=Tg(),b_=new Map;Y7.startListening({actionCreator:go,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=b_.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var s=e.getState(),c={activeCoordinate:Mxe(s),activeDataKey:Oxe(s),activeIndex:ng(s),activeLabel:K9(s),activeTooltipIndex:ng(s),isTooltipActive:Rxe(s)};n(c,r)}finally{b_.delete(i)}});b_.set(i,o)}}});var pEe=Re([Gh],t=>t.tooltipItemPayloads),mEe=Re([pEe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),K7=_o("touchMove"),W7=Tg();W7.startListening({actionCreator:K7,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=r2(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var o=_2(r,E2({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&e.dispatch(N9({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(mpe),h=(s=d.getAttribute(gpe))!==null&&s!==void 0?s:void 0,m=Yh(r).find(x=>x.id===h);if(f==null||m==null||h==null)return;var{dataKey:v}=m,b=mEe(r,f,h);e.dispatch(q0e({activeDataKey:v,activeIndex:f,activeCoordinate:b,activeGraphicalItemId:h}))}}}});var gEe=VU({brush:yAe,cartesianAxis:lAe,chartData:Rwe,errorBars:LCe,graphicalItems:BSe,layout:epe,legend:cme,options:kwe,polarAxis:sSe,polarOptions:hEe,referenceElements:TAe,rootProps:cEe,tooltip:Y0e,zIndex:mwe}),vEe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return _he({reducer:gEe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([F7.middleware,U7.middleware,T2.middleware,Y7.middleware,W7.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(a8({type:"raf"}))},devTools:{serialize:{replacer:lEe},name:"recharts-".concat(n)}})};function yEe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Xi(),a=w.useRef(null);if(i)return n;a.current==null&&(a.current=vEe(e,r));var o=QP;return w.createElement(f_e,{context:o,store:a.current},n)}function bEe(t){var{layout:e,margin:n}=t,r=Sr(),i=Xi();return w.useEffect(()=>{i||(r(Zhe(e)),r(Xhe(n)))},[r,i,e,n]),null}var xEe=w.memo(bEe,w2);function wEe(t){var e=Sr();return w.useEffect(()=>{e(uEe(t))},[e,t]),null}function g5(t){var{zIndex:e,isPanorama:n}=t,r=w.useRef(null),i=Sr();return w.useLayoutEffect(()=>(r.current&&i(hwe({zIndex:e,element:r.current,isPanorama:n})),()=>{i(pwe({zIndex:e,isPanorama:n}))}),[i,e,n]),w.createElement("g",{tabIndex:-1,ref:r})}function v5(t){var{children:e,isPanorama:n}=t,r=At(rwe);if(!r||r.length===0)return e;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return w.createElement(w.Fragment,null,i.map(o=>w.createElement(g5,{key:o,zIndex:o,isPanorama:n})),e,a.map(o=>w.createElement(g5,{key:o,zIndex:o,isPanorama:n})))}var SEe=["children"];function AEe(t,e){if(t==null)return{};var n,r,i=CEe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function CEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M0.apply(null,arguments)}var _Ee={width:"100%",height:"100%",display:"block"},EEe=w.forwardRef((t,e)=>{var n=sO(),r=lO(),i=z8();if(!Ls(n)||!Ls(r))return null;var{children:a,otherAttributes:o,title:s,desc:c}=t,d,f;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?f=o.role:f=i?"application":void 0),w.createElement(FP,M0({},o,{title:s,desc:c,role:f,tabIndex:d,width:n,height:r,style:_Ee,ref:e}),a)}),TEe=t=>{var{children:e}=t,n=At(uw);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return w.createElement(FP,{width:r,height:i,x:o,y:a},e)},y5=w.forwardRef((t,e)=>{var{children:n}=t,r=AEe(t,SEe),i=Xi();return i?w.createElement(TEe,null,w.createElement(v5,{isPanorama:!0},n)):w.createElement(EEe,M0({ref:e},r),w.createElement(v5,{isPanorama:!1},n))});function kEe(){var t=Sr(),[e,n]=w.useState(null),r=At(ppe);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Qt(a)&&a!==r&&t(Jhe(a))}},[e,t,r]),n}function b5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b5(Object(n),!0).forEach(function(r){OEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OEe(t,e,n){return(e=DEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DEe(t){var e=MEe(t,"string");return typeof e=="symbol"?e:e+""}function MEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vc.apply(null,arguments)}var REe=()=>(Uwe(),null);function R0(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var jEe=w.forwardRef((t,e)=>{var n,r,i=w.useRef(null),[a,o]=w.useState({containerWidth:R0((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:R0((r=t.style)===null||r===void 0?void 0:r.height)}),s=w.useCallback((d,f)=>{o(h=>{var m=Math.round(d),v=Math.round(f);return h.containerWidth===m&&h.containerHeight===v?h:{containerWidth:m,containerHeight:v}})},[]),c=w.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=d.getBoundingClientRect();s(f,h);var m=b=>{var x=b[0];if(x!=null){var{width:S,height:A}=x.contentRect;s(S,A)}},v=new ResizeObserver(m);v.observe(d),i.current=v}},[e,s]);return w.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[s]),w.createElement(w.Fragment,null,w.createElement(Og,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",Vc({ref:c},t)))}),LEe=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=w.useState({containerWidth:R0(n),containerHeight:R0(r)}),o=w.useCallback((c,d)=>{a(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),s=w.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:f}=c.getBoundingClientRect();o(d,f)}},[e,o]);return w.createElement(w.Fragment,null,w.createElement(Og,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",Vc({ref:s},t)))}),NEe=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(Og,{width:n,height:r}),w.createElement("div",Vc({ref:e},t)))}),IEe=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?w.createElement(LEe,Vc({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?w.createElement(NEe,Vc({},t,{width:n,height:r,ref:e})):w.createElement(w.Fragment,null,w.createElement(Og,{width:n,height:r}),w.createElement("div",Vc({ref:e},t)))});function zEe(t){return t?jEe:IEe}var BEe=w.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:h,onMouseUp:m,onTouchEnd:v,onTouchMove:b,onTouchStart:x,style:S,width:A,responsive:T,dispatchTouchEvents:E=!0}=t,k=w.useRef(null),D=Sr(),[M,R]=w.useState(null),[N,z]=w.useState(null),q=kEe(),Y=aO(),K=Y?.width>0?Y.width:A,te=Y?.height>0?Y.height:i,W=w.useCallback(ie=>{q(ie),typeof e=="function"&&e(ie),R(ie),z(ie),ie!=null&&(k.current=ie)},[q,e,R,z]),J=w.useCallback(ie=>{D($7(ie)),D(go({handler:a,reactEvent:ie}))},[D,a]),L=w.useCallback(ie=>{D(fT(ie)),D(go({handler:d,reactEvent:ie}))},[D,d]),U=w.useCallback(ie=>{D(L9()),D(go({handler:f,reactEvent:ie}))},[D,f]),F=w.useCallback(ie=>{D(fT(ie)),D(go({handler:h,reactEvent:ie}))},[D,h]),V=w.useCallback(()=>{D(G7())},[D]),G=w.useCallback(ie=>{D(q7(ie.key))},[D]),$=w.useCallback(ie=>{D(go({handler:o,reactEvent:ie}))},[D,o]),X=w.useCallback(ie=>{D(go({handler:s,reactEvent:ie}))},[D,s]),ne=w.useCallback(ie=>{D(go({handler:c,reactEvent:ie}))},[D,c]),ae=w.useCallback(ie=>{D(go({handler:m,reactEvent:ie}))},[D,m]),oe=w.useCallback(ie=>{D(go({handler:x,reactEvent:ie}))},[D,x]),xe=w.useCallback(ie=>{E&&D(K7(ie)),D(go({handler:b,reactEvent:ie}))},[D,E,b]),be=w.useCallback(ie=>{D(go({handler:v,reactEvent:ie}))},[D,v]),ze=zEe(T);return w.createElement(t7.Provider,{value:M},w.createElement(oU.Provider,{value:N},w.createElement(ze,{width:K??S?.width,height:te??S?.height,className:Pt("recharts-wrapper",r),style:PEe({position:"relative",cursor:"default",width:K,height:te},S),onClick:J,onContextMenu:$,onDoubleClick:X,onFocus:V,onKeyDown:G,onMouseDown:ne,onMouseEnter:L,onMouseLeave:U,onMouseMove:F,onMouseUp:ae,onTouchEnd:be,onTouchMove:xe,onTouchStart:oe,ref:W},w.createElement(REe,null),n)))}),$Ee=["width","height","responsive","children","className","style","compact","title","desc"];function FEe(t,e){if(t==null)return{};var n,r,i=UEe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function UEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var HEe=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:s,compact:c,title:d,desc:f}=t,h=FEe(t,$Ee),m=Rs(h);return c?w.createElement(w.Fragment,null,w.createElement(Og,{width:n,height:r}),w.createElement(y5,{otherAttributes:m,title:d,desc:f},a)):w.createElement(BEe,{className:o,style:s,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(y5,{otherAttributes:m,title:d,desc:f,ref:e},w.createElement(kAe,null,a)))});function hT(){return hT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hT.apply(null,arguments)}var VEe={top:5,right:5,bottom:5,left:5},qEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:VEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},GEe=w.forwardRef(function(e,n){var r,i=pi(e.categoricalChartProps,qEe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,f={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,eventEmitter:void 0};return w.createElement(yEe,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},w.createElement(vAe,{chartData:d.data}),w.createElement(xEe,{layout:i.layout,margin:i.margin}),w.createElement(wEe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(HEe,hT({},i,{ref:n})))}),YEe=["axis"],X7=w.forwardRef((t,e)=>w.createElement(GEe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:YEe,tooltipPayloadSearcher:Ewe,categoricalChartProps:t,ref:e}));function KEe(t){return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"2-digit"})}function WEe({active:t,payload:e,label:n}){if(!t||!e||e.length===0)return null;const r=e[0].payload;return g.jsx(Lt,{shadow:"md",p:"sm",withBorder:!0,children:g.jsxs(it,{gap:"xs",children:[g.jsx(ce,{size:"sm",fw:500,children:n}),g.jsxs(Be,{gap:"xs",children:[g.jsx(ce,{size:"sm",children:"Value:"}),g.jsxs(ce,{size:"sm",fw:500,children:[r.value," ",r.unit]})]}),r.referenceRange&&g.jsxs(Be,{gap:"xs",children:[g.jsx(ce,{size:"sm",c:"dimmed",children:"Reference:"}),g.jsxs(ce,{size:"sm",c:"dimmed",children:[r.referenceRange.low," - ",r.referenceRange.high]})]}),r.labName&&g.jsx(ce,{size:"xs",c:"dimmed",children:r.labName}),g.jsx(fn,{size:"xs",color:r.status==="high"?"red":r.status==="low"?"orange":r.status==="normal"?"green":"gray",children:r.status||"unknown"})]})})}function XEe({direction:t}){const e=t.direction==="increasing"?g.jsx(kF,{size:16}):t.direction==="decreasing"?g.jsx(Xne,{size:16}):t.direction==="stable"?g.jsx(aP,{size:16}):g.jsx(la,{size:16}),n=t.direction==="increasing"?"blue":t.direction==="decreasing"?"orange":t.direction==="stable"?"green":"gray";return g.jsxs(Be,{gap:"xs",children:[g.jsx(fn,{leftSection:e,color:n,variant:"light",children:t.direction==="insufficient_data"?"Need more data":t.direction.charAt(0).toUpperCase()+t.direction.slice(1)}),t.confidence>0&&g.jsxs(ce,{size:"xs",c:"dimmed",children:[Math.round(t.confidence*100),"% confidence"]})]})}function ZEe({dataPoints:t,biomarkerName:e,unit:n,referenceRange:r,trendDirection:i,isLoading:a=!1,height:o=300,showLegend:s=!1}){const c=w.useMemo(()=>t.map(f=>({...f,formattedDate:KEe(f.date),timestamp:f.date.getTime()})).sort((f,h)=>f.timestamp-h.timestamp),[t]),d=w.useMemo(()=>{if(c.length===0)return[0,100];const f=c.map(x=>x.value);let h=Math.min(...f),m=Math.max(...f);r?.low!==void 0&&(h=Math.min(h,r.low)),r?.high!==void 0&&(m=Math.max(m,r.high));const b=(m-h||1)*.1;return[Math.max(0,h-b),m+b]},[c,r]);return a?g.jsx(qa,{h:o,children:g.jsx(Ri,{})}):c.length===0?g.jsx(qa,{h:o,children:g.jsxs(it,{align:"center",gap:"xs",children:[g.jsx(la,{size:32,color:"gray"}),g.jsx(ce,{c:"dimmed",children:"No data available for this biomarker"})]})}):c.length===1?g.jsx(it,{children:g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsxs(it,{align:"center",gap:"md",children:[g.jsx(ce,{size:"lg",fw:500,children:e}),g.jsxs(Be,{gap:"xs",children:[g.jsx(ce,{size:"xl",fw:700,children:c[0].value}),g.jsx(ce,{size:"lg",c:"dimmed",children:n})]}),g.jsx(ce,{size:"sm",c:"dimmed",children:c[0].formattedDate}),g.jsx(fn,{color:c[0].status==="high"?"red":c[0].status==="low"?"orange":"green",children:c[0].status||"unknown"}),g.jsx(ce,{size:"sm",c:"dimmed",ta:"center",children:"More data needed for trend analysis"})]})})}):g.jsxs(it,{gap:"sm",children:[g.jsxs(Be,{justify:"space-between",children:[g.jsxs(ce,{size:"lg",fw:500,children:[e," (",n,")"]}),i&&g.jsx(XEe,{direction:i})]}),g.jsx(T8,{width:"100%",height:o,children:g.jsxs(X7,{data:c,margin:{top:10,right:30,left:10,bottom:10},children:[g.jsx(x2,{strokeDasharray:"3 3",opacity:.3}),g.jsx(C2,{dataKey:"formattedDate",tick:{fontSize:12},tickMargin:8}),g.jsx(D0,{domain:d,tick:{fontSize:12},tickMargin:8,label:{value:n,angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:12}}}),r?.low!==void 0&&r?.high!==void 0&&g.jsx(k7,{y1:r.low,y2:r.high,fill:"green",fillOpacity:.1,stroke:"green",strokeOpacity:.3,strokeDasharray:"3 3"}),r?.low!==void 0&&g.jsx(sT,{y:r.low,stroke:"orange",strokeDasharray:"3 3",label:{value:`Low: ${r.low}`,position:"right",fontSize:10,fill:"orange"}}),r?.high!==void 0&&g.jsx(sT,{y:r.high,stroke:"red",strokeDasharray:"3 3",label:{value:`High: ${r.high}`,position:"right",fontSize:10,fill:"red"}}),g.jsx(i7,{content:g.jsx(WEe,{})}),s&&g.jsx(dO,{}),g.jsx(A2,{type:"monotone",dataKey:"value",stroke:"#228be6",strokeWidth:2,dot:f=>{const{cx:h,cy:m,payload:v}=f,b=v.status,x=b==="high"?"#fa5252":b==="low"?"#fd7e14":b==="normal"?"#40c057":"#868e96";return g.jsx("circle",{cx:h,cy:m,r:6,fill:x,stroke:"#fff",strokeWidth:2,"aria-label":`${v.formattedDate}: ${v.value} ${v.unit} (${b})`})},activeDot:{r:8,stroke:"#228be6",strokeWidth:2,fill:"#fff"},name:e})]})})]})}function x5(t){if(!t)return null;if(t instanceof Date)return t;const e=new Date(t);return isNaN(e.getTime())?null:e}function QEe(t){const e=new Map;for(const r of t)e.has(r.category)||e.set(r.category,[]),e.get(r.category).push(r);const n=[];for(const[r,i]of e.entries()){const a=[...i].sort((o,s)=>s.dataPointCount!==o.dataPointCount?s.dataPointCount-o.dataPointCount:o.label.localeCompare(s.label));n.push({group:Ob[r]||r,items:a.map(o=>({value:o.value,label:`${o.label} (${o.dataPointCount} ${o.dataPointCount===1?"value":"values"})`,disabled:o.dataPointCount===0}))})}return n.sort((r,i)=>r.group.localeCompare(i.group))}function JEe({biomarkerOptions:t,selectedBiomarkerId:e,onBiomarkerChange:n,startDate:r,endDate:i,onStartDateChange:a,onEndDateChange:o,onReset:s,onCompare:c,showCompareButton:d=!0,disabled:f=!1}){const h=QEe(t),m=t.find(v=>v.value===e);return g.jsxs(it,{gap:"md",children:[g.jsx(Be,{grow:!0,children:g.jsx(qo,{label:"Select Biomarker",placeholder:"Choose a biomarker to visualize",data:h,value:e,onChange:n,searchable:!0,clearable:!0,disabled:f,nothingFoundMessage:"No biomarkers found","aria-label":"Select biomarker to view trend"})}),g.jsxs(Be,{grow:!0,children:[g.jsx(Yc,{label:"From Date",placeholder:"Start date",value:r,onChange:v=>a(x5(v)),maxDate:i||new Date,clearable:!0,disabled:f,"aria-label":"Filter from date"}),g.jsx(Yc,{label:"To Date",placeholder:"End date",value:i,onChange:v=>o(x5(v)),minDate:r||void 0,maxDate:new Date,clearable:!0,disabled:f,"aria-label":"Filter to date"})]}),g.jsxs(Be,{justify:"space-between",children:[g.jsxs(Be,{gap:"xs",children:[g.jsx(Dt,{variant:"subtle",size:"sm",leftSection:g.jsx(Zf,{size:16}),onClick:s,disabled:f,children:"Reset"}),d&&c&&g.jsx(Dt,{variant:"light",size:"sm",leftSection:g.jsx(Em,{size:16}),onClick:c,disabled:f||!e,children:"Compare Markers"})]}),m&&g.jsxs(ce,{size:"sm",c:"dimmed",children:["Showing ",m.dataPointCount," ",m.dataPointCount===1?"data point":"data points"]})]})]})}function Ru(t,e=1){return Math.abs(t)<.01?t.toExponential(1):t.toFixed(e)}function mm({label:t,value:e,unit:n,subtitle:r,color:i,icon:a}){return g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsxs(it,{gap:"xs",children:[g.jsxs(Be,{gap:"xs",children:[a&&g.jsx(Vn,{size:"sm",variant:"light",color:i||"blue",children:a}),g.jsx(ce,{size:"xs",c:"dimmed",tt:"uppercase",children:t})]}),g.jsxs(Be,{gap:"xs",align:"baseline",children:[g.jsx(ce,{size:"xl",fw:700,c:i,children:e}),n&&g.jsx(ce,{size:"sm",c:"dimmed",children:n})]}),r&&g.jsx(ce,{size:"xs",c:"dimmed",children:r})]})})}function eTe({statistics:t,rateOfChange:e,referenceRange:n}){const r=n?.low!==void 0&&n?.high!==void 0?t.latest>=n.low&&t.latest<=n.high:null,i=e&&Math.abs(e.percentageChange)>1?e.percentageChange>0?"up":"down":"stable";return g.jsxs(it,{gap:"md",children:[g.jsxs(Be,{gap:"xs",children:[g.jsx(Hte,{size:20}),g.jsx(ce,{fw:500,children:"Statistics Summary"})]}),g.jsxs(bx,{cols:{base:2,sm:3,md:5},spacing:"md",children:[g.jsx(mm,{label:"Latest Value",value:Ru(t.latest),unit:t.unit,subtitle:t.latestDate.toLocaleDateString(),color:r===!1?"red":r===!0?"green":void 0,icon:g.jsx(hh,{size:14})}),g.jsx(mm,{label:"Average",value:Ru(t.average),unit:t.unit}),g.jsx(mm,{label:"Minimum",value:Ru(t.min),unit:t.unit}),g.jsx(mm,{label:"Maximum",value:Ru(t.max),unit:t.unit}),g.jsx(mm,{label:"Total Readings",value:t.count,subtitle:`Std Dev: ${Ru(t.standardDeviation)}`})]}),e&&g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsxs(Be,{justify:"space-between",children:[g.jsxs(it,{gap:"xs",children:[g.jsx(ce,{size:"xs",c:"dimmed",tt:"uppercase",children:"Rate of Change"}),g.jsxs(Be,{gap:"xs",children:[i==="up"?g.jsx(tP,{size:20,color:"var(--mantine-color-blue-6)"}):i==="down"?g.jsx(eP,{size:20,color:"var(--mantine-color-orange-6)"}):g.jsx(aP,{size:20,color:"var(--mantine-color-gray-6)"}),g.jsxs(ce,{size:"lg",fw:500,children:[Math.abs(e.percentageChange).toFixed(1),"%"]}),g.jsx(ce,{size:"sm",c:"dimmed",children:"overall change"})]})]}),g.jsxs(Be,{gap:"lg",children:[g.jsxs(it,{gap:2,align:"center",children:[g.jsx(ce,{size:"xs",c:"dimmed",children:"Per Month"}),g.jsxs(fn,{color:Math.abs(e.perMonth)<.1?"gray":e.perMonth>0?"blue":"orange",variant:"light",children:[e.perMonth>=0?"+":"",Ru(e.perMonth)," ",e.unit]})]}),g.jsxs(it,{gap:2,align:"center",children:[g.jsx(ce,{size:"xs",c:"dimmed",children:"Per Week"}),g.jsxs(fn,{color:Math.abs(e.perWeek)<.1?"gray":e.perWeek>0?"blue":"orange",variant:"light",children:[e.perWeek>=0?"+":"",Ru(e.perWeek)," ",e.unit]})]})]})]})}),n&&(n.low!==void 0||n.high!==void 0)&&g.jsx(Lt,{p:"sm",withBorder:!0,bg:"gray.0",children:g.jsxs(Be,{gap:"md",children:[g.jsx(ce,{size:"sm",c:"dimmed",children:"Reference Range:"}),g.jsxs(fn,{variant:"outline",color:"green",children:[n.low!==void 0?n.low:""," -"," ",n.high!==void 0?n.high:""," ",t.unit]})]})})]})}const w5=["#228be6","#40c057","#fa5252","#fab005","#7950f2","#20c997","#fd7e14","#e64980"];function tTe(t){return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"2-digit"})}function nTe({active:t,payload:e,label:n,markers:r}){return!t||!e||e.length===0?null:g.jsx(Lt,{shadow:"md",p:"sm",withBorder:!0,children:g.jsxs(it,{gap:"xs",children:[g.jsx(ce,{size:"sm",fw:500,children:n}),e.map(i=>{const a=r.find(o=>o.name===i.dataKey);return g.jsxs(Be,{gap:"xs",children:[g.jsx(rx,{color:i.color,size:12}),g.jsxs(ce,{size:"sm",children:[i.dataKey,": ",i.value," ",a?.unit||""]})]},i.dataKey)})]})})}function rTe({markers:t,isLoading:e=!1,height:n=400}){const r=w.useMemo(()=>{const c=new Map;for(const d of t)for(const f of d.dataPoints){const h=tTe(f.date);c.has(h)||c.set(h,{timestamp:f.date.getTime()}),c.get(h)[d.name]=f.value}return Array.from(c.entries()).map(([d,f])=>({formattedDate:d,...f})).sort((d,f)=>d.timestamp-f.timestamp)},[t]),i=w.useMemo(()=>{const c=new Set(t.map(d=>d.unit));return Array.from(c)},[t]),a=i.length===2,o=w.useMemo(()=>{const c={};for(const d of i){const h=t.filter(S=>S.unit===d).flatMap(S=>S.dataPoints.map(A=>A.value));if(h.length===0){c[d]=[0,100];continue}const m=Math.min(...h),v=Math.max(...h),x=(v-m||1)*.1;c[d]=[Math.max(0,m-x),v+x]}return c},[t,i]),s=w.useMemo(()=>t.map((c,d)=>({...c,color:c.color||w5[d%w5.length]})),[t]);return e?g.jsx(qa,{h:n,children:g.jsx(Ri,{})}):t.length===0||r.length===0?g.jsx(qa,{h:n,children:g.jsxs(it,{align:"center",gap:"xs",children:[g.jsx(la,{size:32,color:"gray"}),g.jsx(ce,{c:"dimmed",children:"Select biomarkers to compare"})]})}):g.jsxs(it,{gap:"md",children:[g.jsxs(Be,{justify:"space-between",children:[g.jsx(ce,{size:"lg",fw:500,children:"Biomarker Comparison"}),g.jsx(Be,{gap:"md",children:s.map(c=>g.jsxs(Be,{gap:"xs",children:[g.jsx(rx,{color:c.color,size:14}),g.jsxs(ce,{size:"sm",children:[c.name," (",c.unit,")"]})]},c.name))})]}),g.jsx(T8,{width:"100%",height:n,children:g.jsxs(X7,{data:r,margin:{top:10,right:a?60:30,left:10,bottom:10},children:[g.jsx(x2,{strokeDasharray:"3 3",opacity:.3}),g.jsx(C2,{dataKey:"formattedDate",tick:{fontSize:12},tickMargin:8}),g.jsx(D0,{yAxisId:"left",orientation:"left",domain:o[i[0]]||[0,100],tick:{fontSize:12},tickMargin:8,label:{value:i[0]||"",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:12}}}),a&&g.jsx(D0,{yAxisId:"right",orientation:"right",domain:o[i[1]]||[0,100],tick:{fontSize:12},tickMargin:8,label:{value:i[1]||"",angle:90,position:"insideRight",style:{textAnchor:"middle",fontSize:12}}}),g.jsx(i7,{content:c=>g.jsx(nTe,{...c,markers:s})}),g.jsx(dO,{}),s.map(c=>g.jsx(A2,{type:"monotone",dataKey:c.name,stroke:c.color,strokeWidth:2,dot:{r:4,fill:c.color},activeDot:{r:6,stroke:c.color,strokeWidth:2,fill:"#fff"},yAxisId:a&&c.unit===i[1]?"right":"left",connectNulls:!0},c.name))]})}),a&&g.jsx(Lt,{p:"sm",withBorder:!0,bg:"gray.0",children:g.jsxs(Be,{gap:"lg",children:[g.jsx(ce,{size:"sm",c:"dimmed",children:"Note: Chart uses dual axes due to different units."}),g.jsxs(Be,{gap:"md",children:[g.jsxs(fn,{variant:"outline",children:["Left: ",i[0]]}),g.jsxs(fn,{variant:"outline",children:["Right: ",i[1]]})]})]})})]})}const S5=["#228be6","#40c057","#fa5252","#fab005","#7950f2","#20c997"];function iTe({onNavigateToImport:t}={}){const{results:e,isLoading:n,error:r}=fP(),{alerts:i}=tie(),{createNote:a,updateNote:o,deleteNote:s,getNotesForBiomarker:c}=jF(),[d,f]=w.useState(null),[h,m]=w.useState(null),[v,b]=w.useState(null),[x,S]=w.useState(!1),[A,T]=w.useState([]),E=w.useMemo(()=>d?c(parseInt(d)):[],[d,c]),k=w.useCallback(async(L,U)=>{d&&await a({biomarkerId:parseInt(d),content:L,tags:U})},[d,a]),D=w.useCallback(async(L,U,F)=>{await o(L,{content:U,tags:F})},[o]),M=w.useCallback(async L=>{await s(L)},[s]),R=w.useMemo(()=>{const L=new Map;for(const U of e)for(const F of U.testValues){if(typeof F.value!="number")continue;const V=F.biomarkerId,G=Bs(F.rawText||"");if(!L.has(V)){const xe=G?.canonicalUnit||F.unit;L.set(V,{name:G?.name||F.rawText||`Biomarker ${V}`,unit:xe,category:G?.category||"other",dataPoints:[],labInfoMap:new Map})}const $=L.get(V);$.labInfoMap.set(F.labResultId,{date:U.date,labName:U.labName});let X=F.value,ne=F.referenceRangeLow,ae=F.referenceRangeHigh;const oe=G?.name||F.rawText||"";if(F.unit!==$.unit&&oe)if(jP(oe,F.unit,$.unit))try{X=tb(oe,F.value,F.unit,$.unit).convertedValue,F.referenceRangeLow!==void 0&&(ne=tb(oe,F.referenceRangeLow,F.unit,$.unit).convertedValue),F.referenceRangeHigh!==void 0&&(ae=tb(oe,F.referenceRangeHigh,F.unit,$.unit).convertedValue)}catch(xe){console.warn(`[HemoIO] Unit conversion failed for ${oe}: ${F.unit}  ${$.unit}`,xe)}else console.debug(`[HemoIO] Cannot convert ${oe} from ${F.unit} to ${$.unit}`);$.dataPoints.push({date:U.date,value:X,unit:$.unit,status:F.status,referenceRange:{low:ne,high:ae},labName:U.labName})}for(const U of L.values())U.dataPoints.sort((F,V)=>F.date.getTime()-V.date.getTime());return L},[e]),N=w.useMemo(()=>{const L=[];for(const[U,F]of R.entries())L.push({value:U.toString(),label:F.name,category:F.category,dataPointCount:F.dataPoints.length});return L.sort((U,F)=>F.dataPointCount-U.dataPointCount)},[R]),z=w.useMemo(()=>d&&R.get(parseInt(d))||null,[d,R]),q=w.useMemo(()=>{if(!z)return[];let L=[...z.dataPoints];return h&&(L=L.filter(U=>U.date>=h)),v&&(L=L.filter(U=>U.date<=v)),L},[z,h,v]),Y=w.useMemo(()=>{if(q.length<2)return null;try{return RF(q)}catch{return null}},[q]),K=w.useMemo(()=>{if(q.length!==0)return q[0].referenceRange},[q]),te=w.useCallback(()=>{f(null),m(null),b(null)},[]),W=w.useCallback(()=>{d&&T([d]),S(!0)},[d]),J=w.useMemo(()=>A.map((L,U)=>{const F=R.get(parseInt(L));if(!F)return null;let V=[...F.dataPoints];return h&&(V=V.filter(G=>G.date>=h)),v&&(V=V.filter(G=>G.date<=v)),{name:F.name,unit:F.unit,dataPoints:V,color:S5[U%S5.length]}}).filter(L=>L!==null),[A,R,h,v]);return n?g.jsx(qa,{h:400,children:g.jsxs(it,{align:"center",gap:"md",children:[g.jsx(Ri,{size:"lg"}),g.jsx(ce,{c:"dimmed",children:"Loading trend data..."})]})}):r?g.jsx(Kt,{color:"red",icon:g.jsx(la,{size:16}),title:"Error loading data",children:r}):e.length===0?g.jsx(qa,{h:400,children:g.jsxs(it,{align:"center",gap:"md",children:[g.jsx(kF,{size:48,color:"gray"}),g.jsx(Yi,{order:3,c:"dimmed",children:"No Lab Results Yet"}),g.jsx(ce,{c:"dimmed",ta:"center",children:"Import lab results to see trends and analytics."}),t&&g.jsx(Dt,{onClick:t,leftSection:g.jsx(Em,{size:16}),children:"Import Lab Results"})]})}):g.jsxs(it,{gap:"lg",children:[g.jsxs(Be,{justify:"space-between",children:[g.jsxs(Be,{gap:"xs",children:[g.jsx(Em,{size:24}),g.jsx(Yi,{order:2,children:"Trends"})]}),i.length>0&&g.jsxs(ce,{size:"sm",c:"dimmed",children:[i.filter(L=>L.type!=="improvement").length," alerts"]})]}),g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsx(JEe,{biomarkerOptions:N,selectedBiomarkerId:d,onBiomarkerChange:f,startDate:h,endDate:v,onStartDateChange:m,onEndDateChange:b,onReset:te,onCompare:W,showCompareButton:N.length>=2})}),d?z&&q.length===0?g.jsx(Kt,{color:"yellow",icon:g.jsx(la,{size:16}),children:"No data found for the selected date range. Try adjusting the filters."}):g.jsxs(g.Fragment,{children:[g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsx(ZEe,{dataPoints:q,biomarkerName:z?.name||"",unit:z?.unit||"",referenceRange:K,trendDirection:Y?.direction,height:350})}),Y&&g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsx(eTe,{statistics:Y.statistics,rateOfChange:Y.rateOfChange,referenceRange:K})}),g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsx(B6,{title:`Notes for ${z?.name||"Biomarker"}`,notes:E,onCreateNote:k,onUpdateNote:D,onDeleteNote:M,editorPlaceholder:`Add a note about ${z?.name||"this biomarker"}...`})})]}):g.jsx(Lt,{p:"xl",withBorder:!0,children:g.jsx(qa,{children:g.jsxs(it,{align:"center",gap:"md",children:[g.jsx(Em,{size:48,color:"gray"}),g.jsx(ce,{size:"lg",c:"dimmed",ta:"center",children:"Select a biomarker to view its trend"}),g.jsxs(ce,{size:"sm",c:"dimmed",ta:"center",children:["Choose from ",N.length," available biomarkers"]})]})})}),g.jsx(Kr,{opened:x,onClose:()=>S(!1),title:"Compare Biomarkers",size:"xl",children:g.jsxs(it,{gap:"md",children:[g.jsx(hx,{label:"Select biomarkers to compare",placeholder:"Choose up to 4 biomarkers",data:N.map(L=>({value:L.value,label:`${L.label} (${L.dataPointCount} values)`})),value:A,onChange:L=>T(L.slice(0,4)),maxValues:4,searchable:!0,clearable:!0}),J.length>0&&g.jsx(rTe,{markers:J,height:400}),g.jsx(Be,{justify:"flex-end",children:g.jsx(Dt,{variant:"subtle",onClick:()=>S(!1),children:"Close"})})]})})]})}function ub(t,e="iso"){switch(e){case"us":return`${t.getMonth()+1}/${t.getDate()}/${t.getFullYear()}`;case"eu":return`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`;default:return t.toISOString().split("T")[0]}}function aTe(t){if(t==null)return"";const e=String(t);return e.includes(",")||e.includes('"')||e.includes(`
`)?`"${e.replace(/"/g,'""')}"`:e}function oTe(t){const e=["Date","Lab Name","Biomarker","Value","Unit"];return t.includeReferenceRanges!==!1&&e.push("Reference Low","Reference High"),t.includeConfidence&&e.push("Confidence"),e}function sTe(t,e,n,r){const i=[ub(t.date,r.dateFormat),t.labName,n,String(e.value),e.unit];return r.includeReferenceRanges!==!1&&i.push(e.referenceRangeLow!==void 0?String(e.referenceRangeLow):"",e.referenceRangeHigh!==void 0?String(e.referenceRangeHigh):""),r.includeConfidence&&i.push(e.confidence!==void 0?String(e.confidence):""),i}function lTe(t,e){return t.filter(n=>!(e.startDate&&n.labResult.date<e.startDate||e.endDate&&n.labResult.date>e.endDate))}function cTe(t,e){return!e.biomarkerIds||e.biomarkerIds.length===0?t:t.filter(n=>e.biomarkerIds.includes(n.biomarkerId))}function uTe(t,e={}){const n=lTe(t,e),i=[oTe(e)];for(const a of n){const o=cTe(a.testValues,e);for(const s of o){const c=a.biomarkerNames.get(s.biomarkerId)||"Unknown",d=sTe(a.labResult,s,c,e);i.push(d)}}return i.map(a=>a.map(aTe).join(",")).join(`
`)}function dTe(t={}){let r=`hemoio-export-${ub(new Date,"iso")}`;return(t.startDate||t.endDate)&&(t.startDate&&(r+=`-from-${ub(t.startDate,"iso")}`),t.endDate&&(r+=`-to-${ub(t.endDate,"iso")}`)),`${r}.csv`}function fTe(t,e){const n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}const Ah=1;function hTe(){return"1.0.0"}function pTe(t){if(!t)return null;const{aiApiKey:e,...n}=t;return n}function ad(t){return t.toISOString()}function mTe(t){return t.map(e=>({...e,date:ad(e.date),createdAt:ad(e.createdAt),updatedAt:ad(e.updatedAt)}))}function gTe(t){return t.map(e=>({...e,createdAt:ad(e.createdAt),updatedAt:ad(e.updatedAt)}))}function vTe(t){return t.map(e=>({...e,createdAt:ad(e.createdAt),updatedAt:ad(e.updatedAt)}))}function Z7(t,e={}){const{includeSettings:n=!0,includePreferences:r=!0,prettyPrint:i=!1}=e,a={schemaVersion:Ah,exportedAt:new Date().toISOString(),appVersion:hTe(),labResults:mTe(t.labResults),testValues:gTe(t.testValues),userNotes:vTe(t.userNotes),userPreferences:r?t.userPreferences:null,settings:n?pTe(t.settings):null};return i?JSON.stringify(a,null,2):JSON.stringify(a)}function Q7(){const t=new Date,e=t.toISOString().split("T")[0],n=t.toISOString().split("T")[1].replace(/:/g,"-").split(".")[0];return`hemoio-backup-${e}-${n}.json`}function J7(t,e){const n=new Blob([t],{type:"application/json;charset=utf-8;"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}function yTe(t){return{labResultCount:t.labResults.length,testValueCount:t.testValues.length,noteCount:t.userNotes.length,hasSettings:t.settings!==null,hasPreferences:t.userPreferences!==null}}function k2(t){if(!t||typeof t!="object")return!1;const e=t;return typeof e.schemaVersion=="number"&&typeof e.exportedAt=="string"&&typeof e.appVersion=="string"&&Array.isArray(e.labResults)&&Array.isArray(e.testValues)&&Array.isArray(e.userNotes)}const pT=".hemoio",A5=".json",bTe=2,eV="hemoio-encrypted-backup";function tV(t){if(!t||typeof t!="object")return!1;const e=t;return e.type===eV&&typeof e.version=="number"&&e.version>=2&&e.encryption!==null&&typeof e.encryption=="object"&&e.encryption.algorithm==="AES-GCM"&&e.encryption.keyDerivation==="PBKDF2"&&typeof e.encryption.iterations=="number"&&typeof e.encryption.salt=="string"&&typeof e.payload=="string"}const C5=12,nV=1e5,xTe=256;async function rV(t,e){const r=new TextEncoder().encode(t),i=await crypto.subtle.importKey("raw",r,"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:e.buffer,iterations:nV,hash:"SHA-256"},i,{name:"AES-GCM",length:xTe},!1,["encrypt","decrypt"])}async function wTe(t,e){const n=V_(),r=yF(),i=await rV(e,n),o=new TextEncoder().encode(t),s=await crypto.subtle.encrypt({name:"AES-GCM",iv:r.buffer},i,o),c=new Uint8Array(r.length+s.byteLength);return c.set(r),c.set(new Uint8Array(s),r.length),{payload:xx(c.buffer),metadata:{algorithm:"AES-GCM",keyDerivation:"PBKDF2",iterations:nV,salt:G_(n)}}}async function STe(t,e,n){const r=Qk(n),i=new Uint8Array(Zk(t)),a=i.slice(0,C5),o=i.slice(C5),s=await rV(e,r);try{const c=await crypto.subtle.decrypt({name:"AES-GCM",iv:a.buffer},s,o);return new TextDecoder().decode(c)}catch{throw new Error("Unable to decrypt backup. Please check your password.")}}function ju(t){return t.toISOString()}function ATe(){return"1.0.0"}function CTe(t){return t?{storageProvider:t.storageProvider,aiProvider:t.aiProvider,aiApiKey:t.aiApiKey,language:t.language}:null}function _Te(t){return{schemaVersion:Ah,exportedAt:new Date().toISOString(),appVersion:ATe(),labResults:t.labResults.map(e=>({...e,date:ju(e.date),createdAt:ju(e.createdAt),updatedAt:ju(e.updatedAt)})),testValues:t.testValues.map(e=>({...e,createdAt:ju(e.createdAt),updatedAt:ju(e.updatedAt)})),userNotes:t.userNotes.map(e=>({...e,createdAt:ju(e.createdAt),updatedAt:ju(e.updatedAt)})),userPreferences:t.userPreferences,settings:t.settings?{storageProvider:t.settings.storageProvider,aiProvider:t.settings.aiProvider,language:t.settings.language}:null,fullSettings:CTe(t.settings)}}async function ETe(t,e){const{password:n,prettyPrint:r=!1}=e,i=_Te(t),a=r?JSON.stringify(i,null,2):JSON.stringify(i),{payload:o,metadata:s}=await wTe(a,n);return JSON.stringify({type:eV,version:bTe,encryption:s,payload:o},null,2)}function TTe(){const t=new Date,e=t.toISOString().split("T")[0],n=t.toISOString().split("T")[1].replace(/:/g,"-").split(".")[0];return`hemoio-backup-${e}-${n}${pT}`}function kTe(t,e){const n=new Blob([t],{type:"application/json;charset=utf-8;"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}function od(t){return t instanceof Date?t:new Date(t)}function PTe(t){return{...t,id:t.id,date:od(t.date),createdAt:od(t.createdAt),updatedAt:od(t.updatedAt)}}function OTe(t){return{...t,id:t.id,labResultId:t.labResultId,createdAt:od(t.createdAt),updatedAt:od(t.updatedAt)}}function DTe(t){return{...t,id:t.id,labResultId:t.labResultId,createdAt:od(t.createdAt),updatedAt:od(t.updatedAt)}}function MTe(t){return{...t}}function RTe(t){let e;try{e=JSON.parse(t)}catch{throw new Error("Invalid JSON format")}if(!k2(e))throw new Error("Invalid backup file structure");if(e.schemaVersion>Ah)throw new Error(`Backup was created with a newer version (v${e.schemaVersion}). Current version supports up to v${Ah}.`);const n=MTe(e);return{labResults:n.labResults.map(r=>PTe(r)),testValues:n.testValues.map(r=>OTe(r)),userNotes:n.userNotes.map(r=>DTe(r)),settings:n.settings,userPreferences:n.userPreferences,schemaVersion:n.schemaVersion,exportedAt:new Date(n.exportedAt)}}async function jTe(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{typeof r.result=="string"?e(r.result):n(new Error("Failed to read file as text"))},r.onerror=()=>{n(new Error("Failed to read file"))},r.readAsText(t)})}function LTe(t){if(!t.name.endsWith(".json"))return{valid:!1,error:"File must be a JSON file"};const e=50*1024*1024;return t.size>e?{valid:!1,error:"File is too large (max 50MB)"}:{valid:!0}}function NTe(t){return{labResultCount:t.labResults.length,testValueCount:t.testValues.length,noteCount:t.userNotes.length,hasSettings:t.settings!==null,hasPreferences:t.userPreferences!==null,exportedAt:t.exportedAt,schemaVersion:t.schemaVersion}}function ITe(t){try{const e=JSON.parse(t);return tV(e)?{type:"encrypted",success:!0,encryptedBackup:e}:k2(e)?{type:"standard",success:!0}:{type:"standard",success:!1,error:"Unrecognized backup file format"}}catch{return{type:"standard",success:!1,error:"Invalid JSON format"}}}function zTe(t){if(![pT,A5].some(i=>t.name.endsWith(i)))return{valid:!1,error:`File must have ${pT} or ${A5} extension`};const r=50*1024*1024;return t.size>r?{valid:!1,error:"File is too large (max 50MB)"}:{valid:!0}}async function BTe(t,e){let n;try{n=JSON.parse(t)}catch{throw new Error("Invalid backup file format")}if(!tV(n))throw new Error("Invalid encrypted backup structure");const r=await STe(n.payload,e,n.encryption.salt);let i;try{i=JSON.parse(r)}catch{throw new Error("Decrypted data is not valid JSON")}if(!k2(i))throw new Error("Invalid backup data structure");if(i.schemaVersion>Ah)throw new Error(`Backup was created with a newer version (v${i.schemaVersion}). Current version supports up to v${Ah}.`);return{labResults:i.labResults.map(a=>({...a,date:new Date(a.date),createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)})),testValues:i.testValues.map(a=>({...a,createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)})),userNotes:i.userNotes.map(a=>({...a,createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)})),settings:i.settings,userPreferences:i.userPreferences,schemaVersion:i.schemaVersion,exportedAt:new Date(i.exportedAt),fullSettings:i.fullSettings?{storageProvider:i.fullSettings.storageProvider,aiProvider:i.fullSettings.aiProvider,aiApiKey:i.fullSettings.aiApiKey,language:i.fullSettings.language}:null,wasEncrypted:!0}}function $Te(t){return{labResultCount:t.labResults.length,testValueCount:t.testValues.length,noteCount:t.userNotes.length,hasSettings:t.settings!==null||t.fullSettings!==null,hasApiKey:t.fullSettings?.aiApiKey!==void 0,hasPreferences:t.userPreferences!==null,exportedAt:t.exportedAt,schemaVersion:t.schemaVersion,wasEncrypted:t.wasEncrypted}}function FTe(t){return t<=1?"red":t<=2?"orange":t<=3?"yellow":t<=4?"lime":"green"}function UTe(t){return t/5*100}function HTe({value:t,onChange:e,confirmValue:n,onConfirmChange:r,onValidChange:i,disabled:a=!1,label:o="Backup Password",confirmLabel:s="Confirm Password",showStrengthIndicator:c=!0,minStrength:d=3}){const[f,h]=w.useState({password:!1,confirm:!1}),m=w.useMemo(()=>t?Jk(t):null,[t]);w.useEffect(()=>{if(i){const E=t===n&&t.length>0,k=m?m.score>=d:!1;i(E&&k)}},[t,n,m,d,i]);const v=w.useCallback(E=>{e(E.target.value)},[e]),b=w.useCallback(E=>{r(E.target.value)},[r]),x=w.useCallback(()=>{h(E=>({...E,password:!0}))},[]),S=w.useCallback(()=>{h(E=>({...E,confirm:!0}))},[]),A=t===n,T=f.confirm&&n.length>0&&!A;return g.jsxs(it,{gap:"sm",children:[g.jsx(Ds,{label:o,value:t,onChange:v,onBlur:x,disabled:a,required:!0,"aria-describedby":c?"password-strength":void 0}),c&&t&&m&&g.jsxs(it,{gap:"xs",id:"password-strength",children:[g.jsx(Ol,{value:UTe(m.score),color:FTe(m.score),size:"sm","aria-label":"Password strength"}),g.jsxs(Ua,{size:"xs",spacing:"xs",children:[g.jsx(Ua.Item,{icon:g.jsx(Vn,{size:16,radius:"xl",color:m.checks.minLength?"green":"gray",children:m.checks.minLength?g.jsx($n,{size:12}):g.jsx(Vi,{size:12})}),children:g.jsx(ce,{size:"xs",c:m.checks.minLength?"green":"dimmed",children:"At least 8 characters"})}),g.jsx(Ua.Item,{icon:g.jsx(Vn,{size:16,radius:"xl",color:m.checks.hasUppercase?"green":"gray",children:m.checks.hasUppercase?g.jsx($n,{size:12}):g.jsx(Vi,{size:12})}),children:g.jsx(ce,{size:"xs",c:m.checks.hasUppercase?"green":"dimmed",children:"Uppercase letter"})}),g.jsx(Ua.Item,{icon:g.jsx(Vn,{size:16,radius:"xl",color:m.checks.hasLowercase?"green":"gray",children:m.checks.hasLowercase?g.jsx($n,{size:12}):g.jsx(Vi,{size:12})}),children:g.jsx(ce,{size:"xs",c:m.checks.hasLowercase?"green":"dimmed",children:"Lowercase letter"})}),g.jsx(Ua.Item,{icon:g.jsx(Vn,{size:16,radius:"xl",color:m.checks.hasNumber?"green":"gray",children:m.checks.hasNumber?g.jsx($n,{size:12}):g.jsx(Vi,{size:12})}),children:g.jsx(ce,{size:"xs",c:m.checks.hasNumber?"green":"dimmed",children:"Number"})}),g.jsx(Ua.Item,{icon:g.jsx(Vn,{size:16,radius:"xl",color:m.checks.hasSpecial?"green":"gray",children:m.checks.hasSpecial?g.jsx($n,{size:12}):g.jsx(Vi,{size:12})}),children:g.jsx(ce,{size:"xs",c:m.checks.hasSpecial?"green":"dimmed",children:"Special character"})})]})]}),g.jsx(Ds,{label:s,value:n,onChange:b,onBlur:S,disabled:a,required:!0,error:T?"Passwords do not match":void 0})]})}function VTe({dataSources:t,onRestore:e,isProcessing:n=!1}){const[r,i]=w.useState("standard"),[a,o]=w.useState(!1),[s,c]=w.useState(""),[d,f]=w.useState(""),[h,m]=w.useState(!1),[v,b]=w.useState(!1),[x,S]=w.useState(!1),[A,T]=w.useState(null),[E,k]=w.useState(null),[D,M]=w.useState(!1),[R,N]=w.useState(""),[z,q]=w.useState(!1),[Y,K]=w.useState(null),[te,W]=w.useState(!1),[J,L]=w.useState(null),[U,F]=w.useState(null),V=w.useRef(null),G=yTe(t),$=G.labResultCount>0||G.testValueCount>0||G.noteCount>0,X=w.useCallback(async()=>{o(!0),L(null),F(null);try{const Le=Z7(t,{prettyPrint:!0}),ct=Q7();J7(Le,ct),F("Standard backup created successfully")}catch(Le){L("Failed to create backup"),console.error("Backup failed:",Le)}finally{o(!1)}},[t]),ne=w.useCallback(()=>{c(""),f(""),m(!1),b(!0)},[]),ae=w.useCallback(async()=>{if(h){b(!1),o(!0),L(null),F(null);try{const Le=await ETe(t,{password:s,prettyPrint:!1}),ct=TTe();kTe(Le,ct),F("Encrypted backup created successfully")}catch(Le){L("Failed to create encrypted backup"),console.error("Encrypted backup failed:",Le)}finally{o(!1),c(""),f("")}}},[t,s,h]),oe=w.useCallback(()=>{r==="encrypted"?ne():X()},[r,ne,X]),xe=w.useCallback(async Le=>{if(L(null),F(null),T(Le),k(null),K(null),N(""),!Le)return;const ct=zTe(Le);if(!ct.valid){const Qe=LTe(Le);if(!Qe.valid){L(ct.error||Qe.error||"Invalid file");return}}try{const Qe=await jTe(Le),He=ITe(Qe);if(!He.success){L(He.error||"Unable to read backup file");return}if(He.type==="encrypted")K(Qe),q(!0);else{const We=RTe(Qe);k(We),M(!0)}}catch(Qe){L(Qe instanceof Error?Qe.message:"Failed to read backup file")}},[]),be=w.useCallback(async()=>{if(!(!Y||!R)){W(!0),L(null);try{const Le=await BTe(Y,R);k(Le),q(!1),M(!0),K(null)}catch(Le){L(Le instanceof Error?Le.message:"Failed to decrypt backup")}finally{W(!1)}}},[Y,R]),ze=w.useCallback(async()=>{if(E){S(!0),L(null),M(!1);try{await e(E),F("Data restored successfully"),T(null),k(null),N("")}catch(Le){L(Le instanceof Error?Le.message:"Failed to restore data")}finally{S(!1)}}},[E,e]),ie=w.useCallback(()=>{M(!1),T(null),k(null),N("")},[]),se=w.useCallback(()=>{q(!1),K(null),T(null),N("")},[]),je=w.useCallback(()=>{b(!1),c(""),f("")},[]),ue=E?"wasEncrypted"in E?$Te(E):NTe(E):null,Ve=n||a||x||te;return g.jsxs(g.Fragment,{children:[g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsxs(it,{gap:"md",children:[g.jsx(Yi,{order:4,children:"Backup & Restore"}),g.jsx(ce,{size:"sm",c:"dimmed",children:"Create a backup of all your data or restore from a previous backup. Backups include lab results, test values, notes, and settings."}),J&&g.jsx(Kt,{color:"red",icon:g.jsx(la,{size:16}),onClose:()=>L(null),withCloseButton:!0,children:J}),U&&g.jsx(Kt,{color:"green",icon:g.jsx($n,{size:16}),onClose:()=>F(null),withCloseButton:!0,children:U}),g.jsx(Os,{}),g.jsxs(it,{gap:"sm",children:[g.jsx(ce,{fw:500,children:"Create Backup"}),g.jsxs(ce,{size:"sm",c:"dimmed",children:["Download a copy of all your data.",$&&g.jsxs(g.Fragment,{children:[" ","Your backup will include ",G.labResultCount," lab result",G.labResultCount!==1?"s":"",","," ",G.testValueCount," test value",G.testValueCount!==1?"s":"",", and"," ",G.noteCount," note",G.noteCount!==1?"s":"","."]})]}),!$&&g.jsx(Kt,{color:"yellow",icon:g.jsx(la,{size:16}),children:"You don't have any data to backup yet. Import some lab results first."}),g.jsxs(it,{gap:"xs",children:[g.jsx(ce,{size:"sm",fw:500,children:"Backup Type"}),g.jsx(yx,{value:r,onChange:Le=>i(Le),disabled:Ve||!$,data:[{value:"standard",label:g.jsxs(Be,{gap:"xs",children:[g.jsx(Ene,{size:16}),g.jsx("span",{children:"Standard"})]})},{value:"encrypted",label:g.jsxs(Be,{gap:"xs",children:[g.jsx(Io,{size:16}),g.jsx("span",{children:"Encrypted"})]})}],"aria-label":"Select backup type"}),g.jsx(ce,{size:"xs",c:"dimmed",children:r==="standard"?"Standard backup (.json) - Does not include API keys for security.":"Encrypted backup (.hemoio) - Password-protected, includes API keys. Can be restored on any device."})]}),g.jsx(Dt,{leftSection:r==="encrypted"?g.jsx(Io,{size:16}):g.jsx(Sx,{size:16}),onClick:oe,loading:a,disabled:!$||Ve,children:r==="encrypted"?"Create Encrypted Backup":"Create Backup"})]}),g.jsx(Os,{}),g.jsxs(it,{gap:"sm",children:[g.jsx(ce,{fw:500,children:"Restore from Backup"}),g.jsx(ce,{size:"sm",c:"dimmed",children:"Upload a backup file to restore your data. This will replace all existing data with the data from the backup. Supports both standard (.json) and encrypted (.hemoio) backups."}),g.jsx(fQ,{ref:V,value:A,onChange:xe,accept:".json,.hemoio",placeholder:"Select backup file (.json or .hemoio)",leftSection:g.jsx(pne,{size:16}),clearable:!0,disabled:Ve,"aria-label":"Select backup file to restore"})]})]})}),g.jsx(Kr,{opened:v,onClose:je,title:g.jsxs(Be,{gap:"xs",children:[g.jsx(Io,{size:20}),g.jsx("span",{children:"Set Backup Password"})]}),centered:!0,children:g.jsxs(it,{gap:"md",children:[g.jsx(Kt,{color:"blue",icon:g.jsx(Tm,{size:16}),children:"This password is used to encrypt your backup. You will need it to restore the backup on any device. The backup will include your API keys."}),g.jsx(HTe,{value:s,onChange:c,confirmValue:d,onConfirmChange:f,onValidChange:m,disabled:a,label:"Backup Password",confirmLabel:"Confirm Password",showStrengthIndicator:!0,minStrength:3}),g.jsxs(Be,{justify:"flex-end",gap:"sm",children:[g.jsx(Dt,{variant:"subtle",onClick:je,children:"Cancel"}),g.jsx(Dt,{leftSection:g.jsx(Io,{size:16}),onClick:ae,disabled:!h,loading:a,children:"Create Encrypted Backup"})]})]})}),g.jsx(Kr,{opened:z,onClose:se,title:g.jsxs(Be,{gap:"xs",children:[g.jsx(Io,{size:20}),g.jsx("span",{children:"Enter Backup Password"})]}),centered:!0,children:g.jsxs(it,{gap:"md",children:[g.jsx(Kt,{color:"blue",icon:g.jsx(Tm,{size:16}),children:"This backup is encrypted. Enter the password that was used when creating the backup."}),g.jsx(Ds,{label:"Backup Password",value:R,onChange:Le=>N(Le.target.value),disabled:te,required:!0,autoFocus:!0,onKeyDown:Le=>{Le.key==="Enter"&&R&&be()}}),g.jsxs(Be,{justify:"flex-end",gap:"sm",children:[g.jsx(Dt,{variant:"subtle",onClick:se,children:"Cancel"}),g.jsx(Dt,{onClick:be,disabled:!R,loading:te,children:"Decrypt & Continue"})]})]})}),g.jsx(Kr,{opened:D,onClose:ie,title:"Restore from Backup",centered:!0,children:g.jsxs(it,{gap:"md",children:[g.jsx(Kt,{color:"yellow",icon:g.jsx(la,{size:16}),children:"This will replace all your current data with the data from the backup. This action cannot be undone."}),ue&&g.jsx(Lt,{p:"sm",withBorder:!0,children:g.jsxs(it,{gap:"xs",children:[g.jsxs(Be,{gap:"xs",children:[g.jsx(ce,{size:"sm",fw:500,children:"Backup Contents"}),ue.wasEncrypted===!0&&g.jsx(fn,{size:"xs",color:"green",leftSection:g.jsx(Io,{size:10}),children:"Encrypted"})]}),g.jsxs(ce,{size:"sm",c:"dimmed",children:["Created: ",ue.exportedAt.toLocaleDateString()]}),g.jsxs(ce,{size:"sm",c:"dimmed",children:[ue.labResultCount," lab result",ue.labResultCount!==1?"s":"",","," ",ue.testValueCount," test value",ue.testValueCount!==1?"s":"",","," ",ue.noteCount," note",ue.noteCount!==1?"s":""]}),ue.hasApiKey===!0&&g.jsx(ce,{size:"sm",c:"green",children:g.jsxs(Be,{gap:"xs",children:[g.jsx(Tm,{size:14}),g.jsx("span",{children:"Includes API key"})]})})]})}),g.jsxs(Be,{justify:"flex-end",gap:"sm",children:[g.jsx(Dt,{variant:"subtle",onClick:ie,children:"Cancel"}),g.jsx(Dt,{color:"red",onClick:ze,loading:x,children:"Restore"})]})]})})]})}const qTe=[{value:"MM/DD/YYYY",label:"MM/DD/YYYY (US)"},{value:"DD/MM/YYYY",label:"DD/MM/YYYY (European)"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD (ISO)"}];function GTe({theme:t="system",dateFormat:e="MM/DD/YYYY",onThemeChange:n,onDateFormatChange:r,isSaving:i=!1}){const{setColorScheme:a}=J5(),[o,s]=w.useState(t),[c,d]=w.useState(e),[f,h]=w.useState(!1);w.useEffect(()=>{s(t)},[t]),w.useEffect(()=>{d(e)},[e]);const m=w.useCallback(b=>{const x=b;s(x),a(x==="system"?"auto":x),n?.(x),h(!0),setTimeout(()=>h(!1),2e3)},[n,a]),v=w.useCallback(b=>{if(!b)return;const x=b;d(x),r?.(x),h(!0),setTimeout(()=>h(!1),2e3)},[r]);return g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsxs(it,{gap:"md",children:[g.jsx(Yi,{order:4,children:"Display Preferences"}),g.jsx(ce,{size:"sm",c:"dimmed",children:"Customize how the application looks and displays information."}),f&&g.jsx(Kt,{color:"green",icon:g.jsx($n,{size:16}),children:"Preferences saved"}),g.jsxs(it,{gap:"xs",children:[g.jsx(ce,{fw:500,children:"Theme"}),g.jsx(ce,{size:"sm",c:"dimmed",children:"Choose your preferred color scheme"}),g.jsx(yx,{value:o,onChange:m,disabled:i,data:[{value:"light",label:g.jsxs(Be,{gap:"xs",wrap:"nowrap",children:[g.jsx(Vne,{size:16}),g.jsx("span",{children:"Light"})]})},{value:"dark",label:g.jsxs(Be,{gap:"xs",wrap:"nowrap",children:[g.jsx(One,{size:16}),g.jsx("span",{children:"Dark"})]})},{value:"system",label:g.jsxs(Be,{gap:"xs",wrap:"nowrap",children:[g.jsx(_F,{size:16}),g.jsx("span",{children:"System"})]})}],"aria-label":"Select theme"})]}),g.jsxs(it,{gap:"xs",children:[g.jsx(ce,{fw:500,children:"Date Format"}),g.jsx(ce,{size:"sm",c:"dimmed",children:"Choose how dates are displayed throughout the application"}),g.jsx(qo,{value:c,onChange:v,data:qTe,disabled:i,"aria-label":"Select date format"}),g.jsxs(ce,{size:"xs",c:"dimmed",children:["Example: ",YTe(c)]})]})]})})}function YTe(t){switch(t){case"MM/DD/YYYY":return"01/15/2024";case"DD/MM/YYYY":return"15/01/2024";case"YYYY-MM-DD":return"2024-01-15";default:return"01/15/2024"}}const _5=[{value:"openai",label:"OpenAI (GPT-5)",requiresApiKey:!0},{value:"anthropic",label:"Anthropic (Claude)",requiresApiKey:!0},{value:"ollama",label:"Ollama (Local)",requiresApiKey:!1}];function KTe({provider:t="openai",hasApiKey:e=!1,apiKeyLastFour:n,ollamaModel:r,openaiModel:i,anthropicModel:a,onProviderChange:o,onApiKeyChange:s,onOllamaModelChange:c,onOpenaiModelChange:d,onAnthropicModelChange:f,onTestConnection:h,isSaving:m=!1,getApiKey:v}){const[b,x]=w.useState(t),[S,A]=w.useState(""),[T,E]=w.useState(!1),[k,D]=w.useState(!1),[M,R]=w.useState(null),[N,z]=w.useState(!1),[q,Y]=w.useState("checking"),[K,te]=w.useState([]),[W,J]=w.useState(r),[L,U]=w.useState(i||""),[F,V]=w.useState(a||""),[G,$]=w.useState([]),[X,ne]=w.useState(!1),[ae,oe]=w.useState([]),[xe,be]=w.useState(!1);w.useEffect(()=>{x(t)},[t]),w.useEffect(()=>{J(r)},[r]),w.useEffect(()=>{i&&U(i)},[i]),w.useEffect(()=>{a&&V(a)},[a]),w.useEffect(()=>{if(b!=="openai"||!e||!v)return;let Je=!1;return(async()=>{ne(!0);try{const ft=await v();if(!ft||Je)return;const vt=await bre(ft);!Je&&vt.length>0&&($(vt),vt.find($e=>$e.value===L)||(U(vt[0].value),d?.(vt[0].value)))}catch(ft){console.warn("Failed to fetch OpenAI models:",ft)}finally{Je||ne(!1)}})(),()=>{Je=!0}},[b,e,L,d,v]),w.useEffect(()=>{if(b!=="anthropic"||!e||!v)return;let Je=!1;return(async()=>{be(!0);try{const ft=await v();if(!ft||Je)return;const vt=await Sre(ft);!Je&&vt.length>0&&(oe(vt),vt.find($e=>$e.value===F)||(V(vt[0].value),f?.(vt[0].value)))}catch(ft){console.warn("Failed to fetch Anthropic models:",ft)}finally{Je||be(!1)}})(),()=>{Je=!0}},[b,e,F,f,v]),w.useEffect(()=>{if(b!=="ollama")return;let Je=!1;return(async()=>{Y("checking");try{const ft=await Nm();if(Je)return;if(ft){const vt=await vl();if(Je)return;te(vt),Y("connected"),vt.length>0&&!W&&(J(vt[0]),c?.(vt[0]))}else Y("disconnected"),te([])}catch{Je||(Y("disconnected"),te([]))}})(),()=>{Je=!0}},[b,W,c]);const ze=w.useCallback(async()=>{Y("checking");try{if(await Nm()){const wt=await vl();te(wt),Y("connected"),wt.length>0&&!W&&(J(wt[0]),c?.(wt[0]))}else Y("disconnected"),te([])}catch{Y("disconnected"),te([])}},[W,c]),ie=w.useCallback(Je=>{if(!Je)return;const wt=Je;x(wt),o?.(wt),R(null),z(!0),setTimeout(()=>z(!1),2e3)},[o]),se=w.useCallback(Je=>{Je&&(J(Je),c?.(Je),z(!0),setTimeout(()=>z(!1),2e3))},[c]),je=w.useCallback(Je=>{Je&&(U(Je),d?.(Je),z(!0),setTimeout(()=>z(!1),2e3))},[d]),ue=w.useCallback(Je=>{Je&&(V(Je),f?.(Je),z(!0),setTimeout(()=>z(!1),2e3))},[f]),Ve=w.useCallback(()=>{S.trim()&&(s?.(S.trim()),A(""),E(!1),z(!0),setTimeout(()=>z(!1),2e3))},[S,s]),Le=w.useCallback(async()=>{if(h){D(!0),R(null);try{const Je=await h();R(Je?"success":"error")}catch{R("error")}finally{D(!1)}}},[h]),ct=w.useCallback(()=>{A(""),E(!1)},[]),Qe=_5.find(Je=>Je.value===b),He=Qe?.label||b,We=Qe?.requiresApiKey??!0,nt=()=>{switch(q){case"checking":return g.jsxs(Be,{gap:"xs",children:[g.jsx(Ri,{size:"xs"}),g.jsx(ce,{size:"sm",c:"dimmed",children:"Checking Ollama connection..."})]});case"connected":return g.jsxs(Be,{gap:"xs",children:[g.jsx(fn,{color:"green",leftSection:g.jsx($n,{size:12}),children:"Connected"}),g.jsxs(ce,{size:"sm",c:"dimmed",children:[K.length," model",K.length!==1?"s":""," available"]})]});case"disconnected":return g.jsxs(Kt,{variant:"light",color:"yellow",icon:g.jsx(fd,{size:16}),title:"Ollama not detected",children:[g.jsxs(ce,{size:"sm",children:["Make sure Ollama is running. Start it with: ",g.jsx("code",{children:"ollama serve"})]}),g.jsxs(ce,{size:"sm",mt:"xs",children:["If you don't have Ollama installed, visit"," ",g.jsx(dh,{href:"https://ollama.com",target:"_blank",rel:"noopener noreferrer",children:"ollama.com"})]}),g.jsx(Dt,{size:"xs",variant:"light",mt:"sm",leftSection:g.jsx(Zf,{size:14}),onClick:ze,children:"Retry Connection"})]})}};return g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsxs(it,{gap:"md",children:[g.jsx(Yi,{order:4,children:"AI Configuration"}),g.jsxs(ce,{size:"sm",c:"dimmed",children:["Configure your AI provider for document analysis."," ",We?"An API key is required to analyze lab reports.":"Ollama runs locally and does not require an API key."]}),N&&g.jsx(Kt,{color:"green",icon:g.jsx($n,{size:16}),children:"Settings saved"}),g.jsxs(it,{gap:"xs",children:[g.jsx(ce,{fw:500,children:"AI Provider"}),g.jsx(qo,{value:b,onChange:ie,data:_5,disabled:m,leftSection:b==="ollama"?g.jsx(Eb,{size:16}):g.jsx(Bte,{size:16}),"aria-label":"Select AI provider"})]}),b==="ollama"&&g.jsxs(it,{gap:"md",children:[nt(),q==="connected"&&K.length>0&&g.jsxs(it,{gap:"xs",children:[g.jsx(ce,{fw:500,children:"Model"}),g.jsx(qo,{value:W,onChange:se,data:K.map(Je=>({value:Je,label:Je})),disabled:m,"aria-label":"Select Ollama model"}),g.jsx(ce,{size:"xs",c:"dimmed",children:"Choose which model to use for lab report analysis. Different models may have varying accuracy and speed."})]}),h&&q==="connected"&&g.jsx(Me,{children:g.jsx(Dt,{variant:"subtle",size:"xs",leftSection:g.jsx(Zf,{size:14}),onClick:Le,loading:k,disabled:m,children:"Test Connection"})}),M==="success"&&g.jsx(Kt,{color:"green",icon:g.jsx($n,{size:16}),children:"Connection successful! Ollama is ready to analyze lab reports."}),M==="error"&&g.jsx(Kt,{color:"red",icon:g.jsx(la,{size:16}),children:"Connection test failed. Please check that Ollama is running."}),g.jsx(Kt,{color:"green",icon:g.jsx(Eb,{size:16}),variant:"light",children:g.jsx(ce,{size:"sm",children:"Ollama runs AI models locally on your device. Your health data never leaves your computer, providing complete privacy."})}),!MF()&&g.jsxs(Kt,{color:"orange",icon:g.jsx(fd,{size:16}),variant:"light",title:"CORS Configuration Required",children:[g.jsxs(ce,{size:"sm",children:["Since HemoIO is running from ",g.jsx("code",{children:kb()}),", your browser will block requests to Ollama on localhost due to CORS restrictions."]}),g.jsx(ce,{size:"sm",mt:"xs",fw:500,children:"To use Ollama, choose one of these options:"}),g.jsxs(ce,{size:"sm",component:"div",mt:"xs",children:[g.jsx("strong",{children:"Option 1:"})," Run HemoIO locally instead:",g.jsxs("pre",{style:{margin:"4px 0",padding:"8px",background:"var(--mantine-color-dark-7)",color:"var(--mantine-color-gray-3)",borderRadius:"4px",overflow:"auto"},children:["git clone https://github.com/djonasson/HemoIO",`
`,"npm install && npm run dev"]})]}),g.jsxs(ce,{size:"sm",component:"div",mt:"xs",children:[g.jsx("strong",{children:"Option 2:"})," Configure Ollama to allow this origin:",g.jsxs("pre",{style:{margin:"4px 0",padding:"8px",background:"var(--mantine-color-dark-7)",color:"var(--mantine-color-gray-3)",borderRadius:"4px",overflow:"auto"},children:["OLLAMA_ORIGINS=",kb()," ollama serve"]})]})]})]}),We&&e&&g.jsxs(it,{gap:"xs",children:[g.jsxs(Be,{justify:"space-between",children:[g.jsx(ce,{fw:500,children:"Model"}),(b==="openai"&&X||b==="anthropic"&&xe)&&g.jsxs(Be,{gap:"xs",children:[g.jsx(Ri,{size:"xs"}),g.jsx(ce,{size:"xs",c:"dimmed",children:"Loading models from API..."})]})]}),b==="openai"&&G.length>0||b==="anthropic"&&ae.length>0?g.jsxs(g.Fragment,{children:[g.jsx(qo,{value:b==="openai"?L:F,onChange:b==="openai"?je:ue,data:b==="openai"?G:ae,disabled:m||b==="openai"&&X||b==="anthropic"&&xe,"aria-label":`Select ${b==="openai"?"OpenAI":"Anthropic"} model`,placeholder:"Select a model",searchable:!0}),g.jsx(ce,{size:"xs",c:"dimmed",children:G.length>0||ae.length>0?`${b==="openai"?G.length:ae.length} models available from your account`:"Loading models..."})]}):!X&&!xe&&g.jsx(ce,{size:"sm",c:"dimmed",children:"No models available. Check your API key or try refreshing."})]}),We&&g.jsxs(it,{gap:"xs",children:[g.jsx(ce,{fw:500,children:"API Key"}),e&&!T?g.jsxs(Me,{children:[g.jsxs(Be,{gap:"sm",children:[g.jsx(fn,{leftSection:g.jsx(Tm,{size:12}),variant:"light",color:"green",children:"Configured"}),n&&g.jsxs(ce,{size:"sm",c:"dimmed",children:["",n]})]}),g.jsxs(Be,{gap:"sm",mt:"sm",children:[g.jsx(Dt,{variant:"subtle",size:"xs",onClick:()=>E(!0),disabled:m,children:"Update API Key"}),h&&g.jsx(Dt,{variant:"subtle",size:"xs",leftSection:g.jsx(Zf,{size:14}),onClick:Le,loading:k,disabled:m,children:"Test Connection"})]})]}):g.jsxs(it,{gap:"xs",children:[g.jsx(Ds,{value:S,onChange:Je=>A(Je.currentTarget.value),placeholder:`Enter your ${He} API key`,disabled:m,"aria-label":"API key"}),g.jsx(ce,{size:"xs",c:"dimmed",children:b==="openai"?"Get your API key from platform.openai.com":"Get your API key from console.anthropic.com"}),g.jsxs(Be,{gap:"sm",children:[g.jsx(Dt,{size:"xs",onClick:Ve,disabled:!S.trim()||m,children:"Save API Key"}),e&&g.jsx(Dt,{variant:"subtle",size:"xs",onClick:ct,disabled:m,children:"Cancel"})]})]}),M==="success"&&g.jsx(Kt,{color:"green",icon:g.jsx($n,{size:16}),children:"Connection successful! Your API key is working."}),M==="error"&&g.jsx(Kt,{color:"red",icon:g.jsx(la,{size:16}),children:"Connection failed. Please check your API key and try again."})]}),We&&g.jsx(Kt,{color:"blue",icon:g.jsx(Tm,{size:16}),variant:"light",children:g.jsx(ce,{size:"sm",children:"Your API key is stored securely on your device and is never sent to our servers. It is only used to communicate directly with your chosen AI provider."})})]})})}function WTe({targets:t,onSetTarget:e,onClearTarget:n,isSaving:r=!1}){const[i,a]=w.useState(""),[o,s]=w.useState(null),[c,d]=w.useState(""),[f,h]=w.useState(""),[m,v]=w.useState(!1),b=t.filter(D=>D.biomarkerName.toLowerCase().includes(i.toLowerCase())),x=t.filter(D=>D.personalLow!==void 0||D.personalHigh!==void 0).length,S=w.useCallback(D=>{s(D),d(D.personalLow??""),h(D.personalHigh??"")},[]),A=w.useCallback(()=>{if(!o)return;const D=c===""?void 0:c,M=f===""?void 0:f;e(o.biomarkerId,D,M),s(null),v(!0),setTimeout(()=>v(!1),2e3)},[o,c,f,e]),T=w.useCallback(D=>{n(D),v(!0),setTimeout(()=>v(!1),2e3)},[n]),E=w.useCallback(()=>{s(null),d(""),h("")},[]),k=D=>D.personalLow!==void 0||D.personalHigh!==void 0;return g.jsxs(g.Fragment,{children:[g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsxs(it,{gap:"md",children:[g.jsxs(Be,{justify:"space-between",children:[g.jsx(Yi,{order:4,children:"Personal Target Ranges"}),x>0&&g.jsxs(fn,{color:"blue",variant:"light",children:[x," custom"]})]}),g.jsx(ce,{size:"sm",c:"dimmed",children:"Set personal target ranges for biomarkers that differ from standard reference ranges. Your personal targets will be used to determine if values are within your optimal range."}),m&&g.jsx(Kt,{color:"green",icon:g.jsx($n,{size:16}),children:"Personal target saved"}),g.jsx(As,{placeholder:"Search biomarkers...",leftSection:g.jsx(sP,{size:16}),value:i,onChange:D=>a(D.currentTarget.value),"aria-label":"Search biomarkers"}),b.length===0?g.jsx(ce,{size:"sm",c:"dimmed",ta:"center",py:"md",children:"No biomarkers found matching your search."}):g.jsx(Fl,{h:400,children:g.jsxs(ht,{striped:!0,highlightOnHover:!0,children:[g.jsx(ht.Thead,{children:g.jsxs(ht.Tr,{children:[g.jsx(ht.Th,{children:"Biomarker"}),g.jsx(ht.Th,{children:"Standard Range"}),g.jsx(ht.Th,{children:"Personal Target"}),g.jsx(ht.Th,{w:100,children:"Actions"})]})}),g.jsx(ht.Tbody,{children:b.map(D=>g.jsxs(ht.Tr,{children:[g.jsxs(ht.Td,{children:[g.jsx(ce,{size:"sm",fw:500,children:D.biomarkerName}),g.jsx(ce,{size:"xs",c:"dimmed",children:D.unit})]}),g.jsx(ht.Td,{children:g.jsx(ce,{size:"sm",children:x_(D.standardLow,D.standardHigh)})}),g.jsx(ht.Td,{children:k(D)?g.jsx(fn,{color:"blue",variant:"light",leftSection:g.jsx(K_,{size:12}),children:x_(D.personalLow,D.personalHigh)}):g.jsx(ce,{size:"sm",c:"dimmed",children:"Using standard"})}),g.jsx(ht.Td,{children:g.jsxs(Be,{gap:"xs",children:[g.jsx(fi,{label:"Set personal target",children:g.jsx(Di,{variant:"subtle",onClick:()=>S(D),disabled:r,"aria-label":`Set personal target for ${D.biomarkerName}`,children:g.jsx(oP,{size:16})})}),k(D)&&g.jsx(fi,{label:"Clear personal target",children:g.jsx(Di,{variant:"subtle",color:"red",onClick:()=>T(D.biomarkerId),disabled:r,"aria-label":`Clear personal target for ${D.biomarkerName}`,children:g.jsx(_x,{size:16})})})]})})]},D.biomarkerId))})]})}),g.jsx(Kt,{color:"blue",icon:g.jsx(K_,{size:16}),variant:"light",children:g.jsx(ce,{size:"sm",children:"Personal targets help you track your health goals. When set, they will be used instead of standard reference ranges to highlight values outside your optimal range."})})]})}),g.jsx(Kr,{opened:o!==null,onClose:E,title:`Set Personal Target for ${o?.biomarkerName}`,centered:!0,children:o&&g.jsxs(it,{gap:"md",children:[g.jsxs(ce,{size:"sm",c:"dimmed",children:["Standard reference range: ",x_(o.standardLow,o.standardHigh)," ",o.unit]}),g.jsxs(Be,{grow:!0,children:[g.jsx(xl,{label:"Low Value",placeholder:"Min",value:c,onChange:D=>d(D===""?"":Number(D)),min:0,decimalScale:2,"aria-label":"Personal target low value"}),g.jsx(xl,{label:"High Value",placeholder:"Max",value:f,onChange:D=>h(D===""?"":Number(D)),min:0,decimalScale:2,"aria-label":"Personal target high value"})]}),g.jsx(ce,{size:"xs",c:"dimmed",children:"Leave a field empty to use only one bound (e.g., only set high value for values that should stay below a certain level)."}),g.jsxs(Be,{justify:"flex-end",gap:"sm",children:[g.jsx(Dt,{variant:"subtle",onClick:E,children:"Cancel"}),g.jsx(Dt,{onClick:A,disabled:c===""&&f==="",children:"Save Target"})]})]})})]})}function x_(t,e){return t===void 0&&e===void 0?"N/A":t===void 0?`< ${e}`:e===void 0?`> ${t}`:`${t} - ${e}`}function XTe({onRestore:t,isRestoring:e=!1}){const{dataSources:n,isLoading:r}=LF(),{db:i,isReady:a}=vg(),{colorScheme:o}=J5(),{hasApiKey:s,apiKeyLastFour:c,getApiKey:d,setApiKey:f,removeApiKey:h,isLoading:m}=NF(),[v,b]=w.useState("openai"),[x,S]=w.useState(),[A,T]=w.useState(),[E,k]=w.useState(),[D,M]=w.useState(!1),[R,N]=w.useState("system"),[z,q]=w.useState("MM/DD/YYYY"),[Y,K]=w.useState([]),[te,W]=w.useState(!1);w.useEffect(()=>{const oe=localStorage.getItem("hemoio_ai_provider"),xe=localStorage.getItem("hemoio_ollama_model"),be=localStorage.getItem("hemoio_openai_model"),ze=localStorage.getItem("hemoio_anthropic_model");oe&&b(oe),xe&&S(xe),be&&T(be),ze&&k(ze)},[]),w.useEffect(()=>{const oe=localStorage.getItem("hemoio_date_format");oe&&q(oe),N(o==="auto"?"system":o)},[o]),w.useEffect(()=>{async function oe(){if(!(!i||!a))try{const be=(await i.getPreferences())?.personalTargets??{},ze=ph.map((ie,se)=>{const je=be[se+1];return{biomarkerId:se+1,biomarkerName:ie.name,unit:ie.canonicalUnit,standardLow:ie.defaultReferenceRange?.low,standardHigh:ie.defaultReferenceRange?.high,personalLow:je?.low,personalHigh:je?.high}});K(ze)}catch(xe){console.error("Failed to load personal targets:",xe)}}oe()},[i,a]);const J=w.useCallback(oe=>{b(oe),localStorage.setItem("hemoio_ai_provider",oe)},[]),L=w.useCallback(async oe=>{oe?await f(oe):h()},[f,h]),U=w.useCallback(oe=>{S(oe),localStorage.setItem("hemoio_ollama_model",oe)},[]),F=w.useCallback(oe=>{T(oe),localStorage.setItem("hemoio_openai_model",oe)},[]),V=w.useCallback(oe=>{k(oe),localStorage.setItem("hemoio_anthropic_model",oe)},[]),G=w.useCallback(async()=>{M(!0);try{const oe=await d();return!(!oe||v==="openai"&&!oe.startsWith("sk-")||v==="anthropic"&&!oe.startsWith("sk-ant-"))}catch{return!1}finally{M(!1)}},[v,d]),$=w.useCallback(oe=>{N(oe),localStorage.setItem("hemoio_theme",oe)},[]),X=w.useCallback(oe=>{q(oe),localStorage.setItem("hemoio_date_format",oe)},[]),ne=w.useCallback(async(oe,xe,be)=>{if(!(!i||!a)){W(!0);try{const ze=await i.getPreferences(),se={...ze?.personalTargets??{},[oe]:{low:xe,high:be}};await i.savePreferences({unitPreferences:ze?.unitPreferences??{},personalTargets:se,theme:ze?.theme??"system"}),K(je=>je.map(ue=>ue.biomarkerId===oe?{...ue,personalLow:xe,personalHigh:be}:ue))}catch(ze){console.error("Failed to save personal target:",ze)}finally{W(!1)}}},[i,a]),ae=w.useCallback(async oe=>{if(!(!i||!a)){W(!0);try{const xe=await i.getPreferences(),be={...xe?.personalTargets??{}};delete be[oe],await i.savePreferences({unitPreferences:xe?.unitPreferences??{},personalTargets:be,theme:xe?.theme??"system"}),K(ze=>ze.map(ie=>ie.biomarkerId===oe?{...ie,personalLow:void 0,personalHigh:void 0}:ie))}catch(xe){console.error("Failed to clear personal target:",xe)}finally{W(!1)}}},[i,a]);return g.jsxs(it,{gap:"lg",children:[g.jsx(Yi,{order:2,children:"Settings"}),g.jsxs(na,{defaultValue:"data",keepMounted:!1,children:[g.jsxs(na.List,{children:[g.jsx(na.Tab,{value:"data",leftSection:g.jsx(rP,{size:16}),children:"Data"}),g.jsx(na.Tab,{value:"ai",leftSection:g.jsx(Ine,{size:16}),children:"AI Configuration"}),g.jsx(na.Tab,{value:"preferences",leftSection:g.jsx(lP,{size:16}),children:"Display"}),g.jsx(na.Tab,{value:"targets",leftSection:g.jsx(K_,{size:16}),children:"Personal Targets"})]}),g.jsx(na.Panel,{value:"data",pt:"md",children:g.jsx(it,{gap:"md",children:g.jsx(VTe,{dataSources:n,onRestore:t,isProcessing:e||r})})}),g.jsx(na.Panel,{value:"ai",pt:"md",children:g.jsx(KTe,{provider:v,hasApiKey:!m&&s,apiKeyLastFour:c,ollamaModel:x,openaiModel:A,anthropicModel:E,onProviderChange:J,onApiKeyChange:L,onOllamaModelChange:U,onOpenaiModelChange:F,onAnthropicModelChange:V,onTestConnection:G,isSaving:D,getApiKey:d})}),g.jsx(na.Panel,{value:"preferences",pt:"md",children:g.jsx(GTe,{theme:R,dateFormat:z,onThemeChange:$,onDateFormatChange:X})}),g.jsx(na.Panel,{value:"targets",pt:"md",children:g.jsx(WTe,{targets:Y,onSetTarget:ne,onClearTarget:ae,isSaving:te})})]})]})}const ZTe=[{value:"all",label:"All Time"},{value:"30",label:"Last 30 Days"},{value:"90",label:"Last 90 Days"},{value:"180",label:"Last 6 Months"},{value:"365",label:"Last Year"},{value:"custom",label:"Custom Range"}];function QTe(t){if(t==="all"||t==="custom")return null;const e=parseInt(t,10),n=new Date;return n.setDate(n.getDate()-e),n}function JTe({opened:t,onClose:e,labResultsData:n,fullDataSources:r,biomarkerOptions:i}){const[a,o]=w.useState("csv"),[s,c]=w.useState("all"),[d,f]=w.useState(null),[h,m]=w.useState(null),[v,b]=w.useState([]),[x,S]=w.useState(!0),[A,T]=w.useState(!1),E=w.useMemo(()=>s==="custom"?{start:d,end:h}:{start:QTe(s),end:null},[s,d,h]),k=n.length>0,D=w.useMemo(()=>{let N=n;E.start&&(N=N.filter(q=>q.labResult.date>=E.start)),E.end&&(N=N.filter(q=>q.labResult.date<=E.end));let z=0;for(const q of N){let Y=q.testValues;v.length>0&&(Y=Y.filter(K=>v.includes(K.biomarkerId.toString()))),z+=Y.length}return{labResults:N.length,testValues:z}},[n,E,v]),M=w.useCallback(async()=>{T(!0);try{if(a==="csv"){const N=uTe(n,{startDate:E.start??void 0,endDate:E.end??void 0,biomarkerIds:v.length>0?v.map(q=>parseInt(q,10)):void 0,includeReferenceRanges:x}),z=dTe({startDate:E.start??void 0,endDate:E.end??void 0});fTe(N,z)}else{const N=Z7(r,{prettyPrint:!0}),z=Q7();J7(N,z)}e()}catch(N){console.error("Export failed:",N)}finally{T(!1)}},[a,n,r,E,v,x,e]),R=w.useCallback(()=>{A||e()},[A,e]);return g.jsx(Kr,{opened:t,onClose:R,title:"Export Data",size:"md",centered:!0,children:g.jsxs(it,{gap:"md",children:[!k&&g.jsx(Kt,{color:"yellow",icon:g.jsx(la,{size:16}),children:"No data to export. Import some lab results first."}),g.jsx(qo,{label:"Export Format",value:a,onChange:N=>o(N),data:[{value:"csv",label:"CSV (Spreadsheet)"},{value:"json",label:"JSON (Full Backup)"}],leftSection:a==="csv"?g.jsx(lne,{size:16}):g.jsx(Ane,{size:16}),"aria-label":"Select export format"}),a==="csv"&&g.jsxs(g.Fragment,{children:[g.jsx(Os,{label:"Filter Options",labelPosition:"center"}),g.jsx(qo,{label:"Date Range",value:s,onChange:N=>c(N||"all"),data:ZTe,"aria-label":"Select date range"}),s==="custom"&&g.jsxs(Be,{grow:!0,children:[g.jsx(Yc,{label:"Start Date",value:d,onChange:N=>f(N?new Date(N):null),clearable:!0,"aria-label":"Start date"}),g.jsx(Yc,{label:"End Date",value:h,onChange:N=>m(N?new Date(N):null),clearable:!0,"aria-label":"End date"})]}),g.jsx(hx,{label:"Biomarkers",placeholder:"All biomarkers",data:i,value:v,onChange:b,clearable:!0,searchable:!0,"aria-label":"Select biomarkers to include"}),g.jsx(Mh,{label:"Include reference ranges",checked:x,onChange:N=>S(N.currentTarget.checked)})]}),a==="json"&&g.jsx(ce,{size:"sm",c:"dimmed",children:"JSON export includes all lab results, test values, notes, and settings (excluding API keys). Use this for full backup and restore."}),g.jsx(Lt,{p:"sm",withBorder:!0,children:g.jsxs(it,{gap:"xs",children:[g.jsx(ce,{size:"sm",fw:500,children:"Export Preview"}),a==="csv"?g.jsx(g.Fragment,{children:g.jsxs(ce,{size:"sm",c:"dimmed",children:[D.labResults," lab result",D.labResults!==1?"s":"",","," ",D.testValues," test value",D.testValues!==1?"s":""]})}):g.jsx(g.Fragment,{children:g.jsxs(ce,{size:"sm",c:"dimmed",children:[r.labResults.length," lab result",r.labResults.length!==1?"s":"",","," ",r.testValues.length," test value",r.testValues.length!==1?"s":"",","," ",r.userNotes.length," note",r.userNotes.length!==1?"s":""]})})]})}),g.jsxs(Be,{justify:"flex-end",gap:"sm",children:[g.jsx(Dt,{variant:"subtle",onClick:R,disabled:A,children:"Cancel"}),g.jsx(Dt,{leftSection:g.jsx(Sx,{size:16}),onClick:M,loading:A,disabled:!k,children:"Export"})]})]})})}function eke(){const t={cbc:[],metabolic:[],lipid:[],thyroid:[],iron:[],vitamin:[],urinalysis:[],fertility:[],other:[]};for(const e of ph)t[e.category].push(e);return t}function tke({onSelectBiomarker:t,selectedBiomarker:e}){const[n,r]=w.useState(""),i=w.useMemo(()=>eke(),[]),a=w.useMemo(()=>n.trim()?Jre(n):null,[n]),o=w.useCallback(c=>{t?.(c)},[t]),s=w.useMemo(()=>Object.keys(Ob).filter(c=>i[c].length>0),[i]);return g.jsxs(it,{gap:"md",children:[g.jsx(Yi,{order:2,children:"Biomarker Dictionary"}),g.jsx(ce,{c:"dimmed",size:"sm",children:"Browse and learn about different biomarkers. Click on a biomarker to see detailed information including reference ranges and what abnormal values may indicate."}),g.jsx(As,{placeholder:"Search biomarkers...",leftSection:g.jsx(sP,{size:16}),value:n,onChange:c=>r(c.currentTarget.value),"aria-label":"Search biomarkers"}),a!==null?g.jsxs(it,{gap:"xs",children:[g.jsxs(ce,{size:"sm",c:"dimmed",children:[a.length," result",a.length!==1?"s":""," found"]}),a.length===0?g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsxs(ce,{c:"dimmed",ta:"center",children:['No biomarkers found matching "',n,'"']})}):g.jsx(Fl,{h:500,children:g.jsx(it,{gap:"xs",children:a.map(c=>g.jsx(E5,{biomarker:c,isSelected:e===c.name,onClick:()=>o(c)},c.name))})})]}):g.jsx(ki,{variant:"contained",chevronPosition:"right",children:s.map(c=>g.jsxs(ki.Item,{value:c,children:[g.jsx(ki.Control,{children:g.jsxs(Be,{justify:"space-between",children:[g.jsx(ce,{fw:500,children:Ob[c]}),g.jsx(fn,{variant:"light",color:"gray",children:i[c].length})]})}),g.jsx(ki.Panel,{children:g.jsx(it,{gap:"xs",children:i[c].map(d=>g.jsx(E5,{biomarker:d,isSelected:e===d.name,onClick:()=>o(d)},d.name))})})]},c))})]})}function E5({biomarker:t,isSelected:e,onClick:n}){return g.jsx(Lt,{p:"sm",withBorder:!0,style:{cursor:"pointer",backgroundColor:e?"var(--mantine-color-blue-light)":void 0},onClick:n,role:"button",tabIndex:0,onKeyDown:r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),n())},"aria-label":`View details for ${t.name}`,"aria-selected":e,children:g.jsxs(Be,{justify:"space-between",wrap:"nowrap",children:[g.jsxs(Me,{style:{flex:1,minWidth:0},children:[g.jsxs(Be,{gap:"xs",wrap:"nowrap",children:[g.jsx(ce,{fw:500,truncate:!0,children:t.name}),t.aliases.length>0&&g.jsxs(ce,{size:"xs",c:"dimmed",truncate:!0,children:["(",t.aliases[0],")"]})]}),g.jsx(ce,{size:"xs",c:"dimmed",lineClamp:1,children:t.description})]}),g.jsx(Xte,{size:16,color:"var(--mantine-color-dimmed)"})]})})}const nke={serum:"Serum",plasma:"Plasma",urine:"Urine","urine-24h":"24h Urine","whole-blood":"Whole Blood",capillary:"Capillary",saliva:"Saliva",csf:"CSF",stool:"Stool",semen:"Semen",other:"Other"};function rke(t){return nke[t]||t}function ike({biomarker:t,onClose:e}){return g.jsx(Lt,{p:"md",withBorder:!0,children:g.jsxs(it,{gap:"md",children:[g.jsxs(Be,{justify:"space-between",align:"flex-start",wrap:"nowrap",children:[g.jsxs(Me,{style:{flex:1},children:[g.jsx(Yi,{order:3,children:t.name}),t.aliases.length>0&&g.jsxs(ce,{size:"sm",c:"dimmed",children:["Also known as: ",t.aliases.join(", ")]})]}),e&&g.jsx(zs,{onClick:e,"aria-label":"Close biomarker detail"})]}),g.jsx(Be,{gap:"xs",children:g.jsx(fn,{variant:"light",color:"blue",children:Ob[t.category]})}),t.specimenType&&g.jsxs(Be,{gap:"xs",children:[g.jsx(Cx,{size:16,style:{color:"var(--mantine-color-dimmed)"}}),g.jsxs(ce,{size:"sm",c:"dimmed",children:["Specimen: ",rke(t.specimenType)]})]}),t.loincCode&&g.jsx(Be,{gap:"xs",children:g.jsxs(ce,{size:"sm",c:"dimmed",children:["LOINC:"," ",g.jsxs(dh,{href:`https://loinc.org/${t.loincCode}`,target:"_blank",rel:"noopener noreferrer",size:"sm",children:[t.loincCode,g.jsx(ine,{size:12,style:{marginLeft:4,verticalAlign:"middle"}})]})]})}),g.jsx(Os,{}),g.jsxs(Me,{children:[g.jsx(ce,{size:"sm",fw:500,mb:"xs",children:"Description"}),g.jsx(ce,{size:"sm",children:t.description})]}),t.defaultReferenceRange&&g.jsxs(Me,{children:[g.jsx(ce,{size:"sm",fw:500,mb:"xs",children:"Reference Range"}),g.jsxs(Lt,{p:"sm",withBorder:!0,bg:"var(--mantine-color-gray-light)",children:[g.jsxs(Be,{gap:"xs",align:"center",children:[g.jsx(xne,{size:16}),g.jsxs(ce,{size:"sm",fw:500,children:[t.defaultReferenceRange.low," - ",t.defaultReferenceRange.high," ",t.defaultReferenceRange.unit]})]}),g.jsx(ce,{size:"xs",c:"dimmed",mt:"xs",children:"Standard reference range for adults. Your lab may use different ranges."})]})]}),g.jsxs(Me,{children:[g.jsx(ce,{size:"sm",fw:500,mb:"xs",children:"Units"}),g.jsxs(Be,{gap:"xs",children:[g.jsx(fn,{variant:"outline",color:"gray",children:t.canonicalUnit}),t.alternativeUnits.map(n=>g.jsx(fn,{variant:"light",color:"gray",children:n},n))]})]}),(t.highIndication||t.lowIndication)&&g.jsxs(g.Fragment,{children:[g.jsx(Os,{}),g.jsxs(Me,{children:[g.jsx(ce,{size:"sm",fw:500,mb:"xs",children:"What Abnormal Values May Indicate"}),g.jsxs(it,{gap:"sm",children:[t.highIndication&&g.jsx(Kt,{variant:"light",color:"red",icon:g.jsx(tP,{size:16}),title:"High Values",children:g.jsx(ce,{size:"sm",children:t.highIndication})}),t.lowIndication&&g.jsx(Kt,{variant:"light",color:"blue",icon:g.jsx(eP,{size:16}),title:"Low Values",children:g.jsx(ce,{size:"sm",children:t.lowIndication})})]})]})]}),g.jsx(Kt,{variant:"light",color:"gray",icon:g.jsx(iP,{size:16}),children:g.jsx(ce,{size:"xs",children:"This information is for educational purposes only. Always consult with your healthcare provider for interpretation of your lab results."})})]})})}function ake(t){if(!t)return new Date;const e=t.match(/^(\d{4})-(\d{2})-(\d{2})/);if(e)return new Date(Date.UTC(parseInt(e[1]),parseInt(e[2])-1,parseInt(e[3]),12,0,0));const n=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(n)return new Date(Date.UTC(parseInt(n[3]),parseInt(n[1])-1,parseInt(n[2]),12,0,0));const r=t.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})/);if(r)return new Date(Date.UTC(parseInt(r[3]),parseInt(r[2])-1,parseInt(r[1]),12,0,0));const i=new Date(t);return isNaN(i.getTime())?new Date:i}function oke(t){if(t.dictionaryMatch){const r=ph.findIndex(i=>i.name===t.dictionaryMatch.name);if(r>=0)return r+1}const e=Bs(t.name);if(e){const r=ph.findIndex(i=>i.name===e.name);if(r>=0)return r+1}let n=0;for(let r=0;r<t.name.length;r++){const i=t.name.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return 1e4+Math.abs(n%9e4)}function ske(t,e){const n=new Date,r=oke(t);return{labResultId:e,biomarkerId:r,value:t.value,unit:t.unit,referenceRangeLow:t.referenceRange?.low,referenceRangeHigh:t.referenceRange?.high,rawText:t.name,confidence:t.confidence,createdAt:n,updatedAt:n}}function lke(t){const e=new Date,n=ake(t.editedLabDate||t.labDate),r=t.editedLabName||t.labName||"Unknown Lab";return{date:n,labName:r,createdAt:e,updatedAt:e}}async function cke(t,e){const n=[],r=lke(t),i=await e.addLabResult(r),a=t.editedBiomarkers.map(s=>ske(s,i)),o=t.editedBiomarkers.filter(s=>!s.dictionaryMatch&&!Bs(s.name));return o.length>0&&n.push(`${o.length} biomarker(s) not found in dictionary: ${o.map(s=>s.name).join(", ")}`),a.length>0&&await e.addTestValues(a),{labResultId:i,testValueCount:a.length,warnings:n}}async function uke(t,e){const n={results:[],totalLabResults:0,totalTestValues:0,errors:[]};for(const r of t)try{const i=await cke(r,e);n.results.push(i),n.totalLabResults++,n.totalTestValues+=i.testValueCount}catch(i){const a=i instanceof Error?i.message:String(i);n.errors.push({fileName:r.fileName,error:a})}return n}const iV=[{view:"timeline",label:"Timeline",icon:g.jsx(TF,{size:20}),description:"View your lab results history"},{view:"import",label:"Import",icon:g.jsx(km,{size:20}),description:"Import new lab results"},{view:"trends",label:"Trends",icon:g.jsx(Em,{size:20}),description:"Analyze trends over time"},{view:"dictionary",label:"Biomarkers",icon:g.jsx(Mte,{size:20}),description:"Browse biomarker reference"},{view:"settings",label:"Settings",icon:g.jsx(lP,{size:20}),description:"App settings and preferences"}];function dke({children:t}){const{lock:e}=Ih(),{db:n,isReady:r}=vg(),[i,{toggle:a,close:o}]=z0(),[s,c]=w.useState("timeline"),[d,f]=w.useState(!1),[h,m]=w.useState(!1),{dataSources:v,labResultsData:b,biomarkerOptions:x,refresh:S}=LF(),A=w.useCallback(N=>{c(N),o()},[o]),T=w.useCallback(()=>{e()},[e]),E=w.useCallback(async N=>{if(!n||!r){bo.show({title:"Error",message:"Database not available. Please try again.",color:"red",icon:g.jsx(Vi,{size:16})});return}try{const z=await uke(N,n);z.errors.length>0?bo.show({title:"Import Partially Complete",message:`Saved ${z.totalLabResults} lab result(s) with ${z.totalTestValues} test value(s). ${z.errors.length} file(s) failed.`,color:"yellow",icon:g.jsx($n,{size:16})}):bo.show({title:"Import Complete",message:`Successfully saved ${z.totalLabResults} lab result(s) with ${z.totalTestValues} test value(s).`,color:"green",icon:g.jsx($n,{size:16})}),c("timeline")}catch(z){console.error("Import save error:",z),bo.show({title:"Import Failed",message:z instanceof Error?z.message:"Failed to save import results.",color:"red",icon:g.jsx(Vi,{size:16})})}},[n,r]),k=w.useCallback(()=>{c("import")},[]),D=w.useCallback(()=>{f(!0)},[]),M=w.useCallback(()=>{f(!1)},[]),R=w.useCallback(async N=>{if(!n||!r)throw new Error("Database not available");m(!0);try{await n.clearAllData();for(const K of N.labResults){const{id:te,...W}=K;await n.addLabResult(W)}const z=N.labResults,q=await n.getAllLabResults(),Y=new Map;for(let K=0;K<z.length;K++){const te=z[K],W=q.find(J=>J.date.getTime()===new Date(te.date).getTime()&&J.labName===te.labName);W&&te.id!==void 0&&Y.set(te.id,W.id)}for(const K of N.testValues){const{id:te,labResultId:W,...J}=K,L=Y.get(W);L!==void 0&&await n.addTestValue({...J,labResultId:L})}for(const K of N.userNotes){const{id:te,...W}=K;await n.addUserNote(W)}await S(),bo.show({title:"Restore Complete",message:`Restored ${N.labResults.length} lab result(s), ${N.testValues.length} test value(s), and ${N.userNotes.length} note(s).`,color:"green",icon:g.jsx($n,{size:16})}),c("timeline")}catch(z){throw console.error("Restore error:",z),bo.show({title:"Restore Failed",message:z instanceof Error?z.message:"Failed to restore data.",color:"red",icon:g.jsx(Vi,{size:16})}),z}finally{m(!1)}},[n,r,S]);return g.jsxs(g.Fragment,{children:[g.jsxs(xo,{header:{height:60},navbar:{width:260,breakpoint:"sm",collapsed:{mobile:!i}},padding:"md",children:[g.jsx(xo.Header,{children:g.jsxs(Be,{h:"100%",px:"md",justify:"space-between",children:[g.jsxs(Be,{children:[g.jsx(xk,{opened:i,onClick:a,hiddenFrom:"sm",size:"sm","aria-label":"Toggle navigation"}),g.jsx(Yi,{order:3,children:"HemoIO"})]}),g.jsxs(Be,{children:[g.jsx(fi,{label:"Export data",position:"bottom",children:g.jsx(Di,{variant:"subtle",onClick:D,"aria-label":"Export data",size:"lg",children:g.jsx(Sx,{size:20})})}),g.jsx(fi,{label:"Lock application",position:"bottom",children:g.jsx(Di,{variant:"subtle",onClick:T,"aria-label":"Lock application",size:"lg",children:g.jsx(Io,{size:20})})})]})]})}),g.jsx(xo.Navbar,{p:"md",children:g.jsxs(it,{gap:"xs",children:[iV.slice(0,4).map(N=>g.jsx(Sb,{label:N.label,description:N.description,leftSection:N.icon,active:s===N.view,onClick:()=>A(N.view),"aria-current":s===N.view?"page":void 0},N.view)),g.jsx(Os,{my:"sm"}),g.jsx(Sb,{label:"Settings",description:"App settings and preferences",leftSection:g.jsx(lP,{size:20}),active:s==="settings",onClick:()=>A("settings"),"aria-current":s==="settings"?"page":void 0})]})}),g.jsx(xo.Main,{children:t??g.jsx(fke,{view:s,onImportComplete:E,onNavigateToImport:k,onRestore:R,isRestoring:h})})]}),g.jsx(JTe,{opened:d,onClose:M,labResultsData:b,fullDataSources:v,biomarkerOptions:x})]})}function fke({view:t,onImportComplete:e,onNavigateToImport:n,onRestore:r,isRestoring:i}){const a=iV.find(d=>d.view===t),{hasApiKey:o,getApiKey:s,isLoading:c}=NF();if(t==="timeline")return g.jsx($ue,{onNavigateToImport:n});if(t==="import"){const d=localStorage.getItem("hemoio_ai_provider")||"openai";let f;d==="ollama"?f=localStorage.getItem("hemoio_ollama_model")||void 0:d==="openai"?f=localStorage.getItem("hemoio_openai_model")||void 0:d==="anthropic"&&(f=localStorage.getItem("hemoio_anthropic_model")||void 0);const h=d==="ollama"||o;return c&&d!=="ollama"?g.jsx(it,{align:"center",justify:"center",h:"50vh",gap:"md",children:g.jsx(ce,{size:"xl",fw:500,children:"Loading..."})}):h?g.jsx(kce,{aiProvider:d,getApiKey:s,aiModel:f,onComplete:e}):g.jsxs(it,{align:"center",justify:"center",h:"50vh",gap:"md",children:[g.jsx(ce,{size:"xl",fw:500,children:"AI Configuration Required"}),g.jsx(ce,{c:"dimmed",children:"Please configure your AI API key in Settings before importing lab reports."})]})}return t==="trends"?g.jsx(iTe,{onNavigateToImport:n}):t==="settings"?g.jsx(XTe,{onRestore:r,isRestoring:i}):t==="dictionary"?g.jsx(hke,{}):g.jsxs(it,{align:"center",justify:"center",h:"50vh",gap:"md",children:[g.jsx(ce,{size:"xl",fw:500,children:a?.label??"Unknown"}),g.jsx(ce,{c:"dimmed",children:a?.description??""}),g.jsx(ce,{size:"sm",c:"dimmed",children:"This view will be implemented in a future phase."})]})}function hke(){const[t,e]=w.useState(null),n=w.useCallback(i=>{e(i)},[]),r=w.useCallback(()=>{e(null)},[]);return g.jsxs(Be,{align:"flex-start",gap:"md",wrap:"nowrap",style:{height:"100%"},children:[g.jsx("div",{style:{flex:1,minWidth:0},children:g.jsx(tke,{onSelectBiomarker:n,selectedBiomarker:t?.name})}),t&&g.jsx("div",{style:{width:400,flexShrink:0},children:g.jsx(ike,{biomarker:t,onClose:r})})]})}const pke="modulepreload",mke=function(t){return"/HemoIO/"+t},T5={},gke=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");i=c(n.map(d=>{if(d=mke(d),d in T5)return;T5[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":pke,f||(m.as="script"),m.crossOrigin="",m.href=d,s&&m.setAttribute("nonce",s),document.head.appendChild(m),f)return new Promise((v,b)=>{m.addEventListener("load",v),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};function vke(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:o}=t;let s,c,d;const f=async(m=!0)=>{await c,d?.()};async function h(){if("serviceWorker"in navigator){if(s=await gke(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:m}},[]).then(({Workbox:m})=>new m("/HemoIO/sw.js",{scope:"/HemoIO/",type:"classic"})).catch(m=>{o?.(m)}),!s)return;d=()=>{s?.messageSkipWaiting()};{let m=!1;const v=()=>{m=!0,s?.addEventListener("controlling",b=>{b.isUpdate&&window.location.reload()}),n?.()};s.addEventListener("installed",b=>{typeof b.isUpdate>"u"?typeof b.isExternal<"u"&&b.isExternal?v():!m&&r?.():b.isUpdate||r?.()}),s.addEventListener("waiting",v)}s.register({immediate:e}).then(m=>{a?a("/HemoIO/sw.js",m):i?.(m)}).catch(m=>{o?.(m)})}}return c=h(),f}function yke(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:o}=t,[s,c]=w.useState(!1),[d,f]=w.useState(!1),[h]=w.useState(()=>vke({immediate:e,onOfflineReady(){f(!0),r?.()},onNeedRefresh(){c(!0),n?.()},onRegistered:i,onRegisteredSW:a,onRegisterError:o}));return{needRefresh:[s,c],offlineReady:[d,f],updateServiceWorker:h}}function bke(){const[t,e]=w.useState(!1),{needRefresh:[n,r],updateServiceWorker:i}=yke({onRegistered(c){c&&(c.update(),setInterval(()=>{c.update()},3600*1e3),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&c.update()}))},onRegisterError(c){console.error("Service worker registration error:",c)}}),a=n&&!t,o=async()=>{await i(!0),window.location.reload()},s=()=>{e(!0),r(!1)};return a?g.jsx("div",{style:{position:"fixed",bottom:20,left:"50%",transform:"translateX(-50%)",zIndex:1e3,maxWidth:400,width:"90%"},children:g.jsx(Kt,{color:"blue",title:"Update Available",withCloseButton:!0,onClose:s,closeButtonLabel:"Dismiss",icon:g.jsx(Zf,{size:20}),children:g.jsxs(Be,{mt:"sm",gap:"sm",children:[g.jsx("span",{children:"A new version of HemoIO is available."}),g.jsxs(Be,{gap:"xs",children:[g.jsx(Dt,{size:"xs",onClick:o,leftSection:g.jsx(Zf,{size:14}),children:"Update Now"}),g.jsx(Dt,{size:"xs",variant:"subtle",color:"gray",onClick:s,leftSection:g.jsx(Vi,{size:14}),children:"Later"})]})]})})}):null}function xke(){return typeof window>"u"?!1:window.matchMedia("(display-mode: standalone)").matches}function wke(){if(typeof window>"u")return!1;const t=localStorage.getItem("pwa-install-dismissed");if(t){const e=parseInt(t,10);return(Date.now()-e)/(1e3*60*60*24)<7}return!1}function Ske(){const[t,e]=w.useState(null),[n,r]=w.useState(wke),[i,a]=w.useState(xke),[o,s]=w.useState(!1);w.useEffect(()=>{if(i)return;const f=m=>{m.preventDefault(),e(m)},h=()=>{a(!0),e(null)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",h),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",h)}},[i]);const c=async()=>{if(!t){console.warn("PWA Install: No install prompt available");return}s(!0);try{await t.prompt();const{outcome:f}=await t.userChoice;f==="accepted"?(console.log("PWA Install: User accepted the install prompt"),e(null)):(console.log("PWA Install: User dismissed the install prompt"),e(null))}catch(f){console.error("PWA Install: Error showing install prompt",f),e(null)}finally{s(!1)}},d=()=>{r(!0),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return i||n||!t?null:g.jsxs(Lt,{shadow:"md",p:"md",radius:"md",withBorder:!0,style:{position:"fixed",bottom:20,left:"50%",transform:"translateX(-50%)",zIndex:1e3,maxWidth:360,width:"90%"},children:[g.jsxs(Be,{justify:"space-between",mb:"xs",children:[g.jsx(ce,{fw:500,size:"sm",children:"Install HemoIO"}),g.jsx(zs,{size:"sm",onClick:d,"aria-label":"Dismiss"})]}),g.jsx(ce,{size:"xs",c:"dimmed",mb:"sm",children:"Install the app for quick access and offline use. Your data stays private on your device."}),g.jsx(Dt,{fullWidth:!0,leftSection:g.jsx(Sx,{size:16}),onClick:c,size:"sm",loading:o,children:"Install App"})]})}function Ake(){const{status:t}=Ih();return t==="loading"?g.jsx(qa,{h:"100vh",children:g.jsxs(it,{align:"center",gap:"md",children:[g.jsx(ix,{visible:!0,overlayProps:{radius:"sm",blur:2},loaderProps:{type:"dots"}}),g.jsx(ce,{c:"dimmed",children:"Loading..."})]})}):t==="needs_setup"?g.jsx(die,{onComplete:()=>{}}):t==="locked"?g.jsx(hie,{}):g.jsx(dke,{})}function Cke(){return g.jsxs(Q5,{children:[g.jsx(ql,{position:"top-right"}),g.jsx(xte,{children:g.jsx(Ake,{})}),g.jsx(bke,{}),g.jsx(Ske,{})]})}Mq.createRoot(document.getElementById("root")).render(g.jsx(w.StrictMode,{children:g.jsx(Cke,{})}));
